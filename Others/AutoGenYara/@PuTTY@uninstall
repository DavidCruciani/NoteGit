              <uap4:InputTypes>
                <uap4:InputType SubType="30385056-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="30395056-0000-0010-8000-00AA00389B71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
                <uap4:OutputType SubType="56555949-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="4f303234-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
                <uap4:InputType SubType="56555949-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="32315659-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="32595559-0000-0010-8000-00AA00389B71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30385056-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="30395056-0000-0010-8000-00AA00389B71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="30385056-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="30395056-0000-0010-8000-00AA00389B71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
                <uap4:OutputType SubType="56555949-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="4f303234-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
                <uap4:InputType SubType="56555949-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="32315659-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="32595559-0000-0010-8000-00AA00389B71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30385056-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="30395056-0000-0010-8000-00AA00389B71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="8D2FD10B-5841-4A6B-8905-588FEC1ADED9" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="00000003-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="6F656874-0000-0010-8000-00AA00389B71" uap5:MkvCodecId="V_THEORA" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="E9A4A80A-44FE-4DE4-8971-7150B10A5199" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="0dbecec1-9eb3-4860-9c6f-ddbe86634575" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="E9A4A80A-44FE-4DE4-8971-7150B10A5199" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="0dbecec1-9eb3-4860-9c6f-ddbe86634575" />
              </uap4:OutputTypes>
        <ActivatableClass ActivatableClassId="PaintStudio.ViewElements.Behaviors.TelemetryInputTypeBehaviour" ThreadingModel="both" />
SimonTatham.PuTTY	5622
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_InputType/Description}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_InputType/HighKeywords}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_OutputType/Description}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_OutputType/HighKeywords}
	9f6755b8-4619-47b9-ba45-9cffd4df0b0aputtyputtyhttps://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531putty0,0Recherche
AAA_SystemSettings_Accessibility_Braille_Table_OutputType
AAA_SystemSettings_Accessibility_Braille_Table_InputType
lai de notification;afficher le timing du message;braille alerts;braille notification settings;change notification timeout;disable flash messages;enable flash messages;flash messages;notification timing;set notification timeout;show message timing"}},{"System.ParsingName":{"Type":12,"Value":"AAA_SystemSettings_Accessibility_Braille_Table_InputType.settingcontent-ms"},"System.Setting.FontFamily":{"Type":12,"Value":"Segoe MDL2 Assets"},"System.Setting.Glyph":{"Type":12,"Value":"
"},"System.Setting.PageID":{"Type":12,"Value":"SettingsPageEaseOfAccessNarrator"},"System.Setting.SettingID":{"Type":12,"Value":"SystemSettings_Accessibility_Braille_Table_InputType"},"System.Setting.GroupID":{"Type":12,"Value":"SettingsGroupEaseOfAccessBraille"},"System.Comment":{"Type":12,"Value":"Modifier le type de table d'entr
tres de langue braille;change language;change output language;choose language;choose output language;languages;tables;braille language settings"}},{"System.ParsingName":{"Type":12,"Value":"AAA_SystemSettings_Accessibility_Braille_Table_OutputType.settingcontent-ms"},"System.Setting.FontFamily":{"Type":12,"Value":"Segoe MDL2 Assets"},"System.Setting.Glyph":{"Type":12,"Value":"
"},"System.Setting.PageID":{"Type":12,"Value":"SettingsPageEaseOfAccessNarrator"},"System.Setting.SettingID":{"Type":12,"Value":"SystemSettings_Accessibility_Braille_Table_OutputType"},"System.Setting.GroupID":{"Type":12,"Value":"SettingsGroupEaseOfAccessBraille"},"System.Comment":{"Type":12,"Value":"Modifier le type de table de sortie en braille"},"System.HighKeywords":{"Type":12,"Value":"param
AAA_SystemSettings_Accessibility_Braille_Table_OutputType
AAA_SystemSettings_Accessibility_Braille_Table_InputType
\Device\HarddiskVolume2\Program Files\PuTTY\putty.exe
PuTTY
PuTTY
PuTTY
PuTTY
PuTTY
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputType
SystemSettings_Accessibility_Braille_Table_InputType
SystemSettings_Accessibility_Braille_Table_OutputType
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
\Device\HarddiskVolume2\Program Files\PuTTY\pageant.exe
\Device\HarddiskVolume2\Program Files\PuTTY\puttygen.exe
\Device\HarddiskVolume2\Program Files\PuTTY\psftp.exe
\Device\HarddiskVolume2\Program Files\PuTTY\putty.exe
\Device\HarddiskVolume2\Program Files\PuTTY\psftp.exe
 */!function(e){function n(n){for(var t,i,a=n[0],r=n[1],s=0,c=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&c.push(o[i][0]),o[i]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(d&&d(n);c.length;)c.shift()()}var t,i={},o={21:0};function a(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}Function.prototype.bind||(t=Array.prototype.slice,Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=t.call(arguments,1),i=n.length,o=this,a=function(){},r=function(){return n.length=i,n.push.apply(n,arguments),o.apply(a.prototype.isPrototypeOf(this)?this:e,n)};return this.prototype&&(a.prototype=this.prototype),r.prototype=new a,r}),document.head=document.head||document.getElementsByTagName("head")[0],function(){if(!window.Promise){e.all=function(t){return t&&t.length?new e((function(i,o){for(var a=[],r=0,s=0,c=t.length;s<c;++s){var d=t[s];d instanceof e?(r++,d.then(n(a,s,(function(){0==--r&&i(a)})),o)):a[s]=d}0===r&&setTimeout((function(){i(a)}),0)})):e.resolve([])},e.race=function(n){return new e((function(i,o){if(n&&n.length)for(var a=0,r=n.length;a<r;++a){var s=n[a];s instanceof e?s.then(i,o):setTimeout(t(i,s),0)}}))},e.reject=function(n){return new e((function(e,t){t(n)}))},e.resolve=function(n){return n instanceof e?n:n&&"function"==typeof n.then?new e((function(e,t){n.then(e,t)})):new e((function(e){e(n)}))},window.Promise=e}function e(n){var t=this,i=0,o=null,a=[];function r(){if(a.length>0){var e=a.slice();a=[],setTimeout((function(){for(var n=0,t=e.length;n<t;++n)e[n]()}),0)}}function s(e){0===i&&(o=e,i=1,r())}function c(e){0===i&&(o=e,i=2,r())}t.then=function(n,t){return new e((function(s,c){!function(n,t,s,c){a.push((function(){var a;try{a=1===i?"function"==typeof n?n(o):o:"function"==typeof t?t(o):o}catch(r){return void c(r)}a instanceof e?a.then(s,c):2===i&&"function"!=typeof t?c(a):s(a)})),0!==i&&r()}(n,t,s,c)}))},t["catch"]=function(e){return t.then(null,e)},function(){if("function"!=typeof n)throw new TypeError("Promise: argument is not a Function object");try{n(s,c)}catch(e){c(e)}}()}function n(e,n,t){return function(i){e[n]=i,t()}}function t(e,n){return function(){e(n)}}}(),a.e=function(e){var n=[],t=o[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise((function(n,i){t=o[e]=[n,i]}));n.push(t[2]=i);var r=window.ServerData,s=r&&r.loader&&r.loader.cdnRoots||[],c=r&&r.slMaxRetry?r.slMaxRetry:s.length-1,d=new Error;var u=function l(n,t){var i,r=document.createElement("script");r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.src=n,i=function(i){r.onerror=r.onload=null,clearTimeout(u);var a=o[e];if(0!==a)if(a)if(c<=0||t===c){var p=i&&("load"===i.type?"missing":i.type),f=i&&i.target&&i.target.src;d.message="Loading chunk "+e+" failed after "+(c+1)+" tries.\n("+p+": "+f+")",d.name="ChunkLoadError",d.type=p,d.request=f,a[1](d),o[e]=undefined}else{var g=l(function(e,n){if(!n)return e;for(var t=0;t<n.length;t++)if(0==e.indexOf(n[t]))return n[(t+1)%n.length]+e.substring(n[t].length);return e}(n,s),t+1);document.head.appendChild(g)}else o[e]=undefined};var u=setTimeout((function(){i({type:"timeout",target:r})}),12e4);return r.onerror=r.onload=i,r}(function(e){return a.p+"content/js/asyncchunk/convergedlogin_p"+({0:"aadfedconflict",1:"alt",2:"clienttracing",3:"confirmrecoveryusername",4:"confirmsend",5:"confirmsignup",6:"credentialpicker",7:"estslogin_accesspass",8:"estslogin_remoteloginpoll",9:"estslogin_searchorganization",10:"estslogin_signupusername",11:"estslogin_tenantdisambiguation",12:"fedconflict",13:"fedlink",14:"fetchsessionsprogress",15:"fido",16:"idpdisambiguation",17:"idpredirect",18:"idpredirectspeedbump",19:"learnmore",20:"learnmoreofflineaccount",22:"onetimecode",23:"password",24:"phonedisambiguation",25:"pop",26:"proofconfirmation",27:"prooffedconflict",28:"remoteconnectcanaryvalidation",29:"remoteconnectlocation",30:"remotengc",31:"resetpasswordsplitter",32:"tiles",33:"verticalsplittemplate",34:"viewagreement"}[e]||e)+"_"+{0:"09509723354b8bab4e48",1:"d7a8d70ceb1fbecf2f25",2:"2e9c3d5f3e11dc33ac8c",3:"4bd11c13d2db41e15f22",4:"b2f62caf4b0ff185f1fe",5:"69982c9ad41e73455e3a",6:"f9a86f13630e0b9738fd",7:"80ac801a492e4d67132c",8:"1db960736483318fc311",9:"e995ff00072f08a877c6",10:"0c2ead38d111463db9de",11:"d07d2ac0db6068779238",12:"2e2a1cab989aa1b1ab42",13:"ce0f4d2bd0423e563066",14:"ad2ef91103f73a52701a",15:"27195bd92eba45cbfaa0",16:"0558a0ba96cfbab890e0",17:"15ea7d212fa743bfa8dc",18:"2006ec2fde236609695a",19:"f0ef7c7087d5954ed1f1",20:"6f12385c043f54be8749",22:"720dcce33c326062387c",23:"0d14465132b2724ec529",24:"ba975fb258c78c3c9c82",25:"600795628123ce8474d8",26:"d535a34b07fb640030fa",27:"64704c7f382912d3553d",28:"cdb0b08c90d9774a4986",29:"cd4dac9d12bec7af84ab",30:"b1f47a8f2b290c2c3b55",31:"e61e29a2cc1f05540483",32:"f399e496dde13c093733",33:"732fd20bfbe6f1ac22b7",34:"0d39e963521d49649056"}[e]+".js"}(e),0);document.head.appendChild(u)}return Promise.all(n)},a.m=e,a.c=i,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)a.d(t,i,function(n){return e[n]}.bind(null,i));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="",a.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],s=r.push.bind(r);r.push=n,r=r.slice();for(var c=0;c<r.length;c++)n(r[c]);var d=s;a(a.s=57)}([function(e,n){n.UsernameMaxLength=113,n.SATOTPV1Length=6,n.SATOTPLength=8,n.PhoneNumberConfirmationLength=4,n.OneTimeCodeDefaultLength=16,n.OneTimeCodeMaxLength=7,n.PCExperienceQS="pcexp",n.PCExperienceDisabled=n.PCExperienceQS+"=false",n.NotPreferredCredentialQs="npc",n.AnimationTimeout=700,n.Regex={PhoneNumberValidation:/^[0-9 ()[\].\-#*/+]+$/},n.ProofUpRedirectLandingView={AccountCompromised:1,RiskySession:2},n.LoginMode={None:0,Login:1,ForceCredType:3,LWAConsent:4,GenericError:5,ForceSignin:6,OTS:7,HIP_Login:8,HIP_Lockout:9,InviteBlocked:10,SwitchUser:11,LWADelegation:12,ServiceBlocked:13,IDPFailed:14,StrongAuthOTC:16,StrongAuthMobileOTC:25,Finish:27,LoginWizard_Login:28,StrongAuthWABOTC:30,LoginWizard_HIP_Login:32,LoginWizard_Finish:34,LoginMobile:36,ForceSigninMobile:37,GenericErrorMobile:38,LoginHost:39,ForceSigninHost:40,GenericErrorHost:42,StrongAuthHostOTC:43,HIP_LoginHost:45,HIP_LoginMobile:46,HIP_LockoutHost:47,HIP_LockoutMobile:48,SwitchUserHost:49,LoginXbox_Login:50,HIP_LoginXbox:51,FinishXbox:52,IfExistsXbox:53,StartIfExistsXbox:54,StrongAuthXboxOTC:55,LoginWPWiz_Login:56,LoginWPWiz_HIP_Login:57,LoginWPWiz_Finish:58,StrongAuthWizOTC:59,StrongAuthWPWizOTC:60,FinishWPWiz:61,SwitchUserMobile:62,LoginWPWiz_PhoneSignIn:63,LoginWPWiz_HIP_PhoneSignIn:64,Login_PhoneSignIn:65,Login_HIP_PhoneSignIn:66,LoginHost_PhoneSignIn:67,LoginHost_HIP_PhoneSignIn:68,LoginMobile_PhoneSignIn:69,LoginMobile_HIP_PhoneSignIn:70,LoginWizard_PhoneSignIn:71,LoginWizard_HIP_PhoneSignIn:72,LoginXbox_PhoneSignIn:73,LoginXbox_HIP_PhoneSignIn:74,LoginWin10:75,HIP_LoginWin10:76,FinishWin10:77,FinishBlockedWin10:78,LoginWin10_PhoneSignIn:79,HIP_LoginWin10_PhoneSignIn:80,FinishWin10_TokenBroker:81,SwitchUserWin10:82,ForceSignInXbox:88,LoginClientSDK_Login:92,LoginClientSDK_HIP_Login:93,LoginClientSDK_Finish:94,StrongAuthClientSDKOTC:95,FinishClientSDK:96,LoginClientSDK_PhoneSignIn:97,LoginClientSDK_HIP_PhoneSignIn:98,Win10InclusiveOOBE_Finish:99,Win10InclusiveOOBE_FinishBlocked:100,Tiles:102,RemoteConnect:103,FedConflict:105,Win10Host_Login:106,Win10Host_Login_PhoneSignin:107,Win10Host_Finish:108,Win10Host_StrongAuth:109,Win10Host_HIP_Login:110,Fido:111,Win10Host_HIP_Login_PhoneSignIn:112,FedLink:113,UserCredentialPolicyBlocked:114,BindFailed:115,Win10HostOOBE_HIP_Login:116,Win10HostOOBE_HIP_Login_PhoneSignIn:117,AadFedConflict:118,ProofFedConflict:119,FedBoundLink:120,FetchSessionsProgress:121,Win10Host_TransferLogin:122,TransferLogin:123,Signup:124},n.LoginBody={Login_OTC:5},n.SessionPullFlags={Msa:1,Dsso:2},n.PaginatedState={Previous:-1,Unknown:0,Username:1,Password:2,OneTimeCode:3,RemoteNGC:4,PhoneDisambiguation:5,LwaConsent:6,IdpDisambiguation:7,IdpRedirect:8,ViewAgreement:10,LearnMore:11,Tiles:12,ConfirmSend:13,RemoteConnectCode:14,RemoteLoginPolling:15,BindRedirect:16,TermsOfUse:17,DesktopSsoProgress:18,ResetPasswordSplitter:19,Kmsi:20,CheckPasswordType:21,ChangePassword:22,Fido:23,CredentialPicker:24,Consent:25,Error:26,ConfirmSignup:27,ConfirmRecoverUsername:28,ConfirmConsentSelection:29,FedConflict:30,ProofUpRedirect:32,ProofUpRedirectLanding:33,ConditionalAccessInstallBroker:34,ConditionalAccessWorkplaceJoin:35,ConditionalAccessError:36,CreateFido:37,FedLink:38,FedLinkComplete:40,IdpRedirectSpeedbump:41,TransferLogin:42,Cmsi:43,ProofConfirmation:44,MessagePrompt:45,FinishError:46,Hip:48,LearnMoreOfflineAccount:49,TenantDisambiguation:50,AadFedConflict:51,RemoteConnectCanaryValidation:52,PartnerCanaryValidation:53,ProofFedConflict:54,FetchSessionsProgress:55,AccessPass:56,SignupUsername:57,ReportSuspiciousApp:58,MoreInfo:59,AuthenticatorAddAccountView:60,SignupCredentialPicker:61,LoginError:62,SearchOrganization:63,Ptca:64,GuestConsent:65,RemoteConnectLocation:66,AttributeCollection:67,RdpDevicePrompt:68},n.PostType={Password:11,Federation:13,SHA1:15,StrongAuth:18,StrongAuthTOTP:19,LWAConsent:30,PasswordInline:20,RemoteNGC:21,SessionApproval:22,NGC:23,OtcNoPassword:24,RemoteConnect_NativePlatform:25,OTC:27,Kmsi:28},n.UserProperty={USERNAME:"login",ERROR_CODE:"HR",ERR_MSG:"ErrorMessage",EXT_ERROR:"ExtErr",ERR_URL:"ErrUrl",DATOKEN:"DAToken",DA_SESKEY:"DASessionKey",DA_START:"DAStartTime",DA_EXPIRE:"DAExpires",STS_ILFT:"STSInlineFlowToken",SIGNINNAME:"SigninName",FIRST_NAME:"LastName",LAST_NAME:"FirstName",TILE_URL:"TileUrl",CID:"CID",PUID:"PUID"},n.Error={S_OK:"0",InvalidRealmDiscLogin:10,UsernameInvalid:1e3,PasswordEmpty:1001,HIPEmpty:1002,AltEmailInvalid:1005,PhoneInvalid:1006,SAContainsName:1007,OTCEmpty:1009,OTCInvalid:1010,NotEnoughProofs:1013,PhoneEmpty:1015,FedUser:1016,FedUserConflict:1017,FedUserInviteBlocked:1018,EmptyFields:1020,PhoneHasSpecialChars:1021,AutoVerifyNoCodeSent:1022,ProofConfirmationEmpty:1023,ProofConfirmationInvalid:1024,TOTPInvalid:1025,SessionNotApproved:1026,PhoneNumberInvalid:1027,PhoneFormattingInvalid:1028,PollingTimedOut:1029,SendNotificationFailed:1030,Server_MessageOnly:9999,PP_E_DB_MEMBERDOESNOTEXIST:"CFFFFC15",PP_E_EXCLUDED:"80041010",PP_E_MEMBER_LOCKED:"80041011",PP_E_BAD_PASSWORD:"80041012",PP_E_MISSING_MEMBERNAME:"80041031",PP_E_MISSING_PASSWORD:"80041032",PP_E_FEDERATION_INLINELOGIN_DISALLOWED:"800478AC",PP_E_PE_RULEFALSE:"8004490C",PP_E_MOBILECREDS_PHONENUMBER_BLANK:"80045801",PP_E_MOBILECREDS_PHONENUMBER_TOOSHORT:"80045806",PP_E_MOBILECREDS_PHONENUMBER_TOOLONG:"80045807",PP_E_MOBILECREDS_PHONENUMBER_INVALID:"80045800",PP_E_NAME_BLANK:"80041100",PP_E_EMAIL_INCOMPLETE:"8004110D",PP_E_EMAIL_INVALID:"8004110B",PP_E_NAME_TOO_SHORT:"80041101",PP_E_NAME_INVALID:"80041103",PP_E_INVALIDARG:"80048388",PP_E_SA_TOOSHORT:"80041120",PP_E_SA_TOOLONG:"80041121",PP_E_INVALID_PHONENUMBER:"8004113F",PP_E_SECRETQ_CONTAINS_SECRETA:"80041165",PP_E_SECRETA_CONTAINS_SECRETQ:"8004117D",PP_E_SA_CONTAINS_MEMBERNAME:"8004116A",PP_E_STRONGPROCESS_ALTEMAILSAMEASMAILBOX:"80049C2D",PP_E_EMAIL_RIGHT_TOO_LONG:"8004110C",PP_E_NAME_TOO_LONG:"80041102",PP_E_ALIAS_AUTH_NOTPERMITTED:"8004788B",PP_E_TOTP_INVALID:"80049C34",PP_E_OLD_SKYPE_PASSWORD:"80043557",PP_E_OTT_DATA_INVALID:"8004348F",PP_E_OTT_ALREADY_CONSUMED:"80043490",PP_E_OTT_INVALID_PURPOSE:"80043496",PP_E_PPSA_RPT_NOTOADDRESS:"80048120",PP_E_STRONGPROCESS_BADDEVICENAME:"80049C22",PP_E_INLINELOGIN_INVALID_SMS:"800434E1",PP_E_INLINELOGIN_INVALID_ALT:"800434E2",PP_E_PREVIOUS_PASSWORD:"80041013",PP_E_HIP_VALIDATION_WRONG:"80045505",PP_E_HIP_VALIDATION_ERROR_FATAL:"80045537",PP_E_HIP_VALIDATION_ERROR_UNAUTHENTICATED:"80045538",PP_E_HIP_VALIDATION_ERROR_OTHER:"80045539",PP_E_SQ_CONTAINS_PASSWORD:"8004341E",PP_E_SA_CONTAINS_PASSWORD:"8004341C",PP_E_SA_CONTAINED_IN_PASSWORD:"8004341D",PP_E_LIBPHONENUMBERINTEROP_NUMBERPARSE_EXCEPTION:"80043510",PP_E_STRONGPROCESS_EMAIL_HAS_MOBILE_DOMAIN:"80049C33",PP_E_STRONGPROCESS_MXALIAS_NOTALLOWED:"80049C23",PP_E_INVALID_MEMBERNAME:"80041034",PP_E_SA_TOO_MANY_CACHE_SESSIONS:"8004A00C",PP_E_INTERFACE_DISABLED:"80043448",PP_E_ASSOCIATE_DUPLICATE_ACCOUNT:"80043534",PP_E_OAUTH_REMOTE_CONNECT_USER_CODE_MISSING_OR_INVALID:"800478C7",PP_E_LOGIN_NOPA_USER_PASSWORD_REQUIRED:"800478CE",PP_E_IDP_LINKEDIN_BINDING_NOT_ALLOWED:"800478D5",PP_E_IDP_GOOGLE_BINDING_NOT_ALLOWED:"800478D6",PP_E_IDP_GITHUB_BINDING_NOT_ALLOWED:"800478D7",PP_E_IDP_BINDING_EXISTS_SAMSUNG:"8004453E"},n.EstsError={UserAccountSelectionInvalid:"16001",UserUnauthorized:"50020",UserUnauthorizedApiVersionNotSupported:"500201",UserUnauthorizedMsaGuestUsersNotSupported:"500202",UserAccountNotFound:"50034",UserAccountDeleted:"500341",UserAccountNotFoundNotConfiguredForRemoteNgc:"500342",UserAccountNotFoundFailedToCreateRemoteSignIn:"500343",UserAccountNotFoundForFidoSignIn:"500344",IdsLocked:"50053",InvalidPasswordLastPasswordUsed:"50054",InvalidPasswordExpiredPassword:"50055",InvalidPasswordNullPassword:"50056",UserDisabled:"50057",FlowTokenExpired:"50089",InvalidUserNameOrPassword:"50126",InvalidDomainName:"50128",ProtectedKeyMisuse:"50141",MissingCustomSigningKey:"50146",IdpLoopDetected:"50174",InvalidOneTimePasscode:"50181",ExpiredOneTimePasscode:"50182",OneTimePasscodeCacheError:"50183",OneTimePasscodeEntryNotExist:"50184",InvalidPassword:"50193",InvalidGrantDeviceNotFound:"700003",SsoArtifactExpiredDueToConditionalAccess:"70044",InvalidTenantName:"90002",InvalidTenantNameEmptyGuidIdentifier:"900021",InvalidTenantNameEmptyIdentifier:"900022",InvalidTenantNameFormat:"900023",PhoneSignInBlockedByUserCredentialPolicy:"130500",AccessPassBlockedByPolicy:"130502",InvalidAccessPass:"130503",AccessPassExpired:"130504",AccessPassAlreadyUsed:"130505",PublicIdentifierSasBeginCallRetriableError:"131001",PublicIdentifierAuthUserNotAllowedByPolicy:"131010",PublicIdentifierSasBeginCallNonRetriableError:"131002",PublicIdentifierSasEndCallRetriableError:"131003",PublicIdentifierSasEndCallNonRetriableError:"131004",DeviceIsDisabled:"135011",FidoBlockedByPolicy:"135016",BlockedAdalVersion:"220300",BlockedClientId:"220400",UserVoiceAuthFailedCallWentToVoicemail:"UserVoiceAuthFailedCallWentToVoicemail",UserVoiceAuthFailedInvalidPhoneInput:"UserVoiceAuthFailedInvalidPhoneInput",UserVoiceAuthFailedPhoneHungUp:"UserVoiceAuthFailedPhoneHungUp",UserVoiceAuthFailedInvalidPhoneNumber:"UserVoiceAuthFailedInvalidPhoneNumber",UserVoiceAuthFailedInvalidExtension:"UserVoiceAuthFailedInvalidExtension",InvalidFormat:"InvalidFormat",UserAuthFailedDuplicateRequest:"UserAuthFailedDuplicateRequest",UserVoiceAuthFailedPhoneUnreachable:"UserVoiceAuthFailedPhoneUnreachable",UserVoiceAuthFailedProviderCouldntSendCall:"UserVoiceAuthFailedProviderCouldntSendCall",User2WaySMSAuthFailedProviderCouldntSendSMS:"User2WaySMSAuthFailedProviderCouldntSendSMS",SMSAuthFailedProviderCouldntSendSMS:"SMSAuthFailedProviderCouldntSendSMS",User2WaySMSAuthFailedNoResponseTimeout:"User2WaySMSAuthFailedNoResponseTimeout",SMSAuthFailedNoResponseTimeout:"SMSAuthFailedNoResponseTimeout",SMSAuthFailedWrongCodeEntered:"SMSAuthFailedWrongCodeEntered",OathCodeIncorrect:"OathCodeIncorrect",OathCodeDuplicate:"OathCodeDuplicate",OathCodeOld:"OathCodeOld",PhoneAppNoResponse:"PhoneAppNoResponse",User2WaySMSAuthFailedWrongCodeEntered:"User2WaySMSAuthFailedWrongCodeEntered",PhoneAppInvalidResult:"PhoneAppInvalidResult",PhoneAppDenied:"PhoneAppDenied",PhoneAppTokenChanged:"PhoneAppTokenChanged",SMSAuthFailedMaxAllowedCodeRetryReached:"SMSAuthFailedMaxAllowedCodeRetryReached",PhoneAppFraudReported:"PhoneAppFraudReported",FraudCodeEntered:"FraudCodeEntered",UserIsBlocked:"UserIsBlocked",PhoneAppEntropyIncorrect:"PhoneAppEntropyIncorrect"},n.Fido={MaxUserPromptLength:99,FinishStates:{Success:0,Cancel:1,Error:2,NotSupported:3},UnexpectedErrorCode:9999,EdgeErrorCodes:{SyntaxError:3,NotFoundError:8,NotSupportedError:9,InvalidAccessError:15,AbortError:20}},n.IfExistsResult={Unknown:-1,Exists:0,NotExist:1,Throttled:2,Error:4,ExistsInOtherMicrosoftIDP:5,ExistsBothIDPs:6},n.ThrottleStatus={NotThrottled:0,AadThrottled:1,MsaThrottled:2},n.DomainType={Unknown:1,Consumer:2,Managed:3,Federated:4,CloudFederated:5},n.CredentialType={Password:1,RemoteNGC:2,OneTimeCode:3,Federation:4,CloudFederation:5,OtherMicrosoftIdpFederation:6,Fido:7,GitHub:8,PublicIdentifierCode:9,LinkedIn:10,RemoteLogin:11,Google:12,AccessPass:13,Facebook:14,Certificate:15,NoPreferredCredential:1e3},n.RemoteNgcType={PushNotification:1,ListSessions:3},n.SessionPollingType={Image:1,Json:2},n.AgreementType={Privacy:"privacy",Tou:"tou",Impressum:"impressum"},n.ApiErrorCodes={GeneralError:6e3,AuthFailure:6001,InvalidArgs:6002,Generic:8e3,Timeout:8001,Aborted:8002},n.DefaultRequestTimeout=3e4,PROOF={Type:{Email:1,AltEmail:2,SMS:3,DeviceId:4,CSS:5,SQSA:6,HIP:8,Birthday:9,TOTPAuthenticator:10,RecoveryCode:11,StrongTicket:13,TOTPAuthenticatorV2:14,TwoWayVoice:15,TwoWaySMS:16,FidoKey:17,Voice:-3}},n.ContentType={Json:"application/json; charset=utf-8",FormUrlEncoded:"application/x-www-form-urlencoded"},n.BindProvider={LinkedIn:0,GitHub:1,Google:2,Samsung:3,Facebook:4},n.PromotedAltCredFlags={None:0,GitHub:1,LinkedIn:2},n.EnvironmentName={Internal:1,TestSlice:2,FirstSlice:3},n.AnimationState={Begin:0,End:-1,RenderNewView:1,AnimateNewView:2},n.AnimationName={None:0,SlideOutNext:1,SlideInNext:2,SlideOutBack:3,SlideInBack:4},n.DialogId={None:0,FidoHelp:1,GitHubHelp:2,ConsentAppInfo:3},n.KeyCode={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowUp:38,ArrowDown:40,WinKeyLeft:91,F6:117,GamePadB:196},n.ProofOfPossession={AuthenticatorKey:"cpa",CanaryTokenKey:"canary",MethodHint:"cpa_method_hint"},n.UpgradeMigrationUXId={Invalid:0,Mojang:1},n.TransferLoginStringsVariant={Default:0,Mmx:1,MmxPhoneFirst:2,AppNameOnly:3,AppNameAndUsername:4},n.LayoutTemplateType={Lightbox:0,VerticalSplit:1},n.LayoutTemplateHorizontalPosition={Left:0,Center:1,Right:2},n.ProofUpRedirectViewType={DefaultProofUpRedirectView:0,AuthAppProofUpRedirectView:1}},function(e,n,t){var i=t(26),o=t(3),a=t(5),r=t(9),s=o.Object,c=o.String,d=o.Array,u=window,l=null,p={},f={},g={},h=null,m=null,v=null,b=null,_=null,y=null,w=null,S=null,C=!!u.ServerData.BT,x=null;n.HttpCode={Ok:200,NotModified:304,Timeout:408,ClientClosedRequest:499};var T=n.Helper={isIEOlderThan:function(e){if(p[e]===undefined){var n=T.getIEVersion();p[e]=n&&n<e+1}return p[e]},isEdge:function(){if(null===l){l=!1;var e=T.getWindowsVersion();if(null!==e&&e>=10){var n=T.getIEVersion();l=null!==n&&n>=12}}return l},isChrome:function(){return null===h&&(h=navigator.userAgent.toLowerCase().indexOf("chrome")>-1),h},isFirefoxNewerThan:function(e){if(f[e]===undefined){var n=T.getFirefoxVersion();f[e]=n&&n>e}return f[e]},isChromeNewerThan:function(e){if(g[e]===undefined){var n=T.getChromeVersion();g[e]=n&&n>e}return g[e]},isIOSSafari:function(){if(null===m){var e=u.navigator.userAgent.toLowerCase();m=/safari/.test(e)&&/iphone|ipod|ipad/.test(e)&&!u.MSStream}return m},isIOSUIWebView:function(){if(null===v){var e=u.navigator.userAgent.toLowerCase();v=!1===/safari/.test(e)&&/iphone|ipod|ipad/.test(e)&&!u.MSStream}return v},isQtCarBrowser:function(){return null===b&&(b=navigator.userAgent.toLowerCase().indexOf("qtcarbrowser")>-1),b},isEdgeClientBrowser:function(){return null===_&&(_=navigator.userAgent.toLowerCase().indexOf("edgeclient/")>-1),_},isOnTouchStartEventSupported:function(){return"ontouchstart"in document.documentElement},getIEVersion:function(){var e=u.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):null},getFirefoxVersion:function(){var e=u.navigator.userAgent.match(/(firefox(?=\/))\/?\s*(\d+)/i);return e&&3===e.length&&"firefox"===e[1].toLowerCase()?parseInt(e[2]):null},getChromeVersion:function(){var e=u.navigator.userAgent.match(/(chrome(?=\/))\/?\s*(\d+)/i);return e&&3===e.length&&"chrome"===e[1].toLowerCase()?parseInt(e[2]):null},getWindowsVersion:function(){return null!==new RegExp("Windows NT ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?parseFloat(RegExp.$1):null},htmlEscape:function(e){if(!e)return"";var n=document.createElement("textarea");return n.innerText=e,n.innerHTML},htmlUnescape:function(e){if(!e)return"";if(e.match(/<[^<>]+>/))return e;var n=document.createElement("textarea");return n.innerHTML=e,n.value},getStackSize:function(e){var n=0,t=null==e;try{!function i(){n++,(t||n<=e)&&i()}()}catch(i){}return n},getAnimationEndEventName:function(){var e=document.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var t in n)if(e.style[t]!==undefined)return n[t];return""},isStackSizeGreaterThan:function(e){return e=e||0,T.getStackSize(e)>e},isSvgImgSupported:function(){return null===x&&(x=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")),x},isPlaceholderAttributeAllowed:function(e){return null===w&&(w=T.isChromeNewerThan(16)||T.isEdge()||T.isFirefoxNewerThan(14)||e&&T.isIOSUIWebView()||T.isIOSSafari()||T.isQtCarBrowser()),w},isCSSAnimationSupported:function(){var e=!1,n=document.createElement("div");(e=n.style.animationName!==undefined)||(e=!!d.first(["Webkit","Moz","O"],(function(e){return n.style[e+"AnimationName"]!==undefined})));return e},isStyleSupported:function(e){return e in document.documentElement.style},isCORSSupported:function(){return u.XDomainRequest||u.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest},isHistorySupported:function(){if(null===S){if(S=u.history&&u.history.pushState&&"undefined"!=typeof u.history.state&&"undefined"!=typeof u.onpopstate)try{u.history.replaceState("__history_test",""),("__history_test"!==u.history.state||T.isEdgeClientBrowser())&&(S=!1)}catch(e){S=!1}}return S},isFidoSupportedAsync:function(e){return u.navigator.credentials!==undefined&&u.navigator.credentials.create!==undefined&&u.navigator.credentials.get!==undefined&&u.PublicKeyCredential!==undefined&&u.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable!==undefined?u.PublicKeyCredential.isExternalCTAP2SecurityKeySupported?r.newPromiseWithTimeout(u.PublicKeyCredential.isExternalCTAP2SecurityKeySupported,i.PromiseTimeout,!1):a.resolve(e):a.resolve(!1)},isChangingInputTypeSupported:function(){return!T.isIEOlderThan(9)},isHighContrast:function(){if(null===y){var e=document.createElement("span");e.style.borderLeftColor="red",e.style.borderRightColor="blue",e.style.position="absolute",e.style.top="-999px",document.body.appendChild(e);var n=T.getComputedStyle(e);y=n.borderLeftColor===n.borderRightColor,document.body.removeChild(e)}return y},getHighContrastTheme:function(){if(T.isHighContrast()){var e=document.getElementsByTagName("body")[0],n=T.getComputedStyle(e);if(n.backgroundColor){var t=n.backgroundColor.toLowerCase().replace(new RegExp(" ","g"),"");if("rgb(0,0,0)"===t||"#000000"===t||"#000"===t)return"black";if("rgb(255,255,255)"===t||"#ffffff"===t||"#fff"===t)return"white"}}},getComputedStyle:function(e){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle?e.currentStyle:{}},history:{pushState:function(e,n){T.isHistorySupported()&&u.history.pushState(e,n)},replaceState:function(e,n){T.isHistorySupported()&&u.history.replaceState(e,n)}},addEventListener:function(e,n,t,i){e.addEventListener?e.addEventListener(n,t,i):e.attachEvent&&e.attachEvent("on"+n,t)},removeEventListener:function(e,n,t,i){e.removeEventListener?e.removeEventListener(n,t,i):e.detachEvent&&e.detachEvent("on"+n,t)},getEventTarget:function(e){return e?e.target?e.target:e.srcElement?e.srcElement:null:null}},k=n.QueryString={parse:function(e){var n=e,t=null,i=null;if(e){var o=e.indexOf("?"),a=e.indexOf("#");-1!==a&&(-1===o||a<o)?(n=e.substring(0,a),i=c.doubleSplit(e.substring(a+1),"&","=")):-1!==o&&-1===a?(n=e.substring(0,o),t=c.doubleSplit(e.substring(o+1),"&","=")):-1!==o&&-1!==a&&(n=e.substring(0,o),t=c.doubleSplit(e.substring(o+1,a),"&","="),i=c.doubleSplit(e.substring(a+1),"&","="))}return{originAndPath:n,query:t,fragment:i}},join:function(e){var n=e.originAndPath||"";return e.query&&(n+="?"+s.join(e.query,"&","=")),e.fragment&&(n+="#"+s.join(e.fragment,"&","=")),n},appendCurrentQueryParameterIfNotExist:function(e){var n=k.parse(window.location.href);return s.forEach(n.query,(function(n,t){e=k.addIfNotExist(e,n,t)})),e},append:function(e,n){var t=k.parse(e),i=c.doubleSplit(n,"&","=");return t.query=t.query||{},s.forEach(i,(function(e,n){t.query[e]=n||null})),k.join(t)},addIfNotExist:function(e,n,t){t=t||"";var i=k.parse(e);return null===s.findOwnProperty(i.query||{},n,!0)&&(i.query=i.query||{},i.query[n.toLowerCase()]=t),k.join(i)},add:function(e,n){var t=k.parse(e);return e&&n&&n.length&&(t.query=t.query||{},d.forEach(n,(function(e){t.query[e[0]]=e[1]}))),k.join(t)},appendOrReplace:function(e,n,t,i){var o=k.parse(e);o.query=o.query||{};var a=s.findOwnProperty(o.query,n,!0);a&&delete o.query[a],o.query[n.toLowerCase()]=t;var r=k.join(o);return i&&r.length>i?e:r},remove:function(e,n){var t=k.parse(e);t.query=t.query||{};var i=s.findOwnProperty(t.query,n,!0);return i&&delete t.query[i],k.join(t)},extract:function(e,n){n||""===n||(n=document.location.search);var t=k.parse(n);t.query=t.query||{};var i=s.findOwnProperty(t.query,e,!0);return i?t.query[i]:""},appendOrReplaceFromCurrentUrl:function(e,n){var t=k.extract(n);return t?k.appendOrReplace(e,n,t):e},stripQueryStringAndFragment:function(e){return k.parse(e).originAndPath}},P=n.Cookies={expireDate:"Thu, 30-Oct-1980 16:00:00 GMT",persistTTLDays:390,cookieSafeRegex:/^[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]+$/,enabled:function(){var e="G"+(new Date).getTime();P.write("CkTst",e);var n=!!P.getCookie("CkTst");return P.remove("CkTst"),n},getCookie:function(e){var n=c.doubleSplit(document.cookie,";","=",!1,c.trim);return n[e]?n[e]:null},getObject:function(e){var n=P.getCookie(e)||"";return c.doubleSplit(n,"&","=")},remove:function(e,n,t){var i=n||document.location.hostname,o=i.split("."),a=o.length,r=o[a-2]+"."+o[a-1],s=t||"/",d="https:"===document.location.protocol,u=d?";secure":"",l=P.getDefaultSameSiteAttribute(d);document.cookie=c.format("{0}= ;domain=.{1};path={2};expires={3}{4}{5}",e,r,s,P.expireDate,u,l),document.cookie=c.format("{0}= ;domain=.{1};path={2};expires={3}{4}{5}",e,i,s,P.expireDate,u,l)},write:function(e,n,t,i,o,a,r,s){var c=a?".":"",d=document.domain.split(".");o&&d.splice(0,Math.max(0,d.length-2));var u=c+d.join(".");P.writeWithExpiration(e,n,t,i?P.getPersistDate():null,u,r,s)},writeWithExpiration:function(e,n,t,i,o,a,r){if(""===n)P.remove(e,o);else{"object"==typeof n&&(n=s.join(n,"&","="));var d,u=i?";expires="+i:"",l=o?";domain="+o:"",p=a||"/",f=t?";secure":"";d=r&&"none"!==r.toLowerCase()?";SameSite="+r:P.getDefaultSameSiteAttribute(t);var g=c.format("{0}={1}{2};path={3}{4}{5}{6}",e,n,l,p,u,f,d);document.cookie=g}},isCookieSafeValue:function(e){return P.cookieSafeRegex.test(e)},getDefaultSameSiteAttribute:function(e){return e&&C?";SameSite=None":""},getPersistDate:function(){var e=new Date;return e.setDate(e.getDate()+P.persistTTLDays),e.toUTCString()}}},function(e,n,t){var i=window,o=i.document.documentMode,a=i.navigator;!function(){var n=null,r=a.userAgent,s=null,c=r.match(/MSIE ([^ ]+)/);if(c&&(n=parseInt(c[1])),"function"==typeof i.Symbol&&r.match(/AppleWebKit\/601/)&&(i.Symbol=null),n&&o&&n!==o&&Object.defineProperty)try{Object.defineProperty(a,"userAgent",{get:function(){return s}}),s=r.replace(/MSIE [^ ]+/,"MSIE "+o+".0"),e.exports=t(16),s=r}catch(d){e.exports=t(16)}else e.exports=t(16)}()},function(e,n,t){var i=t(2),o=t(11),a=t(61),r=window,s=n.Object={clone:function(e){var n={};return e&&(n=o.parse(o.stringify(e))),n},join:function(e,n,t){var i="";return e&&s.forEach(e,(function(e,o){i&&(i+=n),i+=e+t+(o||"")})),i},forEach:function(e,n){i.utils.objectForEach(e,n)},findOwnProperty:function(e,n,t){var i;for(var o in t&&(i=n.toLowerCase()),e)if(e.hasOwnProperty(o)&&(o===n||t&&o.toLowerCase()===i))return o;return null},extend:i.utils.extend},c=n.String={trim:function(e){return e.replace(/^\s+|\s+$/g,"")},find:function(e,n,t,i){return e?t?e.toLowerCase().indexOf(n.toLowerCase(),i):e.indexOf(n,i):-1},format:a.format,doubleSplit:function(e,n,t,i,o){var a={};return e&&d.forEach(e.split(n),(function(e){if(e){var n=e.split(t),r=n[0];o&&(r=o(r)),1===n.length?a[r]=null:a[r]=i?n.slice(1):n.slice(1).join(t)}})),a},isEmailAddress:function(e){if((e=c.trim(e)).charAt(0)>"~"||-1!==e.indexOf(" "))return!1;var n=e.indexOf("@");if(-1===n||-1===e.indexOf(".",n))return!1;var t=e.split("@");if(t.length>2||t[0].length<1||t[1].length<2)return!1;if(r.ServerData.ar){var i=new RegExp(/^[\x21-\x7E]+$/);return!!e.match(i)}return!0},isPhoneNumber:function(e){var n=e.replace(/\D+/g,"");return n.length>=4&&n.length<=50},isSkypeName:function(e){e=c.trim(e);var n=new RegExp(/^[a-zA-Z][a-zA-Z0-9.,\-_:']{0,128}$/);return!!e.match(n)},extractDomain:function(e,n,t){if(!c.isEmailAddress(e))return e;var i=c.trim(e).split("@")[1];return e=t?"@":"",n?e+i.slice(0,i.lastIndexOf(".")+1):e+i},extractDomainFromUrl:function(e){if(e){var n=document.createElement("a");return n.href=e,n.hostname}return""},extractOriginFromUrl:function(e){if(e){var n=document.createElement("a");n.href=e;var t=n.origin;return t||(t=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")),t}return""},doOriginsMatch:function(e,n){var t=c.extractOriginFromUrl(e);return c.extractOriginFromUrl(n)===t},capFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},cleanseUsername:function(e,n){if(!e)return"";if(e=c.trim(e).toLowerCase(),!c.isEmailAddress(e)&&!c.isSkypeName(e)&&c.isPhoneNumber(e)){var t="";return n&&"+"===e.charAt(0)&&(t="+"),t+e.replace(/\D+/g,"")}return e},maskString:function(e,n){if(!e)return"";if(e.length<=2*n)return e;var t=e.length-2*n,i=Array(t+1).join("*");return e.substring(0,n)+i+e.substring(n+t)}},d=n.Array={first:i.utils.arrayFirst,forEach:i.utils.arrayForEach,map:i.utils.arrayMap,removeItem:i.utils.arrayRemoveItem,arrayFilter:i.utils.arrayFilter,findIndex:function(e,n){if(e&&"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}};n.DateTime={getCurrentTime:function(){return(new Date).getTime()},getUTCString:function(){return Date.prototype.toISOString?(new Date).toISOString():(new Date).toUTCString()}},n.ErrorData=function(e,n){var t=this;t.errorText=e,t.remediationText=n,t.toString=function(){return t.errorText}}},function(e,n,t){var i=t(2);n.create=function(e){var n,t=!1;function o(){return t=!0,o.eventArgs(Array.prototype.slice.call(arguments)),n}return o.eventArgs=i.observable().extend({notify:"always"}),o.tracingOptions=e,o.subscribe=function(e){o.eventArgs.subscribe((function(t){n=e(t)})),t&&(n=e(o.eventArgs.peek()))},o},n.isComponentEvent=function(e){return e&&i.isObservable(e.eventArgs)}},function(e,n,t){var i=window;e.exports=i.Promise},function(e,n){n.Tokens={Username:"#~#MemberName_LS#~#"},n.Fed={DomainToken:"#~#partnerdomain#~#",FedDomain:"#~#FederatedDomainName_LS#~#",Partner:"#~#FederatedPartnerName_LS#~#"},n.LoginOption={DoNotRemember:0,RememberPWD:1,NothingChecked:3},n.StringsVariantId={Default:0,SkypeMoveAlias:1,CombinedSigninSignup:2,CombinedSigninSignupDefaultTitle:3,RemoteConnectLogin:4,CombinedSigninSignupV2:5,CombinedSigninSignupV2WelcomeTitle:6},n.AllowedIdentitiesType={MsaOnly:0,AadOnly:1,Both:2},n.SessionIdp={Aad:0,Msa:1},n.ClientTracingEventIds={Event_LoginPaginatedUsernameView_onLoad:11e4,Event_LoginPaginatedPasswordView_onLoad:110001,ComponentEvent_LoginPaginatedUsernameView_onShowDialog:12e4,ComponentEvent_LoginPaginatedUsernameView_onAgreementClick:120001,ComponentEvent_LoginPaginatedPasswordView_onResetPassword:120100,PropertyValue_LoginPaginatedPageView_IsFidoSupported:14e4,PropertyValue_LoginPaginatedUsernameView_Username:140100,PropertyValue_LoginPaginatedUsernameView_ClientError:140101,PropertyValue_LoginPaginatedPasswordView_Password:140200,PropertyValue_LoginPaginatedPasswordView_ClientError:140201,PropertyValue_LoginPaginatedPasswordView_KMSI:140202}},function(e,n){n.EventIds={Unknown:0,Event_PaginationControl_ViewSwitch:1e4,Api_GetOneTimeCode:2e4,Api_GetOneTimeToken:20001,Api_CanaryValidation:20002,Api_GetCustomCss:20003,Api_GetCredentialType:20004,Api_CheckSessionState:20005,Api_GetIwaSsoToken:20006,Api_OtcAuthentication:20007,Api_DeviceAuthentication:20008,Api_BeginOtcAuthentication:20009,Api_ConfirmOneTimeCode:20010,Api_BeginSessionApproval:20011,Api_EndSessionApproval:20012,Api_Forget:20013,Redirect_Unknown:4e4,Redirect_MSASignUpPage:40001,Redirect_AADSignUpPage:40002,Redirect_SkipZeroTouch:40003,Redirect_ResetPasswordPage:40004,Redirect_MSAUserRecoveryPage:40005,Redirect_OtherIdpRedirection:40006,Redriect_SwitchUser:40007},n.EventLevel={None:0,Critical:1,Info:2,ApiRequest:4,CXH:8,Debug:16,Verbose:32,All:65535},n.HidingMode={None:0,Hide:1,Mask:2},n.DataPointScope={ClientEvent:1,Global:2},n.EventStage={None:0,Begin:1,End:2}},function(e,n,t){var i=t(2),o=t(1),a=window,r=o.Helper;function s(e,n,t){var i=this,o=e.hasDarkBackground;i.isHighContrastBlackTheme=!1,i.isHighContrastWhiteTheme=!1,i.hasDarkBackground=o,i.lightImageNode=n,i.darkImageNode=t,function(){if(r.isHighContrast()){var e=r.getHighContrastTheme();i.isHighContrastBlackTheme="black"===e,i.isHighContrastWhiteTheme="white"===e}}()}i.components.register("accessible-image-control",{viewModel:{createViewModel:function(e,n){var t=i.utils.arrayFilter(n.templateNodes,(function(e){return 1===e.nodeType}));return new s(e,t[0],t[1])}},template:t(281),synchronous:!a.ServerData.A||o.Helper.isStackSizeGreaterThan(a.ServerData.A)}),e.exports=s},function(e,n,t){var i=t(5);n.throwUnhandledExceptionOnRejection=function(e){e["catch"]((function(e){var n=e;e instanceof Error||(n=new Error("Unhandled Promise rejection: "+e)),setTimeout((function(){throw n}),0)}))},n.newPromiseWithTimeout=function(e,n,t){return new i((function(o,a){i.resolve(e()).then(o,a),setTimeout((function(){o(t)}),n)}))}},function(e,n,t){var i=t(2),o=t(3),a=t(1),r=t(0),s=t(65),c=t(73),d=t(194),u=a.Helper,l=o.String,p=r.LayoutTemplateType,f=r.LayoutTemplateHorizontalPosition,g={loadTenantBranding:function(e){var n={};if(e){var t=e[0]||{},o=e[1]||{};i.utils.arrayForEach(["BoilerPlateText","UserIdLabel","TileLogo","TileDarkLogo","BannerLogo","BackgroundColor","Illustration","KeepMeSignedInDisabled","UseTransparentLightBox","CustomCss","LayoutTemplateConfig","HeaderLogo","AccessRecoveryLink","FooterTOULink","FooterTOUText","FooterPrivacyLink","FooterPrivacyText"],(function(e){n[e]=o[e]||t[e]||""})),n.TileDarkLogo||(n.TileDarkLogo=n.TileLogo)}return n},getPageBranding:function(e,n,t){var i={useDefaultBackground:!1};if(e&&(i.bannerLogoUrl=e.BannerLogo),e&&(e.BackgroundColor||e.Illustration))i.color=e.BackgroundColor,i.backgroundImageUrl=e.Illustration,i.useTransparentLightBox=e.UseTransparentLightBox,i.useImageMask=!0;else if(n&&(n.backgroundImageIndex>=0||n.backgroundLogoIndex>=0||n.backgroundColor||n.friendlyAppName))n.backgroundImageIndex>=0&&(i.backgroundImageUrl=c(l.format("./{0}.jpg",n.backgroundImageIndex)),u.isStyleSupported("backgroundSize")&&(i.smallImageUrl=c(l.format("./{0}-small.jpg",n.backgroundImageIndex)))),n.backgroundLogoIndex>=0&&(i.backgroundLogoUrl=d(l.format("./{0}.png",n.backgroundLogoIndex))),i.color=n.backgroundColor,i.friendlyAppName=n.friendlyAppName;else if(n&&n.urlLegacyBackgroundLogo)i.backgroundLogoUrl=n.urlLegacyBackgroundLogo;else if(t>=0){var o=u.isSvgImgSupported();i.backgroundImageUrl=s(l.format("./{0}.{1}",t,o?"svg":"jpg")),!o&&u.isStyleSupported("backgroundSize")&&(i.smallImageUrl=s(l.format("./{0}-small.jpg",t))),i.useDefaultBackground=!0}return i},getMergedBranding:function(e,n,t){var i;return t?i=n:(i=e,n&&(n.BannerLogo&&(i.BannerLogo=n.BannerLogo),n.BoilerPlateText&&(i.BoilerPlateText=n.BoilerPlateText),n.KeepMeSignedInDisabled&&(i.KeepMeSignedInDisabled=n.KeepMeSignedInDisabled),e.CustomCss!==n.CustomCss&&(i.CustomCss=null))),i},getLayoutTemplateConfig:function(e){var n=e.LayoutTemplateConfig;return n&&n!=={}?n:{showHeader:!1,layoutType:p.Lightbox,horizontalPosition:f.Center,hideAccessRecovery:!1,hideSignInOptions:!1,showFooter:!0,hideTOU:!1,hidePrivacy:!1}}};e.exports=g},function(module,exports){var JSON;JSON||(JSON={}),function(){"use strict";var global=Function("return this")(),JSON=global.JSON;function f(e){return e<10?"0"+e:e}JSON||(JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var n=meta[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,n){var t,i,o,a,r,s=gap,c=n[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(n,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(c)){for(a=c.length,t=0;t<a;t+=1)r[t]=str(t,c)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(a=rep.length,t=0;t<a;t+=1)"string"==typeof rep[t]&&(o=str(i=rep[t],c))&&r.push(quote(i)+(gap?": ":":")+o);else for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(o=str(i,c))&&r.push(quote(i)+(gap?": ":":")+o);return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,o}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,n,t){var i;if(gap="",indent="","number"==typeof t)for(i=0;i<t;i+=1)indent+=" ";else"string"==typeof t&&(indent=t);if(rep=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,n){var t,i,o=e[n];if(o&&"object"==typeof o)for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&((i=walk(o,t))!==undefined?o[t]=i:delete o[t]);return reviver.call(e,n,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),global.JSON=JSON,module.exports=JSON}()},function(e,n,t){var i=t(7),o=t(22),a=t(3),r=t(5);function s(e){var n,s=this,c=a.DateTime.getCurrentTime(),d=e&&e.au&&e.Ai,u=null;function l(e){return function(){if(u)return u[e].apply(u,arguments)}}s.createLoadClientTracingPromise=function(){return new r((function(n){d&&!u?t.e(2).then(function(){var i=t(410).getInstance(e,c);u||(u=i),n()}.bind(null,t))["catch"](t.oe):n()}))},s.logRedirection=function(e,n){var t=e,i=null;return e&&"string"!=typeof e?(t=e.url,i=e.eventOptions,n=e.traceParameters?n:null,e.traceUrl&&(n?n.url=t:n=t)):n=null,i&&i.eventId&&s.logEvent({eventType:"onRedirect",eventId:i.eventId,eventLevel:i.eventLevel,eventArgs:n,eventOptions:i}),t},s.getPropertyLogOption=function(e,n){return(n=n||{}).hasOwnProperty("tracingPropertyChange")||(n.tracingPropertyChange=!0),n.eventLevel=n.eventLevel||i.EventLevel.Info,{viewModel:e,tracingOptions:n}},s.getDefaultTextBoxPropertyLogOption=function(e,n){return(n=n||{}).hasOwnProperty("hidingMode")||(n.hidingMode=i.HidingMode.None),n.rateLimit={method:"notifyWhenChangesStop"},s.getPropertyLogOption(e,n)},s.getPIITextBoxPropertyLogOption=function(e,n){return(n=n||{}).hidingMode=i.HidingMode.Mask,s.getDefaultTextBoxPropertyLogOption(e,n)},s.getPasswordTextBoxPropertyLogOption=function(e,n){return(n=n||{}).hidingMode=i.HidingMode.Hide,s.getDefaultTextBoxPropertyLogOption(e,n)},s.getDefaultEventTracingOptions=function(e,n,t){return{eventId:e,eventLevel:t||i.EventLevel.Info,hidingMode:n?i.HidingMode.None:i.HidingMode.Hide}},s.attachViewLoadClientTracingOptions=(n="attachViewLoadClientTracingOptions",function(){if(o)return o[n].apply(o,arguments)}),s.logEvent=l("logEvent"),s.traceBeginRequest=l("traceBeginRequest"),s.traceEndRequest=function(e,n,t,i,o){u?u.traceEndRequest(e,n,t,i,o):o&&o()},s.setPageViewModel=l("setPageViewModel"),s.logComponentEvent=l("logComponentEvent"),s.logViewState=l("logViewState"),s.setViewViewModel=l("setViewViewModel"),s.switchView=l("switchView"),s.postEvent=l("postEvent")}var c=null;n.getInstance=function(e){return c=c||new s(e)}},function(e,n,t){var i=t(11),o=t(21),a=t(0),r=t(3),s=t(1),c=t(12).getInstance(window.ServerData),d=t(7),u=window,l=u.$Config||u.ServerData||{},p=r.Object,f=s.QueryString;e.exports=function(e){var n=this,t=!1!==(e=e||{}).checkApiCanary,r=e.withCredentials||!1,s=e.breakCache||!1,u=e.responseType||"",g=e.notifyOnClientAbort||!1;function h(e){var n={hpgid:l.hpgid||0,hpgact:l.hpgact||0};return e||(n.Accept="application/json",t&&l.apiCanary&&(n.canary=l.apiCanary)),l.K&&(n["client-request-id"]=l.K),l.sessionId&&(n.hpgrequestid=l.sessionId),n}function m(e){var n=e;if(e&&"string"!=typeof e){var t={};p.forEach(e,(function(e,n){"unsafe_"===e.substr(0,7)&&(e=e.substr(7)),t[e]=n})),n=i.stringify(t)}return n&&(n=n.replace(/\?/g,"\\u003F")),n}function v(e){e.headers=h(),e.withCredentials=r,e.breakCache=s,e.responseType=u}function b(e,n,t,i,o,a){var r=null;if(n){var s=n.eventOptions||{};if(s.eventId=n.eventId||s.eventId,s.hasOwnProperty("hidingMode")||(s.hidingMode=d.HidingMode.None),s.eventId){(r={}).eventType=t,r.eventId=s.eventId,r.eventLevel=s.eventLevel||d.EventLevel.ApiRequest;var u={};u.requestTimeout=i,o&&(u.contentType=o),u.requestType=t,a&&(u.noCallback=!0),r.eventArgs=u,r.eventOptions=s,c.traceBeginRequest(e,r)}}e.eventData=r}function _(e,n,t,i,o){c.traceEndRequest(e,n,t,i,o)}function y(e,n){var t={};return e&&(t.xhr_status=e.status),t.textStatus=n,t}n.Errors=[],n.Json=function(e,o,r,s,c){var d=!(!r&&!s),u=(new Date).getTime(),p=e.url;function f(e){var t,o=(e=e||{}).error||null,a={startTime:u,endTime:(new Date).getTime()};if(e.apiCanary&&(l.apiCanary=e.apiCanary,delete e.apiCanary),o){t=(t=o.stackTrace)&&t.encodeJson?t.encodeJson():"";var c=i.stringify({code:o.code,message:o.message,debug:o.debugMessage,stacktrace:t,requestUrl:p});n.Errors.push(c),n.Errors.length>100&&n.Errors.shift(),(8002!==o.code||g)&&s&&s(e,a)}else r&&r(e,a)}if(t&&!l.apiCanary)return setTimeout((function(){f({error:{code:8002,message:"Request Failed!",isFatal:!0}})}),0),null;var h=m(o);n.Post(e,a.ContentType.Json,h,(function(e,n){d&&f(i.parse(n))}),(function(e,n,t,o){d&&f(function(e,n){var t={};if(500===e.status)try{t=i.parse(e.responseText)||{}}catch(s){}if(!t.error){var o=!1,a=8e3,r="Request Failed -- No Response from Server";switch(n){case"timeout":a=8001,r="Timeout Error",o=!0;break;case"abort":a=8002,r="Aborted";break;case"error":e.status>=400&&(o=!0);break;case"parsererror":r="Unable to parse response",o=!0}t.error={code:a,message:r,debugMessage:"(xhr status "+e.status+") xhr.responseText: "+e.responseText,stackTrace:"",isFatal:o}}return t}(n,t))}),c)},n.Post=function(e,t,i,a,r,s){var c=e.url,d={},u=!1;a||r||(u=!0),b(d,e,o.RequestType.Post,s,t,u);var l={targetUrl:c,contentType:t,data:i,requestType:o.RequestType.Post,timeout:s||3e4,successCallback:function(e,n){_(d,"Success",n,!0,(function(){a&&a(e,n)}))},failureCallback:function(e,n,t){_(d,"Failed",y(n,t),!1,(function(){r&&r(e,n,t)}))},timeoutCallback:function(e,n,t){_(d,"Timeout",y(n,t),!1,(function(){r&&r(e,n,t)}))}};v(l),o.Handler.call(n,l),n.sendRequest()},n.Get=function(e,t,i,a,r){var s=e.url,c={},d=!1;i||a||(d=!0),b(c,e,o.RequestType.Get,r,t,d);var u={targetUrl:s,contentType:t,requestType:o.RequestType.Get,timeout:r||3e4,successCallback:function(e,n){_(c,"Success",n,!0,(function(){i&&i(e,n)}))},failureCallback:function(e,n,t){_(c,"Failed",y(n,t),!1,(function(){a&&a(e,n,t)}))},timeoutCallback:function(e,n,t){_(c,"Timeout",y(n,t),!1,(function(){a&&a(e,n,t)}))}};v(u),o.Handler.call(n,u),n.sendRequest()},n.Beacon=function(e,t,i,o,a){var r=[],s=h(!0);p.forEach(s,(function(e,n){r.push([e,n])}));var c=e.url;if(c=f.add(c,r),e.url=c,navigator.sendBeacon){var d={};b(d,e,"Beacon",a,null,!1);var u=m(t),l=navigator.sendBeacon(c,u);_(d,l?"Success":"Failed",null,l,(function(){l&&i?i():!l&&o&&o()}))}else n.Json(e,t,i,o,a)}}},function(e,n,t){var i=t(21),o=t(1),a=i.Helper,r=o.QueryString,s=n.Properties={State:"State",SessionLookupKey:"SessionLookupKey",DisplaySignForUI:"DisplaySignForUI",FlowToken:"FlowToken"},c=n.Purpose={Password:"eOTT_OneTimePassword",RemoteNGC:"eOTT_RemoteNGC",NoPassword:"eOTT_NoPasswordAccountLoginCode",OtcLogin:"eOTT_OtcLogin",XboxRemoteConnect:"RemoteSignInWithUserCode"},d=n.Channel={Authenticator:"Authenticator",MobileSms:"SMS",EmailAddress:"Email",VoiceCall:"Voice",PushNotifications:"PushNotifications"},u=n.Type={EmailAddress:"AltEmail",EmailAddressEncrypted:"AltEmailE",Mobile:"MobileNum",MobileEncrypted:"MobileNumE",SessionApprover:"SAPId"};n.Event={OnSend:"otcsend",OnSendFail:"otcsendfailed",OnFlowExpired:"otcflowexpired"};var l=n.RequestParam={Username:"login",Purpose:"purpose",FlowToken:"flowtoken",CanaryFlowToken:"canaryFlowToken",Channel:"channel",UIMode:"UIMode",PhoneCountry:"MobileCountry",PhoneCountryCode:"MobileCC",UnauthSessionId:"uaid",ProofConfirmation:"ProofConfirmation"},p=n.Status={None:0,Error:200,Success:201,HIPError:202,FTError:203,InputError:204,DestinationError:205,Timeout:300},f=n.ProofTypeToChannel=function(e){var n=null;switch(e){case PROOF.Type.SMS:n=d.MobileSms;break;case PROOF.Type.Voice:n=d.VoiceCall;break;case PROOF.Type.Email:case PROOF.Type.AltEmail:n=d.EmailAddress;break;case PROOF.Type.TOTPAuthenticatorV2:n=d.PushNotifications}return n},g=n.ProofTypeToOtcType=function(e,n){var t=null;switch(e){case PROOF.Type.Voice:case PROOF.Type.SMS:t=n?u.MobileEncrypted:u.Mobile;break;case PROOF.Type.Email:case PROOF.Type.AltEmail:t=n?u.EmailAddressEncrypted:u.EmailAddress;break;case PROOF.Type.TOTPAuthenticatorV2:t=u.SessionApprover}return t};n.Proof=function(e){var n=e.username||"",t=e.flowToken||"",i=e.purpose||c.Password,o=e.proofType,a=e.proofData||"",r=e.isEncrypted,s=e.uiMode,d=e.lcid,u=e.phoneCountry||"",p=e.phoneCountryCode||"",h=e.unauthSessionId,m=e.proofConfirmation,v=e.canaryFlowToken;this[l.Username]=n,this[l.FlowToken]=t,this[l.Purpose]=i,this[l.Channel]=f(o),this[g(o,r)]=a,s&&(this[l.UIMode]=s),d&&(this.lcid=d),r||o!==PROOF.Type.SMS&&o!==PROOF.Type.Voice||(this[l.PhoneCountry]=u,this[l.PhoneCountryCode]=p),h&&(this[l.UnauthSessionId]=h),m&&(this[l.ProofConfirmation]=m),v&&(this[l.CanaryFlowToken]=v)},n.Request=function(e){var n,t,o,c,d=this,u=p.None,l="",f="",g="",h=e.data,m=e.onSend,v=e.onSendFail,b=e.onFlowExpired,_=e.timeout||3e4,y=e.siteId,w=e.clientId,S=e.forwardedClientId,C=e.noPaBubbleVersion;function x(e){var n=!1,t=d.getResponseJson();g=t[s.FlowToken]||"",t[s.State]?(u=t[s.State],l=t[s.SessionLookupKey]||"",f=t[s.DisplaySignForUI]||"",n=u!==p.Success):(u=p.Error,l="",f="",n=!0),n?u===p.FTError?b(e,d):v(e,d):m(e)}function T(){g="",u=p.Error,l="",f="",v(d)}function k(){u=p.Timeout,l="",f="",g="",v(d)}d.getOtcStatus=function(){return d.isComplete()?u:p.None},d.getSessionKey=function(){return d.isComplete()?l:""},d.getDisplaySign=function(){return d.isComplete()?f:""},d.getFlowToken=function(){return d.isComplete()?g:""},n=r.extract("mkt"),t=r.extract("lc"),o=[].concat(n?[["mkt",n]]:[],t?[["lcid",t]]:[],y?[["id",y]]:[],w?[["client_id",w]]:[],S?[["fci",S]]:[],C?[["nopa",C]]:[]),c={targetUrl:r.add("GetOneTimeCode.srf",o),requestType:i.RequestType.Post,data:a.generateRequestString(h),isAsync:!0,timeout:_,successCallback:x,failureCallback:T,timeoutCallback:k},i.Handler.call(d,c)}},function(e,n,t){var i=t(26),o=t(9),a=t(37),r=window,s=r.navigator;n.makeCredential=function(e,n,t,o,r,c,d,u){var l=[];c&&(l=c.map((function(e){return{type:"public-key",id:a.base64UrlStringToArrayBuffer(e)}})));var p=i.SupportedKeyAlgorithms.map((function(e){return{type:"public-key",alg:e}})),f={challenge:a.stringToArrayBuffer(e),rp:{name:"Microsoft",id:u},user:{id:a.base64UrlStringToArrayBuffer(n),name:t,displayName:o,icon:r},pubKeyCredParams:p,timeout:i.Timeout,excludeCredentials:l,authenticatorSelection:{authenticatorAttachment:d,requireResidentKey:!0,userVerification:"required"},attestation:"direct",extensions:{hmacCreateSecret:!0,credentialProtectionPolicy:"userVerificationOptional"}};return s.credentials.create({publicKey:f})},n.getAssertion=function(e,n,t){var o=[];n&&(o=n.map((function(e){return{type:"public-key",id:a.base64UrlStringToArrayBuffer(e)}})));var r={challenge:a.stringToArrayBuffer(e),timeout:i.Timeout,rpId:t,allowCredentials:o,userVerification:"required"};return s.credentials.get({publicKey:r})},n.isPlatformAuthenticatorAvailable=function(){return o.newPromiseWithTimeout(r.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable,i.PromiseTimeout,!1)}},function(e,n,t){(function(n){e.exports=n.ko=t(59)}).call(this,t(58))},function(e,n,t){var i=t(2),o=t(1),a=t(4);var r=window;function s(e){var n=this,t=((e=e||{}).serverData,e.primaryButtonId),r=e.secondaryButtonId,s=e.primaryButtonText,c=e.secondaryButtonText,d=!1!==e.isPrimaryButtonVisible,u=!1!==e.isSecondaryButtonVisible,l=!1!==e.isPrimaryButtonEnabled,p=!1!==e.isSecondaryButtonEnabled,f=e.focusOnPrimaryButton||!1,g=e.focusOnSecondaryButton||!1,h=e.primaryButtonDescribedBy,m=e.secondaryButtonDescribedBy,v=e.primaryButtonCss,b=e.secondaryButtonCss,_=e.primaryButtonType||"submit",y=e.removeBottomMargin,w=e.primaryButtonPreventTabbing||{direction:"none"};n.primaryButtonId=t,n.secondaryButtonId=r,n.primaryButtonCss=v,n.secondaryButtonCss=b,n.primaryButtonText=i.observable(s),n.secondaryButtonText=i.observable(c),n.isPrimaryButtonVisible=i.observable(d),n.isSecondaryButtonVisible=i.observable(u),n.isPrimaryButtonEnabled=i.observable(l),n.isSecondaryButtonEnabled=i.observable(p),n.focusOnPrimaryButton=i.observable(f),n.focusOnSecondaryButton=i.observable(g),n.hasOneButtonVisible=i.pureComputed((function(){var e=0;return n.isPrimaryButtonVisible()&&e++,n.isSecondaryButtonVisible()&&e++,1===e})),n.primaryButtonDescribedBy=h,n.secondaryButtonDescribedBy=m,n.removeBottomMargin=y,n.primaryButtonPreventTabbing=w,n.primaryButtonAttributes=i.pureComputed((function(){var e={id:n.primaryButtonId||"idSIButton9","aria-describedby":n.primaryButtonDescribedBy};return o.Helper.isChangingInputTypeSupported()&&(e.type=_),e})),n.onPrimaryButtonClick=a.create(),n.onSecondaryButtonClick=a.create(),n.setTextPrimaryButton=function(e){n.primaryButtonText(e)},n.setTextSecondaryButton=function(e){n.secondaryButtonText(e)},n.setVisibilityPrimaryButton=function(e){n.isPrimaryButtonVisible(e)},n.setVisibilitySecondaryButton=function(e){n.isSecondaryButtonVisible(e)},n.setEnabledPrimaryButton=function(e){n.isPrimaryButtonEnabled(e)},n.setEnabledSecondaryButton=function(e){n.isSecondaryButtonEnabled(e)},n.primaryButton_onClick=function(){n.onPrimaryButtonClick()},n.secondaryButton_onClick=function(){n.onSecondaryButtonClick()}}i.components.register("footer-buttons-field",{viewModel:s,template:t(288),synchronous:!r.ServerData.A||o.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),o=t(1),a=window,r=o.Helper;function s(){var e=this;e.useCssAnimation=!1,r.isCSSAnimationSupported()&&!r.isHighContrast()&&(e.useCssAnimation=!0)}i.components.register("marching-ants-control",{viewModel:s,template:t(300),synchronous:!a.ServerData.A||o.Helper.isStackSizeGreaterThan(a.ServerData.A)}),e.exports=s},function(e,n,t){var i=t(14),o=t(7),a=t(12).getInstance(window.ServerData);e.exports=function(e){var n=null,t=e.username,r=e.proofData,s=e.proofType,c=e.purpose||i.Purpose.Password,d=e.flowToken,u=e.canaryFlowToken,l=!1!==e.isEncrypted,p=e.uiMode,f=e.lcid,g=e.unauthSessionId,h=e.proofConfirmation,m=e.phoneCountry,v=e.phoneCountryCode,b=e.siteId,_=e.clientId,y=e.forwardedClientId,w=e.noPaBubbleVersion,S=e.successCallback,C=e.failureCallback,x=e.clientTracingOptions,T={};function k(e,n,t,i,o){a.traceEndRequest(e,n,t,i,o)}function P(){k(T,"Success",null,!0,(function(){S&&S(n)}))}function E(){var e={otcStatus:n.getOtcStatus()};k(T,"Failed",e,!1,(function(){C&&C(n)}))}this.sendRequest=function(){var e,S={data:(e={username:t,proofData:r,proofType:s,purpose:c,flowToken:d,canaryFlowToken:u,isEncrypted:l,uiMode:p,lcid:f,unauthSessionId:g,proofConfirmation:h,phoneCountry:m,phoneCountryCode:v},new i.Proof(e)),siteId:b,clientId:_,forwardedClientId:y,noPaBubbleVersion:w,onSend:P,onSendFail:E,onFlowExpired:E},C={};C.proofType=s,C.purpose=c,C.uiMode=p,C.lcid=f,C.phoneCountry=m,C.phoneCountryCode=v,function(e,n){var t=x||{};t.hasOwnProperty("eventId")||(t.eventId=o.EventIds.Api_GetOneTimeToken);if(t.eventId){var i={eventType:"POST",eventId:t.eventId,eventLevel:t.eventLevel||o.EventLevel.Info,eventArgs:n,eventOptions:t};a.traceBeginRequest(e,i)}}(T,C),(n=new i.Request(S)).sendRequest()}}},function(e,n,t){var i=t(0),o=t(6),a=t(5),r=t(10),s=t(1),c=t(3),d=t(13),u=t(7),l=s.Helper,p=s.QueryString,f=c.String,g=c.Object,h=i.CredentialType,m=i.RemoteNgcType,v=i.Error,b=i.ApiErrorCodes,_=i.EstsError,y=i.PaginatedState,w=i.IfExistsResult,S=i.ThrottleStatus,C=i.DomainType,x=i.BindProvider,T=o.AllowedIdentitiesType,k=i.SessionPullFlags;var P=D.GctResultAction={ShowError:1,SwitchView:2,Redirect:3},E=D.GctRequestHelperFlags={CheckCurrentIdpOnly:1,IsPhoneNumberFullyQualified:2,DisableDesktopSsoPreferredCred:4,DisableAutoSend:8,ForceOtcLogin:16,IsPostRequest:32,IsSignup:64};function D(e,n){var o=this,s=!1,D=null,I=null,A=null,R={},O=e,L=0!=(n&E.CheckCurrentIdpOnly),N=0!=(n&E.IsPhoneNumberFullyQualified),B=0!=(n&E.DisableDesktopSsoPreferredCred),F=0!=(n&E.DisableAutoSend),U=0!=(n&E.ForceOtcLogin),M=0!=(n&E.IsPostRequest),j=0!=(n&E.IsSignup),V=O.str,H=O.N,W=O.L,q=O.a6,G=!!O.BC,$=!!O.Bl,z=!!O.Ah,Q=O.BA,K=O.a9,J=!!O.a5,X=!!O.Bb,Y=!!O.BB,Z=O.C,ee=O.Ag,ne=O.aS,te=O.k,ie=O.bN,oe=O.As,ae=O.AR,re=e.urlMsaSignUp,se=O.G,ce=O.S,de=O.fUseConsumerEmailError,ue=O.M,le=O.desktopSsoConfig,pe=O.sFedQS,fe=O.staticTenantBranding,ge=O.dynamicTenantBranding,he=O.isGlobalTenant,me=(O.fCheckForWindowsSku,O.country),ve=O.arrProofData||{},be=parseInt(O.bH),_e=O.bM,ye=!!O.aQ,we=O.fBindCookiesUsingPoP,Se=O.Bw||0,Ce=O.fIgnoreViralUsers,xe=O.fAccessPassSupported,Te=O.az,ke=O.fImprovePhoneDisambig;function Pe(e,n,t){var i=e.Credentials&&e.Credentials.OtcLoginEligibleProofs,o=[];if(i){var a=e.Credentials&&e.Credentials.HasPhone&&e.Credentials.CobasiApp;c.Array.forEach(i,(function(e){if(e.isDefault===n){var t={credType:h.OneTimeCode,proof:e};switch(t.proof.isEncrypted=!0,e.type){case PROOF.Type.SMS:case PROOF.Type.Voice:if(!e.isVoiceOnly){var i=g.clone(t);i.proof.otcSent&&M&&be===PROOF.Type.Voice&&(i.proof.otcSent=!1),i.proof.type=PROOF.Type.SMS,Te&&!a&&(i.shownOnlyOnPicker=!0),o.push(i)}if(e.voiceEnabled){var r=g.clone(t);!r.proof.otcSent||M&&be===PROOF.Type.Voice||(r.proof.otcSent=!1),r.proof.type=PROOF.Type.Voice,o.push(r)}break;case PROOF.Type.Email:o.push(g.clone(t))}}}))}if(n&&0===o.length&&Ae(e,t)===h.OneTimeCode){var r=e.Credentials&&e.Credentials.HasPassword,s={credType:h.OneTimeCode,proof:{display:e.Display,data:f.cleanseUsername(e.Display),otcSent:!0,isEncrypted:!1,isDefault:!0,isNopa:!r,type:f.isEmailAddress(e.Username)?PROOF.Type.Email:PROOF.Type.SMS}};o.push(s)}return o}function Ee(e){e.proof.str={},g.extend(e.proof.str,ve[e.proof.type]||{}),g.forEach(e.proof.str,(function(n,t){t&&(e.proof.str[n]=f.format(t,e.proof.display+"\u200e",e.proof.clearDigits||""))}))}function De(e,n,t,i,a,r){var c={},d=le&&i.EstsProperties&&i.EstsProperties.DesktopSsoEnabled&&!function(e){return e&&le.lastUsernameTried&&e.toLowerCase()===le.lastUsernameTried.toLowerCase()}(n),u=i.ErrorHR,g=Be(n,i,a),b=o.getGctSharedData(i,a,r);if(b.username=n,u===v.PP_E_INVALID_PHONENUMBER||u===v.PP_E_LIBPHONENUMBERINTEROP_NUMBERPARSE_EXCEPTION)c=function(e){if(N)return Ve(V.CT_PWD_STR_Error_InvalidPhoneNumber,!0);return je(y.PhoneDisambiguation,{phoneDisambigError:e})}(u);else if(u===v.PP_E_NAME_INVALID||u===v.PP_E_INVALIDARG)c=Ve(V.CT_PWD_STR_Error_InvalidUsername);else if(u===v.PP_E_FEDERATION_INLINELOGIN_DISALLOWED)c=Ve(V.CT_PWD_STR_Error_FedNotAllowed,!0);else if(u===v.PP_E_LOGIN_NOPA_USER_PASSWORD_REQUIRED)c=Ve(f.format(V.CT_STR_Error_PasswordRequired,p.stripQueryStringAndFragment(_e)));else if(i.RequiresPhoneDisambiguation)c=je(y.PhoneDisambiguation);else{if(i.AliasDisabledForLogin)return Ve(V.CT_PWD_STR_Error_AliasDisabled,!0);if(i.IfExistsResult===w.NotExist)c=function(e,n,t,i){var o,a=Me(e,t),r=t.EstsProperties||{},s=r.DomainType&&r.DomainType!==C.Unknown&&r.DomainType!==C.Consumer;if(t.IsProofForAlias)return je(y.ConfirmRecoverUsername);if(oe&&a&&(ee||ne))return ee?Ne(e,t):je(y.ConfirmSignup);o=n?t.ThrottleStatus===S.NotThrottled&&s?V.CT_PWD_STR_Error_UsernameNotExist_Alternate_VerifiedDomain:V.CT_PWD_STR_Error_UsernameNotExist_Alternate:Ae(t,i)===h.OneTimeCode?t.ThrottleStatus===S.MsaThrottled?V.CT_PWD_STR_Error_UsernameNotExists_EmailOtpAllowed_MsaFailed:V.CT_PWD_STR_Error_UsernameNotExists_EmailOtpAllowed:de&&r.DomainType===C.Consumer?V.CT_PWD_STR_Error_UsernameNotExist_ConsumerEmail:t.ThrottleStatus===S.NotThrottled&&s?a?V.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_SignupAllowed:V.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain:t.ThrottleStatus===S.MsaThrottled?s&&a?V.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_MsaFailed_SignupAllowed:s?V.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_MsaFailed:oe&&!se?V.CT_PWD_STR_Error_UsernameNotExist_Guest_SignupAllowed_MsaFailed:V.CT_PWD_STR_Error_UnknownDomain_MsaFailed:j&&!s?V.CT_PWD_STR_Error_UsernameNotExist_Guest_Signup:ke&&N?V.CT_PWD_STR_Error_InvalidPhoneNumber:V.CT_PWD_STR_Error_UsernameNotExist;return Ve(f.format(o,l.htmlEscape(f.extractDomain(e)),l.htmlEscape(e)),!0)}(n,t,i,a);else if(i.IfExistsResult===w.ExistsBothIDPs)c=je(y.IdpDisambiguation,{desktopSsoEnabled:d,idpRedirectUrl:g.idpRedirectUrl,idpRedirectPostParams:g.idpRedirectPostParams,idpRedirectProvider:g.idpRedirectProvider});else if(i.IfExistsResult===w.ExistsInOtherMicrosoftIDP)c=Le(e,n);else if(!s||i.IfExistsResult!==w.Error&&i.IfExistsResult!==w.Throttled&&0==(i.ThrottleStatus&S.MsaThrottled))if(i.ShowRemoteConnect)c=je(y.RemoteLoginPolling);else{c=function(e,n,t,i,o,a){var r=Ae(i,a);if(!B&&n)return je(y.FetchSessionsProgress,{unsafe_desktopSsoDomainToUse:f.extractDomain(e),sessionPullType:k.Dsso});var s={idpRedirectUrl:t.idpRedirectUrl,idpRedirectPostParams:t.idpRedirectPostParams,idpRedirectProvider:t.idpRedirectProvider};switch(r){case h.OneTimeCode:var c=y.OneTimeCode;return F&&(c=o?y.ProofConfirmation:y.ConfirmSend),je(c);case h.PublicIdentifierCode:return F||i.Credentials.SasParams&&i.Credentials.SasParams.Success?je(F?y.ConfirmSend:y.OneTimeCode):Ve(V.CT_PWD_STR_Error_GetCredentialTypeError,!1,!0);case h.Fido:return je(y.Fido);case h.RemoteNGC:var d=i.Credentials.RemoteNgcParams.DefaultType===m.PushNotification;return je(F&&d?y.ConfirmSend:y.RemoteNGC,s);case h.Federation:case h.CloudFederation:return je(y.IdpRedirect,s);case h.LinkedIn:case h.GitHub:case h.Google:case h.Facebook:return je(Re(i,a).length>1||Oe(i,a).length>0?y.IdpRedirectSpeedbump:y.IdpRedirect,s);case h.AccessPass:return je(y.AccessPass,s);case h.NoPreferredCredential:return je(y.CredentialPicker,s);case h.OtherMicrosoftIdpFederation:return Ne(e,i,re);case h.Password:default:return je(y.Password)}}(n,d,g,i,b.otcCredential&&b.otcCredential.proof.clearDigits,a)}else c=je(y.IdpDisambiguation,{hasIdpDisambigError:!0,desktopSsoEnabled:d,idpRedirectUrl:g.idpRedirectUrl,idpRedirectPostParams:g.idpRedirectPostParams,idpRedirectProvider:g.idpRedirectProvider})}return c.flowToken=i.FlowToken||null,c.bypassCache||(R[n]=i,R[n].FlowToken=null),c.sharedData=b,c}function Ie(e){var n={};if(e&&e.error)switch(e.error.code){case b.AuthFailure:n=Ve(V.CT_PWD_STR_Error_FlowTokenExpired);break;case _.PublicIdentifierSasBeginCallNonRetriableError:case _.PublicIdentifierSasBeginCallRetriableError:n=Ve(V.CT_PWD_STR_Error_GetCredentialTypeError,!1,!0);break;default:n=Ve(V.CT_PWD_STR_Error_GetCredentialTypeError)}else n=Ve(V.CT_PWD_STR_Error_GetCredentialTypeError);return n.flowToken=e.FlowToken||null,n}function Ae(e,n){var t=h.Password,i=e.Credentials;return i&&((t=i.PrefCredential)!==h.Fido||n||(t=i.RemoteNgcParams&&i.RemoteNgcParams.SessionIdentifier?h.RemoteNGC:h.Password)),t}function Re(e,n){var t=e.Credentials||{},i=t.SasParams,o=t.LinkedInParams,a=t.GitHubParams,r=t.GoogleParams,s=t.FacebookParams,d=t.CertAuthParams,u=e.EstsProperties||{},l=[].concat(t.HasPassword&&u.DomainType!==C.Federated?{credType:h.Password}:[],t.FederationRedirectUrl&&u.DomainType===C.Federated?{credType:h.Federation}:[],t.FederationRedirectUrl&&u.DomainType===C.CloudFederated?{credType:h.CloudFederation}:[],t.HasRemoteNGC?{credType:h.RemoteNGC}:[],t.HasFido&&n?{credType:h.Fido}:[],t.HasPhone&&i?{credType:h.PublicIdentifierCode}:[],t.HasLinkedInFed&&o?{credType:h.LinkedIn,redirectUrl:o.LinkedInRedirectUrl}:[],t.HasGitHubFed&&a?{credType:h.GitHub,redirectUrl:a.GithubRedirectUrl}:[],t.HasGoogleFed&&r?{credType:h.Google,redirectUrl:r.GoogleRedirectUrl}:[],t.HasFacebookFed&&s?{credType:h.Facebook,redirectUrl:s.FacebookRedirectUrl}:[],t.HasAccessPass?{credType:h.AccessPass}:[],t.HasCertAuth?{credType:h.Certificate,redirectUrl:d.CertAuthUrl,redirectPostParams:Fe(e.FlowToken)}:[]);if(ve[PROOF.Type.Email]&&ve[PROOF.Type.SMS]&&ve[PROOF.Type.Voice]){var p=Pe(e,!0,n);p.length>0&&(c.Array.forEach(p,Ee),l=l.concat(p))}return l}function Oe(e,n){var t=[];if(ve[PROOF.Type.Email]&&ve[PROOF.Type.SMS]&&ve[PROOF.Type.Voice]){var i=Pe(e,!1,n);i.length>0&&(c.Array.forEach(i,Ee),t=t.concat(i),c.Array.first(i,(function(e){return!e.proof.isNopa}))&&(t=t.concat({credType:h.Password,isDefault:!1})))}return t}function Le(e,n){e=p.appendOrReplace(e,"username",encodeURIComponent(n).replace(new RegExp("'","g"),"%27"));var t=ue?g.clone(ue):null;return t&&(t.unsafe_username=n),He(e,t,!0,u.EventIds.Redirect_OtherIdpRedirection)}function Ne(e,n,t){t=t||se,t=p.remove(t,"username");var i=ce?g.clone(ce):null;return n&&(n.IfExistsResult===w.NotExist||n.IsUnmanaged&&n.IfExistsResult===w.Exists)&&Me(e,n)&&(i?i.unsafe_username=e:t=p.appendOrReplace(t,"username",encodeURIComponent(e))),He(t,i,!1,u.EventIds.Redirect_MSASignUpPage)}function Be(e,n,t){var i={},o=Ae(n,t),a=n.EstsProperties||{};if(!(n.Credentials&&(n.Credentials.FederationRedirectUrl||n.Credentials.LinkedInParams||n.Credentials.GitHubParams||n.Credentials.GoogleParams||n.Credentials.FacebookParams)))return i;switch(o){case h.RemoteNGC:case h.Federation:case h.AccessPass:case h.NoPreferredCredential:a&&a.SamlRequest&&a.RelayState?(i.idpRedirectUrl=n.Credentials.FederationRedirectUrl,i.idpRedirectPostParams={SAMLRequest:a.SamlRequest,RelayState:a.RelayState,unsafe_username:e}):i.idpRedirectUrl=function(e,n){if(pe){var t=p.appendOrReplace("?"+pe,"wctx","LoginOptions%3D3%26"+p.extract("wctx","?"+pe));t=t.substr(1),e=p.append(e,t)}else e=p.appendOrReplace(e,"wctx","LoginOptions%3D3%26"+p.extract("wctx",e));return e=p.appendOrReplace(e,"cbcxt",encodeURIComponent(decodeURIComponent(p.extract("cbcxt")))),e=p.appendOrReplace(e,"username",encodeURIComponent(n)),e=p.appendOrReplace(e,"mkt",encodeURIComponent(decodeURIComponent(p.extract("mkt")))),e=p.appendOrReplace(e,"lc",encodeURIComponent(decodeURIComponent(p.extract("lc"))))}(n.Credentials.FederationRedirectUrl,e);break;case h.CloudFederation:i.idpRedirectUrl=n.Credentials.FederationRedirectUrl;break;case h.LinkedIn:i.idpRedirectUrl=n.Credentials.LinkedInParams.LinkedInRedirectUrl,i.idpRedirectProvider=x.LinkedIn;break;case h.GitHub:i.idpRedirectUrl=n.Credentials.GitHubParams.GithubRedirectUrl,i.idpRedirectProvider=x.GitHub;break;case h.Google:i.idpRedirectUrl=n.Credentials.GoogleParams.GoogleRedirectUrl,i.idpRedirectProvider=x.Google;break;case h.Facebook:i.idpRedirectUrl=n.Credentials.FacebookParams.FacebookRedirectUrl,i.idpRedirectProvider=x.Facebook}return i}function Fe(e){return{ctx:Z,flowToken:e}}function Ue(e){return f.cleanseUsername(e,!0)}function Me(e,n){var t=ae&&f.isSkypeName(e),i=n.EstsProperties||{};return i.DomainType&&i.DomainType!==C.Unknown&&i.DomainType!==C.Consumer?!1===n.IsSignupDisallowed:!n.IsSignupDisallowed&&!t}function je(e,n){return{action:P.SwitchView,viewId:e,viewParams:n}}function Ve(e,n,t){return{action:P.ShowError,error:e,isBlockingError:n,bypassCache:t}}function He(e,n,t,i){return{action:P.Redirect,redirectUrl:e,redirectPostParams:n,isIdpRedirect:t,eventId:i}}o.sendAsync=function(e,n,t){var o=Ue(n),r=R[o]?R[o]:null,c=!!r,l=r?a.resolve(r):function(e,n){var t=[I].concat(A||[]);return a.all(t).then((function(t){var o=t[0],r=t[1];return new a((function(t,a){new d({checkApiCanary:te}).Json({url:ie,eventId:u.EventIds.Api_GetCredentialType},function(e,n,t,i){var o={unsafe_username:e,uaid:H,isOtherIdpSupported:s,isFederationDisabled:q,checkPhones:f.isPhoneNumber(e),isRemoteNGCSupported:G,isCookieBannerShown:$,isFidoSupported:t,originalRequest:Z,country:me,forceotclogin:U,otclogindisallowed:Q,isExternalFederationDisallowed:J,isRemoteConnectSupported:ye,federationFlags:Se,isSignup:j,flowToken:n};ne&&(o.checkProofForAliases=!0);K&&(o.noPaOtcDisallowed=!0);X&&(o.isPassthroughDisallowed=!0);Y&&(o.isPhoneNumberSignupDisallowed=!0);Ce&&(o.ignoreViralUsers=!0);we&&(i=i||{cpa:"",err:"Authenticator not generated."},o.cpa=i.cpa,o.cpa_err=i.err);xe&&(o.isAccessPassSupported=!0);return o}(e,n,o,r),t,a,i.DefaultRequestTimeout)}))}))}(o,t);return a.all([D,l,I]).then((function(n){var t=n[0],i=n[1],a=n[2];return De(e,o,t,i,a,c)}),Ie)},o.getResult=function(e,n,t,i){return De(e,Ue(n),!1,t,i,!1)},o.getState=function(){return{cache:R}},o.restoreState=function(e){e&&(R=e.cache||{})},o.cacheResponse=function(e,n){R[Ue(e)]=n},o.getSignupRedirectGctResult=function(e){var n=Ue(e);return Ne(n,R[n]?R[n]:null)},o.getOtherIdpRedirectGctResult=function(e,n){return Le(e,Ue(n))},o.getGctSharedData=function(e,n,t){var i={},o=Ae(e,n),a=e.Credentials||{},s=a.RemoteNgcParams,d=a.FidoParams,u=e.EstsProperties||{},l=s?s.DefaultType:null,p=!!s&&s.ShowAnimatedGifWhilePolling,f=!!s&&s.StyleCredSwitchLinkAsButton,g=r.loadTenantBranding(u.UserTenantBranding||ge),m=r.loadTenantBranding(fe),v=Be(e.Username,e,n);return i.preferredCredential=o,i.location=e.Location,i.fedRedirectParams=v,e.Display&&(i.displayName=e.Display),i.availableCreds=Re(e,n),i.evictedCreds=Oe(e,n),o===h.OneTimeCode&&(i.otcCredential=c.Array.first(i.availableCreds,(function(e){return e.credType===h.OneTimeCode&&e.proof.otcSent})),i.useEvictedCredentials=!1),i.remoteNgcParams={requestSent:!F&&!t&&o===h.RemoteNGC&&s&&s.hasOwnProperty("Entropy"),sessionIdentifier:s?s.SessionIdentifier:null,entropy:s?s.Entropy:null,defaultType:l,showAnimatedGifWhilePolling:p,styleCredSwitchLinkAsButton:f},i.otcParams={requestSent:(o===h.OneTimeCode||o===h.PublicIdentifierCode)&&e.IfExistsResult!==w.ExistsBothIDPs},d&&d.AllowList&&(i.fidoParams={allowList:d.AllowList}),i.callMetadata=u&&u.CallMetadata?u.CallMetadata:{},i.userTenantBranding=r.getMergedBranding(m,g,he),i},s=!L&&W===T.Both,D=a.resolve(!1),I=l.isFidoSupportedAsync(z),we&&t.e(25).then(function(){var e=t(442);A=e.computePoPAuthenticator("POST",ie).then((function(e){return{cpa:e,err:null}}),(function(e){return{cpa:"",err:e.message}}))}.bind(null,t))["catch"](t.oe)}e.exports=D},function(e,n,t){var i=t(11),o=t(1),a=t(3),r=a.Object,s=o.HttpCode,c=window;n.RequestType={Post:"POST",Get:"GET"};var d=n.State={Unsupported:-1,Unsent:0,Done:4,Timeout:5};n.Event={OnSuccess:"ajaxsuccess",OnError:"ajaxerror",OnTimeout:"ajaxtimeout"},n.Helper={generateRequestString:function(e){var n="";return e&&r.forEach(e,(function(e,t){(t||""===t)&&(n.length>0&&(n+="&"),n+=e+"="+t)})),n}},n.Handler=function(e){var n=this,t="",u=[],l=null,p=null,f=!1,g=!0,h=null,m=!1,v=!!e.contentType,b=!!e.headers,_=!!e.headerValue,y=e.data||"",w=e.targetUrl||"",S=e.requestType||"",C=!1!==e.isAsync,x=e.timeout||0,T=e.username||"",k=e.password||"",P=e.contentType||"application/x-www-form-urlencoded",E=e.withCredentials||!1,D=e.breakCache||!1,I=e.responseType||"",A=e.headers||{},R=e.successCallback,O=e.failureCallback,L=e.timeoutCallback;function N(e,i){e||n.isSuccess()?R&&R(l,t):(i||!n.isSuccess()&&!f)&&O&&O(l,p,p.statusText)}function B(){if(h=null,f=!0,n.cancel(),L){var e={status:s.Timeout,statusText:"timeout"};L(l,e,e.statusText)}}function F(e){if(V(),!n.isComplete()&&!p.canceled&&O){var t={status:s.ClientClosedRequest,statusText:"abort"};O(e,t,t.statusText)}}function U(e){n.isComplete()||j(e)}function M(e){n.isComplete()&&!f&&j(e)}function j(e){V(),t=p.responseText,l=e,N()}function V(){h&&(clearTimeout(h),h=null)}function H(e){V(),t=p.responseText,N(e,!e)}n.sendRequest=function(e){l=e,function(){f=!1;var e="withCredentials"in new XMLHttpRequest;if(!m||e){var t=w;(p=new XMLHttpRequest).onreadystatechange=M,p.addEventListener&&(p.addEventListener("abort",F),p.addEventListener("error",U)),D&&(t=o.QueryString.appendOrReplace(t,"_",(new Date).getTime())),T.length>0?p.open(S,t,C,T,k):p.open(S,t,C),n.clearResponse(),r.forEach(A,(function(e,n){p.setRequestHeader(e,n)})),p.responseType=I,p.withCredentials=E}else c.XDomainRequest?!C||T||k||v||b||_||E?g=!1:((p=new c.XDomainRequest).onerror=function(){H(!1)},p.onload=function(){H(!0)},p.open(S,w),n.clearResponse()):g=!1}(),g&&(x>0&&(h=setTimeout((function(){B.call(n)}),x)),p.send(y))},n.getState=function(){return g?f?d.Timeout:p?p.readyState:d.Unsent:d.Unsupported},n.getStatus=function(){return f?s.Timeout:p?p.status:0},n.cancel=function(){p&&(p.canceled=!0,p.abort())},n.getResponseJson=function(){return t?i.parse(t):{}},n.isComplete=function(){return n.getState()===d.Done||n.getState()===d.Timeout},n.isSuccess=function(){return n.isComplete()&&u[n.getStatus()]},n.clearResponse=function(){t=""},function(){A["Content-type"]=P,u[s.Ok]=!0,u[s.NotModified]=!0,u[s.Timeout]=!1;var e=a.String.extractDomainFromUrl(w);e&&(m=a.String.extractDomainFromUrl(document.location.href)!==e)}()}},function(e,n,t){var i=t(3),o=t(7),a={},r=null;n.setDataPoint=function(e,n,t,i){var a={scope:i||o.DataPointScope.ClientEvent},r=s(e);r.tracingDataPoints=r.tracingDataPoints||{},r.tracingDataPoints[n]={options:a,value:function(){return t}}};var s=n.getTracingContextObject=function(e){return e?(a[e]||(a[e]={}),a[e]):r=r||{}};n.getTracingContextObjects=function(){var e=[];return i.Object.forEach(a,(function(n,t){t&&e.push({viewModel:n,context:t})})),r&&e.push(r),e},n.registerTracingObservables=function(e,n,t){var i=s(e);i.tracingObservables=i.tracingObservables||[],i.tracingObservables.push({options:t,value:n})},n.deleteTracingContextObject=function(e){e?a[e]&&delete a[e]:r=null},n.attachViewLoadClientTracingOptions=function(e,n){s(e).viewLoadClientTracingOptions=n}},function(e,n,t){var i=t(11),o=t(1),a=t(3),r=window,s=o.Helper,c=a.Array;function d(e){var n=e||[],t=[],o=!1;function a(e){if(r.opener){var t=i.stringify({messageType:"BrandingLivePreviewConnect",isOpen:e});c.forEach(n,(function(e){r.opener.postMessage(t,e)}))}}function d(e){if(o=e.origin,c.first(n,(function(e){return e===o}))){var o,a;try{a=i.parse(e.data)||{}}catch(r){return}"BrandingLivePreviewUpdate"===a.messageType&&c.forEach(t,(function(e){e(a.tenantBranding||{})}))}}this.addListener=function(e){t.push(e),o||(s.addEventListener(r,"message",d),a(!0),o=!0)},this.removeListener=function(e){c.removeItem(t,e),o&&0===t.length&&(s.removeEventListener(r,"message",d),a(!1),o=!1)}}var u=null;n.getInstance=function(e){return u=u||new d(e)}},function(e,n,t){var i=t(2),o=t(1),a=t(3),r=t(4),s=t(13),c=t(377),d=window,u=a.DateTime,l=o.Helper;function p(e){var n=this,t=null,o=e.debugDetails,a=e.serverData,c=e.isDebugTracingEnabled,d=e.useWiderWidth,p=a.ab,f=a.urlSetDebugMode,g=a.j,h=a.sSigninName,m=a.str,v=a.sErrorCode;function b(){n.sending(!1),n.isDebugTracingEnabled(!n.isDebugTracingEnabled()),n.onSetDebugTracing()}function _(){n.sending(!1),n.debugModeError(m.STR_Error_Details_Debug_Mode_Failure)}n.onCloseBanner=r.create(),n.onSetDebugTracing=r.create(),n.debugModeError=i.observable(),n.isDebugTracingEnabled=i.observable(c),n.sending=i.observable(!1),n.showBanner=i.observable(!0),n.showDebugDetailsCopyMessage=i.observable(!1),n.isFocusActivated=i.observable(!1),n.unsafe_exceptionMessage=null,n.debugDetails=null,n.useWiderWidth=d,n.hideBanner_onClick=function(){n.onCloseBanner(),n.showBanner(!1)},n.setDebugMode_onClick=function(){if(!n.sending()){var e=new s;n.sending(!0),n.debugModeError("");var i={mode:n.isDebugTracingEnabled()?0:1,user:t};e.Json({url:f},i,b,_)}},n.activateFocus=function(){this.isFocusActivated(!0)},t=g||h||"",n.unsafe_exceptionMessage=l.htmlUnescape(p),n.debugDetails=o||{},v&&(n.debugDetails.errorCode=v),n.debugDetails.timestamp||(n.debugDetails.timestamp=u.getUTCString())}c.applyExtensions(i),i.components.register("debug-details-control",{viewModel:p,template:t(378),synchronous:!d.ServerData.A||o.Helper.isStackSizeGreaterThan(d.ServerData.A),enableExtensions:!0}),e.exports=p},function(e,n,t){var i=t(2),o=t(10),a=t(1),r=t(4),s=t(0),c=window,d=s.AgreementType;function u(e){var n,t,a=this,s=e.serverData,u=e.showLogo,l=e.showLinks,p=e.hideFooter,f=e.debugDetails,g=e.showDebugDetails,h=e.hasDarkBackground,m=e.useDefaultBackground,v=s.str,b=s.w,_=s.fIsChinaDc,y=s.ah||s.ai,w=s.aG||s.AN,S=s.aI,C=s.urlGallatinIcp,x=s.staticTenantBranding;function T(e,n){b&&!_?a.onAgreementClick(e):c.open(n,"_blank")}a.onAgreementClick=r.create(),a.onShowDebugDetails=r.create(),a.showDebugDetails=i.observable(!!g),a.focusMoreInfo=i.observable(!1).extend({notify:"always"}),a.showLogo=u&&!_,a.showLinks=l,a.hideFooter=p,a.showIcpLicense=_,a.debugDetails=f,a.termsLink=y,a.privacyLink=w,a.impressumLink=S,a.icpLink=C,a.hasDarkBackground=h,a.useDefaultBackground=m,a.showFooter=!0,a.hideTOU=!1,a.termsText=null,a.hidePrivacy=!1,a.privacyText=null,a.privacyLink_onClick=function(){T(d.Privacy,a.privacyLink)},a.termsLink_onClick=function(){T(d.Tou,a.termsLink)},a.impressumLink_onClick=function(){T(d.Impressum,a.impressumLink)},a.moreInfo_onClick=function(){a.setDebugDetailsState(!a.showDebugDetails()),a.onShowDebugDetails(),a.showDebugDetails()||a.focusMoreInfo(!0)},a.setDebugDetailsState=function(e){a.showDebugDetails(e)},a.focusMoreInfoLink=function(){a.focusMoreInfo(!0)},n=o.loadTenantBranding(x),t=o.getLayoutTemplateConfig(n),a.showFooter=t.showFooter,a.hideTOU=t.hideTOU,a.hidePrivacy=t.hidePrivacy,a.termsText=n.FooterTOUText||v.MOBILE_STR_Footer_Terms,a.privacyText=n.FooterPrivacyText||v.MOBILE_STR_Footer_Privacy}i.components.register("footer-control",{viewModel:u,template:t(387),synchronous:!c.ServerData.A||a.Helper.isStackSizeGreaterThan(c.ServerData.A),enableExtensions:!0}),e.exports=u},function(e,n){n.PlatformTimeout=0,n.Timeout=6e5,n.PromiseTimeout=250,n.SupportedKeyAlgorithms=[-7,-257],n.Error={Internal:"InternalError",FidoCreateCallUnexpectedResponse:"FidoCreateCallUnexpectedResponse"}},function(e,n,t){t(292);var i=t(293);function o(e,n){return e&&e[n]?e[n]:""}function a(e){if(!e||!e.ver)return"";var n=e.ver.v||e.ver||"";return Array.isArray(n)&&n.length>0?n.join("."):n}var r=null;n.getInstance=function(e){if(e.av)try{r=r||function(e){var n=e||{},t=n.aN||{},r=n.H||{},s=n.K?n.K:"";return t.correlationID=s,t.hostPageID=n.hpgid,t.pageName=n.pgid||n.A4,t.actorID=n.hpgact||n.A3,t.appId=n.appId,t.environment=n.environment,t.H={datacenter:o(r,"dc"),role:o(r,"r"),roleInstance:o(r,"ri"),version:a(r)},new i.TelemetryHelper(t)}(e)}catch(n){}return r}},function(e,n,t){var i=t(2),o=t(1),a=t(4),r=t(0),s=window,c=r.DialogId;function d(e){var n=this,t=e.isPlatformAuthenticatorAvailable;n.onRegisterDialog=a.create(),n.onUnregisterDialog=a.create(),n.onShowDialog=a.create(),n.isPlatformAuthenticatorAvailable=t,n.hasFocus=i.observable(!1),n.fidoHelp_onClick=function(){n.onShowDialog(c.FidoHelp).then((function(){n.hasFocus(!0)}))}}i.components.register("fido-help-button-control",{viewModel:d,template:t(404),synchronous:!s.ServerData.A||o.Helper.isStackSizeGreaterThan(s.ServerData.A),enableExtensions:!0}),e.exports=d},function(e,n,t){var i=t(22);n.applyExtenders=function(e){e.extenders.preventExternalWrite=function(n){var t=n(),i=e.observable(t).extend({notify:"always"});return e.pureComputed({read:function(){return i()},write:function(e){e!==t&&i(t)}}).extend({notify:"always"})},e.extenders.flowTokenUpdate=function(n,t){return e.pureComputed({read:n,write:function(e){e&&(t&&(t.sFTTag&&(t.sFTTag=t.sFTTag.replace(t.sFT,e)),t.sFT=e),n(e))}}).extend({notify:"always"})},e.extenders.logValue=function(e,n){return n&&i.registerTracingObservables(n.viewModel,e,n.tracingOptions),e},e.extenders.loadImageFromUrl=function(n){return e.pureComputed({read:n,write:function(e){if(n()!==e)if(e){var t=new Image;t.onload=function(){n(e)},t.src=e}else n(e)}}).extend({notify:"always"})}}},function(e,n,t){var i=t(2),o=t(1),a=t(4),r=t(0),s=t(15),c=t(9),d=t(19),u=t(14),l=t(3),p=window,f=l.String,g=r.PaginatedState,h=r.CredentialType,m=r.DialogId;function v(e){var n=this,t=e.serverData,o=e.username,r=e.availableCreds||[],l=e.currentCred||{},p=e.flowToken,v=e.showForgotUsername,b=e.hideCredSwitchLink,_=t.str,y=t.s,w=t.J,S=t.g,C=t.h,x=t.I,T=t.Aw,k=[],P=null,E=i.observable();function D(e){A(e),n.onSetPendingRequest(!1),n.onSwitchView(g.OneTimeCode,!1,P)}function I(e){var t,i=e.getOtcStatus();switch(A(e),i){case u.Status.FTError:t=_.CT_OTC_STR_Error_FlowExpired;break;default:t=P.proof.str.CT_OTCS_STR_Error_SendCodeServer||""}n.onSetPendingRequest(!1),n.credLinkError(t)}function A(e){e&&(e.getFlowToken?(p=e.getFlowToken(),n.onUpdateFlowToken(p)):e.FlowToken&&(p=e.FlowToken,n.onUpdateFlowToken(p)))}n.onSwitchView=a.create(),n.onRedirect=a.create(),n.onRegisterDialog=a.create(),n.onUnregisterDialog=a.create(),n.onShowDialog=a.create(),n.onSetPendingRequest=a.create(),n.onUpdateFlowToken=a.create(),n.credentialCount=0,n.selectedCredType=null,n.selectedCredShownOnlyOnPicker=!1,n.switchToCredId=null,n.switchToCredText=null,n.showSwitchToCredPickerLink=!1,n.showForgotUsername=v,n.isUserKnown=!!l.credType,n.displayHelp=!l.credType,n.hideCredSwitchLink=b,n.isPlatformAuthenticatorAvailable=i.observable(!1),n.credLinkError=i.observable(),n.fidoHelp_onClick=function(){n.onShowDialog(m.FidoHelp)},n.view_onUpdateFlowToken=function(e){p=e},n.switchToCredPicker_onClick=function(){n.onSwitchView(g.CredentialPicker)},n.switchToCred_onClick=function(){var e=P.credType||h.Password;switch(n.credLinkError(""),e){case h.OneTimeCode:if(P.proof.clearDigits)n.onSwitchView(g.ProofConfirmation,!1,P);else{var t=function(){var e={username:f.cleanseUsername(o),proofData:P.proof.data,proofType:P.proof.type,purpose:P.proof.isNopa?u.Purpose.NoPassword:u.Purpose.OtcLogin,flowToken:p,isEncrypted:P.proof.isEncrypted,siteId:w,clientId:S,forwardedClientId:C,noPaBubbleVersion:x,successCallback:D,failureCallback:I};if(e.isEncrypted)switch(P.proof.type){case PROOF.Type.Email:e.proofConfirmation=P.proof.display;break;case PROOF.Type.SMS:case PROOF.Type.Voice:e.proofConfirmation=f.cleanseUsername(P.proof.display).slice(-4)}return e}(),i=new d(t);n.onSetPendingRequest(!0),i.sendRequest()}break;case h.OtherMicrosoftIdpFederation:case h.LinkedIn:case h.GitHub:case h.Google:case h.Facebook:case h.Certificate:n.onRedirect(P.redirectUrl,P.redirectPostParams||null);break;default:n.onSwitchView(k[e].viewId)}},n.forgotUsername_onClick=function(){document.location.assign(y)},n.getSwitchToCredText=function(){return i.unwrap(n.switchToCredText)},function(){if(k[h.Password]={viewId:g.Password,credId:"idA_PWD_SwitchToPassword",credText:_.CT_RNGC_STR_SwitchToPassword_Link},k[h.RemoteNGC]={viewId:g.RemoteNGC,credId:"idA_PWD_SwitchToRemoteNGC",credText:_.CT_PWD_STR_SwitchToRemoteNGC_Link},k[h.Fido]={viewId:g.Fido,credId:"idA_PWD_SwitchToFido",credText:E},k[h.Certificate]={credId:"idA_PWD_SwitchToCertificate",credText:_.CT_STR_CredentialPicker_Option_Certificate},k[h.OtherMicrosoftIdpFederation]={credId:"useMicrosoftLink",credText:_.CT_PWD_STR_UseMicrosoft_Link},k[h.LinkedIn]={credId:"useLinkedInLink",credText:_.CT_PWD_STR_UseLinkedIn_Link},k[h.GitHub]={credId:"useGitHubLink",credText:_.CT_PWD_STR_UseGitHub_Link},k[h.Google]={credId:"useGoogleLink",credText:_.CT_PWD_STR_UseGoogle_Link},k[h.Facebook]={credId:"useGoogleLink",credText:_.CT_PWD_STR_UseFacebook_Link},k[h.Federation]={viewId:g.IdpRedirect,credId:"redirectToIdpLink",credText:_.CT_RNGC_STR_SwitchToFederated_Link},k[h.RemoteLogin]={viewId:g.RemoteLoginPolling,credId:"remoteLoginLink",credText:_.CT_PWD_STR_RemoteLoginLink},k[h.OneTimeCode]={viewId:g.OneTimeCode,credId:"otcLoginLink",credText:_.CT_PWD_STR_SwitchToOTC_Link},k[h.AccessPass]={viewId:g.AccessPass,credId:"accessPassLink",credText:_.CT_PWD_STR_Login_SwitchToAccessPassLink},E(_.CT_PWD_STR_SwitchToFidoCrossPlatform_Link),i.utils.arrayForEach(r,(function(e){if(k[e.credType]){var t=e.credType===l.credType,i=e.credType===h.OneTimeCode,o=t&&i&&e.proof.data===l.proof.data,a=t&&i&&e.proof.type===l.proof.type;(!t||i&&!o||i&&!a)&&(n.credentialCount++,P=e)}e.credType===h.Fido&&c.throwUnhandledExceptionOnRejection(s.isPlatformAuthenticatorAvailable().then(null,(function(){return!1})).then((function(e){e&&(E(_.CT_PWD_STR_SwitchToFido_Link),n.isPlatformAuthenticatorAvailable(!0))})))})),1===n.credentialCount&&(n.selectedCredType=P.credType,n.selectedCredShownOnlyOnPicker=!!P.shownOnlyOnPicker,n.switchToCredId=k[n.selectedCredType||h.Password].credId,n.switchToCredText=k[n.selectedCredType||h.Password].credText,n.selectedCredType===h.OneTimeCode))switch(P.proof.type){case PROOF.Type.Email:n.switchToCredText=f.format(_.CT_OTC_STR_SwitchToOtc_EmailLink,P.proof.display);break;case PROOF.Type.SMS:n.switchToCredText=f.format(_.CT_OTC_STR_SwitchToOtc_SmsLink,P.proof.display);break;case PROOF.Type.Voice:n.switchToCredText=f.format(_.CT_OTC_STR_SwitchToOtc_VoiceLink,P.proof.display)}n.showSwitchToCredPickerLink=(!T||n.isUserKnown)&&(n.credentialCount>1||1===n.credentialCount&&(v||n.selectedCredShownOnlyOnPicker))}()}i.components.register("cred-switch-link-control",{viewModel:v,template:t(403),synchronous:!p.ServerData.A||o.Helper.isStackSizeGreaterThan(p.ServerData.A),enableExtensions:!0}),e.exports=v},function(e,n,t){var i=t(2),o=t(3).String;e.exports=function(e,n){var t=this,a=null;t.placeholderTextboxMethods=i.observable(),t.value=i.observable(n||""),t.focused=i.observable(!1).extend({notify:"always"}),t.error=e,t.textbox_onUpdateFocus=function(e){t.focused(e)},t.getTrimmedValue=function(e){var n=o.trim(t.value()||"");return e&&e>0&&(n=n.substring(0,e)),n},t.placeholderTextboxMethods.subscribe((function(e){e&&!a&&function(e){var n=t.value.peek();e.toggleVisibility(!n),a=t.value.subscribe((function(n){e.toggleVisibility(!n)}))}(e)}))}},function(e,n,t){var i=t(2),o=t(1),a=t(4),r=window;function s(e){var n=this,t="placeholder"in document.createElement("input"),r=e.serverData,s=e.hintText,c=e.hintCss||"placeholder",d=r.w;n.onUpdateFocus=a.create(),n.hintText=s,n.usePlaceholderAttribute=!1,n.placeholderVisible=i.observable(!0),n.hintCss=i.pureComputed((function(){var e={};return c&&i.utils.arrayForEach(c.split(" "),(function(n){e[n]=!0})),e})),n.placeholderText=i.pureComputed((function(){if(n.usePlaceholderAttribute)return n.hintText})),n.toggleVisibility=function(e){n.placeholderVisible(e)},n.placeholder_onClick=function(){n.onUpdateFocus(!0)},t&&o.Helper.isPlaceholderAttributeAllowed(d)&&(n.usePlaceholderAttribute=!0)}i.components.register("placeholder-textbox-field",{viewModel:s,template:t(402),synchronous:!r.ServerData.A||o.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),o=t(1),a=window;function r(e){var n,t=this,i=e.serverData,o=e.title,a=!1!==e.useSubtitle,r=i.c;t.title=null,n=!(!r||!r.friendlyAppName),t.isSubtitleVisible=a&&n,t.title=o}i.components.register("header-control",{viewModel:r,template:t(406),synchronous:!a.ServerData.A||o.Helper.isStackSizeGreaterThan(a.ServerData.A)}),e.exports=r},function(e,n,t){e.exports=t.p+"content/images/picker_account_msa_4e3619a499fd74c0c66d5215514b566a.png"},function(e,n,t){e.exports=t.p+"content/images/picker_account_msa_2d8f86059be176833897099ee6ddedeb.svg"},function(e,n,t){var i=t(2);n.errorComputed=function(e){var n=i.observable(),t=i.observable(),o=i.pureComputed(e).extend({notify:"always"}),a=i.pureComputed((function(){if(o())return o();if(n()){var e=n();return n(null),e}return null}));return i.utils.extend(i.pureComputed((function(){if(a())return a();if(t()){var e=t();return t(null),e}return null})),{isBlocking:function(){return null!==a()},setBlockingError:function(e){n(e)},setNonBlockingError:function(e){t(e)},setError:function(e,i){i?n(e):t(e)},clearNonBlockingError:function(){t(null),t.valueHasMutated()}})}},function(e,n){var t=n.stringToArrayBuffer=function(e){for(var n=new ArrayBuffer(e.length),t=new Uint8Array(n),i=0,o=e.length;i<o;++i)t[i]=e.charCodeAt(i);return n},i=n.arrayBufferToString=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))};n.base64UrlStringToArrayBuffer=function(e){var n=e.replace(/[-_]/g,(function(e){switch(e){case"-":return"+";case"_":return"/"}})),i=atob(n);return t(i)},n.arrayBufferToBase64UrlString=function(e){var n=i(e),t=btoa(n);return o(t)},n.objectToBase64UrlString=function(e){if(e){var n=JSON.stringify(e),t=btoa(n);return o(t)}return null};var o=n.base64ToBase64UrlString=function(e){return e.replace(/[+/=]/g,(function(e){switch(e){case"+":return"-";case"/":return"_";case"=":return""}}))}},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_white_4631a1537323be36c76aa5c13b3c9edd.png"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_white_2f0ec557a5c4580eedc58f64a1946a00.svg"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_eeb097cefb5f08917c48faff86e945ae.png"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_498a4d7bb984e5436a52c8b52f3ab0f7.svg"},function(e,n,t){var i=t(13),o=t(0),a=t(5),r=t(7),s={DeviceAuth:{PageId:"ConvergedRemoteConnect",ActionId:"OAuth2DeviceAuth",ConfirmationViewId:o.PaginatedState.RemoteConnectCanaryValidation},FidoAuth:{PageId:"PaginatedLogin",ActionId:"FidoGet",ConfirmationViewId:o.PaginatedState.PartnerCanaryValidation}},c=u.PartnerCanaryScenario={Undefined:0,Fido:1},d=u.CanaryValidationSuccessAction={SwitchView:1,Redirect:2};function u(e){var n=e,t=n.A6,l=n.bm,p=!!n.m,f=!!n.Bc,g=n.G,h=n.S,m=n.Az;this.validateAsync=function(){return new a((function(e,n){var a=function(){if(p)return s.DeviceAuth;if(m===c.Fido)return s.FidoAuth;throw"Canary Validation: Flow IDs not known."}();a.Canary=t;var v=function(){if(f)return{action:d.Redirect,redirectUrl:g,redirectPostParams:h,isIdpRedirect:!1};return{action:d.SwitchView}}();new i({checkApiCanary:!1,withCredentials:!0}).Json({url:l,eventId:r.EventIds.Api_CanaryValidation},a,(function(){e(v)}),(function(e){n(new u.CanaryValidationError(e,a.ConfirmationViewId,v))}),o.DefaultRequestTimeout)}))}}u.CanaryValidationError=function(e,n,t){this.name="CanaryValidationError",this.message="Canary validation failed, user confirmation required.",this.stack=(new Error).stack,this.innerError=e,this.confirmationViewId=n,this.postConfirmationAction=t},e.exports=u},function(e,n,t){var i=t(11),o=t(3),a=t(1),r=t(13),s=t(5),c=t(258),d=t(259),u=window,l=a.QueryString,p=a.Cookies,f=o.Array;e.exports=function(e){var n=e,t=n.bsso||{enabled:!1},o=n.AS,a=n.BO,g=!1!==n.checkApiCanary,h=t.cookieNames,m=null;function v(){var e=new Date;e.setSeconds(e.getSeconds()+60),p.writeWithExpiration(h.ssoPulled,"1",!o,e.toUTCString());var n=u.location.href;return n=l.appendOrReplace(n,"sso_reload","true"),t.reloadOnFailure||"select_account"!==l.extract("prompt").toLowerCase()||(n=l.appendOrReplace(n,"prompt","")),n}function b(e){m.traces.push(e)}function _(e,n){m.data[e]=n}function y(e){return m.result=e.newSessions?"UserList":"Reload",S().then((function(){return e}))}function w(e){return m.result="Error",e instanceof c.Error?"OSError"===e.code&&e.externalData&&e.externalData.error?m.error=e.externalData.error:m.error=e.code:m.error=e,S().then((function(){return s.reject(e)}))}function S(){return new s((function(e){try{u.console&&u.console.info("BSSO Telemetry: "+i.stringify(m))}catch(n){}t.telemetry.url?new r({checkApiCanary:g}).Beacon({url:t.telemetry.url},m,e,e,500):e()}))}this.loginWindowsUserAsync=function(e){return t.enabled?function(e){if(!u.navigator||"function"!=typeof u.navigator.msLaunchUri)return _("BSSO.info","not-supported"),b("window.navigator.msLaunchUri is not available for _loginWindowsUser"),s.reject("bssoNotSupported");var n="abort"===t.initiatePullTimeoutAction;return new d({logMessage:b,logDataPoint:_},t.initiatePullTimeoutMs,t.overallTimeoutMs,n).loginWindowsUserAsync(e).then((function(e){return e.reload?(b("SSO cookie detected. Refreshing page."),v()):s.reject("error")}))}(e).then(y,w):s.reject("bssoDisabled")},this.pullBrowserSsoCookieAsync=function(){var e,n=t.failureRedirectUrl||t.reloadOnFailure,r=t.type;return t.enabled?("windows"===r?e=function(){if(!u.navigator||"function"!=typeof u.navigator.msLaunchUri)return _("BSSO.info","not-supported"),b("window.navigator.msLaunchUri is not available for _pullBrowserSsoCookie"),s.reject("bssoNotSupported");var e=p.getCookie(h.ssoTiles)||t.forceTiles;if(!e&&p.getCookie(h.ssoPulled))return _("BSSO.info","throttled"),b("Cookie pull throttled"),s.reject("throttled");var n="tbauth://login.windows.net?context="+encodeURIComponent(u.location.href.split("/",3).join("/"))+(t.nonce?"&request_nonce="+encodeURIComponent(t.nonce):"")+(t.rid?"&rid="+encodeURIComponent(t.rid):""),o=n;e&&(o=l.appendOrReplace(o,"user_id","*"),p.remove(h.ssoTiles));var a="abort"===t.initiatePullTimeoutAction;return new d({logMessage:b,logDataPoint:_},t.initiatePullTimeoutMs,t.overallTimeoutMs,a).pullBrowserSsoCookieAsync(o).then((function(e){if(e.reload)return b("SSO cookie detected. Refreshing page."),{redirectUrl:v()};if(e.userList){var t=function(e,n){var t=[],o=i.parse(e).users;o&&o.length>0?(f.forEach(o,(function(e){var i={ssoUniqueId:e.unique_id,displayName:e.display_name||"",name:e.upn,isWindowsSso:!0,isSignedIn:!0,url:n};t.push(i)})),b("User list processed. List: "+i.stringify(t))):b("User list is empty.");return t}(e.userList,n);return t.length>0?{newSessions:t}:s.reject("noUsers")}}))}():"chrome"===r&&(e=new c({logMessage:b,logDataPoint:_},t.nonce,"login.microsoftonline.com",o,a).getCookiesAsync().then((function(e){if(!e||!e.length)return s.reject(new c.Error("PageException","Extension returned no cookies"));for(var n=0,t=e.length;n<t;++n){var i=e[n].data;-1!==i.indexOf(";")&&(i=i.substr(0,i.indexOf(";"))),p.write(e[n].name,i,!o)}return b("SSO cookie detected. Refreshing page."),{redirectUrl:v()}})).then(null,(function(e){return p.write(h.aadSso,e.toCookieString(),!o),b("Error: "+e.toString()),s.reject(e)}))),e.then((function(e){return n&&!e.redirectUrl?s.reject("silentPullFailed"):e})).then(y,w).then(null,(function(e){return n?t.reloadOnFailure?{redirectUrl:v()}:{redirectUrl:t.failureRedirectUrl}:s.reject(e)}))):s.reject("bssoDisabled")},this.isEnabled=function(){return!!t.enabled},t.enabled&&(m={result:null,error:null,type:t.telemetry.type||null,data:{},traces:[]},t.initiatePullTimeoutMs=t.initiatePullTimeoutMs||t.overallTimeoutMs,t.initiatePullTimeoutAction=t.initiatePullTimeoutAction||"abort",b("BrowserSSO Initialized"))}},function(e,n,t){var i=t(3),o=t(6),a=i.Array,r={mergeSessions:function(e,n,t){var i=[];return a.forEach(n,(function(n){var o=function(e,n){for(var t=0;t<n.length;t++)if(n[t].name===e.name&&n[t].idp===e.idp)return t;return-1}(n,e);-1===o?(n.isWindowsSso?e.unshift(n):e.push(n),i.push(n)):n.isWindowsSso?(e.splice(o,1),e.unshift(n),i.push(n)):t&&(e.splice(o,1),e.push(n),i.push(n))})),i},parseMeControlSessions:function(e){return a.map(e,(function(e){var n=e.firstName,t=e.lastName;return t&&(n?n+=" "+t:n=t),{id:e.sessionId,fullName:n,name:e.memberName||e.signInName,displayName:e.memberName||e.signInName,idp:o.SessionIdp.Msa,isOtherIdp:!0,isSignedIn:e.isSignedIn||1===e.authenticatedState||2===e.authenticatedState,isWindowsSso:e.isWindowsSso||!1,isMeControlSession:!0,isGitHubFed:e.isGitHubFed||!1}}))},parseBssoSessions:function(e){return a.map(e,(function(e){return{ssoUniqueId:e.ssoUniqueId,name:e.name,displayName:e.displayName,idp:o.SessionIdp.Aad,ssoLink:e.url,isWindowsSso:e.isWindowsSso,isSignedIn:e.isSignedIn}}))}};e.exports=r},function(e,n,t){var i=t(2),o=t(1),a=t(291),r=window;function s(e){var n=this,t=e.serverData,o=t.e,s=t.isCustomPerf,c=0,d=!1,u=!1;function l(e){var n={};if(e.toJSON)return e.toJSON();for(var t in e)n[t]=e[t];return n}n.clientMode=o,n.srsFailed=r.g_iSRSFailed,n.srsSuccess=r.g_sSRSSuccess,n.timeOnPage=i.observable(null),n.recordSubmit=function(){r.performance&&r.performance.timing&&n.timeOnPage((new Date).getTime()-r.performance.timing.loadEventEnd)},n.setPageLoadCompleted=function(){d=!0,setTimeout((function(){!function(){if(u||!d)return;var e=function(){var e=r.performance,n=r.navigator,t={};if(!e)return null;e.navigation&&(t.navigation=l(e.navigation));e.timing&&(t.timing=l(e.timing),c>0&&(t.timing.customLoadEventEnd=c));e.getEntries&&(t.entries=i.utils.arrayMap(e.getEntries(),l));n.connection&&(t.connection=l(n.connection));return t}();try{a.SendTelemetryPerfData(e,"LPerf")}catch(n){}u=!0}()}),0)},n.setCustomPageLoadCompletedTime=function(e){c=e||(new Date).getTime()},s||setTimeout((function(){n.setPageLoadCompleted()}),100)}i.components.register("instrumentation-control",{viewModel:s,template:t(294),synchronous:!r.ServerData.A||o.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),o=t(1),a=window;i.components.register("logo-control",{template:t(295),synchronous:!a.ServerData.A||o.Helper.isStackSizeGreaterThan(a.ServerData.A)})},function(e,n,t){var i=t(2),o=t(3),a=t(1),r=t(4),s=null,c=null,d=null,u=t(303),l=window,p=null;function f(e,n){var c=this,l=!1,f=null,g=e.serverData,h=e.showButtons||!1,m=e.showFooterLinks,v=!1!==e.showFooterLogo,b=e.useWizardBehavior,_=e.hideFromAria||i.observable(!1),y=g.BX,w=g.staticTenantBranding,S=g.arrLivePreviewOrigins;function C(e,n){var t=["Microsoft","OneDrive","Skype","Bing","Xbox","Word","Outlook","Office","Excel","PowerPoint","Cortana","SkypeDialer","Health","MileIQ","Beam","MSN","Minecraft"];return(e<0||e>=t.length)&&(e=0),o.String.format("./AppCentipede_{0}{1}.{2}",t[e],n?"_white":"",l?"svg":"png")}function x(e){var n=s.loadTenantBranding(e),i=s.getLayoutTemplateConfig(n).layoutType===p.VerticalSplit;c.isVerticalSplitTemplate(i),i&&!c.isVerticalSplitTemplateLoaded()&&t.e(33).then(function(){t(443),c.isVerticalSplitTemplateLoaded(!0)}.bind(null,t))["catch"](t.oe)}c.useLayoutTemplates=!0,c.templateNodes={},c.showButtons=h,c.footer={showLinks:m,showLogo:v},c.centipede={getLightUrl:function(){return u(C(y,!0))},getDarkUrl:function(){return u(C(y,!1))}},c.hideFromAria=_,c.isInternalModeEnabled="1"===a.QueryString.extract("psi"),c.viewModel=null,c.viewAgreement=i.observable(!1),c.agreementType=i.observable(),c.isVerticalSplitTemplate=i.observable(!1),c.isVerticalSplitTemplateLoaded=i.observable(!1),c.onFooterAgreementClick=r.create(),c.footer_agreementClick=function(e){c.onFooterAgreementClick(e)},c.agreement_backButtonClick=function(){c.viewAgreement(!1)},c.dispose=function(){f&&f.removeListener(x)},c.showAgreement=function(e){c.agreementType(e),c.viewAgreement(!0)},function(){if(l=a.Helper.isSvgImgSupported(),x(w),n&&i.utils.arrayForEach(n,(function(e){e.id&&(c.templateNodes[e.id]=e.childNodes)})),b){0}S&&(f=d.getInstance(S)).addListener(x)}()}s=t(10),c=t(0),d=t(23),p=c.LayoutTemplateType,i.components.register("master-page",{viewModel:{createViewModel:function(e,n){return new f(e,n.templateNodes)}},template:t(372),synchronous:!l.ServerData.A||a.Helper.isStackSizeGreaterThan(l.ServerData.A),enableExtensions:!0}),e.exports=f},function(e,n,t){var i=t(2),o=t(1),a=window;function r(){var e=this;e.isAppBranding=i.observable(!1),e.backgroundStyle=i.observable(),e.smallImageUrl=i.observable(),e.backgroundImageUrl=i.observable(),e.useImageMask=i.observable(!1),e.useTransparentLightBox=i.observable(!1),e.updateBranding=function(n){e.isAppBranding(!!n.backgroundLogoUrl),e.backgroundStyle(n.color),e.smallImageUrl(n.smallImageUrl),e.backgroundImageUrl(n.backgroundImageUrl),e.useImageMask(!!n.useImageMask),e.useTransparentLightBox(!!n.useTransparentLightBox)}}i.components.register("background-image-control",{viewModel:r,template:t(375),synchronous:!a.ServerData.A||o.Helper.isStackSizeGreaterThan(a.ServerData.A),enableExtensions:!0}),e.exports=r},function(e,n,t){var i=t(2),o=t(1),a=window;i.components.register("page-level-title-control",{template:t(376),synchronous:!a.ServerData.A||o.Helper.isStackSizeGreaterThan(a.ServerData.A)})},function(e,n,t){var i=t(2),o=t(0),a=t(1),r=t(388),s=t(4),c=t(9),d=t(27),u=t(12).getInstance(window.ServerData),l=t(7),p=window,f=o.PaginatedState.Previous,g=o.AnimationState,h=o.AnimationName,m=o.AnimationTimeout,v=a.Helper;function b(e,n,t,o){var a=this,b=e.initialViewId||null,_=e.currentViewId||null,y=e.initialSharedData||{},w=e.initialError,S=e.enableCssAnimation,C=e.disableAnimationIfAnimationEndUnsupported,x=d.getInstance(p.ServerData),T=t,k=o,P=null,E=g.End,D=!1,I=null,A=null,R=!1,O=null,L=i.observable();function N(){var e=a.currentViewIndex();return T[e]?T[e]():null}function B(e){L(null),a.view_onSetIdentityBackButtonState(),a.isInitialState=P.getState().isInitialState,a.onShowView(k[e].metadata,e),L(e),a.hasInitialViewShown(!0)}function F(e,n){var t=L(),i=a.onLoadView(e);if(x&&t)try{x.set("viewId",t,!0),x.post(!0)}catch(o){}i?c.throwUnhandledExceptionOnRejection(i.then((function(){U(t,e,n)}))):U(t,e,n)}function U(e,n,t){R&&(e!==n||t)&&(!w||e)?(C&&null===I&&(O=setTimeout((function(){R=!1,a.hidePaginatedView(!1),a.hidePaginatedView.hideSubView(!1),a.onSetLightBoxFadeIn(!1),E=g.End,F(n)}),m)),I=e,A=n,E=g.Begin,a.view_onAnimationEnd()):(a.animate(h.None),a.view_onAnimationEnd(),B(n))}function M(e){var n=N();if(n){e&&n.saveSharedData(a.sharedData);var t=n.getState(),i=P.getState();i.viewState=t,P.replaceState(i)}}function j(){D=!0,M(!1)}function V(){D=!1}function H(e){a.initialError=null,F(e.viewId,e.forceTransitionAnimation)}a.views=n,a.viewInterfaces=t,a.sharedData=y,a.initialError=w,a.isInitialState=!1,a.isBackButtonVisible=i.observable(!1),a.isBackButtonFocused=i.observable(!1),a.backButtonDescribedBy=i.observable(null),a.hasInitialViewShown=i.observable(!1),a.hidePaginatedView=i.utils.extend(i.observable(!1),{hideSubView:i.observable(!1)}),a.animate=i.utils.extend(i.observable(h.None),{animateBanner:i.observable(!1),isSlideOutNext:i.pureComputed((function(){return a.animate()===h.SlideOutNext})),isSlideInNext:i.pureComputed((function(){return a.animate()===h.SlideInNext})),isSlideOutBack:i.pureComputed((function(){return a.animate()===h.SlideOutBack})),isSlideInBack:i.pureComputed((function(){return a.animate()===h.SlideInBack}))}),a.showIdentityBanner=i.pureComputed((function(){var e=L();return e&&k[e].metadata&&k[e].metadata.showIdentityBanner})),a.currentViewIndex=i.pureComputed((function(){var e=L();return k[e]&&!isNaN(k[e].index)?k[e].index:-1})),a.onCancel=s.create(),a.onLoadView=s.create(),a.onShowView=s.create(),a.onSetLightBoxFadeIn=s.create(),a.onAnimationStateChange=s.create(),a.dispose=function(){P.dispose()},a.setDefaultFocus=function(){var e=N();e&&e.setDefaultFocus&&e.setDefaultFocus()},a.getCurrentViewId=function(){return L()},a.getSharedData=function(){return a.sharedData||{}},a.getSharedDataItem=function(e){return a.getSharedData()[e]},a.getCurrentView=function(){return{viewId:L(),viewInterface:N()}},a.setSharedDataItem=function(e,n){a.sharedData||(a.sharedData={}),a.sharedData[e]=n},a.saveSharedDataOnCurrentView=function(){var e=N();e&&e.saveSharedData(a.sharedData)},a.currentViewHasMetadata=function(e){var n=L();return!!k[n]&&!!k[n].metadata[e]},a.submitCurrentView=function(){var e=N();e&&e.submit&&e.submit()},a.identityBanner_onBackButtonClick=function(){a.view_onSwitchView(f)},a.view_onLoad=function(){var e=P.getState(),n=N();if(n){n.restoreState(e?e.viewState:null);var t=a.getCurrentViewId();if(u.setViewViewModel(n,t,k[t].metadata),u.logViewState(n),x&&t)try{x.set("viewId",t,!0)}catch(i){}a.setDefaultFocus()}},a.view_onSwitchView=function(e,n,t){u.logEvent({eventType:"view_onSwitchView",eventId:l.EventIds.Event_PaginationControl_ViewSwitch,eventLevel:l.EventLevel.Critical,eventArgs:{viewId:e,replaceHistory:n},eventOptions:{hidingMode:l.HidingMode.None}}),u.switchView(N());var i=P.getState()||{};t&&(i.forceTransitionAnimation=t,P.replaceState(i)),a.initialError=null,e===f?(D=!0,i.isInitialState?a.onCancel():P.goBack()):(D=!1,M(!0),(n|=e===L()&&!1!==n)?(i.viewId=e,i.viewState=null,P.replaceState(i)):(i={viewId:e},P.pushState(i)),F(e,t))},a.view_onCancel=function(){a.onCancel()},a.view_onSetIdentityBackButtonState=function(e,n,t){a.isBackButtonVisible(e||!1),a.isBackButtonFocused(n||!1),a.backButtonDescribedBy(t||null)},a.view_onAnimationEnd=function(){switch(a.onAnimationStateChange(E,D,!!I),E){case g.Begin:a.animate(h.None),a.animate.animateBanner(!I||k[I].metadata.showIdentityBanner!==k[A].metadata.showIdentityBanner),E=g.RenderNewView,I?a.animate(D?h.SlideOutBack:h.SlideOutNext):a.view_onAnimationEnd();break;case g.RenderNewView:B(A),a.animate.animateBanner()?a.hidePaginatedView(!0):a.hidePaginatedView.hideSubView(!0),E=g.AnimateNewView,I?setTimeout(a.view_onAnimationEnd,0):a.onSetLightBoxFadeIn(!0);break;case g.AnimateNewView:O&&(clearTimeout(O),O=null),E=g.End,a.hidePaginatedView(!1),a.hidePaginatedView.hideSubView(!1),a.animate(D?h.SlideInBack:h.SlideInNext)}},function(){R=S&&v.isCSSAnimationSupported(),P=new r(j,V,H);var e=null;null===b&&null===_||(b=null===b?_:b,_=null===_?b:_,e={viewId:b,isInitialState:!0},P.replaceState(e)),_!==b&&(e={viewId:_},P.pushState(e)),null!==e&&setTimeout((function(){F(e.viewId)}),0)}()}function _(e){var n={};return i.utils.arrayForEach(["wide","hideLogo","hideDefaultLogo","dynamicBranding","hideLwaDisclaimer","showIdentityBanner","showFedCredButton","hidePageLevelTitleAndDesc","extraDebugDetails"],(function(t){var i=e.getAttribute("data-"+t);i&&(n[t]="true"===i.toLowerCase())})),n}i.components.register("pagination-control",{viewModel:{createViewModel:function(e,n){var t=[],o=[],a={},r=0;return i.utils.arrayForEach(n.templateNodes,(function(e){var n;1===e.nodeType&&null!==(n=e.getAttribute("data-viewid"))&&(t.push(e),o.push(i.observable()),n=isNaN(n)?n:parseInt(n),a[n]={index:r++,metadata:_(e)})})),new b(e,t,o,a)}},template:t(389),synchronous:!p.ServerData.A||a.Helper.isStackSizeGreaterThan(p.ServerData.A),enableExtensions:!0})},function(e,n,t){var i=t(2),o=t(1),a=t(4),r=window;function s(e){var n=e.isPlatformAuthenticatorAvailable;this.isPlatformAuthenticatorAvailable=n,this.onRegisterDialog=a.create(),this.onUnregisterDialog=a.create()}i.components.register("fido-help-dialog-content-control",{viewModel:s,template:t(405),synchronous:!r.ServerData.A||o.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),o=t(1),a=t(4),r=window;function s(e,n){var t=this,i=e.dialogId,o=e.data,r=n;t.onRegisterDialog=a.create(),t.onUnregisterDialog=a.create(),t.dispose=function(){t.onUnregisterDialog(i)},t.onRegisterDialog(i,{templateNodes:r,data:o})}i.components.register("dialog-content-control",{viewModel:{createViewModel:function(e,n){return new s(e,n.templateNodes)}},template:"\x3c!-- --\x3e",synchronous:!r.ServerData.A||o.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){e.exports=t.p+"content/images/documentation_white_f1d76f59f87ee716791873beaa56f42b.png"},function(e,n,t){e.exports=t.p+"content/images/documentation_white_c8c3f0c876ac28614d1d0c2068289237.svg"},function(e,n,t){e.exports=t.p+"content/images/documentation_9628e22a6bfb1edc59e81064a666b614.png"},function(e,n,t){e.exports=t.p+"content/images/documentation_bcb4d1dc4eae64f0b2b2538209d8435a.svg"},function(e,n,t){var i=window;t.p=i.ServerData.a,i.ServerData.urlImagePath=i.ServerData.a+"images/";var o=t(2),a=t(60),r=t(0),s=t(1),c=t(63),d=t(6),u=t(64),l=r.LoginMode,p=s.Helper,f=s.QueryString,g=s.Cookies,h=d.LoginOption,m=!1;function v(e){!function(e){if(e){(new Image).src=e}}(e.aj),function(e){if(e.AW&&null!==new RegExp("Windows NT ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1)<6&&p.getIEVersion()>=7)try{document.getElementById("ev").src=e.aF}catch(n){}}(e)}a.applyExtensions(o),o.utils.registerEventHandler(i,"load",(function(){var e=i.ServerData;if(e.str=c.getStrings("str",e),e.html=c.getStrings("html",e),e.arrProofData=c.getStrings("proofData"),!m&&!function(e){try{if(top!==self&&top.location.replace(self.location.href),2===e.Ay&&e.urlFed)return function(e,n,t,i){var o=i.sFedQS;n===h.NothingChecked&&(o=f.appendOrReplace("?"+o,"wctx","LoginOptions%3D3%26"+f.extract("wctx","?"+o)).substr(1));e=f.appendOrReplace(e,"cbcxt",encodeURIComponent(decodeURIComponent(f.extract("cbcxt")))),e=f.appendOrReplace(e,"vv",encodeURIComponent(decodeURIComponent(f.extract("cbcxt")))),e=f.appendOrReplace(e,"username",encodeURIComponent(t)),e=f.appendOrReplace(e,"mkt",encodeURIComponent(decodeURIComponent(f.extract("mkt")))),e=f.appendOrReplace(e,"lc",encodeURIComponent(decodeURIComponent(f.extract("lc")))),document.location.replace(f.append(e,o))}(e.urlFed,e.AI,decodeURIComponent(f.extract("username")),e),!0;if(!g.enabled())return document.location=e.U,!0}catch(n){e.e=l.GenericError}return!1}(e))switch(m=!0,e.e){case l.GenericError:case l.GenericErrorMobile:case l.GenericErrorHost:case l.SwitchUser:case l.SwitchUserMobile:case l.SwitchUserHost:case l.InviteBlocked:case l.ServiceBlocked:case l.IDPFailed:case l.HIP_Lockout:case l.HIP_LockoutMobile:case l.HIP_LockoutHost:case l.BindFailed:t.e(1).then(function(){var n=t(408);document.body.appendChild(document.createElement("div")).innerHTML=t(409),o.applyBindings(new n(e)),v(e)}.bind(null,t))["catch"](t.oe);break;default:document.body.appendChild(document.createElement("div")).innerHTML=t(278),o.applyBindings(new u(e)),v(e)}}))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(i){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){var i,o,a;
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}input,button,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a:focus{outline:thin dotted;outline-offset:-2px;outline:5px auto -webkit-focus-ring-color}figure{margin:0}img{vertical-align:middle}.img-responsive{display:block;max-width:100%;height:auto}.img-circle{border-radius:50%}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}html{font-size:100%}body{font-family:"Segoe UI Webfont",-apple-system,"Helvetica Neue","Lucida Grande","Roboto","Ebrima","Nirmala UI","Gadugi","Segoe Xbox Symbol","Segoe UI Symbol","Meiryo UI","Khmer UI","Tunga","Lao UI","Raavi","Iskoola Pota","Latha","Leelawadee","Microsoft YaHei UI","Microsoft JhengHei UI","Malgun Gothic","Estrangelo Edessa","Microsoft Himalaya","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Yi Baiti","Mongolian Baiti","MV Boli","Myanmar Text","Cambria Math";font-size:15px;line-height:20px;font-weight:400;font-size:.9375rem;line-height:1.25rem;padding-bottom:.227px;padding-top:.227px;color:#000;background-color:#fff}a{color:#ccc;text-decoration:none}a:link{color:#0067b8}a:visited{color:#0067b8}a:hover{color:#666}a:focus{color:#0067b8}a:active{color:#999}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}ul,ol{margin-top:0;margin-bottom:10px}ul ul,ul ol,ol ul,ol ol{margin-bottom:0}abbr[title],abbr[data-original-title]{cursor:help}blockquote p:last-child,blockquote ul:last-child,blockquote ol:last-child{margin-bottom:0}blockquote footer,blockquote small,blockquote .small{display:block}address{font-style:normal}@font-face{font-family:'Segoe UI Webfont';src:local("Segoe UI Light");font-weight:200;font-style:normal}@font-face{font-family:'Segoe UI Webfont';src:local("Segoe UI");font-weight:400;font-style:normal}@font-face{font-family:'Segoe UI Webfont';src:local("Segoe UI Semibold");font-weight:600;font-style:normal}h1,h2,h3,h4,h5,h6,.text-headline,.text-header,.text-subheader,.text-title,.text-subtitle,.text-body,.text-base,.text-caption,.text-caption-alt,.text-subcaption,p{margin-bottom:20px;margin-top:20px;margin-bottom:1.25rem;margin-top:1.25rem}.text-headline{font-size:62px;line-height:80px;font-weight:200;font-size:3.875rem;line-height:5rem;padding-bottom:2.2716px;padding-top:2.2716px}.text-headline.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:84.5432px;max-height:5.28395rem}.text-headline.text-maxlines-2{max-height:164.5432px;max-height:10.28395rem}.text-headline.text-maxlines-3{max-height:244.5432px;max-height:15.28395rem}.text-headline.text-maxlines-4{max-height:324.5432px;max-height:20.28395rem}.text-header,h1{font-size:46px;line-height:56px;font-weight:200;font-size:2.875rem;line-height:3.5rem;padding-bottom:3.3628px;padding-top:3.3628px}.text-header.text-maxlines-1,h1.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:62.7256px;max-height:3.92035rem}.text-header.text-maxlines-2,h1.text-maxlines-2{max-height:118.7256px;max-height:7.42035rem}.text-header.text-maxlines-3,h1.text-maxlines-3{max-height:174.7256px;max-height:10.92035rem}.text-header.text-maxlines-4,h1.text-maxlines-4{max-height:230.7256px;max-height:14.42035rem}.text-subheader,h2{font-size:34px;line-height:40px;font-weight:200;font-size:2.125rem;line-height:2.5rem;padding-bottom:3.1812px;padding-top:3.1812px}.text-subheader.text-maxlines-1,h2.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:46.3624px;max-height:2.89765rem}.text-subheader.text-maxlines-2,h2.text-maxlines-2{max-height:86.3624px;max-height:5.39765rem}.text-subheader.text-maxlines-3,h2.text-maxlines-3{max-height:126.3624px;max-height:7.89765rem}.text-subheader.text-maxlines-4,h2.text-maxlines-4{max-height:166.3624px;max-height:10.39765rem}.text-title,h3{font-size:24px;line-height:28px;font-weight:300;font-size:1.5rem;line-height:1.75rem;padding-bottom:2.3632px;padding-top:2.3632px}.text-title.text-maxlines-1,h3.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:32.7264px;max-height:2.0454rem}.text-title.text-maxlines-2,h3.text-maxlines-2{max-height:60.7264px;max-height:3.7954rem}.text-title.text-maxlines-3,h3.text-maxlines-3{max-height:88.7264px;max-height:5.5454rem}.text-title.text-maxlines-4,h3.text-maxlines-4{max-height:116.7264px;max-height:7.2954rem}.text-subtitle,h4{font-size:20px;line-height:24px;font-weight:400;font-size:1.25rem;line-height:1.5rem;padding-bottom:1.636px;padding-top:1.636px}.text-subtitle.text-maxlines-1,h4.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:27.272px;max-height:1.7045rem}.text-subtitle.text-maxlines-2,h4.text-maxlines-2{max-height:51.272px;max-height:3.2045rem}.text-subtitle.text-maxlines-3,h4.text-maxlines-3{max-height:75.272px;max-height:4.7045rem}.text-subtitle.text-maxlines-4,h4.text-maxlines-4{max-height:99.272px;max-height:6.2045rem}.text-caption,h5{font-size:12px;line-height:14px;font-weight:400;font-size:.75rem;line-height:.875rem;padding-bottom:1.1816px;padding-top:1.1816px}.text-caption.text-maxlines-1,h5.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:16.3632px;max-height:1.0227rem}.text-caption.text-maxlines-2,h5.text-maxlines-2{max-height:30.3632px;max-height:1.8977rem}.text-caption.text-maxlines-3,h5.text-maxlines-3{max-height:44.3632px;max-height:2.7727rem}.text-caption.text-maxlines-4,h5.text-maxlines-4{max-height:58.3632px;max-height:3.6477rem}.text-caption-alt,h6{font-size:10px;line-height:12px;font-weight:400;font-size:.625rem;line-height:.75rem;padding-bottom:.818px;padding-top:.818px}.text-caption-alt.text-maxlines-1,h6.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:13.636px;max-height:.85225rem}.text-caption-alt.text-maxlines-2,h6.text-maxlines-2{max-height:25.636px;max-height:1.60225rem}.text-caption-alt.text-maxlines-3,h6.text-maxlines-3{max-height:37.636px;max-height:2.35225rem}.text-caption-alt.text-maxlines-4,h6.text-maxlines-4{max-height:49.636px;max-height:3.10225rem}.text-subcaption{font-size:8px;line-height:10px;font-weight:400;font-size:.5rem;line-height:.625rem;padding-bottom:.4544px;padding-top:.4544px}.text-subcaption.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:10.9088px;max-height:.6818rem}.text-subcaption.text-maxlines-2{max-height:20.9088px;max-height:1.3068rem}.text-subcaption.text-maxlines-3{max-height:30.9088px;max-height:1.9318rem}.text-subcaption.text-maxlines-4{max-height:40.9088px;max-height:2.5568rem}.text-body,p{font-size:15px;line-height:20px;font-weight:400;font-size:.9375rem;line-height:1.25rem;padding-bottom:.227px;padding-top:.227px}.text-body.text-maxlines-1,p.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:20.454px;max-height:1.27838rem}.text-body.text-maxlines-2,p.text-maxlines-2{max-height:40.454px;max-height:2.52838rem}.text-body.text-maxlines-3,p.text-maxlines-3{max-height:60.454px;max-height:3.77838rem}.text-body.text-maxlines-4,p.text-maxlines-4{max-height:80.454px;max-height:5.02838rem}.text-base{font-size:15px;line-height:20px;font-weight:600;font-size:.9375rem;line-height:1.25rem;padding-bottom:.227px;padding-top:.227px}.text-base.text-maxlines-1{white-space:nowrap;text-overflow:ellipsis;max-height:20.454px;max-height:1.27838rem}.text-base.text-maxlines-2{max-height:40.454px;max-height:2.52838rem}.text-base.text-maxlines-3{max-height:60.454px;max-height:3.77838rem}.text-base.text-maxlines-4{max-height:80.454px;max-height:5.02838rem}[class*="text-maxlines"]{overflow:hidden}.text-left{text-align:left}.text-right{text-align:right}.list-unstyled{padding-left:0;list-style:none}ul{padding-left:0;list-style:none}ul,ol{margin-top:20px;margin-bottom:20px}ul li,ol li{margin-top:12px;margin-bottom:12px}.list-inline{padding-left:0;list-style:none;margin-left:-4px}.list-inline>li{display:inline-block;padding-left:4px;padding-right:4px}blockquote{padding:8px 12px;margin:0 0 12px}.blockquote-reverse,blockquote.pull-right{padding-right:12px;padding-left:0;text-align:right}address{margin-bottom:12px}.container,.container-fluid{margin-right:auto;margin-left:auto;padding-left:2px;padding-right:2px;width:90%}.container:before,.container:after,.container-fluid:before,.container-fluid:after{content:" ";display:table}.container:after,.container-fluid:after{clear:both}.container .container,.container-fluid .container{width:auto}.row{margin-left:-2px;margin-right:-2px}.row:before,.row:after{content:" ";display:table}.row:after{clear:both}.col-xs-1,.col-sm-1,.col-md-1,.col-lg-1,.col-xs-2,.col-sm-2,.col-md-2,.col-lg-2,.col-xs-3,.col-sm-3,.col-md-3,.col-lg-3,.col-xs-4,.col-sm-4,.col-md-4,.col-lg-4,.col-xs-5,.col-sm-5,.col-md-5,.col-lg-5,.col-xs-6,.col-sm-6,.col-md-6,.col-lg-6,.col-xs-7,.col-sm-7,.col-md-7,.col-lg-7,.col-xs-8,.col-sm-8,.col-md-8,.col-lg-8,.col-xs-9,.col-sm-9,.col-md-9,.col-lg-9,.col-xs-10,.col-sm-10,.col-md-10,.col-lg-10,.col-xs-11,.col-sm-11,.col-md-11,.col-lg-11,.col-xs-12,.col-sm-12,.col-md-12,.col-lg-12,.col-xs-13,.col-sm-13,.col-md-13,.col-lg-13,.col-xs-14,.col-sm-14,.col-md-14,.col-lg-14,.col-xs-15,.col-sm-15,.col-md-15,.col-lg-15,.col-xs-16,.col-sm-16,.col-md-16,.col-lg-16,.col-xs-17,.col-sm-17,.col-md-17,.col-lg-17,.col-xs-18,.col-sm-18,.col-md-18,.col-lg-18,.col-xs-19,.col-sm-19,.col-md-19,.col-lg-19,.col-xs-20,.col-sm-20,.col-md-20,.col-lg-20,.col-xs-21,.col-sm-21,.col-md-21,.col-lg-21,.col-xs-22,.col-sm-22,.col-md-22,.col-lg-22,.col-xs-23,.col-sm-23,.col-md-23,.col-lg-23,.col-xs-24,.col-sm-24,.col-md-24,.col-lg-24{position:relative;min-height:1px;padding-left:2px;padding-right:2px}.col-xs-1,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-13,.col-xs-14,.col-xs-15,.col-xs-16,.col-xs-17,.col-xs-18,.col-xs-19,.col-xs-20,.col-xs-21,.col-xs-22,.col-xs-23,.col-xs-24{float:left}.col-xs-1{width:4.16667%}.col-xs-2{width:8.33333%}.col-xs-3{width:12.5%}.col-xs-4{width:16.66667%}.col-xs-5{width:20.83333%}.col-xs-6{width:25%}.col-xs-7{width:29.16667%}.col-xs-8{width:33.33333%}.col-xs-9{width:37.5%}.col-xs-10{width:41.66667%}.col-xs-11{width:45.83333%}.col-xs-12{width:50%}.col-xs-13{width:54.16667%}.col-xs-14{width:58.33333%}.col-xs-15{width:62.5%}.col-xs-16{width:66.66667%}.col-xs-17{width:70.83333%}.col-xs-18{width:75%}.col-xs-19{width:79.16667%}.col-xs-20{width:83.33333%}.col-xs-21{width:87.5%}.col-xs-22{width:91.66667%}.col-xs-23{width:95.83333%}.col-xs-24{width:100%}.col-xs-pull-0{right:auto}.col-xs-pull-1{right:4.16667%}.col-xs-pull-2{right:8.33333%}.col-xs-pull-3{right:12.5%}.col-xs-pull-4{right:16.66667%}.col-xs-pull-5{right:20.83333%}.col-xs-pull-6{right:25%}.col-xs-pull-7{right:29.16667%}.col-xs-pull-8{right:33.33333%}.col-xs-pull-9{right:37.5%}.col-xs-pull-10{right:41.66667%}.col-xs-pull-11{right:45.83333%}.col-xs-pull-12{right:50%}.col-xs-pull-13{right:54.16667%}.col-xs-pull-14{right:58.33333%}.col-xs-pull-15{right:62.5%}.col-xs-pull-16{right:66.66667%}.col-xs-pull-17{right:70.83333%}.col-xs-pull-18{right:75%}.col-xs-pull-19{right:79.16667%}.col-xs-pull-20{right:83.33333%}.col-xs-pull-21{right:87.5%}.col-xs-pull-22{right:91.66667%}.col-xs-pull-23{right:95.83333%}.col-xs-pull-24{right:100%}.col-xs-push-0{left:auto}.col-xs-push-1{left:4.16667%}.col-xs-push-2{left:8.33333%}.col-xs-push-3{left:12.5%}.col-xs-push-4{left:16.66667%}.col-xs-push-5{left:20.83333%}.col-xs-push-6{left:25%}.col-xs-push-7{left:29.16667%}.col-xs-push-8{left:33.33333%}.col-xs-push-9{left:37.5%}.col-xs-push-10{left:41.66667%}.col-xs-push-11{left:45.83333%}.col-xs-push-12{left:50%}.col-xs-push-13{left:54.16667%}.col-xs-push-14{left:58.33333%}.col-xs-push-15{left:62.5%}.col-xs-push-16{left:66.66667%}.col-xs-push-17{left:70.83333%}.col-xs-push-18{left:75%}.col-xs-push-19{left:79.16667%}.col-xs-push-20{left:83.33333%}.col-xs-push-21{left:87.5%}.col-xs-push-22{left:91.66667%}.col-xs-push-23{left:95.83333%}.col-xs-push-24{left:100%}.col-xs-offset-0{margin-left:0%}.col-xs-offset-1{margin-left:4.16667%}.col-xs-offset-2{margin-left:8.33333%}.col-xs-offset-3{margin-left:12.5%}.col-xs-offset-4{margin-left:16.66667%}.col-xs-offset-5{margin-left:20.83333%}.col-xs-offset-6{margin-left:25%}.col-xs-offset-7{margin-left:29.16667%}.col-xs-offset-8{margin-left:33.33333%}.col-xs-offset-9{margin-left:37.5%}.col-xs-offset-10{margin-left:41.66667%}.col-xs-offset-11{margin-left:45.83333%}.col-xs-offset-12{margin-left:50%}.col-xs-offset-13{margin-left:54.16667%}.col-xs-offset-14{margin-left:58.33333%}.col-xs-offset-15{margin-left:62.5%}.col-xs-offset-16{margin-left:66.66667%}.col-xs-offset-17{margin-left:70.83333%}.col-xs-offset-18{margin-left:75%}.col-xs-offset-19{margin-left:79.16667%}.col-xs-offset-20{margin-left:83.33333%}.col-xs-offset-21{margin-left:87.5%}.col-xs-offset-22{margin-left:91.66667%}.col-xs-offset-23{margin-left:95.83333%}.col-xs-offset-24{margin-left:100%}@media(min-width:540px){.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-13,.col-sm-14,.col-sm-15,.col-sm-16,.col-sm-17,.col-sm-18,.col-sm-19,.col-sm-20,.col-sm-21,.col-sm-22,.col-sm-23,.col-sm-24{float:left}.col-sm-1{width:4.16667%}.col-sm-2{width:8.33333%}.col-sm-3{width:12.5%}.col-sm-4{width:16.66667%}.col-sm-5{width:20.83333%}.col-sm-6{width:25%}.col-sm-7{width:29.16667%}.col-sm-8{width:33.33333%}.col-sm-9{width:37.5%}.col-sm-10{width:41.66667%}.col-sm-11{width:45.83333%}.col-sm-12{width:50%}.col-sm-13{width:54.16667%}.col-sm-14{width:58.33333%}.col-sm-15{width:62.5%}.col-sm-16{width:66.66667%}.col-sm-17{width:70.83333%}.col-sm-18{width:75%}.col-sm-19{width:79.16667%}.col-sm-20{width:83.33333%}.col-sm-21{width:87.5%}.col-sm-22{width:91.66667{"account_id_migration_state":2,"account_tracker_service_last_update":"13262973585920235","alternate_error_pages":{"backup":true},"autocomplete":{"retention_policy_last_version":89},"autofill":{"orphan_rows_removed":true},"browser":{"available_dark_theme_options":"All","has_seen_welcome_page":false,"should_reset_check_default_browser":false,"window_placement":{"bottom":935,"left":20,"maximized":true,"right":965,"top":20,"work_area_bottom":935,"work_area_left":0,"work_area_right":1920,"work_area_top":0}},"browser_content_container_height":864,"browser_content_container_width":1920,"browser_content_container_x":0,"browser_content_container_y":79,"caretbrowsing":{"enabled":false},"countryid_at_install":18002,"custom_links":{"list":[]},"data_reduction":{"daily_original_length":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","104475"],"daily_received_length":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","104475"],"last_update_date":"13262911200000000","last_week_services_downstream_background_kb":{},"last_week_services_downstream_foreground_kb":{"109536380":66,"110893284":990,"112189210":14,"113604596":0,"113711087":2,"119644790":0,"47815025":3,"62960123":0,"67541500":5},"last_week_user_traffic_contenttype_downstream_kb":{},"this_week_number":2676,"this_week_services_downstream_background_kb":{},"this_week_services_downstream_foreground_kb":{"109536380":66,"112189210":8,"113711087":2,"119644790":0,"12038966":0,"130931413":15,"47815025":1,"62960123":0,"67541500":14,"95682324":4},"this_week_user_traffic_contenttype_downstream_kb":{}},"default_apps_install_state":3,"domain_diversity":{"last_reporting_timestamp":"13263037727033961"},"download":{"directory_upgrade":true},"dual_engine":{"profile_id":"Z8SSJ4WM","shared_cookie_data":{},"sitelist_data_1":{},"sitelist_location":"","sitelist_version":""},"edge":{"profile_sso_info":{"aad_sso_algo_state":1,"is_first_profile":true},"profile_sso_option":1,"services":{"signin_scoped_device_id":"e401164e-bb4c-4c6c-b4b5-a906e4617b80"}},"extensions":{"alerts":{"initialized":true},"chrome_url_overrides":{},"last_chrome_version":"89.0.774.68"},"family_safety":{"activity_reporting_enabled":false,"web_filtering_enabled":false},"federated_learning":{"floc_id":{"compute_time":"13262973585919463","finch_config_version":"1","history_begin_time":"0","history_end_time":"0","sorting_lsh_version":"0"}},"http_original_content_length":"104475","http_received_content_length":"104475","language_model_counters":{"en":1,"fr":7},"media":{"device_id_salt":"620C307BF56C496102DC84AF41EF7420","engagement":{"schema_version":4}},"media_router":{"receiver_id_hash_token":"pllMBbs587SM/U40QwV1SRLIa/L0Hs0Q2CN1hn73FSRJhtwdhWefLHBq1NTkGiJNASXeMYN5So82flHGC0oY1Q=="},"ntp":{"num_personal_suggestions":1},"open_save_as_awareness_ui":{"num_times_shelf_opened_since_shown":1},"plugins":{"plugins_list":[]},"previews":{"litepage":{"user-needs-notification":false}},"profile":{"avatar_bubble_tutorial_shown":2,"avatar_index":20,"content_settings":{"enable_quiet_permission_ui_enabling_method":{"notifications":1},"exceptions":{"accessibility_events":{},"app_banner":{},"ar":{},"auto_select_certificate":{},"automatic_downloads":{},"autoplay":{},"background_sync":{},"bluetooth_chooser_data":{},"bluetooth_guard":{},"bluetooth_scanning":{},"camera_pan_tilt_zoom":{},"clear_browsing_data_cookies_exceptions":{},"client_hints":{},"clipboard":{},"cookies":{},"durable_storage":{},"file_system_last_picked_directory":{},"file_system_read_guard":{},"file_system_write_guard":{},"font_access":{},"geolocation":{},"hid_chooser_data":{},"hid_guard":{},"idle_detection":{},"images":{},"important_site_info":{},"insecure_private_network":{},"installed_web_app_metadata":{},"intent_picker_auto_display":{},"javascript":{},"legacy_cookie_access":{},"media_engagement":{"https://ntp.msn.com:443,*":{"expiration":"0","last_modified":"13262973591051456","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":3}},"https://putty.fr.uptodown.com:443,*":{"expiration":"0","last_modified":"13262449684245981","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":1}},"https://www.bing.com:443,*":{"expiration":"0","last_modified":"13262973767394071","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":2}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13262973767389374","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":1}}},"media_stream_camera":{},"media_stream_mic":{},"midi_sysex":{},"mixed_script":{},"nfc":{},"notifications":{},"password_protection":{},"payment_handler":{},"permission_autoblocking_data":{},"permission_autorevocation_data":{},"popups":{},"ppapi_broker":{},"protocol_handler":{},"safe_browsing_url_check_data":{},"sensors":{},"serial_chooser_data":{},"serial_guard":{},"site_engagement":{"https://microsoftedgewelcome.microsoft.com:443,*":{"expiration":"0","last_modified":"13263037725637945","model":0,"setting":{"decayModifiedScore":3.0,"lastEngagementTime":1.3262979777496084e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":3.0,"rawScore":3.0}},"https://ntp.msn.com:443,*":{"expiration":"0","last_modified":"13263037725638074","model":0,"setting":{"decayModifiedScore":5.857152,"lastEngagementTime":1.32630087558064e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":6.0,"rawScore":5.8837605}},"https://putty.fr.uptodown.com:443,*":{"expiration":"0","last_modified":"13263037725638100","model":0,"setting":{"decayModifiedScore":2.1,"lastEngagementTime":1.3262979955806148e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":2.1,"rawScore":2.1}},"https://www.bing.com:443,*":{"expiration":"0","last_modified":"13263037725637677","model":0,"setting":{"decayModifiedScore":5.585721599999999,"lastEngagementTime":1.3263008800876076e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":5.699999999999999,"rawScore":5.6070084}},"https://www.google.com:443,*":{"expiration":"0","last_modified":"13263037729137682","model":0,"setting":{"decayModifiedScore":3.0,"lastEngagementTime":1.3263037729137668e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":3.0,"rawScore":3.0}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13263037725638125","model":0,"setting":{"decayModifiedScore":2.1,"lastEngagementTime":1.3263008925637532e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":2.1,"rawScore":2.1}}},"sleeping_tabs":{},"sound":{},"ssl_cert_decisions":{},"storage_access":{},"subresource_filter":{},"subresource_filter_data":{},"token_binding":{},"trackers":{},"trackers_data":{"https://3c76e4b09eb4f2ccf71f02005be10757.safeframe.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449554832283","model":0,"setting":{"count":1}},"https://977857a3e2add6156fd97c33b1c50be1.safeframe.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449550699817","model":0,"setting":{"count":1}},"https://ad.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262973649637765","model":0,"setting":{"count":1}},"https://adservice.google.com:443,*":{"expiration":"0","last_modified":"13262449619875469","model":0,"setting":{"count":3}},"https://adservice.google.fr:443,*":{"expiration":"0","last_modified":"13262449619874814","model":0,"setting":{"count":3}},"https://bidder.criteo.com:443,*":{"expiration":"0","last_modified":"13262449618645204","model":0,"setting":{"count":1}},"https://csm.fr.eu.criteo.net:443,*":{"expiration":"0","last_modified":"13262449684202530","model":0,"setting":{"count":1}},"https://googleads.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449619322092","model":0,"setting":{"count":1}},"https://gum.criteo.com:443,*":{"expiration":"0","last_modified":"13262449618622863","model":0,"setting":{"count":1}},"https://pagead2.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449618918574","model":0,"setting":{"count":1}},"https://partner.googleadservices.com:443,*":{"expiration":"0","last_modified":"13262449619819719","model":0,"setting":{"count":1}},"https://s0.2mdn.net:443,*":{"expiration":"0","last_modified":"13262449622800818","model":0,"setting":{"count":1}},"https://securepubads.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449553174931","model":0,"setting":{"count":2}},"https://static.criteo.net:443,*":{"expiration":"0","last_modified":"13262449618917453","model":0,"setting":{"count":2}},"https://stats.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449554329495","model":0,"setting":{"count":2}},"https://tpc.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449616964156","model":0,"setting":{"count":3}},"https://www.google.com:443,*":{"expiration":"0","last_modified":"13262449621874858","model":0,"setting":{"count":3}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13262449554548798","model":0,"setting":{"count":2}},"https://www.googletagservices.com:443,*":{"expiration":"0","last_modified":"13262449621828499","model":0,"setting":{"count":2}}},"tracking_org_exceptions":{},"tracking_org_relationships":{"https://microsoft.test:443,*":{"expiration":"0","last_modified":"13262973591108186","model":0,"setting":{"https://ntp|msn|com/":true,"https://www|bing|com/":true}}},"usb_chooser_data":{},"usb_guard":{},"vr":{},"window_placement":{}},"pref_version":1},"created_by_version":"84.0.522.52","creation_time":"13262447162453532","exit_type":"Crashed","exited_cleanly":true,"has_seen_signin_fre":true,"icon_version":15,"last_engagement_time":"13263037729137668","last_time_obsolete_http_credentials_removed":1617973625.461102,"managed_user_id":"","name":"Profil 1","observed_session_time":{"feedback_rating_in_product_help_observed_session_time_key_84.0.522.52":170.0,"feedback_rating_in_product_help_observed_session_time_key_89.0.774.68":71.0}},"reset_prepopulated_engines":false,"safebrowsing":{"metrics_last_log_time":"13262973586"},"settings":{"a11y":{"caretbrowsing":{"enabled":false}}},"signin":{"DiceMigrationComplete":true,"allowed":true},"spellcheck":{"dictionaries":["fr"],"dictionary":""},"sync":{"autofill":true,"bookmarks":true,"collections":true,"collections_edge_re_evaluated":true,"collections_edge_supported":true,"edge_account_type":0,"extensions":true,"extensions_edge_supported":true,"history_edge_supported":true,"keep_everything_synced":false,"passwords":true,"preferences":true,"requested":false,"tabs_edge_supported":true},"translate_accepted_count":{"en":0},"translate_denied_count_for_language":{"en":2},"translate_last_denied_time_for_language":{"en":[1.618500055396577e+12]},"translate_site_blacklist_with_time":{},"unified_consent":{"migration_state":10},"web_apps":{"did_migrate_default_chrome_apps":[],"last_preinstall_synchronize_version":"89","system_web_app_failure_count":0,"system_web_app_last_attempted_language":"fr","system_web_app_last_attempted_update":"89.0.774.68","system_web_app_last_installed_language":"fr","system_web_app_last_update":"89.0.774.68"}}
{"account_id_migration_state":2,"account_tracker_service_last_update":"13262973585920235","alternate_error_pages":{"backup":true},"autocomplete":{"retention_policy_last_version":89},"autofill":{"orphan_rows_removed":true},"browser":{"available_dark_theme_options":"All","has_seen_welcome_page":false,"should_reset_check_default_browser":false,"window_placement":{"bottom":935,"left":20,"maximized":true,"right":965,"top":20,"work_area_bottom":935,"work_area_left":0,"work_area_right":1920,"work_area_top":0}},"browser_content_container_height":864,"browser_content_container_width":1920,"browser_content_container_x":0,"browser_content_container_y":79,"caretbrowsing":{"enabled":false},"countryid_at_install":18002,"custom_links":{"list":[]},"data_reduction":{"daily_original_length":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","104475","9026"],"daily_received_length":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","104475","9026"],"last_update_date":"13262997600000000","last_week_services_downstream_background_kb":{},"last_week_services_downstream_foreground_kb":{"109536380":66,"110893284":990,"112189210":14,"113604596":0,"113711087":2,"119644790":0,"47815025":3,"62960123":0,"67541500":5},"last_week_user_traffic_contenttype_downstream_kb":{},"this_week_number":2676,"this_week_services_downstream_background_kb":{},"this_week_services_downstream_foreground_kb":{"109536380":66,"112189210":8,"113711087":2,"119644790":0,"12038966":0,"130931413":15,"47815025":1,"62960123":0,"67541500":14,"95682324":4},"this_week_user_traffic_contenttype_downstream_kb":{}},"default_apps_install_state":3,"domain_diversity":{"last_reporting_timestamp":"13263037727033961"},"download":{"directory_upgrade":true},"dual_engine":{"profile_id":"Z8SSJ4WM","shared_cookie_data":{},"sitelist_data_1":{},"sitelist_location":"","sitelist_version":""},"edge":{"profile_sso_info":{"aad_sso_algo_state":1,"is_first_profile":true},"profile_sso_option":1,"services":{"signin_scoped_device_id":"e401164e-bb4c-4c6c-b4b5-a906e4617b80"}},"extensions":{"alerts":{"initialized":true},"chrome_url_overrides":{},"last_chrome_version":"89.0.774.68"},"family_safety":{"activity_reporting_enabled":false,"web_filtering_enabled":false},"federated_learning":{"floc_id":{"compute_time":"13262973585919463","finch_config_version":"1","history_begin_time":"0","history_end_time":"0","sorting_lsh_version":"0"}},"http_original_content_length":"113501","http_received_content_length":"113501","language_model_counters":{"en":1,"fr":7},"media":{"device_id_salt":"620C307BF56C496102DC84AF41EF7420","engagement":{"schema_version":4}},"media_router":{"receiver_id_hash_token":"pllMBbs587SM/U40QwV1SRLIa/L0Hs0Q2CN1hn73FSRJhtwdhWefLHBq1NTkGiJNASXeMYN5So82flHGC0oY1Q=="},"ntp":{"num_personal_suggestions":1},"open_save_as_awareness_ui":{"num_times_shelf_opened_since_shown":1},"plugins":{"plugins_list":[]},"previews":{"litepage":{"user-needs-notification":false}},"profile":{"avatar_bubble_tutorial_shown":2,"avatar_index":20,"content_settings":{"enable_quiet_permission_ui_enabling_method":{"notifications":1},"exceptions":{"accessibility_events":{},"app_banner":{},"ar":{},"auto_select_certificate":{},"automatic_downloads":{},"autoplay":{},"background_sync":{},"bluetooth_chooser_data":{},"bluetooth_guard":{},"bluetooth_scanning":{},"camera_pan_tilt_zoom":{},"clear_browsing_data_cookies_exceptions":{},"client_hints":{},"clipboard":{},"cookies":{},"durable_storage":{},"file_system_last_picked_directory":{},"file_system_read_guard":{},"file_system_write_guard":{},"font_access":{},"geolocation":{},"hid_chooser_data":{},"hid_guard":{},"idle_detection":{},"images":{},"important_site_info":{},"insecure_private_network":{},"installed_web_app_metadata":{},"intent_picker_auto_display":{},"javascript":{},"legacy_cookie_access":{},"media_engagement":{"https://ntp.msn.com:443,*":{"expiration":"0","last_modified":"13262973591051456","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":3}},"https://putty.fr.uptodown.com:443,*":{"expiration":"0","last_modified":"13262449684245981","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":1}},"https://www.bing.com:443,*":{"expiration":"0","last_modified":"13262973767394071","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":2}},"https://www.google.com:443,*":{"expiration":"0","last_modified":"13263037737483157","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":1}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13262973767389374","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":1}}},"media_stream_camera":{},"media_stream_mic":{},"midi_sysex":{},"mixed_script":{},"nfc":{},"notifications":{},"password_protection":{},"payment_handler":{},"permission_autoblocking_data":{},"permission_autorevocation_data":{},"popups":{},"ppapi_broker":{},"protocol_handler":{},"safe_browsing_url_check_data":{},"sensors":{},"serial_chooser_data":{},"serial_guard":{},"site_engagement":{"https://microsoftedgewelcome.microsoft.com:443,*":{"expiration":"0","last_modified":"13263037725637945","model":0,"setting":{"decayModifiedScore":3.0,"lastEngagementTime":1.3262979777496084e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":3.0,"rawScore":3.0}},"https://ntp.msn.com:443,*":{"expiration":"0","last_modified":"13263037725638074","model":0,"setting":{"decayModifiedScore":5.857152,"lastEngagementTime":1.32630087558064e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":6.0,"rawScore":5.8837605}},"https://putty.fr.uptodown.com:443,*":{"expiration":"0","last_modified":"13263037725638100","model":0,"setting":{"decayModifiedScore":2.1,"lastEngagementTime":1.3262979955806148e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":2.1,"rawScore":2.1}},"https://www.bing.com:443,*":{"expiration":"0","last_modified":"13263037725637677","model":0,"setting":{"decayModifiedScore":5.585721599999999,"lastEngagementTime":1.3263008800876076e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":5.699999999999999,"rawScore":5.6070084}},"https://www.google.com:443,*":{"expiration":"0","last_modified":"13263037729137682","model":0,"setting":{"decayModifiedScore":3.0,"lastEngagementTime":1.3263037729137668e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":3.0,"rawScore":3.0}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13263037725638125","model":0,"setting":{"decayModifiedScore":2.1,"lastEngagementTime":1.3263008925637532e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":2.1,"rawScore":2.1}}},"sleeping_tabs":{},"sound":{},"ssl_cert_decisions":{},"storage_access":{},"subresource_filter":{},"subresource_filter_data":{},"token_binding":{},"trackers":{},"trackers_data":{"https://3c76e4b09eb4f2ccf71f02005be10757.safeframe.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449554832283","model":0,"setting":{"count":1}},"https://977857a3e2add6156fd97c33b1c50be1.safeframe.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449550699817","model":0,"setting":{"count":1}},"https://ad.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262973649637765","model":0,"setting":{"count":1}},"https://adservice.google.com:443,*":{"expiration":"0","last_modified":"13262449619875469","model":0,"setting":{"count":3}},"https://adservice.google.fr:443,*":{"expiration":"0","last_modified":"13262449619874814","model":0,"setting":{"count":3}},"https://bidder.criteo.com:443,*":{"expiration":"0","last_modified":"13262449618645204","model":0,"setting":{"count":1}},"https://csm.fr.eu.criteo.net:443,*":{"expiration":"0","last_modified":"13262449684202530","model":0,"setting":{"count":1}},"https://googleads.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449619322092","model":0,"setting":{"count":1}},"https://gum.criteo.com:443,*":{"expiration":"0","last_modified":"13262449618622863","model":0,"setting":{"count":1}},"https://pagead2.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449618918574","model":0,"setting":{"count":1}},"https://partner.googleadservices.com:443,*":{"expiration":"0","last_modified":"13262449619819719","model":0,"setting":{"count":1}},"https://s0.2mdn.net:443,*":{"expiration":"0","last_modified":"13262449622800818","model":0,"setting":{"count":1}},"https://securepubads.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449553174931","model":0,"setting":{"count":2}},"https://static.criteo.net:443,*":{"expiration":"0","last_modified":"13262449618917453","model":0,"setting":{"count":2}},"https://stats.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449554329495","model":0,"setting":{"count":2}},"https://tpc.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449616964156","model":0,"setting":{"count":3}},"https://www.google.com:443,*":{"expiration":"0","last_modified":"13262449621874858","model":0,"setting":{"count":3}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13262449554548798","model":0,"setting":{"count":2}},"https://www.googletagservices.com:443,*":{"expiration":"0","last_modified":"13262449621828499","model":0,"setting":{"count":2}}},"tracking_org_exceptions":{},"tracking_org_relationships":{"https://microsoft.test:443,*":{"expiration":"0","last_modified":"13262973591108186","model":0,"setting":{"https://ntp|msn|com/":true,"https://www|bing|com/":true}}},"usb_chooser_data":{},"usb_guard":{},"vr":{},"window_placement":{}},"pref_version":1},"created_by_version":"84.0.522.52","creation_time":"13262447162453532","exit_type":"Normal","exited_cleanly":true,"has_seen_signin_fre":true,"icon_version":15,"last_engagement_time":"13263037729137668","last_time_obsolete_http_credentials_removed":1617973625.461102,"managed_user_id":"","name":"Profil 1","observed_session_time":{"feedback_rating_in_product_help_observed_session_time_key_84.0.522.52":170.0,"feedback_rating_in_product_help_observed_session_time_key_89.0.774.68":81.0}},"reset_prepopulated_engines":false,"safebrowsing":{"metrics_last_log_time":"13262973586"},"settings":{"a11y":{"caretbrowsing":{"enabled":false}}},"signin":{"DiceMigrationComplete":true,"allowed":true},"spellcheck":{"dictionaries":["fr"],"dictionary":""},"sync":{"autofill":true,"bookmarks":true,"collections":true,"collections_edge_re_evaluated":true,"collections_edge_supported":true,"edge_account_type":0,"extensions":true,"extensions_edge_supported":true,"history_edge_supported":true,"keep_everything_synced":false,"passwords":true,"preferences":true,"requested":false,"tabs_edge_supported":true},"translate_accepted_count":{"en":0},"translate_denied_count_for_language":{"en":2},"translate_last_denied_time_for_language":{"en":[1.618500055396577e+12]},"translate_site_blacklist_with_time":{},"unified_consent":{"migration_state":10},"web_apps":{"did_migrate_default_chrome_apps":[],"last_preinstall_synchronize_version":"89","system_web_app_failure_count":0,"system_web_app_last_attempted_language":"fr","system_web_app_last_attempted_update":"89.0.774.68","system_web_app_last_installed_language":"fr","system_web_app_last_update":"89.0.774.68"}}
 */!function(e){function n(n){for(var t,i,o=n[0],r=n[1],s=0,c=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&c.push(a[i][0]),a[i]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(d&&d(n);c.length;)c.shift()()}var t,i={},a={21:0};function o(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}Function.prototype.bind||(t=Array.prototype.slice,Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=t.call(arguments,1),i=n.length,a=this,o=function(){},r=function(){return n.length=i,n.push.apply(n,arguments),a.apply(o.prototype.isPrototypeOf(this)?this:e,n)};return this.prototype&&(o.prototype=this.prototype),r.prototype=new o,r}),document.head=document.head||document.getElementsByTagName("head")[0],function(){if(!window.Promise){e.all=function(t){return t&&t.length?new e((function(i,a){for(var o=[],r=0,s=0,c=t.length;s<c;++s){var d=t[s];d instanceof e?(r++,d.then(n(o,s,(function(){0==--r&&i(o)})),a)):o[s]=d}0===r&&setTimeout((function(){i(o)}),0)})):e.resolve([])},e.race=function(n){return new e((function(i,a){if(n&&n.length)for(var o=0,r=n.length;o<r;++o){var s=n[o];s instanceof e?s.then(i,a):setTimeout(t(i,s),0)}}))},e.reject=function(n){return new e((function(e,t){t(n)}))},e.resolve=function(n){return n instanceof e?n:n&&"function"==typeof n.then?new e((function(e,t){n.then(e,t)})):new e((function(e){e(n)}))},window.Promise=e}function e(n){var t=this,i=0,a=null,o=[];function r(){if(o.length>0){var e=o.slice();o=[],setTimeout((function(){for(var n=0,t=e.length;n<t;++n)e[n]()}),0)}}function s(e){0===i&&(a=e,i=1,r())}function c(e){0===i&&(a=e,i=2,r())}t.then=function(n,t){return new e((function(s,c){!function(n,t,s,c){o.push((function(){var o;try{o=1===i?"function"==typeof n?n(a):a:"function"==typeof t?t(a):a}catch(r){return void c(r)}o instanceof e?o.then(s,c):2===i&&"function"!=typeof t?c(o):s(o)})),0!==i&&r()}(n,t,s,c)}))},t["catch"]=function(e){return t.then(null,e)},function(){if("function"!=typeof n)throw new TypeError("Promise: argument is not a Function object");try{n(s,c)}catch(e){c(e)}}()}function n(e,n,t){return function(i){e[n]=i,t()}}function t(e,n){return function(){e(n)}}}(),o.e=function(e){var n=[],t=a[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise((function(n,i){t=a[e]=[n,i]}));n.push(t[2]=i);var r=window.ServerData,s=r&&r.loader&&r.loader.cdnRoots||[],c=r&&r.slMaxRetry?r.slMaxRetry:s.length-1,d=new Error;var l=function u(n,t){var i,r=document.createElement("script");r.charset="utf-8",r.timeout=120,o.nc&&r.setAttribute("nonce",o.nc),r.src=n,i=function(i){r.onerror=r.onload=null,clearTimeout(l);var o=a[e];if(0!==o)if(o)if(c<=0||t===c){var p=i&&("load"===i.type?"missing":i.type),g=i&&i.target&&i.target.src;d.message="Loading chunk "+e+" failed after "+(c+1)+" tries.\n("+p+": "+g+")",d.name="ChunkLoadError",d.type=p,d.request=g,o[1](d),a[e]=undefined}else{var f=u(function(e,n){if(!n)return e;for(var t=0;t<n.length;t++)if(0==e.indexOf(n[t]))return n[(t+1)%n.length]+e.substring(n[t].length);return e}(n,s),t+1);document.head.appendChild(f)}else a[e]=undefined};var l=setTimeout((function(){i({type:"timeout",target:r})}),12e4);return r.onerror=r.onload=i,r}(function(e){return o.p+"content/js/asyncchunk/convergedlogin_p"+({0:"aadfedconflict",1:"alt",2:"clienttracing",3:"confirmrecoveryusername",4:"confirmsend",5:"confirmsignup",6:"credentialpicker",7:"estslogin_accesspass",8:"estslogin_remoteloginpoll",9:"estslogin_searchorganization",10:"estslogin_signupusername",11:"estslogin_tenantdisambiguation",12:"fedconflict",13:"fedlink",14:"fetchsessionsprogress",15:"fido",16:"idpdisambiguation",17:"idpredirect",18:"idpredirectspeedbump",19:"learnmore",20:"learnmoreofflineaccount",22:"onetimecode",23:"password",24:"phonedisambiguation",25:"pop",26:"proofconfirmation",27:"prooffedconflict",28:"remoteconnectcanaryvalidation",29:"remoteconnectlocation",30:"remotengc",31:"resetpasswordsplitter",32:"tiles",33:"verticalsplittemplate",34:"viewagreement"}[e]||e)+"_"+{0:"fef4febf43f41b711791",1:"d9a44a1500ad2b8da111",2:"d5c745d5b3e92ed38be5",3:"f67e2fd066ed72b233d6",4:"9b8b097bbf72a48eedbb",5:"282b5d67125e4b1a8ce5",6:"dc5ec0641f7cdbdc5e25",7:"c04de51be1e193d00059",8:"c720935ae61766c88117",9:"00eee335a97bace47a48",10:"72425f827588468424c5",11:"0ad7a8ce18196644b7b4",12:"fc4949e2335936106c56",13:"7aa68055e8c7ace94604",14:"8c15097f6d84003a1985",15:"58293cba594b0e4047af",16:"86dd8518cca1bab1975a",17:"2d7458aaa906c719795e",18:"010151f7e89359711473",19:"0cbdfce78661cc3801aa",20:"cb294b3cb22bd03fb6d7",22:"523af9efe2501e65713d",23:"fdafe4886b12cb7303ce",24:"664930db61737baf420d",25:"5e5b1822161da0029168",26:"ed407122a0f782014c32",27:"c5955e942bf7b5eecb84",28:"54333c733045ecfce3c1",29:"6888a445f46182bf08b2",30:"28611fe84183f835405e",31:"4457689b33578fc7737c",32:"2518e45901fed3b5f354",33:"4bd57f3c986cbe9585c5",34:"b25e67898662f569ea90"}[e]+".js"}(e),0);document.head.appendChild(l)}return Promise.all(n)},o.m=e,o.c=i,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)o.d(t,i,function(n){return e[n]}.bind(null,i));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],s=r.push.bind(r);r.push=n,r=r.slice();for(var c=0;c<r.length;c++)n(r[c]);var d=s;o(o.s=56)}([function(e,n){n.UsernameMaxLength=113,n.SATOTPV1Length=6,n.SATOTPLength=8,n.PhoneNumberConfirmationLength=4,n.OneTimeCodeDefaultLength=16,n.OneTimeCodeMaxLength=7,n.PCExperienceQS="pcexp",n.PCExperienceDisabled=n.PCExperienceQS+"=false",n.NotPreferredCredentialQs="npc",n.AnimationTimeout=700,n.Regex={PhoneNumberValidation:/^[0-9 ()[\].\-#*/+]+$/},n.ProofUpRedirectLandingView={AccountCompromised:1,RiskySession:2},n.LoginMode={None:0,Login:1,ForceCredType:3,LWAConsent:4,GenericError:5,ForceSignin:6,OTS:7,HIP_Login:8,HIP_Lockout:9,InviteBlocked:10,SwitchUser:11,LWADelegation:12,ServiceBlocked:13,IDPFailed:14,StrongAuthOTC:16,StrongAuthMobileOTC:25,Finish:27,LoginWizard_Login:28,StrongAuthWABOTC:30,LoginWizard_HIP_Login:32,LoginWizard_Finish:34,LoginMobile:36,ForceSigninMobile:37,GenericErrorMobile:38,LoginHost:39,ForceSigninHost:40,GenericErrorHost:42,StrongAuthHostOTC:43,HIP_LoginHost:45,HIP_LoginMobile:46,HIP_LockoutHost:47,HIP_LockoutMobile:48,SwitchUserHost:49,LoginXbox_Login:50,HIP_LoginXbox:51,FinishXbox:52,IfExistsXbox:53,StartIfExistsXbox:54,StrongAuthXboxOTC:55,LoginWPWiz_Login:56,LoginWPWiz_HIP_Login:57,LoginWPWiz_Finish:58,StrongAuthWizOTC:59,StrongAuthWPWizOTC:60,FinishWPWiz:61,SwitchUserMobile:62,LoginWPWiz_PhoneSignIn:63,LoginWPWiz_HIP_PhoneSignIn:64,Login_PhoneSignIn:65,Login_HIP_PhoneSignIn:66,LoginHost_PhoneSignIn:67,LoginHost_HIP_PhoneSignIn:68,LoginMobile_PhoneSignIn:69,LoginMobile_HIP_PhoneSignIn:70,LoginWizard_PhoneSignIn:71,LoginWizard_HIP_PhoneSignIn:72,LoginXbox_PhoneSignIn:73,LoginXbox_HIP_PhoneSignIn:74,LoginWin10:75,HIP_LoginWin10:76,FinishWin10:77,FinishBlockedWin10:78,LoginWin10_PhoneSignIn:79,HIP_LoginWin10_PhoneSignIn:80,FinishWin10_TokenBroker:81,SwitchUserWin10:82,ForceSignInXbox:88,LoginClientSDK_Login:92,LoginClientSDK_HIP_Login:93,LoginClientSDK_Finish:94,StrongAuthClientSDKOTC:95,FinishClientSDK:96,LoginClientSDK_PhoneSignIn:97,LoginClientSDK_HIP_PhoneSignIn:98,Win10InclusiveOOBE_Finish:99,Win10InclusiveOOBE_FinishBlocked:100,Tiles:102,RemoteConnect:103,FedConflict:105,Win10Host_Login:106,Win10Host_Login_PhoneSignin:107,Win10Host_Finish:108,Win10Host_StrongAuth:109,Win10Host_HIP_Login:110,Fido:111,Win10Host_HIP_Login_PhoneSignIn:112,FedLink:113,UserCredentialPolicyBlocked:114,BindFailed:115,Win10HostOOBE_HIP_Login:116,Win10HostOOBE_HIP_Login_PhoneSignIn:117,AadFedConflict:118,ProofFedConflict:119,FedBoundLink:120,FetchSessionsProgress:121,Win10Host_TransferLogin:122,TransferLogin:123,Signup:124,RemoteConnectLocation:125},n.LoginBody={Login_OTC:5},n.SessionPullFlags={Msa:1,Dsso:2},n.PaginatedState={Previous:-1,Unknown:0,Username:1,Password:2,OneTimeCode:3,RemoteNGC:4,PhoneDisambiguation:5,LwaConsent:6,IdpDisambiguation:7,IdpRedirect:8,ViewAgreement:10,LearnMore:11,Tiles:12,ConfirmSend:13,RemoteConnectCode:14,RemoteLoginPolling:15,BindRedirect:16,TermsOfUse:17,DesktopSsoProgress:18,ResetPasswordSplitter:19,Kmsi:20,CheckPasswordType:21,ChangePassword:22,Fido:23,CredentialPicker:24,Consent:25,Error:26,ConfirmSignup:27,ConfirmRecoverUsername:28,ConfirmConsentSelection:29,FedConflict:30,ProofUpRedirect:32,ProofUpRedirectLanding:33,ConditionalAccessInstallBroker:34,ConditionalAccessWorkplaceJoin:35,ConditionalAccessError:36,CreateFido:37,FedLink:38,FedLinkComplete:40,IdpRedirectSpeedbump:41,TransferLogin:42,Cmsi:43,ProofConfirmation:44,MessagePrompt:45,FinishError:46,Hip:48,LearnMoreOfflineAccount:49,TenantDisambiguation:50,AadFedConflict:51,RemoteConnectCanaryValidation:52,PartnerCanaryValidation:53,ProofFedConflict:54,FetchSessionsProgress:55,AccessPass:56,SignupUsername:57,ReportSuspiciousApp:58,MoreInfo:59,AuthenticatorAddAccountView:60,SignupCredentialPicker:61,LoginError:62,SearchOrganization:63,Ptca:64,GuestConsent:65,RemoteConnectLocation:66,AttributeCollection:67},n.PostType={Password:11,Federation:13,SHA1:15,StrongAuth:18,StrongAuthTOTP:19,LWAConsent:30,PasswordInline:20,RemoteNGC:21,SessionApproval:22,NGC:23,OtcNoPassword:24,RemoteConnect_NativePlatform:25,OTC:27,Kmsi:28},n.UserProperty={USERNAME:"login",ERROR_CODE:"HR",ERR_MSG:"ErrorMessage",EXT_ERROR:"ExtErr",ERR_URL:"ErrUrl",DATOKEN:"DAToken",DA_SESKEY:"DASessionKey",DA_START:"DAStartTime",DA_EXPIRE:"DAExpires",STS_ILFT:"STSInlineFlowToken",SIGNINNAME:"SigninName",FIRST_NAME:"LastName",LAST_NAME:"FirstName",TILE_URL:"TileUrl",CID:"CID",PUID:"PUID"},n.Error={S_OK:"0",InvalidRealmDiscLogin:10,UsernameInvalid:1e3,PasswordEmpty:1001,HIPEmpty:1002,AltEmailInvalid:1005,PhoneInvalid:1006,SAContainsName:1007,OTCEmpty:1009,OTCInvalid:1010,NotEnoughProofs:1013,PhoneEmpty:1015,FedUser:1016,FedUserConflict:1017,FedUserInviteBlocked:1018,EmptyFields:1020,PhoneHasSpecialChars:1021,AutoVerifyNoCodeSent:1022,ProofConfirmationEmpty:1023,ProofConfirmationInvalid:1024,TOTPInvalid:1025,SessionNotApproved:1026,PhoneNumberInvalid:1027,PhoneFormattingInvalid:1028,PollingTimedOut:1029,SendNotificationFailed:1030,Server_MessageOnly:9999,PP_E_DB_MEMBERDOESNOTEXIST:"CFFFFC15",PP_E_EXCLUDED:"80041010",PP_E_MEMBER_LOCKED:"80041011",PP_E_BAD_PASSWORD:"80041012",PP_E_MISSING_MEMBERNAME:"80041031",PP_E_MISSING_PASSWORD:"80041032",PP_E_FEDERATION_INLINELOGIN_DISALLOWED:"800478AC",PP_E_PE_RULEFALSE:"8004490C",PP_E_MOBILECREDS_PHONENUMBER_BLANK:"80045801",PP_E_MOBILECREDS_PHONENUMBER_TOOSHORT:"80045806",PP_E_MOBILECREDS_PHONENUMBER_TOOLONG:"80045807",PP_E_MOBILECREDS_PHONENUMBER_INVALID:"80045800",PP_E_NAME_BLANK:"80041100",PP_E_EMAIL_INCOMPLETE:"8004110D",PP_E_EMAIL_INVALID:"8004110B",PP_E_NAME_TOO_SHORT:"80041101",PP_E_NAME_INVALID:"80041103",PP_E_INVALIDARG:"80048388",PP_E_SA_TOOSHORT:"80041120",PP_E_SA_TOOLONG:"80041121",PP_E_INVALID_PHONENUMBER:"8004113F",PP_E_SECRETQ_CONTAINS_SECRETA:"80041165",PP_E_SECRETA_CONTAINS_SECRETQ:"8004117D",PP_E_SA_CONTAINS_MEMBERNAME:"8004116A",PP_E_STRONGPROCESS_ALTEMAILSAMEASMAILBOX:"80049C2D",PP_E_EMAIL_RIGHT_TOO_LONG:"8004110C",PP_E_NAME_TOO_LONG:"80041102",PP_E_ALIAS_AUTH_NOTPERMITTED:"8004788B",PP_E_TOTP_INVALID:"80049C34",PP_E_OLD_SKYPE_PASSWORD:"80043557",PP_E_OTT_DATA_INVALID:"8004348F",PP_E_OTT_ALREADY_CONSUMED:"80043490",PP_E_OTT_INVALID_PURPOSE:"80043496",PP_E_PPSA_RPT_NOTOADDRESS:"80048120",PP_E_STRONGPROCESS_BADDEVICENAME:"80049C22",PP_E_INLINELOGIN_INVALID_SMS:"800434E1",PP_E_INLINELOGIN_INVALID_ALT:"800434E2",PP_E_PREVIOUS_PASSWORD:"80041013",PP_E_HIP_VALIDATION_WRONG:"80045505",PP_E_HIP_VALIDATION_ERROR_FATAL:"80045537",PP_E_HIP_VALIDATION_ERROR_UNAUTHENTICATED:"80045538",PP_E_HIP_VALIDATION_ERROR_OTHER:"80045539",PP_E_SQ_CONTAINS_PASSWORD:"8004341E",PP_E_SA_CONTAINS_PASSWORD:"8004341C",PP_E_SA_CONTAINED_IN_PASSWORD:"8004341D",PP_E_LIBPHONENUMBERINTEROP_NUMBERPARSE_EXCEPTION:"80043510",PP_E_STRONGPROCESS_EMAIL_HAS_MOBILE_DOMAIN:"80049C33",PP_E_STRONGPROCESS_MXALIAS_NOTALLOWED:"80049C23",PP_E_INVALID_MEMBERNAME:"80041034",PP_E_SA_TOO_MANY_CACHE_SESSIONS:"8004A00C",PP_E_INTERFACE_DISABLED:"80043448",PP_E_ASSOCIATE_DUPLICATE_ACCOUNT:"80043534",PP_E_OAUTH_REMOTE_CONNECT_USER_CODE_MISSING_OR_INVALID:"800478C7",PP_E_LOGIN_NOPA_USER_PASSWORD_REQUIRED:"800478CE",PP_E_IDP_LINKEDIN_BINDING_NOT_ALLOWED:"800478D5",PP_E_IDP_GOOGLE_BINDING_NOT_ALLOWED:"800478D6",PP_E_IDP_GITHUB_BINDING_NOT_ALLOWED:"800478D7",PP_E_IDP_BINDING_EXISTS_SAMSUNG:"8004453E"},n.EstsError={UserAccountSelectionInvalid:"16001",UserUnauthorized:"50020",UserUnauthorizedApiVersionNotSupported:"500201",UserUnauthorizedMsaGuestUsersNotSupported:"500202",UserAccountNotFound:"50034",UserAccountDeleted:"500341",UserAccountNotFoundNotConfiguredForRemoteNgc:"500342",UserAccountNotFoundFailedToCreateRemoteSignIn:"500343",UserAccountNotFoundForFidoSignIn:"500344",IdsLocked:"50053",InvalidPasswordLastPasswordUsed:"50054",InvalidPasswordExpiredPassword:"50055",InvalidPasswordNullPassword:"50056",UserDisabled:"50057",FlowTokenExpired:"50089",InvalidUserNameOrPassword:"50126",InvalidDomainName:"50128",ProtectedKeyMisuse:"50141",MissingCustomSigningKey:"50146",IdpLoopDetected:"50174",InvalidOneTimePasscode:"50181",ExpiredOneTimePasscode:"50182",OneTimePasscodeCacheError:"50183",OneTimePasscodeEntryNotExist:"50184",InvalidPassword:"50193",InvalidGrantDeviceNotFound:"700003",SsoArtifactExpiredDueToConditionalAccess:"70044",InvalidTenantName:"90002",InvalidTenantNameEmptyGuidIdentifier:"900021",InvalidTenantNameEmptyIdentifier:"900022",InvalidTenantNameFormat:"900023",PhoneSignInBlockedByUserCredentialPolicy:"130500",AccessPassBlockedByPolicy:"130502",InvalidAccessPass:"130503",AccessPassExpired:"130504",AccessPassAlreadyUsed:"130505",PublicIdentifierSasBeginCallRetriableError:"131001",PublicIdentifierAuthUserNotAllowedByPolicy:"131010",PublicIdentifierSasBeginCallNonRetriableError:"131002",PublicIdentifierSasEndCallRetriableError:"131003",PublicIdentifierSasEndCallNonRetriableError:"131004",DeviceIsDisabled:"135011",FidoBlockedByPolicy:"135016",BlockedAdalVersion:"220300",BlockedClientId:"220400",UserVoiceAuthFailedCallWentToVoicemail:"UserVoiceAuthFailedCallWentToVoicemail",UserVoiceAuthFailedInvalidPhoneInput:"UserVoiceAuthFailedInvalidPhoneInput",UserVoiceAuthFailedPhoneHungUp:"UserVoiceAuthFailedPhoneHungUp",UserVoiceAuthFailedInvalidPhoneNumber:"UserVoiceAuthFailedInvalidPhoneNumber",UserVoiceAuthFailedInvalidExtension:"UserVoiceAuthFailedInvalidExtension",InvalidFormat:"InvalidFormat",UserAuthFailedDuplicateRequest:"UserAuthFailedDuplicateRequest",UserVoiceAuthFailedPhoneUnreachable:"UserVoiceAuthFailedPhoneUnreachable",UserVoiceAuthFailedProviderCouldntSendCall:"UserVoiceAuthFailedProviderCouldntSendCall",User2WaySMSAuthFailedProviderCouldntSendSMS:"User2WaySMSAuthFailedProviderCouldntSendSMS",SMSAuthFailedProviderCouldntSendSMS:"SMSAuthFailedProviderCouldntSendSMS",User2WaySMSAuthFailedNoResponseTimeout:"User2WaySMSAuthFailedNoResponseTimeout",SMSAuthFailedNoResponseTimeout:"SMSAuthFailedNoResponseTimeout",SMSAuthFailedWrongCodeEntered:"SMSAuthFailedWrongCodeEntered",OathCodeIncorrect:"OathCodeIncorrect",OathCodeDuplicate:"OathCodeDuplicate",OathCodeOld:"OathCodeOld",PhoneAppNoResponse:"PhoneAppNoResponse",User2WaySMSAuthFailedWrongCodeEntered:"User2WaySMSAuthFailedWrongCodeEntered",PhoneAppInvalidResult:"PhoneAppInvalidResult",PhoneAppDenied:"PhoneAppDenied",PhoneAppTokenChanged:"PhoneAppTokenChanged",SMSAuthFailedMaxAllowedCodeRetryReached:"SMSAuthFailedMaxAllowedCodeRetryReached",PhoneAppFraudReported:"PhoneAppFraudReported",FraudCodeEntered:"FraudCodeEntered",UserIsBlocked:"UserIsBlocked",PhoneAppEntropyIncorrect:"PhoneAppEntropyIncorrect"},n.Fido={MaxUserPromptLength:99,FinishStates:{Success:0,Cancel:1,Error:2,NotSupported:3},UnexpectedErrorCode:9999,EdgeErrorCodes:{SyntaxError:3,NotFoundError:8,NotSupportedError:9,InvalidAccessError:15,AbortError:20}},n.IfExistsResult={Unknown:-1,Exists:0,NotExist:1,Throttled:2,Error:4,ExistsInOtherMicrosoftIDP:5,ExistsBothIDPs:6},n.ThrottleStatus={NotThrottled:0,AadThrottled:1,MsaThrottled:2},n.DomainType={Unknown:1,Consumer:2,Managed:3,Federated:4,CloudFederated:5},n.CredentialType={Password:1,RemoteNGC:2,OneTimeCode:3,Federation:4,CloudFederation:5,OtherMicrosoftIdpFederation:6,Fido:7,GitHub:8,PublicIdentifierCode:9,LinkedIn:10,RemoteLogin:11,Google:12,AccessPass:13,Facebook:14,Certificate:15,NoPreferredCredential:1e3},n.RemoteNgcType={PushNotification:1,ListSessions:3},n.SessionPollingType={Image:1,Json:2},n.AgreementType={Privacy:"privacy",Tou:"tou",Impressum:"impressum"},n.ApiErrorCodes={GeneralError:6e3,AuthFailure:6001,InvalidArgs:6002,Generic:8e3,Timeout:8001,Aborted:8002},n.DefaultRequestTimeout=3e4,PROOF={Type:{Email:1,AltEmail:2,SMS:3,DeviceId:4,CSS:5,SQSA:6,HIP:8,Birthday:9,TOTPAuthenticator:10,RecoveryCode:11,StrongTicket:13,TOTPAuthenticatorV2:14,TwoWayVoice:15,TwoWaySMS:16,FidoKey:17,Voice:-3}},n.ContentType={Json:"application/json; charset=utf-8",FormUrlEncoded:"application/x-www-form-urlencoded"},n.BindProvider={LinkedIn:0,GitHub:1,Google:2,Samsung:3,Facebook:4},n.PromotedAltCredFlags={None:0,GitHub:1,LinkedIn:2},n.EnvironmentName={Internal:1,TestSlice:2,FirstSlice:3},n.AnimationState={Begin:0,End:-1,RenderNewView:1,AnimateNewView:2},n.AnimationName={None:0,SlideOutNext:1,SlideInNext:2,SlideOutBack:3,SlideInBack:4},n.DialogId={None:0,FidoHelp:1,GitHubHelp:2,ConsentAppInfo:3},n.KeyCode={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowUp:38,ArrowDown:40,WinKeyLeft:91,F6:117,GamePadB:196},n.ProofOfPossession={AuthenticatorKey:"cpa",CanaryTokenKey:"canary",MethodHint:"cpa_method_hint"},n.UpgradeMigrationUXId={Invalid:0,Mojang:1},n.TransferLoginStringsVariant={Default:0,Mmx:1,MmxPhoneFirst:2,AppNameOnly:3,AppNameAndUsername:4},n.LayoutTemplateType={Lightbox:0,VerticalSplit:1},n.LayoutTemplateHorizontalPosition={Left:0,Center:1,Right:2},n.ProofUpRedirectViewType={DefaultProofUpRedirectView:0,AuthAppProofUpRedirectView:1}},function(e,n,t){var i=t(26),a=t(3),o=t(5),r=t(10),s=a.Object,c=a.String,d=a.Array,l=window,u=null,p={},g={},f={},m=null,h=null,v=null,b=null,_=null,S=null,y=null,w=null,T=!!l.ServerData.BQ,C=null;n.HttpCode={Ok:200,NotModified:304,Timeout:408,ClientClosedRequest:499};var x=n.Helper={isIEOlderThan:function(e){if(p[e]===undefined){var n=x.getIEVersion();p[e]=n&&n<e+1}return p[e]},isEdge:function(){if(null===u){u=!1;var e=x.getWindowsVersion();if(null!==e&&e>=10){var n=x.getIEVersion();u=null!==n&&n>=12}}return u},isChrome:function(){return null===m&&(m=navigator.userAgent.toLowerCase().indexOf("chrome")>-1),m},isFirefoxNewerThan:function(e){if(g[e]===undefined){var n=x.getFirefoxVersion();g[e]=n&&n>e}return g[e]},isChromeNewerThan:function(e){if(f[e]===undefined){var n=x.getChromeVersion();f[e]=n&&n>e}return f[e]},isIOSSafari:function(){if(null===h){var e=l.navigator.userAgent.toLowerCase();h=/safari/.test(e)&&/iphone|ipod|ipad/.test(e)&&!l.MSStream}return h},isIOSUIWebView:function(){if(null===v){var e=l.navigator.userAgent.toLowerCase();v=!1===/safari/.test(e)&&/iphone|ipod|ipad/.test(e)&&!l.MSStream}return v},isQtCarBrowser:function(){return null===b&&(b=navigator.userAgent.toLowerCase().indexOf("qtcarbrowser")>-1),b},isEdgeClientBrowser:function(){return null===_&&(_=navigator.userAgent.toLowerCase().indexOf("edgeclient/")>-1),_},isOnTouchStartEventSupported:function(){return"ontouchstart"in document.documentElement},getIEVersion:function(){var e=l.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):null},getFirefoxVersion:function(){var e=l.navigator.userAgent.match(/(firefox(?=\/))\/?\s*(\d+)/i);return e&&3===e.length&&"firefox"===e[1].toLowerCase()?parseInt(e[2]):null},getChromeVersion:function(){var e=l.navigator.userAgent.match(/(chrome(?=\/))\/?\s*(\d+)/i);return e&&3===e.length&&"chrome"===e[1].toLowerCase()?parseInt(e[2]):null},getWindowsVersion:function(){return null!==new RegExp("Windows NT ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?parseFloat(RegExp.$1):null},htmlEscape:function(e){if(!e)return"";var n=document.createElement("textarea");return n.innerText=e,n.innerHTML},htmlUnescape:function(e){if(!e)return"";if(e.match(/<[^<>]+>/))return e;var n=document.createElement("textarea");return n.innerHTML=e,n.value},getStackSize:function(e){var n=0,t=null==e;try{!function i(){n++,(t||n<=e)&&i()}()}catch(i){}return n},getAnimationEndEventName:function(){var e=document.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var t in n)if(e.style[t]!==undefined)return n[t];return""},isStackSizeGreaterThan:function(e){return e=e||0,x.getStackSize(e)>e},isSvgImgSupported:function(){return null===C&&(C=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")),C},isPlaceholderAttributeAllowed:function(e){return null===y&&(y=x.isChromeNewerThan(16)||x.isEdge()||x.isFirefoxNewerThan(14)||e&&x.isIOSUIWebView()||x.isIOSSafari()||x.isQtCarBrowser()),y},isCSSAnimationSupported:function(){var e=!1,n=document.createElement("div");(e=n.style.animationName!==undefined)||(e=!!d.first(["Webkit","Moz","O"],(function(e){return n.style[e+"AnimationName"]!==undefined})));return e},isStyleSupported:function(e){return e in document.documentElement.style},isCORSSupported:function(){return l.XDomainRequest||l.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest},isHistorySupported:function(){if(null===w){if(w=l.history&&l.history.pushState&&"undefined"!=typeof l.history.state&&"undefined"!=typeof l.onpopstate)try{l.history.replaceState("__history_test",""),("__history_test"!==l.history.state||x.isEdgeClientBrowser())&&(w=!1)}catch(e){w=!1}}return w},isFidoSupportedAsync:function(e){return l.navigator.credentials!==undefined&&l.navigator.credentials.create!==undefined&&l.navigator.credentials.get!==undefined&&l.PublicKeyCredential!==undefined&&l.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable!==undefined?l.PublicKeyCredential.isExternalCTAP2SecurityKeySupported?r.newPromiseWithTimeout(l.PublicKeyCredential.isExternalCTAP2SecurityKeySupported,i.PromiseTimeout,!1):o.resolve(e):o.resolve(!1)},isChangingInputTypeSupported:function(){return!x.isIEOlderThan(9)},isHighContrast:function(){if(null===S){var e=document.createElement("span");e.style.borderLeftColor="red",e.style.borderRightColor="blue",e.style.position="absolute",e.style.top="-999px",document.body.appendChild(e);var n=x.getComputedStyle(e);S=n.borderLeftColor===n.borderRightColor,document.body.removeChild(e)}return S},getHighContrastTheme:function(){if(x.isHighContrast()){var e=document.getElementsByTagName("body")[0],n=x.getComputedStyle(e);if(n.backgroundColor){var t=n.backgroundColor.toLowerCase().replace(new RegExp(" ","g"),"");if("rgb(0,0,0)"===t||"#000000"===t||"#000"===t)return"black";if("rgb(255,255,255)"===t||"#ffffff"===t||"#fff"===t)return"white"}}},getComputedStyle:function(e){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle?e.currentStyle:{}},history:{pushState:function(e,n){x.isHistorySupported()&&l.history.pushState(e,n)},replaceState:function(e,n){x.isHistorySupported()&&l.history.replaceState(e,n)}},addEventListener:function(e,n,t,i){e.addEventListener?e.addEventListener(n,t,i):e.attachEvent&&e.attachEvent("on"+n,t)},removeEventListener:function(e,n,t,i){e.removeEventListener?e.removeEventListener(n,t,i):e.detachEvent&&e.detachEvent("on"+n,t)},getEventTarget:function(e){return e?e.target?e.target:e.srcElement?e.srcElement:null:null}},I=n.QueryString={parse:function(e){var n=e,t=null,i=null;if(e){var a=e.indexOf("?"),o=e.indexOf("#");-1!==o&&(-1===a||o<a)?(n=e.substring(0,o),i=c.doubleSplit(e.substring(o+1),"&","=")):-1!==a&&-1===o?(n=e.substring(0,a),t=c.doubleSplit(e.substring(a+1),"&","=")):-1!==a&&-1!==o&&(n=e.substring(0,a),t=c.doubleSplit(e.substring(a+1,o),"&","="),i=c.doubleSplit(e.substring(o+1),"&","="))}return{originAndPath:n,query:t,fragment:i}},join:function(e){var n=e.originAndPath||"";return e.query&&(n+="?"+s.join(e.query,"&","=")),e.fragment&&(n+="#"+s.join(e.fragment,"&","=")),n},appendCurrentQueryParameterIfNotExist:function(e){var n=I.parse(window.location.href);return s.forEach(n.query,(function(n,t){e=I.addIfNotExist(e,n,t)})),e},append:function(e,n){var t=I.parse(e),i=c.doubleSplit(n,"&","=");return t.query=t.query||{},s.forEach(i,(function(e,n){t.query[e]=n||null})),I.join(t)},addIfNotExist:function(e,n,t){t=t||"";var i=I.parse(e);return null===s.findOwnProperty(i.query||{},n,!0)&&(i.query=i.query||{},i.query[n.toLowerCase()]=t),I.join(i)},add:function(e,n){var t=I.parse(e);return e&&n&&n.length&&(t.query=t.query||{},d.forEach(n,(function(e){t.query[e[0]]=e[1]}))),I.join(t)},appendOrReplace:function(e,n,t,i){var a=I.parse(e);a.query=a.query||{};var o=s.findOwnProperty(a.query,n,!0);o&&delete a.query[o],a.query[n.toLowerCase()]=t;var r=I.join(a);return i&&r.length>i?e:r},remove:function(e,n){var t=I.parse(e);t.query=t.query||{};var i=s.findOwnProperty(t.query,n,!0);return i&&delete t.query[i],I.join(t)},extract:function(e,n){n||""===n||(n=document.location.search);var t=I.parse(n);t.query=t.query||{};var i=s.findOwnProperty(t.query,e,!0);return i?t.query[i]:""},appendOrReplaceFromCurrentUrl:function(e,n){var t=I.extract(n);return t?I.appendOrReplace(e,n,t):e},stripQueryStringAndFragment:function(e){return I.parse(e).originAndPath}},k=n.Cookies={expireDate:"Thu, 30-Oct-1980 16:00:00 GMT",persistTTLDays:390,cookieSafeRegex:/^[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]+$/,enabled:function(){var e="G"+(new Date).getTime();k.write("CkTst",e);var n=!!k.getCookie("CkTst");return k.remove("CkTst"),n},getCookie:function(e){var n=c.doubleSplit(document.cookie,";","=",!1,c.trim);return n[e]?n[e]:null},getObject:function(e){var n=k.getCookie(e)||"";return c.doubleSplit(n,"&","=")},remove:function(e,n,t){var i=n||document.location.hostname,a=i.split("."),o=a.length,r=a[o-2]+"."+a[o-1],s=t||"/",d="https:"===document.location.protocol,l=d?";secure":"",u=k.getDefaultSameSiteAttribute(d);document.cookie=c.format("{0}= ;domain=.{1};path={2};expires={3}{4}{5}",e,r,s,k.expireDate,l,u),document.cookie=c.format("{0}= ;domain=.{1};path={2};expires={3}{4}{5}",e,i,s,k.expireDate,l,u)},write:function(e,n,t,i,a,o,r,s){var c=o?".":"",d=document.domain.split(".");a&&d.splice(0,Math.max(0,d.length-2));var l=c+d.join(".");k.writeWithExpiration(e,n,t,i?k.getPersistDate():null,l,r,s)},writeWithExpiration:function(e,n,t,i,a,o,r){if(""===n)k.remove(e,a);else{"object"==typeof n&&(n=s.join(n,"&","="));var d,l=i?";expires="+i:"",u=a?";domain="+a:"",p=o||"/",g=t?";secure":"";d=r&&"none"!==r.toLowerCase()?";SameSite="+r:k.getDefaultSameSiteAttribute(t);var f=c.format("{0}={1}{2};path={3}{4}{5}{6}",e,n,u,p,l,g,d);document.cookie=f}},isCookieSafeValue:function(e){return k.cookieSafeRegex.test(e)},getDefaultSameSiteAttribute:function(e){return e&&T?";SameSite=None":""},getPersistDate:function(){var e=new Date;return e.setDate(e.getDate()+k.persistTTLDays),e.toUTCString()}}},function(e,n,t){var i=window,a=i.document.documentMode,o=i.navigator;!function(){var n=null,r=o.userAgent,s=null,c=r.match(/MSIE ([^ ]+)/);if(c&&(n=parseInt(c[1])),"function"==typeof i.Symbol&&r.match(/AppleWebKit\/601/)&&(i.Symbol=null),n&&a&&n!==a&&Object.defineProperty)try{Object.defineProperty(o,"userAgent",{get:function(){return s}}),s=r.replace(/MSIE [^ ]+/,"MSIE "+a+".0"),e.exports=t(16),s=r}catch(d){e.exports=t(16)}else e.exports=t(16)}()},function(e,n,t){var i=t(2),a=t(12),o=t(60),r=n.Object={clone:function(e){var n={};return e&&(n=a.parse(a.stringify(e))),n},join:function(e,n,t){var i="";return e&&r.forEach(e,(function(e,a){i&&(i+=n),i+=e+t+(a||"")})),i},forEach:function(e,n){i.utils.objectForEach(e,n)},findOwnProperty:function(e,n,t){var i;for(var a in t&&(i=n.toLowerCase()),e)if(e.hasOwnProperty(a)&&(a===n||t&&a.toLowerCase()===i))return a;return null},extend:i.utils.extend},s=n.String={trim:function(e){return e.replace(/^\s+|\s+$/g,"")},find:function(e,n,t,i){return e?t?e.toLowerCase().indexOf(n.toLowerCase(),i):e.indexOf(n,i):-1},format:o.format,doubleSplit:function(e,n,t,i,a){var o={};return e&&c.forEach(e.split(n),(function(e){if(e){var n=e.split(t),r=n[0];a&&(r=a(r)),1===n.length?o[r]=null:o[r]=i?n.slice(1):n.slice(1).join(t)}})),o},isEmailAddress:function(e){if((e=s.trim(e)).charAt(0)>"~"||-1!==e.indexOf(" "))return!1;var n=e.indexOf("@");if(-1===n||-1===e.indexOf(".",n))return!1;var t=e.split("@");return!(t.length>2||t[0].length<1||t[1].length<2)},isPhoneNumber:function(e){var n=e.replace(/\D+/g,"");return n.length>=4&&n.length<=50},isSkypeName:function(e){e=s.trim(e);var n=new RegExp(/^[a-zA-Z][a-zA-Z0-9.,\-_:']{0,128}$/);return!!e.match(n)},extractDomain:function(e,n,t){if(!s.isEmailAddress(e))return e;var i=s.trim(e).split("@")[1];return e=t?"@":"",n?e+i.slice(0,i.lastIndexOf(".")+1):e+i},extractDomainFromUrl:function(e){if(e){var n=document.createElement("a");return n.href=e,n.hostname}return""},extractOriginFromUrl:function(e){if(e){var n=document.createElement("a");n.href=e;var t=n.origin;return t||(t=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")),t}return""},doOriginsMatch:function(e,n){var t=s.extractOriginFromUrl(e);return s.extractOriginFromUrl(n)===t},capFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},cleanseUsername:function(e,n){if(!e)return"";if(e=s.trim(e).toLowerCase(),!s.isEmailAddress(e)&&!s.isSkypeName(e)&&s.isPhoneNumber(e)){var t="";return n&&"+"===e.charAt(0)&&(t="+"),t+e.replace(/\D+/g,"")}return e},maskString:function(e,n){if(!e)return"";if(e.length<=2*n)return e;var t=e.length-2*n,i=Array(t+1).join("*");return e.substring(0,n)+i+e.substring(n+t)}},c=n.Array={first:i.utils.arrayFirst,forEach:i.utils.arrayForEach,map:i.utils.arrayMap,removeItem:i.utils.arrayRemoveItem,arrayFilter:i.utils.arrayFilter,findIndex:function(e,n){if(e&&"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}};n.DateTime={getCurrentTime:function(){return(new Date).getTime()},getUTCString:function(){return Date.prototype.toISOString?(new Date).toISOString():(new Date).toUTCString()}},n.ErrorData=function(e,n){var t=this;t.errorText=e,t.remediationText=n,t.toString=function(){return t.errorText}}},function(e,n,t){var i=t(2);n.create=function(e){var n,t=!1;function a(){return t=!0,a.eventArgs(Array.prototype.slice.call(arguments)),n}return a.eventArgs=i.observable().extend({notify:"always"}),a.tracingOptions=e,a.subscribe=function(e){a.eventArgs.subscribe((function(t){n=e(t)})),t&&(n=e(a.eventArgs.peek()))},a},n.isComponentEvent=function(e){return e&&i.isObservable(e.eventArgs)}},function(e,n,t){var i=window;e.exports=i.Promise},function(e,n){n.Tokens={Username:"#~#MemberName_LS#~#"},n.Fed={DomainToken:"#~#partnerdomain#~#",FedDomain:"#~#FederatedDomainName_LS#~#",Partner:"#~#FederatedPartnerName_LS#~#"},n.LoginOption={DoNotRemember:0,RememberPWD:1,NothingChecked:3},n.StringsVariantId={Default:0,SkypeMoveAlias:1,CombinedSigninSignup:2,CombinedSigninSignupDefaultTitle:3,RemoteConnectLogin:4,CombinedSigninSignupV2:5,CombinedSigninSignupV2WelcomeTitle:6},n.AllowedIdentitiesType={MsaOnly:0,AadOnly:1,Both:2},n.SessionIdp={Aad:0,Msa:1},n.ClientTracingEventIds={Event_LoginPaginatedUsernameView_onLoad:11e4,Event_LoginPaginatedPasswordView_onLoad:110001,ComponentEvent_LoginPaginatedUsernameView_onShowDialog:12e4,ComponentEvent_LoginPaginatedUsernameView_onAgreementClick:120001,ComponentEvent_LoginPaginatedPasswordView_onResetPassword:120100,PropertyValue_LoginPaginatedPageView_IsFidoSupported:14e4,PropertyValue_LoginPaginatedUsernameView_Username:140100,PropertyValue_LoginPaginatedUsernameView_ClientError:140101,PropertyValue_LoginPaginatedPasswordView_Password:140200,PropertyValue_LoginPaginatedPasswordView_ClientError:140201,PropertyValue_LoginPaginatedPasswordView_KMSI:140202}},function(e,n){n.EventIds={Unknown:0,Event_PaginationControl_ViewSwitch:1e4,Api_GetOneTimeCode:2e4,Api_GetOneTimeToken:20001,Api_CanaryValidation:20002,Api_GetCustomCss:20003,Api_GetCredentialType:20004,Api_CheckSessionState:20005,Api_GetIwaSsoToken:20006,Api_OtcAuthentication:20007,Api_DeviceAuthentication:20008,Api_BeginOtcAuthentication:20009,Api_ConfirmOneTimeCode:20010,Api_BeginSessionApproval:20011,Api_EndSessionApproval:20012,Api_Forget:20013,Redirect_Unknown:4e4,Redirect_MSASignUpPage:40001,Redirect_AADSignUpPage:40002,Redirect_SkipZeroTouch:40003,Redirect_ResetPasswordPage:40004,Redirect_MSAUserRecoveryPage:40005,Redirect_OtherIdpRedirection:40006,Redriect_SwitchUser:40007},n.EventLevel={None:0,Critical:1,Info:2,ApiRequest:4,CXH:8,Debug:16,Verbose:32,All:65535},n.HidingMode={None:0,Hide:1,Mask:2},n.DataPointScope={ClientEvent:1,Global:2},n.EventStage={None:0,Begin:1,End:2}},function(e,n,t){var i=t(2),a=t(1),o=window,r=a.Helper;function s(e,n,t){var i=this,a=e.hasDarkBackground;i.isHighContrastBlackTheme=!1,i.isHighContrastWhiteTheme=!1,i.hasDarkBackground=a,i.lightImageNode=n,i.darkImageNode=t,function(){if(r.isHighContrast()){var e=r.getHighContrastTheme();i.isHighContrastBlackTheme="black"===e,i.isHighContrastWhiteTheme="white"===e}}()}i.components.register("accessible-image-control",{viewModel:{createViewModel:function(e,n){var t=i.utils.arrayFilter(n.templateNodes,(function(e){return 1===e.nodeType}));return new s(e,t[0],t[1])}},template:t(274),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)}),e.exports=s},function(e,n,t){var i=t(12),a=t(21),o=t(0),r=t(3),s=t(1),c=t(13).getInstance(window.ServerData),d=t(7),l=window,u=l.$Config||l.ServerData||{},p=r.Object,g=s.QueryString;e.exports=function(e){var n=this,t=!1!==(e=e||{}).checkApiCanary,r=e.withCredentials||!1,s=e.breakCache||!1,l=e.responseType||"",f=e.notifyOnClientAbort||!1;function m(e){var n={hpgid:u.hpgid||0,hpgact:u.hpgact||0};return e||(n.Accept="application/json",t&&u.apiCanary&&(n.canary=u.apiCanary)),u.n&&(n["client-request-id"]=u.n),u.sessionId&&(n.hpgrequestid=u.sessionId),n}function h(e){var n=e;if(e&&"string"!=typeof e){var t={};p.forEach(e,(function(e,n){"unsafe_"===e.substr(0,7)&&(e=e.substr(7)),t[e]=n})),n=i.stringify(t)}return n&&(n=n.replace(/\?/g,"\\u003F")),n}function v(e){e.headers=m(),e.withCredentials=r,e.breakCache=s,e.responseType=l}function b(e,n,t,i,a,o){var r=null;if(n){var s=n.eventOptions||{};if(s.eventId=n.eventId||s.eventId,s.hasOwnProperty("hidingMode")||(s.hidingMode=d.HidingMode.None),s.eventId){(r={}).eventType=t,r.eventId=s.eventId,r.eventLevel=s.eventLevel||d.EventLevel.ApiRequest;var l={};l.requestTimeout=i,a&&(l.contentType=a),l.requestType=t,o&&(l.noCallback=!0),r.eventArgs=l,r.eventOptions=s,c.traceBeginRequest(e,r)}}e.eventData=r}function _(e,n,t,i,a){c.traceEndRequest(e,n,t,i,a)}function S(e,n){var t={};return e&&(t.xhr_status=e.status),t.textStatus=n,t}n.Errors=[],n.Json=function(e,a,r,s,c){var d=!(!r&&!s),l=(new Date).getTime(),p=e.url;function g(e){var t,a=(e=e||{}).error||null,o={startTime:l,endTime:(new Date).getTime()};if(e.apiCanary&&(u.apiCanary=e.apiCanary,delete e.apiCanary),a){t=(t=a.stackTrace)&&t.encodeJson?t.encodeJson():"";var c=i.stringify({code:a.code,message:a.message,debug:a.debugMessage,stacktrace:t,requestUrl:p});n.Errors.push(c),n.Errors.length>100&&n.Errors.shift(),(8002!==a.code||f)&&s&&s(e,o)}else r&&r(e,o)}if(t&&!u.apiCanary)return setTimeout((function(){g({error:{code:8002,message:"Request Failed!",isFatal:!0}})}),0),null;var m=h(a);n.Post(e,o.ContentType.Json,m,(function(e,n){d&&g(i.parse(n))}),(function(e,n,t,a){d&&g(function(e,n){var t={};if(500===e.status)try{t=i.parse(e.responseText)||{}}catch(s){}if(!t.error){var a=!1,o=8e3,r="Request Failed -- No Response from Server";switch(n){case"timeout":o=8001,r="Timeout Error",a=!0;break;case"abort":o=8002,r="Aborted";break;case"error":e.status>=400&&(a=!0);break;case"parsererror":r="Unable to parse response",a=!0}t.error={code:o,message:r,debugMessage:"(xhr status "+e.status+") xhr.responseText: "+e.responseText,stackTrace:"",isFatal:a}}return t}(n,t))}),c)},n.Post=function(e,t,i,o,r,s){var c=e.url,d={},l=!1;o||r||(l=!0),b(d,e,a.RequestType.Post,s,t,l);var u={targetUrl:c,contentType:t,data:i,requestType:a.RequestType.Post,timeout:s||3e4,successCallback:function(e,n){_(d,"Success",n,!0,(function(){o&&o(e,n)}))},failureCallback:function(e,n,t){_(d,"Failed",S(n,t),!1,(function(){r&&r(e,n,t)}))},timeoutCallback:function(e,n,t){_(d,"Timeout",S(n,t),!1,(function(){r&&r(e,n,t)}))}};v(u),a.Handler.call(n,u),n.sendRequest()},n.Get=function(e,t,i,o,r){var s=e.url,c={},d=!1;i||o||(d=!0),b(c,e,a.RequestType.Get,r,t,d);var l={targetUrl:s,contentType:t,requestType:a.RequestType.Get,timeout:r||3e4,successCallback:function(e,n){_(c,"Success",n,!0,(function(){i&&i(e,n)}))},failureCallback:function(e,n,t){_(c,"Failed",S(n,t),!1,(function(){o&&o(e,n,t)}))},timeoutCallback:function(e,n,t){_(c,"Timeout",S(n,t),!1,(function(){o&&o(e,n,t)}))}};v(l),a.Handler.call(n,l),n.sendRequest()},n.Beacon=function(e,t,i,a,o){var r=[],s=m(!0);p.forEach(s,(function(e,n){r.push([e,n])}));var c=e.url;if(c=g.add(c,r),e.url=c,navigator.sendBeacon){var d={};b(d,e,"Beacon",o,null,!1);var l=h(t),u=navigator.sendBeacon(c,l);_(d,u?"Success":"Failed",null,u,(function(){u&&i?i():!u&&a&&a()}))}else n.Json(e,t,i,a,o)}}},function(e,n,t){var i=t(5);n.throwUnhandledExceptionOnRejection=function(e){e["catch"]((function(e){var n=e;e instanceof Error||(n=new Error("Unhandled Promise rejection: "+e)),setTimeout((function(){throw n}),0)}))},n.newPromiseWithTimeout=function(e,n,t){return new i((function(a,o){i.resolve(e()).then(a,o),setTimeout((function(){a(t)}),n)}))}},function(e,n,t){var i=t(2),a=t(3),o=t(1),r=t(0),s=t(64),c=t(72),d=t(189),l=o.Helper,u=a.String,p=r.LayoutTemplateType,g=r.LayoutTemplateHorizontalPosition,f={loadTenantBranding:function(e){var n={};if(e){var t=e[0]||{},a=e[1]||{};i.utils.arrayForEach(["BoilerPlateText","UserIdLabel","TileLogo","TileDarkLogo","BannerLogo","BackgroundColor","Illustration","KeepMeSignedInDisabled","UseTransparentLightBox","CustomCss","LayoutTemplateConfig","HeaderLogo","AccessRecoveryLink","FooterTOULink","FooterTOUText","FooterPrivacyLink","FooterPrivacyText"],(function(e){n[e]=a[e]||t[e]||""})),n.TileDarkLogo||(n.TileDarkLogo=n.TileLogo)}return n},getPageBranding:function(e,n,t){var i={useDefaultBackground:!1};if(e&&(i.bannerLogoUrl=e.BannerLogo),e&&(e.BackgroundColor||e.Illustration))i.color=e.BackgroundColor,i.backgroundImageUrl=e.Illustration,i.useTransparentLightBox=e.UseTransparentLightBox,i.useImageMask=!0;else if(n&&(n.backgroundImageIndex>=0||n.backgroundLogoIndex>=0||n.backgroundColor||n.friendlyAppName))n.backgroundImageIndex>=0&&(i.backgroundImageUrl=c(u.format("./{0}.jpg",n.backgroundImageIndex)),l.isStyleSupported("backgroundSize")&&(i.smallImageUrl=c(u.format("./{0}-small.jpg",n.backgroundImageIndex)))),n.backgroundLogoIndex>=0&&(i.backgroundLogoUrl=d(u.format("./{0}.png",n.backgroundLogoIndex))),i.color=n.backgroundColor,i.friendlyAppName=n.friendlyAppName;else if(n&&n.urlLegacyBackgroundLogo)i.backgroundLogoUrl=n.urlLegacyBackgroundLogo;else if(t>=0){var a=l.isSvgImgSupported();i.backgroundImageUrl=s(u.format("./{0}.{1}",t,a?"svg":"jpg")),!a&&l.isStyleSupported("backgroundSize")&&(i.smallImageUrl=s(u.format("./{0}-small.jpg",t))),i.useDefaultBackground=!0}return i},getMergedBranding:function(e,n,t){var i;return t?i=n:((i=e).BannerLogo=n&&n.BannerLogo,i.BoilerPlateText=n&&n.BoilerPlateText,i.KeepMeSignedInDisabled=n&&n.KeepMeSignedInDisabled,n&&e.CustomCss!==n.CustomCss&&(i.CustomCss=null)),i},getLayoutTemplateConfig:function(e){var n=e.LayoutTemplateConfig;return n&&n!=={}?n:{showHeader:!1,layoutType:p.Lightbox,horizontalPosition:g.Center,hideAccessRecovery:!1,hideSignInOptions:!1,showFooter:!0,hideTOU:!1,hidePrivacy:!1}}};e.exports=f},function(module,exports){var JSON;JSON||(JSON={}),function(){"use strict";var global=Function("return this")(),JSON=global.JSON;function f(e){return e<10?"0"+e:e}JSON||(JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var n=meta[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,n){var t,i,a,o,r,s=gap,c=n[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(n,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,t=0;t<o;t+=1)r[t]=str(t,c)||"null";return a=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(o=rep.length,t=0;t<o;t+=1)"string"==typeof rep[t]&&(a=str(i=rep[t],c))&&r.push(quote(i)+(gap?": ":":")+a);else for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(a=str(i,c))&&r.push(quote(i)+(gap?": ":":")+a);return a=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,a}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,n,t){var i;if(gap="",indent="","number"==typeof t)for(i=0;i<t;i+=1)indent+=" ";else"string"==typeof t&&(indent=t);if(rep=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,n){var t,i,a=e[n];if(a&&"object"==typeof a)for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&((i=walk(a,t))!==undefined?a[t]=i:delete a[t]);return reviver.call(e,n,a)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),global.JSON=JSON,module.exports=JSON}()},function(e,n,t){var i=t(7),a=t(22),o=t(3),r=t(5);function s(e){var n,s=this,c=o.DateTime.getCurrentTime(),d=e&&e.ar&&e.Ah,l=null;function u(e){return function(){if(l)return l[e].apply(l,arguments)}}s.createLoadClientTracingPromise=function(){return new r((function(n){d&&!l?t.e(2).then(function(){var i=t(401).getInstance(e,c);l||(l=i),n()}.bind(null,t))["catch"](t.oe):n()}))},s.logRedirection=function(e,n){var t=e,i=null;return e&&"string"!=typeof e?(t=e.url,i=e.eventOptions,n=e.traceParameters?n:null,e.traceUrl&&(n?n.url=t:n=t)):n=null,i&&i.eventId&&s.logEvent({eventType:"onRedirect",eventId:i.eventId,eventLevel:i.eventLevel,eventArgs:n,eventOptions:i}),t},s.getPropertyLogOption=function(e,n){return(n=n||{}).hasOwnProperty("tracingPropertyChange")||(n.tracingPropertyChange=!0),n.eventLevel=n.eventLevel||i.EventLevel.Info,{viewModel:e,tracingOptions:n}},s.getDefaultTextBoxPropertyLogOption=function(e,n){return(n=n||{}).hasOwnProperty("hidingMode")||(n.hidingMode=i.HidingMode.None),n.rateLimit={method:"notifyWhenChangesStop"},s.getPropertyLogOption(e,n)},s.getPIITextBoxPropertyLogOption=function(e,n){return(n=n||{}).hidingMode=i.HidingMode.Mask,s.getDefaultTextBoxPropertyLogOption(e,n)},s.getPasswordTextBoxPropertyLogOption=function(e,n){return(n=n||{}).hidingMode=i.HidingMode.Hide,s.getDefaultTextBoxPropertyLogOption(e,n)},s.getDefaultEventTracingOptions=function(e,n,t){return{eventId:e,eventLevel:t||i.EventLevel.Info,hidingMode:n?i.HidingMode.None:i.HidingMode.Hide}},s.attachViewLoadClientTracingOptions=(n="attachViewLoadClientTracingOptions",function(){if(a)return a[n].apply(a,arguments)}),s.logEvent=u("logEvent"),s.traceBeginRequest=u("traceBeginRequest"),s.traceEndRequest=function(e,n,t,i,a){l?l.traceEndRequest(e,n,t,i,a):a&&a()},s.setPageViewModel=u("setPageViewModel"),s.logComponentEvent=u("logComponentEvent"),s.logViewState=u("logViewState"),s.setViewViewModel=u("setViewViewModel"),s.switchView=u("switchView"),s.postEvent=u("postEvent")}var c=null;n.getInstance=function(e){return c=c||new s(e)}},function(e,n,t){var i=t(21),a=t(1),o=i.Helper,r=a.QueryString,s=n.Properties={State:"State",SessionLookupKey:"SessionLookupKey",DisplaySignForUI:"DisplaySignForUI",FlowToken:"FlowToken"},c=n.Purpose={Password:"eOTT_OneTimePassword",RemoteNGC:"eOTT_RemoteNGC",NoPassword:"eOTT_NoPasswordAccountLoginCode",OtcLogin:"eOTT_OtcLogin",XboxRemoteConnect:"RemoteSignInWithUserCode"},d=n.Channel={Authenticator:"Authenticator",MobileSms:"SMS",EmailAddress:"Email",VoiceCall:"Voice",PushNotifications:"PushNotifications"},l=n.Type={EmailAddress:"AltEmail",EmailAddressEncrypted:"AltEmailE",Mobile:"MobileNum",MobileEncrypted:"MobileNumE",SessionApprover:"SAPId"};n.Event={OnSend:"otcsend",OnSendFail:"otcsendfailed",OnFlowExpired:"otcflowexpired"};var u=n.RequestParam={Username:"login",Purpose:"purpose",FlowToken:"flowtoken",CanaryFlowToken:"canaryFlowToken",Channel:"channel",UIMode:"UIMode",PhoneCountry:"MobileCountry",PhoneCountryCode:"MobileCC",UnauthSessionId:"uaid",ProofConfirmation:"ProofConfirmation"},p=n.Status={None:0,Error:200,Success:201,HIPError:202,FTError:203,InputError:204,DestinationError:205,Timeout:300},g=n.ProofTypeToChannel=function(e){var n=null;switch(e){case PROOF.Type.SMS:n=d.MobileSms;break;case PROOF.Type.Voice:n=d.VoiceCall;break;case PROOF.Type.Email:case PROOF.Type.AltEmail:n=d.EmailAddress;break;case PROOF.Type.TOTPAuthenticatorV2:n=d.PushNotifications}return n},f=n.ProofTypeToOtcType=function(e,n){var t=null;switch(e){case PROOF.Type.Voice:case PROOF.Type.SMS:t=n?l.MobileEncrypted:l.Mobile;break;case PROOF.Type.Email:case PROOF.Type.AltEmail:t=n?l.EmailAddressEncrypted:l.EmailAddress;break;case PROOF.Type.TOTPAuthenticatorV2:t=l.SessionApprover}return t};n.Proof=function(e){var n=e.username||"",t=e.flowToken||"",i=e.purpose||c.Password,a=e.proofType,o=e.proofData||"",r=e.isEncrypted,s=e.uiMode,d=e.lcid,l=e.phoneCountry||"",p=e.phoneCountryCode||"",m=e.unauthSessionId,h=e.proofConfirmation,v=e.canaryFlowToken;this[u.Username]=n,this[u.FlowToken]=t,this[u.Purpose]=i,this[u.Channel]=g(a),this[f(a,r)]=o,s&&(this[u.UIMode]=s),d&&(this.lcid=d),r||a!==PROOF.Type.SMS&&a!==PROOF.Type.Voice||(this[u.PhoneCountry]=l,this[u.PhoneCountryCode]=p),m&&(this[u.UnauthSessionId]=m),h&&(this[u.ProofConfirmation]=h),v&&(this[u.CanaryFlowToken]=v)},n.Request=function(e){var n,t,a,c,d=this,l=p.None,u="",g="",f="",m=e.data,h=e.onSend,v=e.onSendFail,b=e.onFlowExpired,_=e.timeout||3e4,S=e.siteId,y=e.clientId,w=e.forwardedClientId,T=e.noPaBubbleVersion;function C(e){var n=!1,t=d.getResponseJson();f=t[s.FlowToken]||"",t[s.State]?(l=t[s.State],u=t[s.SessionLookupKey]||"",g=t[s.DisplaySignForUI]||"",n=l!==p.Success):(l=p.Error,u="",g="",n=!0),n?l===p.FTError?b(e,d):v(e,d):h(e)}function x(){f="",l=p.Error,u="",g="",v(d)}function I(){l=p.Timeout,u="",g="",f="",v(d)}d.getOtcStatus=function(){return d.isComplete()?l:p.None},d.getSessionKey=function(){return d.isComplete()?u:""},d.getDisplaySign=function(){return d.isComplete()?g:""},d.getFlowToken=function(){return d.isComplete()?f:""},n=r.extract("mkt"),t=r.extract("lc"),a=[].concat(n?[["mkt",n]]:[],t?[["lcid",t]]:[],S?[["id",S]]:[],y?[["client_id",y]]:[],w?[["fci",w]]:[],T?[["nopa",T]]:[]),c={targetUrl:r.add("GetOneTimeCode.srf",a),requestType:i.RequestType.Post,data:o.generateRequestString(m),isAsync:!0,timeout:_,successCallback:C,failureCallback:x,timeoutCallback:I},i.Handler.call(d,c)}},function(e,n,t){var i=t(26),a=t(10),o=t(36),r=window,s=r.navigator;n.makeCredential=function(e,n,t,a,r,c,d,l){var u=[];c&&(u=c.map((function(e){return{type:"public-key",id:o.base64UrlStringToArrayBuffer(e)}})));var p=i.SupportedKeyAlgorithms.map((function(e){return{type:"public-key",alg:e}})),g={challenge:o.stringToArrayBuffer(e),rp:{name:"Microsoft",id:l},user:{id:o.base64UrlStringToArrayBuffer(n),name:t,displayName:a,icon:r},pubKeyCredParams:p,timeout:i.Timeout,excludeCredentials:u,authenticatorSelection:{authenticatorAttachment:d,requireResidentKey:!0,userVerification:"required"},attestation:"direct",extensions:{hmacCreateSecret:!0,credentialProtectionPolicy:"userVerificationOptional"}};return s.credentials.create({publicKey:g})},n.getAssertion=function(e,n,t){var a=[];n&&(a=n.map((function(e){return{type:"public-key",id:o.base64UrlStringToArrayBuffer(e)}})));var r={challenge:o.stringToArrayBuffer(e),timeout:i.Timeout,rpId:t,allowCredentials:a,userVerification:"required"};return s.credentials.get({publicKey:r})},n.isPlatformAuthenticatorAvailable=function(){return a.newPromiseWithTimeout(r.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable,i.PromiseTimeout,!1)}},function(e,n,t){(function(n){e.exports=n.ko=t(58)}).call(this,t(57))},function(e,n,t){var i=t(2),a=t(1),o=t(4);var r=window;function s(e){var n=this,t=((e=e||{}).serverData,e.primaryButtonId),r=e.secondaryButtonId,s=e.primaryButtonText,c=e.secondaryButtonText,d=!1!==e.isPrimaryButtonVisible,l=!1!==e.isSecondaryButtonVisible,u=!1!==e.isPrimaryButtonEnabled,p=!1!==e.isSecondaryButtonEnabled,g=e.focusOnPrimaryButton||!1,f=e.focusOnSecondaryButton||!1,m=e.primaryButtonDescribedBy,h=e.secondaryButtonDescribedBy,v=e.primaryButtonCss,b=e.secondaryButtonCss,_=e.primaryButtonType||"submit",S=e.removeBottomMargin,y=e.primaryButtonPreventTabbing||{direction:"none"};n.primaryButtonId=t,n.secondaryButtonId=r,n.primaryButtonCss=v,n.secondaryButtonCss=b,n.primaryButtonText=i.observable(s),n.secondaryButtonText=i.observable(c),n.isPrimaryButtonVisible=i.observable(d),n.isSecondaryButtonVisible=i.observable(l),n.isPrimaryButtonEnabled=i.observable(u),n.isSecondaryButtonEnabled=i.observable(p),n.focusOnPrimaryButton=i.observable(g),n.focusOnSecondaryButton=i.observable(f),n.hasOneButtonVisible=i.pureComputed((function(){var e=0;return n.isPrimaryButtonVisible()&&e++,n.isSecondaryButtonVisible()&&e++,1===e})),n.primaryButtonDescribedBy=m,n.secondaryButtonDescribedBy=h,n.removeBottomMargin=S,n.primaryButtonPreventTabbing=y,n.primaryButtonAttributes=i.pureComputed((function(){var e={id:n.primaryButtonId||"idSIButton9","aria-describedby":n.primaryButtonDescribedBy};return a.Helper.isChangingInputTypeSupported()&&(e.type=_),e})),n.onPrimaryButtonClick=o.create(),n.onSecondaryButtonClick=o.create(),n.setTextPrimaryButton=function(e){n.primaryButtonText(e)},n.setTextSecondaryButton=function(e){n.secondaryButtonText(e)},n.setVisibilityPrimaryButton=function(e){n.isPrimaryButtonVisible(e)},n.setVisibilitySecondaryButton=function(e){n.isSecondaryButtonVisible(e)},n.setEnabledPrimaryButton=function(e){n.isPrimaryButtonEnabled(e)},n.setEnabledSecondaryButton=function(e){n.isSecondaryButtonEnabled(e)},n.primaryButton_onClick=function(){n.onPrimaryButtonClick()},n.secondaryButton_onClick=function(){n.onSecondaryButtonClick()}}i.components.register("footer-buttons-field",{viewModel:s,template:t(281),synchronous:!r.ServerData.A||a.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),a=t(1),o=window,r=a.Helper;function s(){var e=this;e.useCssAnimation=!1,r.isCSSAnimationSupported()&&!r.isHighContrast()&&(e.useCssAnimation=!0)}i.components.register("marching-ants-control",{viewModel:s,template:t(291),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)}),e.exports=s},function(e,n,t){var i=t(14),a=t(7),o=t(13).getInstance(window.ServerData);e.exports=function(e){var n=null,t=e.username,r=e.proofData,s=e.proofType,c=e.purpose||i.Purpose.Password,d=e.flowToken,l=e.canaryFlowToken,u=!1!==e.isEncrypted,p=e.uiMode,g=e.lcid,f=e.unauthSessionId,m=e.proofConfirmation,h=e.phoneCountry,v=e.phoneCountryCode,b=e.siteId,_=e.clientId,S=e.forwardedClientId,y=e.noPaBubbleVersion,w=e.successCallback,T=e.failureCallback,C=e.clientTracingOptions,x={};function I(e,n,t,i,a){o.traceEndRequest(e,n,t,i,a)}function k(){I(x,"Success",null,!0,(function(){w&&w(n)}))}function P(){var e={otcStatus:n.getOtcStatus()};I(x,"Failed",e,!1,(function(){T&&T(n)}))}this.sendRequest=function(){var e,w={data:(e={username:t,proofData:r,proofType:s,purpose:c,flowToken:d,canaryFlowToken:l,isEncrypted:u,uiMode:p,lcid:g,unauthSessionId:f,proofConfirmation:m,phoneCountry:h,phoneCountryCode:v},new i.Proof(e)),siteId:b,clientId:_,forwardedClientId:S,noPaBubbleVersion:y,onSend:k,onSendFail:P,onFlowExpired:P},T={};T.proofType=s,T.purpose=c,T.uiMode=p,T.lcid=g,T.phoneCountry=h,T.phoneCountryCode=v,function(e,n){var t=C||{};t.hasOwnProperty("eventId")||(t.eventId=a.EventIds.Api_GetOneTimeToken);if(t.eventId){var i={eventType:"POST",eventId:t.eventId,eventLevel:t.eventLevel||a.EventLevel.Info,eventArgs:n,eventOptions:t};o.traceBeginRequest(e,i)}}(x,T),(n=new i.Request(w)).sendRequest()}}},function(e,n,t){var i=t(0),a=t(6),o=t(5),r=t(11),s=t(1),c=t(3),d=t(9),l=t(7),u=s.Helper,p=s.QueryString,g=c.String,f=c.Object,m=i.CredentialType,h=i.RemoteNgcType,v=i.Error,b=i.ApiErrorCodes,_=i.EstsError,S=i.PaginatedState,y=i.IfExistsResult,w=i.ThrottleStatus,T=i.DomainType,C=i.BindProvider,x=a.AllowedIdentitiesType,I=i.SessionPullFlags;var k=D.GctResultAction={ShowError:1,SwitchView:2,Redirect:3},P=D.GctRequestHelperFlags={CheckCurrentIdpOnly:1,IsPhoneNumberFullyQualified:2,DisableDesktopSsoPreferredCred:4,DisableAutoSend:8,ForceOtcLogin:16,IsPostRequest:32,IsSignup:64};function D(e,n){var a=this,s=!1,D=null,E=null,A=null,R={},L=e,N=0!=(n&P.CheckCurrentIdpOnly),U=0!=(n&P.IsPhoneNumberFullyQualified),O=0!=(n&P.DisableDesktopSsoPreferredCred),B=0!=(n&P.DisableAutoSend),F=0!=(n&P.ForceOtcLogin),M=0!=(n&P.IsPostRequest),V=0!=(n&P.IsSignup),j=L.str,H=L.M,W=L.K,G=L.a0,q=!!L.a9,z=!!L.Bi,$=!!L.Ag,K=L.a5,X=L.a3,J=!!L.aZ,Q=!!L.a6,Y=!!L.a7,Z=L.C,ee=L.Af,ne=L.aP,te=L.j,ie=L.bO,ae=L.Ar,oe=L.AQ,re=e.urlMsaSignUp,se=L.G,ce=L.R,de=L.fUseConsumerEmailError,le=L.L,ue=L.desktopSsoConfig,pe=L.sFedQS,ge=L.staticTenantBranding,fe=L.dynamicTenantBranding,me=L.isGlobalTenant,he=(L.fCheckForWindowsSku,L.country),ve=L.arrProofData||{},be=parseInt(L.bH),_e=L.bN,Se=!!L.ao,ye=L.fBindCookiesUsingPoP,we=L.BT||0,Te=L.fIgnoreViralUsers,Ce=L.fAccessPassSupported,xe=L.aw,Ie=L.fImprovePhoneDisambig;function ke(e,n,t){var i=e.Credentials&&e.Credentials.OtcLoginEligibleProofs,a=[];if(i&&c.Array.forEach(i,(function(e){if(e.isDefault===n){var t={credType:m.OneTimeCode,proof:e};switch(t.proof.isEncrypted=!0,e.type){case PROOF.Type.SMS:case PROOF.Type.Voice:if(!e.isVoiceOnly){var i=f.clone(t);i.proof.otcSent&&M&&be===PROOF.Type.Voice&&(i.proof.otcSent=!1),i.proof.type=PROOF.Type.SMS,xe&&(i.shownOnlyOnPicker=!0),a.push(i)}if(e.voiceEnabled){var o=f.clone(t);!o.proof.otcSent||M&&be===PROOF.Type.Voice||(o.proof.otcSent=!1),o.proof.type=PROOF.Type.Voice,a.push(o)}break;case PROOF.Type.Email:a.push(f.clone(t))}}})),n&&0===a.length&&Ae(e,t)===m.OneTimeCode){var o=e.Credentials&&e.Credentials.HasPassword,r={credType:m.OneTimeCode,proof:{display:e.Display,data:g.cleanseUsername(e.Display),otcSent:!0,isEncrypted:!1,isDefault:!0,isNopa:!o,type:g.isEmailAddress(e.Username)?PROOF.Type.Email:PROOF.Type.SMS}};a.push(r)}return a}function Pe(e){e.proof.str={},f.extend(e.proof.str,ve[e.proof.type]||{}),f.forEach(e.proof.str,(function(n,t){t&&(e.proof.str[n]=g.format(t,e.proof.display+"\u200e",e.proof.clearDigits||""))}))}function De(e,n,t,i,o,r){var c={},d=ue&&i.EstsProperties&&i.EstsProperties.DesktopSsoEnabled&&!function(e){return e&&ue.lastUsernameTried&&e.toLowerCase()===ue.lastUsernameTried.toLowerCase()}(n),l=i.ErrorHR,f=Oe(n,i,o),b=a.getGctSharedData(i,o,r);if(b.username=n,l===v.PP_E_INVALID_PHONENUMBER||l===v.PP_E_LIBPHONENUMBERINTEROP_NUMBERPARSE_EXCEPTION)c=function(e){if(U)return je(j.CT_PWD_STR_Error_InvalidPhoneNumber,!0);return Ve(S.PhoneDisambiguation,{phoneDisambigError:e})}(l);else if(l===v.PP_E_NAME_INVALID||l===v.PP_E_INVALIDARG)c=je(j.CT_PWD_STR_Error_InvalidUsername);else if(l===v.PP_E_FEDERATION_INLINELOGIN_DISALLOWED)c=je(j.CT_PWD_STR_Error_FedNotAllowed,!0);else if(l===v.PP_E_LOGIN_NOPA_USER_PASSWORD_REQUIRED)c=je(g.format(j.CT_STR_Error_PasswordRequired,p.stripQueryStringAndFragment(_e)));else if(i.RequiresPhoneDisambiguation)c=Ve(S.PhoneDisambiguation);else{if(i.AliasDisabledForLogin)return je(j.CT_PWD_STR_Error_AliasDisabled,!0);if(i.IfExistsResult===y.NotExist)c=function(e,n,t,i){var a,o=Me(e,t),r=t.EstsProperties||{},s=r.DomainType&&r.DomainType!==T.Unknown&&r.DomainType!==T.Consumer;if(t.IsProofForAlias)return Ve(S.ConfirmRecoverUsername);if(ae&&o&&(ee||ne))return ee?Ue(e,t):Ve(S.ConfirmSignup);a=n?t.ThrottleStatus===w.NotThrottled&&s?j.CT_PWD_STR_Error_UsernameNotExist_Alternate_VerifiedDomain:j.CT_PWD_STR_Error_UsernameNotExist_Alternate:Ae(t,i)===m.OneTimeCode?t.ThrottleStatus===w.MsaThrottled?j.CT_PWD_STR_Error_UsernameNotExists_EmailOtpAllowed_MsaFailed:j.CT_PWD_STR_Error_UsernameNotExists_EmailOtpAllowed:de&&r.DomainType===T.Consumer?j.CT_PWD_STR_Error_UsernameNotExist_ConsumerEmail:t.ThrottleStatus===w.NotThrottled&&s?o?j.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_SignupAllowed:j.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain:t.ThrottleStatus===w.MsaThrottled?s&&o?j.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_MsaFailed_SignupAllowed:s?j.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_MsaFailed:ae&&!se?j.CT_PWD_STR_Error_UsernameNotExist_Guest_SignupAllowed_MsaFailed:j.CT_PWD_STR_Error_UnknownDomain_MsaFailed:V&&!s?j.CT_PWD_STR_Error_UsernameNotExist_Guest_Signup:Ie&&U?j.CT_PWD_STR_Error_InvalidPhoneNumber:j.CT_PWD_STR_Error_UsernameNotExist;return je(g.format(a,u.htmlEscape(g.extractDomain(e)),u.htmlEscape(e)),!0)}(n,t,i,o);else if(i.IfExistsResult===y.ExistsBothIDPs)c=Ve(S.IdpDisambiguation,{desktopSsoEnabled:d,idpRedirectUrl:f.idpRedirectUrl,idpRedirectPostParams:f.idpRedirectPostParams,idpRedirectProvider:f.idpRedirectProvider});else if(i.IfExistsResult===y.ExistsInOtherMicrosoftIDP)c=Ne(e,n);else if(!s||i.IfExistsResult!==y.Error&&i.IfExistsResult!==y.Throttled&&0==(i.ThrottleStatus&w.MsaThrottled))if(i.ShowRemoteConnect)c=Ve(S.RemoteLoginPolling);else{c=function(e,n,t,i,a,o){var r=Ae(i,o);if(!O&&n)return Ve(S.FetchSessionsProgress,{unsafe_desktopSsoDomainToUse:g.extractDomain(e),sessionPullType:I.Dsso});var s={idpRedirectUrl:t.idpRedirectUrl,idpRedirectPostParams:t.idpRedirectPostParams,idpRedirectProvider:t.idpRedirectProvider};switch(r){case m.OneTimeCode:var c=S.OneTimeCode;return B&&(c=a?S.ProofConfirmation:S.ConfirmSend),Ve(c);case m.PublicIdentifierCode:return B||i.Credentials.SasParams&&i.Credentials.SasParams.Success?Ve(B?S.ConfirmSend:S.OneTimeCode):je(j.CT_PWD_STR_Error_GetCredentialTypeError,!1,!0);case m.Fido:return Ve(S.Fido);case m.RemoteNGC:var d=i.Credentials.RemoteNgcParams.DefaultType===h.PushNotification;return Ve(B&&d?S.ConfirmSend:S.RemoteNGC,s);case m.Federation:case m.CloudFederation:return Ve(S.IdpRedirect,s);case m.LinkedIn:case m.GitHub:case m.Google:case m.Facebook:return Ve(Re(i,o).length>1||Le(i,o).length>0?S.IdpRedirectSpeedbump:S.IdpRedirect,s);case m.AccessPass:return Ve(S.AccessPass,s);case m.NoPreferredCredential:return Ve(S.CredentialPicker,s);case m.OtherMicrosoftIdpFederation:return Ue(e,i,re);case m.Password:default:return Ve(S.Password)}}(n,d,f,i,b.otcCredential&&b.otcCredential.proof.clearDigits,o)}else c=Ve(S.IdpDisambiguation,{hasIdpDisambigError:!0,desktopSsoEnabled:d,idpRedirectUrl:f.idpRedirectUrl,idpRedirectPostParams:f.idpRedirectPostParams,idpRedirectProvider:f.idpRedirectProvider})}return c.flowToken=i.FlowToken||null,c.bypassCache||(R[n]=i,R[n].FlowToken=null),c.sharedData=b,c}function Ee(e){var n={};if(e&&e.error)switch(e.error.code){case b.AuthFailure:n=je(j.CT_PWD_STR_Error_FlowTokenExpired);break;case _.PublicIdentifierSasBeginCallNonRetriableError:case _.PublicIdentifierSasBeginCallRetriableError:n=je(j.CT_PWD_STR_Error_GetCredentialTypeError,!1,!0);break;default:n=je(j.CT_PWD_STR_Error_GetCredentialTypeError)}else n=je(j.CT_PWD_STR_Error_GetCredentialTypeError);return n.flowToken=e.FlowToken||null,n}function Ae(e,n){var t=m.Password,i=e.Credentials;return i&&((t=i.PrefCredential)!==m.Fido||n||(t=i.RemoteNgcParams&&i.RemoteNgcParams.SessionIdentifier?m.RemoteNGC:m.Password)),t}function Re(e,n){var t=e.Credentials||{},i=t.SasParams,a=t.LinkedInParams,o=t.GitHubParams,r=t.GoogleParams,s=t.FacebookParams,d=t.CertAuthParams,l=e.EstsProperties||{},u=[].concat(t.HasPassword&&l.DomainType!==T.Federated?{credType:m.Password}:[],t.FederationRedirectUrl&&l.DomainType===T.Federated?{credType:m.Federation}:[],t.FederationRedirectUrl&&l.DomainType===T.CloudFederated?{credType:m.CloudFederation}:[],t.HasRemoteNGC?{credType:m.RemoteNGC}:[],t.HasFido&&n?{credType:m.Fido}:[],t.HasPhone&&i?{credType:m.PublicIdentifierCode}:[],t.HasLinkedInFed&&a?{credType:m.LinkedIn,redirectUrl:a.LinkedInRedirectUrl}:[],t.HasGitHubFed&&o?{credType:m.GitHub,redirectUrl:o.GithubRedirectUrl}:[],t.HasGoogleFed&&r?{credType:m.Google,redirectUrl:r.GoogleRedirectUrl}:[],t.HasFacebookFed&&s?{credType:m.Facebook,redirectUrl:s.FacebookRedirectUrl}:[],t.HasAccessPass?{credType:m.AccessPass}:[],t.HasCertAuth?{credType:m.Certificate,redirectUrl:d.CertAuthUrl,redirectPostParams:Be(e.FlowToken)}:[]);if(ve[PROOF.Type.Email]&&ve[PROOF.Type.SMS]&&ve[PROOF.Type.Voice]){var p=ke(e,!0,n);p.length>0&&(c.Array.forEach(p,Pe),u=u.concat(p))}return u}function Le(e,n){var t=[];if(ve[PROOF.Type.Email]&&ve[PROOF.Type.SMS]&&ve[PROOF.Type.Voice]){var i=ke(e,!1,n);i.length>0&&(c.Array.forEach(i,Pe),t=t.concat(i),c.Array.first(i,(function(e){return!e.proof.isNopa}))&&(t=t.concat({credType:m.Password,isDefault:!1})))}return t}function Ne(e,n){e=p.appendOrReplace(e,"username",encodeURIComponent(n).replace(new RegExp("'","g"),"%27"));var t=le?f.clone(le):null;return t&&(t.unsafe_username=n),He(e,t,!0,l.EventIds.Redirect_OtherIdpRedirection)}function Ue(e,n,t){t=t||se,t=p.remove(t,"username");var i=ce?f.clone(ce):null;return n&&(n.IfExistsResult===y.NotExist||n.IsUnmanaged&&n.IfExistsResult===y.Exists)&&Me(e,n)&&(i?i.unsafe_username=e:t=p.appendOrReplace(t,"username",encodeURIComponent(e))),He(t,i,!1,l.EventIds.Redirect_MSASignUpPage)}function Oe(e,n,t){var i={},a=Ae(n,t),o=n.EstsProperties||{};if(!(n.Credentials&&(n.Credentials.FederationRedirectUrl||n.Credentials.LinkedInParams||n.Credentials.GitHubParams||n.Credentials.GoogleParams||n.Credentials.FacebookParams)))return i;switch(a){case m.RemoteNGC:case m.Federation:case m.AccessPass:case m.NoPreferredCredential:o&&o.SamlRequest&&o.RelayState?(i.idpRedirectUrl=n.Credentials.FederationRedirectUrl,i.idpRedirectPostParams={SAMLRequest:o.SamlRequest,RelayState:o.RelayState,unsafe_username:e}):i.idpRedirectUrl=function(e,n){if(pe){var t=p.appendOrReplace("?"+pe,"wctx","LoginOptions%3D3%26"+p.extract("wctx","?"+pe));t=t.substr(1),e=p.append(e,t)}else e=p.appendOrReplace(e,"wctx","LoginOptions%3D3%26"+p.extract("wctx",e));return e=p.appendOrReplace(e,"cbcxt",encodeURIComponent(decodeURIComponent(p.extract("cbcxt")))),e=p.appendOrReplace(e,"username",encodeURIComponent(n)),e=p.appendOrReplace(e,"mkt",encodeURIComponent(decodeURIComponent(p.extract("mkt")))),e=p.appendOrReplace(e,"lc",encodeURIComponent(decodeURIComponent(p.extract("lc"))))}(n.Credentials.FederationRedirectUrl,e);break;case m.CloudFederation:i.idpRedirectUrl=n.Credentials.FederationRedirectUrl;break;case m.LinkedIn:i.idpRedirectUrl=n.Credentials.LinkedInParams.LinkedInRedirectUrl,i.idpRedirectProvider=C.LinkedIn;break;case m.GitHub:i.idpRedirectUrl=n.Credentials.GitHubParams.GithubRedirectUrl,i.idpRedirectProvider=C.GitHub;break;case m.Google:i.idpRedirectUrl=n.Credentials.GoogleParams.GoogleRedirectUrl,i.idpRedirectProvider=C.Google;break;case m.Facebook:i.idpRedirectUrl=n.Credentials.FacebookParams.FacebookRedirectUrl,i.idpRedirectProvider=C.Facebook}return i}function Be(e){return{ctx:Z,flowToken:e}}function Fe(e){return g.cleanseUsername(e,!0)}function Me(e,n){var t=oe&&g.isSkypeName(e),i=n.EstsProperties||{};return i.DomainType&&i.DomainType!==T.Unknown&&i.DomainType!==T.Consumer?!1===n.IsSignupDisallowed:!n.IsSignupDisallowed&&!t}function Ve(e,n){return{action:k.SwitchView,viewId:e,viewParams:n}}function je(e,n,t){return{action:k.ShowError,error:e,isBlockingError:n,bypassCache:t}}function He(e,n,t,i){return{action:k.Redirect,redirectUrl:e,redirectPostParams:n,isIdpRedirect:t,eventId:i}}a.sendAsync=function(e,n,t){var a=Fe(n),r=R[a]?R[a]:null,c=!!r,u=r?o.resolve(r):function(e,n){var t=[E].concat(A||[]);return o.all(t).then((function(t){var a=t[0],r=t[1];return new o((function(t,o){new d({checkApiCanary:te}).Json({url:ie,eventId:l.EventIds.Api_GetCredentialType},function(e,n,t,i){var a={unsafe_username:e,uaid:H,isOtherIdpSupported:s,isFederationDisabled:G,checkPhones:g.isPhoneNumber(e),isRemoteNGCSupported:q,isCookieBannerShown:z,isFidoSupported:t,originalRequest:Z,country:he,forceotclogin:F,otclogindisallowed:K,isExternalFederationDisallowed:J,isRemoteConnectSupported:Se,federationFlags:we,isSignup:V,flowToken:n};ne&&(a.checkProofForAliases=!0);X&&(a.noPaOtcDisallowed=!0);Q&&(a.isPassthroughDisallowed=!0);Y&&(a.isPhoneNumberSignupDisallowed=!0);Te&&(a.ignoreViralUsers=!0);ye&&(i=i||{cpa:"",err:"Authenticator not generated."},a.cpa=i.cpa,a.cpa_err=i.err);Ce&&(a.isAccessPassSupported=!0);return a}(e,n,a,r),t,o,i.DefaultRequestTimeout)}))}))}(a,t);return o.all([D,u,E]).then((function(n){var t=n[0],i=n[1],o=n[2];return De(e,a,t,i,o,c)}),Ee)},a.getResult=function(e,n,t,i){return De(e,Fe(n),!1,t,i,!1)},a.getState=function(){return{cache:R}},a.restoreState=function(e){e&&(R=e.cache||{})},a.cacheResponse=function(e,n){R[Fe(e)]=n},a.getSignupRedirectGctResult=function(e){var n=Fe(e);return Ue(n,R[n]?R[n]:null)},a.getOtherIdpRedirectGctResult=function(e,n){return Ne(e,Fe(n))},a.getGctSharedData=function(e,n,t){var i={},a=Ae(e,n),o=e.Credentials||{},s=o.RemoteNgcParams,d=o.FidoParams,l=e.EstsProperties||{},u=s?s.DefaultType:null,p=!!s&&s.ShowAnimatedGifWhilePolling,g=!!s&&s.StyleCredSwitchLinkAsButton,f=r.loadTenantBranding(l.UserTenantBranding||fe),h=r.loadTenantBranding(ge),v=Oe(e.Username,e,n);return i.preferredCredential=a,i.location=e.Location,i.fedRedirectParams=v,e.Display&&(i.displayName=e.Display),i.availableCreds=Re(e,n),i.evictedCreds=Le(e,n),a===m.OneTimeCode&&(i.otcCredential=c.Array.first(i.availableCreds,(function(e){return e.credType===m.OneTimeCode&&e.proof.otcSent})),i.useEvictedCredentials=!1),i.remoteNgcParams={requestSent:!B&&!t&&a===m.RemoteNGC&&s&&s.hasOwnProperty("Entropy"),sessionIdentifier:s?s.SessionIdentifier:null,entropy:s?s.Entropy:null,defaultType:u,showAnimatedGifWhilePolling:p,styleCredSwitchLinkAsButton:g},i.otcParams={requestSent:(a===m.OneTimeCode||a===m.PublicIdentifierCode)&&e.IfExistsResult!==y.ExistsBothIDPs},d&&d.AllowList&&(i.fidoParams={allowList:d.AllowList}),i.callMetadata=l&&l.CallMetadata?l.CallMetadata:{},i.userTenantBranding=r.getMergedBranding(h,f,me),i},s=!N&&W===x.Both,D=o.resolve(!1),E=u.isFidoSupportedAsync($),ye&&t.e(25).then(function(){var e=t(433);A=e.computePoPAuthenticator("POST",ie).then((function(e){return{cpa:e,err:null}}),(function(e){return{cpa:"",err:e.message}}))}.bind(null,t))["catch"](t.oe)}e.exports=D},function(e,n,t){var i=t(12),a=t(1),o=t(3),r=o.Object,s=a.HttpCode,c=window;n.RequestType={Post:"POST",Get:"GET"};var d=n.State={Unsupported:-1,Unsent:0,Done:4,Timeout:5};n.Event={OnSuccess:"ajaxsuccess",OnError:"ajaxerror",OnTimeout:"ajaxtimeout"},n.Helper={generateRequestString:function(e){var n="";return e&&r.forEach(e,(function(e,t){(t||""===t)&&(n.length>0&&(n+="&"),n+=e+"="+t)})),n}},n.Handler=function(e){var n=this,t="",l=[],u=null,p=null,g=!1,f=!0,m=null,h=!1,v=!!e.contentType,b=!!e.headers,_=!!e.headerValue,S=e.data||"",y=e.targetUrl||"",w=e.requestType||"",T=!1!==e.isAsync,C=e.timeout||0,x=e.username||"",I=e.password||"",k=e.contentType||"application/x-www-form-urlencoded",P=e.withCredentials||!1,D=e.breakCache||!1,E=e.responseType||"",A=e.headers||{},R=e.successCallback,L=e.failureCallback,N=e.timeoutCallback;function U(e,i){e||n.isSuccess()?R&&R(u,t):(i||!n.isSuccess()&&!g)&&L&&L(u,p,p.statusText)}function O(){if(m=null,g=!0,n.cancel(),N){var e={status:s.Timeout,statusText:"timeout"};N(u,e,e.statusText)}}function B(e){if(j(),!n.isComplete()&&!p.canceled&&L){var t={status:s.ClientClosedRequest,statusText:"abort"};L(e,t,t.statusText)}}function F(e){n.isComplete()||V(e)}function M(e){n.isComplete()&&!g&&V(e)}function V(e){j(),t=p.responseText,u=e,U()}function j(){m&&(clearTimeout(m),m=null)}function H(e){j(),t=p.responseText,U(e,!e)}n.sendRequest=function(e){u=e,function(){g=!1;var e="withCredentials"in new XMLHttpRequest;if(!h||e){var t=y;(p=new XMLHttpRequest).onreadystatechange=M,p.addEventListener&&(p.addEventListener("abort",B),p.addEventListener("error",F)),D&&(t=a.QueryString.appendOrReplace(t,"_",(new Date).getTime())),x.length>0?p.open(w,t,T,x,I):p.open(w,t,T),n.clearResponse(),r.forEach(A,(function(e,n){p.setRequestHeader(e,n)})),p.responseType=E,p.withCredentials=P}else c.XDomainRequest?!T||x||I||v||b||_||P?f=!1:((p=new c.XDomainRequest).onerror=function(){H(!1)},p.onload=function(){H(!0)},p.open(w,y),n.clearResponse()):f=!1}(),f&&(C>0&&(m=setTimeout((function(){O.call(n)}),C)),p.send(S))},n.getState=function(){return f?g?d.Timeout:p?p.readyState:d.Unsent:d.Unsupported},n.getStatus=function(){return g?s.Timeout:p?p.status:0},n.cancel=function(){p&&(p.canceled=!0,p.abort())},n.getResponseJson=function(){return t?i.parse(t):{}},n.isComplete=function(){return n.getState()===d.Done||n.getState()===d.Timeout},n.isSuccess=function(){return n.isComplete()&&l[n.getStatus()]},n.clearResponse=function(){t=""},function(){A["Content-type"]=k,l[s.Ok]=!0,l[s.NotModified]=!0,l[s.Timeout]=!1;var e=o.String.extractDomainFromUrl(y);e&&(h=o.String.extractDomainFromUrl(document.location.href)!==e)}()}},function(e,n,t){var i=t(3),a=t(7),o={},r=null;n.setDataPoint=function(e,n,t,i){var o={scope:i||a.DataPointScope.ClientEvent},r=s(e);r.tracingDataPoints=r.tracingDataPoints||{},r.tracingDataPoints[n]={options:o,value:function(){return t}}};var s=n.getTracingContextObject=function(e){return e?(o[e]||(o[e]={}),o[e]):r=r||{}};n.getTracingContextObjects=function(){var e=[];return i.Object.forEach(o,(function(n,t){t&&e.push({viewModel:n,context:t})})),r&&e.push(r),e},n.registerTracingObservables=function(e,n,t){var i=s(e);i.tracingObservables=i.tracingObservables||[],i.tracingObservables.push({options:t,value:n})},n.deleteTracingContextObject=function(e){e?o[e]&&delete o[e]:r=null},n.attachViewLoadClientTracingOptions=function(e,n){s(e).viewLoadClientTracingOptions=n}},function(e,n,t){var i=t(12),a=t(1),o=t(3),r=window,s=a.Helper,c=o.Array;function d(e){var n=e||[],t=[],a=!1;function o(e){if(r.opener){var t=i.stringify({messageType:"BrandingLivePreviewConnect",isOpen:e});c.forEach(n,(function(e){r.opener.postMessage(t,e)}))}}function d(e){if(a=e.origin,c.first(n,(function(e){return e===a}))){var a,o;try{o=i.parse(e.data)||{}}catch(r){return}"BrandingLivePreviewUpdate"===o.messageType&&c.forEach(t,(function(e){e(o.tenantBranding||{})}))}}this.addListener=function(e){t.push(e),a||(s.addEventListener(r,"message",d),o(!0),a=!0)},this.removeListener=function(e){c.removeItem(t,e),a&&0===t.length&&(s.removeEventListener(r,"message",d),o(!1),a=!1)}}var l=null;n.getInstance=function(e){return l=l||new d(e)}},function(e,n,t){var i=t(2),a=t(1),o=t(3),r=t(4),s=t(9),c=t(368),d=window,l=o.DateTime,u=a.Helper;function p(e){var n=this,t=null,a=e.debugDetails,o=e.serverData,c=e.isDebugTracingEnabled,d=e.useWiderWidth,p=o.A8,g=o.urlSetDebugMode,f=o.J,m=o.sSigninName,h=o.str,v=o.sErrorCode;function b(){n.sending(!1),n.isDebugTracingEnabled(!n.isDebugTracingEnabled()),n.onSetDebugTracing()}function _(){n.sending(!1),n.debugModeError(h.STR_Error_Details_Debug_Mode_Failure)}n.onCloseBanner=r.create(),n.onSetDebugTracing=r.create(),n.debugModeError=i.observable(),n.isDebugTracingEnabled=i.observable(c),n.sending=i.observable(!1),n.showBanner=i.observable(!0),n.showDebugDetailsCopyMessage=i.observable(!1),n.isFocusActivated=i.observable(!1),n.unsafe_exceptionMessage=null,n.debugDetails=null,n.useWiderWidth=d,n.hideBanner_onClick=function(){n.onCloseBanner(),n.showBanner(!1)},n.setDebugMode_onClick=function(){if(!n.sending()){var e=new s;n.sending(!0),n.debugModeError("");var i={mode:n.isDebugTracingEnabled()?0:1,user:t};e.Json({url:g},i,b,_)}},n.activateFocus=function(){this.isFocusActivated(!0)},t=f||m||"",n.unsafe_exceptionMessage=u.htmlUnescape(p),n.debugDetails=a||{},v&&(n.debugDetails.errorCode=v),n.debugDetails.timestamp||(n.debugDetails.timestamp=l.getUTCString())}c.applyExtensions(i),i.components.register("debug-details-control",{viewModel:p,template:t(369),synchronous:!d.ServerData.A||a.Helper.isStackSizeGreaterThan(d.ServerData.A),enableExtensions:!0}),e.exports=p},function(e,n,t){var i=t(2),a=t(11),o=t(1),r=t(4),s=t(0),c=window,d=s.AgreementType;function l(e){var n,t,o=this,s=e.serverData,l=e.showLogo,u=e.showLinks,p=e.hideFooter,g=e.debugDetails,f=e.showDebugDetails,m=e.hasDarkBackground,h=e.useDefaultBackground,v=s.str,b=s.v,_=s.fIsChinaDc,S=s.af||s.ag,y=s.aE||s.AM,w=s.aG,T=s.urlGallatinIcp,C=s.staticTenantBranding;function x(e,n){b&&!_?o.onAgreementClick(e):c.open(n,"_blank")}o.onAgreementClick=r.create(),o.onShowDebugDetails=r.create(),o.showDebugDetails=i.observable(!!f),o.focusMoreInfo=i.observable(!1).extend({notify:"always"}),o.showLogo=l&&!_,o.showLinks=u,o.hideFooter=p,o.showIcpLicense=_,o.debugDetails=g,o.termsLink=S,o.privacyLink=y,o.impressumLink=w,o.icpLink=T,o.hasDarkBackground=m,o.useDefaultBackground=h,o.showFooter=!0,o.hideTOU=!1,o.termsText=null,o.hidePrivacy=!1,o.privacyText=null,o.privacyLink_onClick=function(){x(d.Privacy,o.privacyLink)},o.termsLink_onClick=function(){x(d.Tou,o.termsLink)},o.impressumLink_onClick=function(){x(d.Impressum,o.impressumLink)},o.moreInfo_onClick=function(){o.setDebugDetailsState(!o.showDebugDetails()),o.onShowDebugDetails(),o.showDebugDetails()||o.focusMoreInfo(!0)},o.setDebugDetailsState=function(e){o.showDebugDetails(e)},o.focusMoreInfoLink=function(){o.focusMoreInfo(!0)},n=a.loadTenantBranding(C),t=a.getLayoutTemplateConfig(n),o.showFooter=t.showFooter,o.hideTOU=t.hideTOU,o.hidePrivacy=t.hidePrivacy,o.termsText=n.FooterTOUText||v.MOBILE_STR_Footer_Terms,o.privacyText=n.FooterPrivacyText||v.MOBILE_STR_Footer_Privacy}i.components.register("footer-control",{viewModel:l,template:t(378),synchronous:!c.ServerData.A||o.Helper.isStackSizeGreaterThan(c.ServerData.A),enableExtensions:!0}),e.exports=l},function(e,n){n.PlatformTimeout=0,n.Timeout=6e5,n.PromiseTimeout=250,n.SupportedKeyAlgorithms=[-7,-257],n.Error={Internal:"InternalError",FidoCreateCallUnexpectedResponse:"FidoCreateCallUnexpectedResponse"}},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=t(0),s=window,c=r.DialogId;function d(e){var n=this,t=e.isPlatformAuthenticatorAvailable;n.onRegisterDialog=o.create(),n.onUnregisterDialog=o.create(),n.onShowDialog=o.create(),n.isPlatformAuthenticatorAvailable=t,n.hasFocus=i.observable(!1),n.fidoHelp_onClick=function(){n.onShowDialog(c.FidoHelp).then((function(){n.hasFocus(!0)}))}}i.components.register("fido-help-button-control",{viewModel:d,template:t(395),synchronous:!s.ServerData.A||a.Helper.isStackSizeGreaterThan(s.ServerData.A),enableExtensions:!0}),e.exports=d},function(e,n,t){var i=t(22);n.applyExtenders=function(e){e.extenders.preventExternalWrite=function(n){var t=n(),i=e.observable(t).extend({notify:"always"});return e.pureComputed({read:function(){return i()},write:function(e){e!==t&&i(t)}}).extend({notify:"always"})},e.extenders.flowTokenUpdate=function(n,t){return e.pureComputed({read:n,write:function(e){e&&(t&&(t.sFTTag&&(t.sFTTag=t.sFTTag.replace(t.sFT,e)),t.sFT=e),n(e))}}).extend({notify:"always"})},e.extenders.logValue=function(e,n){return n&&i.registerTracingObservables(n.viewModel,e,n.tracingOptions),e},e.extenders.loadImageFromUrl=function(n){return e.pureComputed({read:n,write:function(e){if(n()!==e)if(e){var t=new Image;t.onload=function(){n(e)},t.src=e}else n(e)}}).extend({notify:"always"})}}},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=t(0),s=t(15),c=t(10),d=t(19),l=t(14),u=t(3),p=window,g=u.String,f=r.PaginatedState,m=r.CredentialType,h=r.DialogId;function v(e){var n=this,t=e.serverData,a=e.username,r=e.availableCreds||[],u=e.currentCred||{},p=e.flowToken,v=e.showForgotUsername,b=e.hideCredSwitchLink,_=t.str,S=t.r,y=t.i,w=t.g,T=t.H,C=t.h,x=t.Av,I=[],k=null,P=i.observable();function D(e){A(e),n.onSetPendingRequest(!1),n.onSwitchView(f.OneTimeCode,!1,k)}function E(e){var t,i=e.getOtcStatus();switch(A(e),i){case l.Status.FTError:t=_.CT_OTC_STR_Error_FlowExpired;break;default:t=k.proof.str.CT_OTCS_STR_Error_SendCodeServer||""}n.onSetPendingRequest(!1),n.credLinkError(t)}function A(e){e&&(e.getFlowToken?(p=e.getFlowToken(),n.onUpdateFlowToken(p)):e.FlowToken&&(p=e.FlowToken,n.onUpdateFlowToken(p)))}n.onSwitchView=o.create(),n.onRedirect=o.create(),n.onRegisterDialog=o.create(),n.onUnregisterDialog=o.create(),n.onShowDialog=o.create(),n.onSetPendingRequest=o.create(),n.onUpdateFlowToken=o.create(),n.credentialCount=0,n.selectedCredType=null,n.selectedCredShownOnlyOnPicker=!1,n.switchToCredId=null,n.switchToCredText=null,n.showSwitchToCredPickerLink=!1,n.showForgotUsername=v,n.isUserKnown=!!u.credType,n.displayHelp=!u.credType,n.hideCredSwitchLink=b,n.isPlatformAuthenticatorAvailable=i.observable(!1),n.credLinkError=i.observable(),n.fidoHelp_onClick=function(){n.onShowDialog(h.FidoHelp)},n.view_onUpdateFlowToken=function(e){p=e},n.switchToCredPicker_onClick=function(){n.onSwitchView(f.CredentialPicker)},n.switchToCred_onClick=function(){var e=k.credType||m.Password;switch(n.credLinkError(""),e){case m.OneTimeCode:if(k.proof.clearDigits)n.onSwitchView(f.ProofConfirmation,!1,k);else{var t=function(){var e={username:g.cleanseUsername(a),proofData:k.proof.data,proofType:k.proof.type,purpose:k.proof.isNopa?l.Purpose.NoPassword:l.Purpose.OtcLogin,flowToken:p,isEncrypted:k.proof.isEncrypted,siteId:y,clientId:w,forwardedClientId:T,noPaBubbleVersion:C,successCallback:D,failureCallback:E};if(e.isEncrypted)switch(k.proof.type){case PROOF.Type.Email:e.proofConfirmation=k.proof.display;break;case PROOF.Type.SMS:case PROOF.Type.Voice:e.proofConfirmation=g.cleanseUsername(k.proof.display).slice(-4)}return e}(),i=new d(t);n.onSetPendingRequest(!0),i.sendRequest()}break;case m.OtherMicrosoftIdpFederation:case m.LinkedIn:case m.GitHub:case m.Google:case m.Facebook:case m.Certificate:n.onRedirect(k.redirectUrl,k.redirectPostParams||null);break;default:n.onSwitchView(I[e].viewId)}},n.forgotUsername_onClick=function(){document.location.assign(S)},n.getSwitchToCredText=function(){return i.unwrap(n.switchToCredText)},function(){if(I[m.Password]={viewId:f.Password,credId:"idA_PWD_SwitchToPassword",credText:_.CT_RNGC_STR_SwitchToPassword_Link},I[m.RemoteNGC]={viewId:f.RemoteNGC,credId:"idA_PWD_SwitchToRemoteNGC",credText:_.CT_PWD_STR_SwitchToRemoteNGC_Link},I[m.Fido]={viewId:f.Fido,credId:"idA_PWD_SwitchToFido",credText:P},I[m.Certificate]={credId:"idA_PWD_SwitchToCertificate",credText:_.CT_STR_CredentialPicker_Option_Certificate},I[m.OtherMicrosoftIdpFederation]={credId:"useMicrosoftLink",credText:_.CT_PWD_STR_UseMicrosoft_Link},I[m.LinkedIn]={credId:"useLinkedInLink",credText:_.CT_PWD_STR_UseLinkedIn_Link},I[m.GitHub]={credId:"useGitHubLink",credText:_.CT_PWD_STR_UseGitHub_Link},I[m.Google]={credId:"useGoogleLink",credText:_.CT_PWD_STR_UseGoogle_Link},I[m.Facebook]={credId:"useGoogleLink",credText:_.CT_PWD_STR_UseFacebook_Link},I[m.Federation]={viewId:f.IdpRedirect,credId:"redirectToIdpLink",credText:_.CT_RNGC_STR_SwitchToFederated_Link},I[m.RemoteLogin]={viewId:f.RemoteLoginPolling,credId:"remoteLoginLink",credText:_.CT_PWD_STR_RemoteLoginLink},I[m.OneTimeCode]={viewId:f.OneTimeCode,credId:"otcLoginLink",credText:_.CT_PWD_STR_SwitchToOTC_Link},I[m.AccessPass]={viewId:f.AccessPass,credId:"accessPassLink",credText:_.CT_PWD_STR_Login_SwitchToAccessPassLink},P(_.CT_PWD_STR_SwitchToFidoCrossPlatform_Link),i.utils.arrayForEach(r,(function(e){if(I[e.credType]){var t=e.credType===u.credType,i=e.credType===m.OneTimeCode,a=t&&i&&e.proof.data===u.proof.data,o=t&&i&&e.proof.type===u.proof.type;(!t||i&&!a||i&&!o)&&(n.credentialCount++,k=e)}e.credType===m.Fido&&c.throwUnhandledExceptionOnRejection(s.isPlatformAuthenticatorAvailable().then(null,(function(){return!1})).then((function(e){e&&(P(_.CT_PWD_STR_SwitchToFido_Link),n.isPlatformAuthenticatorAvailable(!0))})))})),1===n.credentialCount&&(n.selectedCredType=k.credType,n.selectedCredShownOnlyOnPicker=!!k.shownOnlyOnPicker,n.switchToCredId=I[n.selectedCredType||m.Password].credId,n.switchToCredText=I[n.selectedCredType||m.Password].credText,n.selectedCredType===m.OneTimeCode))switch(k.proof.type){case PROOF.Type.Email:n.switchToCredText=g.format(_.CT_OTC_STR_SwitchToOtc_EmailLink,k.proof.display);break;case PROOF.Type.SMS:n.switchToCredText=g.format(_.CT_OTC_STR_SwitchToOtc_SmsLink,k.proof.display);break;case PROOF.Type.Voice:n.switchToCredText=g.format(_.CT_OTC_STR_SwitchToOtc_VoiceLink,k.proof.display)}n.showSwitchToCredPickerLink=(!x||n.isUserKnown)&&(n.credentialCount>1||1===n.credentialCount&&(v||n.selectedCredShownOnlyOnPicker))}()}i.components.register("cred-switch-link-control",{viewModel:v,template:t(394),synchronous:!p.ServerData.A||a.Helper.isStackSizeGreaterThan(p.ServerData.A),enableExtensions:!0}),e.exports=v},function(e,n,t){var i=t(2),a=t(3).String;e.exports=function(e,n){var t=this,o=null;t.placeholderTextboxMethods=i.observable(),t.value=i.observable(n||""),t.focused=i.observable(!1).extend({notify:"always"}),t.error=e,t.textbox_onUpdateFocus=function(e){t.focused(e)},t.getTrimmedValue=function(e){var n=a.trim(t.value()||"");return e&&e>0&&(n=n.substring(0,e)),n},t.placeholderTextboxMethods.subscribe((function(e){e&&!o&&function(e){var n=t.value.peek();e.toggleVisibility(!n),o=t.value.subscribe((function(n){e.toggleVisibility(!n)}))}(e)}))}},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=window;function s(e){var n=this,t="placeholder"in document.createElement("input"),r=e.serverData,s=e.hintText,c=e.hintCss||"placeholder",d=r.v;n.onUpdateFocus=o.create(),n.hintText=s,n.usePlaceholderAttribute=!1,n.placeholderVisible=i.observable(!0),n.hintCss=i.pureComputed((function(){var e={};return c&&i.utils.arrayForEach(c.split(" "),(function(n){e[n]=!0})),e})),n.placeholderText=i.pureComputed((function(){if(n.usePlaceholderAttribute)return n.hintText})),n.toggleVisibility=function(e){n.placeholderVisible(e)},n.placeholder_onClick=function(){n.onUpdateFocus(!0)},t&&a.Helper.isPlaceholderAttributeAllowed(d)&&(n.usePlaceholderAttribute=!0)}i.components.register("placeholder-textbox-field",{viewModel:s,template:t(393),synchronous:!r.ServerData.A||a.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),a=t(1),o=window;function r(e){var n,t=this,i=e.serverData,a=e.title,o=!1!==e.useSubtitle,r=i.c;t.title=null,n=!(!r||!r.friendlyAppName),t.isSubtitleVisible=o&&n,t.title=a}i.components.register("header-control",{viewModel:r,template:t(397),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)}),e.exports=r},function(e,n,t){e.exports=t.p+"content/images/picker_account_msa_4e3619a499fd74c0c66d5215514b566a.png"},function(e,n,t){e.exports=t.p+"content/images/picker_account_msa_2d8f86059be176833897099ee6ddedeb.svg"},function(e,n,t){var i=t(2);n.errorComputed=function(e){var n=i.observable(),t=i.observable(),a=i.pureComputed(e).extend({notify:"always"}),o=i.pureComputed((function(){if(a())return a();if(n()){var e=n();return n(null),e}return null}));return i.utils.extend(i.pureComputed((function(){if(o())return o();if(t()){var e=t();return t(null),e}return null})),{isBlocking:function(){return null!==o()},setBlockingError:function(e){n(e)},setNonBlockingError:function(e){t(e)},setError:function(e,i){i?n(e):t(e)},clearNonBlockingError:function(){t(null),t.valueHasMutated()}})}},function(e,n){var t=n.stringToArrayBuffer=function(e){for(var n=new ArrayBuffer(e.length),t=new Uint8Array(n),i=0,a=e.length;i<a;++i)t[i]=e.charCodeAt(i);return n},i=n.arrayBufferToString=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))};n.base64UrlStringToArrayBuffer=function(e){var n=e.replace(/[-_]/g,(function(e){switch(e){case"-":return"+";case"_":return"/"}})),i=atob(n);return t(i)},n.arrayBufferToBase64UrlString=function(e){var n=i(e),t=btoa(n);return a(t)},n.objectToBase64UrlString=function(e){if(e){var n=JSON.stringify(e),t=btoa(n);return a(t)}return null};var a=n.base64ToBase64UrlString=function(e){return e.replace(/[+/=]/g,(function(e){switch(e){case"+":return"-";case"/":return"_";case"=":return""}}))}},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_white_4631a1537323be36c76aa5c13b3c9edd.png"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_white_2f0ec557a5c4580eedc58f64a1946a00.svg"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_eeb097cefb5f08917c48faff86e945ae.png"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_498a4d7bb984e5436a52c8b52f3ab0f7.svg"},function(e,n,t){var i=t(9),a=t(0),o=t(5),r=t(7),s={DeviceAuth:{PageId:"ConvergedRemoteConnect",ActionId:"OAuth2DeviceAuth",ConfirmationViewId:a.PaginatedState.RemoteConnectCanaryValidation},FidoAuth:{PageId:"PaginatedLogin",ActionId:"FidoGet",ConfirmationViewId:a.PaginatedState.PartnerCanaryValidation}},c=l.PartnerCanaryScenario={Undefined:0,Fido:1},d=l.CanaryValidationSuccessAction={SwitchView:1,Redirect:2};function l(e){var n=e,t=n.A2,u=n.bn,p=!!n.l,g=!!n.a8,f=n.G,m=n.R,h=n.Ay;this.validateAsync=function(){return new o((function(e,n){var o=function(){if(p)return s.DeviceAuth;if(h===c.Fido)return s.FidoAuth;throw"Canary Validation: Flow IDs not known."}();o.Canary=t;var v=function(){if(g)return{action:d.Redirect,redirectUrl:f,redirectPostParams:m,isIdpRedirect:!1};return{action:d.SwitchView}}();new i({checkApiCanary:!1,withCredentials:!0}).Json({url:u,eventId:r.EventIds.Api_CanaryValidation},o,(function(){e(v)}),(function(e){n(new l.CanaryValidationError(e,o.ConfirmationViewId,v))}),a.DefaultRequestTimeout)}))}}l.CanaryValidationError=function(e,n,t){this.name="CanaryValidationError",this.message="Canary validation failed, user confirmation required.",this.stack=(new Error).stack,this.innerError=e,this.confirmationViewId=n,this.postConfirmationAction=t},e.exports=l},function(e,n,t){var i=t(12),a=t(3),o=t(1),r=t(9),s=t(5),c=t(251),d=t(252),l=window,u=o.QueryString,p=o.Cookies,g=a.Array;e.exports=function(e){var n=e,t=n.bsso||{enabled:!1},a=n.AR,o=n.BL,f=!1!==n.checkApiCanary,m=t.cookieNames,h=null;function v(){var e=new Date;e.setSeconds(e.getSeconds()+60),p.writeWithExpiration(m.ssoPulled,"1",!a,e.toUTCString());var n=l.location.href;return n=u.appendOrReplace(n,"sso_reload","true"),t.reloadOnFailure||"select_account"!==u.extract("prompt").toLowerCase()||(n=u.appendOrReplace(n,"prompt","")),n}function b(e){h.traces.push(e)}function _(e,n){h.data[e]=n}function S(e){return h.result=e.newSessions?"UserList":"Reload",w().then((function(){return e}))}function y(e){return h.result="Error",e instanceof c.Error?"OSError"===e.code&&e.externalData&&e.externalData.error?h.error=e.externalData.error:h.error=e.code:h.error=e,w().then((function(){return s.reject(e)}))}function w(){return new s((function(e){try{l.console&&l.console.info("BSSO Telemetry: "+i.stringify(h))}catch(n){}t.telemetry.url?new r({checkApiCanary:f}).Beacon({url:t.telemetry.url},h,e,e,500):e()}))}this.loginWindowsUserAsync=function(e){return t.enabled?function(e){if(!l.navigator||"function"!=typeof l.navigator.msLaunchUri)return _("BSSO.info","not-supported"),b("window.navigator.msLaunchUri is not available for _loginWindowsUser"),s.reject("bssoNotSupported");var n="abort"===t.initiatePullTimeoutAction;return new d({logMessage:b,logDataPoint:_},t.initiatePullTimeoutMs,t.overallTimeoutMs,n).loginWindowsUserAsync(e).then((function(e){return e.reload?(b("SSO cookie detected. Refreshing page."),v()):s.reject("error")}))}(e).then(S,y):s.reject("bssoDisabled")},this.pullBrowserSsoCookieAsync=function(){var e,n=t.failureRedirectUrl||t.reloadOnFailure,r=t.type;return t.enabled?("windows"===r?e=function(){if(!l.navigator||"function"!=typeof l.navigator.msLaunchUri)return _("BSSO.info","not-supported"),b("window.navigator.msLaunchUri is not available for _pullBrowserSsoCookie"),s.reject("bssoNotSupported");var e=p.getCookie(m.ssoTiles)||t.forceTiles;if(!e&&p.getCookie(m.ssoPulled))return _("BSSO.info","throttled"),b("Cookie pull throttled"),s.reject("throttled");var n="tbauth://login.windows.net?context="+encodeURIComponent(l.location.href.split("/",3).join("/"))+(t.nonce?"&request_nonce="+encodeURIComponent(t.nonce):"")+(t.rid?"&rid="+encodeURIComponent(t.rid):""),a=n;e&&(a=u.appendOrReplace(a,"user_id","*"),p.remove(m.ssoTiles));var o="abort"===t.initiatePullTimeoutAction;return new d({logMessage:b,logDataPoint:_},t.initiatePullTimeoutMs,t.overallTimeoutMs,o).pullBrowserSsoCookieAsync(a).then((function(e){if(e.reload)return b("SSO cookie detected. Refreshing page."),{redirectUrl:v()};if(e.userList){var t=function(e,n){var t=[],a=i.parse(e).users;a&&a.length>0?(g.forEach(a,(function(e){var i={ssoUniqueId:e.unique_id,displayName:e.display_name||"",name:e.upn,isWindowsSso:!0,isSignedIn:!0,url:n};t.push(i)})),b("User list processed. List: "+i.stringify(t))):b("User list is empty.");return t}(e.userList,n);return t.length>0?{newSessions:t}:s.reject("noUsers")}}))}():"chrome"===r&&(e=new c({logMessage:b,logDataPoint:_},t.nonce,"login.microsoftonline.com",a,o).getCookiesAsync().then((function(e){if(!e||!e.length)return s.reject(new c.Error("PageException","Extension returned no cookies"));for(var n=0,t=e.length;n<t;++n){var i=e[n].data;-1!==i.indexOf(";")&&(i=i.substr(0,i.indexOf(";"))),p.write(e[n].name,i,!a)}return b("SSO cookie detected. Refreshing page."),{redirectUrl:v()}})).then(null,(function(e){return p.write(m.aadSso,e.toCookieString(),!a),b("Error: "+e.toString()),s.reject(e)}))),e.then((function(e){return n&&!e.redirectUrl?s.reject("silentPullFailed"):e})).then(S,y).then(null,(function(e){return n?t.reloadOnFailure?{redirectUrl:v()}:{redirectUrl:t.failureRedirectUrl}:s.reject(e)}))):s.reject("bssoDisabled")},this.isEnabled=function(){return!!t.enabled},t.enabled&&(h={result:null,error:null,type:t.telemetry.type||null,data:{},traces:[]},t.initiatePullTimeoutMs=t.initiatePullTimeoutMs||t.overallTimeoutMs,t.initiatePullTimeoutAction=t.initiatePullTimeoutAction||"abort",b("BrowserSSO Initialized"))}},function(e,n,t){var i=t(3),a=t(6),o=i.Array,r={mergeSessions:function(e,n,t){var i=[];return o.forEach(n,(function(n){var a=function(e,n){for(var t=0;t<n.length;t++)if(n[t].name===e.name&&n[t].idp===e.idp)return t;return-1}(n,e);-1===a?(n.isWindowsSso?e.unshift(n):e.push(n),i.push(n)):n.isWindowsSso?(e.splice(a,1),e.unshift(n),i.push(n)):t&&(e.splice(a,1),e.push(n),i.push(n))})),i},parseMeControlSessions:function(e){return o.map(e,(function(e){var n=e.firstName,t=e.lastName;return t&&(n?n+=" "+t:n=t),{id:e.sessionId,fullName:n,name:e.memberName||e.signInName,displayName:e.memberName||e.signInName,idp:a.SessionIdp.Msa,isOtherIdp:!0,isSignedIn:e.isSignedIn||1===e.authenticatedState||2===e.authenticatedState,isWindowsSso:e.isWindowsSso||!1,isMeControlSession:!0,isGitHubFed:e.isGitHubFed||!1}}))},parseBssoSessions:function(e){return o.map(e,(function(e){return{ssoUniqueId:e.ssoUniqueId,name:e.name,displayName:e.displayName,idp:a.SessionIdp.Aad,ssoLink:e.url,isWindowsSso:e.isWindowsSso,isSignedIn:e.isSignedIn}}))}};e.exports=r},function(e,n,t){var i=t(2),a=t(1),o=t(9),r=t(284).Microsoft.ApplicationInsights,s=window;function c(e){var n,t,a=this,c=e.serverData,d=c.D,l=c.bt,u=c.j,p=c.bE,g=c.Bx,f=c.bi||c.country,m=c.serverDetails,h=c.hpgid,v=c.aO,b=c.BR,_=c.bm,S=c.B4,y=c.inlineMode,w=c.isCustomPerf,T=0,C=!1,x=!1;function I(e){var n={};if(e.toJSON)return e.toJSON();for(var t in e)n[t]=e[t];return n}a.clientMode=d,a.srsFailed=s.g_iSRSFailed,a.srsSuccess=s.g_sSRSSuccess,a.timeOnPage=i.observable(null),a.recordSubmit=function(){s.performance&&s.performance.timing&&a.timeOnPage((new Date).getTime()-s.performance.timing.loadEventEnd)},a.setPageLoadCompleted=function(){C=!0,setTimeout((function(){!function(){if(x||!C)return;if(x=!0,l){var e={hostBuildNumber:m?m.ver.v.join("."):p,serverExecutionTime:m?m.et:g,requestCountry:f,plt:0},n=function(){var e=s.performance,n=s.navigator,t={};if(!e)return null;e.navigation&&(t.navigation=I(e.navigation));e.timing&&(t.timing=I(e.timing),T>0&&(t.timing.customLoadEventEnd=T));e.getEntries&&(t.entries=i.utils.arrayMap(e.getEntries(),I));n.connection&&(t.connection=I(n.connection));return t}();n&&(e.performanceData=n),y&&(e.inlineMode=y),new o({checkApiCanary:u}).Json({url:l},e)}var t=s.appInsights;if(t){var a={},r={};r.serverExecutionTime=m?m.et:g,t.trackPageView(null,null,a,r)}}()}),0)},a.setCustomPageLoadCompletedTime=function(e){T=e||(new Date).getTime()},v&&(n={config:{instrumentationKey:S,isCookieUseDisabled:!0,isStorageUseDisabled:!0,disableAjaxTracking:!0,disableExceptionTracking:!0,endpointUrl:_}},t=new r.Initialization(n).loadAppInsights(),s.appInsights=t,t.context.addTelemetryInitializer((function(e){var n=e.data.baseData;n.properties=n.properties||{},n.properties.hostBuildNumber=m?m.ver.v.join("."):p,n.properties.requestCountry=f,n.properties.hpgid=h,n.measurements=n.measurements||{},n.measurements.enabledPercentage=b,"string"==typeof n.url&&(n.url=n.url.split("?")[0]);for(var t=["ai.operation.id","ai.operation.parentid","ai.operation.rootid","ai.session.id","ai.user.accountId","ai.user.authUserId","ai.user.id"],i=0;i<t.length;i++)e.tags[t[i]]&&delete e.tags[t[i]]}))),w||setTimeout((function(){a.setPageLoadCompleted()}),100)}i.components.register("instrumentation-control",{viewModel:c,template:t(285),synchronous:!s.ServerData.A||a.Helper.isStackSizeGreaterThan(s.ServerData.A),enableExtensions:!0}),e.exports=c},function(e,n,t){var i=t(2),a=t(1),o=window;i.components.register("logo-control",{template:t(286),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)})},function(e,n,t){var i=t(2),a=t(3),o=t(1),r=t(4),s=null,c=null,d=null,l=t(294),u=window,p=null;function g(e,n){var c=this,u=!1,g=null,f=e.serverData,m=e.showButtons||!1,h=e.showFooterLinks,v=!1!==e.showFooterLogo,b=e.useWizardBehavior,_=e.hideFromAria||i.observable(!1),S=f.Bv,y=f.staticTenantBranding,w=f.arrLivePreviewOrigins;function T(e,n){var t=["Microsoft","OneDrive","Skype","Bing","Xbox","Word","Outlook","Office","Excel","PowerPoint","Cortana","SkypeDialer","Health","MileIQ","Beam","MSN","Minecraft"];return(e<0||e>=t.length)&&(e=0),a.String.format("./AppCentipede_{0}{1}.{2}",t[e],n?"_white":"",u?"svg":"png")}function C(e){var n=s.loadTenantBranding(e),i=s.getLayoutTemplateConfig(n).layoutType===p.VerticalSplit;c.isVerticalSplitTemplate(i),i&&!c.isVerticalSplitTemplateLoaded()&&t.e(33).then(function(){t(434),c.isVerticalSplitTemplateLoaded(!0)}.bind(null,t))["catch"](t.oe)}c.useLayoutTemplates=!0,c.templateNodes={},c.showButtons=m,c.footer={showLinks:h,showLogo:v},c.centipede={getLightUrl:function(){return l(T(S,!0))},getDarkUrl:function(){return l(T(S,!1))}},c.hideFromAria=_,c.isInternalModeEnabled="1"===o.QueryString.extract("psi"),c.viewModel=null,c.viewAgreement=i.observable(!1),c.agreementType=i.observable(),c.isVerticalSplitTemplate=i.observable(!1),c.isVerticalSplitTemplateLoaded=i.observable(!1),c.onFooterAgreementClick=r.create(),c.footer_agreementClick=function(e){c.onFooterAgreementClick(e)},c.agreement_backButtonClick=function(){c.viewAgreement(!1)},c.dispose=function(){g&&g.removeListener(C)},c.showAgreement=function(e){c.agreementType(e),c.viewAgreement(!0)},function(){if(u=o.Helper.isSvgImgSupported(),C(y),n&&i.utils.arrayForEach(n,(function(e){e.id&&(c.templateNodes[e.id]=e.childNodes)})),b){0}w&&(g=d.getInstance(w)).addListener(C)}()}s=t(11),c=t(0),d=t(23),p=c.LayoutTemplateType,i.components.register("master-page",{viewModel:{createViewModel:function(e,n){return new g(e,n.templateNodes)}},template:t(363),synchronous:!u.ServerData.A||o.Helper.isStackSizeGreaterThan(u.ServerData.A),enableExtensions:!0}),e.exports=g},function(e,n,t){var i=t(2),a=t(1),o=window;function r(){var e=this;e.isAppBranding=i.observable(!1),e.backgroundStyle=i.observable(),e.smallImageUrl=i.observable(),e.backgroundImageUrl=i.observable(),e.useImageMask=i.observable(!1),e.useTransparentLightBox=i.observable(!1),e.updateBranding=function(n){e.isAppBranding(!!n.backgroundLogoUrl),e.backgroundStyle(n.color),e.smallImageUrl(n.smallImageUrl),e.backgroundImageUrl(n.backgroundImageUrl),e.useImageMask(!!n.useImageMask),e.useTransparentLightBox(!!n.useTransparentLightBox)}}i.components.register("background-image-control",{viewModel:r,template:t(366),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A),enableExtensions:!0}),e.exports=r},function(e,n,t){var i=t(2),a=t(1),o=window;i.components.register("page-level-title-control",{template:t(367),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)})},function(e,n,t){var i=t(2),a=t(0),o=t(1),r=t(379),s=t(4),c=t(10),d=t(13).getInstance(window.ServerData),l=t(7),u=window,p=a.PaginatedState.Previous,g=a.AnimationState,f=a.AnimationName,m=a.AnimationTimeout,h=o.Helper;function v(e,n,t,a){var o=this,u=e.initialViewId||null,v=e.currentViewId||null,b=e.initialSharedData||{},_=e.initialError,S=e.enableCssAnimation,y=e.disableAnimationIfAnimationEndUnsupported,w=t,T=a,C=null,x=g.End,I=!1,k=null,P=null,D=!1,E=null,A=i.observable();function R(){var e=o.currentViewIndex();return w[e]?w[e]():null}function L(e){A(null),o.view_onSetIdentityBackButtonState(),o.isInitialState=C.getState().isInitialState,o.onShowView(T[e].metadata,e),A(e),o.hasInitialViewShown(!0)}function N(e,n){var t=A(),i=o.onLoadView(e);i?c.throwUnhandledExceptionOnRejection(i.then((function(){U(t,e,n)}))):U(t,e,n)}function U(e,n,t){D&&(e!==n||t)&&(!_||e)?(y&&null===k&&(E=setTimeout((function(){D=!1,o.hidePaginatedView(!1),o.hidePaginatedView.hideSubView(!1),o.onSetLightBoxFadeIn(!1),x=g.End,N(n)}),m)),k=e,P=n,x=g.Begin,o.view_onAnimationEnd()):(o.animate(f.None),o.view_onAnimationEnd(),L(n))}function O(e){var n=R();if(n){e&&n.saveSharedData(o.sharedData);var t=n.getState(),i=C.getState();i.viewState=t,C.replaceState(i)}}function B(){I=!0,O(!1)}function F(){I=!1}function M(e){o.initialError=null,N(e.viewId,e.forceTransitionAnimation)}o.views=n,o.viewInterfaces=t,o.sharedData=b,o.initialError=_,o.isInitialState=!1,o.isBackButtonVisible=i.observable(!1),o.isBackButtonFocused=i.observable(!1),o.backButtonDescribedBy=i.observable(null),o.hasInitialViewShown=i.observable(!1),o.hidePaginatedView=i.utils.extend(i.observable(!1),{hideSubView:i.observable(!1)}),o.animate=i.utils.extend(i.observable(f.None),{animateBanner:i.observable(!1),isSlideOutNext:i.pureComputed((function(){return o.animate()===f.SlideOutNext})),isSlideInNext:i.pureComputed((function(){return o.animate()===f.SlideInNext})),isSlideOutBack:i.pureComputed((function(){return o.animate()===f.SlideOutBack})),isSlideInBack:i.pureComputed((function(){return o.animate()===f.SlideInBack}))}),o.showIdentityBanner=i.pureComputed((function(){var e=A();return e&&T[e].metadata&&T[e].metadata.showIdentityBanner})),o.currentViewIndex=i.pureComputed((function(){var e=A();return T[e]&&!isNaN(T[e].index)?T[e].index:-1})),o.onCancel=s.create(),o.onLoadView=s.create(),o.onShowView=s.create(),o.onSetLightBoxFadeIn=s.create(),o.onAnimationStateChange=s.create(),o.dispose=function(){C.dispose()},o.setDefaultFocus=function(){var e=R();e&&e.setDefaultFocus&&e.setDefaultFocus()},o.getCurrentViewId=function(){return A()},o.getSharedData=function(){return o.sharedData||{}},o.getSharedDataItem=function(e){return o.getSharedData()[e]},o.getCurrentView=function(){return{viewId:A(),viewInterface:R()}},o.setSharedDataItem=function(e,n){o.sharedData||(o.sharedData={}),o.sharedData[e]=n},o.saveSharedDataOnCurrentView=function(){var e=R();e&&e.saveSharedData(o.sharedData)},o.currentViewHasMetadata=function(e){var n=A();return!!T[n]&&!!T[n].metadata[e]},o.submitCurrentView=function(){var e=R();e&&e.submit&&e.submit()},o.identityBanner_onBackButtonClick=function(){o.view_onSwitchView(p)},o.view_onLoad=function(){var e=C.getState(),n=R();if(n){n.restoreState(e?e.viewState:null);var t=o.getCurrentViewId();d.setViewViewModel(n,t,T[t].metadata),d.logViewState(n),o.setDefaultFocus()}},o.view_onSwitchView=function(e,n,t){d.logEvent({eventType:"view_onSwitchView",eventId:l.EventIds.Event_PaginationControl_ViewSwitch,eventLevel:l.EventLevel.Critical,eventArgs:{viewId:e,replaceHistory:n},eventOptions:{hidingMode:l.HidingMode.None}}),d.switchView(R());var i=C.getState()||{};t&&(i.forceTransitionAnimation=t,C.replaceState(i)),o.initialError=null,e===p?(I=!0,i.isInitialState?o.onCancel():C.goBack()):(I=!1,O(!0),(n|=e===A()&&!1!==n)?(i.viewId=e,i.viewState=null,C.replaceState(i)):(i={viewId:e},C.pushState(i)),N(e,t))},o.view_onCancel=function(){o.onCancel()},o.view_onSetIdentityBackButtonState=function(e,n,t){o.isBackButtonVisible(e||!1),o.isBackButtonFocused(n||!1),o.backButtonDescribedBy(t||null)},o.view_onAnimationEnd=function(){switch(o.onAnimationStateChange(x,I,!!k),x){case g.Begin:o.animate(f.None),o.animate.animateBanner(!k||T[k].metadata.showIdentityBanner!==T[P].metadata.showIdentityBanner),x=g.RenderNewView,k?o.animate(I?f.SlideOutBack:f.SlideOutNext):o.view_onAnimationEnd();break;case g.RenderNewView:L(P),o.animate.animateBanner()?o.hidePaginatedView(!0):o.hidePaginatedView.hideSubView(!0),x=g.AnimateNewView,k?setTimeout(o.view_onAnimationEnd,0):o.onSetLightBoxFadeIn(!0);break;case g.AnimateNewView:E&&(clearTimeout(E),E=null),x=g.End,o.hidePaginatedView(!1),o.hidePaginatedView.hideSubView(!1),o.animate(I?f.SlideInBack:f.SlideInNext)}},function(){D=S&&h.isCSSAnimationSupported(),C=new r(B,F,M);var e=null;null===u&&null===v||(u=null===u?v:u,v=null===v?u:v,e={viewId:u,isInitialState:!0},C.replaceState(e)),v!==u&&(e={viewId:v},C.pushState(e)),null!==e&&setTimeout((function(){N(e.viewId)}),0)}()}function b(e){var n={};return i.utils.arrayForEach(["wide","hideLogo","hideDefaultLogo","dynamicBranding","hideLwaDisclaimer","showIdentityBanner","showFedCredButton","hidePageLevelTitleAndDesc","extraDebugDetails"],(function(t){var i=e.getAttribute("data-"+t);i&&(n[t]="true"===i.toLowerCase())})),n}i.components.register("pagination-control",{viewModel:{createViewModel:function(e,n){var t=[],a=[],o={},r=0;return i.utils.arrayForEach(n.templateNodes,(function(e){var n;1===e.nodeType&&null!==(n=e.getAttribute("data-viewid"))&&(t.push(e),a.push(i.observable()),n=isNaN(n)?n:parseInt(n),o[n]={index:r++,metadata:b(e)})})),new v(e,t,a,o)}},template:t(380),synchronous:!u.ServerData.A||o.Helper.isStackSizeGreaterThan(u.ServerData.A),enableExtensions:!0})},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=window;function s(e){var n=e.isPlatformAuthenticatorAvailable;this.isPlatformAuthenticatorAvailable=n,this.onRegisterDialog=o.create(),this.onUnregisterDialog=o.create()}i.components.register("fido-help-dialog-content-control",{viewModel:s,template:t(396),synchronous:!r.ServerData.A||a.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=window;function s(e,n){var t=this,i=e.dialogId,a=e.data,r=n;t.onRegisterDialog=o.create(),t.onUnregisterDialog=o.create(),t.dispose=function(){t.onUnregisterDialog(i)},t.onRegisterDialog(i,{templateNodes:r,data:a})}i.components.register("dialog-content-control",{viewModel:{createViewModel:function(e,n){return new s(e,n.templateNodes)}},template:"\x3c!-- --\x3e",synchronous:!r.ServerData.A||a.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){e.exports=t.p+"content/images/documentation_white_f1d76f59f87ee716791873beaa56f42b.png"},function(e,n,t){e.exports=t.p+"content/images/documentation_white_c8c3f0c876ac28614d1d0c2068289237.svg"},function(e,n,t){e.exports=t.p+"content/images/documentation_9628e22a6bfb1edc59e81064a666b614.png"},function(e,n,t){e.exports=t.p+"content/images/documentation_bcb4d1dc4eae64f0b2b2538209d8435a.svg"},function(e,n,t){var i=window;t.p=i.ServerData.a,i.ServerData.urlImagePath=i.ServerData.a+"images/";var a=t(2),o=t(59),r=t(0),s=t(1),c=t(62),d=t(6),l=t(63),u=r.LoginMode,p=s.Helper,g=s.QueryString,f=s.Cookies,m=d.LoginOption,h=!1;function v(e){!function(e){if(e){(new Image).src=e}}(e.ah),function(e){if(e.AV&&null!==new RegExp("Windows NT ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1)<6&&p.getIEVersion()>=7)try{document.getElementById("ev").src=e.aD}catch(n){}}(e)}o.applyExtensions(a),a.utils.registerEventHandler(i,"load",(function(){var e=i.ServerData;if(e.str=c.getStrings("str",e),e.html=c.getStrings("html",e),e.arrProofData=c.getStrings("proofData"),!h&&!function(e){try{if(top!==self&&top.location.replace(self.location.href),2===e.Ax&&e.urlFed)return function(e,n,t,i){var a=i.sFedQS;n===m.NothingChecked&&(a=g.appendOrReplace("?"+a,"wctx","LoginOptions%3D3%26"+g.extract("wctx","?"+a)).substr(1));e=g.appendOrReplace(e,"cbcxt",encodeURIComponent(decodeURIComponent(g.extract("cbcxt")))),e=g.appendOrReplace(e,"vv",encodeURIComponent(decodeURIComponent(g.extract("cbcxt")))),e=g.appendOrReplace(e,"username",encodeURIComponent(t)),e=g.appendOrReplace(e,"mkt",encodeURIComponent(decodeURIComponent(g.extract("mkt")))),e=g.appendOrReplace(e,"lc",encodeURIComponent(decodeURIComponent(g.extract("lc")))),document.location.replace(g.append(e,a))}(e.urlFed,e.AH,decodeURIComponent(g.extract("username")),e),!0;if(!f.enabled())return document.location=e.T,!0}catch(n){e.D=u.GenericError}return!1}(e))switch(h=!0,e.D){case u.GenericError:case u.GenericErrorMobile:case u.GenericErrorHost:case u.SwitchUser:case u.SwitchUserMobile:case u.SwitchUserHost:case u.InviteBlocked:case u.ServiceBlocked:case u.IDPFailed:case u.HIP_Lockout:case u.HIP_LockoutMobile:case u.HIP_LockoutHost:case u.BindFailed:t.e(1).then(function(){var n=t(399);document.body.appendChild(document.createElement("div")).innerHTML=t(400),a.applyBindings(new n(e)),v(e)}.bind(null,t))["catch"](t.oe);break;default:document.body.appendChild(document.createElement("div")).innerHTML=t(271),a.applyBindings(new l(e)),v(e)}}))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(i){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){var i,a,o;
C:\Program Files\PuTTY\putty.exe
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
.putty.fr.uptodown.comutd_red_platform/3)
.putty.fr.uptodown.comutd_red_lang/2
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
InputType
InputType
InputType
InputType
InputType
InputType
lai de notification;afficher le timing du message;braille alerts;braille notification settings;change notification timeout;disable flash messages;enable flash messages;flash messages;notification timing;set notification timeout;show message timing"}},{"System.ParsingName":{"Type":12,"Value":"AAA_SystemSettings_Accessibility_Braille_Table_InputType.settingcontent-ms"},"System.Setting.FontFamily":{"Type":12,"Value":"Segoe MDL2 Assets"},"System.Setting.Glyph":{"Type":12,"Value":"
"},"System.Setting.PageID":{"Type":12,"Value":"SettingsPageEaseOfAccessNarrator"},"System.Setting.SettingID":{"Type":12,"Value":"SystemSettings_Accessibility_Braille_Table_InputType"},"System.Setting.GroupID":{"Type":12,"Value":"SettingsGroupEaseOfAccessBraille"},"System.Comment":{"Type":12,"Value":"Modifier le type de table d'entr
tres de langue braille;change language;change output language;choose language;choose output language;languages;tables;braille language settings"}},{"System.ParsingName":{"Type":12,"Value":"AAA_SystemSettings_Accessibility_Braille_Table_OutputType.settingcontent-ms"},"System.Setting.FontFamily":{"Type":12,"Value":"Segoe MDL2 Assets"},"System.Setting.Glyph":{"Type":12,"Value":"
"},"System.Setting.PageID":{"Type":12,"Value":"SettingsPageEaseOfAccessNarrator"},"System.Setting.SettingID":{"Type":12,"Value":"SystemSettings_Accessibility_Braille_Table_OutputType"},"System.Setting.GroupID":{"Type":12,"Value":"SettingsGroupEaseOfAccessBraille"},"System.Comment":{"Type":12,"Value":"Modifier le type de table de sortie en braille"},"System.HighKeywords":{"Type":12,"Value":"param
{7C5A40EF-A0FB-4BFC-874A-C0F2E0B9FA8E}\MTPuTTY\mtputty.exe	11251
{6D809377-6AF0-444B-8957-A3773F02200E}\ExtraPuTTY\Bin\putty.exe	12120
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
AAA_SystemSettings_Accessibility_Braille_Table_OutputType	10448
AAA_SystemSettings_Accessibility_Braille_Table_InputType	11001
*|	*|putty.exe	9220
*|putty	*|puuty	7369
*|putty	*|putyy	6305
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
.putty.fr.uptodown.comutd_red_platform/
..putty.fr.uptodown.comutd_red_lang/
https://assets.msn.com/bundles/v1/edgeChromium/latest/2.acbaa51b84e3b91c8b59.js(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{Yx6L:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return o}));var i=s("2R5J"),n=s("Jw3B");class o{constructor(){this.FiveColumnDefaultTemplates=[{categoryId:"stripe_news",nextColumnCategoryId:"stripe_news",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55401},{categoryId:"stripe_news_my_brief",nextColumnCategoryId:"stripe_news_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55401.1},{categoryId:"stripe_news_half_cards",nextColumnCategoryId:"stripe_news_half_cards",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55402},{categoryId:"stripe_news_half_cards_my_brief",nextColumnCategoryId:"stripe_news_half_cards_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55402.1},{categoryId:"stripe_news_full_cards",nextColumnCategoryId:"stripe_news_full_cards",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55403.1},{categoryId:"stripe_news_full_cards",nextColumnCategoryId:"stripe_news_full_cards",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55403},{categoryId:"stripe_news_high_density",nextColumnCategoryId:"stripe_news_high_density",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.Tall),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55404.1},{categoryId:"stripe_news_high_density",nextColumnCategoryId:"stripe_news_high_density",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.Tall),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55404},{categoryId:"stripe_sdCard",nextColumnCategoryId:"stripe_sdCard",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55405.2},{categoryId:"stripe_sdCard",nextColumnCategoryId:"stripe_sdCard",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55405},{categoryId:"stripe_sdCard_my_brief",nextColumnCategoryId:"stripe_sdCard_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55405.3},{categoryId:"stripe_sdCard_my_brief",nextColumnCategoryId:"stripe_sdCard_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55405.1},{categoryId:"stripe_doublewide_plus_tall_card",nextColumnCategoryId:"stripe_doublewide_plus_tall_card",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55406.1},{categoryId:"stripe_doublewide_plus_tall_card",nextColumnCategoryId:"stripe_doublewide_plus_tall_card",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55406},{categoryId:"stripe_sdCard_trendingNews",nextColumnCategoryId:"stripe_sdCard_trendingNews",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55407.1},{categoryId:"stripe_sdCard_trendingNews",nextColumnCategoryId:"stripe_sdCard_trendingNews",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55407},{categoryId:"stripe_sdCard_trendingNews_my_brief",nextColumnCategoryId:"stripe_sdCard_trendingNews_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5507.2},{categoryId:"stripe_sdCard_trendingNews_my_brief",nextColumnCategoryId:"stripe_sdCard_trendingNews_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5507.1},{categoryId:"stripe_entertainment",nextColumnCategoryId:"stripe_entertainment",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.Tall),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55408.1},{categoryId:"stripe_entertainment",nextColumnCategoryId:"stripe_entertainment",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55408},{categoryId:"stripe_entertainment",nextColumnCategoryId:"stripe_entertainment",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.Tall),i.Column4Row1),Object.assign(Object.assign({},i.Tall),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55409.1},{categoryId:"stripe_entertainment",nextColumnCategoryId:"stripe_entertainment",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.Tall),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55409},{categoryId:"stripe_2double_wide",nextColumnCategoryId:"stripe_2double_wide",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55410},{categoryId:"stripe_doubleWide_middle",nextColumnCategoryId:"stripe_doubleWide_middle",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55411.1},{categoryId:"stripe_doubleWide_middle",nextColumnCategoryId:"stripe_doubleWide_middle",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55411},{categoryId:"stripe_video",nextColumnCategoryId:"stripe_video",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55412.2},{categoryId:"stripe_video",nextColumnCategoryId:"stripe_video",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55412},{categoryId:"stripe_video_my_brief",nextColumnCategoryId:"stripe_video_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55412.3},{categoryId:"stripe_video_my_brief",nextColumnCategoryId:"stripe_video_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55412.1},{categoryId:"stripe_video_dense",nextColumnCategoryId:"stripe_video_dense",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55413},{categoryId:"stripe_news_dense",nextColumnCategoryId:"stripe_news_dense",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55414},{categoryId:"stripe_news_dense_sd",nextColumnCategoryId:"stripe_news_dense_sd",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55414.2},{categoryId:"stripe_news_dense_sd",nextColumnCategoryId:"stripe_news_dense_sd",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55414.1},{categoryId:"stripe_money_dense",nextColumnCategoryId:"stripe_money_dense",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55415},{categoryId:"stripe_money_dense_sd",nextColumnCategoryId:"stripe_money_dense_sd",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55415.1},{categoryId:"stripe_entertainment_dense",nextColumnCategoryId:"stripe_entertainment_dense",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55416},{categoryId:"stripe_editorial_sdCard",nextColumnCategoryId:"stripe_editorial_sdCard",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55417.1},{categoryId:"stripe_editorial_sdCard",nextColumnCategoryId:"stripe_editorial_sdCard",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55417.2},{categoryId:"stripe_editorial_sdCard",nextColumnCategoryId:"stripe_editorial_sdCard",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55417},{categoryId:"stripe_editorial_t1",nextColumnCategoryId:"stripe_editorial_t1",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55418},{categoryId:"stripe_editorial_t2",nextColumnCategoryId:"stripe_editorial_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55419.1},{categoryId:"stripe_editorial_t2",nextColumnCategoryId:"stripe_editorial_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55419},{categoryId:"stripe_editorial_t3",nextColumnCategoryId:"stripe_editorial_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55420},{categoryId:"stripe_editorial_t5",nextColumnCategoryId:"stripe_editorial_t5",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55460.1},{categoryId:"stripe_editorial_t5",nextColumnCategoryId:"stripe_editorial_t5",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55460},{categoryId:"stripe_editorial_t6",nextColumnCategoryId:"stripe_editorial_t6",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55461.1},{categoryId:"stripe_editorial_t6",nextColumnCategoryId:"stripe_editorial_t6",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55461},{categoryId:"stripe_editorial_t4",nextColumnCategoryId:"stripe_editorial_t4",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55421.1},{categoryId:"stripe_editorial_t4",nextColumnCategoryId:"stripe_editorial_t4",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:55421},{categoryId:"stripe_editorial_1row",nextColumnCategoryId:"stripe_editorial_1row",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.OneRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.OneRowHeightsLength,templateKey:55422},{categoryId:"stripe_4row_t2",nextColumnCategoryId:"stripe_4row_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55423},{categoryId:"stripe_4row_t3",nextColumnCategoryId:"stripe_4row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55424},{categoryId:"stripe_4row_t4",nextColumnCategoryId:"stripe_4row_t4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55425.1},{categoryId:"stripe_4row_t4",nextColumnCategoryId:"stripe_4row_t4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55425},{categoryId:"stripe_4row_t1",nextColumnCategoryId:"stripe_4row_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.Tall),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55426.1},{categoryId:"stripe_4row_t1",nextColumnCategoryId:"stripe_4row_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.Tall),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55426.2},{categoryId:"stripe_4row_t1",nextColumnCategoryId:"stripe_4row_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.Tall),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55426},{categoryId:"stripe_4row_displayad_t1",nextColumnCategoryId:"stripe_4row_displayad_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,i.LegacyCssRowHeight,i.LegacyCssRowHeight],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55427},{categoryId:"stripe_4row_displayad_t1_quiz",nextColumnCategoryId:"stripe_4row_4column_displayad_t1_quiz",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.ShortHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,i.LegacyCssRowHeight,i.LegacyCssRowHeight],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55427.1},{categoryId:"stripe_4row_displayad_t2",nextColumnCategoryId:"stripe_4row_displayad_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,i.LegacyCssRowHeight,i.LegacyCssRowHeight],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55428},{categoryId:"stripe_4row_top_t1",nextColumnCategoryId:"stripe_4row_top_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55450.1},{categoryId:"stripe_4row_top_t1",nextColumnCategoryId:"stripe_4row_top_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55450},{categoryId:"stripe_4row_top_t2",nextColumnCategoryId:"stripe_4row_top_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.1},{categoryId:"stripe_4row_top_t2",nextColumnCategoryId:"stripe_4row_top_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.2},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.3},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.4},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.5},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.6},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.7},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.8},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.9},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.11},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.12},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.13},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.14},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_top_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55451.15},{categoryId:"stripe_7row_news_tall_t1_c4",nextColumnCategoryId:"stripe_7row_news_tall_t1_c4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.Tall),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.Tall),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row6),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row6),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row6),Object.assign(Object.assign({},i.FullHeight),i.Column5Row7)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.SixRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:55452},{categoryId:"stripe_7row_news_tall_t2_c4",nextColumnCategoryId:"stripe_7row_news_tall_t2_c4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.Tall),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.Tall),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row6),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row6),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row6),Object.assign(Object.assign({},i.FullHeight),i.Column5Row7)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.EightRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:55453},{categoryId:"stripe_7row_news_t3_c4",nextColumnCategoryId:"stripe_7row_news_t3_c4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.FullHeight),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column3Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row5),Object.assign(Object.assign({},i.FullHeight),i.Column5Row7)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.SixRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:55454},{categoryId:"stripe_7row_news_t4_c4",nextColumnCategoryId:"stripe_7row_news_t4_c4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.FullHeight),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column3Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row5),Object.assign(Object.assign({},i.FullHeight),i.Column5Row7)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.EightRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:55455},{categoryId:"stripe_7row_entertainment_tall_t1_c4",nextColumnCategoryId:"stripe_7row_entertainment_tall_t1_c4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row5)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.FourRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.SixRowHeightsLength,templateKey:55456},{categoryId:"stripe_7row_entertainment_tall_t2_c4",nextColumnCategoryId:"stripe_7row_entertainment_tall_t2_c4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row5)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.SixRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.SixRowHeightsLength,templateKey:55457},{categoryId:"stripe_7row_entertainment_t3_c4",nextColumnCategoryId:"stripe_7row_entertainment_t3_c4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row7),Object.assign(Object.assign({},i.DoubleWide),i.Column1Row8),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row8),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row7),Object.assign(Object.assign({},i.FullHeight),i.Column5Row8)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.SevenRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.NineRowHeightsLength,templateKey:55458},{categoryId:"stripe_7row_entertainment_t4_c4",nextColumnCategoryId:"stripe_7row_entertainment_t4_c4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row7),Object.assign(Object.assign({},i.DoubleWide),i.Column1Row8),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row8),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row7),Object.assign(Object.assign({},i.FullHeight),i.Column5Row8)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.NineRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.NineRowHeightsLength,templateKey:55459},{categoryId:"stripe_4row_news_t1_c4",nextColumnCategoryId:"stripe_4row_news_t1_c4",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:55490},{categoryId:"stripe_4row_entertainment_t1_c4",nextColumnCategoryId:"stripe_4row_entertainment_t1_c4",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.DoubleWide),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row5),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row5),Object.assign(Object.assign({},i.FullHeight),i.Column5Row7)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.EightRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:55491},{categoryId:"stripe_4row_entertainment_t2_c4",nextColumnCategoryId:"stripe_4row_entertainment_t2_c4",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row5)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:55492},{categoryId:"stripe_1_2_2_1_template",nextColumnCategoryId:"stripe_1_2_2_1_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:56006.1},{categoryId:"stripe_1_1_1_1_template",nextColumnCategoryId:"stripe_1_1_1_1_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:56007.1},{categoryId:"stripe_1_1_2_2_template",nextColumnCategoryId:"stripe_1_1_2_2_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:56008.1},{categoryId:"stripe_1_1_2_1_template",nextColumnCategoryId:"stripe_1_1_2_1_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:56009.2},{categoryId:"stripe_1_1_2_1_template",nextColumnCategoryId:"stripe_1_1_2_1_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:56009.1},{categoryId:"stripe_1_2_2_2_template",nextColumnCategoryId:"stripe_1_2_2_2_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:56010.1},{categoryId:"stripe_3_3_4_3_template",nextColumnCategoryId:"stripe_3_3_4_3_template",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row2),Object.assign(Object.assign({},i.FullHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:56011.2},{categoryId:"stripe_3_3_4_3_template",nextColumnCategoryId:"stripe_3_3_4_3_template",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row5)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:56011.1},{isFallback:!0,categoryId:"stripe_fallback",nextColumnCategoryId:"stripe_fallback",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row2),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55429.1},{isFallback:!0,categoryId:"stripe_fallback",nextColumnCategoryId:"stripe_fallback",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row2),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55429},{isFallback:!0,categoryId:"stripe_fallback_my_brief",nextColumnCategoryId:"stripe_fallback_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55429.2},{isFallback:!0,categoryId:"stripe_fallback",nextColumnCategoryId:"stripe_fallback",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55430.1},{isFallback:!0,categoryId:"stripe_fallback",nextColumnCategoryId:"stripe_fallback",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.FullHeight),i.Column5Row2)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55430.2},{isFallback:!0,categoryId:"stripe_fallback",nextColumnCategoryId:"stripe_fallback",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55430},{isFallback:!0,categoryId:"stripe_fallback_my_brief",nextColumnCategoryId:"stripe_fallback_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:55430.3},{isFallback:!0,categoryId:"stripe_7row_fallback_t1_c4",nextColumnCategoryId:"stripe_7row_fallback_t1_c4",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.FullHeight),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column3Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4),Object.assign(Object.assign({},i.FullHeight),i.Column5Row5),Object.assign(Object.assign({},i.FullHeight),i.Column5Row7)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.SixRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:55431},{isFallback:!0,categoryId:"stripe_4row_displayad_fallback_c4",nextColumnCategoryId:"stripe_4row_displayad_fallback_c4",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.TwoRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:55432},{isFallback:!0,categoryId:"stripe_4row_fallback_c4",nextColumnCategoryId:"stripe_4row_fallback_c4",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column5Row3),Object.assign(Object.assign({},i.FullHeight),i.Column5Row4)],columnCount:5,columnWidths:i.FiveColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:55433}],this.FourColumnDefaultTemplates=[{categoryId:"stripe_news",nextColumnCategoryId:"stripe_3row_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5401},{categoryId:"stripe_news_my_brief",nextColumnCategoryId:"stripe_3row_t3",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5401.1},{categoryId:"stripe_news_my_brief2",nextColumnCategoryId:"stripe_3row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5401.2},{categoryId:"stripe_news_half_cards",nextColumnCategoryId:"stripe_3row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5402},{categoryId:"stripe_news_half_cards_my_brief",nextColumnCategoryId:"stripe_3row_t3_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5402.1},{categoryId:"stripe_news_full_cards",nextColumnCategoryId:"stripe_3row_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5403},{categoryId:"stripe_news_high_density",nextColumnCategoryId:"stripe_3row_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.Tall),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5404},{categoryId:"stripe_sdCard",nextColumnCategoryId:"stripe_3row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5405},{categoryId:"stripe_sdCard_my_brief",nextColumnCategoryId:"stripe_3row_t3_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5405.1},{categoryId:"stripe_doublewide_plus_tall_card",nextColumnCategoryId:"stripe_3row_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5406},{categoryId:"stripe_sdCard_trendingNews",nextColumnCategoryId:"stripe_3row_t33",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5407},{categoryId:"stripe_sdCard_trendingNews_my_brief",nextColumnCategoryId:"stripe_3row_t3_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:507.1},{categoryId:"stripe_sdCard_trendingNews_my_brief2",nextColumnCategoryId:"stripe_3row_t33",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5407.2},{categoryId:"stripe_entertainment",nextColumnCategoryId:"stripe_3row_t4",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5408},{categoryId:"stripe_entertainment",nextColumnCategoryId:"stripe_3row_t5",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.Tall),i.Column4Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5409},{categoryId:"stripe_2double_wide",nextColumnCategoryId:"stripe_3row_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5410},{categoryId:"stripe_doubleWide_middle",nextColumnCategoryId:"stripe_3row_t7",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5411},{categoryId:"stripe_video",nextColumnCategoryId:"stripe_3row_t6",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5412},{categoryId:"stripe_video_my_brief",nextColumnCategoryId:"stripe_3row_t6_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5412.1},{categoryId:"stripe_video_dense",nextColumnCategoryId:"stripe_3row_t4",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5413},{categoryId:"stripe_news_dense",nextColumnCategoryId:"stripe_news_dense_c3",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5414},{categoryId:"stripe_news_dense_sd",nextColumnCategoryId:"stripe_news_dense_c3",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5414.1},{categoryId:"stripe_money_dense",nextColumnCategoryId:"stripe_money_dense_c3",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5415},{categoryId:"stripe_money_dense_sd",nextColumnCategoryId:"stripe_money_dense_sd_c3",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5415.1},{categoryId:"stripe_entertainment_dense",nextColumnCategoryId:"stripe_entertainment_dense_c3",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5416},{categoryId:"stripe_editorial_sdCard",nextColumnCategoryId:"stripe_2row_t1",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5417},{categoryId:"stripe_editorial_t1",nextColumnCategoryId:"stripe_2row_t2",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5418},{categoryId:"stripe_editorial_t2",nextColumnCategoryId:"stripe_2row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5419},{categoryId:"stripe_editorial_t3",nextColumnCategoryId:"stripe_2row_t4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5420},{categoryId:"stripe_editorial_t5",nextColumnCategoryId:"stripe_2row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5460},{categoryId:"stripe_editorial_t6",nextColumnCategoryId:"stripe_2row_t6",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5461},{categoryId:"stripe_editorial_t4",nextColumnCategoryId:"stripe_2row_t1",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5421},{categoryId:"stripe_editorial_1row",nextColumnCategoryId:"stripe_1row",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.OneRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.OneRowHeightsLength,templateKey:5422},{categoryId:"stripe_4row_t2",nextColumnCategoryId:"stripe_4row_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5423},{categoryId:"stripe_4row_t3",nextColumnCategoryId:"stripe_4row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5424},{categoryId:"stripe_4row_t4",nextColumnCategoryId:"stripe_4row_t4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5425},{categoryId:"stripe_4row_t1",nextColumnCategoryId:"stripe_4row_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.Tall),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5426},{categoryId:"stripe_4row_displayad_t1",nextColumnCategoryId:"stripe_4row_displayad_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,i.LegacyCssRowHeight,i.LegacyCssRowHeight],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5427},{categoryId:"stripe_4row_displayad_t2",nextColumnCategoryId:"stripe_4row_displayad_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,i.LegacyCssRowHeight,i.LegacyCssRowHeight],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5428},{categoryId:"stripe_4row_top_t1",nextColumnCategoryId:"stripe_4row_top_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5450},{categoryId:"stripe_4row_top_t2",nextColumnCategoryId:"stripe_4row_top_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5451},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_3col_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5451.1},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_3col_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5451.2},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_3col_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5451.3},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_3col_t4",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5451.4},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_3col_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5451.5},{categoryId:"stripe_4row_top_t3",nextColumnCategoryId:"stripe_4row_3col_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FourRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5451.6},{categoryId:"stripe_7row_news_tall_t1_c4",nextColumnCategoryId:"stripe_7row_news_tall_t1_c3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.Tall),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.Tall),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row6),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row6),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.SixRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:5452},{categoryId:"stripe_7row_news_tall_t2_c4",nextColumnCategoryId:"stripe_7row_news_tall_t2_c3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.Tall),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.Tall),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row6),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row6),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.EightRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:5453},{categoryId:"stripe_7row_news_t3_c4",nextColumnCategoryId:"stripe_7row_news_t3_c3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.FullHeight),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column3Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.SixRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:5454},{categoryId:"stripe_7row_news_t4_c4",nextColumnCategoryId:"stripe_7row_news_t4_c3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.FullHeight),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column3Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.EightRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:5455},{categoryId:"stripe_7row_entertainment_tall_t1_c4",nextColumnCategoryId:"stripe_7row_entertainment_tall_t1_c3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.FourRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.SixRowHeightsLength,templateKey:5456},{categoryId:"stripe_7row_entertainment_tall_t2_c4",nextColumnCategoryId:"stripe_7row_entertainment_t1_c3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.SixRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.SixRowHeightsLength,templateKey:5457},{categoryId:"stripe_7row_entertainment_t3_c4",nextColumnCategoryId:"stripe_7row_entertainment_t3_c3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row7),Object.assign(Object.assign({},i.DoubleWide),i.Column1Row8),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row8)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.SevenRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.NineRowHeightsLength,templateKey:5458},{categoryId:"stripe_7row_entertainment_t4_c4",nextColumnCategoryId:"stripe_7row_entertainment_t4_c3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row7),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row7),Object.assign(Object.assign({},i.DoubleWide),i.Column1Row8),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row8)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.NineRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.NineRowHeightsLength,templateKey:5459},{categoryId:"stripe_4row_news_t1_c4",nextColumnCategoryId:"stripe_4row_fallback_c3",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:5490},{categoryId:"stripe_4row_entertainment_t1_c4",nextColumnCategoryId:"stripe_4row_fallback_c3",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.DoubleWide),i.Column1Row5),Object.assign(Object.assign({},i.DoubleWide),i.Column3Row5),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.EightRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:5491},{categoryId:"stripe_4row_entertainment_t2_c4",nextColumnCategoryId:"stripe_4row_fallback_c3",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column1Row3),Object.assign(Object.assign({},i.FullHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row5),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row5)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:5492},{categoryId:"stripe_1_2_2_1_template",nextColumnCategoryId:"stripe_1_2_2_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:6006},{categoryId:"stripe_1_1_1_1_template",nextColumnCategoryId:"stripe_1_1_1_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:6007},{categoryId:"stripe_1_1_2_2_template",nextColumnCategoryId:"stripe_1_1_2_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:6008},{categoryId:"stripe_1_1_2_1_template",nextColumnCategoryId:"stripe_1_1_2_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:6009},{categoryId:"stripe_1_2_2_2_template",nextColumnCategoryId:"stripe_1_2_2_template",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row2)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:6010},{categoryId:"stripe_3_3_4_3_template",nextColumnCategoryId:"stripe_3_3_3_template",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:6011},{categoryId:"stripe_4row_4column_displayad_t1_quiz",nextColumnCategoryId:"stripe_4row_3column_displayad_t1_quiz",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.FullHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,i.LegacyCssRowHeight,i.LegacyCssRowHeight],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:6014},{isFallback:!0,categoryId:"stripe_fallback",nextColumnCategoryId:"stripe_fallback_t1",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column1Row2),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5429},{isFallback:!0,categoryId:"stripe_fallback_my_brief",nextColumnCategoryId:"stripe_fallback_t1_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5429.1},{isFallback:!0,categoryId:"stripe_fallback",nextColumnCategoryId:"stripe_fallback_t2",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5430},{isFallback:!0,categoryId:"stripe_fallback_my_brief",nextColumnCategoryId:"stripe_fallback_t2_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row2),Object.assign(Object.assign({},i.FullHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5430.1},{isFallback:!0,categoryId:"stripe_7row_fallback_t1_c4",nextColumnCategoryId:"stripe_7row_fallback_t1_c3",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4),Object.assign(Object.assign({},i.FullHeight),i.Column1Row5),Object.assign(Object.assign({},i.FullHeight),i.Column2Row5),Object.assign(Object.assign({},i.FullHeight),i.Column3Row5),Object.assign(Object.assign({},i.FullHeight),i.Column4Row5),Object.assign(Object.assign({},i.FullHeight),i.Column1Row7),Object.assign(Object.assign({},i.FullHeight),i.Column2Row7),Object.assign(Object.assign({},i.FullHeight),i.Column3Row7),Object.assign(Object.assign({},i.FullHeight),i.Column4Row7)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.SixRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.EightRowHeightsLength,templateKey:5431},{isFallback:!0,categoryId:"stripe_4row_displayad_fallback_c4",nextColumnCategoryId:"stripe_4row_displayad_fallback_c3",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.DisplayAd),i.Column4Row1),Object.assign(Object.assign({},i.ShortHeight),i.Column4Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row4),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:[i.DisplayAdCssRowHeight,i.ShortCssRowHeight,...i.TwoRowHeights],templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FourRowHeightsLength,templateKey:5432},{isFallback:!0,categoryId:"stripe_4row_fallback_c4",nextColumnCategoryId:"stripe_4row_fallback_c3",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column4Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column4Row3),Object.assign(Object.assign({},i.FullHeight),i.Column1Row4),Object.assign(Object.assign({},i.FullHeight),i.Column2Row4),Object.assign(Object.assign({},i.FullHeight),i.Column3Row4),Object.assign(Object.assign({},i.FullHeight),i.Column4Row4)],columnCount:4,columnWidths:i.FourColumnWidths,rowHeights:i.FiveRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.FiveRowHeightsLength,templateKey:5433}],this.ThreeColumnDefaultTemplates=[{categoryId:"stripe_3row_t33",nextColumnCategoryId:"stripe_3row_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5300},{categoryId:"stripe_3row_t1",nextColumnCategoryId:"stripe_3row_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5301},{categoryId:"stripe_3row_t2",nextColumnCategoryId:"stripe_3row_t2",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5302},{categoryId:"stripe_3row_t3",nextColumnCategoryId:"stripe_3row_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5303},{categoryId:"stripe_3row_t3_my_brief",nextColumnCategoryId:"stripe_3row_t1_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5303.1},{categoryId:"stripe_3row_t33",nextColumnCategoryId:"stripe_3row_t1",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5304},{categoryId:"stripe_3row_t4",nextColumnCategoryId:"stripe_3row_t3",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5305},{categoryId:"stripe_3row_t5",nextColumnCategoryId:"stripe_3row_t4",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.Tall),i.Column2Row1),Object.assign(Object.assign({},i.Tall),i.Column3Row1)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5306},{categoryId:"stripe_3row_t6",nextColumnCategoryId:"stripe_3row_t5",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5307},{categoryId:"stripe_3row_t6_my_brief",nextColumnCategoryId:"stripe_3row_t5_my_brief",cardTemplates:[Object.assign(Object.assign({},i.Tall),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5307.1},{categoryId:"stripe_3row_t7",nextColumnCategoryId:"stripe_3row_t1",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5308},{categoryId:"stripe_news_dense_c3",nextColumnCategoryId:"stripe_news_dense_c2",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5309},{categoryId:"stripe_entertainment_dense_c3",nextColumnCategoryId:"stripe_entertainment_dense_c2",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5310},{categoryId:"stripe_money_dense_c3",nextColumnCategoryId:"stripe_money_dense_c2",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5311},{categoryId:"stripe_money_dense_sd_c3",nextColumnCategoryId:"stripe_money_dense_c2",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row2),Object.assign(Object.assign({},i.HalfHeight),i.Column1Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row3),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row3)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.ThreeRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.ThreeRowHeightsLength,templateKey:5311.1},{categoryId:"stripe_2row_t2",nextColumnCategoryId:"stripe_2row_t2",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5312},{categoryId:"stripe_2row_t1",nextColumnCategoryId:"stripe_2row_t1",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5313},{categoryId:"stripe_2row_t3",nextColumnCategoryId:"stripe_2row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5314},{categoryId:"stripe_2row_t4",nextColumnCategoryId:"stripe_2row_t3",cardTemplates:[Object.assign(Object.assign({},i.DoubleWide),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column3Row2)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5315},{categoryId:"stripe_2row_t6",nextColumnCategoryId:"stripe_2row_t3",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.DoubleWide),i.Column2Row1)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5330},{categoryId:"stripe_2row_t1",nextColumnCategoryId:"stripe_2row_t1",cardTemplates:[Object.assign(Object.assign({},i.FullHeight),i.Column1Row1),Object.assign(Object.assign({},i.FullHeight),i.Column2Row1),Object.assign(Object.assign({},i.FullHeight),i.Column3Row1)],columnCount:3,columnWidths:i.ThreeColumnWidths,rowHeights:i.TwoRowHeights,templateVirtualRowCount:i.LegacyRowVirtualRowCount*i.TwoRowHeightsLength,templateKey:5316},{categoryId:"stripe_1row",nextColumnCategoryId:"stripe_1row",cardTemplates:[Object.assign(Object.assign({},i.HalfHeight),i.Column1Row1),Object.assign(Object.assign({},i.HalfHeight),i.Column2Row1),Object.assi?h.done(v,l):h.then(v,l)):l(new Error("No promise returned"))}catch(y){l(y)}}function r(t,i,r,u){i.completed=!0;i.result=r;i.pendingCallbacks.forEach(function(t){return n.safeExecute(function(){return t(r)},u)});i.pendingCallbacks=null}function f(){i={}}function e(){var n=[];for(var t in i)i[t].completed||n.push(t);n.forEach(function(n){return delete i[n]})}function o(u,f,e,o,s,h,c,l,a){return a===void 0&&(a=1),function(v,y){var w=e(v),p=i[w],b;p||(p={started:!1,completed:!1,result:null,pendingCallbacks:[]},i[w]=p);p.completed?y(p.result):(p.pendingCallbacks.push(y),p.started||(p.started=!0,b=function(){t.safeChain(u,function(){return f(v)},function(n){h&&!h(n)&&delete i[w];r(w,p,o?o(n):n,u)},function(t){n.isCancellation(t)?r(w,p,null,u):l?(l-=1,b()):r(w,p,s,u)},null,c,a)},b()))}}t.safeChain=u;var i={};t.clearGlobalCache=f;t.clearPendingItemsFromCache=e;t.safeChainWithGlobalCaching=o})(t=n.Promise||(n.Promise={})),function(n){function t(n,t,i){for(var u,f,e={},r=0,o=n;r<o.length;r++)u=o[r],f=t[u],f&&(e[u]=i(f));return e}function i(n){for(var t in n)if(n[t])return!1;return!0}n.map=t;n.isEmpty=i}(i=n.Map||(n.Map={}))}(WSB||(WSB={})),function(n){var i="show",t=10,r=function(){function r(t,i,r){var u=this;this._page=t;this._showIcons=i;this.adjustHeight=r;this._root=_ge("root");this._menuStack=[];this._menuContainer=_ge("menuContainer");this._itemClickHandler=function(t,i){i.button==0&&(t.subItems?t.isSelectable&&!t.isExpanded&&(u.showSubMenu(t),t.isSticky=!0):t.click&&t.click(n.getCurrentTime(),n.getInputType(i)))};this._itemEnterHandler=function(t){t.isSelectable&&!t.isExpanded&&(t.subItems&&(u._hoverTimer&&sb_ct(u._hoverTimer),u._hoverTimer=n.safeSetTimeout(function(){u._hoverTimer=0;var n=_ge(t.id);t&&!t.isExpanded&&n&&n.matches(":hover")&&u.showSubMenu(t)},500,"menu item mouse enter")),u.stickParent(t))};this._itemLeaveHandler=function(t){t.isExpanded&&!t.isSticky&&n.safeSetTimeout(function(){var n=_ge(t.id);t&&!t.isSticky&&n&&!n.matches(":hover")&&(t.subItems.some(function(n){return n==u._selectedItem})&&u.select(null,!1),u.dismissSubMenu(t))},450,"menu item mouse leave")};sj_be(_d.body,"mouseup",function(n){u._menuContainer.contains(n.target)||u.dismiss()});n.TestHookUrlParameters||sj_be(_w,"blur",function(){return u.dismiss()});sj_evt.bind("ajax.threshold.pageStart",function(){return u.dismiss()});n.Host.bindKeyEscape(function(n){u.isMenuVisible()&&(n.handled=!0,u._menuStack.length>0?u.reselectParentItem():u.dismiss(!0))})}return r.prototype.showSubMenu=function(t){if(!t.isExpanded){this._selectedItem&&this.select(null,!1);var i=_ge(t.id),r=i.querySelector(".contextMenu");t.isExpanded=!0;n.setVisibility(r,!0);this.adjustSubMenuPosition(i,r);this._menuStack.push(t);this._page.updateMenuView(this.getDataModel())}},r.prototype.dismissSubMenu=function(t){var u,f,i,e,r;if(this._selectedItem&&this.select(null,!1),t){if(i=this._menuStack.indexOf(t),i<0)return;for(e=this._menuStack.slice(i),r=0;r<e.length;++r)this.dismissSubMenu()}else t=this._menuStack.pop(),u=_ge(t.id),f=u.querySelector(".contextMenu"),t.isExpanded=!1,t.isSticky=!1,n.setVisibility(f,!1);this._page.updateMenuView(this.getDataModel())},r.prototype.showMenu=function(t,r){var u=this,e,h,f,o,c,s;if(this._menuItems.length){for(n.setVisibility(this._menuContainer,!0),e=this.getDataModel(),this._page.updateMenuView(e),h=function(n){n.getIcon&&n.getIcon(1,function(t){n.icon=t;u._page.updateMenuView(u.getDataModel())})},f=0,o=this._menuItems;f<o.length;f++)c=o[f],h(c);s="renderContextMenu";n.safeSetTimeout(function(){u.adjustPosition(t,r,e.menuType!=0);u._menuContainer.classList.add(i);var f=_qs("#menuContainer > .contextMenu");f.focus();f.scrollTop=0;n.Host.setFocusInWebView(s)},0,s)}},r.prototype.innerShowContextMenu=function(n,t,i,r,u){this.dismiss();var f=this.getContextMenuItems(n,r);f&&f.length>0&&(this._menuItems=f,this._onDismiss=u,this._menuType=0,t-=this._root.offsetLeft,i-=this._root.offsetTop,this.showMenu(t,i))},r.prototype.showDropdownMenu=function(t,i,r,u){if(this.dismiss(),this._parentElement=i,t&&t.length>0){this._menuItems=t;this._onDismiss=u;this._menuType=r;var f=i.offsetLeft,e=i.offsetTop+i.offsetHeight+1;n.isRtl()&&(f+=i.offsetWidth);this.showMenu(f,e)}},r.prototype.showContextMenuOnElement=function(n,t,i,r){var u=t.getBoundingClientRect(),f=u.left+t.offsetWidth/2,e=u.top+this._page.getScrollTop()+t.offsetHeight/2;this.showContextMenuOnXY(n,f,e,i,r)},r.prototype.showContextMenuOnXY=function(t,i,r,u,f){var o=this,e,s;this._parentElement=null;f&&(e=t.childSuggestions.filter(function(n){return n.text===f.text}),e&&e.length&&(t=e[0]));s=n.getVerbsAsync("showContextMenu",t,n.config.rawVerbs,!1,function(f){return n.safeSetTimeout(function(){return o.innerShowContextMenu(n.extendVerbs(f,t,o._page),i,r,function(i,r,u,f){n.InstrumentationHelper.instrumentItemClickForContextMenu(r,t.instItem,t.sequenceNumber,t.instrumentPingBack,u,f,i)},u)},0,"showContextMenu handler")},function(){return!0});f||s||(this._page.hideTemporaryMessage(),n.Host.setFocusInSearchBox(null,"noContextMenu"))},r.prototype.getSelectableItems=function(){var n,t;return this._menuItems?(n=[],this._menuStack.length>0?(t=this._menuStack[this._menuStack.length-1],n=t.subItems):n=this._menuItems,n.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(n){return n.isSelectable})):[]},r.prototype.getSelectableItemsByGroup=function(){return[]},r.prototype.getSelectedItem=function(){return this._selectedItem},r.prototype.getDataModel=function(){return{items:this._menuItems,showIcons:this._showIcons,clickHandler:this._itemClickHandler,menuType:this._menuType,enterHandler:this._itemEnterHandler,leaveHandler:this._itemLeaveHandler,expandIcon:this.getExpandIcon()}},r.prototype.getExpandIcon=function(){return{content:n.isRtl()?"&#xE76B":"&#xE76C",type:2}},r.prototype.select=function(n){var t;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.blur(),this._selectedItem.selected=!1);this._selectedItem=n;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.focus(),this._selectedItem.selected=!0);n&&this.stickParent(n);this._page.updateMenuView(this.getDataModel())},r.prototype.stickParent=function(n){var u=this.getParent(n),f,t,r,i;for(u&&(u.isSticky=!0),f=this.getSiblings(n),t=0,r=f;t<r.length;t++)i=r[t],i.isSticky&&(i.isSticky=!1,this._itemLeaveHandler(i,null))},r.prototype.isItemInMenuOrMenuGroup=function(n,t){return t.some(function(t){return t==n||t.groupItems&&t.groupItems.indexOf(n)>=0})},r.prototype.getParent=function(n){for(var r,t=0,i=this._menuStack;t<i.length;t++)if(r=i[t],this.isItemInMenuOrMenuGroup(n,r.subItems))return r;if(this.isItemInMenuOrMenuGroup(n,this._menuItems))return null;throw new Error("Item: '"+n.id+"' was not found");},r.prototype.getSiblings=function(n,t){t===void 0&&(t=!1);var i=this.getParent(n),r=i?i.subItems:this._menuItems;return r.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(i){return i.isSelectable&&(t||i!=n)})},r.prototype.selectSubItem=function(n,t){this.showSubMenu(n);this.select(t,!1)},r.prototype.reselectParentItem=function(){var n=this._menuStack[this._menuStack.length-1];this.dismissSubMenu();this.select(n,!1)},r.prototype.onAfterKeyDown=function(t,i,r,u){var f,o,e;if((r||u)&&!n.isUpOrDownKey(t))return!1;if(t=n.getRtlAdjustedKey(t),t==39||t==13){if(f=this._selectedItem,f&&f.subItems&&f.subItems[0]&&(o=f.subItems.filter(function(n){return n.isSelectable})[0],o))return this.selectSubItem(f,o),!0}else if(t==37){if(this._menuStack.length>0)return this.reselectParentItem(),!0}else if(n.isUpOrDownKey(t)&&this._selectedItem)return e=this._menuStack.length==0?_qs(".contextMenu"):_ge(this._menuStack[this._menuStack.length-1].id).querySelector(".contextMenu"),e&&this._page.scrollToElement(_ge(this._selectedItem.id),e,e.offsetHeight),!0;return t==13},r.prototype.isMenuVisible=function(){return!!this._menuItems},r.prototype.dismiss=function(t){if(this._menuItems&&(this._menuItems=null,this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null),this._page.updateMenuView(this.getDataModel()),this._menuContainer.classList.remove(i),this._menuContainer.style.width=null,n.setVisibility(this._menuContainer,!1),n.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight="",this.adjustHeight()),this._menuStack=[]),t&&this._parentElement&&this._parentElement.focus(),this._parentElement=null,this._onDismiss){var r=this._onDismiss;this._onDismiss=null;r()}},r.prototype.adjustSubMenuPosition=function(i,r){var h,y,d,o;if(this._menuItems){var f=this._menuContainer,p=f.offsetWidth,w=r.offsetHeight,s=r.offsetWidth,b=0,e=window.getComputedStyle(r).paddingTop;e.endsWith("px")&&(e=e.substr(0,e.length-2),b=+e+1);var l=0,k=_qs("#menuContainer .contextMenu").scrollTop,a=n.isRtl(),v=6;for(h=0,y=this._menuStack;h<y.length;h++)d=y[h],o=_ge(d.id).querySelector(".contextMenu"),v=+o.style.zIndex,l+=o.offsetLeft,k+=o.scrollTop,a=o.offsetLeft<0;++v;var u=f.offsetLeft+l+i.offsetLeft,c=f.offsetTop+i.offsetTop-k-b,g=this._root.offsetWidth-(u+p),nt=u,tt=s<g,it=s<nt;(a||!tt)&&it?u-=s:a&&it||!tt?u=nt>g?t:this._root.offsetWidth-s-t:u+=p-2;c+w>this._root.offsetHeight&&(c=Math.max(this._root.offsetHeight-w,this._root.offsetTop));u-=f.offsetLeft+l;c-=f.offsetTop;r.style.left=u+"px";r.style.top=c+"px";r.style.zIndex=v.toString()}},r.prototype.adjustPosition=function(i,r,u){var e,s;if(this._menuItems){var o=this._menuContainer,f=o.offsetWidth,h=o.offsetHeight;f>this._root.offsetWidth&&(f=this._root.offsetWidth,o.style.width=f+"px");e=i;s=r;n.isRtl()?(e-=f,e<0&&(e=u?t:i)):e+f>this._root.offsetWidth&&(e=u?this._root.offsetWidth-f-t:Math.max(i-f,this._root.offsetLeft));!u&&s+h>this._root.offsetHeight&&(s=Math.max(this._root.offsetHeight-h,this._root.offsetTop));o.style.left=e+"px";o.style.top=s+"px";n.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight=s+h+"px",this.adjustHeight())}},r.prototype.getContextMenuItems=function(t,i){var r=this;return t.map(function(t,u){var f={id:encodeURIComponent(t.verb),text:t.displayName,isSeparator:!t.verb,selected:!1,isDefault:t.isDefault,icon:t.icon,getIcon:t.getIcon,click:undefined,title:undefined,cssClass:undefined,isSelectable:!!t.verb};return f.isSeparator?f.id="Separator"+u:f.click=function(u,f){i(t.verb,u,f,null);t.executeSync?(n.safeExecute(function(){return t.executeSync()},"verb.executeSync",null,t.verb),r.dismiss()):n.Promise.safeChain("verb.executeAsync",function(){return t.executeAsync()},function(){return r.dismiss()},null,null,t.verb)},f})},r}();n.MenuFactory=r}(WSB||(WSB={})),function(n){var t="ConnectedAccounts",i=function(){function i(t){this._storage=t;this._accountsCache={};(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.clearSSOCache)&&this.clear();this.init()}return i.prototype.setToken=function(n,t){this.setTokenInfo(t,n);this.writeToLocalStorage()},i.prototype.findAccount=function(n,t){var i=this._accountsCache[n];return i&&!this.isExpired(i.LastUpdated,t,i.ExpireDateTime)?i:null},i.prototype.clear=function(){this._accountsCache={};this.writeToLocalStorage()},i.prototype.init=function(){this._accountsCache={};var i=this._storage.getItem(t);i&&(this._accountsCache=n.safeExecute(function(){return JSON.parse(i)},"parseConnectedAccountString",{}))},i.prototype.writeToLocalStorage=function(){this._storage.setItem(t,JSON.stringify(this._accountsCache))},i.prototype.isExpired=function(t,i,r){var u,f,e;return i===undefined?!1:(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.forceTokenRefresh)?!0:(u=n.getCurrentTime(),r&&u>r)?!0:(f=6e4,e=Math.floor((u-t)/f),e>=i)},i.prototype.setTokenInfo=function(t,i){var r=this._accountsCache[t],u=n.getCurrentTime();r={Token:i.Token,LastUpdated:u,ExpireDateTime:i.ExpireDateTime,TenantName:i.TenantName,RoutingHint:i.RoutingHint,UserName:i.UserName};this._accountsCache[t]=r},i}();n.TokenStore=i}(WSB||(WSB={})),function(n){var i="SelectedAuthAccountId",t="consumers",r="organizations",u=60,f="72f988bf-86f1-41af-91ab-2d7cd011db47",e=function(){function e(n,t){var i=this;this._storage=n;this._tokenStore=t;this._pendingCallbacks={};this._availableMsaAccounts=[];this._availableAadAccounts=[];this._accessTokenAvailableHandlers=[];this._verifyAccountRequired=[];this._accountTypeChangedHandlers=[];this._selectedAccountChangedHandlers=[];SearchAppWrapper.CortanaApp.addEventListener("experiencelaunched",function(){SearchAppWrapper.CortanaApp.experienceId=="NotebookOffline"&&i._tokenStore.clear()})}return e.getWindowsAccountType=function(){return e._windowsAccountType},e.internalSetWindowsAccountType=function(n){e._windowsAccountType=n},e.getWindowsIdentity=function(){return e._windowsIdentity},e.internalSetWindowsIdentity=function(n){e._windowsIdentity=n},e.prototype.authTypeMatchesWindowsAccountType=function(n){var t=e.getWindowsAccountType();return t==4||(n==0?t==2:t==1)},e.prototype.setWindowsAccountType=function(n){var t=e.getWindowsAccountType();e.internalSetWindowsAccountType(n);n!=t&&this.fireAccountTypeChanged()},e.prototype.getAllSyncingAccounts=function(n,t,i,r,u){var c=SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.registeredSyncRootInfo,o=[],l,e,s,h,f;for(l in c)f=c[l],typeof f=="string"&&f.includes("@")&&o.push(f);for(o.length==0&&u([]),e={responses:0,accounts:[]},s=0,h=o;s<h.length;s++)f=h[s],this.getAccountByUserName(n,t,f,i,r,function(n){++e.responses;n&&n.Token&&e.accounts.push(n);e.responses==o.length&&u(e.accounts)})},e.prototype.getAllAvailableAccounts=function(n){return n==0?this._availableMsaAccounts.slice(0):this._availableAadAccounts.slice(0)},e.prototype.getCachedAccountInfo=function(n){if(!this.authTypeMatchesWindowsAccountType(n))return null;switch(n){case 1:return this._cachedAAD;case 0:return this._cachedMSA;default:return null}},e.prototype.getSelectedAccountInfo=function(){var r=this._storage.getItem(i),n,t=this._availableAadAccounts.concat(this._availableMsaAccounts);if(t.length>0){if(r&&(n=t.filter(function(n){return n.accountId==r})[0],n))return this.cacheAccount(n),n;n||(n=t.filter(function(n){return n.isDefaultAccount})[0]);n||(n=t[0]);n&&this.setSelectedAccount(n)}return n},e.prototype.setSelectedAccount=function(n){if(this.cacheAccount(n),e.getWindowsAccountType()!=4){var r=this._storage.getItem(i),u=n.accountProviderAuthority==t?2:1;if(r==n.accountId)return;this.setWindowsAccountType(u);this.fireSelectedAccountChanged(n)}this._storage.setItem(i,n.accountId)},e.prototype.isMsaAvailable=function(){return this._availableMsaAccounts.length>0},e.prototype.isAadAvailable=function(){return this._availableAadAccounts.length>0},e.prototype.cacheAccount=function(n){n.accountProviderAuthority==t?this._cachedMSA=n:this._cachedAAD=n},e.prototype.cacheAllAccounts=function(n){var i,u,r;for(this._availableMsaAccounts=[],this._availableAadAccounts=[],i=0,u=n;i<u.length;i++)r=u[i],r.accountProviderAuthority==t?this._availableMsaAccounts.push(r):this._availableAadAccounts.push(r)},e.prototype.getAccountByUserName=function(t,i,r,u,f,e){var o,s=i==0?this._availableMsaAccounts:this._availableAadAccounts,h;s.length>0&&(o=s.find(function(n){return n.accountUserName.toLocaleLowerCase()==r.toLocaleLowerCase()}));o?(h=t?n.getSubstrateResourceOrScope(i):n.getBingResourceOrScope(i),this.getAccount(i,h,u,f,e,o)):e(null)},e.prototype.getAccount=function(n,t,i,r,u,f){var o=this,s,e;if(!t)throw new Error("Resource or Scope has to be set");if(s=function(n){var t=o._pendingCallbacks[e];o._pendingCallbacks[e]=null;t.forEach(function(t){return t(n)})},!this.authTypeMatchesWindowsAccountType(n)){u(null);return}if(f||(f=this.getCachedAccountInfo(n)),e=t+i+r+(f?f.accountId:""),this._pendingCallbacks[e]){this._pendingCallbacks[e].push(u);return}this._pendingCallbacks[e]=[u];this.authenticate(n,t,i,r,s,f)},e.prototype.authenticate=function(t,i,r,e,o,s){var l=this,a=t+"."+i+(s?"|"+s.accountId:""),h,c,y,p;if(e){var w=r?0:u,b=n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.noAuthCache,v=b?null:this._tokenStore.findAccount(a,w);if(v){o(v);return}}h=function(){return o(null)};n.isBrowserOnline()?(c=SearchAppWrapper.CortanaApp.authenticationManager.createAuthenticateRequest(),c.accountType="Windows",c.silentMode=e,t==1?c.resource=i:c.scope=i,y=s&&SearchAppWrapper.CortanaApp.authenticationManager.authenticateSearchWebAccountAsync,p=y?function(){return SearchAppWrapper.CortanaApp.authenticationManager.authenticateSearchWebAccountAsync(c,s)}:function(){return SearchAppWrapper.CortanaApp.authenticationManager.authenticateAsync(c)},n.Promise.safeChain("authenticateAsyncWAM",p,function(r){var u,c,v,y,p;if(n.TestHookUrlParameters)if(e){if(n.TestHookUrlParameters.ssoAuthFail){h();return}}else if(n.TestHookUrlParameters.uxAuthFail){h();return}if(!r){n.log("WAM returned null");h();return}if(n.RuntimeConfig.QfMode==8&&(t==1||i=="service::cortana.bing.com::mbi_ssl")&&e&&r.status==3){n.log("WAM indicates UserInteractionRequired");l.authenticate(t,i,!0,!1,o,s);return}if(r.token){if(u=r.properties,c=u.UPN||r.userName,!c){n.log("WAM didn't return UPN");h();return}v=void 0;t==0?v="MSA:"+c:(y=u.tid,n.isMsftAccountConnected=y==f,y&&u.OID&&(v="OID:"+u.OID+"@"+y));p={Token:r.token,ExpireDateTime:u.exp?parseInt(u.exp)*1e3-3e5:null,TenantName:u.tenant_display_name||"",RoutingHint:v||c,UserName:c};t==0&&(p.ExpireDateTime=n.getCurrentTime()+n.HourToMs);l._tokenStore.setToken(p,a);o(l._tokenStore.findAccount(a))}else r.errorCode||r.errorMessage?n.log("WAM error "+r.errorCode+": "+r.errorMessage):n.log("WAM returned an empty token"),h()},h)):h()},e.prototype.bindAccessTokenAvailable=function(n){this._accessTokenAvailableHandlers.push(n)},e.prototype.bindVerifyAccountRequired=function(n){this._verifyAccountRequired.push(n)},e.prototype.bindAccountTypesChanged=function(n){this._accountTypeChangedHandlers.push(n)},e.prototype.bindSelectedAccountChanged=function(n){this._selectedAccountChangedHandlers.push(n)},e.prototype.fireAccountTypeChanged=function(){this._accountTypeChangedHandlers.forEach(function(n){return n()})},e.prototype.fireSelectedAccountChanged=function(n){this._selectedAccountChangedHandlers.forEach(function(t){return t(n)})},e.prototype.tryConnect=function(t,i){var u=this,f=t==1?n.isSubstrateO365AccountConnected:n.isSubstrateOutlookAccountConnected,r;f||(r=n.getSubstrateResourceOrScope(t),this.getAccount(t,r,!1,!0,function(i){var f=!!i;t==1?n.isSubstrateO365AccountConnected=f:n.isSubstrateOutlookAccountConnected=f;f?u._accessTokenAvailableHandlers.forEach(function(i){return n.safeExecute(function(){return i(t,r)},"accessTokenAvailable",null,""+t)}):u._verifyAccountRequired.forEach(function(i){return n.safeExecute(function(){return i(t,r)},"accessTokenAvailable",null,""+t)})},i))},e.prototype.updateWindowsAccountType=function(i){for(var s,r,h,f=!1,u=!1,e=0,o=i;e<o.length;e++)s=o[e],s.accountProviderAuthority==t?f=n.isCloudSearchEnabledMsaCache:u=n.isCloudSearchEnabledAadCache;r=3;n.config.userProfileButtonEnabled?(h=this.getSelectedAccountInfo(),r=h.accountProviderAuthority==t?2:1):!u||typeof n.isTenantMsbEnabled!="function"||!n.isTenantMsbEnabled()||(n.MockUrlParameters===null||n.MockUrlParameters===void 0?void 0:n.MockUrlParameters.isTest)?f&&u?r=4:u?r=1:f&&(r=2):r=1;this.setWindowsAccountType(r)},e.prototype.connectAccounts=function(i,u){var e,o,f;for(n.isSubstrateO365AccountConnected=!1,n.isSubstrateOutlookAccountConnected=!1,e=0,o=i;e<o.length;e++)f=o[e],f.accountProviderAuthority==t&&n.isCloudSearchEnabledMsaCache?this.tryConnect(0,f,u):f.accountProviderAuthority==r&&n.isCloudSearchEnabledAadCache&&this.tryConnect(1,f,u)},e.prototype.accountTypeToAuthType=function(n){switch(n){case 2:return 0;case 1:return 1;default:throw new Error("Not a logged in account: "+n);}},e.prototype.enumerateAccountAuthority=function(i,u){var f=this;n.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return SearchAppWrapper.CortanaApp.authenticationManager.enumerateAccountAuthorityAsync()},function(o){var s,h,c;if(s=e.getWindowsAccountType(),s==0){h=3;switch(o.Windows){case t:h=2;break;case r:h=1}f.setWindowsAccountType(h);s=e.getWindowsAccountType();s!=3&&(c=f.accountTypeToAuthType(s),f.getAccount(c,n.getBingResourceOrScope(c),!1,!0,function(n){return e.internalSetWindowsIdentity(n&&n.UserName?n.UserName:"")}))}n.isCloudSearchEnabledCache&&n.substrateProvidersEnabled()&&(s==1?f.tryConnect(1,null,i):s==2&&f.tryConnect(0,null,i));u()})},e.prototype.enumerateMultiAccountAuthority=function(i,u){var f=this;if(!SearchAppWrapper.CortanaApp.authenticationManager.getAllSearchWebAccountsAsync){this.enumerateAccountAuthority(i,u);return}n.Promise.safeChain("getAllSearchWebAccountsAsync",function(){return SearchAppWrapper.CortanaApp.authenticationManager.getAllSearchWebAccountsAsync()},function(o){var s,c,l,v,w,y,a,p,h;if(f.cacheAllAccounts(o),s=[],f._availableMsaAccounts.length>0&&(c=Math.max(f._availableMsaAccounts.findIndex(function(n){return n.isDefaultAccount}),0),s.push(f._availableMsaAccounts[c])),f._availableAadAccounts.length>0&&(c=Math.max(f._availableAadAccounts.findIndex(function(n){return n.isDefaultAccount}),0),s.push(f._availableAadAccounts[c])),!n.config.userProfileButtonEnabled)for(l=0,v=s;l<v.length;l++)h=v[l],f.cacheAccount(h);if(w=e.getWindowsAccountType(),f.updateWindowsAccountType(s),e.getWindowsAccountType()!=w)for(y=function(t,i){f.getAccount(t,n.getBingResourceOrScope(t),!1,!0,function(n){return e.internalSetWindowsIdentity(n&&n.UserName?n.UserName:"")},i)},a=0,p=s;a<p.length;a++)h=p[a],h.accountProviderAuthority==t&&n.isCloudSearchEnabledMsaCache?y(0,h):h.accountProviderAuthority==r&&n.isCloudSearchEnabledAadCache&&y(1,h);n.isCloudSearchEnabledCache&&n.substrateProvidersEnabled()&&f.connectAccounts(s,i);u()})},e.prototype.promptAutheticateDialog=function(t,i,r,u){var f=this,e=function(e){var o=!!e;t==1?n.isSubstrateO365AccountConnected=o:n.isSubstrateOutlookAccountConnected=o;o?(r(),f._accessTokenAvailableHandlers.forEach(function(r){return n.safeExecute(function(){return r(t,i)},"promptAccessTokenAvailable",null,""+t)})):(u(),f._verifyAccountRequired.forEach(function(r){return n.safeExecute(function(){return r(t,i)},"promptAccessTokenAvailable",null,""+t)}))};this.getAccount(t,i,!1,!1,e)},e._windowsAccountType=0,e}();n.AccessTokenManager=e}(WSB||(WSB={})),function(n){var i="cohortProfile",r="WSBFirstOpenedDate",u=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/,t=29,f=function(){function f(t){var i=this;this._lightweightStorage=t;this._cohortProfile=[];n.Host.bindShown(function(){i.deserializeCohortProfile();i.updateCohortProfileBasedOnWSBOpenedDate();i.determineWSBNewUser()});n.Host.bindDismissed(function(){i.serializeCohortProfile()})}return f.getSingleton=function(){return f._singleton||SharedLogHelper.LogError("cohortProfileManager.getSingleton()",null,"CohortProfileManager._singleton should be initialized first!"),f._singleton},f.initSingleton=function(n){return f._singleton||(f._singleton=new f(n)),f._singleton},f.prototype.serializeCohortProfile=function(){this._lightweightStorage.setItem(i,JSON.stringify(this._cohortProfile));this._lightweightStorage.setItem(r,JSON.stringify(this._WSBFirstOpenedDate))},f.prototype.deserializeCohortProfile=function(){var u=this,f=this._lightweightStorage.getItem(i),t;f&&(this._cohortProfile=n.safeExecute(function(){return JSON.parse(f,u.reviver)},"cohortProfile",null));t=this._lightweightStorage.getItem(r);t&&(this._WSBFirstOpenedDate=n.safeExecute(function(){return JSON.parse(t,u.reviver)},"firstOpen",null))},f.prototype.reviver=function(n,t){return typeof t=="string"&&u.test(t)?new Date(t):t},f.prototype.createCohortProfile=function(){var n,i;for(this._cohortProfile=[],n=0;n<30;n++)this._cohortProfile.push({date:null,count:0});i=new Date;this._cohortProfile[t].date=this.getCurrentDate(i);this._cohortProfile[t].count=1},f.prototype.recordWSBFirstOpenedDate=function(){for(var n=0;n<30;n++)this._cohortProfile[n].date&&(!this._WSBFirstOpenedDate||this._cohortProfile[n].date<this._WSBFirstOpenedDate)&&(this._WSBFirstOpenedDate=this._cohortProfile[n].date)},f.prototype.updateCohortProfileBasedOnWSBOpenedDate=function(){var i,f,n,r;if(this._cohortProfile.length==0)this.createCohortProfile(),this.recordWSBFirstOpenedDate();else{this._WSBFirstOpenedDate||this.recordWSBFirstOpenedDate();var e=this.getWSBLastOpenedDate(),o=new Date,u=this.getCurrentDate(o);if(e.getTime()===u.getTime())this._cohortProfile[t].count+=1;else if(i=this.getDaysBetween(e,u),i>30)this.createCohortProfile();else{for(f=[],n=0;n<30;n++)f.push({date:this._cohortProfile[n].date,count:this._cohortProfile[n].count});for(n=i;n<30;n++)this._cohortProfile[n-i]=f[n];for(n=0,r=30-i;n<i;n++,r++)this._cohortProfile[r].date=null,this._cohortProfile[r].count=0;this._cohortProfile[t].date=u;this._cohortProfile[t].count=1}}},f.prototype.getCurrentDate=function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},f.prototype.getDaysBetween=function(n,t){var i=n.getTime(),r=t.getTime(),u=r-i;return Math.round(u/864e5)},f.prototype.determineWSBNewUser=function(){var t,i,n;for(this._isWSBNewUser=!1,t=7,i=0,n=30-t;n<30-i;n++)this._WSBFirstOpenedDate!=null&&this._cohortProfile[n].date!=null&&this._WSBFirstOpenedDate.getTime()===this._cohortProfile[n].date.getTime()&&(this._isWSBNewUser=!0)},f.prototype.isWSBNewUser=function(){return this._isWSBNewUser},f.prototype.getWSBFirstOpenedDate=function(){return this._WSBFirstOpenedDate},f.prototype.getWSBLastOpenedDate=function(){return this._cohortProfile[t].date},f.prototype.getTimesOfWSBOpenedInLastNDays=function(n){var i,t;if(n>30)return-1;for(i=0,t=30-n;t<30;t++)i+=this._cohortProfile[t].count;return i},f.prototype.isWWEVisible=function(){if(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.showWWE)return n.config.enableWWENewUsers&&this._lightweightStorage.getItem("wweTourRefreshed")!="1";if(n.enableProngWeather(n.getCurrentLanguage()))return!1;var t=SearchAppWrapper.CortanaApp,r=t.entryPoint=="19h1wwe"||t.entryPoint=="19h2wwe",u=n.config.enableWWEUpsell&&r,i=n.config.enableWWENewUsers&&this.isWSBNewUser()&&this._lightweightStorage.getItem("wweTourTook")!="1";return this.isWSBNewUser()&&this._lightweightStorage.getItem("newUsersLogged")!="1"&&(n.InstrumentationHelper.logClientInstEvent("Select","newUsers",null),this._lightweightStorage.setItem("newUsersLogged","1")),i&&this._lightweightStorage.getItem("newUsersEnabledLogged")!="1"&&(n.InstrumentationHelper.logClientInstEvent("Select","newUsersEnabled",null),this._lightweightStorage.setItem("newUsersEnabledLogged","1")),(u||i)&&this._lightweightStorage.getItem("wweTourRefreshed")!="1"},f.prototype.isWWEVisibleSinglePane=function(){return this.isWWEVisible()&&!n.RuntimeConfig.AlwaysWide},f.prototype.isTourVisible=function(){var t=new n.LightweightStorage;return t.getItem("wweTourEnabled")=="1"},f.prototype.resetCohortProfileManager=function(){f._singleton=null;this._cohortProfile=[];this._WSBFirstOpenedDate=null},f.prototype.resetWSBFirstOpenedDate=function(){this._WSBFirstOpenedDate=null},f}();n.CohortProfileManager=f}(WSB||(WSB={})),function(n){var t;(function(t){function v(){n.Host.bindAppHidden(function(){SearchAppWrapper.CortanaApp.isBingEnabled&&n.isBrowserOnline()&&n.safeExecute(function(){return ut("asgw",["fp.msedge.net/conf/v1/asgw/fpconfig.min.json"],2e3)},"AFDFootprint.start",null,null)})}function ut(n,t,i){var o;if(n&&n.trim().length!==0&&Number(i)===i&&i%1==0&&!(i<0)){var e=h,v=rt,y=a(),p=f(),s="MonitorID="+n+"&rid="+p+"&w3c="+y+"&prot="+window.location.protocol+"&v="+v+"&DATA=";if(r)l(e,s,i);else{for(o in t)t[o]=e+t[o];u(t,0,c,e,s,i)}}}function l(n,t,i){var o=ft(r,n),s,f,u,e,h;if(o.length!==0){for(s=et(o,n,w),f=[],u=0,e=r.r;u<e.length;u++)h=e[u],f.push(n+h+"?"+t);ht(s,k,i,f)}}function u(t,i,f,e,o,s){var a=f!==it?0:1,h=t[i],v=SearchAppWrapper.CortanaApp.createStringMap(),c=SearchAppWrapper.CortanaApp.createStringMap();c["Content-Type"]="application/json";n.Promise.safeChain("fetchAFDUrl",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(a,h,v,"",c)},function(c){c.statusCode===200&&e!=null&&o!=null&&s!=null&&n.Promise.safeChain("readAFDResponse",function(){return c.readAsStringAsync()},function(n){try{r=JSON.parse(n);l(e,o,s)}finally{}},function(){++i<t.length&&u(t,i,f,e,o,s)},null,h,0)},function(){++i<t.length&&u(t,i,f,e,o,s)},null,h,0,"makeHttpRequestAsync failed")}function ft(n,t){var o=[],l,a,r,v,w,u,h,b;if(!n||!n.e)return o;var k=t.toLowerCase()===p?s:e,nt=n.e,f=[],c=0;for(l=0,a=nt;l<a.length;l++)r=a[l],r.w>0&&(e<=r.m&&r.m<=y&&r.m&k||r.m===i)&&(c+=r.w,f.push({endpoint:r.e,cumWeight:c,weight:r.w,measurementType:r.m}));for(v=Math.min(n.n,f.length);o.length<v;){w=Math.floor(Math.random()*c);u=null;for(h in f)u==null?w<f[h].cumWeight&&(u=f[h],delete f[h]):f[h].cumWeight-=u.weight;c-=u.weight;b=u.measurementType&i?g:d;o.push({id:u.endpoint,testImage:b,measurementType:u.measurementType})}return o.sort(function(n,t){return n.measurementType-t.measurementType}),o}function et(n,t,r){for(var o,p,d,a=[],v=0,w=n;v<w.length;v++){var y=w[v],l=y.measurementType,k=y.testImage,u=y.id,c=t+u;u.indexOf(".")===-1?c+=".clo.footprintdns.com":u.charAt(0)==="*"&&(o=u.substring(2),p=f(),c=t+p+"."+o,u=o==="clo.footprintdns.com"||o==="nrb.footprintdns.com"||o==="azr.footprintdns.com"?p:o);c+=b;var g=c+r+"?"+f(),nt=l===i?t===h?e:s:l,tt=l!==i;a.push({url:g,requestID:u,object:r,conn:"cold",measurementType:nt,report:tt});d=c+k+"?"+f();a.push({url:d,requestID:u,object:k,conn:"warm",measurementType:l,report:!0})}return a}function ot(n,t){for(var r=[],i=0;i<t.length;i++)if(t[i].report){var f=n[i],u=t[i].measurementType,e=st(f,u);r.push({RequestID:t[i].requestID,Object:t[i].object,Conn:t[i].conn,Result:e,T:u})}return JSON.stringify(r)}function st(n,t){if(n===o)return n;if(t===i&&n>0){var r=nt/(n/tt);return Math.round(r)}return Math.round(n)}function f(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+n()+n()+n()+n()+n()+n()}function a(){return window.performance&&window.performance.getEntriesByName?!0:!1}function ht(n,t,i,r){function l(i){var k,p,g,w,nt,d,b,tt;if(f!=null&&clearTimeout(f),s[i]=h!=null?(new Date).getTime()-h:o,i=(v+y)%n.length,e=new Image,v++<n.length)h=(new Date).getTime(),e.onload=function(){l(i)},k=function(){e.onload=null;e.onerror=null;h=null;l(i)},f=setTimeout(function(){k()},t),e.onerror=function(){f!=null&&clearTimeout(f);f=null;k()},e.src=n[i].url;else if(r!=null&&r.length!==0){if(a())for(p=0;p<n.length;p++)g=n[p].url,w=window.performance.getEntriesByName(g),s[p]!==o&&w&&w[0]&&(s[p]=w[0].duration);for(nt=ot(s,n),d=[],b=0;b<r.length;b++)tt=r[b]+nt,d.push(tt);u(d,0,c,null,null,null)}}var h=null,f=null,s=[],v=0,e,y=0;setTimeout(function(){l(0)},i)}t.init=v;var r,e=1,s=2,y=3,i=8,p="http://",h="https://",w="trans.gif",b="/apc/",k=5e3,d="trans.gif",g="100k.gif",nt=822.128,tt=1e3,c="GET",it="POST",o=-1,rt="20180228"})(t=n.AFDFootprint||(n.AFDFootprint={}))}(WSB||(WSB={}));__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},function(n){var t=function(){function t(n,t){this.id=n;this._controller=t;this.flyoutMaxHeight=170;this.slackSize=10;this.currentStep=0;this.steps=[];this.dismissIntervalMs=0;this.repeatMax=1}return t.prototype.addMessage=function(n,t,i,r,u){t===void 0&&(t=null);var f={message:n,title:t};return i&&(f=__assign(__assign({},f),this.getPositions(i))),r&&(f.id=r),u&&(f.iconKey=u),this.steps.push(f),this},t.prototype.button=function(n,t,i){var r=this;return this.buttonMessage=n,this.buttonIcon={content:i,type:2},this.buttonClickHandler=function(n,i){r.dismiss();t(n,i)},this},t.prototype.showButton=function(n){return this.showButtonMessage=n,this},t.prototype.icon=function(n){return this._icon=n,this},t.prototype.overlay=function(n){return this._overlay=n,this},t.prototype.hasOverlay=function(){return this._overlay},t.prototype.getPositions=function(t,i){var d=n.RuntimeConfig.QfMode===0||n.RuntimeConfig.QfMode===4,f=d?336:400,e=152,p,w,o,h,b,c,l,s,a,k;this.flyoutClass==="miniflyout"&&(f=327,e=60);var r=_ge("root"),v=r?r.scrollHeight:document.body.scrollHeight,y=r?r.scrollWidth:document.body.scrollWidth,u=t.getBoundingClientRect();i||(p=u.bottom>v-this.flyoutMaxHeight,i=p?"Top":"Bottom");l=u.top+u.height/2;s=r?r.getBoundingClientRect().top:0;switch(i){case"Top":w=v-u.top+this.slackSize;break;case"Bottom":o=u.bottom+this.slackSize-s;break;case"Left":o=Math.max(Math.min(l-e/2-s,y-e),4);break;default:return null}switch(i){case"Top":case"Bottom":a=u.left+u.width/2;h=Math.max(Math.min(a-f/2,y-f),this.slackSize);c=Math.max(Math.min(a-h-this.slackSize,f-this.slackSize),this.slackSize);break;case"Left":k=r?r.getBoundingClientRect().right:0;b=k-u.left+this.slackSize;c=Math.max(Math.min(l-o-s-this.slackSize,e-this.slackSize),this.slackSize)}return{position:i,top:o,bottom:w,left:h,right:b,beakOffset:c}},t.prototype.target=function(n,t){if(!n)return this;var i=this.getPositions(n,t);return this.position=i.position,this.bottom=i.bottom,this.top=i.top,this.beakOffset=i.beakOffset,this.left=i.left,this.right=i.right,this},t.prototype.setSticky=function(){return this.sticky=!0,this},t.prototype.isSticky=function(){return this.sticky},t.prototype.show=function(){return(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.isTest)&&!(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.showFlyoutInTests)||this._controller.showFlyout(this),this},t.prototype.dismissible=function(n,t){return this.dismissIntervalMs=n,this.dismissMessage=t,this},t.prototype.repeat=function(n){return this.repeatMax=n,this},t.prototype.dataModel=function(){var t=this;if(!this.isValid())return null;var n=this.steps[this.currentStep],i=n.message,r=n.title;return{title:r,message:i,flyoutClass:this.flyoutClass,left:this.stepHasProperty("left")?n.left:this.left,right:this.stepHasProperty("right")?n.right:this.right,top:this.stepHasProperty("top")?n.top:this.top,bottom:this.stepHasProperty("bottom")?n.bottom:this.bottom,beakOffset:this.stepHasProperty("beakOffset")?n.beakOffset:this.beakOffset,nextStep:function(){return t.nextStep()},nbSteps:this.steps.length,currentStep:this.currentStep,position:this.stepHasProperty("position")?n.position:this.position,iconKey:this.stepHasProperty("iconKey")?n.iconKey:this._icon,showDismissButton:!!(this.dismissIntervalMs&&this.dismissMessage),buttonClickHandler:function(i,r){t.buttonClickHandler(i,r);t._controller.instrumentClientEvent("FlyoutSubmit",{id:t.stepHasProperty("id")?n.id:t.id})},showButtonMessage:this.showButtonMessage,buttonMessage:this.buttonMessage,buttonIcon:this.buttonIcon,dismissMessage:this.dismissMessage,dismissClickHandler:function(){t.dismiss();t._controller.instrumentClientEvent("FlyoutDismiss",{id:t.stepHasProperty("id")?n.id:t.id})},id:this.stepHasProperty("id")?n.id:this.id,overlay:this._overlay}},t.prototype.setClass=function(n){return this.flyoutClass=n,this},t.prototype.isValid=function(){return this.steps.length>0&&(!isNaN(this.left)||!isNaN(this.right))&&(!isNaN(this.top)||!isNaN(this.bottom))},t.prototype.dismiss=function(){return this._controller.dismissFlyout(this.id),this},t.prototype.shouldBeShown=function(){var t=this._controller.getLastTimeShown(this.id),i=this._controller.getTimesShown(this.id);return(t==0||t+this.dismissIntervalMs<=n.getCurrentTime())&&i<this.repeatMax},t.prototype.hide=function(){return this.currentStep=0,this._controller.hideFlyout(this.id),this},t.prototype.nextStep=function(){this.currentStep=Math.min(this.currentStep+1,this.steps.length-1);this.show()},t.prototype.stepHasProperty=function(n){return n in this.steps[this.currentStep]},t}(),i=function(){function i(n,t){this._page=n;this._lightweightStorage=t;this.lastShownKey=function(n){return"flyout-last-shown-"+n};this.timesShownKey=function(n){return"flyout-times-shown-"+n}}return i.prototype.createFlyout=function(n){return new t(n,this)},i.prototype.showFlyout=function(n){var i=this.currentFlyout&&this.currentFlyout.id!=n.id,t;i&&(this.currentFlyout=n);this.currentFlyout=n;this.shouldShow(this.currentFlyout)&&(t=n.dataModel(),t&&(this._page.renderFlyoutAreaView(t),this.instrumentClientEvent("FlyoutShow",{id:this.currentFlyout.id})))},i.prototype.hideFlyout=function(t){(t===void 0&&(t=null),t&&this.currentFlyout&&t!==this.currentFlyout.id)||(this.currentFlyout&&this.currentFlyout.hasOverlay()&&(this._page.hideOverlayAreaView(),_ge("root").classList.remove("overlayEnabled")),this.currentFlyout=null,this._page.hideFlyoutAreaView(),n.config.enableWWETour&&(this._lightweightStorage.removeItem("wweTourEnabled"),n.Host.refreshCurrentPane(),this._lightweightStorage.removeItem("wweTourRefreshed")))},i.prototype.dismissFlyout=function(t){t&&this.currentFlyout&&t!==this.currentFlyout.id||(this.hideFlyout(t),this._lightweightStorage.setItem("wweTourTook","1"),this._lightweightStorage.setItem(this.lastShownKey(t),n.getCurrentTime().toString()),this._lightweightStorage.setItem(this.timesShownKey(t),(this.getTimesShown(t)+1).toString()))},i.prototype.wasDismissed=function(n){return!!this._lightweightStorage.getItem(this.lastShownKey(n))},i.prototype.shouldShow=function(n){return n.shouldBeShown()},i.prototype.getLastTimeShown=function(n){var t=parseInt(this._lightweightStorage.getItem(this.lastShownKey(n)));return t?t:0},i.prototype.getTimesShown=function(n){var t=parseInt(this._lightweightStorage.getItem(this.timesShownKey(n)));return t?t:0},i.prototype.onQueryChange=function(n){this.currentFlyout&&!this.currentFlyout.isSticky()&&this.queryOnActivation&&n.fullPartialQuery!=this.queryOnActivation.fullPartialQuery&&this.currentFlyout.hide()},i.prototype.setQuery=function(n){this.queryOnActivation=n},i.prototype.instrumentClientEvent=function(t,i){(i===void 0&&(i={}),n.InstrumentationHelper!=null)&&n.InstrumentationHelper.logClientInstEvent("Select",t,n.SequenceNumberManager.getSequenceNumber(),i)},i}();n.FlyoutController=i}(WSB||(WSB={})),function(n){var r="show",t=10,i=7,u=function(){function u(t){var i=this;this._page=t;this._root=_ge("root");this._popoverContainer=_ge("popoverContainer");n.Host.bindKeyEscape(function(n){i.isPopoverVisible()&&(n.handled=!0,i.dismiss(!0))});n.Host.bindShown(function(){i.dismiss(!1)});sj_be(this._popoverContainer,"mouseenter",function(){i.clearDismissTimer()});sj_be(this._popoverContainer,"mouseleave",function(){i.waitForEnterBeforeDismiss()});this.onMouseLeavesParent=this.onMouseLeavesParent.bind(this)}return u.prototype.getElementOffsetFromRoot=function(n){for(var t=0,i=0;n&&n!=this._root;)t+=n.offsetLeft,i+=n.offsetTop-n.scrollTop,n=n.offsetParent;return[t,i]},u.prototype.showPopover=function(n,t,i,r,u,f){if(this._parentElement){if(this._parentElement==i){this.clearDismissTimer();return}this.dismiss()}if(this._returnFocusToSearchBox=r,this._finishedOpening=!1,this._parentElement=i,sj_be(this._parentElement,"mouseleave",this.onMouseLeavesParent),n){this._text=n;this._buttons=t;this._className=f||"";var e=this.getElementOffsetFromRoot(i),o=e[0],s=e[1];o+=i.offsetWidth/2;this.showPopoverAt(o,s,u)}},u.prototype.isPopoverVisible=function(){return!!this._text&&this._finishedOpening},u.prototype.dismiss=function(t){this.clearDismissTimer();this._text&&(this._text=null,this._buttons=[],this._className="",this._popoverContainer.firstChild.blur(),this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null),this._page.updatePopoverView(this.getDataModel()),this._popoverContainer.classList.remove(r),n.setVisibility(this._popoverContainer,!1),this._popoverContainer.style.width=undefined,this._popoverContainer.style.bottom=undefined,this._popoverContainer.style.left=undefined);this._parentElement&&(sj_ue(this._parentElement,"mouseleave",this.onMouseLeavesParent),t&&(this._parentElement.focus(),this._returnFocusToSearchBox&&n.Host.setFocusInSearchBox(null,"popoverDismissed")));this._parentElement=null},u.prototype.getSelectableItems=function(){return this._buttons||[]},u.prototype.getSelectableItemsByGroup=function(){return[]},u.prototype.getSelectedItem=function(){return this._selectedItem},u.prototype.select=function(n){var t;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.blur(),this._selectedItem.selected=!1);this._selectedItem=n;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.focus(),this._selectedItem.selected=!0);this._page.updatePopoverView(this.getDataModel())},u.prototype.submit=function(t){var f,e,r,u,o,i;if(t.action){if(f=n.getCurrentTime(),t.instItem)for(n.InstrumentationHelper.instrumentItemClick(f,t.instItem,t.sequenceNumber,null,2,null),e=this.getSelectableItems(),r=0,u=e;r<u.length;r++)o=u[r],i=o,i.instItem&&n.InstrumentationHelper.instrumentSyntheticInstrumentedItem(i.sequenceNumber,i.instItem.getQsCode(),i.instItem);t.action()}},u.prototype.onAfterKeyDown=function(t){var i,u,r;return(t=n.getRtlAdjustedKey(t),t==39||t==37)?(i=this.getSelectableItems(),i.length>0&&(u=this.getSelectedItem(),r=i.indexOf(u),r+=t==39?1:-1,r<0?this.select(i[i.length-1],!1):this.select(i[r%i.length],!1)),!0):t==13},u.prototype.onItemClick=function(n,t){t.button==0&&this.submit(n)},u.prototype.onMouseLeavesParent=function(){this.waitForEnterBeforeDismiss()},u.prototype.waitForEnterBeforeDismiss=function(){var t=this;this.clearDismissTimer();this._dismissTimer=n.safeSetTimeout(function(){t._dismissTimer=null;!t._parentElement||t._parentElement.matches(":hover")||t._popoverContainer.matches(":hover")||t.dismiss()},100,"waitForDismiss")},u.prototype.clearDismissTimer=function(){this._dismissTimer&&(sb_ct(this._dismissTimer),this._dismissTimer=null)},u.prototype.getDataModel=function(){var n=this;return{text:this._text,items:this._buttons,clickHandler:function(t,i){return n.onItemClick(t,i)},className:this._className}},u.prototype.adjustPosition=function(n,r){var f,o,h;if(this._text){var e=this._popoverContainer,u=e.offsetWidth+1,s=this._root.offsetWidth-2*t;u>s&&(u=s);e.style.width=u+"px";f=0;o=this._root.offsetHeight-r;n-=u/2;o+=i;n<t?f=t-n:n+u>this._root.offsetWidth-t&&(f=this._root.offsetWidth-t-(n+u));e.style.left=n+f+"px";e.style.bottom=o+"px";f<u/-2+i?f=u/-2+i:f>u/2-i&&(f=u/2-i);h=_qs(".popover .beak",this._popoverContainer);h.style.left="calc(50% - "+f+"px";this._finishedOpening=!0}},u.prototype.showPopoverAt=function(t,i,u){var f=this,o,e;n.setVisibility(this._popoverContainer,!0);o=this.getDataModel();this._page.updatePopoverView(o);e="renderPopover";n.safeSetTimeout(function(){if(f.adjustPosition(t,i),f._popoverContainer.classList.add(r),u&&f._buttons&&f._buttons.length!=0)f.select(f.getSelectableItems()[0],!1);else{var o=f._popoverContainer.firstElementChild;o.focus()}n.Host.setFocusInWebView(e)},0,e)},u}();n.PopoverFactory=u}(WSB||(WSB={})),function(n){function e(n,t){return n<<t|n>>>32-t}function t(n,t){var i=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(i>>16);return r<<16|i&65535}function h(n,t,i){return n&t|~n&i}function c(n,t,i){return n&i|t&~i}function l(n,t,i){return n^t^i}function a(n,t,i){return t^(n|~i)}function i(n,i,r,u,f,o,s){return n=t(n,t(t(h(i,r,u),f),s)),t(e(n,o),i)}function r(n,i,r,u,f,o,s){return n=t(n,t(t(c(i,r,u),f),s)),t(e(n,o),i)}function u(n,i,r,u,f,o,s){return n=t(n,t(t(l(i,r,u),f),s)),t(e(n,o),i)}function f(n,i,r,u,f,o,s){return n=t(n,t(t(a(i,r,u),f),s)),t(e(n,o),i)}function v(n){var i=[],r=n.length*8,t;for(i[(n.length>>2)-1]=undefined,t=0;t<i.length;t+=1)i[t]=0;for(t=0;t<r;t+=8)i[t>>5]|=(n.charCodeAt(t/8)&255)<<t%32;return i[r>>5]|=128<<r%32,i[(r+64>>>9<<4)+14]=r,i}function o(n){for(var u,t="",i="",r=0;r<=3;r++)u=n>>>r*8&255,i="0"+u.toString(16),t=t+i.substr(i.length-2,2);return t}function y(n){var ht,ct,lt,at,e=1732584193,s=4023233417,h=2562383102,c=271733878,y=7,p=12,w=17,b=22,k=5,d=9,g=14,nt=20,tt=4,it=11,rt=16,ut=23,ft=6,et=10,ot=15,st=21,a,l;for(n=unescape(encodeURIComponent(n)),a=v(n),l=0;l<a.length;l+=16)ht=e,ct=s,lt=h,at=c,e=i(e,s,h,c,a[l+0],y,3614090360),c=i(c,e,s,h,a[l+1],p,3905402710),h=i(h,c,e,s,a[l+2],w,606105819),s=i(s,h,c,e,a[l+3],b,3250441966),e=i(e,s,h,c,a[l+4],y,4118548399),c=i(c,e,s,h,a[l+5],p,1200080426),h=i(h,c,e,s,a[l+6],w,2821735955),s=i(s,h,c,e,a[l+7],b,4249261313),e=i(e,s,h,c,a[l+8],y,1770035416),c=i(c,e,s,h,a[l+9],p,2336552879),h=i(h,c,e,s,a[l+10],w,4294925233),s=i(s,h,c,e,a[l+11],b,2304563134),e=i(e,s,h,c,a[l+12],y,1804603682),c=i(c,e,s,h,a[l+13],p,4254626195),h=i(h,c,e,s,a[l+14],w,2792965006),s=i(s,h,c,e,a[l+15],b,1236535329),e=r(e,s,h,c,a[l+1],k,4129170786),c=r(c,e,s,h,a[l+6],d,3225465664),h=r(h,c,e,s,a[l+11],g,643717713),s=r(s,h,c,e,a[l+0],nt,3921069994),e=r(e,s,h,c,a[l+5],k,3593408605),c=r(c,e,s,h,a[l+10],d,38016083),h=r(h,c,e,s,a[l+15],g,3634488961),s=r(s,h,c,e,a[l+4],nt,3889429448),e=r(e,s,h,c,a[l+9],k,568446438),c=r(c,e,s,h,a[l+14],d,3275163606),h=r(h,c,e,s,a[l+3],g,4107603335),s=r(s,h,c,e,a[l+8],nt,1163531501),e=r(e,s,h,c,a[l+13],k,2850285829),c=r(c,e,s,h,a[l+2],d,4243563512),h=r(h,c,e,s,a[l+7],g,1735328473),s=r(s,h,c,e,a[l+12],nt,2368359562),e=u(e,s,h,c,a[l+5],tt,4294588738),c=u(c,e,s,h,a[l+8],it,2272392833),h=u(h,c,e,s,a[l+11],rt,1839030562),s=u(s,h,c,e,a[l+14],ut,4259657740),e=u(e,s,h,c,a[l+1],tt,2763975236),c=u(c,e,s,h,a[l+4],it,1272893353),h=u(h,c,e,s,a[l+7],rt,4139469664),s=u(s,h,c,e,a[l+10],ut,3200236656),e=u(e,s,h,c,a[l+13],tt,681279174),c=u(c,e,s,h,a[l+0],it,3936430074),h=u(h,c,e,s,a[l+3],rt,3572445317),s=u(s,h,c,e,a[l+6],ut,76029189),e=u(e,s,h,c,a[l+9],tt,3654602809),c=u(c,e,s,h,a[l+12],it,3873151461),h=u(h,c,e,s,a[l+15],rt,530742520),s=u(s,h,c,e,a[l+2],ut,3299628645),e=f(e,s,h,c,a[l+0],ft,4096336452),c=f(c,e,s,h,a[l+7],et,1126891415),h=f(h,c,e,s,a[l+14],ot,2878612391),s=f(s,h,c,e,a[l+5],st,4237533241),e=f(e,s,h,c,a[l+12],ft,1700485571),c=f(c,e,s,h,a[l+3],et,2399980690),h=f(h,c,e,s,a[l+10],ot,4293915773),s=f(s,h,c,e,a[l+1],st,2240044497),e=f(e,s,h,c,a[l+8],ft,1873313359),c=f(c,e,s,h,a[l+15],et,4264355552),h=f(h,c,e,s,a[l+6],ot,2734768916),s=f(s,h,c,e,a[l+13],st,1309151649),e=f(e,s,h,c,a[l+4],ft,4149444226),c=f(c,e,s,h,a[l+11],et,3174756917),h=f(h,c,e,s,a[l+2],ot,718787259),s=f(s,h,c,e,a[l+9],st,3951481745),e=t(e,ht),s=t(s,ct),h=t(h,lt),c=t(c,at);return(o(e)+o(s)+o(h)+o(c)).toLowerCase()}function p(n){var i=y(n),r,u,t;if(i==null||i.length!==32)return null;for(t=0;t<32;t++)if(r=i[t],!(/^\d+$/.test(r)||r>="a"&&r<="f"))return null;for(i+=0,u="",t=0;t<11;t++){var f=i[t*3],e=i[t*3+1],o=i[t*3+2],s=((f>="a"?f.charCodeAt(0)-"a".charCodeAt(0)+10:f.charCodeAt(0)-"0".charCodeAt(0))<<8)+((e>="a"?e.charCodeAt(0)-"a".charCodeAt(0)+10:e.charCodeAt(0)-"0".charCodeAt(0))<<4)+(o>="a"?o.charCodeAt(0)-"a".charCodeAt(0)+10:o.charCodeAt(0)-"0".charCodeAt(0));u=w(u,s)}return u}function w(n,t){return n.concat(s[Math.floor(t/64)]).concat(s[t%64])}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";n.generateKeyFromDomain=p}(WSB||(WSB={}))
_ValidationTableColumnNullableMinValueMaxValueKeyTableKeyColumnCategorySetDescription_SummaryInformationPropertyIdNValueIdentifierName of tableName of columnY;NWhether the column is nullableYMinimum value allowedMaximum value allowedFor foreign key, Name of table to which data must linkColumn to which foreign key connectsText;Formatted;Template;Condition;Guid;Path;Version;Language;Identifier;Binary;UpperCase;LowerCase;Filename;Paths;AnyPath;WildCardFilename;RegPath;CustomSource;Property;Cabinet;Shortcut;FormattedSDDLText;Integer;DoubleInteger;TimeDate;DefaultDirString categoryTextSet of values that are permittedDescription of columnAdminExecuteSequenceActionName of action to invoke, either in the engine or the handler DLL.ConditionOptional expression which skips the action if evaluates to expFalse.If the expression syntax is invalid, the engine will terminate, returning iesBadActionData.SequenceNumber that determines the sort order in which the actions are to be executed.  Leave blank to suppress action.AdminUISequenceAdvtExecuteSequenceAppSearchPropertyThe property associated with a SignatureSignature_Signature;RegLocator;IniLocator;DrLocator;CompLocatorThe Signature_ represents a unique file signature and is also the foreign key in the Signature,  RegLocator, IniLocator, CompLocator and the DrLocator tables.BinaryNameUnique key identifying the binary data.DataThe unformatted binary data.CheckBoxA named property to be tied to the item.FormattedThe value string associated with the item.ComponentPrimary key used to identify a particular component record.ComponentIdGuidA string GUID unique to this component, version, and language.Directory_DirectoryRequired key of a Directory table record. This is actually a property name whose value contains the actual path, set either by the AppSearch action or with the default setting obtained from the Directory table.AttributesRemote execution option, one of irsEnumA conditional statement that will disable this component if the specified condition evaluates to the 'True' state. If a component is disabled, it will not be installed, regardless of the 'Action' state associated with the component.KeyPathFile;Registry;ODBCDataSourceEither the primary key into the File table, Registry table, or ODBCDataSource table. This extract path is stored when the component is installed, and is used to detect the presence of the component and to return the path to it.ControlDialog_DialogExternal key to the Dialog table, name of the dialog.Name of the control. This name must be unique within a dialog, but can repeat on different dialogs. TypeThe type of the control.XHorizontal coordinate of the upper left corner of the bounding rectangle of the control.Vertical coordinate of the upper left corner of the bounding rectangle of the control.WidthWidth of the bounding rectangle of the control.HeightHeight of the bounding rectangle of the control.A 32-bit word that specifies the attribute flags to be applied to this control.The name of a defined property to be linked to this control. A string used to set the initial text contained within a control (if appropriate).Control_NextThe name of an other control on the same dialog. This link defines the tab order of the controls. The links have to form one or more cycles!HelpThe help strings used with the button. The text is optional. ControlConditionA foreign key to the Dialog table, name of the dialog.Control_A foreign key to the Control table, name of the control.Default;Disable;Enable;Hide;ShowThe desired action to be taken on the specified control.A standard conditional statement that specifies under which conditions the action should be triggered.ControlEventA foreign key to the Control table, name of the controlEventAn identifier that specifies the type of the event that should take place when the user interacts with control specified by the first two entries.ArgumentA value to be used as a modifier when triggering a particular event.A standard conditional statement that specifies under which conditions an event should be triggered.OrderingAn integer used to order several events tied to the same control. Can be left blank.CustomActionPrimary key, name of action, normally appears in sequence table unless private use.The numeric custom action type, consisting of source location, code type, entry, option flags.SourceCustomSourceThe table reference of the source of the code.TargetExcecution parameter, depends on the type of custom actionExtendedTypeA numeric custom action type that extends code type or option flags of the Type column.Name of the dialog.HCenteringHorizontal position of the dialog on a 0-100 scale. 0 means left end, 100 means right end of the screen, 50 center.VCenteringVertical position of the dialog on a 0-100 scale. 0 means top end, 100 means bottom end of the screen, 50 center.Width of the bounding rectangle of the dialog.Height of the bounding rectangle of the dialog.A 32-bit word that specifies the attribute flags to be applied to this dialog.TitleA text string specifying the title to be displayed in the title bar of the dialog's window.Control_FirstDefines the control that has the focus when the dialog is created.Control_DefaultDefines the default control. Hitting return is equivalent to pushing this button.Control_CancelDefines the cancel control. Hitting escape or clicking on the close icon on the dialog is equivalent to pushing this button.Unique identifier for directory entry, primary key. If a property by this name is defined, it contains the full path to the directory.Directory_ParentReference to the entry in this table specifying the default parent directory. A record parented to itself or with a Null parent represents a root of the install tree.DefaultDirThe default sub-path under parent's path.EnvironmentUnique identifier for the environmental variable settingThe name of the environmental value.The value to set in the environmental settings.Component_Foreign key into the Component table referencing component that controls the installing of the environmental value.EventMappingA foreign key to the Dialog table, name of the Dialog.An identifier that specifies the type of the event that the control subscribes to.AttributeThe name of the control attribute, that is set when this event is received.FeaturePrimary key used to identify a particular feature record.Feature_ParentOptional key of a parent record in the same table. If the parent is not selected, then the record will not be installed. Null indicates a root item.Short text identifying a visible feature item.Longer descriptive text describing a visible feature item.DisplayNumeric sort order, used to force a specific display ordering.LevelThe install level at which record will be initially selected. An install level of 0 will disable an item and prevent its display.UpperCaseThe name of the Directory that can be configured by the UI. A non-null value will enable the browse button.0;1;2;4;5;6;8;9;10;16;17;18;20;21;22;24;25;26;32;33;34;36;37;38;48;49;50;52;53;54Feature attributesFeatureComponentsFeature_Foreign key into Feature table.Foreign key into Component table.FilePrimary key, non-localized token, must match identifier in cabinet.  For uncompressed files, this field is ignored.Foreign key referencing Component that controls the file.FileNameFilenameFile name used for installation, may be localized.  This may contain a "short name|long name" pair.FileSizeSize of file in bytes (long integer).VersionVersion string for versioned files;  Blank for unversioned files.LanguageList of decimal language Ids, comma-separated if more than one.Integer containing bit flags representing file attributes (with the decimal value of each bit position in parentheses)Sequence with respect to the media images; order must track cabinet order.IconPrimary key. Name of the icon file.Binary stream. The binary icon data in PE (.DLL or .EXE) or icon (.ICO) format.InstallExecuteSequenceInstallUISequenceLaunchConditionExpression which must evaluate to TRUE in order for install to commence.Localizable text to display when condition fails and install must abort.ListBoxA named property to be tied to this item. All the items tied to the same property become part of the same listbox.OrderA positive integer used to determine the ordering of the items within one list..The integers do not have to be consecutive.The value string associated with this item. Selecting the line will set the associated property to this value.The visible text to be assigned to the item. Optional. If this entry or the entire column is missing, the text is the same as the value.MediaDiskIdPrimary key, integer to determine sort order for table.LastSequenceFile sequence number for the last file for this media.DiskPromptDisk name: the visible text actually printed on the disk.  This will be used to prompt the user when this disk needs to be inserted.CabinetIf some or all of the files stored on the media are compressed in a cabinet, the name of that cabinet.VolumeLabelThe label attributed to the volume.The property defining the location of the cabinet file.MsiFileHashFile_Primary key, foreign key into File table referencing file with this hashOptionsVarious options and attributes for this hash.HashPart1HashPart2HashPart3HashPart4MsiShortcutPropertyPrimary key, non-localized tokenShortcut_ShortcutForeign key into the Shortcut tablePropertyKeyCanonical string representation of the Property Key being setPropVariantValueString representation of the value in the propertyName of property, uppercase if settable by launcher or loader.String value for property.  Never null or empty.RadioButtonA named property to be tied to this radio button. All the buttons tied to the same property become part of the same group.The value string associated with this button. Selecting the button will set the associated property to this value.The horizontal coordinate of the upper left corner of the bounding rectangle of the radio button.The vertical coordinate of the upper left corner of the bounding rectangle of the radio button.The width of the button.The height of the button.The visible title to be assigned to the radio button.The help strings used with the button. The text is optional.RegistryPrimary key, non-localized token.RootThe predefined root key for the registry value, one of rrkEnum.KeyRegPathThe key for the registry value.The registry value name.The registry value.Foreign key into the Component table referencing component that controls the installing of the registry value.RegLocatorThe table key. The Signature_ represents a unique file signature and is also the foreign key in the Signature table. If the type is 0, the registry values refers a directory, and _Signature is not a foreign key.An integer value that determines if the registry value is a filename or a directory location or to be used as is w/o interpretation.RemoveFileFileKeyPrimary key used to identify a particular file entryForeign key referencing Component that controls the file to be removed.WildCardFilenameName of the file to be removed.DirPropertyName of a property whose value is assumed to resolve to the full pathname to the folder of the file to be removed.InstallMode1;2;3Installation option, one of iimEnum.Foreign key into the Directory table denoting the directory where the shortcut file is created.The name of the shortcut to be created.Foreign key into the Component table denoting the component whose selection gates the the shortcut creation/deletion.The shortcut target. This is usually a property that is expanded to a file or a folder that the shortcut points to.ArgumentsThe command-line arguments for the shortcut.The description for the shortcut.HotkeyThe hotkey for the shortcut. It has the virtual-key code for the key in the low-order byte, and the modifier flags in the high-order byte. Icon_Foreign key into the File table denoting the external icon file for the shortcut.IconIndexThe icon index for the shortcut.ShowCmd1;3;7The show command for the application window.The following values may be used.WkDirName of property defining location of working directory.DisplayResourceDLLThe Formatted string providing the full path to the language neutral file containing the MUI Manifest.DisplayResourceIdThe display name index for the shortcut. This must be a non-negative number.DescriptionResourceDLLDescriptionResourceIdThe description name index for the shortcut. This must be a non-negative number.SignatureThe table key. The Signature represents a unique file signature.The name of the file. This may contain a "short name|long name" pair.MinVersionThe minimum version of the file.MaxVersionThe maximum version of the file.MinSizeThe minimum size of the file.MaxSizeThe maximum size of the file. MinDateThe minimum creation date of the file.MaxDateThe maximum creation date of the file.LanguagesThe languages supported by the file.TextStyleName of the style. The primary key of this table. This name is embedded in the texts to indicate a style change.FaceNameA string indicating the name of the font used. Required. The string must be at most 31 characters long.SizeThe size of the font used. This size is given in our units (1/12 of the system font height). Assuming that the system font is set to 12 point size, this is equivalent to the point size.ColorA long integer indicating the color of the string in the RGB format (Red, Green, Blue each 0-255, RGB = R + 256*G + 256^2*B).StyleBitsA combination of style bits.UITextA unique key that identifies the particular string.The localized version of the string.UpgradeUpgradeCodeThe UpgradeCode GUID belonging to the products in this set.VersionMinThe minimum ProductVersion of the products in this set.  The set may or may not include products with this particular version.VersionMaxThe maximum ProductVersion of the products in this set.  The set may or may not include products with this particular version.A comma-separated list of languages for either products in this set or products not in this set.The attributes of this product set.RemoveThe list of features to remove when uninstalling a product from this set.  The default is "ALL".ActionPropertyThe property to set when a product in this set is found.CostInitializeFileCostCostFinalizeInstallValidateInstallInitializeInstallAdminPackageInstallFilesInstallFinalizeFatalErrorUserExitExitDialogExecuteActionCreateShortcutsPublishFeaturesPublishProductLEGACYINNOSETUPINSTALLERNATIVE32PROPERTYLegacyInnoSetupInstallerNative32RegSearchLEGACYINNOSETUPINSTALLER32ON64PROPERTYLegacyInnoSetupInstaller32On64RegSearchWixUI_Bmp_BannerWixUI_Bmp_DialogWixUI_Ico_ExclamWixUI_Ico_InfoWixUI_Bmp_NewWixUI_Bmp_UpWixUIWixcaWixCAWIXUI_EXITDIALOGOPTIONALCHECKBOX1PuTTY_Component{C673C970-25AE-4659-9621-A1FE0598E9DC}INSTALLDIRPuTTY_FilePageant_Component{BA37328A-9A9C-4912-B84D-9C4A21B4E79A}Pageant_FilePSFTP_Component{8BC2740F-CD4A-4076-8C33-2847ECA17B4E}PSFTP_FilePuTTYgen_Component{4E3F554E-C9C9-419B-9816-94135D1F6EFF}PuTTYgen_FilePlink_Component{72C38830-1C06-40D5-B2C5-BE21F4C9D529}Plink_FilePSCP_Component{58FCAA52-CEF9-4665-B95E-7695FCF8F0A9}PSCP_FileHelpFile_Component{B880CECB-2CDA-4DB1-8EB3-1627D29394FB}HelpFile_FileWebsite_Component{08A334E8-D376-438A-98C7-4E65BE09A335}Website_FileLICENCE_Component{D15E5FA9-C912-4F7A-A663-9FE3CFD5FB01}LICENCE_FileREADME_Component{B8F2F9DE-0311-436E-86A4-BEFED84968C0}README_FilePPK_Assoc_Component{70B4360C-7A2E-4C9E-9135-289C5467CB04}reg351FBC808AA8815866999F63779679FCPath_Component{A0CFC986-489D-452B-8A8F-F9DBEF6916F4}reg003AB399052C22E141A36A3934945C28ProgramMenuDir{3B2B7A2B-25F1-4EC4-987F-75BFD038632E}reg53F55308E4B0793EDDE5F21A0C915F25Desktop_Shortcut_Component{0A715416-EA6E-4A1C-8670-838307083EE5}DesktopFolderregD7494F72B1D49E152CDBA2F4EDD3D207BrowseDlgPathEdit_BrowsePropertyOKPushButtonCancelComboLabel&Look in:DirectoryComboNewFolderUp one level|DirectoryListCreate a new folder|PathLabel&Folder name:BannerBitmapBitmapBannerLineLineBottomLineBrowse to the destination folder{\WixUI_Font_Title}Change destination folderDiskCostDlgHighlighted volumes do not have enough disk space available for selected features. You can either remove some files from the highlighted volumes, install fewer features, or select different destination drives.The disk space required for the installation of the selected features.{\WixUI_Font_Title}Disk Space RequirementsVolumeListVolumeCostList{120}{70}{70}{70}{70}ErrorDlgErrorTextInformation text&YesACErrorIconInformation icon|I&Ignore&NoOR&RetryFinish&FinishBack&Back{\WixUI_Font_Bigger}[ProductName] Setup Wizard ended prematurely[ProductName] Setup Wizard ended prematurely because of an error. Your system has not been modified. To install this program at a later time, run Setup Wizard again. Click the Finish button to exit the Setup Wizard.FilesInUseRetryIgnoreExitE&xitThe following applications are using files that need to be updated by this setup. Close these applications and then click &Retry to continue setup or Exit to exit it.Some files that need to be updated are currently in use.{\WixUI_Font_Title}Files in UseListFileInUseProcessMsiRMFilesInUseShutdownOptionRadioButtonGroupWixUIRMOptionThe following applications are using files that need to be updated by this setup. You can let Setup Wizard close them and attempt to restart them or reboot the machine later.PrepareDlgPlease wait while the Setup Wizard prepares to guide you through the installation.{\WixUI_Font_Bigger}Welcome to the [ProductName] Setup WizardNext&NextActionDataActionTextCancelDlgNoYesAre you sure you want to cancel [ProductName] installation?ProgressDlgTextInstallingPlease wait while the Setup Wizard installs [ProductName].TitleInstalling{\WixUI_Font_Title}Installing [ProductName]TextChangingPlease wait while the Setup Wizard changes [ProductName].TitleChanging{\WixUI_Font_Title}Changing [ProductName]TextRepairingPlease wait while the Setup Wizard repairs [ProductName].TitleRepairing{\WixUI_Font_Title}Repairing [ProductName]TextRemovingPlease wait while the Setup Wizard removes [ProductName].TitleRemoving{\WixUI_Font_Title}Removing [ProductName]TextUpdatingPlease wait while the Setup Wizard updates [ProductName].TitleUpdating{\WixUI_Font_Title}Updating [ProductName]ProgressBarProgress doneStatusLabelStatus:ResumeDlgInstall&InstallInstallNoShieldThe Setup Wizard will complete the installation of [ProductName] on your computer. Click Install to continue or Cancel to exit the Setup Wizard.{\WixUI_Font_Bigger}Resuming the [ProductName] Setup WizardWaitForCostingDlgReturn&ReturnPlease wait while the installer finishes determining your disk space requirements.Exclamation icon|OutOfRbDiskDlgThe highlighted volumes do not have enough disk space available for the currently selected features. You can remove some files from the highlighted volumes, install fewer features, or select a different destination drive. Alternatively, you may choose to disable the installer's rollback functionality. Disabling rollback prevents the installer from restoring your computer's original state should the installation be interrupted in any way. Click Yes if you wish to take the risk of disabling rollback.Disk space required for the installation exceeds available disk space.{\WixUI_Font_Title}Out of Disk SpaceOutOfDiskDlgThe highlighted volumes do not have enough disk space available for the currently selected features. You can remove some files from the highlighted volumes, install fewer features, or select a different destination drive.{\WixUI_Font_Bigger}[ProductName] Setup Wizard was interrupted[ProductName] setup was interrupted. Your system has not been modified. To install this program at a later time, please run the installation again. Click the Finish button to exit the Setup Wizard.FeaturesDlgTreeSelectionTreeProduct featuresChange&ChangeChangeNoShieldSelect the way you want features to be installed.{\WixUI_Font_Title}Product FeaturesItemDescriptionFeaturesDlgItemDescriptionItemSizeFeaturesDlgItemSizeInvalidDirDlgInstallation directory must be on a local hard drive.OptionalCheckBoxClick the Finish button to exit the Setup Wizard.{\WixUI_Font_Bigger}Completed the [ProductName] Setup WizardOptionalText[WIXUI_EXITDIALOGOPTIONALTEXT][WIXUI_EXITDIALOGOPTIONALCHECKBOXTEXT]WelcomeDlgThe Setup Wizard will install [ProductName] on your computer. Click Next to continue or Cancel to exit the Setup Wizard.PatchDescriptionThe Setup Wizard will update [ProductName] on your computer. Click Next to continue or Cancel to exit the Setup Wizard.InstallDirDlgClick Next to install to the default folder or click Change to choose another.{\WixUI_Font_Title}Destination FolderFolderFolderLabelInstall [ProductName] to:WIXUI_INSTALLDIRChangeFolder&Change...VerifyReadyDlgRepairRe&pair&RemoveRemoveNoShieldUpdate&UpdateUpdateNoShieldInstallTitle{\WixUI_Font_Title}Ready to install [ProductName]InstallTextClick Install to begin the installation. Click Back to review or change any of your installation settings. Click Cancel to exit the wizard.ChangeTitle{\WixUI_Font_Title}Ready to change [ProductName]ChangeTextClick Change to begin the installation. Click Back to review or change any of your installation settings. Click Cancel to exit the wizard.RepairTitle{\WixUI_Font_Title}Ready to repair [ProductName]RepairTextClick Repair to repair the installation of [ProductName]. Click Back to review or change any of your installation settings. Click Cancel to exit the wizard.RemoveTitle{\WixUI_Font_Title}Ready to remove [ProductName]RemoveTextClick Remove to remove [ProductName] from your computer. Click Back to review or change any of your installation settings. Click Cancel to exit the wizard.UpdateTitle{\WixUI_Font_Title}Ready to update [ProductName]UpdateTextClick Update to update [ProductName] from your computer. Click Back to review or change any of your installation settings. Click Cancel to exit the wizard.MaintenanceTypeDlgChangeButtonRepairButtonChange Installation|Lets you change the way features are installed.ChangeDisabledText[ProductName] has no independently selectable features.RemoveButtonRepair Installation|Repairs errors in the most recent installation by fixing missing and corrupt files, shortcuts, and registry entries.RepairDisabledText[ProductName] cannot be repaired.Remove Installation|Removes [ProductName] from your computer.RemoveDisabledText[ProductName] cannot be removed.{\WixUI_Font_Title}Change, repair, or remove installationSelect the operation you wish to perform.MaintenanceWelcomeDlgThe Setup Wizard allows you to change the way [ProductName] features are installed on your computer or to remove it from your computer. Click Next to continue or Cancel to exit the Setup Wizard.ShowNOT Installed OR (Installed AND (RESUME OR Preselected) AND NOT PATCH)WixUI_InstallMode = "Change"WixUI_InstallMode = "Repair"WixUI_InstallMode = "Remove"WixUI_InstallMode = "Update"ALLUSERSNOT ALLUSERSNOT Installed AND ALLUSERSDefaultNOT InstalledNOT Installed AND NOT ALLUSERSInstalled AND ALLUSERS AND (ADDLOCAL OR REMOVE)InstalledInstalled AND (NOT ALLUSERS OR (NOT ADDLOCAL AND NOT REMOVE))WIXUI_EXITDIALOGOPTIONALTEXT AND NOT InstalledWIXUI_EXITDIALOGOPTIONALCHECKBOXTEXT AND NOT InstalledNOT Installed OR NOT PATCHHideInstalled AND PATCHEnableWixUI_InstallMode = "Change" AND ALLUSERS AND (ADDLOCAL OR REMOVE)WixUI_InstallMode = "Change" AND (NOT ALLUSERS OR (NOT ADDLOCAL AND NOT REMOVE))WixUI_InstallMode = "Remove" AND ALLUSERSWixUI_InstallMode = "Remove" AND NOT ALLUSERSWixUI_InstallMode = "Update" AND ALLUSERSWixUI_InstallMode = "Update" AND NOT ALLUSERSDisableARPNOMODIFYARPNOREPAIRARPNOREMOVEDoActionWixUIValidatePathSpawnDialogNOT WIXUI_DONTVALIDATEPATH AND WIXUI_INSTALLDIR_VALID<>"1"EndDialogNewDialogSetTargetPath[WIXUI_INSTALLDIR]NOT WIXUI_DONTVALIDATEPATHWIXUI_DONTVALIDATEPATH OR WIXUI_INSTALLDIR_VALID="1"[_BrowseProperty]Installed AND NOT PATCHLaunchApplicationWIXUI_EXITDIALOGOPTIONALCHECKBOX = 1 and NOT InstalledReset0DirectoryListUpDirectoryListNewErrorYesErrorAbortErrorCancelErrorIgnoreErrorNoErrorOkErrorRetryRMShutdownAndRestartWixUIRMOption~="UseRM"SpawnWaitDialog1 OR CostingComplete = 1OutOfDiskSpace <> 1OutOfDiskSpace = 1 AND OutOfNoRbDiskSpace = 0 AND (PROMPTROLLBACKCOST="P" OR NOT PROMPTROLLBACKCOST)OutOfDiskSpace = 1 AND OutOfNoRbDiskSpace = 0 AND PROMPTROLLBACKCOST="D"EnableRollbackFalse(OutOfDiskSpace = 1 AND OutOfNoRbDiskSpace = 1) OR (OutOfDiskSpace = 1 AND PROMPTROLLBACKCOST="F")[WixUI_InstallMode]ReinstallModeecmusReinstallAllWixShellExecValidatePath[ProductName] SetupProgramFiles64FolderPuTTYTARGETDIRPFilesProgramMenuFolderj7qdqep3|PuTTY (64-bit)ProgramsDesktopSourceDirPath_Environment=-*PATH[~];[INSTALLDIR]IgnoreChangeSetProgressProgressSelectionDescriptionSelectionSizeFilesFeatureInstall PuTTY filesDesktopFeatureAdd shortcut to PuTTY on the DesktopPathFeaturePut install directory on the PATH for command promptsPPKFeatureAssociate .PPK files with PuTTYgen and Pageantputty.exe0.74.0.02057pageant.exepsftp.exeputtygen.exeplink.exepscp.exeputty.chmwebsite.urlLICENCEREADME.txtinstallericon.exeFindRelatedProductsLaunchConditionsValidateProductIDMigrateFeatureStatesProcessComponentsUnpublishFeaturesRemoveRegistryValuesRemoveShortcutsRemoveEnvironmentStringsRemoveFilesWriteRegistryValuesWriteEnvironmentStringsRegisterUserRegisterProductRemoveExistingProductsNOT Installed OR PATCHInstalled AND (RESUME OR Preselected)Installed AND NOT RESUME AND NOT Preselected AND NOT PATCHInstalled OR                (LEGACYINNOSETUPINSTALLERNATIVE32PROPERTY = "" AND                 LEGACYINNOSETUPINSTALLER32ON64PROPERTY = "")A version of PuTTY is already installed on this system using the old Inno Setup installer. Please uninstall that before running the new installer.#putty.cabscp1A68F22CC599D18ABD46E6F5E0AF7211startmenuPuTTY{9F4C2855-9F79-4B39-A8D0-E1D42DE1D5F3}, 5SimonTatham.PuTTYscpFE308A2297503BD888359558C63E1C97DesktopPuTTYREINSTALLMODEamusDefaultUIFontWixUI_Font_NormalWixUI_ModeInstallDirWIXUI_EXITDIALOGOPTIONALCHECKBOXTEXTView README fileWixShellExecTarget[#README_File]ARPPRODUCTICONManufacturerSimon TathamProductCode{127B996B-5308-4012-865B-9446451EA326}ProductLanguage1033ProductNamePuTTY release 0.74 (64-bit)ProductVersion{C9EAA861-2B72-4FAF-9FEE-EEB1AD5FD15E}ErrorDialogUseRMSecureCustomPropertiesWIX_UPGRADE_DETECTED&Close the applications and attempt to restart them.DontUseRM&Do not close applications. A reboot will be required.regBB133FE76629996D9CED205726D42C48Software\SimonTatham\PuTTY64\CHMPath[#HelpFile_File]reg3FCAA068168E319BF8D01D0348886CB4PPK_Assoc_ProgId\shell\openLoad into Pageantreg7E5A3F88B7A6E71E7F2EB069BE3C355APPK_Assoc_ProgId\shell\open\command"[#Pageant_File]" "%1"regC420A9B5F3DF8C01F5A63251229AFCCEPPK_Assoc_ProgId\shell\editEdit with PuTTYgenreg7CFC4AC441BF791859D501305A52A875PPK_Assoc_ProgId\shell\edit\command"[#PuTTYgen_File]" "%1"reg7AAC9A4E199FA9C48D7B15FEDA27B0EB.ppkPPK_Assoc_ProgIdregDF9C5C35E7C201165D5DC5D1A035AAADContent Typeapplication/x-putty-private-keyreg3BDDF94BF5E4729A19AFF09C60CCDA31PuTTY Private Key FileSoftware\SimonTatham\PuTTY64\PPKAssociationSoftware\SimonTatham\PuTTY64\PathEntrySoftware\SimonTatham\PuTTY64\StartMenuSoftware\SimonTatham\PuTTY64\DesktopEntrySOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\PuTTY_is1QuietUninstallStringSOFTWARE\Wow6432Node\Microsoft\Windows\CurrentVersion\Uninstall\PuTTY_is1[#PuTTY_File]startmenuPageantPageant[#Pageant_File]startmenuPSFTPPSFTP[#PSFTP_File]startmenuPuTTYgenPuTTYgen[#PuTTYgen_File]startmenuManualmybzcwzb|PuTTY ManualstartmenuWebsitelnzrzvod|PuTTY Web Site[#Website_File]dzjzlbud|PuTTY (64-bit)[INSTALLDIR]putty.exeTahomaWixUI_Font_BiggerWixUI_Font_TitleAbsentPathbytesGBKBMBMenuAbsentEntire feature will be unavailableMenuAdvertiseFeature will be installed when requiredMenuAllCDEntire feature will be installed to run from CDMenuAllLocalEntire feature will be installed on local hard driveMenuAllNetworkEntire feature will be installed to run from networkMenuCDWill be installed to run from CDMenuLocalWill be installed on local hard driveMenuNetworkWill be installed to run from networkFolder|New FolderScriptInProgressGathering required information...SelAbsentAbsentThis feature will remain uninstalledSelAbsentAdvertiseThis feature will be set to be installed when requiredSelAbsentCDThis feature will be installed to run from CDSelAbsentLocalThis feature will be installed on the local hard driveSelAbsentNetworkThis feature will be installed to run from the networkSelAdvertiseAbsentThis feature will become unavailableSelAdvertiseAdvertiseWill be installed when requiredSelAdvertiseCDThis feature will be available to run from CDSelAdvertiseLocalThis feature will be installed on your local hard driveSelAdvertiseNetworkThis feature will be available to run from the networkSelCDAbsentThis feature will be uninstalled completely, you won't be able to run it from CDSelCDAdvertiseThis feature will change from run from CD state to set to be installed when requiredSelCDCDThis feature will remain to be run from CDSelCDLocalThis feature will change from run from CD state to be installed on the local hard driveSelChildCostNegThis feature frees up [1] on your hard drive.SelChildCostPosThis feature requires [1] on your hard drive.SelCostPendingCompiling cost for this feature...SelLocalAbsentThis feature will be completely removedSelLocalAdvertiseThis feature will be removed from your local hard drive, but will be set to be installed when requiredSelLocalCDThis feature will be removed from your local hard drive, but will be still available to run from CDSelLocalLocalThis feature will remain on your local hard driveSelLocalNetworkThis feature will be removed from your local hard drive, but will be still available to run from the networkSelNetworkAbsentThis feature will be uninstalled completely, you won't be able to run it from the networkSelNetworkAdvertiseThis feature will change from run from network state to set to be installed when requiredSelNetworkLocalThis feature will change from run from network state to be installed on the local hard driveSelNetworkNetworkThis feature will remain to be run from the networkSelParentCostNegNegThis feature frees up [1] on your hard drive. It has [2] of [3] subfeatures selected. The subfeatures free up [4] on your hard drive.SelParentCostNegPosThis feature frees up [1] on your hard drive. It has [2] of [3] subfeatures selected. The subfeatures require [4] on your hard drive.SelParentCostPosNegThis feature requires [1] on your hard drive. It has [2] of [3] subfeatures selected. The subfeatures free up [4] on your hard drive.SelParentCostPosPosThis feature requires [1] on your hard drive. It has [2] of [3] subfeatures selected. The subfeatures require [4] on your hard drive.TimeRemainingTime remaining: {[1] minutes }{[2] seconds}VolumeCostAvailableAvailableVolumeCostDifferenceDifferenceVolumeCostRequiredRequiredVolumeCostSizeDisk SizeVolumeCostVolumeVolume
PuTTY Installer
3https://www.chiark.greenend.org.uk/~sgtatham/putty/0
PuTTY Installer
3https://www.chiark.greenend.org.uk/~sgtatham/putty/0
PuTTY release 0.74 installer
This installer database contains the logic and data required to install PuTTY release 0.74 (64-bit).
    var inputType;
    (function (inputType) {
        inputType[inputType["readonly"] = 1] = "readonly";
        inputType[inputType["hidden"] = 2] = "hidden";
        inputType[inputType["text"] = 4] = "text";
        inputType[inputType["password"] = 8] = "password";
    })(inputType = Dom.inputType || (Dom.inputType = {}));
                    if (elementPresent(stream, (e) => ((e.tagId == Dom.tagType.input) && ((e.flags & Dom.inputType.password) != 0)))) {
C:\Program Files\PuTTY\putty.exe 
C:\Program Files\PuTTY\putty.exe 
C:\Program Files\PuTTY\putty.exe
"META:https://putty.fr.uptodown.com
9_https://putty.fr.uptodown.com
:_https://putty.fr.uptodown.com
*_https://putty.fr.uptodown.com
,_https://putty.fr.uptodown.com
7_https://putty.fr.uptodown.com
:_https://putty.fr.uptodown.com
7_https://putty.fr.uptodown.com
7_https://putty.fr.uptodown.com
7_https://putty.fr.uptodown.com
7_https://putty.fr.uptodown.com
7_https://putty.fr.uptodown.com
7_https://putty.fr.uptodown.com
9_https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
https://putty.fr.uptodown.com/windows/telechargerT
charger PuTTY pour Windows gratuit | Uptodown.com
https://putty.fr.uptodown.com/windowsPuTTY 0.74 (64-bit) pour Windows - T
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531putty - Bing
C:\Program Files\PuTTY\putty.exe 
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_InputType/Description}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_InputType/HighKeywords}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_OutputType/Description}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_OutputType/HighKeywords}
{6D809377-6AF0-444B-8957-A3773F02200E}\PuTTY\pageant.exe	10211
{7C5A40EF-A0FB-4BFC-874A-C0F2E0B9FA8E}\SuperPuTTY\SuperPutty.exe	10955
inputType
              <uap4:InputTypes>
                <uap4:InputType SubType="E9A4A80A-44FE-4DE4-8971-7150B10A5199" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="0dbecec1-9eb3-4860-9c6f-ddbe86634575" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="E9A4A80A-44FE-4DE4-8971-7150B10A5199" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="0dbecec1-9eb3-4860-9c6f-ddbe86634575" />
              </uap4:OutputTypes>
inputType
CMFTWrapperAsync::SetInputType
CMFTWrapperAsync::SetOutputType
CMFTWrapperAsync::PropagateOutputTypeChange
CMFTWrapperAsync::StartInputTypeChange
CMFTWrapperAsync::SetInputTypeInternal
CMFTWrapperAsync::SetInputType
CMFTWrapperAsync::SetOutputType
CMFTWrapperAsync::StartInputTypeChange
CMFTWrapperAsync::PropagateOutputTypeChange
CMFTWrapperAsync::SetInputTypeInternal
KYNBPDRGTKUPUTTYR]P`Nb PDRHSKTPTTSYR\P`
KYNBPDRGTKUPUTTYR]P`NbOb NBOBQDSGUKVPVTUYS]Q`Ob
KYNBPDRGTKUPUTTYR]P`Nb
InputTypeListEmptyError
InputTypeListEmptyError
InputTypeListEmptyError
InputTypeListEmptyError
InputTypeListEmptyError
InputTypeListEmptyError
OutputTypeInference
HasUnfixedParamInInputType
HasUnfixedParamInOutputType
DoesInputTypeContain
DoesOutputTypeContain
MakeOutputTypeInferences
InputTypeListEmptyError
InputTypeListEmptyError
InitInputType
inputType
inputType
inputType
get_InputTypeListEmptyError
SynchronizedInputType
inputType
SynchronizedInputType
inputType
        <ActivatableClass ActivatableClassId="PaintStudio.ViewElements.Behaviors.TelemetryInputTypeBehaviour" ThreadingModel="both" />
InputType
ToastInputType
UWP(InteractionInputType
get_InputType@
@<InteractionName>k__BackingFieldD<InteractionDetail>k__BackingField,<Index>k__BackingField4<InputType>k__BackingField
InputType
get_inputType
set_inputType
set_value4<phaseName>k__BackingField><phaseSessionID>k__BackingField@<interactionName>k__BackingField@<interactionType>k__BackingField0<modelID>k__BackingField@<modelInstanceID>k__BackingField4<inputType>k__BackingField6<durationMs>k__BackingField,<value>k__BackingField
inputType
(InteractionInputType
`0get_InteractionInputType@
__ITelemetryInputTypeBehaviourPublicNonVirtuals
TelemetryInputTypeBehaviour
>PaintStudio.ViewElements.Behaviors.TelemetryInputTypeBehaviour
get_InputType
InputType
inputTypeLocalised
"get_InputTypeSent
.<SpeechEndpoint>j__TPar,<InputTypeSent>j__TPar
(<ActivatedBy>j__TPar0<UnknownProtocol>j__TPar0<BlockedProtocol>j__TPar0<AboveLockscreen>j__TPar$get_SpeechEndpoint"get_InputTypeSent
InputTypeSent
.<SpeechEndpoint>j__TPar,<InputTypeSent>j__TPar
InputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
?T2_GLOBAL_LAST_INPUT_TYPE@Data@Lift@@3V?$GlobalValuePointDefinition@W4InputType@Telemetry@@@12@B
.?AV?$ValuePoint@W4InputType@Telemetry@@@Data@Lift@@
?T2_GLOBAL_LAST_INPUT_TYPE@Data@Lift@@3V?$GlobalValuePointDefinition@W4InputType@Telemetry@@@12@B
.?AV?$ValuePoint@W4InputType@Telemetry@@@Data@Lift@@
.?AU__abi_PointerToMemberWeakRefCapture@?1???$?0VTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@P80123@E$AAAXPE$AAVObject@Platform@@PE$AAVTappedRoutedEventArgs@Input@Xaml@UI@Windows@@@Z@TappedEventHandler@Input@Xaml@UI@Windows@@QE$AAA@PE$AAVTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@P86789@E$AAAXPE$AAVObject@Platform@@PE$AAVTappedRoutedEventArgs@2345@@ZW4CallbackContext@Platform@@_N@Z@
.?AU__abi_PointerToMemberWeakRefCapture@?1???$?0VTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@P80123@E$AAAXPE$AAVUIElement@Xaml@UI@Windows@@PE$AAVAccessKeyInvokedEventArgs@Input@567@@Z@?$TypedEventHandler@PE$AAVUIElement@Xaml@UI@Windows@@PE$AAVAccessKeyInvokedEventArgs@Input@234@@Foundation@Windows@@QE$AAA@PE$AAVTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@P84567@E$AAAXPE$AAVUIElement@Xaml@UI@3@PE$AAVAccessKeyInvokedEventArgs@Input@9UI@3@@ZW4CallbackContext@Platform@@_N@Z@
.?AU__abi_PointerToMemberWeakRefCapture@?1???$?0VTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@P80123@E$AAAXPE$AAVObject@Platform@@PE$AAVKeyRoutedEventArgs@Input@Xaml@UI@Windows@@@Z@KeyEventHandler@Input@Xaml@UI@Windows@@QE$AAA@PE$AAVTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@P86789@E$AAAXPE$AAVObject@Platform@@PE$AAVKeyRoutedEventArgs@2345@@ZW4CallbackContext@Platform@@_N@Z@
.?AU__abi_PointerToMemberWeakRefCapture@?1???$?0VTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@P80123@E$AAAXPE$AAVObject@Platform@@PE$AAVPointerRoutedEventArgs@Input@Xaml@UI@Windows@@@Z@PointerEventHandler@Input@Xaml@UI@Windows@@QE$AAA@PE$AAVTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@P86789@E$AAAXPE$AAVObject@Platform@@PE$AAVPointerRoutedEventArgs@2345@@ZW4CallbackContext@Platform@@_N@Z@
.?AU__ITelemetryInputTypeBehaviourPublicNonVirtuals@Behaviors@ViewElements@PaintStudio@@
.?AV__TelemetryInputTypeBehaviourActivationFactory@Behaviors@ViewElements@PaintStudio@@
.?AVTelemetryInputTypeBehaviour@Behaviors@ViewElements@PaintStudio@@
InputType
INPUTOUTPUTTYPE
INPUTOUTPUTTYPE
	InputType
	InputType
?InputTypeFromRightTappedRoutedEventArgs@Core@Xaml@UI@Office@@YA?AW4InputType@VirtualList@@PE$AAVRightTappedRoutedEventArgs@Input@23Windows@@@Z
InputType
m_transform->SetOutputType(0, to.Get(), 0)
m_transform->SetInputType(0, ti.Get(), 0)
              <uap4:InputTypes>
                <uap4:InputType SubType="30385056-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="30395056-0000-0010-8000-00AA00389B71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
                <uap4:OutputType SubType="56555949-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="4f303234-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
                <uap4:InputType SubType="56555949-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="32315659-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="32595559-0000-0010-8000-00AA00389B71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30385056-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="30395056-0000-0010-8000-00AA00389B71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="30385056-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="30395056-0000-0010-8000-00AA00389B71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
                <uap4:OutputType SubType="56555949-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="4f303234-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
                <uap4:InputType SubType="56555949-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="32315659-0000-0010-8000-00AA00389B71" />
                <uap4:InputType SubType="32595559-0000-0010-8000-00AA00389B71" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30385056-0000-0010-8000-00AA00389B71" />
                <uap4:OutputType SubType="30395056-0000-0010-8000-00AA00389B71" />
              </uap4:OutputTypes>
WebmMfVp8DecLib::WebmMfVp8Dec::SetInputType : Enter.
WebmMfVp8DecLib::WebmMfVp8Dec::SetInputType
WebmMfVp8DecLib::WebmMfVp8Dec::SetOutputType : Enter.
WebmMfVp8DecLib::WebmMfVp8Dec::SetOutputType
	OutputTypeChangedCount
WebmMfVp8DecLib::WebmMfVp8Dec::SetInputType : Enter.
WebmMfVp8DecLib::WebmMfVp8Dec::SetInputType
WebmMfVp8DecLib::WebmMfVp8Dec::SetOutputType : Enter.
WebmMfVp8DecLib::WebmMfVp8Dec::SetOutputType
	OutputTypeChangedCount
              <uap4:InputTypes>
                <uap4:InputType SubType="8D2FD10B-5841-4A6B-8905-588FEC1ADED9" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="00000003-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="6F656874-0000-0010-8000-00AA00389B71" uap5:MkvCodecId="V_THEORA" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="3231564e-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
InitInputType
              <uap4:InputTypes>
                <uap4:InputType SubType="7693E886-51C9-4070-8419-9F70738EC8FA" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="7693E886-51C9-4070-8419-9F70738EC8FA" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
TransformBase::SetInputType
TransformBase::SetOutputType
__d(function(e,t,i,n){"use strict";var o,a;Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.SignUp=0]="SignUp",e[e.SignIn=1]="SignIn",e[e.RefreshTokenDirect=2]="RefreshTokenDirect",e[e.RefreshTokenInterrupted=3]="RefreshTokenInterrupted",e[e.RefreshTokenSwitched=4]="RefreshTokenSwitched",e[e.Unknown=5]="Unknown"}(o=n.MsaWebViewTokenPath||(n.MsaWebViewTokenPath={})),function(e){e[e.None=0]="None",e[e.SignInPage=1]="SignInPage",e[e.SignUpPage=2]="SignUpPage"}(a||(a={}));var r={container:t(290).Styles.createViewStyle({alignSelf:"stretch",alignContent:"center",justifyContent:"center",backgroundColor:t(989).Color.white,flex:1,flexDirection:"row"}),fillParent:t(290).Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column"}),boxedView:t(290).Styles.createViewStyle({maxWidth:500}),loadingSpinner:t(290).Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:t(989).Color.white}),noPadding:t(290).Styles.createViewStyle({paddingTop:0}),invisibleTextInput:t(290).Styles.createTextInputStyle({position:"absolute",left:-9999,top:-9999,width:0,height:0}),msaWebViewBackButton:t(290).Styles.createButtonStyle({backgroundColor:t(989).Color.blackOverlay70,borderRadius:10,width:40,height:30,alignItems:"center",justifyContent:"center"})},s={msaInteractiveAuthorizeUrlPath:"/oauth20_authorize.srf",msaSignUpUrlPath:"/signup",msaFinalUrlPath:"/oauth20_desktop.srf",msaLogoutUrlPath:"/logout.srf",msaTwoFactorUrlPath:"/ppsecure"},l="Signup_SignIn_UserAction",d=!1,p=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i._webViewId=0,i._isWebViewVisible=!1,i._currentPage=a.None,i._refreshTokenFailed=!1,i._initialLoad=!0,i._hasReceivedToken=!1,i._topMarginAnimatedValue=new(t(290).Animated.Value)(0),i._topMarginAnimatedStyle=t(290).Styles.createAnimatedViewStyle({top:i._topMarginAnimatedValue}),i._focusWebView=function(){i._webViewRef&&(i._webViewRef.blur(),i._webViewRef.focus())},i._onWebError=function(e){i.isComponentMounted()&&i.setState({isLoading:!1,webViewError:e}),i.props.onWebViewError&&i.props.onWebViewError(e,i.props.msaAccountPayload)},i._onWebLoad=function(e){i._handleWebLoadEnd(e)},i._onWebLoadEndElectron=function(e){i._handleWebLoadEnd(e)},i._onWebLoadStart=function(e){var n=e.nativeEvent;if(!n||!n.url||-1===n.url.indexOf("#")){var o=t(770).default.getConfigSettingsNoSubscription().signUpLive.host;n&&n.url&&!1===i._initialLoad&&i._currentPage===a.SignInPage&&-1!==n.url.toLocaleLowerCase().indexOf(o)&&(t(251).log(t(669).LogTraceArea.SISU,"[MSAOAuth] User has switched to Sign Up from Sign In"),i._initialStartTime=Date.now(),i._currentPage=a.SignUpPage,i._initialLoad=!0,t(251).track(new(t(836).CreateAccountFlowStarted))),d&&i.isComponentMounted()&&i.setState({isLoading:!0})}},i._onWebMessage=function(e){var n=t(712).parseJsonErrorable(e);!t(267)(n)&&n.pageName&&t(269)(Number(n.pageName))&&t(271)([t(832).MsaTelemetryTypes.PageView,t(832).MsaTelemetryTypes.PageLoad,t(832).MsaTelemetryTypes.UserAction],n.category)&&(n.pageName===l&&(t(251).log(t(669).LogTraceArea.SISU,"[MSAOAuth] User has switched to Sign In from Sign Up"),t(251).track(new(t(836).LoginFlowStarted)),i._initialStartTime=Date.now(),i._currentPage=a.SignInPage,i._initialLoad=!0),t(251).track(new(t(836).MsaSignUpFunnelEvent)(n.pageName,Date.now()-i._initialStartTime,n.eventInfo?n.eventInfo.errorCode:void 0,i.props.isFirstTimeSignIn,i.props.isNeedHelpClicked)),t(251).log(t(669).LogTraceArea.SISU,"[MSAOAuth] Received page navigation event via bridge:",n.pageName))},i._onWebNavigationStateChange=function(e){if(!d&&e.loading!==i.state.isLoading&&i.isComponentMounted()&&i.setState({isLoading:e.loading}),!i._hasReceivedToken){var n=e.url?e.url:void 0;n?i._handleMsaNavigation(n,e.loading):t(251).log(t(669).LogTraceArea.SISU,"[MSAOAuth] onNavigationStateChange did not give a URL, not likely an issue")}},i._onNativeBackButtonPressed=function(){i._currentPage===a.SignUpPage&&t(251).track(new(t(836).CreateAccountFlowCanceled)(!i._initialLoad)),i.props.onNativeBackButtonPressed&&i.props.onNativeBackButtonPressed()},i._performAfterWebViewIsVisible=function(){return i._isWebViewVisible?t(53).Resolved():(i._waitForWebView||(i._waitForWebView=t(53).Defer()),i._waitForWebView.promise())},i._handleWebLoadEnd=function(e){d?i.isComponentMounted()&&i.setState({isLoading:!1}):i._scheduleHackyLoadingFinishIfNeeded(e)},i._onWebViewRef=function(e){i._webViewRef=e||void 0},i._onInvisibleTextInputRef=function(e){i._hiddenTextInputRef=e||void 0},i}return t(283).__extends(i,e),i.prototype._buildState=function(e,i){var n={};i&&(this._currentPage=e.useMsaCreateAccountFlow?a.SignUpPage:a.SignInPage,t(251).log(t(669).LogTraceArea.SISU,"[MSAOAuth] Web view building, will show:",a[this._currentPage]),this._initialStartTime=Date.now(),n.isLoading=!0,n.statusBarHeight=e.useStatusBarHeight?t(1540).default.statusBarHeight():0),n.keyboardUpdateInfo=t(2096).getUpdateInfo(),n.keyboardHeight=n.keyboardUpdateInfo?n.keyboardUpdateInfo.height:0;var o=((e.webViewHeight?e.webViewHeight:0)-(n.statusBarHeight?n.statusBarHeight:0))/6;return n.forceMobileView=t(770).default.getS4LSisuFeatures().forceMobileView,n.topMargin=n.forceMobileView&&0===n.keyboardHeight?o:0,e.isPreloadEnabled||(this._isWebViewVisible=!0),n},i.prototype.componentWillMount=function(){e.prototype.componentWillMount.call(this)},i.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),t(251).log(t(669).LogTraceArea.SISU,"[MSAPerf] load start time",(new Date).toString()),t(251).log(t(669).LogTraceArea.SISU,"[MSAPerf] UAID:",t(837).sisuUaid),this._isWebViewVisible&&this.state.isLoading&&t(2202).SiSuAccessibilityHelper.announceLoadingForAccessibility(),this._performWebViewAnimation()},i.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this)},i.prototype.componentWillUpdate=function(i,n,o){var r=this;e.prototype.componentWillUpdate.call(this,i,n,o),n.webViewError&&(this._currentPage=a.None),this._initialLoad&&!n.isLoading&&(this._initialLoad=!1,this._currentPage!==a.SignInPage&&this._currentPage!==a.SignUpPage||this._performAfterWebViewIsVisible().then(function(){var e=Date.now()-r._initialStartTime;t(251).log(t(669).LogTraceArea.SISU,"[MSAOAuth] Current page",a[r._currentPage],"has loaded, duration:",e),r._currentPage===a.SignInPage?(t(251).log(t(669).LogTraceArea.SISU,"[MSAPerf] load finish time",(new Date).toString()),t(251).track(new(t(836).MsaSignInFunnelEvent)("SignIn_Loaded_Calculated",e,void 0,r.props.isFirstTimeSignIn,r.props.isNeedHelpClicked))):r._currentPage===a.SignUpPage&&t(251).track(new(t(836).MsaSignUpFunnelEvent)("SignUp_Loaded_Calculated",e,void 0,r.props.isFirstTimeSignIn,r.props.isNeedHelpClicked))}))},i.prototype.componentDidUpdate=function(i,n,o){e.prototype.componentDidUpdate.call(this,i,n,o),this.props.isPreloadShowing&&this._webViewRef&&i.isPreloadShowing!==this.props.isPreloadShowing&&(this._isWebViewVisible=!0,t(834)(this._focusWebView),this._initialStartTime=Date.now(),this._waitForWebView&&(this._waitForWebView.resolve(void 0),this._waitForWebView=void 0)),this._isWebViewVisible&&n.isLoading!==this.state.isLoading&&(this.state.isLoading?t(2202).SiSuAccessibilityHelper.announceLoadingForAccessibility():this._webViewRef&&this._focusWebView()),this.state.keyboardHeight!==n.keyboardHeight&&this._performWebViewAnimation()},i.prototype.render=function(){var e=this._renderMsaWebView(),i=this.props.isPreloadEnabled&&!this.props.isPreloadShowing?t(290).Types.ImportantForAccessibility.NoHideDescendants:t(290).Types.ImportantForAccessibility.Auto;return t(290).createElement(t(2098).default,{style:r.container,importantForAccessibility:i},void 0,e)},i.prototype._renderMsaWebView=function(){var e=null;if(this.state.isLoading){t(251).log(t(669).LogTraceArea.SISU,"MSA WebView is still loading");var i=[r.loadingSpinner];this.state.statusBarHeight&&i.push(t(1542).paddingTopStyle(this.state.statusBarHeight)),e=t(290).createElement(t(2103),{style:i,showBlueLogo:!0})}var n,o={"x-ms-sso-Ignore-SSO":"1"};if(this.props.msaAccountPayload&&this.props.msaAccountPayload.refreshToken&&!this.state.userLoggedOut&&!this.props.prePopulatedUsername&&(o["x-ms-sso-RefreshToken"]=this.props.msaAccountPayload.refreshToken),t(770).default.dangerouslyGetS4LSisuFeatures().msaWebViewBackButtonEnabled){var a=t(290).Styles.createButtonStyle({position:"absolute",top:this.state.statusBarHeight+20,left:20},!1),s=t(797).getString("Global.BackButtonTitle");n=this.state.isLoading?void 0:t(290).createElement(t(1970).default,{style:[r.msaWebViewBackButton,a],icon:t(1954).backIcon(),size:t(1168).IconSize.size24,color:t(989).Color.white,hoverColor:t(989).Color.whiteOverlay70,onPress:this._onNativeBackButtonPressed,title:s,accessibilityLabel:s})}var l=[r.fillParent,r.noPadding];this.state.forceMobileView&&!this.state.isLoading&&(l=t(921)(l,[r.boxedView,this._topMarginAnimatedStyle]));var d=this.props.webViewHeight?this.props.webViewHeight-this.state.topMargin:500,p=t(290).Styles.createViewStyle({maxHeight:d},!1);l=t(921)(l,[p]);var c=[r.noPadding];return t(290).createElement(t(290).Animated.View,{style:l},t(290).createElement(t(2104).WebViewBridge,{key:"_msaWebView"+this._webViewId,session:t(667).getSessionId(),style:c,ref:this._onWebViewRef,url:this._getMsaUrl(),headers:o,injectedJavaScript:this._getJavaScriptToInject(),javaScriptEnabled:!0,onError:this._onWebError,onLoadStart:this._onWebLoadStart,onLoadEnd:this._onWebLoadEndElectron,onLoad:this._onWebLoad,onMessage:this._onWebMessage,onNavigationStateChange:this._onWebNavigationStateChange,ariaLabel:t(797).getString("WindowControls.AppTitle")}),e,n)},i.prototype._performWebViewAnimation=function(){var e=this;this.state.forceMobileView&&(this._topMarginAnimation&&(this._topMarginAnimation.stop(),this._topMarginAnimation=void 0),this._topMarginAnimation=t(1531).timing.easeOut({value:this._topMarginAnimatedValue,toValue:this.state.topMargin}),this._topMarginAnimation.start(function(t){t.finished&&(e._topMarginAnimation=void 0)}))},i.prototype._getJavaScriptToInject=function(){var e=(t(667).isElectronOsx()?"\n    const hiddenDivId = 'skype-sisu-accessibility-hidden';\n    if (document.getElementById(hiddenDivId) === null) {\n        const div = document.createElement(\"div\");\n        div.setAttribute('aria-live', 'assertive');\n        div.style.overflow = 'hidden';\n        div.style.width = '0';\n        div.style.height = '0';\n        div.setAttribute('id', hiddenDivId);\n        document.body.appendChild(div);\n\n        window.addEventListener('keyup', function(e) {\n            if (e && e.target) {\n                const element = e.target;\n                if (element.tagName && element.tagName.toLowerCase() === 'input') {\n                    const inputType = element.type ? element.type.toLowerCase() : undefined;\n                    if (inputType === 'text' || inputType === 'tel') {\n                        const index = element.selectionStart;\n                        let value = '';\n                        const len = element.value ? element.value.length : 0;\n                        if (len > index) {\n                            const pos = index - 1 >= 0 ? index - 1 : index;\n                            value = escape(element.value[pos]);\n                        } else if (len > 0) {\n                            value = escape(element.value[len - 1]);\n                        }\n                        if (value && value.length === 1) {\n                            div.innerHTML = value;\n                        }\n                    } else if (inputType === 'email') {\n                        const key = e.key ? escape(e.key) : undefined;\n                        if (key && key.length === 1) {\n                            div.innerHTML = key;\n                        }\n                    }\n                }\n            }\n        });\n    }\n":"")+'\n    if (window) { window.external = {}; }\n    \n    if (typeof WizardExternalHelper !== \'undefined\') { var ExternalHelper = new WizardExternalHelper(false, false, false, false); }\n    (function(window) {\n        window.external.ReportTelemetry = function(data) {\n            if (WebViewBridge) {\n                WebViewBridge.send(data);\n            }\n        };\n    })(this);\n\n    const signInButton = document.getElementById(\'idSIButton9\');\n    if (signInButton) {\n        signInButton.addEventListener(\'click\', function() {\n            if (WebViewBridge) {\n                WebViewBridge.send(\'{"pageName":"SignIn_NextButton_Pressed", "category":"UserAction"}\');\n            }\n        });\n    }\n\n    const signUpButton = document.getElementById(\'iSignupAction\');\n    if (signUpButton) {\n        signUpButton.addEventListener(\'click\', function() {\n            if (WebViewBridge) {\n                WebViewBridge.send(\'{"pageName":"SignUp_NextButton_Pressed", "category":"UserAction"}\');\n            }\n        });\n    }\n';return t(163)(e)?void 0:e},i.prototype._getMsaWebViewTokenPath=function(){return this.props.msaAccountPayload?this.state.userLoggedOut?o.RefreshTokenSwitched:this._refreshTokenFailed?o.RefreshTokenInterrupted:o.RefreshTokenDirect:this._currentPage===a.SignUpPage?o.SignUp:this._currentPage===a.SignInPage?o.SignIn:(t(251).error(t(669).LogTraceArea.SISU,"[MSAOAuth] Received a token but could not determine entry type"),o.Unknown)},i.prototype._getMsaUrl=function(){return this.props.useMsaCreateAccountFlow?t(837).getSignUpURI(this.props.prePopulatedUsername):t(837).getSignInURI(this.props.prePopulatedUsername)},i.prototype._handleMsaNavigation=function(e,i){var n=e.toLocaleLowerCase();if(-1!==n.indexOf(s.msaFinalUrlPath)){var o=t(791).default.getUrlParamsInFragment(e)||{};if(o.access_token){t(251).log(t(669).LogTraceArea.SISU,"[MSAOAuth] oauth20_desktop.srf tokens received"),this._hasReceivedToken=!0,this.props.msaAccountPayload&&!this._refreshTokenFailed&&this.props.onMsaRefreshTokenAutoRefreshed&&this.props.onMsaRefreshTokenAutoRefreshed(this.props.msaAccountPayload);var a=this._getMsaWebViewTokenPath(),r=Date.now()-this._initialStartTime;this.props.onMsaFlowCompleted(o.access_token,o.refresh_token,a,r,this.props.msaAccountPayload)}else if(o.error){t(251).log(t(669).LogTraceArea.SISU,"[MSAOAuth] oauth20_desktop.srf errored out");var l=t(791).default.getUrlParamsInFragment(e)||{};if(this.props.onMsaOAuthError){var d={errorName:l.error||"",errorDescription:l.error_description||""};this.props.isPreloadEnabled&&(this._webViewId++,this._isWebViewVisible=!1,this._initialLoad=!0),this.props.onMsaOAuthError(d,this.props.msaAccountPayload)}}else t(251).error(t(669).LogTraceArea.SISU,"[MSAOAuth] Landed on oauth20_desktop.srf but did not get a token or error?!")}else-1!==n.indexOf(s.msaLogoutUrlPath)?(this._refreshTokenFailed=!0,this.props.msaAccountPayload&&(this.props.onMsaRefreshTokenUserSwitched&&this.props.onMsaRefreshTokenUserSwitched(this.props.msaAccountPayload),this._webViewId++),this.isComponentMounted()&&this.setState({userLoggedOut:!0})):-1!==n.indexOf(s.msaInteractiveAuthorizeUrlPath)&&(!this.props.msaAccountPayload||this._hasReceivedToken||this._refreshTokenFailed||i||(this._refreshTokenFailed=!0,this.props.onMsaRefreshTokenInterrupted&&this.props.onMsaRefreshTokenInterrupted(this.props.msaAccountPayload)));t(229)(s,function(e){return-1!==n.indexOf(e)})||t(251).warn(t(669).LogTraceArea.SISU,"[MSAOAuth] Landed on an unexpected URL:",t(255).pii.Omit(e))},i.prototype._scheduleHackyLoadingFinishIfNeeded=function(e){var i=this,n=e.nativeEvent.loading;if(t(14).clearTimeout(this._clearLoadingSpinnerTimer),n){this._clearLoadingSpinnerTimer=t(14).setTimeout(function(){i.isComponentMounted()&&i.state.isLoading&&i.setState({isLoading:!1})},2e3)}},i}(t(63).ComponentBase);n.default=p},2201);
actionInputType
actionInputType
?OnTeachableAction@TeachingHelpers@Support@Mail@Hx@Xaml@UI@Office@@YAXW4TeachingTriggerType@HxOutlook@@W4ActionInputType@9@PEBUIAccount@9@PEBUIUnifiedMailbox@9@@Z
InputType
actionInputType
get_inputType
inputType
&<buttonName>j__TPar$<inputType>j__TPar"<commands>j__TPar"get_buttonPressed
4TimelineScrollBarInputType
InputType
InputType
?OnTeachableAction@TeachingHelpers@Support@Mail@Hx@Xaml@UI@Office@@YAXW4TeachingTriggerType@HxOutlook@@W4ActionInputType@9@PEBUIAccount@9@PEBUIUnifiedMailbox@9@@Z
actionInputType
	InputType
	InputType
actionInputType
?InputTypeFromRightTappedRoutedEventArgs@Core@Xaml@UI@Office@@YA?AW4InputType@VirtualList@@PE$AAVRightTappedRoutedEventArgs@Input@23Windows@@@Z
InputType
m_spDecoder->SetOutputType() failed
m_spDecoder->SetInputType() failed
m_spEncoder->spDecoder->SetOutputType() failed
pEncoder->SetOutputType() failed
pEncoder->SetInputType() failed
pEncoder->SetOutputType() failed
pEncoder->SetInputType() failed
pEncoder->SetOutputType() failed
pEncoder->SetInputType() failed
m_spResampler->SetOutputType() failed
m_spResampler->SetInputType() failed
m_spResampler->SetOutputType() failed
m_spResampler->SetInputType() failed
MS::Entertainment::Music::Effects::Equalizer::SetInputType : OnCheckInputType(pType)
MS::Entertainment::Music::Effects::Equalizer::SetInputType : OnSetMediaType(pType, true)
MS::Entertainment::Music::Effects::Equalizer::SetOutputType : OnCheckOutputType(pType)
MS::Entertainment::Music::Effects::Equalizer::SetOutputType : OnSetMediaType(pType, false)
InputType
OutputType
OutputType
InputType
InputType
InputType
    [OutputType([System.Collections.Hashtable])]
    [OutputType([bool])]
    [OutputType([System.Collections.Hashtable])]
    [OutputType([bool])]
OutputTypeAttribute
    [OutputType([System.Collections.IDictionary])]
    [OutputType([System.Collections.IDictionary])]
        Write-Screen Describing $Name -OutputType Header
        Write-Screen ${margin}Context $Name -OutputType Header
                "$margin[+] $output $humanTime" | Write-Screen -OutputType Passed
                "$margin[-] $output $humanTime" | Write-Screen -OutputType Failed
                    Write-Screen -OutputType Failed $($marker -replace '(?m)^',$error_margin)
                    & $SafeCommands['ForEach-Object'] { Write-Screen -OutputType Failed $($_ -replace '(?m)^',$error_margin) }
                "$margin[!] $output $humanTime" | Write-Screen -OutputType Skipped
                "$margin[?] $output $humanTime" | Write-Screen -OutputType Pending
                "$margin[?] $output $humanTime" | Write-Screen -OutputType Inconclusive
                    Write-Screen -OutputType Inconclusive $($TestResult.failureMessage -replace '(?m)^',$error_margin)
                Write-Screen -OutputType Inconclusive $($TestResult.stackTrace -replace '(?m)^',$error_margin)
        [String] $OutputType = "Standard"
        if ($PSBoundParameters.ContainsKey('OutputType')) { $PSBoundParameters.Remove('OutputType') | & $SafeCommands['Out-Null'] }
        if ($OutputType -ne "Standard")
            $PSBoundParameters.ForegroundColor = $ColorSet.$OutputType
        Write-Screen Describing $Name -OutputType Header
        Write-Screen ${margin}Context $Name -OutputType Header
                "$margin[+] $output $humanTime" | Write-Screen -OutputType Passed
                "$margin[-] $output $humanTime" | Write-Screen -OutputType Failed
                    Write-Screen -OutputType Failed $($marker -replace '(?m)^',$error_margin)
                    & $SafeCommands['ForEach-Object'] { Write-Screen -OutputType Failed $($_ -replace '(?m)^',$error_margin) }
                "$margin[!] $output $humanTime" | Write-Screen -OutputType Skipped
                "$margin[?] $output $humanTime" | Write-Screen -OutputType Pending
                "$margin[?] $output $humanTime" | Write-Screen -OutputType Inconclusive
                    Write-Screen -OutputType Inconclusive $($TestResult.failureMessage -replace '(?m)^',$error_margin)
                Write-Screen -OutputType Inconclusive $($TestResult.stackTrace -replace '(?m)^',$error_margin)
        [String] $OutputType = "Standard"
        if ($PSBoundParameters.ContainsKey('OutputType')) { $PSBoundParameters.Remove('OutputType') | & $SafeCommands['Out-Null'] }
        if ($OutputType -ne "Standard")
            $PSBoundParameters.ForegroundColor = $ColorSet.$OutputType
OutputTypeAttribute
    [outputtype("PSCustomObject[]")]
    [outputtype('PSCustomObject[]')]
    [outputtype('PSCustomObject[]')]
    [outputtype('PSCustomObject[]')]
    [outputtype("PSCustomObject[]")]
    [OutputType("string")]
    [OutputType("string")]
    [OutputType([bool])]
    [OutputType([String])]
    [OutputType("PSModuleInfo")]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([string])]
    [OutputType([bool])]
    [OutputType([bool])]
    [outputtype("PSCustomObject[]")]
    [outputtype('PSCustomObject[]')]
    [outputtype('PSCustomObject[]')]
    [outputtype('PSCustomObject[]')]
    [outputtype("PSCustomObject[]")]
    [OutputType("string")]
    [OutputType("string")]
    [OutputType([bool])]
    [OutputType([String])]
    [OutputType("PSModuleInfo")]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([string])]
    [OutputType([bool])]
    [OutputType([bool])]
ToastInputType
.metrics.OmniboxInputType
OmniboxInputType
OmniboxInputTypeProtosH
OrtSessionGetInputTypeInfo
OrtSessionGetOutputTypeInfo
InitInputType
inputType
      "name": "InputType",
      "name": "OutputType",
AAA_SystemSettings_Accessibility_Braille_Table_OutputType
AAA_SystemSettings_Accessibility_Braille_Table_InputType
QFPERFPING_INVALID_MEASURE,ClientShownEvent:r.getOffsettedNow(r._clientShownTimestamp),RequestBegin:r.getOffsettedNow(s),ResponseReceived:{},MultipleResponsesReceived:{},DataSourcesState:r._searchServiceStatus?{Indexer:r._searchServiceStatus}:undefined,RenderFinished:{},renderGroupFinished:{},AllRenderFinished:0,AllDataSourcesProcessed:!1,PendingIcons:0,PreviewPanePendingInfo:undefined,TopResultRendered:[],ResponseFromCache:{},DataSourcesFetchBegin:0,DataSourcesFetchEnd:0,ResponseParsed:{},PreviewPaneOpened:{},PreviewPaneCanceled:{},PageLoadTime:0,SearchHomeLoadTime:0,FirstRenderTime:0,MultipleResponsesParsed:{},ConversationStart:n.config.perfInstV2?r._conversationStartTimestamp:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,SequenceStart:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,DataProviderFetchStart:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,DataProviderFetchFinish:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,DataProvidersFinished:{},RendersCompleted:{},PreviewPaneStart:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,PreviewPaneFinish:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE};r._keystrokesInstrumentationData[t]=c;r._keystrokesPerfPingData[t]=h;r._currentRender=0;n.config.perfInstV2&&r._keyDownTimeStamp!=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE&&(r.safeInstrumentPerf(t,function(n){n.SequenceStart=r._keyDownTimeStamp-r._conversationStartTimestamp},"instrumentKeyDown",null),r._keyDownTimeStamp=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE);r._clientTelemetry&&r._clientTelemetry.logNewKeystrokeMeasure(f,u,i);r.updatePageIG(t);r.fireKeystrokeTimelineUpdatedHandlers(h)},r.setSearchServiceStatus=function(n){r._searchServiceStatus=n},r.instrumentResponseReceived=function(t,i,u,f,e,o){r.safeInstrumentPerf(t,function(t){if(!e){var o=r.getOffsettedNow();typeof t.ResponseReceived[i]!="number"?(t.ResponseReceived[i]=o,n.config.useWhereId&&i=="IFF"):(t.MultipleResponsesReceived[i]||(t.MultipleResponsesReceived[i]=[t.ResponseReceived[i]]),t.MultipleResponsesReceived[i].push(o))}u&&(t.DataSourcesState=t.DataSourcesState||{},t.DataSourcesState[i]=u);f&&(t.ResponseFromCache[i]=f)},"instrumentResponseReceived",i);n.config.perfInstV2&&r.safeInstrumentPerf(t,function(n){o||(n.DataProvidersFinished[i]=r.getOffsettedNow(),n.DataProviderFetchFinish<n.DataProvidersFinished[i]&&(n.DataProviderFetchFinish=n.DataProvidersFinished[i]));u&&(n.DataSourcesState=n.DataSourcesState||{},n.DataSourcesState[i]=u);f&&(n.ResponseFromCache[i]=f)},"instrumentResponseReceived",i)},r.instrumentTopResultRendered=function(t,i,u){r.safeInstrumentPerf(t,function(f){var e=r.getOffsettedNow(),o="T"+i.join(","),s;f.renderGroupFinished[o]?u||(f.renderGroupFinished[o].iconsFinished=e):(f.TopResultRendered.push({V:e,T:i.join(",")}),r._clientTelemetry&&(s=e-f.RequestBegin,r._clientTelemetry.logTopResultsRenderedMeasure(f.RawImpressionGuid,i,s)),f.renderGroupFinished[o]={iconsFinished:e,suggestionsFinished:e});r.tryInstrumentRenderStopped(t,f);n.MockUrlParameters&&n.safeFireEvent("TopResultRendered")},"instrumentTopResultRendered")},r.instrumentRenderedLocalSuggestion=function(n,t){var u=r._keystrokesInstrumentationData[n],f,e,i;if(u){for(f={},e={},i=0;i<t.length;i++)t[i].type=="FV"?f[i]="TBD":t[i].type=="HU"&&(e[i]="TBD");u.FvSug=f;u.HuSug=e}},r.instrumentAggregatorCall=function(t,i){r.safeInstrument(t,function(t){var e={fastRankModelId:r._instrumentationProvider.getRankerModelId()},f,u;for(f in t.RankerExtraInfo)e[f]=t.RankerExtraInfo[f];t.RankerExtraInfo={};u={T:"D.Aggregator",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Aggregator",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:[],rankerModelIds:e};n.config.counterFactualLoggingOn&&(u.counterFactualDiff=u.counterFactualDiff||i);t.DataSources.aggregator=u},"instrumentAggregatorCall")},r.addDuplicatesDataSource=function(t){var i=Object.keys(t.DuplicateDS).map(function(n){return t.DuplicateDS[n]});i.length>0&&(t.DataSources.duplicates={T:"D.Duplicates",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Duplicates",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:i})},r.instrumentDuplicate=function(t,i,u){r.safeInstrument(t,function(t){var r=t.DuplicateDS[i.instItem.getHValue()],f;r||(r={T:"D.Duplicate",DS:[{T:"D.DSRef",KRef:i.instItem.getKValue()}]},i.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(r.DS[0].AppNS=i.instItem.getAppNS()),t.DuplicateDS[i.instItem.getHValue()]=r);f={T:"D.DSRef",KRef:u.instItem.getKValue()};u.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(f.AppNS=u.instItem.getAppNS());r.DS.push(f)},"instrumentDuplicate")},r.renderingStopped=function(n){return n.PendingIcons==0&&n.AllDataSourcesProcessed&&n.PreviewPanePendingInfo==null},r.notifyAllDataSourcesProcessed=function(n){r.safeInstrumentPerf(n,function(t){t.AllDataSourcesProcessed=!0;r.tryInstrumentRenderStopped(n,t)},"notifyAllDataSourcesProcessed")},r.notifyIconPending=function(n,t){r.safeInstrumentPerf(n,function(n){n.PendingIcons++},"notifyIconPending",t?"TR":"SUG")},r.notifyIconReadyOrFailed=function(n,t){r.safeInstrumentPerf(n,function(n){n.PendingIcons--},"notifyIconReadyOrFailed",t?"TR":"SUG")},r.notifyPreviewPaneStartRender=function(t){n.config.perfInstV2&&r.safeInstrumentPerf(t,function(n){n.PreviewPaneStart=r.getOffsettedNow()},"previewPaneStart")},r.notifyPreviewPanePending=function(n,t,i){var u=r._keystrokesPerfPingData[n];u&&(u.PreviewPanePendingInfo={previewPaneType:t,suggestionType:i})},r.tryInstrumentRenderStopped=function(t,i){r.renderingStopped(i)&&(r.finalizeKeystrokeLog(t,2),n.TestHookUrlParameters&&n.safeFireEvent("RenderStopped"))},r.isLayoutLogged=function(n){return r._keystrokesInstrumentationData[n].MasterPageImpressionCreated},r.finalizeKeystrokeLog=function(t,i){var f,u;(i===void 0&&(i=0),n.config.perfPingAtEndOnly&&i==2)||(r._finalizeKeystrokeHandlers.forEach(function(n){return n(i==0)}),f=r._keystrokesInstrumentationData[t],f&&r.logKeystrokeData(f,t),i!=1&&(u=r._keystrokesPerfPingData[t],u&&(r.logPerfPingEvent(r.createKeystrokePerfPingEvent(t,u)),r._clientTelemetry&&r._clientTelemetry.logDataSourcePerformancesMeasure(u),r.fireKeystrokeTimelineUpdatedHandlers(u))))},r.instrumentZiRendered=function(t){r._instrumentationProvider.logProfilerMarker(1,0,"ZiRendered",r.getImpressionGuid(t),{});n!==undefined&&n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("RenderZeroInput");r.safeInstrumentPerf(t,function(n){n.SearchHomeRenderEvent=r.getOffsettedNow()},"instrumentSearchHomeRender",null)},r.instrumentRenderFinished=function(t,i,u,f,e,o){var h,s;o||r._keystrokesPerfPingData[t].FirstRenderTime||(r._keystrokesPerfPingData[t].FirstRenderTime=r.getOffsettedNow());n.config.perfInstV2&&(r._keystrokesPerfPingData[t].RendersCompleted[r._currentRender++]=r.getOffsettedNow());!r._firstRenderOccurred&&e&&(r._firstRenderOccurred=!0,h={CVID:n.Host.getConversationId()},r._instrumentationProvider.logProfilerMarker(1,0,"FirstRender",r.getImpressionGuid(t),h));r.safeInstrumentPerf(t,function(n){var e=r.getOffsettedNow(),o="S"+i.join(",");n.renderGroupFinished[o]?f||(n.renderGroupFinished[o].iconsFinished=e):(i.forEach(function(t){return n.RenderFinished[t]=e}),n.renderGroupFinished[o]={iconsFinished:e,suggestionsFinished:e});r.tryInstrumentRenderStopped(t,n);r._clientTelemetry&&r._clientTelemetry.logGroupsRenderedMeasure(u)},"instrumentRenderFinished",i.join(","));s=r._keystrokesPerfPingData[t];s&&r.fireKeystrokeTimelineUpdatedHandlers(s)},r.instrumentSyntheticInstrumentedItem=function(n,t,i){var u=r._keystrokesInstrumentationData[n];u?u.PendingInstrumentedItems[t]=i:SharedLogHelper.LogError("instrumentSyntheticInstrumentedItem",t,new Error("keystrokesInstrumentationData not found"))},r.instrumentSyntheticSuggestion=function(n,t){var i=r._keystrokesInstrumentationData[n];i?i.PendingSyntheticSuggestions[t.type]=t:SharedLogHelper.LogError("instrumentSyntheticSuggestion",t.type,new Error("Instrumentation synthetic suggestion after flush"))},r.getInstrumentedSyntheticSuggestion=function(n,t){return r._keystrokesInstrumentationData[n].PendingSyntheticSuggestions[t]},r.instrumentDataSource=function(n,t,i,u){r.safeInstrument(n,function(n){var r,f,e;if(u&&u.rankerExtraInfo)for(r in u.rankerExtraInfo)n.RankerExtraInfo[r]=u.rankerExtraInfo[r];f=i||[];e=n.PendingDataSources[t];n.PendingDataSources[t]=e?e.concat(f):f},"instrumentDataSource",t)},r.processPendingDataSources=function(t){var i,s,u,f,h,e,o,c,l;for(i in t.PendingDataSources)if(s=t.PendingDataSources[i],s.length>0){for(u=[],f=0,h=s;f<h.length;f++)for(e=h[f],u.push(r._instrumentationProvider.createDataSourceObject(e)),o=0,c=e.subInstItems||[];o<c.length;o++)l=c[o],u.push(r._instrumentationProvider.createDataSourceObject(e,l));i=="Web"&&(i="WebAS");u.length>0&&(t.DataSources[i]={T:"D."+i,AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:i,SC:u.length,DS:u})}t.PendingDataSources={}},r.instrumentSnRProviderFetchUrl=function(n,t){r.safeInstrument(n,function(n){n.SnRProviderFetchUrl=t},"instrumentSnRProviderFetchUrl")},r.onConversationStart=function(){if(r._conversationStartTimestamp=n.getCurrentTime(),r._searchServiceStatus=null,r._firstRenderOccurred=!1,r._clientTelemetry){var t=n.Host.getConversationId();r._clientTelemetry.logConversationStartMeasure(t,r._conversationStartTimestamp)}r._keystrokesPerfPingData=[];r._currentRender=0},r.getConversationStartTimestamp=function(){return r._conversationStartTimestamp},r.logDataSourceTimeout=function(n,t){r._instrumentationProvider.logDataSourceTimeout(n,t)},r.getPpoFromPpi=function(n){return typeof n.latency=="number"?{L:n.latency,T:n.previewPaneType}:{}},r.createKeystrokePerfPingEvent=function(t,i){var u={I:t,PL:i.PrefixLength,K:i.RequestBegin,F:i.DataSourcesFetchEnd,PPO:r.getPpoFromPpi(i.PreviewPaneOpened),PPC:r.getPpoFromPpi(i.PreviewPaneCanceled),RRT:i.ResponseReceived,RPT:i.ResponseParsed,MRT:i.MultipleResponsesReceived,RFT:i.RenderFinished,TRR:i.TopResultRendered,RS:undefined,PLT:undefined,HLT:undefined,FRT:undefined,IRFT:{},TRIR:[],MPT:i.MultipleResponsesParsed,CS:n.config.perfInstV2?i.ConversationStart:undefined,KS:n.config.perfInstV2?i.SequenceStart:undefined,RB:n.config.perfInstV2?i.RequestBegin:undefined,FS:n.config.perfInstV2?i.DataProviderFetchStart:undefined,FF:n.config.perfInstV2?i.DataProviderFetchFinish:undefined,PFT:n.config.perfInstV2?i.DataProvidersFinished:undefined,RC:n.config.perfInstV2?i.RendersCompleted:undefined,PS:n.config.perfInstV2?i.PreviewPaneStart:undefined,PF:n.config.perfInstV2?i.PreviewPaneFinish:undefined},o,h,v,s,c,l,f,e,a;for(e in i.renderGroupFinished)if(o=i.renderGroupFinished[e],o.iconsFinished!=o.suggestionsFinished)if(h=e.substr(1),e.startsWith("T"))u.TRIR.push({T:h,V:o.iconsFinished});else for(v=h.split(","),s=0,c=v;s<c.length;s++)l=c[s],u.IRFT[l]=Math.max(o.iconsFinished,u.IRFT[l]||0);if(r.renderingStopped(i)){f=0;for(e in i.renderGroupFinished)f=Math.max(f,i.renderGroupFinished[e].iconsFinished);i.FirstRenderTime&&(u.FRT=i.FirstRenderTime);f&&(i.AllRenderFinished=f,u.RS=f,f=Math.max(f,i.PreviewPaneOpened.latency||i.PreviewPaneCanceled.latency||0),i.PageLoadTime=f,u.PLT=f);i.SearchHomeRenderEvent!=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE&&(u.HLT=Math.max(u.PLT-u.K,i.SearchHomeRenderEvent))}else a=r.getOffsettedNow(),u.RS=a,u.PLT=a;return n.InstrumentationCommon.createPerfPingEvent(i.ImpressionGuid,[u],"Keystroke",i.ConversationId,i.DataSourcesState,i.ResponseFromCache)},r.updatePageIG=function(n){_G.IG=r.getImpressionGuid(n)},r.createMasterPageImpression=function(t,u,f,e,o){var c={dataSources:o||[],layoutNodes:[],pageName:t,rawQuery:e?e.queryToFetch:"",isQuery:!1,impressionUrl:r.createVirtualImpressionURL(u,f),appName:r._instrumentationProvider.getApplicationName(),enrichedClientInfo:{FDPartnerEntry:i,nclid:_G.nclid,isOffline:n.isBrowserOnline()?0:1,webRequested:f?1:0}},s=n.safeExecute(function(){return r._instrumentationProvider.getEnrichedClientInfo(e)},"getEnrichedClientInfo"),h;if(s)for(h in s)c.enrichedClientInfo[h]=s[h];return c},r.logKeystrokeData=function(i){var f,e,u;(r.processPendingDataSources(i),n.TestHookUrlParameters&&r.addDuplicatesDataSource(i),f=Object.keys(i.DataSources).map(function(n){return i.DataSources[n]}).concat(r.createNonSuggestionsDataSource(i.PendingInstrumentedItems,i.PendingSyntheticSuggestions)),i.DataSources={},i.PendingSyntheticSuggestions={},i.PendingInstrumentedItems={},f.length==0&&i.MasterPageImpressionCreated)||(i.RenderingStarted&&(e=DsLManager.CreateLayoutNode(_d.body,n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,!1,!0,i.MasterPageImpressionCreated)),i.MasterPageImpressionCreated?Log2.LogEvent("ClientInst",null,null,f,e,i.ImpressionGuid,null,null):(u=r.createMasterPageImpression(r._instrumentationProvider.getSuggestionsPageName(),t,i.SnRProviderFetchUrl?i.SnRProviderFetchUrl.substring(i.SnRProviderFetchUrl.indexOf("?")+1):"",i.Query,f),e&&(u.layoutNodes=e),i.FvSug&&Object.keys(i.FvSug).length>0&&(u.enrichedClientInfo.FvSug=i.FvSug),i.HuSug&&Object.keys(i.HuSug).length>0&&(u.enrichedClientInfo.HuSug=i.HuSug),u.clientTimestamp=i.OriginalTimestamp,r.logMasterPageImpression(i.ImpressionGuid,u),i.MasterPageImpressionCreated=!0))},r.logPerfPingEvent=function(t){Log2.LogEvent(t.EventType,t.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,t.ImpressionGuid,null,null);n.ClientTestHooks&&n.ClientTestHooks.DebugLogNoConsole("perfPingEvent",[t])},r.logMasterPageImpression=function(t,i){if(i){if(!t){SharedLogHelper.LogError("logMasterPageImpression",null,new Error("Missing impressionGuid"));return}i.impressionGuid=t;r._instrumentationProvider.logMasterPageImpression(i,n.Host.getConversationId());n.ClientTestHooks&&n.ClientTestHooks.DebugLogNoConsole("masterPageImpression",i,t)}},r.instrumentAppVisibleFinish=function(t){var i=n.getCurrentTime();r._conversationTimeline.AppVisibleStart=t;r._conversationTimeline.AppVisibleFinish=i},r.instrumentAppShownFinish=function(t){var i=n.getCurrentTime();r._conversationTimeline.AppShownStart=t;r._conversationTimeline.AppShownFinish=i},r.instrumentConversationTimelineFinish=function(){var t=_G.ServerIG,i,u;if(!t){SharedLogHelper.LogError("instrumentConversationTimelineFinish","Could not instrument as server IG not known",new Error("Could not instrument initilization finish"));return}r._conversationTimeline.RawImpressionGuid=n.Host.getRawImpressionGuid();r._conversationTimeline.ImpressionGuid=n.cleanGuid(r._conversationTimeline.RawImpressionGuid);r._conversationTimeline.ConversationId=n.Host.getConversationId();i={CID:r._conversationTimeline.ConversationId,ASB:r._conversationTimeline.AppShownStart,ASF:r._conversationTimeline.AppShownFinish,AVB:r._conversationTimeline.AppVisibleStart,AVF:r._conversationTimeline.AppVisibleFinish};u=n.InstrumentationCommon.createPerfPingEvent(t,[i],"ConversationTimeline",r._conversationTimeline.ConversationId);r.logPerfPingEvent(u)},r.instrumentInitializationFinish=function(t){var f=_G.ServerIG,i,u;if(!f){SharedLogHelper.LogError("instrumentInitializationFinish","Could not instrument as server IG not known",new Error("Could not instrument initilization finish"));return}if(i=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,u=_w.performance,u&&u.timing&&(i=u.timing.navigationStart),!(i<=0)){var e=t.getTime()-i,o=n.getCurrentTime()-i,s=[{BLT:e,ILT:o}],h=n.InstrumentationCommon.createPerfPingEvent(f,s,"Load");r.logPerfPingEvent(h)}},r.getOffsettedNow=function(t){return t===void 0&&(t=n.getCurrentTime()),t-r._conversationStartTimestamp},r.createNonSuggestionsDataSource=function(t,i){var u=[],f,e;for(f in t)u.push(r._instrumentationProvider.createNonSuggestionDataSourceObject(f,t[f]));for(f in i)u.push(r._instrumentationProvider.createDataSourceObject(i[f]));return u.length?(e={T:"D.ContentGroup",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"NonSuggestions",SC:u.length,DS:u},[e]):[]},r.createVirtualImpressionURL=function(t,i){var r=n.getWindowProtocol()+"//"+n.getWindowHost()+t;return r+=i?i:n.Service.QueryParams.ConversationId+"="+n.encodeQueryParameter(n.Host.getConversationId()),_G.ServerIG&&(r+="&ASInitIG="+n.encodeQueryParameter(_G.ServerIG)),r},r._clientShownTimestamp=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,r._conversationStartTimestamp=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,r._firstRenderOccurred=!1,r._currentRender=0,r._keyDownTimeStamp=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,r._keystrokesPerfPingData={},r._keystrokesInstrumentationData={},r._keystrokeTimelineUpdatedHandlers=[],r._finalizeKeystrokeHandlers=[],r}();n.InstrumentationHelper=r}(WSB||(WSB={})),function(n){var t="&nclid=",i="&ts=",r="&nclidts=",u="&tsms=",f="&elv=",e="&cc=",o="&setlang=",s="&cvid=",h="&qs=",c="&ao=",l="&wsso=",a=function(){function a(t,i){if(t===void 0&&(t=Date.now),i===void 0&&(i=n.getWindowProtocol()+"//"+n.getWindowHost()),this.getNowTimestamp=t,this._baseUrl=i,n.config.overrideHost){var r=n.getWindowHost();r.startsWith("www.")&&(this._baseUrl=n.getWindowProtocol()+"//"+n.config.overrideHost+r.substring(3))}}return a.prototype.getSearchUrl=function(t,i,r,u,e,o,s,h,a){var b=this.getVerticalFromHandoffType(e),v,y,p,w;return u||(u=(b?"/"+b:"")+"/search?q="+n.encodeQueryParameter(i)),v=this._baseUrl+u,v+=(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.isWindowsTest)?"&form=MONITR&traffictype=wintest":"&form="+n.encodeQueryParameter(o||n.Host.getFormCode()),a&&(v+=c+"1"),v=this.enrichUrlWithSuggestionType(v,h?"P":r),v=this.enrichUrlWithCvid(v),n.config.suppressPqParameter||(v+="&pq="+n.encodeQueryParameter(t)),y=n.Host.getMSNRefIg(),y&&(v+="&refig="+y),v=this.enrichUrlWithMarketInfo(v),v=this.enrichUrlWithDeviceInfo(v),s||(v=this.enrichUrlWithMuidInfo(v),p=n.Host.getElToken(),p&&this._baseUrl.startsWith("https:")&&(v+=f+n.encodeQueryParameter(p)),v=this.enrichUrlWithSafeSearchInfo(v)),w=n.Host.getSafeSearchSetting(),w&&(v+=l+w),v},a.prototype.getImageSearchUrl=function(){var t=this._baseUrl+"/images/detail/upload?FORM=SBIWSB";return(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.isWindowsTest)&&(t+="&isWindowsTest=1&traffictype=Test"),t},a.prototype.getVerticalFromHandoffType=function(n){return n===13?"images":n===14?"videos":n===15?"shop":""},a.prototype.enrichUrlWithDeviceInfo=function(t){n.Host.isEducationEnvironment()&&(t+="&DAF0=1");n.Host.isWindowsS()&&(t+="&DAF1=1");var i=n.Host.getPartnerSearchCode();return i&&(t+="&PC="+i),t},a.prototype.enrichUrlWithMarketInfo=function(t){var i=n.Host.getRegion(),r=n.Host.getLanguage();return i&&(t+=e+i),r&&(t+=o+r),t},a.prototype.enrichUrlWithSafeSearchInfo=function(t){return n.Host.getSafeSearchSetting()=="Strict"?t+"&adlt=strict":t},a.prototype.enrichUrlWithMuidInfo=function(f){var e,o,s;return _G.nclid&&(f+=t+n.encodeQueryParameter(_G.nclid),e=this.getNowTimestamp().toString(),f+=i+n.encodeQueryParameter(e),o=e.substring(0,e.length-3),f+=r+n.encodeQueryParameter(o),s=e.substring(e.length-3),f+=u+n.encodeQueryParameter(s)),f},a.prototype.enrichUrlWithCvid=function(t){return t+(s+n.encodeQueryParameter(n.Host.getConversationId()))},a.prototype.enrichUrlWithSuggestionType=function(t,i){return t+(h+n.encodeQueryParameter(i))},a}();n.NavigationHelper=a}(WSB||(WSB={})),function(n){var t=function(){function t(t){var i=this;this._selectableItemsContainer=t;n.Host.bindKeyDown(function(r,u,f){var e=!1;r==9?e=i.selectFirstItemInNextGroup(u&&u.shiftKey):n.isUpOrDownKey(r)&&(e=i.selectNextItem(n.isUpKey(r)));t.onAfterKeyDown(r,u,f,e)})}return t.prototype.selectFirstItemInNextGroup=function(t){var i=this._selectableItemsContainer.getSelectableItemsByGroup(),u;if(i.length==0)return!1;var f=this._selectableItemsContainer.getSelectedItem(),r=i.findIndex(function(t){return n.contains(t,f)}),e=r<0?-1:i[r].findIndex(function(n){return n==f});return(f&&f.onUnselected&&f.onUnselected(),r<0?u=i[0][0]:t&&e>0?u=i[r][0]:t?r>0&&(u=i[r-1][0]):r+1<i.length&&(u=i[r+1][0]),u)?(this._selectableItemsContainer.select(u,!0),u.onSelected&&u.onSelected(),!0):!1},t.prototype.selectNextItem=function(t){var i=this._selectableItemsContainer.getSelectableItems(),r,u,e,f;return i.length==0?!1:(r=this._selectableItemsContainer.getSelectedItem(),u=r?i.indexOf(r):-1,r&&r.onUnselected&&r.onUnselected(),e=t?u==0:u==i.length-1,e&&n.RuntimeConfig.AllowKeyboardNavOffCanvas)?(this._selectableItemsContainer.select(null,!0),!0):e&&!n.RuntimeConfig.AllowKeyboardNavCycling?!1:(f=t?u<=0?i.length-1:u-1:(u+1)%i.length,this._selectableItemsContainer.select(i[f],!0),i[f]&&i[f].onSelected&&i[f].onSelected(),!0)},t}();n.KeyboardEvtHandler=t}(WSB||(WSB={}));__spreadArrays=this&&this.__spreadArrays||function(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var u=Array(i),f=0,n=0;n<r;n++)for(var e=arguments[n],t=0,o=e.length;t<o;t++,f++)u[f]=e[t];return u},function(n){var t=function(){function t(n,t){this._aggregator=n;this._rootViewModel=t;this._sequenceNumber=-1;this._suggestionsQueue={};this._dataSourcesCompleted={}}return t.prototype.initiateSequenceNumber=function(t,i,r){var u=this,e,o,f,h,s;if(this._sequenceNumber>=t){SharedLogHelper.LogError("initiateSequenceNumber",null,new Error("Unexpected sequence number"));return}for(this.resetStateForNewQuery(t,i),this._highPriorityDataSources=[],this._normalPriorityDataSources=[],this._lowPriorityDataSources=[],e=0,o=n.config.enabledDataSources;e<o.length;e++)f=o[e],h=i.enabledDataSources[f],h&&(n.config.lowPriorityDataSources[f]?this._lowPriorityDataSources.push(f):n.config.highPriorityDataSources[f]?this._highPriorityDataSources.push(f):this._normalPriorityDataSources.push(f));this._HighPriDoneProcessing=this._highPriorityDataSources.length==0;this._highPriorityDataSources.length==0&&this._normalPriorityDataSources.length==0&&this._lowPriorityDataSources.length==0?this.processSuggestions(!1):(s=this.getLatencyTimeout(),s>0&&(this._bufferingTimer=n.safeSetTimeout(function(){u._bufferingTimer=null;u.processSuggestions(!0)},s,"processSuggestionsBuffering"),n.config.dataSourceTimeLimit&&(this._processingTimeoutTimer=n.safeSetTimeout(function(){u._processingTimeoutTimer=null;var t=__spreadArrays(u._highPriorityDataSources.filter(function(t){return!n.contains(u._arrivedDataSources,t)}),u._normalPriorityDataSources.filter(function(t){return!n.contains(u._arrivedDataSources,t)}),u._lowPriorityDataSources.filter(function(t){return!n.contains(u._arrivedDataSources,t)}));SharedLogHelper.LogError("SuggestionsRenderingManager",t.join(","),new Error("Data provider did not complete before the time limit"));u._processingStopped=!0;u._allDataSourcesArrived=!0;u.processSuggestions(!1);r&&r()},n.config.dataSourceTimeLimit,"processSuggestionsTimeout"))))},t.prototype.getLatencyTimeout=function(){return this._partialQuery.queryToFetch?n.config.latencyTimeout:n.config.latencyTimeoutForZeroInput},t.prototype.queueSuggestions=function(t,i,r,u,f){var e;if(t>this._sequenceNumber){SharedLogHelper.LogError("queueSuggestions",null,new Error("Unexpected sequence number"));return}if(!(t<this._sequenceNumber)){if(this._dataSourcesCompleted[i]){SharedLogHelper.LogError("queueSuggestions",i,new Error("Data source already completed"));return}if(!n.contains(this._highPriorityDataSources,i)&&!n.contains(this._normalPriorityDataSources,i)&&!n.contains(this._lowPriorityDataSources,i)){SharedLogHelper.LogError("queueSuggestions",i,new Error("Unexpected data source"));return}this._allDataSourcesArrived||(this._suggestionsQueue[i]&&!this._suggestionsQueue[i].updated?(e=this._suggestionsQueue[i].suggestions).push.apply(e,r):this._suggestionsQueue[i]={suggestions:r,updated:!1},this._dataSourcesCompleted[i]=!f,u&&(this._extraSignalsMap[i]=u),f||this._arrivedDataSources.push(i),this._allDataSourcesArrived=this.haveAllDataSourcesArrived(this._highPriorityDataSources.concat(this._normalPriorityDataSources).concat(this._lowPriorityDataSources)),this._processingStopped||n.InstrumentationHelper.isLayoutLogged(this._sequenceNumber)?this._allDataSourcesArrived&&(this.resetTimers(),n.InstrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber)):this.processSuggestions(!1))}},t.prototype.resetTimers=function(){this._bufferingTimer&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null);this._processingTimeoutTimer&&(sb_ct(this._processingTimeoutTimer),this._processingTimeoutTimer=null)},t.prototype.resetStateForNewQuery=function(t,i){this._arrivedDataSources=[];this._allProcessedDataSources={};this._sequenceNumber=t;this._partialQuery=i;this._suggestionsQueue={};this._dataSourcesCompleted={};this._extraSignalsMap={};this._renderedThisSequenceNumber=!1;this._waitingForMoreResults=!0;this._processingStopped=!1;this._allDataSourcesArrived=n.isEmpty(i.enabledDataSources);this.resetTimers()},t.prototype.getDependencies=function(t){var i=this;return n.Host.dataSourceDependencies(t).filter(function(t){return n.isDataSourceEnabled(t,i._partialQuery)})},t.prototype.haveAllDataSourcesArrived=function(t){var i=this;return n.config.mergeQueries&&this._partialQuery.scope==n.Scope.Documents?t.every(function(n){switch(n){case"MPHO":case"MVID":case"MDOC":return!!i._partialQuery.enabledDataSources.MPHO&&!!i._partialQuery.enabledDataSources.MVID&&!!i._partialQuery.enabledDataSources.MDOC&&!!i._partialQuery.enabledDataSources.MPVD;default:return!!i._suggestionsQueue[n]}}):t.every(function(n){return!!i._suggestionsQueue[n]})},t.prototype.haveAllDataSourcesCompleted=function(t){var i=this;return n.config.mergeQueries&&this._partialQuery.scope==n.Scope.Documents?t.every(function(n){switch(n){case"MPHO":case"MVID":case"MDOC":return!!i._partialQuery.enabledDataSources.MPHO&&!!i._partialQuery.enabledDataSources.MVID&&!!i._partialQuery.enabledDataSources.MDOC&&!!i._partialQuery.enabledDataSources.MPVD;default:return!!i._dataSourcesCompleted[n]}}):t.every(function(n){return!!i._dataSourcesCompleted[n]})},t.prototype.processSuggestions=function(t){var i=this,u=[],o=[],r,y=this.getLatencyTimeout()>0&&this._bufferingTimer==null,s=this.haveAllDataSourcesArrived(this._highPriorityDataSources),h=s||y,p=this.haveAllDataSourcesCompleted(this._normalPriorityDataSources),c=this.haveAllDataSourcesCompleted(this._highPriorityDataSources),l=c&&p,a,v;t&&n.InstrumentationHelper.logDataSourceTimeout(Object.keys(this._suggestionsQueue),this._partialQuery);var f=t&&!this._renderedThisSequenceNumber,w=function(t,e){var s;if(!t.updated&&i.getDependencies(e).every(function(t){return n.contains(i._arrivedDataSources,t)})){if(o.push(e),i._allProcessedDataSources[e]=!0,t.suggestions.length>0&&(s=i.canHaveSuppressions(e)?t.suggestions.filter(function(n){return!i.isSuppressed(e,n)}):t.suggestions,s.length>0)){r||(r=i._renderedThisSequenceNumber?i._rootViewModel.getSuggestions(!0):[]);var h=i.removeDuplicatesAndAssignIds(s,r,u,e),c=h[0],l=h[1];u=u.concat(c);l&&(f=!0)}t.updated=!0}},e=function(n){var u,t,r;for(u in n)t=n[u],r=i._suggestionsQueue[t],r&&w(r,t)};h&&e(this._highPriorityDataSources);this._bufferingTimer&&l&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null);a=h&&!this._HighPriDoneProcessing;v=a||(this.getLatencyTimeout()>0?this._bufferingTimer==null:s);v&&(e(this._normalPriorityDataSources),e(this._lowPriorityDataSources));this._waitingForMoreResults&&l&&(this._waitingForMoreResults=!1,(!this._renderedThisSequenceNumber||this._rootViewModel.mayNeedFlush()||(r||this._rootViewModel.getSuggestions(!0)).length==0)&&(f=!0));this._partialQuery.showProgressBar&&this._allDataSourcesArrived&&(f=!0);(u.length>0||f)&&(r||(r=this._renderedThisSequenceNumber?this._rootViewModel.getSuggestions(!0):[]),this.addSuggestions(r,u,o,f));this._allDataSourcesArrived&&(this.resetTimers(),n.InstrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber));this._HighPriDoneProcessing=c},t.prototype.getAggregatorResult=function(t,i,r){var e=this.waitingForWebProvider(),f=null,u,o;return n.config.counterFactualLoggingOn&&(f=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!0)),u=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!1),o=n.config.counterFactualLoggingOn&&(!this.isSuggestionOrderTheSame(u.topResults,f.topResults)||!this.isSuggestionOrderTheSame(u.suggestionsToAdd,f.suggestionsToAdd)),[u,o]},t.prototype.waitingForWebProvider=function(){var t=this;return n.isBrowserOnline()&&["Web"].concat(this.getDependencies("Web")).some(function(i){return n.isDataSourceEnabled(i,t._partialQuery)&&!t._allProcessedDataSources[i]})},t.prototype.isSuggestionOrderTheSame=function(n,t){var r=function(n){return n.query+"\t"+n.type},i;if(n.length!=t.length)return!1;for(i=0;i<n.length;i++)if(r(n[i])!=r(t[i]))return!1;return!0},t.prototype.addSuggestions=function(t,i,r,u){var e=this,o=this._renderedThisSequenceNumber?this._rootViewModel.getCurrentTopResults():[],v=n.safeExecute(function(){return e.getAggregatorResult(o,t,i)},"getAggregatorResults",[null,!1]),f=v[0],p=v[1],s,h,l,c,a,y;for(f||(f={topResults:o,suggestionsToAdd:i,suggestionsToRemove:[],groupOrder:[]}),n.InstrumentationHelper.instrumentAggregatorCall(this._sequenceNumber,p),i=f.suggestionsToAdd,s=f.suggestionsToRemove,h=0,l=f.topResults;h<l.length;h++)c=l[h],n.contains(t,c)&&!n.contains(o,c)&&s.push(c);(u||i.length!=0||s.length!=0||!n.sequenceEqual(o,f.topResults))&&(a=!this._renderedThisSequenceNumber,a&&(this._renderedThisSequenceNumber=!0,n.InstrumentationHelper.instrumentRenderingStarted(this._sequenceNumber)),y=n.safeExecute(function(){return e._rootViewModel.update(a,f.topResults,e._waitingForMoreResults,e._sequenceNumber,i,s,r,f.groupOrder,e._allDataSourcesArrived,e._extraSignalsMap)},"rootViewModel.update",0,null,function(t){n&&n.fallbackToPrepopulatedBundle&&n.fallbackToPrepopulatedBundle(t)}),y==0&&(this._processingStopped=!0,this.resetTimers()))},t.prototype.removeDuplicatesAndAssignIds=function(t,i,r,u){var f=this,c=function(n){var t;n.id||(n.id=n.path?n.path:n.type+n.text+((t=n.additionalInfoText)!==null&&t!==void 0?t:""))},h=!1,s;if(this._aggregator.canHaveDuplicates(u,this._partialQuery)){var e=[],l=function(s){var v=t[s],a=i.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,v)}),l;if(a>=0)return l=i[a],l.needsRefreshAfterDeduping&&(h=!0),n.InstrumentationHelper.instrumentDuplicate(o._sequenceNumber,l,v),"continue";if(a=r.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,v)}),a>=0)return l=r[a],l.needsRefreshAfterDeduping&&(l.needsRefreshAfterDeduping=!1,l.previewPaneNeedsRefreshAfterDeduping=!1),n.InstrumentationHelper.instrumentDuplicate(o._sequenceNumber,l,v),"continue";if(o._aggregator.canHaveDuplicatesWithinDataSource(u,o._partialQuery)&&(a=e.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,v)}),a>=0))return l=e[a],l.needsRefreshAfterDeduping&&(l.needsRefreshAfterDeduping=!1,l.previewPaneNeedsRefreshAfterDeduping=!1),n.InstrumentationHelper.instrumentDuplicate(o._sequenceNumber,e[a],v),"continue";c(v);e.push(v)},o=this;for(s=0;s<t.length;++s)l(s);return[e,h]}return t.forEach(function(n){return c(n)}),[t,h]},t.prototype.canHaveSuppressions=function(t){return n.config.suppressDataSources[t]||n.config.dataSourcesWithSuppressedTypes[t]},t.prototype.isSuppressed=function(t,i){return n.config.suppressDataSources[t]||n.config.suppressTypes[i.type]},t}();n.SuggestionsRenderingManager=t}(WSB||(WSB={})),function(n){function y(n){return n.handoffType==1?n.query:HitHighlightingParser.removeMarkers(n.text)}function f(n){var t,i;if(n.length==0)return 0;for(t=0,i=0;i<n.length;i++)t=(t<<5)-t+n.charCodeAt(i)|0;return t}function t(n,t){var u,i,r;if(!n)return t.length;if(!t)return n.length;for(u=[],i=0;i<=t.length;i++)u[i]=[i];for(r=0;r<=n.length;r++)u[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=n.length;r++)u[i][r]=t.charAt(i-1)==n.charAt(r-1)?u[i-1][r-1]:Math.min(u[i-1][r-1]+1,Math.min(u[i][r-1]+1,u[i-1][r]+1));return u[t.length][n.length]}function p(n,i){return n&&(n=n.toLocaleLowerCase()),i&&(i=i.toLocaleLowerCase()),t(n,i)}function o(n,t,i){var r=0,u;return(t>0||i>0)&&(t>0&&i>0?(i>t&&(u=t,t=i,i=u),r=n/(t-n+i)):r=Number.MAX_VALUE),r}function s(n,t){var r=n.length,e=t.length,a,v,f,o,i;if(r===0&&e===0)return 1;var h=new Array(r),s=new Array(e),u=0,c=0,l=Math.floor(Math.max(r,e)/2)-1;for(i=0;i<r;i++)for(a=Math.max(0,i-l),v=Math.min(e,i+l+1),f=a;f<=v;f++)if(!s[f]&&n[i]==t[f]){h[i]=!0;s[f]=!0;u++;break}if(u===0)return 0;for(o=0,i=0;i<r;i++)if(h[i]){while(!s[o])o++;n[i]!=t[o]&&c++;o++}return(u/r+u/e+(u-c/2)/u)/3}function w(n,t){var i=s(n,t),r,u;return i<1?i:(r=.1,u=h(n,t),i+u*r*(1-i))}function h(n,t){for(var i=0;i<4;i++)if(n[i]!=t[i])return i;return++i}function b(n,t){return!n||!t?0:n.length+1<=t.length&&t[n.length]==" "?1:n.length==t.length?1:0}function k(n){var r=0,i=1,t;if(n&&n.length>1)for(t=1;t<n.length;t++)n.charAt(t)==n.charAt(t-1)?i++:i=1,i>r&&(r=i);else if(n)return 1;return r}function d(n){return n&&n.length>0?n.trim().split(" ").length:0}function g(n){var t=new RegExp("^[0-9a-zA-Z ]+$");return n&&t.test(n)?1:0}function nt(n){return n&&n.length>0&&n.charAt(n.length-1)==" "?1:0}function tt(n){return n&&n.length>0&&(n.includes("http://")||n.includes("https://")||n.includes("."))?1:0}function it(t,i,r,u){var o,e,s,h;t.includes("?")&&(r[117]=1,ot(t)&&(r[127]=1));t.replace("///","").replace("//","").includes("/")&&(r[118]=1);t.includes(".")&&(r[119]=1);o=u.cvid+u.privacyNumber+t;r[120]=f(o);e=t.toLocaleLowerCase();(e.startsWith("www.")||e.startsWith("http://www.")||e.startsWith("https://www."))&&(r[122]=1);e.startsWith("www.")||e.startsWith("http://")?r[123]=1:e.startsWith("https://")?r[124]=1:e.startsWith("ftp://")?r[125]=1:r[126]=1;i&&(s=n.normalizeUrl(e,15),h=n.normalizeUrl(i,15).toLocaleLowerCase(),s.startsWith(h)&&(r[187]=1))}function rt(n,i,r,u,e){if(e){r[128]=t(e,i);r[129]=e.length;var o=u.cvid+u.privacyNumber+e;r[130]=f(o)}}function ut(n,i,r){var e=n.toLocaleLowerCase(),s,u,f,h,c;if(r[140]=n.length,s=e.split(" "),r[144]=s.length,i)for(r[141]=t(n,i),r[142]=Math.min(100,o(r[141],i.length,n.length)),u=i.toLocaleLowerCase(),e.includes(u)&&(r[143]=1),e.startsWith(u)&&(r[188]=1),f=0,h=s;f<h.length;f++)if(c=h[f],c==u){r[145]=1;break}}function ot(n){var t=et.find(function(t){return n.startsWith(t)});return n=t?n.substr(t.length):n,ft.some(function(t){return n.startsWith(t)})}function st(n){var i=0,r,t;if(n)for(r in n)t=n[r],t&&t.prefixLaunchCount&&(i+=t.prefixLaunchCount);return i}function ht(t,i,r,u){if(r){var f=r[t];f&&(i[47]=f.prefixLaunchCount,i[49]=f.lastLaunchTime,i[101]=u,u>0&&(i[100]=f.prefixLaunchCount/u),f.previewPaneLaunchCount&&f.lastPreviewPaneLaunchTime&&(i[301]=f.previewPaneLaunchCount,f.lastPreviewPaneLaunchTime==f.lastLaunchTime&&(i[302]=1),i[303]=n.getCurrentTime()-f.lastPreviewPaneLaunchTime))}}function ct(n,t,i){if(i){var r=i[n];r&&(t[281]=r.probability,t[282]=r.weight)}}function lt(n,t,r,u,f,e){if(t){var s=i(u,r),o=t[s];o&&(f?(n[153]=o.ProbSugClickGivenPref,n[152]=o.ClicksOnSugGivenPref):e?(n[161]=o.Loglikelihood,n[162]=o.ProbSugClickGivenBackground,n[163]=o.ClicksOnSugGivenPref,n[164]=o.ProbSugClickGivenPref,n[165]=o.CCR,n[166]=o.EventCount,n[293]=o.ProbSugClickGivenPrefTime,n[168]=o.CCRTime,n[294]=o.ProbSugClickGivenBackgroundTime,n[295]=o.LoglikelihoodTime):(n[6]=o.Loglikelihood,n[3]=o.ProbSugClickGivenBackground,n[151]=o.ClicksOnSugGivenPref,n[0]=o.ProbSugClickGivenPref,n[94]=o.CCR,n[95]=o.EventCount,n[290]=o.ProbSugClickGivenPrefTime,n[155]=o.CCRTime,n[291]=o.ProbSugClickGivenBackgroundTime,n[292]=o.LoglikelihoodTime))}}function at(n,t,i){if(t){var r=t[i];r&&(n[256]=r.PSGPCR,n[257]=r.PSGCCR,n[258]=r.PSGSTR,n[286]=r.PSGSATCCR,n[287]=r.PSGSATPCR)}}function i(n,t){return(n+"\t"+t).toLocaleLowerCase()}function r(t,i,r){i==11..toString()&&i==0..toString();switch(n.config.athenaKeyType){case 0:return t||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group is empty")),t;case 1:return i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),i;case 2:return r||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key suggestion type is empty")),i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),r+"_"+i;default:return SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group type is not set")),""}}function u(t,i,r){switch(n.config.athenaKeyType){case 0:return i==t;case 1:return r==t;case 2:return r==t;default:return!1}}function vt(t){var i={};return t?(n.config.athenaKeyType==2?wt(t,i):(yt(t,i),pt(t,i)),i):i}function yt(t,f){var y=t.Suggestions?t.Suggestions.split("\t"):[],p=t.ProbSugClickGivenPrefs?t.ProbSugClickGivenPrefs.split("\t"):[],w=t.ClicksOnSugGivenPrefs?t.ClicksOnSugGivenPrefs.split("\t"):[],b=t.ProbSugClickGivenBackground?t.ProbSugClickGivenBackground.split("\t"):[],k=t.Loglikelihoods?t.Loglikelihoods.split("\t"):[],a=t.SuggestionGroups?t.SuggestionGroups.split("\t"):[],d=t.ProbSugClickGivenPrefWeeks?t.ProbSugClickGivenPrefWeeks.split("\t"):[],v=t.ProbSugClickGivenPrefWeekends?t.ProbSugClickGivenPrefWeekends.split("\t"):[],g=t.ProbSugClickGivenBackgroundWeeks?t.ProbSugClickGivenBackgroundWeeks.split("\t"):[],it=t.ProbSugClickGivenBackgroundWeekends?t.ProbSugClickGivenBackgroundWeekends.split("\t"):[],nt=t.LoglikelihoodWeeks?t.LoglikelihoodWeeks.split("\t"):[],tt=t.LoglikelihoodWeekends?t.LoglikelihoodWeekends.split("\t"):[],c=n.config.athenaKeyType==0||!t.SuggestionHandOffTypes?[]:t.SuggestionHandOffTypes.split("\t"),s=y.length,l=e(),o;if(u(s,a.length,c.length))for(o=0;o<s;o++){var rt=a&&a.length>o?a[o]:"",ut=c&&c.length>o?c[o]:"",ft=r(rt,ut,""),h=i(y[o],ft);f[h]={SuggestionGroup:+a[o]};b.length==s&&(f[h].ProbSugClickGivenBackground=Number(b[o]));p.length==s&&(f[h].ProbSugClickGivenPref=Number(p[o]));w.length==s&&(f[h].ClicksOnSugGivenPref=Number(w[o]));k.length==s&&(f[h].Loglikelihood=Number(k[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].SuggestionHandOffType=Number(c[o]));d.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenPrefTime=Number(v[o])):f[h].ProbSugClickGivenPrefTime=Number(d[o]);g.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenBackgroundTime=Number(it[o])):f[h].ProbSugClickGivenBackgroundTime=Number(g[o]);nt.length!=s||l?tt.length==s&&l&&(f[h].LoglikelihoodTime=Number(tt[o])):f[h].LoglikelihoodTime=Number(nt[o])}else SharedLogHelper.LogError("parseLLSignals",null,new Error("Length doesn't match"))}function pt(t,f){var a=t.CCRSuggestions?t.CCRSuggestions.split("\t"):[],l=t.CCRSuggestionGroups?t.CCRSuggestionGroups.split("\t"):[],v=t.CCRs?t.CCRs.split("\t"):[],y=t.EventCounts?t.EventCounts.split("\t"):[],c=n.config.athenaKeyType==0||!t.CCRSuggestionHandOffTypes?[]:t.CCRSuggestionHandOffTypes.split("\t"),p=t.CCRsWeek?t.CCRsWeek.split("\t"):[],w=t.CCRsWeekend?t.CCRsWeekend.split("\t"):[],s=a.length,b=e(),o;if(u(s,l.length,c.length))for(o=0;o<s;o++){var k=l&&l.length>o?l[o]:"",d=c&&c.length>o?c[o]:"",g=r(k,d,""),h=i(a[o],g);f[h]||(f[h]={SuggestionGroup:Number(l[o])});v.length==s&&(f[h].CCR=Number(v[o]));y.length==s&&(f[h].EventCount=Number(y[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].CCRSuggestionHandOffType=Number(c[o]));p.length!=s||b?w.length==s&&b&&(f[h].CCRTime=Number(w[o])):f[h].CCRTime=Number(p[o])}else SharedLogHelper.LogError("parseCCRSignals",null,new Error("Length doesn't match"))}function wt(n,t){var o=n.SugTypes?n.SugTypes.split("\t"):[],s=n.HandOffTypes?n.HandOffTypes.split("\t"):[],h=n.PSGPCRs?n.PSGPCRs.split("\t"):[],c=n.PSGCCRs?n.PSGCCRs.split("\t"):[],l=n.PSGSTRs?n.PSGSTRs.split("\t"):[],a=n.PSGSATCCRs?n.PSGSATCCRs.split("\t"):[],v=n.PSGSATPCRs?n.PSGSATPCRs.split("\t"):[],f=o.length,i;if(u(f,0,s.length))for(i=0;i<f;i++){var y=o[i],p=s[i],e=r("",p,y);t[e]={};h.length==f&&(t[e].PSGPCR=Number(h[i]));c.length==f&&(t[e].PSGCCR=Number(c[i]));l.length==f&&(t[e].PSGSTR=Number(l[i]));a.length==f&&(t[e].PSGSATCCR=Number(a[i]));v.length==f&&(t[e].PSGSATPCR=Number(v[i]))}else SharedLogHelper.LogError("parseGroupEngagementSignals",null,new Error("Length doesn't match"))}function bt(n,t){var r={},f,s,o,i;if(t){var h=0,v=0,u={};for(f=0,s=t;f<s.length;f++){var y=s[f],e=y.key,p=y.value;u[e]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};v+=c(u,e,n);o=a(p);u[e].groupClickCounts=o.groupLaunches;for(i in u[e].groupClickCounts)r[i]||(r[i]={probability:0,weight:0}),r[i].probability+=o.groupHits[i],h+=o.groupHits[i]}l(r,u,v,h)}return r}function kt(n,t){var r={},f,o,i;if(t){var h=0,a=0,u={};for(f=0,o=t;f<o.length;f++){var v=o[f],s=v.key,e=v.value;u[s]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};a+=c(u,s,n);for(i in e)e[i]&&e[i].prefixLaunchCount&&(r[i]||(r[i]={probability:0,weight:0}),u[s].groupClickCounts[i]=e[i].prefixLaunchCount,r[i].probability++,h++)}l(r,u,a,h)}return r}function c(n,t,i){var r=t.length-i.length,u=r/t.length;return n[t].lexicalSimilarity=1-u,n[t].lexicalSimilarity}function l(n,t,i,r){var o=0,s,e,f,u;for(e in t){f=t[e];f.lexicalSimilarity/=i;for(u in f.groupClickCounts)s=f.groupClickCounts[u],f.groupWeight[u]=s*f.lexicalSimilarity,o+=f.groupWeight[u]}for(u in n)n[u].probability/=r;for(e in t){f=t[e];for(u in f.groupClickCounts)n[u]||(n[u]={probability:0,weight:0}),f.groupWeight[u]/=o,n[u].weight+=f.groupWeight[u]}}function a(n){var u=function(n,t,i){return n[t]=n[t]?n[t]+i:i},r={groupLaunches:{},groupHits:{},otherGroupLaunches:0},f,t,i;for(f in n)(t=n[f],t&&t.prefixLaunchCount)&&(i=t.groupType,i||i===0?(u(r.groupLaunches,i,t.prefixLaunchCount),u(r.groupHits,i,1)):r.otherGroupLaunches+=t.prefixLaunchCount);return r}function dt(n,t,i,r){if(r){var f=i(t),u=r[f];u&&(n[266]=u.probability,n[267]=u.weight)}}function e(t){var i=t?t.getDay():n.getCurrentDate().getDay();return i==6||i==0}function gt(n){for(var t in n)n[t]?n[t]=v(Number(n[t])):delete n[t]}function v(n){return Number(n.toFixed(5))}function ni(n,t){n.featureStore||(n.featureStore={});n.featureStore[t]=1}n.getTextForLexicalFeatures=y;n.stringHashCode=f;n.getEditDistance=t;n.getEditDistanceIgnoreCase=p;n.computeEditDistanceRatio=o;n.computeJaroSimilarity=s;n.computeJaroWinklerSimilarity=w;n.computeJaroWinklerPrefixOverLapCount=h;n.isWordBoundary=b;n.countMaxContiguousRepeatedChars=k;n.getNumberOfWords=d;n.containsOnlyDigitsLettersOrSpaces=g;n.endsWithSpace=nt;n.prefixIsLikeUrl=tt;n.computeUrlFeatures=it;n.computeDomainFeatures=rt;n.computeTitleFeatures=ut;var ft=["www.bing.","cn.bing.","www.google.","www.yandex.","www.baidu.","www.yahoo.",],et=["http://","https://",];n.getSumMruLaunches=st;n.setMRUSignal=ht;n.setMRUBackPropSignal=ct;n.setEngagementSignals=lt;n.setSuggestionGroupEngagementSignals=at;n.getEngagementSignalKey=i;n.getAthenaGroupKey=r;n.checkAthenaGroupLength=u;n.parseWebEngagementSignals=vt;n.computeGroupBackpropagatedClicks=bt;n.computeSuggestionBackpropagatedClicks=kt;n.evaluateGroupLaunches=a;n.setMRUGroupBackpropClicks=dt;n.isWeekend=e;n.removeUndefinedAndZeroAndTrimValues=gt;n.trimFeatureStoreValue=v;n.setFlagInFeatureStore=ni}(WSB||(WSB={})),function(n){var t;(function(t){function u(n){return n.isSearchHomeZI}var i=.4,r;t.suggestionRankingModels={};r=function(){function r(){}return r.prototype.rank=function(t,i,r,f,e,o,s,h,c,l){var a,v,y,p;return u(t)?{topResults:[],mruSuppressions:null}:t.scope==n.Scope.PathCompletion?this.rankPathCompletion(i):(a=n.isL2(t)?null:{mruGroupRatios:null,maxGroupCCR:null,maxGroupProbSugClickGivenPref:null,mruGroupBackpropWeights:null,mruGroupBackpropRatios:null},v=i.slice(),this.orderSuggestions(t,i,r,f,o,s,h,c,a,e),this.setMRUHintEnabled(t,i),this.setGroupSuppressionSignals(a,i),y=this.getTopHitCandidates(t,i,l.searchTheWeb,v),p=this.createMulticlassClassifierTopHitSuggestionList(y),{topResults:p,mruSuppressions:a})},r.prototype.isNotChromeIntent=function(n,t){var r="google chrome",i;return t.length==0?!1:(i=t.filter(function(n){return n.query.toLocaleLowerCase()==r&&n.type=="PP"}),i.length>0&&!n.queryToFetch.includes("c")&&!n.queryToFetch.includes("h")&&!n.queryToFetch.includes("r")&&!n.queryToFetch.includes("m"))?!0:!1},r.prototype.setMRUHintEnabled=function(t,i){var f,r,u;if(n.config.enableMRUHint)for(f=t.queryToFetch.toLocaleLowerCase(),r=0;r<i.length;r++)u=i[r].featureStore,u[281]&&u[282]&&(n.config.enableMRUHint!=1&&i[r].text.toLocaleLowerCase().startsWith(f)||(i[r].mruHintEnabled=!0))},r.prototype.rankPathCompletion=function(n){var t=n.find(function(n){return n.type=="CG"})||n[0];return{topResults:t?[t]:[],mruSuppressions:null}},r.prototype.swapHighConfidenceTopHit=function(t){var o={minimum:0,penalty:.1},s={minimum:.08,penalty:.05},h={minimum:.01,penalty:.05},c={minimum:.45,penalty:.9},e=function(n){var t=-5;return(n-t)/(8-t)},r=t[0],f=0,u,i;if(!(t.length<=1)&&!(r.simpleFeatures.mruScore>0)){for(u=0;u<t.length;u++)i=t[u],n.isApp(i.type)?(i.simpleFeatures.topHitScore=e(-.45052*i.simpleFeatures.ciGeoMeanScoreNormalized+.15451*i.simpleFeatures.ciGlobalScore+-.34223*i.simpleFeatures.ciLocalScore+-.18174*i.simpleFeatures.ciMatchScore+3.9928),!n.isApp(r.type)&&i.simpleFeatures.topHitScore>o.minimum&&i.simpleFeatures.topHitScore>r.simpleFeatures.topHitScore+o.penalty&&(r=i,f=u)):n.isSetting(i.type)?(i.simpleFeatures.topHitScore=e(-.42912*i.simpleFeatures.ciGeoMeanScoreNormalized+-.0173*i.simpleFeatures.ciLocalScore+-.1516*i.simpleFeatures.ciMatchScore+.28754),!n.isSetting(r.type)&&i.simpleFeatures.topHitScore>s.minimum&&i.simpleFeatures.topHitScore>r.simpleFeatures.topHitScore+s.penalty&&(r=i,f=u)):n.isFileOrFolder(i.type)?(i.simpleFeatures.topHitScore=e(.99907*i.simpleFeatures.startsWithPrefix+1.1431*i.simpleFeatures.containsPrefix+3.1153*i.simpleFeatures.jaroWinklerScore+-3.9697),r==i&&(i.simpleFeatures.topHitScore=0),!n.isFileOrFolder(r.type)&&i.simpleFeatures.topHitScore>c.minimum&&i.simpleFeatures.topHitScore>r.simpleFeatures.topHitScore+c.penalty&&(r=i,f=u)):n.isWebSuggestion(i)||i.type=="MB"||i.isAnswer?(i.simpleFeatures.topHitScore=e(5.3465*i.simpleFeatures.webConfidence+-5.6972),(!n.isWebSuggestion(r)&&i.simpleFeatures.topHitScore>h.minimum&&i.simpleFeatures.topHitScore>r.simpleFeatures.topHitScore+h.penalty||i.type=="MB"&&n.isWebSuggestion(r))&&(r=i,f=u)):(i.type=="PT"||i.type=="CG")&&(r=i,f=u);f!=0&&(t.unshift(r),t.splice(f+1,1))}},r.prototype.extractSimpleFeatures=function(t){var i=t.featureStore,f=64,r=0,u={mruScore:i[282]||r,sugTypeBucket:10,ciGeoMeanScoreNormalized:Math.floor(i[405]/1e3)||f,ciGlobalScore:i[269]/1e3||f,ciLocalScore:i[270]/1e3||f,ciMatchScore:Math.floor(i[158]/1e3)||0,rank:Math.floor(i[16]/1e3)||128,webScore:this.getSuggestionScoreFromSuggestionLogMeta(t.suggestionLogMeta)||r,webConfidence:i[17]||r,prefixEqualsSuggestion:i[133]||r,startsWithPrefix:i[188]||r,containsPrefix:i[143]||r,jaroWinklerScore:i[421]||r,topHitScore:r};return u.sugTypeBucket=n.isApp(t.type)?0:n.isSetting(t.type)?1:n.isFileOrFolder(t.type)?2:t.type=="MB"?3:n.isWebSuggestion(t)?4:5,t.type=="IBA"&&i[269]<1&&(u.ciGeoMeanScoreNormalized=64),u.ciMatchScore==0&&u.startsWithPrefix==0&&u.sugTypeBucket<=1&&(u.ciMatchScore+=1),u},r.prototype.orderSuggestions=function(i,r,u,f,e,o,s,h,c,l){var g=this,v,p,y,b,k,w,d,a;if(n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("WSBRanking.orderSuggestions"),!n.config.bypassRankerOnNoNewSuggestions||i.hasNewSuggestions){if(v=n.safeExecute(function(){return g.createFeatureStore(i,r,u,f,e,o,s,c,l)},"createFeatureStore"),v=v||r.map(function(){return{}}),y=h?n.config.counterFactualRankerId:n.config.mainRankerId,y?(p=n.safeExecute(function(){return t.suggestionRankingModels[y]},"getRanker"),p||SharedLogHelper.LogError("getRanker",y,new Error("Model not found"))):SharedLogHelper.LogError("getRanker",y,new Error(h?"CounterFactualRankerId not defined ":"MainRankerId not defined")),n.config.enableSimpleRanker){for(a=0;a<r.length;a++)b=v[a],r[a].featureStore=b,r[a].simpleFeatures=this.extractSimpleFeatures(r[a]);for(n.config.enableMatchQueryDemotions?r.sort(function(n,t){return t.simpleFeatures.mruScore-n.simpleFeatures.mruScore||n.simpleFeatures.sugTypeBucket-t.simpleFeatures.sugTypeBucket||Math.floor(n.simpleFeatures.ciMatchScore/10)-Math.floor(t.simpleFeatures.ciMatchScore/10)||n.simpleFeatures.ciGeoMeanScoreNormalized-t.simpleFeatures.ciGeoMeanScoreNormalized||n.simpleFeatures.rank-t.simpleFeatures.rank||t.simpleFeatures.prefixEqualsSuggestion-n.simpleFeatures.prefixEqualsSuggestion||t.simpleFeatures.startsWithPrefix-n.simpleFeatures.startsWithPrefix||t.simpleFeatures.containsPrefix-n.simpleFeatures.containsPrefix||t.simpleFeatures.jaroWinklerScore-n.simpleFeatures.jaroWinklerScore}):r.sort(function(n,t){return t.simpleFeatures.mruScore-n.simpleFeatures.mruScore||n.simpleFeatures.sugTypeBucket-t.simpleFeatures.sugTypeBucket||n.simpleFeatures.ciGeoMeanScoreNormalized-t.simpleFeatures.ciGeoMeanScoreNormalized||n.simpleFeatures.ciMatchScore-t.simpleFeatures.ciMatchScore||n.simpleFeatures.rank-t.simpleFeatures.rank||t.simpleFeatures.prefixEqualsSuggestion-n.simpleFeatures.prefixEqualsSuggestion||t.simpleFeatures.startsWithPrefix-n.simpleFeatures.startsWithPrefix||t.simpleFeatures.containsPrefix-n.simpleFeatures.containsPrefix||t.simpleFeatures.jaroWinklerScore-n.simpleFeatures.jaroWinklerScore}),a=0;a<r.length;a++)r[a].rankingScore=-a;this.swapHighConfidenceTopHit(r)}else if(p)for(k=function(t){var i=v[t],u;if(n.config.enableConversationCache&&r[t].skipRerank)return"continue";u=n.safeExecute(function(){return p(i)},"calculateRankingScore");r[t].rankingScore=n.trimFeatureStoreValue(u);r[t].featureStore=i;n.config.enableConversationCache&&(r[t].skipRerank=!0)},a=0;a<r.length;a++)k(a);if(w=r.filter(function(n){return n.type=="MB"}),n.config.enableSimpleRanker||r.sort(function(n,t){return t.rankingScore-n.rankingScore}),w.length>1)for(d=r.map(function(n,t){return n.type=="MB"?t:undefined}).filter(function(n){return typeof n=="number"}),a=0;a<w.length;++a)r[d[a]]=w[a];n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBRanking.orderSuggestions")}},r.prototype.getSuggestionScoreFromSuggestionLogMeta=function(n){var t=";2152:";return n&&n.indexOf(t)>=0?parseInt(n.substring(n.indexOf(t)+6).split(";")[0].slice(1,-1)):NaN},r.prototype.getTopWebSuggestion=function(t){var f,e,i,o,r,u;if(t.length==0)return null;if(n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("WSBRanking.getTopWebSuggestion"),f=t[0],e=64e3,t.length>1)for(i=0,o=t;i<o.length;i++)r=o[i],r.suggestionLogMeta&&(u=this.getSuggestionScoreFromSuggestionLogMeta(r.suggestionLogMeta),!isNaN(u)&&u<e&&(e=u,f=r));return n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBRanking.getTopWebSuggestion"),f},r.prototype.bypassFallbackForMSB=function(t,i,r){return(n.config.bypassFallbackOnMSBTopHit==2||n.config.bypassFallbackOnMSBTopHit==3)&&i.every(function(t){return n.isWebSuggestion(t)||t.handoffType==17||t.isAnswer})?!0:(n.config.bypassFallbackOnMSBTopHit==1||n.config.bypassFallbackOnMSBTopHit==4)&&!i.some(function(t){return n.isApp(t.type)||n.isSetting(t.type)})&&r.length>0&&n.isMsbOnlineSuggestionType(r[0].type)?!0:n.config.bypassFallbackOnMSBTopHit==4&&!i.some(function(t){return n.isApp(t.type)||n.isSetting(t.type)})&&r.length>1&&(r[0].isAnswer||n.isWebSuggestion(r[0]))&&(n.isMsbOnlineSuggestionType(r[1].type)||r.length>2&&r[0].isAnswer&&r[1].isAnswer&&n.isMsbOnlineSuggestionType(r[2].type))?!0:!1},r.prototype.getTopHitCandidates=function(t,r,u,f){var l=this,e,h,o,s,c;return(n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("WSBRanking.getTopHitCandidates"),e=r.filter(function(n){return l.allowInTopHit(t,n,f)}),this.bypassFallbackForMSB(t,r,e,f)&&(h=[],o=f.filter(function(t){return n.isOnlineSuggestionPersonType(t.type)}),o.length==0&&(o=f.filter(function(t){return n.isOnlineSuggestionMsbOtherTypes(t.type)})),o.length>0&&o[0].autoOpenPreviewPaneWhenOnTopHit&&(n.config.bypassFallbackOnMSBTopHit!=3||n.getTextForLexicalFeatures(o[0]).toLowerCase().startsWith(t.queryToFetch.toLowerCase()))&&h.push(o[0]),n.config.bypassFallbackOnMSBTopHit==4&&(e[0].isAnswer||n.isWebSuggestion(e[0]))&&(e[0].isAnswer||this.getFallbackClassifierScore(e[0])>i)&&h.push(e[0]),n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBRanking.getTopHitCandidates"),h.length>0))?h:this.enableFallbackClassifier(t,e,u)?(e=this.getFallbackClassifierSuggestions(e),n.config.enableGGSupp&&this.isNotChromeIntent(t,e))?(n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBRanking.getTopHitCandidates"),[]):(n.config.demoteWebForApps&&(s=this.getTopAppSuggestion(r),c=s?s.query.toLocaleLowerCase():"",s&&this.allowInTopHit(t,s)&&e.every(function(t){return n.isWebSuggestion(t)})&&(c.startsWith(t.queryToFetch)||c.includes(" "+t.queryToFetch))&&(e=[s])),n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBRanking.getTopHitCandidates"),e):(n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBRanking.getTopHitCandidates"),e)},r.prototype.getFallbackClassifierScore=function(i){var r=n.safeExecute(function(){return t.suggestionRankingModels[n.config.fallbackClassifierId]},"getFallbackClassifier"),u=r?n.safeExecute(function(){return r(i.featureStore)},"calculateFallbackClassifierScore"):0;return n.trimFeatureStoreValue(u)},r.prototype.getFallbackClassifierSuggestions=function(r){if(r=r.filter(function(n){return n.type!="SW"}),r.length>0){var f=0,u=r[0];return u.fbcScore=this.getFallbackClassifierScore(u),f=n.config.enableAppsSettingsFbcScoreThreshold?n.isApp(u.type)||n.isSetting(u.type)?n.config.appsSettingsFbcScoreThreshold:n.isWebSuggestion(u)?i:n.config.nonWebFbcScoreThreshold:n.isWebSuggestion(u)?i:n.config.nonWebFbcScoreThreshold,u.fbcScore>=f?r.slice(0,t.topHitIsMultiEntity(r)?2:1):[]}return[]},r.prototype.enableFallbackClassifier=function(t,i,r){if(r&&n.config.fallbackClassifierId&&i.length>0){var u=i[0];return n.getGroupType(u)==n.GroupType.Cortana?!1:u.isAnswer?!1:!0}return!1},r.prototype.getTopAppSuggestion=function(t){for(var u,i=0,r=t;i<r.length;i++)if(u=r[i],n.isApp(u.type))return u;return null},r.prototype.isRecourse=function(t){return t.notAResult&&!n.contains(["SW","PWL","SSTS"],t.type)},r.prototype.allowInTopHit=function(t,i,r){var s=!r||r.length==1,e,f,o,u;if(n.RuntimeConfig.QfMode==8||n.config.demoteTopHitOnNoQueryMatch&&(n.isApp(i.type)||n.isSetting(i.type))&&!i.ciMatchedQuery&&!i.query.toLocaleLowerCase().includes(t.queryToFetch.toLocaleLowerCase()))return!1;if(t.topHitRestriction==1&&i.query.toLocaleLowerCase()!=t.queryToFetch.toLocaleLowerCase()&&(n.contains(i.features,"ForcePrefixOnTop")||i.features.push("ForcePrefixOnTop")),this.isRecourse(i))return s;e=n.getGroupType(i);switch(e){case n.GroupType.Store:return i.hc;case n.GroupType.Command:return i.hc||s;case n.GroupType.LocalPlaces:return!1}if(n.getScope(e)==n.Scope.Emails&&!i.hc)return!1;if(n.enforceOriginalOrder(i)&&r)for(f=0,o=r;f<o.length;f++){if(u=o[f],u==i)break;if(u.type==i.type&&u.handoffType==i.handoffType&&u.sourceForGroup==i.sourceForGroup)return!1}return n.RuntimeConfig.AlwaysWide&&!i.previewPaneType?!1:!0},r.prototype.createMulticlassClassifierTopHitSuggestionList=function(i){for(var r=0,u=0;u<Math.min(i.length,n.config.maxNumberOfTopResults);u++)i[u].rankingScore!==undefined&&i[u].rankingScore>.5&&(r=u);return r==0&&t.topHitIsMultiEntity(i)&&(r=1),n.config.bypassFallbackOnMSBTopHit==4&&i.length>0&&n.isMsbOnlineSuggestionType(i[0].type)&&(r=1),i.slice(0,r+1)},r.prototype.createFeatureStore=function(t,i,r,u,f,e,o,s,h){var st=[],nt=0,ht=0,tt=0,ct=t.queryToFetch.toLocaleLowerCase(),bt=function(t){return n.getGroupType(t)},lt=n.getSumMruLaunches(u),at=0,vt={},it,rt,yt,k,ut,v,y,l,p,d,ft,et,w,g,ot,a,c,b,pt,wt;for(u&&(it=n.evaluateGroupLaunches(u),at=it.otherGroupLaunches,vt=it.groupLaunches),rt=n.computeGroupBackpropagatedClicks(t.queryToFetch,h),yt=n.computeSuggestionBackpropagatedClicks(t.queryToFetch,h),k=0,ut=i;k<ut.length;k++)v=ut[k],v.handoffType==2&&(y=n.getAppItem(v),y&&(ht+=y.totalLaunches,y.totalLaunches>nt&&(nt=y.totalLaunches)),v.deviceItem&&v.deviceItem.rankScore>tt&&(tt=v.deviceItem.rankScore));for(l={},n.isWeekend()&&(l[440]=1),l[441]=this.getLocalHourBucket(new Date),p=ct.split(" "),d=0,ft=p;d<ft.length;d++){if(et=ft[d],et=="install"){l[451]=1;break}if(et=="uninstall"){l[450]=1;break}}for(p&&p.length>0&&(w=p[0],l[452]=w.indexOf("c:")>-1||w.indexOf("d:")>-1||w.indexOf("e:")>-1||w.indexOf("f:")>-1?1:0),g=0,ot=i;g<ot.length;g++)a=ot[g],c=this.getSuggestionFeatureStore(ct,a,f,r,ht,o),c[13]=nt,c[7]=tt,r&&r.WebSignalsAvailable&&(c[93]=1),n.setMRUSignal(n.getSuggestionKey(a),c,u,lt),this.setMRUGroupLaunchRatios(c,a,lt,vt,at,s),n.setMRUBackPropSignal(n.getSuggestionKey(a),c,yt),rt&&n.setMRUGroupBackpropClicks(c,a,bt,rt),b=n.getTextForLexicalFeatures(a),b&&(a.handoffType==1&&(n.computeUrlFeatures(b,t.queryToFetch,c,e),pt=n.getDomain(b),n.computeDomainFeatures(a,t.queryToFetch,c,e,pt,f)),n.isFileOrFolder(a.type)&&(wt=e.cvid+e.privacyNumber+b,c[131]=n.stringHashCode(wt))),l&&(c[440]=l[440],c[441]=l[441],c[451]=l[451],c[450]=l[450],c[452]=l[452]),n.removeUndefinedAndZeroAndTrimValues(c),st.push(c);return st},r.prototype.setGroupSuppressionSignals=function(t,i){var f,e,u;if(t)for(t.maxGroupCCR={},t.maxGroupProbSugClickGivenPref={},t.mruGroupBackpropRatios={},t.mruGroupBackpropWeights={},f=0,e=i;f<e.length;f++)if(u=e[f],u.featureStore){var r=n.getGroupType(u),o=u.featureStore[94]||0,s=u.featureStore[0]||0;t.maxGroupCCR[r]=t.maxGroupCCR[r]?Math.max(t.maxGroupCCR[r],o):o;t.maxGroupProbSugClickGivenPref[r]=t.maxGroupProbSugClickGivenPref[r]?Math.max(t.maxGroupProbSugClickGivenPref[r],s):s;t.mruGroupBackpropRatios[r]=u.featureStore[266];t.mruGroupBackpropWeights[r]=u.featureStore[267];(t.mruGroupBackpropWeights[r]||t.mruGroupBackpropRatios[r])&&(t.backPropDataExists=!0)}},r.prototype.setMRUGroupLaunchRatios=function(t,i,r,u,f,e){var s,o;if(r){e&&(e.mruGroupRatios={});t[186]=f/r;for(s in u){o=u[s]/r;n.getGroupType(i)==Number(s)&&(t[271]=o);e&&(e.mruGroupRatios[s]=o);switch(Number(s)){case n.GroupType.Apps:t[169]=o;break;case n.GroupType.Settings:t[170]=o;break;case n.GroupType.Cortana:t[171]=o;break;case n.GroupType.Command:t[172]=o;break;case n.GroupType.Photos:t[173]=o;break;case n.GroupType.Videos:t[174]=o;break;case n.GroupType.Music:t[175]=o;break;case n.GroupType.Documents:t[176]=o;break;case n.GroupType.Folders:t[177]=o;break;case n.GroupType.Emails:t[178]=o;break;case n.GroupType.Store:t[179]=o;break;case n.GroupType.SearchSuggestions:t[262]=o;t[180]=u[n.GroupType.Websites]?(u[n.GroupType.Websites]+u[s])/r:o;break;case n.GroupType.Websites:t[263]=o;t[180]=u[n.GroupType.SearchSuggestions]?(u[n.GroupType.SearchSuggestions]+u[s])/r:o;break;case n.GroupType.PathCompletion:t[181]=o;break;case n.GroupType.People:t[184]=o;break;case n.GroupType.Bookmarks:t[260]=o;break;case n.GroupType.LocalPlaces:t[261]=o}}}},r.prototype.getRank=function(t){if(t.deviceItem&&typeof t.deviceItem.rankScore!="undefined")return t.deviceItem.rankScore;var i=n.isJumpListSuggestion(t)?t.jumpListItem.usagePoints:undefined;return typeof i!="undefined"?i:undefined},r.prototype.getSuggestionFeatureStore=function(t,i,r,u,f,e){var o={},c,b,l,a,v,y,h,s,k,nt,p,d,tt,w,g;if(this.setTypeSignal(i,o),c=n.getAppItem(i),c?(o[2]=c.totalLaunches,o[92]=c.launchArguments?1:0,f>0&&(o[103]=c.totalLaunches/f),this.addLastAccessDate(c.lastAccessed,o)):this.addLastAccessDate(n.isJumpListSuggestion(i)?i.jumpListItem.lastAccessed:null,o),o[99]=i.confidence,o[150]=i.source,o[283]=i.pinnedToTaskbar?1:undefined,i.hc&&(o[189]=1),o[17]=i.highConfidenceMetaSuggestionScore,b=this.getRank(i),typeof b!="undefined"?o[16]=b:o[4]=1,l=i,l.matchedOnlyOnContent&&(o[259]=1),l.matchedOnlyOnAuthor&&(o[273]=1),l.lastModifiedDate&&(o[268]=n.getTimeDiffInDays(l.lastModifiedDate)),l.extensionLC==".lnk"&&(o[272]=1),o[23]=i.prefetchConfidenceScore,o[264]=u&&u.ProbNextKS!==undefined?u.ProbNextKS:1,o[296]=u&&u.ProbNextKSV2!==undefined?u.ProbNextKSV2:1,this.setThresholdRatios(o,u),this.setRatios(o,u),a=n.getGroupType(i),v=i.query,i.type=="SW"&&(v="SearchTheWeb"),y=n.getAthenaGroupKey(String(a),String(i.handoffType),i.type),n.setEngagementSignals(o,r,y,v,!1,!1),n.setEngagementSignals(o,e,y,v,!1,!0),e&&!r&&n.setEngagementSignals(o,e,y,v,!1,!1),o[10]=t.length,(i.isAnswer||a==n.GroupType.Cortana)&&(o[11]=1),h=n.getTextForLexicalFeatures(i),s=h?h.toLocaleLowerCase():null,h||(o[132]=1),s==t&&(o[133]=1),i.handoffType==2&&(o[8]=1,n.isSetting(i.type)&&(o[64]=1),n.isApp(i.type)&&(o[83]=1)),a==n.GroupType.SearchSuggestions&&(i.type!="SW"&&(o[82]=1),o[25]=1),k=o[132]==1,k?o[137]=t.length:(o[137]=h.length,o[134]=n.getEditDistance(t,s),o[135]=Math.min(100,n.computeEditDistanceRatio(o[134],t.length,h.length)),o[136]=n.isWordBoundary(t,h),o[284]=Math.abs(h.length-t.length)),!k&&s){for(s.indexOf(t)>-1&&(o[143]=1),s.substring(0,t.length)===t&&(o[188]=1),nt=s.split(" "),p=0,d=nt;p<d.length;p++)if(tt=d[p],tt==t){o[145]=1;break}o[420]=n.computeJaroSimilarity(t,s);o[421]=n.computeJaroWinklerSimilarity(t,s)}return o[1]==1&&i.deviceItem&&(w=n.getAppItem(i),w.extension&&(o[400]=w.extension===".exe"?1:0,o[401]=w.extension===".appref-ms"?1:0),s&&(o[402]=s.indexOf("install")>-1?1:0)),o[1]||i.type!="FL"&&i.type!="FD"&&i.type!="ST"||(o[403]=1),(i.type=="QP"||i.type=="QS"||i.type=="SC"||i.type=="OS")&&(o[404]=1),o[8]==1&&(o[27]=o[133]),(i.isAnswer||a==n.GroupType.Cortana)&&(o[55]=o[133]),(i.type=="HS"||i.fromHistory)&&(o[121]=1),o[41]=o[83]==1?o[40]:o[64]==1?o[39]:o[11]==1?o[32]:o[89]==1?o[54]:o[85]==1?o[30]:o[86]==1?o[53]:o[87]==1?o[52]:o[61]==1?o[31]:o[88]==1?o[51]:o[63]==1?o[35]:o[82]==1?o[29]:o[90]==1?o[50]:o[59]==1?o[34]:o[37],(n.isSetting(i.type)||n.isApp(i.type))&&(g=i.ciMetaData,this.computeConstraintIndexFeatures(i.deviceItem,o,g),i.ciMatchedQuery=this.getConstraintIndexMatchedQuery(g),o[269]&&o[270]&&(o[405]=Math.sqrt(o[269]*o[270]))),i.signals&&(o[230]=i.signals.DistanceToEntity,o[231]=i.signals.DistanceToEntityPrecision,o[232]=i.signals.RankingScore),o},r.prototype.addLastAccessDate=function(t,i){var r=n.getTimeDiffInDays(t);r!=null?i[9]=r:i[19]=1},r.prototype.setTypeSignal=function(n,t){switch(n.type){case"LDOC":case"FL":t[61]=1;break;case"LI":t[85]=1;break;case"LV":t[86]=1;break;case"MU":t[87]=1;break;case"FD":t[88]=1;break;case"CG":t[89]=1;break;case"PT":t[90]=1;break;case"PP":case"IBA":t[1]=1;break;case"ML":case"MD":t[21]=1;break;case"SW":t[59]=1}},r.prototype.setRatios=function(n,t){t&&t.AppsRatio!==undefined&&(n[26]=t.AppsRatio,t.SettingsRatio&&(n[5]=t.SettingsRatio),t.StoreRatio&&(n[57]=t.StoreRatio),t.PrefixProbability&&(n[12]=t.PrefixProbability),t.FilesRatio&&(n[24]=t.FilesRatio),t.WebRatio&&(n[18]=t.WebRatio),t.PhotosVideosMusicRatio&&(n[28]=t.PhotosVideosMusicRatio),t.ContactsRatio&&(n[56]=t.ContactsRatio),t.LocalProtocolRatio&&(n[91]=t.LocalProtocolRatio))},r.prototype.setThresholdRatios=function(n,t){t&&t.ThApps!==undefined?(n[40]=t.ThApps,t.ThStore&&(n[35]=t.ThStore),t.ThSetting&&(n[39]=t.ThSetting),t.ThCortAns&&(n[32]=t.ThCortAns),t.ThPrefixCount&&(n[38]=t.ThPrefixCount),t.ThWeb&&(n[29]=t.ThWeb),t.ThSearchTheWeb&&(n[34]=t.ThSearchTheWeb),t.ThOther&&(n[37]=t.ThOther),t.ThFile&&(n[31]=t.ThFile),t.ThFolder&&(n[51]=t.ThFolder),t.ThPath&&(n[50]=t.ThPath),t.ThEmail&&(n[33]=t.ThEmail),t.ThCommAns&&(n[54]=t.ThCommAns),t.ThPhotoAns&&(n[30]=t.ThPhotoAns),t.ThVideoAns&&(n[53]=t.ThVideoAns),t.ThMusicAns&&(n[52]=t.ThMusicAns),t.ThDNav&&(n[147]=t.ThDNav)):n[42]=1},r.prototype.computeConstraintIndexFeatures=function(n,t,i){var u,o,f,e,s,r;if(n&&n.rawIndexResponse){if(!i)return;if(t[157]=i.GrammarScore,t[158]=i.MatchScore,i.Parses&&i.Parses.length>0&&i.Parses[0].Entities&&i.Parses[0].Entities.length>0)for(u=0,o=i.Parses[0].Entities;u<o.length;u++)if(f=o[u],t[159]=f.EntityScore,f.Attributes)for(e=0,s=f.Attributes;e<s.length;e++)r=s[e],r.Name=="gscore"?t[269]=Number(r.Value):r.Name=="lscore"&&(t[270]=Number(r.Value))}},r.prototype.getConstraintIndexMatchedQuery=function(n){return!n||n.MatchScore==0?null:n.Query},r.prototype.getLocalHourBucket=function(n){var t=n.getHours(),i=1;return t>=0&&t<6?i=1:t>=6&&t<12?i=2:t>=12&&t<18?i=3:t>=18&&t<=23&&(i=4),i},r}();t.FastRankRanker=r})(t=n.Ranking||(n.Ranking={}))}(WSB||(WSB={})),function(n){var t=function(){function t(t){var i=this;this._instrumentationProvider=t;n.Host.bindDismissed(function(){return i.flushAggregatedMeasure(!0)})}return t.prototype.onNewKeystroke=function(n,t,i){this.flushAggregatedMeasure();this._aggregatedMeasureFlushed=!1;this._currentLeftPaneSuggestions=null;this._currentRawImpressionGuid=t;this._currentRawClientImpressionGuid=SearchAppWrapper.CortanaApp.impressionId;this._keystrokeAggregatedMeasure={CVID:n};this._currentKeystrokeAggregatedMeasureIsForSearchHome=i},t.prototype.flushAggregatedMeasure=function(n){(n||this._currentKeystrokeAggregatedMeasureIsForSearchHome)&&!this._aggregatedMeasureFlushed&&this._keystrokeAggregatedMeasure&&Object.keys(this._keystrokeAggregatedMeasure).length>1&&(this.logProfilerMarker(1,0,"KeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._currentRawClientImpressionGuid,this._keystrokeAggregatedMeasure),this._aggregatedMeasureFlushed=!0)},t.prototype.logSingleMeasure=function(n,t,i){this.logProfilerMarker(1,0,n,t,SearchAppWrapper.CortanaApp.impressionId||t,i)},t.prototype.logProfilerMarker=function(n,t,i,r,u,f){u!=r&&(f.ServerIG=r);this._instrumentationProvider.logProfilerMarker(n,t,i,u,f)},t.prototype.logAggregate=function(n,t){this._keystrokeAggregatedMeasure[n]=t},t.prototype.getItemLayoutFromSuggestionsList=function(n){var u,e,i,f,r,t;if(this._currentLeftPaneSuggestions){for(u=this._currentLeftPaneSuggestions.topResults,e=this._currentLeftPaneSuggestions.groups,t=0;t<u.length;++t)if(u[t].instItem==n)return{IsInTopResult:!0,GroupType:undefined,PositionInGroup:t};for(i=0,f=e;i<f.length;i++)for(r=f[i],t=0;t<r.suggestions.length;++t)if(r.suggestions[t].instItem==n)return{IsInTopResult:undefined,GroupType:r.typeWithSource.type,PositionInGroup:t}}return undefined},t.prototype.updateSuggestionsList=function(n,t){this._currentLeftPaneSuggestions={topResults:n,groups:t}},t.prototype.logDataSourcePerformancesMeasure=function(n){var t=n.RequestBegin,i=Object.keys(n.ResponseReceived).map(function(i){return{Name:i,ResponseReceivedTime:n.ResponseReceived[i]-t,RenderedTime:n.RenderFinished[i]-t,Status:n.DataSourcesState&&n.DataSourcesState[i]}}),r=n.TopResultRendered.map(function(n){return{Type:n.T,Time:n.V-t}}),u={DataSources:i,TopResultRendered:r};this.logAggregate("DataSourcePerformancesMeasure",u)},t.prototype.logNewKeystrokeMeasure=function(t,i,r){this.onNewKeystroke(t,i,r.isSearchHomeZI);var u={ScopeInQuery:r.scopePrefix,Scope:r.scope,IsSearchHome:r.isSearchHomeZI};u.CIVersion=n.ConstraintIndex.currentCIVersion;this.logAggregate("NewKeystrokeMeasure",u)},t.prototype.logTopResultsRenderedMeasure=function(t,i){this._instrumentationProvider.logProfilerMarker(1,0,"topResultRendered",t,{CI:n.ConstraintIndex.currentCIVersion});var r={SuggestionTypes:i};this.logAggregate("TopResultsRenderedMeasure",r)},t.prototype.logGroupsRenderedMeasure=function(n){var t={GroupTypes:n};this.logAggregate("GroupsRenderedMeasure",t)},t.prototype.logPreviewPaneOpenedMeasure=function(n,t,i){var r={ParentType:n.getQsCode(),PreviewPaneType:t,ParentLayoutInfo:this.getItemLayoutFromSuggestionsList(n),AutoOpened:i||undefined};this.logAggregate("LastPreviewPaneOpened",r)},t.prototype.logConversationStartMeasure=function(n,t){var i={CVID:n,StartTime:t};this.logSingleMeasure("ConversationStartMeasure",n,i)},t.prototype.logItemClickedMeasure=function(n,t,i,r){var u={CVID:n,ItemType:i.getQsCode(),InputType:r,LayoutInfo:this.getItemLayoutFromSuggestionsList(i)};this.flushAggregatedMeasure(!0);this.logSingleMeasure("ItemClickedMeasure",t,u)},t}();n.WindowsTelemetry=t}(WSB||(WSB={})),function(n){var t=/[+.\\*?\[\]()]/g,i={".":"\\.","+":"\\+","*":"\\*","\\":"\\\\","?":"\\?","[":"\\[","]":"\\]","(":"\\(",")":"\\)"},r=/^(?:https?:\/\/)?(.*)/,u=/^(?:(?:https?:\/\/(?:www\.)?)|(?:www\.))(.*)/,f=/^\s+/,e=function(){function e(){var t=this;n.Host.bindKeyDown(function(i){n.isUpOrDownKey(i)&&t.reset()});n.Host.bindQueryChangedOrInitialized(function(n){t._currentQuery=n;!t._fullAutoCompletedQuery||t._fullAutoCompletedQuery.startsWith(n.originalQuery)||n.originalQuery.startsWith(t._fullAutoCompletedQuery)||t.reset()})}return e.prototype.apply=function(t){var r,o,i;if(t.query!=this._autoCompletedQuery){if(r=this._currentQuery.originalQuery,n.Host.setAutoCompleteQueryText(""),this._currentQuery.originalCursorPosition===r.length){var s=this._currentQuery.scopePrefix?this._currentQuery.scopePrefix.length+1:0,u=r.substr(s).replace(f,"").toLowerCase(),e=t.query.toLowerCase();if(u!==e&&(o=1,i=this.fullAutoCompleteOffset(e,u),i<0&&t.url&&(i=this.infixAutoCompleteOffset(e,u),o=2),i<0&&(i=this.directNavAutoCompleteOffset(e,u)),i>=0)){this.setAutoCompletedQuery(r,t.query,i);t.autoCompleteType=o;return}}this._autoCompletedQuery&&(this.reset(),n.Host.setAutoCompleteQueryText(r))}},e.prototype.reset=function(){this._autoCompletedQuery=null;this._fullAutoCompletedQuery=null},e.prototype.fullAutoCompleteOffset=function(n,t){var i=n.startsWith(t);return i?t.length:-1},e.prototype.infixAutoCompleteOffset=function(n,u){var f=n.search("[ .:,\\\\/+_&-]"+u.replace(t,function(n){return i[n]})),e,o;return f>0&&(e=n.substring(0,f+1).match(r)[1],o=e?e.match(/[ .:,\\/+_&-]+/g).length+1:1,o<3)?f+1+u.length:-1},e.prototype.directNavAutoCompleteOffset=function(n,t){var i=t.match(u),r;return i&&(r=i[1],r.length>0&&n.startsWith(i[1]))?r.length:-1},e.prototype.setAutoCompletedQuery=function(t,i,r){var u=t+i.slice(r);n.Host.setAutoCompleteQueryText(u);this._autoCompletedQuery=i;this._fullAutoCompletedQuery=u},e}();n.WSBAutoComplete=e}(WSB||(WSB={})),function(n){var t;(function(t){function e(t,i){var r,u;return i?(r=n.getKnownFolderPathLC(n.FOLDERID_SkyDrive),r?r+="\\":r="\\onedrive\\",u=t.indexOf(r),u>=0&&(t=t.substr(u+r.length))):t.startsWith("onedrive:\\")&&(t=t.substr(10)),t}function o(t,i,r){var f,e,s,u,o;return i?(f=n.getKnownFolderPathLC(n.FOLDERID_Profile)+"\\onedrive - ",e=t.indexOf(f),e>=0&&(s=t.indexOf("\\",e+f.length),t=t.substr(s+1))):(u=n.AccessTokenManager.getWindowsIdentity(),u&&t.startsWith("onedrive for business:\\")&&r&&(o=u.indexOf("@"),o!=-1&&r.toLocaleLowerCase().indexOf("personal/"+u.substr(0,o))>0&&(t=t.substr(23)))),t}function l(n){return{fullySuppressedGroups:n.fullySuppressedGroups?n.fullySuppressedGroups.slice(0):[],partiallySuppressedGroups:n.partiallySuppressedGroups?n.partiallySuppressedGroups.slice(0):[],suppressedSuggestions:n.suppressedSuggestions?n.suppressedSuggestions.slice(0):[]}}function s(t,i,r){var f="",e,o,u,s;return r?(e=n.getKnownFolderPathLC(n.FOLDERID_Profile)+"\\"+n.SubstrateTenantName.toLocaleLowerCase()+"\\",o=i.indexOf(e),o>=0&&(u=o+e.length,s=i.indexOf(" - ",u),f=i.substr(u,s-u).toLocaleLowerCase(),i=i.substr(s+3))):i.startsWith("sharepoint:\\")&&(i=i.substr(12),f=t.siteTitle.toLocaleLowerCase()),[i,f]}function a(n){return n.type=="SW"||n.type=="PWL"}function r(n,t){return!n.suppressed&&n.handoffType==0&&!n.htmlContent&&n.query.toLocaleLowerCase()==t.queryToFetch.toLocaleLowerCase()}function h(n){return n.length>=2&&n[0].type=="MB"&&n[1].type=="MB"}var u={"Microsoft.Windows.ControlPanel":"ControlPanel","Microsoft.AutoGenerated.{923DD477-5846-686B-A659-0FCCD73851A8}":"Classic_{E9C71548-B580-43B2-ACDB-1BA924002754}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\dfrgui.exe":"Classic_{7D13A5DB-6081-48BD-8EA3-A9D7FE67A335}","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows Defender\\MSASCui.exe":"NameSpace_Classic_{D8559EB9-20C0-410E-BEDA-7ED416AECC2A}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\cleanmgr.exe":"Classic_{AACA901F-E74F-4894-B074-F55059532853}","Microsoft.AutoGenerated.{BB044BFD-25B7-2FAA-22A8-6371A93E0456}":"Classic_{45FDB5DF-1457-4A41-A824-7AD9C75767BC}","Microsoft.Windows.PCSettings.DefaultApps":"AAA_SettingsPageAppsDefaults"},f={"NameSpace_Classic_{F942C606-0914-47AB-BE56-1321B8035096}":"Classic_{232A1851-808C-4B44-A92A-38E862989CE5",AAA_Proxy_Automatic_Config_Group:"AAA_SettingsPageNetworkProxy",AAA_Settings_DeveloperModeGroup:"AAA_SettingsPageRestoreDeveloperOptions",AAA_SystemSettings_Users_PicturePassword:"AAA_SettingsGroupPicturePassword"},i,c;(function(n){n[n.NotDuplicate=0]="NotDuplicate";n[n.NoMetadata=1]="NoMetadata";n[n.MergeMetadata=2]="MergeMetadata"})(i||(i={}));t.isWebSuggestionForPrefix=r;t.topHitIsMultiEntity=h;c=function(){function t(t,i,r,u,f,e,o,s){var h=this;this._navigationHelper=t;this._previousKeystrokeCache=i;this._conversationCache=r;this._ranker=u;this._renderedTopResults=f;this._previewPane=e;this._imageSearchViewModel=o;this._upsellViewModel=s;n.config.enableConversationCache&&this._conversationCache&&n.Host.bindDismissed(function(){h._conversationCache.clean()})}return t.prototype.launchWebSearch=function(t,i,r,u){var f=t.queryToFetch;n.Host.launchSearch(f,this._navigationHelper.getSearchUrl(t.fullPartialQuery,f,r,null,u),i)},t.prototype.getProtocol=function(t,i){var u="PWL",r=n.InstrumentationHelper.getInstrumentedSyntheticSuggestion(i,u),f;return r?r:(r=n.createSuggestion(t,null,n.Host.getEdgeIcon,null,u,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,n.SyntheticQSCodesMaps.KValues),1,i,!1,"tp",function(){return n.Host.launchUri(r.url)}),r.notAResult=!0,f=function(t){var i=n.prettyPrintUrl(t.fixedUrl,t.queryToFetch,!0);r.url=t.fixedUrl;r.tooltip=t.fixedUrl;r.query=i;r.text=HitHighlightingParser.addMarkers(i);r.narratorText=n.getNarratorText(r,n.Host.getLocString("DirectNavSuggestion"))},f(t),r.updateFromQuery=function(n){return n.isProtocol?(f(n),!0):!1},n.InstrumentationHelper.instrumentSyntheticSuggestion(i,r),r)},t.prototype.getWebSearch=function(t,i,r,u,f,e){var o=this,s=n.contains([13,14],f);return n.getSyntheticSuggestion(t,i,r,u,f,e,s,function(n,t){return o.launchWebSearch(t,n.useRaf,r,f)})},t.prototype.getExplorerSearch=function(t,i){var r=n.getSyntheticSuggestion(t,i,"SDFE",{content:"&#xEC50",type:1},2,n.Host.getLocString("SearchInFileExplorer"),!0,function(t,i){return n.Host.launchSearchInFileExplorer(i.queryToFetch)});return n.shouldSetThisPcGroupSource(n.GroupType.Documents,t)&&(r.sourceForGroup=1),r},t.prototype.getOutlookWebAccessSearch=function(t,i){var r=n.AccessTokenManager.getWindowsAccountType()==1;return n.getSyntheticSuggestion(t,i,"OWA",{content:"&#xE715",type:2},r?8:12,n.Host.getLocString("SearchInOutlookWeb"),!0,function(){return n.Host.launchUri(r?"https://outlook.office.com/owa":"https://outlook.live.com/owa")})},t.prototype.getStoreSearch=function(t,i){return n.getSyntheticSuggestion(t,i,"STS",{content:"&#xEA96",type:2},3,n.Host.getLocString("SearchForAppsInTheStore"),!0,function(t,i){return n.Host.launchStoreSearch(i.queryToFetch)})},t.prototype.getRecourse=function(t,i){if(!t.queryToFetch||t.taskFrame)return null;switch(n.getEffectiveScope(t)){case n.Scope.Apps:return n.isBingEnabled()?this.getStoreSearch(t,i):null;case n.Scope.Documents:return this.getExplorerSearch(t,i);case n.Scope.Emails:return n.ScopeConfig[n.Scope.Emails].showUpsellOnSuggestionsList()?null:this.getOutlookWebAccessSearch(t,i);case n.Scope.Photos:return n.isBingEnabled()?this.getWebSearch(t,i,"SBI",{content:"&#xEB9F",type:2},13,n.Host.getLocString("SearchForWebImages")):null;case n.Scope.Videos:return n.isBingEnabled()?this.getWebSearch(t,i,"SBV",{content:"&#xE714",type:1},14,n.Host.getLocString("SearchForWebVideos")):null;default:return null}},t.prototype.getSyntheticSuggestions=function(t,i){var f=n.getScopeConfig(t),e=f.webSyntheticEnabled&&f.webSyntheticEnabled(t),o=e?this.getWebSearch(t,i,"SW",n.getSearchSuggestionIcon(),0,n.getWebSuggestionAnnotation(n.msbEnabledForQuery(t))):null,s=t.isProtocol&&n.RuntimeConfig.AllowProtocolSyntheticSuggestions?this.getProtocol(t,i):null,u=this.getRecourse(t,i),r;return u&&(u.rankingScore=-Number.MAX_VALUE),r=[],this._imageSearchViewModel&&t.isSearchHomeZI&&t.scope==n.Scope.All&&r.push(this._imageSearchViewModel.getSnipSearchSyntheticSuggestion(t,i)),this._upsellViewModel&&r.push(this._upsellViewModel.getUpsellSyntheticSuggestion(t,i)),{protocol:s,searchTheWeb:o,recourse:u,others:r.filter(function(n){return!!n})}},t.prototype.canHaveDuplicates=function(t,i){switch(t){case"Web":case"MRU":case"OSTMA":case"MSBC":case"MSBS":case"QS":case"PP":case"IBA":case"LRA":case"ST":case"FL":case"LM":case"IFF":case"LDIC":case"CG":case"PT":case"MPP":case"MST":case"MFF":case"MRS":case"ODC":case"MPVD":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"SSUE":case"SSUC":case"ANA":return!0;case"FEH":case"TOPP":case"QSCH":case"LSQS":case"WWE":case"MSNW":case"BIMG":case"MSNN":case"SMP":case"SREE":return!1;case"SSEE":return i.scope==n.Scope.Documents||i.scope==n.Scope.Emails||n.RuntimeConfig.QfMode==5;case"SSEC":return i.scope==n.Scope.Emails}throw new Error("New data source "+t+" needs to be explicity classified as needed deduping with other data sources or not");},t.prototype.canHaveDuplicatesWithinDataSource=function(t,i){switch(t){case"MPP":case"MST":case"MRU":case"ST":return!0;case"SSEE":case"SSEC":return i.scope==n.Scope.Emails}return n.supportsShortcuts(t,i)},t.prototype.getAppPfn=function(t){var i=n.getAppItem(t);return i?i.packageFamilyName:null},t.prototype.isDuplicate=function(t,r,h){var a,v,c,l,g,nt,tt,it,d,y,p,rt,ut,b,k;if(r.type=="TOPL"&&t.isSearchHomeZI)return i.NotDuplicate;if(this.isMsbDuplicate(r,h)||n.contains([5,4],r.handoffType)&&n.contains([5,4],h.handoffType)&&r.actionUri==h.actionUri&&r.query.toLocaleLowerCase()==h.query.toLocaleLowerCase()||r.handoffType==10&&h.handoffType==10&&r.type==h.type&&!r.htmlContent&&!h.htmlContent&&r.query.toLocaleLowerCase()==h.query.toLocaleLowerCase()||r.type!="PWL"&&r.handoffType==1&&h.handoffType==1&&n.isDuplicateUrl(t,r.url,h.url)||(a=n.getAppItem(r),v=n.getAppItem(h),c=a?a.filePath:r.path,c&&(c=c.toLocaleLowerCase()),l=v?v.filePath:h.path,l&&(l=l.toLocaleLowerCase()),g=this.getAppPfn(r),nt=this.getAppPfn(h),g&&nt&&g.toLocaleLowerCase()==nt.toLocaleLowerCase()))return i.NoMetadata;if(tt=n.getCommandLineItem(r),it=n.getCommandLineItem(h),tt&&v||it&&a){var ft=c||l,w=tt||it,et=w.encodedPath;return ft&&et&&ft==et.toLocaleLowerCase()?(d=a||v,!w.launchArguments||(d.launchArguments||"").toLocaleLowerCase()==w.launchArguments.toLocaleLowerCase()||!d.launchArguments&&w.launchArguments&&d.displayName.toLocaleLowerCase().startsWith(w.displayName.toLocaleLowerCase())?i.NoMetadata:i.NotDuplicate):i.NotDuplicate}if(r.deviceItem&&h.deviceItem){if(y=r.deviceItem.id||"",p=h.deviceItem.id||"",n.isSetting(r.type)&&n.isSetting(h.type)&&(y=r.deviceItem.displayName,p=h.deviceItem.displayName),y.toLocaleLowerCase()==p.toLocaleLowerCase())return c&&!a&&l&&!v?i.MergeMetadata:i.NoMetadata;if(a){if(n.isSetting(h.type)&&u[y]==p)return i.NoMetadata}else if(n.isSetting(r.type)&&(v&&u[p]==y||n.isSetting(h.type)&&(f[y]==p||f[p]==y)))return i.NoMetadata}if(this.isIcoShortcutDuplicate(r,h)||this.isIcoShortcutDuplicate(h,r))return i.NoMetadata;if(c&&l){if(c==l)return i.MergeMetadata;if(!a&&!v)if(r.handoffType==h.handoffType){if(r.handoffType==8&&r.url==h.url)return i.MergeMetadata}else{if((c=e(c,r.handoffType!=7),l=e(l,h.handoffType!=7),c==l)||(rt=r.handoffType!=8,ut=h.handoffType!=8,c=o(c,rt,r.url),l=o(l,ut,h.url),c==l))return i.MergeMetadata;if(n.SubstrateTenantName){var ot=s(r,c,rt),st=ot[0],lt=ot[1],ht=s(h,l,ut),ct=ht[0],at=ht[1];if(lt==at&&(ct.endsWith(st)||st.endsWith(ct)))return i.MergeMetadata}}if(b=r.targetPathLC,k=h.targetPathLC,a&&h.type=="IBA"&&(c=n.resolveKnownFolderGUIDsInPath(c)),v&&r.type=="IBA"&&(l=n.resolveKnownFolderGUIDsInPath(l)),(b&&k&&b==k||b&&b==l||k&&c==k||c==l)&&(!a||!v||(a.launchArguments||"").toLocaleLowerCase()==(v.launchArguments||"").toLocaleLowerCase()))return i.NoMetadata}return this.isCortanaSettingDuplicate(r,h)||this.isCortanaSettingDuplicate(h,r)?i.NoMetadata:r.type==="PPL"&&h.type==="PPL"&&r.uniqueName&&h.uniqueName&&r.uniqueName.toLocaleLowerCase()===h.uniqueName.toLocaleLowerCase()?i.NoMetadata:r.type==="OLE"&&h.type==="OLE"&&r.internetMessageId===h.internetMessageId?i.NoMetadata:r.type==="BKS"&&h.type==="BKS"&&r.url&&h.url&&r.url===h.url?i.NoMetadata:i.NotDuplicate},t.prototype.mergeDuplicates=function(t,r,u){var f=this.isDuplicate(t,r,u);return f?(f==i.MergeMetadata&&n.enrichMetadataFromDuplicate(t,r,u),r.duplicates=r.duplicates||[],n.contains(r.duplicates,u)||(r.duplicates.push(u),r.needsRefreshAfterDeduping=!0,r.previewPaneNeedsRefreshAfterDeduping=f==i.MergeMetadata),!0):!1},t.prototype.isIcoShortcutDuplicate=function(t,i){return t.targetPathLC&&n.isApp(t.type)&&n.isApp(i.type)&&t.targetPathLC.includes("\\installer\\")&&t.targetPathLC.endsWith(".ico")&&t.text==i.text},t.prototype.isCortanaSettingDuplicate=function(n,t){return n.handoffType==5&&n.actionUri=="ms-cortana://navigate/Settings"&&t.deviceItem&&t.deviceItem.id=="CortanaSettings"},t.prototype.isMsbDuplicate=function(n,t){return n.msbDomain!=null&&n.msbDomain===t.msbDomain&&n.msbId!=null&&n.msbId===t.msbId},t.prototype.rank=function(t,i,u,f,e,o,s,h){var bt,kt=this,ft,ct,ni,nt,k,tt,lt,ti,it,et,vt,d,yt,rt,ii,ot,v,g,ri,st,pt,ui,wt,w,fi;n.isL2(f)&&(s=!1);var b=u.Web,ht=b?b.rankingSignals:null,ei=b?b.webTopResultRoutingType:1,ut=u.MRU,dt=null,c=null,gt=null;ht&&(ht.WebSignalsAvailable=!0,dt=b.engagementSignals,c=b.suppressedGroups,(n.config.groupsToNeverFullySuppress||[]).length>0&&c&&(c.fullySuppressedGroups||[]).length>0&&(ft=[],ct=[],c.fullySuppressedGroups.forEach(function(t){n.contains(n.config.groupsToNeverFullySuppress,t)?ft.push(t):ct.push(t)}),ft.length>0&&(c=l(c),c.fullySuppressedGroups=ct,(bt=c.partiallySuppressedGroups).push.apply(bt,ft))));this._previousKeystrokeCache&&(gt=this._previousKeystrokeCache.getPreviousEventWebSignalsData(f.queryToFetch));var oi=ut?ut.SuggestionEngagementData:null,si=ut?ut.LookupCompletions:null,hi={cvid:n.Host.getConversationId(),privacyNumber:n.Host.getPrivacyNumber()},a=this.getSyntheticSuggestions(f,o);if(i=i.slice(),c&&(c.fullySuppressedGroups&&c.fullySuppressedGroups.length>0&&(i=i.filter(function(t){return!n.contains(c.fullySuppressedGroups,String(kt.getGroupTypeForSuppressions(t)))})),c.suppressedSuggestions&&c.suppressedSuggestions.length>0&&(i=i.filter(function(t){return!n.contains(c.suppressedSuggestions,n.getSuggestionKey(t))}))),n.config.suppressFileFolders&&f.queryToFetch.length<n.config.maxPrefixLengthForSupp&&f.scope==n.Scope.All&&(ni=[n.GroupType.Documents,n.GroupType.Folders],i=i.filter(function(t){return!n.contains(ni,n.getGroupType(t))})),t.length==0&&(a.others.length>0&&i.unshift.apply(i,a.others),a.protocol&&i.unshift(a.protocol)),nt=e.length==1&&e[0].childSuggestions&&e[0].childSuggestions.some(function(n){return n.displayed}),k=this.getSuggestionsToRank(nt,t,i,a,o),n.config.bypassRankerOnNoNewSuggestions&&i&&i.length&&(f.hasNewSuggestions=!0),tt=[],n.config.enableConversationCache&&this._conversationCache&&!n.isL2(f)&&(this._conversationCache.refreshPartialQuery(f.queryToFetch),tt=k.filter(function(n){return!kt.isConversationCached(n,f)&&n.type!="SW"}),tt.length>0&&f.queryToFetch.length>0)){lt=!1;t.some(function(n){return n.type=="SW"})&&(lt=!0);t=this._conversationCache.retrieveItemsFromCache(!0);for(ti in t)t[ti].sequenceNumber=o;i=tt;k=this.getSuggestionsToRank(nt,t,i,a,o);lt&&a.searchTheWeb&&t.push(a.searchTheWeb)}it=this._ranker.rank(f,k,ht,oi,si,dt,hi,gt,h,a);this._previousKeystrokeCache&&!s&&this._previousKeystrokeCache.updateSpellerTriggerData(f.queryToFetch,k);t.length==0&&a.recourse&&i.push(a.recourse);var y=this.determineTopResults(e,i,it,a,f,o,nt),at=t.filter(function(t){return!n.contains(e,t)}),p=this.determineSuggestionsToAddToGroups(at,i,e,y,a,f,nt,s);if(!n.RuntimeConfig.FlatListWithoutGroups&&it.mruSuppressions&&it.mruSuppressions.backPropDataExists)this.applyMRUSuppressions(it,e,y,p,f);else if(c&&c.partiallySuppressedGroups&&this.canPartiallySuppressGroups(y,p))for(et=0,vt=p;et<vt.length;et++)d=vt[et],r(d,f)||(yt=this.getGroupTypeForSuppressions(d),this.canBePartiallySuppressed(d,yt)&&n.contains(c.partiallySuppressedGroups,String(yt))&&(n.contains(e,d)||(d.suppressed=!0)));if(rt=[],this.removeProtocolIfDuplicate(f,a,y,at,p,rt),ii=n.isDataSourceEnabled("SMP",f)&&i.some(function(t){return n.getGroupType(t)==n.GroupType.MeetingPrep}),ii&&(ot=a.others.find(function(n){return n.type=="SNSC"}),ot&&(n.tryRemove(p,ot)||n.config.enableConversationCache||rt.push(ot))),this.setUseRafFlag(y,p,f,ei),v=this.getGroupOrder(f,p,at),f.staticGroupOrder){for(g=[],ri=function(n){var t=v.findIndex(function(t){return t.type==n});t>=0&&(g.push(v[t]),v.splice(t,1))},st=0,pt=f.staticGroupOrder;st<pt.length;st++)ui=pt[st],ri(ui);g.length>0&&(g.push.apply(g,v),v=g)}else f.forceGroupOnTop&&(wt=f.forceGroupOnTop,w=v.findIndex(function(t){return n.sameGroup(t,wt)}),w>=0&&(v.splice(w,1),v.unshift(wt)),w=v.findIndex(function(t){return n.isTopHitChildGroup(t)}),w>=0&&(fi=v[w],v.splice(w,1),v.unshift(fi)));if(n.RuntimeConfig.FlatListWithoutGroups&&(y=y.concat(p.filter(function(n){return!n.suppressed})),p=[],n.trimList(y,n.RuntimeConfig.MaxSuggestionsWhenFlatList,function(i){return!n.contains(t,i)&&!i.notAResult}),rt.length!=0))throw new Error("Can't remove suggestions from groups when there are no groups");return n.config.promoteEdgeOverIE&&this.promoteEdgeOverInternetExplorer(p,y),n.config.disableEdgeUpsellQF||f.scope!==n.Scope.All||n.RuntimeConfig.QfMode!==0&&n.RuntimeConfig.QfMode!==1||this.promoteEdgeUpsellBanner(y,f,o),n.config.enableConversationCache&&this._conversationCache&&!n.isL2(f)&&tt.length>0&&f.queryToFetch.length>0&&(this._conversationCache.setTopResultCount(y.length),this._conversationCache.setSuggestions(k)),{topResults:y,suggestionsToAdd:p,suggestionsToRemove:rt,groupOrder:v}},t.prototype.isConversationCached=function(n,t){for(var i,f=this._conversationCache.retrieveItemsFromCache(!0),r=0,u=f;r<u.length;r++){if(i=u[r],this.isDuplicate(t,n,i))return this._conversationCache.update(n),!0;if(n.query==i.query&&n.handoffType==i.handoffType){if(n.type=="SW"&&i.type!="SW"&&i.handoffType==0)continue;return!0}if(this._conversationCache.isCached(n))return!0}return!1},t.prototype.promoteEdgeOverInternetExplorer=function(t,i){var r=i.findIndex(function(t){return t.deviceItem&&t.deviceItem.id==n.InternetExplorerId}),u=t.findIndex(function(t){return t.deviceItem&&n.contains(n.AnaheimAppIds,t.deviceItem.id)});r>=0&&u>=0&&(i.unshift(t.splice(u,1)[0]),t.unshift(i.splice(r+1,1)[0]))},t.prototype.promoteEdgeUpsellBanner=function(t,i,r){var f="EUP",e=t.findIndex(function(t){return t.deviceItem&&t.deviceItem.id==n.InternetExplorerId}),o=t.findIndex(function(n){return n.id==f}),u;e>=0&&o<0&&n.canShowQFUpsell()&&(u=this._upsellViewModel.getEdgeUpsellBanner(i,r),u&&t.unshift(u))},t.prototype.applyMRUSuppressions=function(t,i,u,f,e){var h,l,s,o;if(this.canPartiallySuppressGroups(u,f)){var c={};for(h=0,l=f;h<l.length;h++)if(s=l[h],!r(s,e)&&(o=n.getGroupType(s),this.canBePartiallySuppressed(s,o))){if(!c[o]){var a=t.mruSuppressions.maxGroupCCR?t.mruSuppressions.maxGroupCCR[o]||0:0,v=t.mruSuppressions.maxGroupProbSugClickGivenPref?t.mruSuppressions.maxGroupProbSugClickGivenPref[o]||0:0,y=t.mruSuppressions.mruGroupRatios?t.mruSuppressions.mruGroupRatios[o]||0:0,p=t.mruSuppressions.mruGroupBackpropRatios?t.mruSuppressions.mruGroupBackpropRatios[o]||0:0,w=t.mruSuppressions.mruGroupBackpropWeights?t.mruSuppressions.mruGroupBackpropWeights[o]||0:0,b=3.34728026*a+3.523466*v+3.72204852*y+.5865976*p+1.37432766*w+-1.75450325,k=1/(1+Math.exp(-b));c[o]=n.trimFeatureStoreValue(k)}s.mruSuppressionScore=c[o];s.mruSuppressionScore<n.config.lRModelCutOff&&(n.contains(i,s)||(s.suppressed=!0))}}},t.prototype.allowedInGroups=function(n){return n.isAnswer?n.allowedInGroups:!0},t.prototype.getGroupTypeForSuppressions=function(t){var i=n.getGroupType(t);return i==n.GroupType.LocalPlaces?n.GroupType.SearchSuggestions:i},t.prototype.canBePartiallySuppressed=function(t,i){return n.getScope(i)!=n.Scope.All},t.prototype.canPartiallySuppressGroups=function(t,i){return n.RuntimeConfig.ScopesAvailable?t.every(function(t){return n.getGroupType(t)==n.GroupType.SearchSuggestions})&&i.every(function(t){return n.getGroupType(t)==n.GroupType.SearchSuggestions})?!1:!0:!1},t.prototype.isProtocolDuplicate=function(t,i,r){return t==r?!1:t.type=="MD"?!0:t.handoffType==1&&n.isDuplicateUrl(i,t.url,r.url)},t.prototype.removeProtocolIfDuplicate=function(t,i,r,u,f,e){var h=this,o,s;i.protocol&&(o=function(n){return!n.suppressed&&h.isProtocolDuplicate(n,t,i.protocol)},(r.some(o)||u.some(o)||f.some(o))&&(n.tryRemove(r,i.protocol)?r.length||(s=n.removeFirstWhere(u,o)||n.removeFirstWhere(f,o),r.push(s)):n.tryRemove(f,i.protocol)||n.contains(u,i.protocol)&&(n.config.enableConversationCache||e.push(i.protocol)),i.protocol=null))},t.prototype.getSuggestionsToRank=function(t,i,r,u){t&&(i=i.filter(function(t){return!n.isChildSuggestion(t)}));u.recourse&&(i=i.filter(function(n){return n!=u.recourse}));var f=i.concat(r);return n.config.enableConversationCache&&this._conversationCache?u.searchTheWeb&&!n.contains(f,u.searchTheWeb)&&f.push(u.searchTheWeb):u.searchTheWeb&&!n.contains(i,u.searchTheWeb)&&f.push(u.searchTheWeb),f},t.prototype.determineTopResults=function(t,i,u,f,e,o,s){var it=this,c,b,l,v,y,g,k,ut,d,nt,tt,p,w;if(s||!e.queryToFetch||n.config.stickyTopResultsV2&&t.length>1&&!n.isL2(e))return t;if(e.inorganic&&e.queryToFetch){if(t.length>0)return t;if(f.searchTheWeb.query===e.queryToFetch)return t.push(f.searchTheWeb),t}if(c=u.topResults,b=this._previewPane?this._previewPane.getPreviewedSuggestionToForceTopHit():null,b&&this._ranker.allowInTopHit(e,b)&&(l=function(t){return n.isEquivalentForPreviewPanePurposes(e,b,t)},v=c.findIndex(l),v!=0&&(y=void 0,v>0?(y=c[v],c.splice(v,1)):y=t.find(l)||i.find(l)||(f.searchTheWeb?[f.searchTheWeb]:[]).find(l),y&&c.unshift(y))),f.protocol&&f.searchTheWeb&&this._ranker.allowInTopHit(e,f.protocol)&&n.tryRemove(c,f.searchTheWeb),f.searchTheWeb&&(g=c.indexOf(f.searchTheWeb),g>=0&&c.some(function(n){return n!=f.searchTheWeb&&r(n,e)})&&c.splice(g,1)),c.length==0&&(n.config.stickyTopResultsV2&&t.length>0?c.push.apply(c,t):f.protocol&&this._ranker.allowInTopHit(e,f.protocol)?c.push(f.protocol):f.searchTheWeb&&this._ranker.allowInTopHit(e,f.searchTheWeb)?c.push(f.searchTheWeb):f.recourse&&this._ranker.allowInTopHit(e,f.recourse)&&c.push(f.recourse)),k=n.getEffectiveScope(e)==n.Scope.Emails?n.config.maxNumberOfEmailsInTopResult:Math.max(n.config.maxNumberOfTopResults,h(c)?2:0,t.length),n.config.bypassFallbackOnMSBTopHit==4&&c.length>0&&n.isMsbOnlineSuggestionType(c[0].type)&&(k=2),c.length>k&&(c=c.slice(0,k)),n.config.synthWebNoBestMatch&&c.length==1){var rt=[n.GroupType.SearchSuggestions,n.GroupType.Websites],ft=i.filter(function(t){return!n.contains(rt,n.getGroupType(t))}),et=c.filter(function(t){return!n.contains(rt,n.getGroupType(t))});ft.length==0&&et.length==0&&(c=[])}for(ut=function(r){var u=t[r];if(!n.contains(c,u)){if(n.config.enableConversationCache&&c.some(function(n){return it.isDuplicate(e,u,n)}))return"continue";u.useRaf&&(u.useRaf=!1);u!=f.searchTheWeb&&i.unshift(u)}},d=t.length-1;d>=0;--d)ut(d);return c.length==1&&n.safeExecute(function(){return it.applyAppOverride(c,i)},"applyDeviceInfoOverride"),c.forEach(function(n){return n.suppressed=!1}),nt=n.isL2(e),n.config.stickyTopResultsV2&&c.length==1&&t.length==1&&!nt&&(tt=c[0],p=t[0],tt==p||a(p)||n.config.msbDisableStickyWeb&&n.isWebSuggestion(p)&&n.isMsbOnlineSuggestionType(tt.type)||c.unshift(p)),n.config.enableMRUHint&&c.length>0&&this._previousKeystrokeCache&&(w=this._previousKeystrokeCache.getPreviousTopHit(),w&&w.mruHintEnabled&&w.text==c[0].text&&w.type==c[0].type&&(c[0].mruHintEnabled=!0)),n.config.enableCISpeller&&c.length==1&&this._previousKeystrokeCache&&(c[0].type=="PP"||c[0].type=="ST")&&this._previousKeystrokeCache.setPreviousTopHit(nt?null:c[0]),n.config.enableConversationCache&&c.length==2&&this.isDuplicate(e,c[0],c[1])&&c.splice(1,1),c},t.prototype.applyAppOverride=function(n,t){var r=["Microsoft.Office.WINWORD.EXE","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows NT\\Accessories\\wordpad.exe"],u=n[0].deviceItem?n[0].deviceItem.id:null,i;u&&u.startsWith(r[1])&&(i=t.findIndex(function(n){return n.deviceItem&&n.deviceItem.id&&n.deviceItem.id.startsWith(r[0])}),i>=0&&n.splice(0,1,t[i]))},t.prototype.setUseRafFlag=function(t,i,r,u){var e,s,o,h,f;if(n.isCortanaEnabledCache)if(u==2)for(e=0,s=t;e<s.length;e++)f=s[e],f.handoffType!=0||f.isAnswer||(f.useRaf=!0);else for(o=0,h=t;o<h.length;o++)f=h[o],f.handoffType==0&&!f.isAnswer&&n.Host.matchesVcd(f.query)&&(f.useRaf=!0)},t.prototype.determineSuggestionsToAddToGroups=function(t,i,u,f,e,o,s,h){var b=this,c=i.filter(function(t){return!n.contains(f,t)}),a,l,v,y,p,w;for(n.config.enableConversationCache&&this._conversationCache&&this._conversationCache.isFirstRender()&&!n.isL2(o)&&(c=c.concat(t.filter(function(t){return!n.contains(f,t)}))),a=[],n.RuntimeConfig.FlatListWithoutGroups||c.forEach(function(t,i){b.allowedInGroups(t)||(n.getScope(n.getGroupType(t))==n.Scope.All?a.push(i):t.suppressed=!0)}),l=a.length-1;l>=0;--l)c.splice(l,1);return e.searchTheWeb&&(v=f.indexOf(e.searchTheWeb),v!=-1&&(y=n.removeFirstWhere(c,function(n){return r(n,o)}),y&&(f[v]=y))),p=c.filter(function(t){return n.contains([n.GroupType.SearchSuggestions,n.GroupType.Websites,n.GroupType.LocalPlaces],n.getGroupType(t))}),w=c.filter(n.enforceOriginalOrder),!s&&this.canRenderChildSuggestions(f,h,o)&&this.addChildSuggestions(f[0],c),o.queryToFetch&&c.sort(function(n,t){return t.rankingScore-n.rankingScore}),this.insertDefaultSearchTheWeb(o,e,f,t,c,p),c=this.insertSuggestionsToRightPlace(c,w),this.insertSuggestionsToRightPlace(c,p)},t.prototype.insertDefaultSearchTheWeb=function(t,i,u,f,e,o){var s,h;i.searchTheWeb&&(t.scope==n.Scope.Web||t.scope==n.Scope.All)&&(s=o.findIndex(function(n){return r(n,t)}),f.some(function(n){return r(n,t)})||u.some(function(n){return r(n,t)})?s!=-1&&(h=o[s],o.splice(s,1),e.splice(e.indexOf(h),1)):s==-1&&(o.unshift(i.searchTheWeb),e.unshift(i.searchTheWeb)))},t.prototype.getGroupOrder=function(t,i,r){var f,o,a,u,w,b,h,v,k,d,g,c,y,s;switch(t.scope){case n.Scope.Web:if(!t.queryToFetch)return[{type:n.GroupType.Websites},{type:n.GroupType.SearchSuggestions}];break;case n.Scope.Apps:return[{type:n.GroupType.Apps},{type:n.GroupType.Store}];case n.Scope.Photos:return[{type:n.GroupType.Photos},{type:n.GroupType.SearchSuggestions}];case n.Scope.Videos:return[{type:n.GroupType.Videos},{type:n.GroupType.SearchSuggestions}]}f=r.concat(i);f.sort(function(n,t){return t.rankingScore-n.rankingScore});var p=[],l=[],e=[],nt=function(t){if(t.suppressed)l.push(t);else if(p.push(t),n.config.enableStaticGroupRanking){var r=n.getGroupType(t),i={type:r,source:t.sourceForGroup};e.some(function(t){return n.sameGroup(t,i)})||e.push(i)}};for(o=0,a=f;o<a.length;o++)s=a[o],nt(s);if(l.length!=0&&(f=p.concat(l)),u=[],n.config.enableStaticGroupRanking&&f.length>0&&n.getGroupType(f[0])!=n.GroupType.SearchSuggestions){for(w=[{type:n.GroupType.Apps},{type:n.GroupType.Settings},{type:n.GroupType.Documents,source:1}],b=function(t){e.some(function(i){return n.sameGroup(i,t)})&&u.push(t)},h=0,v=w;h<v.length;h++)k=v[h],b(k);n.RuntimeConfig.QfMode!=8&&e.some(function(t){return n.sameGroup(t,{type:n.GroupType.SearchSuggestions})})&&u.push({type:n.GroupType.SearchSuggestions})}for(d=function(t){var r=n.getGroupType(t),i=g.getTypeWithSource(r,t);u.some(function(t){return n.sameGroup(t,i)})||(n.RuntimeConfig.QfMode==8&&i.type==n.GroupType.SearchSuggestions?u.unshift(i):n.config.enableStaticGroupRanking&&n.isTopHitChildGroup(i)?u.unshift(i):u.push(i))},g=this,c=0,y=f;c<y.length;c++)s=y[c],d(s);return u},t.prototype.getTypeWithSource=function(t,i){var r=t==n.GroupType.MRUHistory?undefined:i.sourceForGroup;return{type:t,source:r}},t.prototype.addChildSuggestions=function(t,i){t.calculateChildSuggestions&&t.calculateChildSuggestions();t.childSuggestions&&t.childSuggestions.length>0&&Object.keys(n.config.topHitChildGroups).forEach(function(r,u){var f=parseInt(r),e=n.contains(n.config.suppressedTopHitChildGroups,f)?0:n.config.topHitChildGroups[r],o;e>0&&(o=t.childSuggestions.filter(function(n){return n.groupType==f}).slice(0,e),o.forEach(function(n,t){n.rankingScore=1e4-100*u-t;i.push(n)}))})},t.prototype.canRenderChildSuggestions=function(t,i){var r,u;return n.RuntimeConfig.FlatListWithoutGroups?!1:t.length!=1?!1:(r=t[0],n.RuntimeConfig.AlwaysWide&&r.previewPaneType!=1)?!1:i?this._renderedTopResults.topResults.length==1?(u=this._renderedTopResults.topResults[0],u.hasChildSuggestionsDisplayed&&u.query==r.query&&n.getGroupType(u)==n.getGroupType(r)):!1:!0},t.prototype.insertSuggestionsToRightPlace=function(t,i){var r,e,u,f;if(i.length==0)return t;for(r=[],e=i[0],u=0;u<t.length;u++)f=t[u],f==e?r=r.concat(i):n.contains(i,f)||r.push(f);return r},t}();t.Aggregator=c})(t=n.Ranking||(n.Ranking={}))}(WSB||(WSB={}));__spreadArrays=this&&this.__spreadArrays||function(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var u=Array(i),f=0,n=0;n<r;n++)for(var e=arguments[n],t=0,o=e.length;t<o;t++,f++)u[f]=e[t];return u},function(n){function s(t,i){t(n.getCurrentTime(),n.getInputType(i),i)}function i(n,t){var i=parseInt(n.substr(1),16),r=i>>16&255,u=i>>8&255,f=i&255;return"rgba("+r+","+u+","+f+","+t+")"}function h(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)-t),u=Math.max(0,(i>>8&255)-t),f=Math.max(0,(i&255)-t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}function u(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)*t),u=Math.max(0,(i>>8&255)*t),f=Math.max(0,(i&255)*t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}var f,e,t,r,o;n.invokeClickHandler=s;f="slideInMessage";e="indexingMessage";n.SinglePaneWidth=344;n.PreviewPaneWidth=440;n.DebugWindowWidth=800;n.CobaltPreviewPaneWidth=410;r="aria-selected";o=function(){function o(i){var u=this,e,f;this.lightweightStorage=i;this._performanceWidget=_ge("performanceWidget");this._root=_ge("root");this._windowsTemporaryMessageShown=!1;this._windowsIndexingMessageShown=!1;this._progressBarVisible=!1;this._previewPaneVisible=!1;this._debugWindowVisible=!1;this._suggestionsContainerHeight=0;this._renderingInProgress=!1;this._narratorLaunchHandlers=[];this._viewData={};this._targetElemCache={};e=new MutationObserver(function(n){var t,o,i,f,s,e;if(!u._renderingInProgress){for(t=[],i=0,f=n;i<f.length;i++)s=f[i],e=s.target,o=e.id,t.push(e.getAttribute(r)=="true"?1:0);(t.length==1&&t[0]==0||t.length==2&&t[0]^t[1])&&u._narratorLaunchHandlers.forEach(function(n){return n(o)})}});e.observe(document,{subtree:!0,attributes:!0,attributeFilter:[r]});n.View.getLocString=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return n.Host.getLocString.apply(n.Host,__spreadArrays([t],r))};this.addViewData("TestHooksEnabled",n.TestHookUrlParameters);t=SearchAppWrapper.CortanaApp;this._windowsTemporaryMessageWrapper=_ge("temporaryMessageWrapper");this._windowsIndexingMessageWrapper=_ge("temporaryMessageWrapper");this._qfContainer=_ge("qfContainer");this._flyout=_ge("flyoutContainer");this._flyoutOverlay=_ge("overlayContainer");n.Host.bindAppVisible(function(){var i=t.width,r=t.height;i&&r?u.setDimensions(i,r):ThresholdUtilities.getCortanaHeaders(function(n){if(n){var t=n["X-BM-DeviceDimensionsLogical"].split("x"),i=t[0],r=t[1];u.setDimensions(parseInt(i),r)}});u._isFileExplorerOrControlPanel=n.RuntimeConfig.QfMode==5||n.RuntimeConfig.QfMode==9;n.RuntimeConfig.PreviewPaneAvailable&&(u.initPreviewPane(),n.setVisibility(u._previewPane,n.RuntimeConfig.AlwaysWide),!n.RuntimeConfig.AlwaysWide&&n.Host.hasFallbackHappened()&&t.resetToDefaultSize());u.initDebugWindow();u.setConditionalCss("wideByDefault",n.RuntimeConfig.AlwaysWide);u.setConditionalCss("settingsApp",n.RuntimeConfig.QfMode==7);u.setConditionalCss("santorini",n.RuntimeConfig.QfMode==8);u.setConditionalCss("lockscreen",n.RuntimeConfig.QfMode==6);u.setConditionalCss("fileExplorer",u._isFileExplorerOrControlPanel);u.setConditionalCss("panelCanResize",n.RuntimeConfig.PanelCanResize);u.setConditionalCss("flatListWithoutGroups",n.RuntimeConfig.FlatListWithoutGroups);u.setConditionalCss("searchBoxOnTop",n.RuntimeConfig.SearchBoxOnTop);u.setConditionalCss("noScopes",!n.RuntimeConfig.ScopesAvailable);u.setConditionalCss("searchHomeQuickAnswer",n.shouldEnableQuickSearches(n.Host.getLanguage().toLowerCase()));u.setConditionalCss("cloudDocsOnTheLeft",n.config.cloudDocsOnTheLeft);u.setConditionalCss("showBingImage",n.canShowBingDailyImage(u.lightweightStorage));u.setConditionalCss("snipSearchEnabled",n.shouldEnableSnipSearch());u.setConditionalCss("edgeUpsellBottom",n.config.enableEdgeUpsellBottom);u.setConditionalCss("wweTour",n.config.enableWWETour);u.setConditionalCss("msnNewsAltUX",n.config.msnNewsAlternativeUX);u.setConditionalCss("edgeUpsellIconTransition",n.shouldEnableEdgeUpsellSHTransitionIcon());u.setConditionalCss("enableEdgeUpsellSHTop",n.config.enableEdgeUpsellSHTop);u.setConditionalCss("enableEdgeUpsellResetBanner",n.config.enableAnaheimUpsellResetDefault3);u.setConditionalCss("prong1md",n.config.prong1md&&n.RuntimeConfig.AlwaysWide&&n.config.weatherTileMarkets[n.getCurrentLanguage()]);u.setConditionalCss("prong1Right",n.config.prong1Right);u.setConditionalCss("cobaltFontExperiment",n.config.cobaltFontExperiment);u.setConditionalCss("cobaltIconExperiment",n.config.cobaltIconExperiment);u.setConditionalCss("cobaltSelectionExperiment",n.config.cobaltSelectionExperiment);u.setQueryBasedCss(null)});n.Host.bindBootstrapDone(function(){n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("WSBPage.bindBootstrapDone");var t=_ge("preBootstrapPane");t&&(n.setVisibility(t,!1),t.remove());n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBPage.bindBootstrapDone")});n.Host.bindShown(function(){n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("WSBPage.bindShown");u.applyAccentColor();u.setThemeBasedCss();u.setConditionalCss("snipSearch",t.entryPoint=="WNSSBS"&&n.config.enableSnipSearchV2);n.setVisibility(u._root,!0);n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBPage.bindShown")});n.Host.bindAppHidden(function(){n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("WSBPage.bindAppHidden");u._openPreviewPaneButtonCache=undefined;n.setVisibility(u._previewPane,!1);n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBPage.bindAppHidden")});n.Host.bindQueryChangedOrInitialized(function(){n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("WSBPage.bindQueryChangedOrInitialized");u._isFileExplorerOrControlPanel&&u.updateFENarratorSuggestionCount(null);n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBPage.bindQueryChangedOrInitialized")});n.Host.bindSearchBoxClick(function(){n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("WSBPage.bindSearchBoxClick");n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("WSBPage.bindSearchBoxClick")});f=function(){n.RuntimeConfig.AlwaysWide||(u._previewPaneVisible=!1,n.setVisibility(u._previewPane,!1));u.setDebugWindowVisibility(!1)};n.Host.bindDismissed(function(){u.resetSuggestionsContainerHeight();f()});!!this._performanceWidget&&n.View.PerformanceWidget&&(n.setVisibility(this._performanceWidget,!0),n.Host.bindShown(function(){u.renderReactView("performanceWidget",n.View.PerformanceWidget,{keystrokeTimeline:null})}),n.InstrumentationHelper.bindKeystrokeTimelineUpdated(function(t){u.renderReactView("performanceWidget",n.View.PerformanceWidget,{keystrokeTimeline:t})}));n.config.alwaysWideBeforeRS5&&t.addEventListener("openanimationcompleted",function(){u.ensureWebViewWidthExpanded()});t.addEventListener("resettingtodefaultsize",function(){f()});sj_be(sj_b,"contextmenu",function(n){for(var t=n.target;t;){if(t.classList.contains("allowcontextmenu"))break;t=t.parentElement}t||sj_pd(n)})}return o.prototype.setConditionalCss=function(n,t){t?this._root.classList.add(n):this._root.classList.remove(n)},o.prototype.setQueryBasedCss=function(t){n.RuntimeConfig.QfMode==8?this.setConditionalCss("zeroInputSantorini",!t||!t.queryToFetch):(this.setConditionalCss("zeroInput19H1",t?t.isSearchHomeZI:n.RuntimeConfig.SearchHomeAvailable==1),this.setConditionalCss("allScope",t&&t.scope==n.Scope.All))},o.prototype.setThemeBasedCss=function(){if(n.config.isThemeAware){var t=n.Host.getWindowsTheme(),i=n.Host.getAppTheme();this.setConditionalCss("darkThemeBeta",n.config.darkMode&&t==2&&i==2);this.setConditionalCss("darkTheme19H1",t==2);this.setConditionalCss("lightTheme19H1",t==1)}else n.config.searchHomeSupported&&(this.setConditionalCss("lightTheme19H1",!0),this.setConditionalCss("lightThemeRS5",!0))},o.prototype.initPreviewPane=function(){var i=t.textScaleFactor||1,r=n.config.UseCobaltCSS?n.CobaltPreviewPaneWidth/i:n.PreviewPaneWidth/i;this._previewPane||(this._previewPane=_ge("qfPreviewPane"),this._previewPane.classList.remove("transitionOn"));this._previewPane.style.minWidth=r+"px"},o.prototype.initDebugWindow=function(){this._debugWindow||(this._debugWindow=_ge("qfDebugPane"),this._debugWindow&&(this._debugWindow.style.flexBasis=n.DebugWindowWidth+"px"))},o.prototype.setDimensions=function(n){if(!this._previewPaneVisible&&!this._debugWindowVisible){this.onPaneWidthSet(n);this._originalPaneWidth=n}},o.prototype.ensureWebViewWidthExpanded=function(){var i=n.SinglePaneWidth+n.PreviewPaneWidth;n.RuntimeConfig.QfMode==1&&t.width<i&&(t.setPaneWidth(i),this.setDimensions(i,null))},o.prototype.getScrollTop=function(){return this._qfContainer.scrollTop},o.prototype.scrollToTop=function(){this._qfContainer.scrollTop=0;_d.body.scrollTop=0},o.prototype.scrollTo=function(n){var t=_ge(n.id);this.scrollToElement(t,this._qfContainer,this._qfContainer.offsetHeight)},o.prototype.scrollToElement=function(n,t,i){var u=t.scrollTop,r=n.offsetTop-t.offsetTop,f=r+n.offsetHeight;f>u+i?t.scrollTop=f-i:r<u&&(t.scrollTop=r)},o.prototype.getSuggestionsContainerHeight=function(){return this._suggestionsContainerHeight||this.calculateSuggestionsContainerHeight(),this._suggestionsContainerHeight},o.prototype.getSuggestionsContainerWidth=function(){return(n.MockUrlParameters===null||n.MockUrlParameters===void 0?void 0:n.MockUrlParameters.isTest)?t.width:_w.innerWidth},o.prototype.resetSuggestionsContainerHeight=function(){this._suggestionsContainerHeight=0},o.prototype.calculateSuggestionsContainerHeight=function(){var n=_ge("root").clientHeight,t;n<440&&(n=440);t=_ge("temporaryMessage");n-=t.offsetHeight;this._suggestionsContainerHeight=n},o.prototype.getPanelWidthFor=function(t){var i=this._originalPaneWidth;return i+=t&1?n.PreviewPaneWidth:0,i+(t&2?n.DebugWindowWidth:0)},o.prototype.getPanelState=function(){switch(t.width-this._originalPaneWidth){case 0:return 0;case n.PreviewPaneWidth:return 1;case n.DebugWindowWidth:return 2;case n.PreviewPaneWidth+n.DebugWindowWidth:return 3;default:return 0}},o.prototype.openSidePanel=function(n){var i=this.getPanelState(),u,r;if(i==0&&this.setDimensions(t.width,null),!(i&n)){u=i|n;r=this.getPanelWidthFor(u);t.setPaneWidth(r);this.onPaneWidthSet(r)}},o.prototype.closeSidePanel=function(i){var u=this.getPanelState(),f,r;if(u&i){f=u&~i;r=this.getPanelWidthFor(f);r!=this._originalPaneWidth||n.config.alwaysWideBeforeRS5?t.setPaneWidth(r):t.resetToDefaultSize();this.onPaneWidthSet(r)}},o.prototype.onPaneWidthSet=function(t){n.safeFireEvent("CortanaPaneWidthSet",t)},o.prototype.getOpenPreviewPaneButton=function(){if(!n.RuntimeConfig.PreviewPaneAvailable)return null;if(!this._openPreviewPaneButtonCache){var t=n.isRtl(),i=t?"&#xE96F":"&#xE970";this._openPreviewPaneButtonCache={defaultIcon:{content:i,type:2},openedIcon:{content:t?"&#xE72B":"&#xE72A",type:2},clickHandler:this._openPreviewPaneClickHandler}}return this._openPreviewPaneButtonCache},o.prototype.setContextMenuHandler=function(n){this._contextMenuHandler=n},o.prototype.setSuggestionClickHandler=function(n){this._suggestionClickHandler=n},o.prototype.setOpenPreviewPaneClickHandler=function(n){this._openPreviewPaneClickHandler=n},o.prototype.setExpanderClickInstrumentation=function(n){this._expanderClickInstrumentation=n},o.prototype.updateGroupsView=function(t){var r=this;if((n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.forceRenderingCrashOnSecondConversation)&&n.Host.getPaneCloseCount())throw new Error("Simulated exception");this.setQueryBasedCss(t.query);this.setConditionalCss("ieTopBanner",t.topResults.findIndex(function(t){return t.staticGroupType==n.GroupType.Upsell})>=0);this.setConditionalCss("noSuggestions",t.topResults.length==0&&t.groups.length==0);this.setConditionalCss("msnNewsEnabled",n.shouldEnableMSNNewsSearches(n.Host.getLanguage().toLowerCase()));var u=t.query&&t.query.isSearchHomeZI,f=u?null:" - "+n.getWebSuggestionAnnotation(n.msbEnabledForQuery(t.query)),e=n.RuntimeConfig.QfMode==8&&(!t.query||!t.query.queryToFetch)&&t.groups.length>0&&t.groups[0].type!=n.GroupType.QuickSearch,i={groups:t.groups,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton(),webSuggestionAnnotation:f,deleteMRUButtonCallback:e?function(){return r.deleteMRUButtonCallback()}:null,notifyIconPending:function(t,i){return n.InstrumentationHelper.notifyIconPending(t,i)},notifyIconReadyOrFailed:function(t,i){return n.InstrumentationHelper.notifyIconReadyOrFailed(t,i)}};this.renderReactView("groups",n.View.WindowsGroups,n.config.reactGroups?n.deepCopy(i,["parent"],["deviceItem"]):i)},o.prototype.deleteMRUButtonCallback=function(){sj_evt.fire("clearMRUButtonClicked");n.Host.refreshCurrentPane()},o.prototype.updateFENarratorSuggestionCount=function(t){var i="";this._isFileExplorerOrControlPanel&&t&&(i=n.Host.getLocString("SuggestionCountNarrator",""+t));this.renderReactView("narratorMessageContainer",n.View.FileExplorerNarratorAnnouncement,{message:i})},o.prototype.updateTopResultsView=function(t){var i,r;this.setQueryBasedCss(t.query);this.setConditionalCss("noSuggestions",t.topResults.length==0&&t.groups.length==0);this._isFileExplorerOrControlPanel&&(i=t.topResults.length,this.updateFENarratorSuggestionCount(i>0?i:null));r={suggestions:t.topResults,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton(),notifyIconPending:function(t,i){return n.InstrumentationHelper.notifyIconPending(t,i)},notifyIconReadyOrFailed:function(t,i){return n.InstrumentationHelper.notifyIconReadyOrFailed(t,i)}};this.renderReactView("topResults",n.View.WindowsTopResults,n.config.reactGroups?n.deepCopy(r,["parent"],["deviceItem"]):r)},o.prototype.showTemporaryMessage=function(t){var i=this,r;this._windowsTemporaryMessageShown?(this.hideTemporaryMessage(),n.safeSetTimeout(function(){return i.showTemporaryMessage(t)},100,"showTemporaryMessage")):(r={messageText:t,clickHandler:function(){i.hideTemporaryMessage();n.Host.setFocusInSearchBox(null,"temporaryMessage")}},this.updateTemporaryMessageView(r),this._windowsTemporaryMessageShown=!0,n.setVisibility(this._windowsTemporaryMessageWrapper,!0))},o.prototype.hideTemporaryMessage=function(){this._windowsTemporaryMessageShown&&(this.updateTemporaryMessageView(null),this._windowsTemporaryMessageShown=!1,n.setVisibility(this._windowsTemporaryMessageWrapper,!1))},o.prototype.updateTemporaryMessageView=function(t){this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:t,icon:{content:"&#xE946",type:2},messageClassName:f})},o.prototype.updateIndexingMessageView=function(t){var i=!!t;this._windowsIndexingMessageShown!=i&&(this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:t,icon:t&&t.messageText==n.Host.getLocString("WindowsIndexingInProgressMessage")?{content:"&#xE895",type:2}:null,messageClassName:e}),this._windowsIndexingMessageShown=i,n.setVisibility(this._windowsIndexingMessageWrapper,i),this.resetSuggestionsContainerHeight())},o.prototype.updateDialogBox=function(t){t.isVisible?n.Host.setFocusInWebView("updateDialogBox"):n.Host.setFocusInSearchBox(null,"updateDialogBox: hidden");this.renderReactView("dialogBox",n.View.WindowsDialogBox,{dataModel:t})},o.prototype.updateRewardsFlyout=function(t){this.renderReactView("rewardsFlyoutContainer",n.View.RewardsFlyout,{dataModel:t})},o.prototype.updateTopHitHeaderView=function(t){this.renderReactView("topHitHeader",n.View.TopHitHeader,n.config.reactGroups?n.deepCopy({dataModel:t},["parent"]):{dataModel:t})},o.prototype.createFlyout=function(t,i){var r=this;return n.config.enableEducationalFlyout?(this._flyoutController||(this._flyoutController=new n.FlyoutController(this,i),n.Host.bindQueryChangedOrInitialized(function(n){r._flyoutController.onQueryChange(n)})),this._flyoutController.createFlyout(t)):null},o.prototype.renderFlyoutAreaView=function(t){t.acknowledgeFlyoutText=n.Host.getLocString("AcknowledgeFlyoutText");t.nextFlyoutText=n.Host.getLocString("NextFlyoutText");t.stepCounterText=n.Host.getLocString("FlyoutStepCounterFormat",(t.currentStep+1).toString(),t.nbSteps.toString());t.dismissFlyoutText=n.Host.getLocString("DismissFlyout");this._flyoutController.setQuery(n.Host.getQuery());n.RuntimeConfig.QfMode===0||n.RuntimeConfig.QfMode===4?this._flyout.classList.add("flyoutSinglePane"):this._flyout.classList.remove("flyoutSinglePane");this.renderReactView("flyoutContainer",n.View.Flyout,{dataModel:t});this.showFlyoutAreaView();this.renderReactView("overlayContainer",n.View.Overlay,{dataModel:t});t.overlay&&this.showOverlayAreaView()},o.prototype.showFlyoutAreaView=function(){n.setVisibility(this._flyout,!0);this._flyout.style.animation="none";this._flyout.offsetHeight;this._flyout.style.animation=null},o.prototype.hideFlyoutAreaView=function(){n.setVisibility(this._flyout,!1)},o.prototype.showOverlayAreaView=function(){n.setVisibility(this._flyoutOverlay,!0)},o.prototype.hideOverlayAreaView=function(){n.setVisibility(this._flyoutOverlay,!1)},o.prototype.updateScopesHeaderView=function(t){this.renderReactView("scopesHeader",n.View.ScopesHeader,{dataModel:t})},o.prototype.updatePreviewErrorMessageView=function(t){this.renderReactView("errorPane",n.View.PreviewErrorMessageContainer,{dataModel:t,icon:{content:"&#xF303",type:2}})},o.prototype.updatePreviewContainerView=function(t){this.renderReactView("localPane",n.View.WindowsPreviewContainer,{dataModel:t,expanderClickInstrumentation:this._expanderClickInstrumentation,chevronDownIcon:{content:"&#xE70D",type:2},cortanaInfoIcon:{content:"&#xE946",type:2}})},o.prototype.updateMsbPreviewContainerView=function(n){var t=_ge("b_bfb"),i,r;t!=null&&(i=_w.BingAtWork,i&&i.clearMsbContainer&&i.clearMsbContainer(),t.remove());r=_ge("msbPane");n.suggestion?(t=sj_ce("div","b_bfb"),t.classList.add("fbig"),r.appendChild(t),r.classList.add("localPreviewContainer","msbPreviewContainer")):r.classList.remove("localPreviewContainer","msbPreviewContainer")},o.prototype.updateMenuView=function(t){this.renderReactView("menuContainer",n.View.WindowsMenu,{dataModel:t})},o.prototype.updatePopoverView=function(t){this.renderReactView("popoverContainer",n.View.Popover,{dataModel:t})},o.prototype.updateSnipSearchMessageView=function(t){this.renderReactView("messageContainer",n.View.SnipSearchMessage,{dataModel:t})},o.prototype.setProgressIndicatorVisibility=function(t){this._progressBarVisible!=t&&(this._progressBar||(this._progressBar=_ge("b_progress")),n.setVisibility(this._progressBar,t),this._progressBarVisible=t)},o.prototype.setPreviewPaneVisibility=function(t){this._previewPaneVisible!=t&&(t||this.closeSidePanel(1),n.setVisibility(this._previewPane,t),t&&this.openSidePanel(1),this._previewPaneVisible=t)},o.prototype.toggleDebugWindowVisibility=function(){return this.setDebugWindowVisibility(!this._debugWindowVisible),this._debugWindowVisible},o.prototype.updateOptionsWindowView=function(t){this.renderReactView("optionsContainer",n.View.OptionsWindow,{dataModel:t})},o.prototype.setDebugWindowVisibility=function(t){n.setVisibility(this._debugWindow,t);n.RuntimeConfig.AlwaysWide?this.setConditionalCss("debugWindowOpen",t):t?this.openSidePanel(2):this.closeSidePanel(2);this._debugWindowVisible=t},o.prototype.applyAccentColor=function(){var r=n.Host.getAccentColor(),o,e,f,t;this._lastAccentColor!=r&&(e="accent-style",f=_ge(e),f||(f=_d.createElement("style"),f.setAttribute("id",e),f.type="text/css",o=!0),t=".icon svg { fill: {0} }",t+=".gridLayout .suggestion.sa_hv, .gridLayout .suggestion.sa_hv:hover { border-color: {1}; }",t+=".toggleSwitch input:checked + label::before { background-color: {0}; border-color: {0}; }",n.isHighContrastEnabled()||(t+=".accentColor, .accentColor:visited, .zeroInput19H1 .group.topItemsGroup .suggestion.liveTile.noImageBackground .forecast .fctext, .zeroInput19H1 .group.topItemsGroup .suggestion.liveTile.noImageBackground .forecast .iconContainer .icon, #MSNN .title, #MSNN .icon { color: {0}; }",t+=".sa_hv, .sa_hv.selectable:active, .sa_hv.selectable:hover, .sa_hv .openPreviewPaneBtn:active, .group.welcomeExperience .selectable.sa_hv { background-color: {1}; }",t+=".sa_hv.suggestion:hover { background-color: {3}; }",t+=".darkThemeBeta:not(.zeroInput19H1) .sa_hv.suggestion:hover { background-color: {4}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .openPreviewPaneBtn:hover { background-color: {2}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .suggDetailsContainer:hover { background-color: {2}; }",t+="#footer { background-color: {8}; }",t+="#footer:hover { background-color: {9}; }",t+="#footer:active { background-color: {10}; }",t+=".edgeUpsell .additionalCalloutText, .meetingPrep .additionalCalloutText { color: {15} }",t+=".zeroInput19H1 .edgeUpsell .additionalCalloutText, .zeroInput19H1 .meetingPrep .additionalCalloutText, .zeroInput19H1 .wweUpsell .additionalCalloutText, .zeroInput19H1 .group.skypePromoSuggGroup .suggestion .additionalCalloutText { background: {0} }",t+=".zeroInput19H1 .edgeUpsell .additionalCalloutText:hover, .edgeUpsell .additionalCalloutText:active, .zeroInput19H1 .meetingPrep .additionalCalloutText:hover, .meetingPrep .additionalCalloutText:active, .zeroInput19H1 .wweUpsell .additionalCalloutText:hover, .zeroInput19H1 .wweUpsell .additionalCalloutText:active, .zeroInput19H1 .group.skypePromoSuggGroup .suggestion .additionalCalloutText:hover, .zeroInput19H1 .group.skypePromoSuggGroup .suggestion .additionalCalloutText:active { background: {12} }",t+=".zeroInput19H1.wideByDefault.searchHomeQuickAnswer.darkTheme19H1 .groupContainer.skypePromoSuggGroup .promoLinkLabel { color: {13} }",t+=".zeroInput19H1.wideByDefault.searchHomeQuickAnswer .groupContainer.skypePromoSuggGroup .promoLinkLabel { color: {0} }",t+=":not(.groupContainer).topHitConnectedToGroup:not(.sa_hv):not(.previewPaneOpened) { background: {2}; }",t+="#root:not(.wideByDefault) .selectedScope { background-color: {3}; }",t+="#root:not(.wideByDefault) .selectedScope:hover { background-color: {4}; }",t+="#root:not(.wideByDefault) .selectedScope:active { background-color: {5}; }",t+="#root.wideByDefault .selectedScope { border-color: {0}; }",t+="#startMenu .icon { background-color: {5}; }",t+=".accentButtonBackground { background-color: {6}; }",t+=".accentButtonBackground:focus { background-color: {1}; }",t+=".scopeOptions input[type='button'], .topOptions input[type='button'] { background-color: {12}; border-color: {12} }",t+=".scopeOptions input[type='button']:hover, .topOptions input[type='button']:hover { border-color: {3} }",t+=".expanderContainer.selectedExpander .expanderInnerCircle, .expanderContainer:hover .expanderInnerCircle { background-color: {1}; border-color: {11} }",t+=".darkThemeBeta .expanderContainer.selectedExpander .expanderInnerCircle, .darkThemeBeta .expanderContainer:hover .expanderInnerCircle { background-color: {16}; border-color: {11} }",t+=".previewContainer .expanderContainer.selectedExpander .divider, .previewContainer .expanderContainer:hover .divider { border-color: {1} }",t+=".darkThemeBeta .previewContainer .expanderContainer.selectedExpander .divider, .darkThemeBeta .previewContainer .expanderContainer:hover .divider { border-color: {16} }",t+=".zeroInput19H1 .secondaryText.selectable { color: {12} }",t+=".zeroInput19H1.darkTheme19H1 .secondaryText.selectable, .darkThemeBeta .accentColor, .darkThemeBeta .accentColor:visited, .darkTheme19H1 .popover .buttonList .accentColor, .zeroInput19H1.darkTheme19H1 .group.topItemsGroup .suggestion.liveTile.noImageBackground .forecast .fctext, .zeroInput19H1.darkTheme19H1 .group.topItemsGroup .suggestion.liveTile.noImageBackground .forecast .iconContainer .icon, .zeroInput19H1.darkTheme19H1 #MSNN .title, .zeroInput19H1.darkTheme19H1 #MSNN .icon, .darkThemeBeta .edgeUpsellQF.edgeUpsell .additionalCalloutText, .meetingPrep .additionalCalloutText { color: {13} }",t+=".santorini .selectable, .santorini .appsGroup .selectable { border-color: transparent }",t+=".santorini .sa_hv.selectable, .santorini .appsGroup .sa_hv.selectable  { border-color: {0} }",t+="circle.radial { stroke: {0} }",t+="#dialog_overlay.wsbModal input.colored { background-color: {12}; }",t+="#dialog_overlay.wsbModal input.colored:hover {background-color: {15}}",t+=".zeroInput19H1.darkTheme19H1 #dialog_overlay.wsbModal input.colored { background-color: {16}; }",t+=".zeroInput19H1.darkTheme19H1 #dialog_overlay.wsbModal input.colored:hover {background-color: {13}}",t+=".flyoutButton { background-color: {0}; }",t+=".miniflyout .flyoutButton { color: {0}; }",t+=".zeroInput19H1.darkTheme19H1 .miniflyout .flyoutButton { color: {13}; }",t+=".zeroInput19H1 .suggestion.meetingPrep .meetingDetailsContainer .confirmedRect { background: {0} }",t+=".zeroInput19H1 .suggestion.meetingPrep .meetingDetailsContainer .joinMeetingText { color: {0} }",t+=".zeroInput19H1 .suggestion.meetingPrep .meetingDetailsContainer .unconfirmedRect { background-size: 7px 7px; background-image: linear-gradient(-45deg,{0} 25%, transparent 0,transparent 50%, {0}, {0} 75%, transparent 0, transparent); }",t+=".zeroInput19H1.darkTheme19H1 .suggestion.meetingPrep .meetingDetailsContainer .confirmedRect { background: {13} }",t+=".zeroInput19H1.darkTheme19H1 .suggestion.meetingPrep .meetingDetailsContainer .joinMeetingText { color: {13} }",t+=".zeroInput19H1.darkTheme19H1 .suggestion.meetingPrep .meetingDetailsContainer .unconfirmedRect { background-size: 7px 7px; background-image: linear-gradient(-45deg,{13} 25%, transparent 0,transparent 50%, {13}, {13} 75%, transparent 0, transparent); }",t+=".zeroInput19H1.darkTheme19H1 .suggestion.meetingPrep .additionalCalloutText { background: {13} }",t+=".zeroInput19H1.wideByDefault .topOptions .advancedOptions .advancedOption.msb-aad-upsell .messageWithButton .advancedOptionButton {  background: {0}; }",t+=".zeroInput19H1.wideByDefault .topOptions .advancedOptions .advancedOption.msb-aad-upsell .messageWithButton .advancedOptionButton:active {  background: {12} }",t+=".zeroInput19H1.wideByDefault .topOptions .advancedOptions .advancedOption.msb-aad-upsell .messageWithButton .advancedOptionButton:hover {  background: {12} }",t+=".cobaltSelectionExperiment:not(.zeroInput19H1) .suggestion.sa_hv:before {  border-color: {0} }"),f.innerHTML=n.formatString(t,[r,i(r,.3),i(r,.1),i(r,.4),i(r,.6),i(r,.7),i(r,.15),h(r,35),u(r,.65),u(r,.8),u(r,.9),i(r,0),n.Host.getAccentColor(1),n.Host.getAccentColor(-2),i(r,.2),n.Host.getAccentColor(2),n.Host.getAccentColor(-1),]),o&&_d.head.appendChild(f),this._lastAccentColor=r)},o.prototype.adjustHeightAsync=function(){n.safeSetTimeout(function(){return n.Host.adjustHeight()},0,"adjustHeightAsync")},o.prototype.bindOnNarratorLaunch=function(n){this._narratorLaunchHandlers.push(n)},o.prototype.render=function(t){var i=this;this._renderingTimer&&sb_ct(this._renderingTimer);this._renderingInProgress=!0;try{n.View.ViewData=this.getViewData();t()}finally{this._renderingTimer=n.safeSetTimeout(function(){i._renderingTimer=null;i._renderingInProgress=!1},0,"BasePage render")}},o.prototype.renderReactView=function(t,i,r){var e=this,u,f;n!==undefined&&n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("React Render - "+t);u=this._targetElemCache[t];u||(this._targetElemCache[t]=u=_ge(t));f=r;f.adjustHeight||(f.adjustHeight=function(){return e.adjustHeightAsync()});this.render(function(){return _w.ReactDOM.render(React.createElement(i,r),u)},t);n!==undefined&&n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("React Render - "+t)},o.prototype.addViewData=function(n,t){this._viewData[n]=t},o.prototype.getViewData=function(){return this._viewData},o}();n.Page=o}(WSB||(WSB={})),function(n){var t=54e5,i=function(){function i(i){var r=this;this._appCacheInstrumentationHelper=i;this._isReloadSuppressed=!1;this._pendingReload=!1;i.registerSuperFresh();n.Host.hasFallbackHappened()&&(this._isReloadSuppressed=!0,this._lastReloadAfterFallback=n.getCurrentTime());n.Host.bindAppHidden(function(){(r._isReloadSuppressed=r._lastReloadAfterFallback&&n.getCurrentTime()-r._lastReloadAfterFallback<t,r._isReloadSuppressed)||(!r._pendingReload&&n.config.reloadAfterConversations&&n.Host.getPaneCloseCount()>=n.config.reloadAfterConversations&&(r._pendingReload=!0),r._pendingReload&&(r.logReloadAttempt(),r.reload()))});sj_be(applicationCache,"updateready",function(){return r.onUpdateReady()});n.Host.bindConversationStart(function(){r._isReloadSuppressed=!0;r.shouldCheckForUpdate()&&n.contains([1,4,5],applicationCache.status)&&n.safeExecute(function(){return applicationCache.update()},"probe for manifest update: "+applicationCache.status)})}return i.prototype.shouldCheckForUpdate=function(){if(!n.isBingEnabled())return!1;return(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.disableAppCache)?!1:!0},i.prototype.onUpdateReady=function(){this.logReloadAttempt();this._isReloadSuppressed?this._pendingReload=!0:this.reload()},i.prototype.reload=function(){n.Host.reloadWebView()},i.prototype.logReloadAttempt=function(){this._appCacheInstrumentationHelper.instrumentSuperFreshUpdate(this._isReloadSuppressed)},i}();n.SuperFreshAppCache=i}(WSB||(WSB={})),function(n){var t,i;(function(t){function u(t,i,r,u,f,e,o,s){var a,c,l,h,v;o===void 0&&(o=1);n.config.safeChainStack&&(a=(new Error).stack);l=function(i){n.config.safeChainStack&&(i.stack&&(a=i.stack+"\n"+a),i.stack=a);c&&f.unregister(c);switch(o){case 1:SharedLogHelper.LogError(t,e,s||i);break;case 2:SharedLogHelper.LogWarning(t,e,s||i)}u&&u(i)};try{h=i();h?(f&&h.cancel&&(c=f.register(function(){return h.cancel()},!1,t+" cancellation")),v=function(i){c&&f.unregister(c);r&&n.safeExecute(function(){return r(i)},t+" safeChain() completion")},h.done
OutputTypeAttribute
prtInputType
prtOutputType
PutType
get_PutType
set_PutType
putType
OutputTypeAttribute
tre OutputType n
OutputTypeAttribute
bCannot add type. The OutputType parameter requires that the OutputAssembly parameter be specified.
get_OutputType
set_OutputType
outputType
outputTypeSpecified
OutputType
OutputTypeAttribute
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputTypeUint
inputType
UIInputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
get_OutputType
set_OutputType
<OutputType>k__BackingField
OutputTypeAttribute
get_OutputType
OutputType
_outputType
GetOutputTypes
providerOutputType
outputType
OutputTypeAttribute
get_PutType
set_PutType
<PutType>k__BackingField
OutputTypeAttribute
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
{6D809377-6AF0-444B-8957-A3773F02200E}\PuTTY\puttygen.exe	9442
OutputTypeAttribute
PaintStudio.ViewElements.Behaviors.TelemetryInputTypeBehaviour
\Device\HarddiskVolume2\Program Files\PuTTY\pageant.exe
\Device\HarddiskVolume2\Program Files\PuTTY\psftp.exe
\Device\HarddiskVolume2\Program Files\PuTTY\puttygen.exe
\Device\HarddiskVolume2\Program Files\PuTTY\putty.exe
OutputTypeAttributes
OutputTypeParameters
OutputType
OutputTypeNamePair
OutputTypeParameterConstraints
OutputTypeAttribute
OutputTypeAttribute
get_OutputType
set_OutputType
<OutputType>k__BackingField
OutputTypeAttribute
OutputTypeAttribute
outputType
OutputTypeAttribute
OutputTypeAttribute
InputType
get_PutType
set_PutType
<PutType>k__BackingField
puttyputty
putty
	putty
/G==349370b0-ba75-4297-9882-02afb745b468C:\Users\Administrateur\Downloads\putty-0-74-64-bit.msiC:\Users\Administrateur\Downloads\putty-0-74-64-bit.msi
https://putty.fr.uptodown.com/https://putty.fr.uptodown.com/windows/telechargerhttps://putty.fr.uptodown.com/windows"5fac0e46-2b6400"Wed, 11 Nov 2020 16:16:06 GMTapplication/octet-streamapplication/octet-stream
https://dw68.uptodown.com/dwn/m0OLdNwFScfRY51J8vY2DpsecTpj5SEpzjMOKg7l39e7zJ9SDevKxDe-rsp0pE2LO-j-TTBwtV0kTIT8SpIDRDx-OUiz1hyW177ot8HBC4xSlwK69E9k1ARW8fRUTlGD/EW5QXkbEzKCzf1scHKjzcFCDNI2qdoWIY6c_MPxIEvMgoNPKsUGj1zvdVrAJuZnls0F_e1gt3aC3Mbdwl-PBq9xC4tnBtQwSa7dYlCFbpjChhK2R7aVk36kKlDXdrFHy/whrGCZrGjLRGdEuWcJ93rr0yJpHl-CVcrTCrIUZUO4FZZYTob7_uf-uF3WslgAVI/putty-0-74-64-bit.msi
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),AutoSuggest;(function(n){var t;(function(t){function ki(n,t){var r=[],u,f;if(t)if(n)r=t.slice();else{u=function(n){var i=t.find(function(t){return t.verb&&t.verb.toLocaleLowerCase()==n.toLocaleLowerCase()});i&&r.push(i)};for(f in i)u(f)}return r}function di(n){return n?n.filter(function(n){return!n.verb||n.verb.toLowerCase()!="open"}):[]}function e(n,i,r,u,f,e){e()&&(n=n.slice(),i.getExtraVerbsAsync?t.Promise.safeChain("getExtraVerbsAsync",function(){return i.getExtraVerbsAsync(u)},function(t){return h(d(n,t,!0),i,u,f,e)},function(){return h(n,i,u,f,e)},null,r):h(n,i,u,f,e))}function h(n,t,i,r,u){if(u()){var f=t.getExtraVerbs?d(n,t.getExtraVerbs(i),!1):n;f[0]==y&&f.shift();r(f)}}function gi(n,r,u,f,e){return n.map(function(n){var o,s,h,c;if(n.verb){switch(n.verb.toLocaleLowerCase()){case lt:o="PinnedToStart";break;case b:o="PinnedToTaskbar";break;case at:o="UnpinnedFromStart";break;case k:o="UnpinnedFromTaskbar";break;case ct:s="UninstallConfirmation";o="UninstallationInProgress"}return h=function(i){i();t.RuntimeConfig.AlwaysWide&&o=="UninstallationInProgress"?(r.uninstallationInProgress=!0,e&&e()):o?u.showTemporaryMessage(f.getLocString(o,HitHighlightingParser.removeMarkers(r.text))):u.hideTemporaryMessage();n.verb.toLocaleLowerCase()==b&&f.addItemToPinnedToTaskbar(r.deviceItem.id);n.verb.toLocaleLowerCase()==k&&f.removeItemFromPinnedToTaskbar(r.deviceItem.id)},c=n.icon||i[n.verb.toLocaleLowerCase()],new t.DeviceItemVerbWrapper(n,c,function(i){s&&t.DialogBox?t.DialogBox.show(f.getLocString(s),[{id:null,text:n.displayName,action:function(){return h(i)},selected:!1},{id:null,text:f.getLocString("Cancel"),selected:!0}]):h(i)})}return n})}function vt(n,i,r,u,f,o){if(t.isJumpListSuggestion(i))return t.Promise.safeChain("jumpListItem.getVerbsAsync",function(){return i.jumpListItem.getVerbsAsync()},function(n){return e(di(n),i,s,u,f,o)},function(){return e([],i,s,u,f,o)},null,n+" "+i.type),!0;var s=n+" "+i.type,c=t.getItemWithFileMetadata(i);return c&&c.canHaveContextMenu?(t.Promise.safeChain("getVerbsAsync",function(){return c.getVerbsAsync()},function(n){return e(ki(r,n),i,s,u,f,o)},function(){return e([],i,s,u,f,o)},null,s),!0):i.getExtraVerbsAsync?(e([],i,s,u,f,o),!0):i.getExtraVerbs?(h([],i,u,f,o),!0):(u&&f([]),!1)}function o(n,i,r){if(i==t.GroupType.EdgeHistory&&!r)return!1;var u=HitHighlightingParser.removeMarkers(n.text),f=u?u.length:0;return n.additionalInfoText&&!r&&(f+=n.additionalInfoText.length),f>(r?wi:bi)}function yt(n){for(var i,r={topResults:n.topResults.slice(0),groups:[]},t=0,u=n.groups;t<u.length;t++)i=u[t],r.groups.push({typeWithSource:i.typeWithSource,suggestions:i.suggestions.slice(0)});return r}function pt(n,i){if(n.isHtmlAnswer)return fi;if(n.grid)return(i?t.IconSize_GridLayout:t.IconSize_GridLayout_Medium)+2*u;var r=n.numberOfLines==3?ui:n.numberOfLines==2?ri:ii;return n.mainTextWrapsToTwoLines&&(r+=ut),r<rt&&(r=rt),r}function nr(n,i){if(i&&t.uses3lineTemplate(t.getScope(i.type)))return pt({mainTextWrapsToTwoLines:!1,numberOfLines:3,isHtmlAnswer:!1,isSuppressed:n.isSuppressed,grid:!1},!1);if(n.isSuppressed)return 0;var r=ni;return n.hasTwoLines?r+=l+2:n.mainTextWrapsToTwoLines&&(r+=ut),r}function tr(n,i){var r=it;if(i.typeWithSource&&t.displayedInGridLayout(i.typeWithSource.type)){var u=t.isL2(n),f=Math.ceil(i.suggestions.length/(u?st:ht)),e=u?ft:et;r+=e*f;r+=2*a}else i.suggestions.forEach(function(n){return r+=nr(n,i.typeWithSource)});return r}function ir(n){switch(n){case 0:return"CP";case 7:return"DI";case 1:return"PP";case 2:return"PD";case 4:return"SP";case 5:return"TP";case 6:return"SD"}return undefined}function d(n,t,i){if(n.length>0&&t.length>0){var r=i?n.concat(y):n;return r.concat(t)}return n.length>0?n:t.length>0?i?[y].concat(t):t:[]}function r(n,i){return n.find(function(n){return t.sameGroup(n.typeWithSource,i)})}function wt(n,i){return n.find(function(n){return t.sameGroup(n.group.typeWithSource,i)})}function bt(n,t){return n.queryToFetch.substring(0,t.queryToFetch.lastIndexOf("\\"))}function kt(n){switch(n){case t.GroupType.TopApps:case t.GroupType.People:return!0}return!1}function rr(n,i,r){if(!n.isSearchHomeZI||n.scope==t.Scope.All)return null;if(n.scope==t.Scope.Web){if(r==t.GroupType.Websites)return i.getLocString("RecentWebsiteSection");if(r==t.GroupType.SearchSuggestions)return i.getLocString("RecentWebSearchSection")}return kt(r)?i.getLocString("FrequentSection"):i.getLocString("RecentSection")}function dt(n,i,r,u,f){var h,o,e,s,c;if(r==t.GroupType.PathCompletion)return h=bt(n,n)+"\\"+String.fromCharCode(8206),{title:h,narratorText:h};if(u&&(o=u.groupDisplayName,o))return{title:o,narratorText:f?i.getLocString("AddingScopeNarratorText",o):o};if(e=rr(n,i,r),!e)switch(r){case t.GroupType.Command:e=i.getLocString("CommandGroup");break;case t.GroupType.Cortana:e=t.config.useCortanaGroupString?i.getLocString("CortanaGroup"):i.getLocString("CortanaArchivedMessageGroup");break;case t.GroupType.Store:e=i.getLocString("StoreGroup");break;case t.GroupType.PowerBi:e="Power BI";break;case t.GroupType.EdgeHistory:e=i.getLocString("EdgeHistoryGroup");break;case t.GroupType.LocalPlaces:e=i.getLocString("LocalPlacesGroup");break;case t.GroupType.Related:e=i.getLocString("RelatedSuggestionsGroup");break;case t.GroupType.SearchSuggestions:e=t.getWebSuggestionsGroupHeader(i);break;case t.GroupType.Websites:e=t.getWebsitesGroupHeader(i);break;case t.GroupType.Contact:e=i.getLocString("ContactGroup");break;case t.GroupType.StartMenu:e="Start menu";break;case t.GroupType.LocalSearchHistory:e="Search history";break;case t.GroupType.ActivityFeedSuggestions:e=i.getLocString("RecentActivitiesSection");break;case t.GroupType.TopApps:e=i.getLocString("TopAppsSection");break;case t.GroupType.QuickSearch:e=t.config.quickAnswer?i.getLocString("QuickSearchSuggestionsSection"):i.getLocString("LastSearchSection");break;case t.GroupType.LockscreenQuickSearch:e=i.getLocString("LockscreenQuickSearchSection")}if(!e){if(s=t.getScope(r),s==t.Scope.All)throw new Error("Unknown group type: "+r);t.config.newFilesScope2&&r==t.GroupType.Documents&&(s=t.Scope.AllFiles);c=t.ScopeConfig[s];e=t.getScopeDisplayName(c,i)}return{title:e,narratorText:f?i.getLocString("AddingScopeNarratorText",e.toLocaleLowerCase()):e}}var g=4,nt=6,c=8,u=12,tt=1,f=20,l=16,ni=f+2*c,it=16+2*c,ti=it,rt=60,ii=f+2*u,ri=f+l+g+2*u,ui=f+2*(l+g)+2*u,fi=80+2*u,ei=c,ut=f,oi=48,a=1,ft=t.IconSize_GridLayout+2*(nt+tt),et=t.IconSize_GridLayout_Medium+2*(nt+tt),si=24,hi=12,ci=140,li=156,ai=8,vi=4,yi=6,pi=2,ot=200,st=3,ht=4,wi=39,bi=42,v=SearchAppWrapper.CortanaApp,y={},p="runas",w="tabletmode_opennewwindow",ct="tile.uninstall",lt="startpin",b="taskbarpin",at="startunpin",k="taskbarunpin",s={id:"SearchBox",selected:!1,text:"SearchBox"},i={},gt;i[p]={content:"&#xE7EF",type:1};i.runasuser={content:"&#xE7EE",type:1};i.openinbrowser={content:"&#xE774",type:1};i.openfilelocation={content:"&#xE838",type:2};i.opencontaining={content:"&#xE838",type:2};i[w]={content:"&#xE8A7",type:2};i[at]={content:"&#xE77A",type:1};i[k]={content:"&#xE77A",type:1};i[lt]={content:"&#xE718",type:2};i[b]={content:"&#xE718",type:2};i.settings={content:"&#xE713",type:2};i.manage={content:"&#xE912",type:1};i.review={content:"&#xE728",type:2};i.share={content:"&#xE72D",type:1};i.connectnetworkdrive={content:"&#xE8CE",type:1};i.disconnectnetworkdrive={content:"&#xE8CD",type:1};i.uninstall={content:"&#xE74D",type:2};i[ct]={content:"&#xE74D",type:2};i.itemproperties={content:"&#xF106",type:2};t.config.extraActions&&(i.copy={content:"&#xE8C8",type:1},i.print={content:"&#xE749",type:1},i.edit={content:"&#xE70F",type:2},i.shelledit={content:"&#xE70F",type:2},i["3d edit"]={content:"&#xE70F",type:2},i.properties={content:"&#xE946",type:2});t.extendVerbs=gi;t.getVerbsAsync=vt;t.wrapsToTwoLines=o;t.joinVerbs=d;t.getGroupTitleAndNarratorText=dt;gt=function(i){function u(r,u,f,e,o,s,h,c,l){var a=i.call(this,r,f,e,s)||this;return a._host=r,a._autoComplete=u,a._navigationHelper=o,a._headerFooterViewModel=h,a._previewPane=c,a._menuFactory=l,a._pendingSubmitSequenceNumber=-1,a._pendingSubmitModifierKeys=null,a._pendingSubmitTimeStamp=null,a._resultsCounter={topResults:[],groups:[]},a._pendingSuggestionsInExistingGroups=[],a._pendingSuggestionsInMissingGroups=[],s.setSuggestionClickHandler(a.doubleClickGuardedHandler(function(t,i){n.safeExecute(function(){return a.click(n.getCurrentTime(),t,n.getInputType(i),null)},"suggestionClickHandler")})),s.setContextMenuHandler(function(t,i){n.safeExecute(function(){return a._menuFactory.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return a._host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")}),s.setOpenPreviewPaneClickHandler(function(t,i){n.safeExecute(function(){return a.openPreviewPane(t,i)},"openPreviewPaneClickHandler")}),s.setExpanderClickInstrumentation(function(n,t,i){var r="Expander"+(i?"Opened":"Closed"),u={st:t,K:n.instItem.getLayoutKValue()};a._instrumentationHelper.logClientInstEvent("Select",r,null,u)}),a._previewPane&&(a._previewPane.init(a),a._previewPane.bindBeforeItemLaunch(function(n,t,i,r,u,f){return a._instrumentationHelper.instrumentItemClickForPreviewPane(n,t.instItem,t.sequenceNumber,t.instrumentPingBack,i,null,r,u,f)}),a._previewPane.bindAfterItemLaunch(function(n,t,i){return a.onSuggestionLaunch(n,t,i)})),r.bindShown(function(){!t.isMobileCache&&v.queryFormulationView.deviceSearch.getSearchServiceStatusAsync&&t.Promise.safeChain("getSearchServiceStatusAsync",function(){return v.queryFormulationView.deviceSearch.getSearchServiceStatusAsync()},function(n){a._instrumentationHelper.setSearchServiceStatus(ir(n));n!=0&&n!=4&&n!=3&&n!=7&&a.showIndexingMessage(!1)})}),s.bindOnNarratorLaunch(function(t){for(var i,f=n.getCurrentTime(),e=a.getSelectableItems(),r=0,u=e;r<u.length;r++)if(i=u[r],i.id==t){a.isSuggestionOrGroup(i)?(a.select(i,!1),a.submit(f,!1,i.sequenceNumber,null,!0)):a._headerFooterViewModel.isScopeElement(i)&&_ge(i.id).click();break}}),r.bindSearchBoxGotFocus(function(){a._menuFactory.dismiss();var t=n.getCurrentActiveElement();t&&t.blur();a._selectedItem&&!a._headerFooterViewModel.isScopeElement(a._selectedItem)&&a.renderSelectedSuggestionState(!1)}),r.bindSearchBoxLostFocus(function(){var i=t.isScopeTile(n.getCurrentActiveElement());i?n.safeSetTimeout(function(){a._host.searchBoxHasFocus()||a._headerFooterViewModel.isScopeElement(a._selectedItem)||a.renderSelectedSuggestionState(!0)},75,"RootViewModel.bindSearchBoxLostFocus"):a.renderSelectedSuggestionState(!0)}),sj_evt.bind("CortanaPaneWidthSet",function(n){return a.onPaneWidthSet(n[1])}),sj_be(_ge("qfContainer"),"scroll",function(){return a._menuFactory.dismiss()}),a}return __extends(u,i),u.prototype.onDismiss=function(){i.prototype.onDismiss.call(this);this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this.toggleProgressBar(!1);this._menuFactory.dismiss();this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable&&this._previewPane.dismiss();this._page.hideTemporaryMessage();this.hideIndexingMessage();t.DialogBox&&t.DialogBox.hide();this._headerFooterViewModel.render(null,!1,!1,!1,!0);t.config.glyphInSearchBox&&this._host.setSearchBoxGlyphIcon()},u.prototype.onPaneWidthSet=function(n){ht=Math.floor((n-2*a)/et);st=Math.floor((n-2*a)/ft)},u.prototype.setSelectedStyleSuspended=function(n,t){n.selectedStyleSuspended=t&&this._host.isRequestFocusAvailable()},u.prototype.renderSelectedSuggestionState=function(n){this._selectedItem&&(this.setSelectedStyleSuspended(this._selectedItem,n),this.renderSelection(this._selectedItem))},u.prototype.toggleProgressBar=function(i){var r=this;t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),i?(this._partialQuery.showProgressBar||this._partialQuery.queryToFetch=="")&&(this._progressTimer=n.safeSetTimeout(function(){r._progressTimer&&(r._page.setProgressIndicatorVisibility(!0),r._progressTimer=null)},250,"showProgress")):t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),this._page.setProgressIndicatorVisibility(!1)))},u.prototype.resetPendingSubmitSequenceNumber=function(){this._pendingSubmitSequenceNumber=null;this._pendingSubmitModifierKeys=null;this._pendingSubmitTimeStamp=null},u.prototype.onAfterKeyDown=function(i,r,u,f){var a,o,v,y,c,l,s,p;if(!this._partialQuery||!this._menuFactory.isMenuVisible()&&i==13)return!1;var h=r&&r.shiftKey,e=this._previewPane&&this._previewPane.hasFocus();if(this._page.hideTemporaryMessage(),this.resetPendingSubmitSequenceNumber(),!u&&n.isContextMenuKey(i,h)&&!e)return this.tryShowContextMenuOnSelectedSuggestion(),!0;if(this._menuFactory.isMenuVisible()){if(i==37||i==39||i==13||n.isUpOrDownKey(i)){if(a=this._menuFactory.onAfterKeyDown(i,r,u,f),a)return!0;if(n.isUpOrDownKey(i))return!1}this._menuFactory.dismiss(!0)}if(o=n.getCurrentActiveElement(),!t.isScopeTile(o)||e||this._menuFactory.isMenuVisible()||i!=39&&i!=37)if(i==9)t.config.allowTabToSelectSuggestions||h||!this._selectedItem||e||this._headerFooterViewModel.isScopeElement(this._selectedItem)?f||this.handleCrossViewModelsTabKeyNavigation(o,h):this.select(this._headerFooterViewModel.getSelectableItems()[0],!1);else{if(t.DialogBox&&t.DialogBox.isVisible())return!0;if(t.RuntimeConfig.PreviewPaneAvailable&&this._previewPane&&this._selectedItem&&!this._headerFooterViewModel.isScopeElement(this._selectedItem)){this._previewPane.onAfterKeyDownWhenNewSelection(i,this._partialQuery,this._selectedItem);if(e)return!0}}else v=t.getRtlAdjustedKey(i),this._headerFooterViewModel.focusNextScopeTile(o,v==39),y=this._headerFooterViewModel.getSelectableItems(),this.select(y[0],!1);return e=this._previewPane&&this._previewPane.hasFocus(),this._selectedItem&&(n.isUpOrDownKey(i)||i==9)&&!e&&(c=this._headerFooterViewModel.isScopeElement(this._selectedItem),c||this._selectedItem==this.topResults[0]?this._page.scrollToTop():this._page.scrollTo(this._selectedItem),l="rvm onAfterKeyDown-AdjustFocus",c||this.isAdvancedOption(this._selectedItem)?(this.isAdvancedOption(this._selectedItem)?_ge(this._selectedItem.id).querySelector("input").focus():_ge(this._selectedItem.id).focus(),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView(l)):i!=9&&this._host.searchBoxHasFocus()||this._host.setFocusInSearchBox(i,l)),t.config.forceTypedQueryOnTopSupported&&i==46&&this._partialQuery&&this._selectedItem&&this._selectedItem===this.topResults[0]&&this.topResults[0].query.toLocaleLowerCase()!=this._partialQuery.queryToFetch.toLocaleLowerCase()&&(s=this._host.getQuery(),s.originalQuery==this._partialQuery.originalQuery&&(p=s.originalCursorPosition==s.originalQuery.length,p&&this._host.reformulate(this._partialQuery.originalQuery,null,1))),!1},u.prototype.handleCrossViewModelsTabKeyNavigation=function(i,r){var v=this,y=t.RuntimeConfig.PreviewPaneAvailable&&!!this._previewPane,s=y&&this._previewPane.isOpened(),p=s&&this._previewPane.hasFocus(),e,h,f,a,u,c,l,o;t.DialogBox&&t.DialogBox.isVisible()?(e=t.DialogBox.getSelectableItemsByGroup(),r?this.select(e[e.length-1][0],!1):this.select(e[0][0],!1)):p?r?(this._previewPane.blur(),h=this._headerFooterViewModel.getSelectableItemsByGroup(),o=h[h.length-1][0],this.select(o,!1)):(this._previewPane.blur(),u=this.getSelectableItems(),this.select(u[0],!0)):t.isScopeTile(i)?!s||r?(f=this.getSelectableSuggestionsByGroup(!0),f.length>0?(a=r?f[f.length-1][0]:f[0][0],this.select(a,!0)):(u=this.getSelectableItems(),u.length>0?this.select(u[0],!0):this.select(null,!0)),c="handleCrossBordersNavigationWithTab",n.safeSetTimeout(function(){return v._host.setFocusInSearchBox(9,c)},0,c)):(this.select(this._previewPane.getPreviewedSuggestion(),!0),this._previewPane.focus(!0)):this._selectedItem?r?s?this._previewPane.focus():(l=this.getSelectableItemsByGroup(),o=l[l.length-1][0],this.select(o,!1)):this.select(this.getSelectableItemsByGroup()[0][0],!1):this.select(this.getSelectableItemsByGroup()[0][0],!1)},u.prototype.tryShowContextMenuOnSelectedSuggestion=function(){var i=this,t=this._selectedItem&&this.isSuggestion(this._selectedItem)?this._selectedItem:null;t&&n.safeExecute(function(){return i._menuFactory.showContextMenuOnElement(t,_ge(t.id),function(){return i._host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")},u.prototype.onQueryChanged=function(r,u){var c=this,l,e,p,w,b,o,s,a,v,h,y,f;if(t.DialogBox&&t.DialogBox.hide(),this._menuFactory.dismiss(),!this._partialQuery||!this._partialQuery.equals(r)){if(this._page.hideTemporaryMessage(),t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),r.showProgressBar?this._progressTimer=n.safeSetTimeout(function(){c._progressTimer&&(c._page.setProgressIndicatorVisibility(!0),c._progressTimer=null)},250,"showProgress"):this._page.setProgressIndicatorVisibility(!1)),this._partialQuery&&this._partialQuery.scope!=r.scope&&(this._turnOnIndexingInstItem||this.hideIndexingMessage()),l=this._partialQuery?this._partialQuery.queryToFetch:"",e=r.queryToFetch,this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable)this._previewPane.onQueryChanged(r);for(p=this._partialQuery?this._partialQuery.scope:t.Scope.All,i.prototype.onQueryChanged.call(this,r,u),w=t.config.glyphInSearchBox==1,w&&r.scope!=p&&(b=t.ScopeConfig[r.scope],r.scope==t.Scope.All?this._host.setSearchBoxGlyphIcon():this._host.setSearchBoxGlyphIcon(b.icon)),o=!1,s=0,a=this.topResults;s<a.length;s++)f=a[s],f.updateFromQuery&&!f.hasPreviewPaneOpened?f.updateFromQuery(r)&&(o=!0):e.length>l.length&&e.startsWith(l)&&f.query.toLowerCase().includes(r.queryToFetch.toLowerCase())&&(v=f.text.indexOf(HitHighlightingParser.endMarker),v>=0&&v<f.text.length-1&&(f.text=HitHighlightingParser.addMarkers(HitHighlightingParser.removeMarkers(f.text),e),o=!0));if(o){for(h=0,y=this.topResults;h<y.length;h++)f=y[h],f.sequenceNumber=u,this.updateNarratorWithPreviewMessage(f);this.renderTopResults()}}},u.prototype.onSuggestionsParsed=function(n,i,r,u,f){var s=n.enabledDataSources[r].groupType,e,o,h;if(typeof s=="number")for(e=0,o=f;e<o.length;e++)h=o[e],h.staticGroupType=s;(u==="NI"||u==="PI")&&(r=="PP"||r=="ST"||n.scope!=t.Scope.All)&&n.scope!=t.Scope.Web&&this.showIndexingMessage(!0)},u.prototype.areSuggestionsPresent=function(){return this.topResults.length>0||this.groups.length>0&&this.groups.some(function(n){return n.suggestions.length>0})},u.prototype.getSuggestions=function(n){var t=this.getCurrentTopResults();return this.groups.forEach(function(n){return t=t.concat(n.suggestions)}),n&&(this._pendingSuggestionsInExistingGroups.forEach(function(n){return t=t.concat(n.suggestions)}),this._pendingSuggestionsInMissingGroups.forEach(function(n){return t=t.concat(n.suggestions)})),t},u.prototype.getSelectableItems=function(){var n,i,u,r;if(t.DialogBox&&t.DialogBox.isVisible())return t.DialogBox.getSelectableItems();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItems();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItems();for(n=[],n.push.apply(n,this.topResults),i=0,u=this.groups;i<u.length;i++)r=u[i],r.click&&n.push(r),n.push.apply(n,r.suggestions.filter(function(n){return!n.suppressed}));return this.areSuggestionsPresent()||n.push(s),t.config.allowUpForScopes&&n.push.apply(n,this._headerFooterViewModel.getSelectableItems()),n},u.prototype.getSelectableSuggestionsByGroup=function(n){if(t.config.allowTabToSelectSuggestions){var i=[];return i.push(this.topResults),this.groups.forEach(function(n){n.click&&i.push([n]);i.push(n.suggestions.filter(function(n){return!n.suppressed}))}),n||i.push(this._headerFooterViewModel.getSelectableItems()),i.filter(function(n){return n.length>0})}return[]},u.prototype.getSelectableItemsByGroup=function(){if(t.DialogBox&&t.DialogBox.isVisible())return t.DialogBox.getSelectableItemsByGroup();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItemsByGroup();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItemsByGroup();var n=[];return n.push.apply(n,this._headerFooterViewModel.getSelectableItemsByGroup()),this._previewPane&&n.push.apply(n,this._previewPane.getSelectableItemsByGroup()),this.areSuggestionsPresent()?n.push.apply(n,this.getSelectableSuggestionsByGroup(!0)):n.push([s]),n},u.prototype.getSelectedItem=function(){return t.DialogBox&&t.DialogBox.isVisible()?t.DialogBox.getSelectedItem():this._menuFactory.isMenuVisible()?this._menuFactory.getSelectedItem():this._previewPane&&this._previewPane.hasFocus()?this._previewPane.getSelectedItem():this._selectedItem?this._selectedItem:s},u.prototype.updateSelectionState=function(t){n.contains(this.topResults,t)?this.renderTopResults():this.groups.some(function(i){return n.contains(i.suggestions,t)})&&this.renderGroups()},u.prototype.renderSelection=function(i,r){(i&&this.isSuggestion(i)&&n.contains(this.topResults,i)||r&&this.isSuggestion(r)&&n.contains(this.topResults,r))&&this.renderTopResults();(i&&this.isAdvancedOption(i)||r&&this.isAdvancedOption(r))&&this._headerFooterViewModel.updateTopHitHeader();(i&&t.isGroup(i)&&n.contains(this.groups,i)||i&&this.isSuggestion(i)&&this.groups.some(function(t){return n.contains(t.suggestions,i)})||r&&t.isGroup(r)&&n.contains(this.groups,r)||r&&this.isSuggestion(r)&&this.groups.some(function(t){return n.contains(t.suggestions,r)}))&&this.renderGroups()},u.prototype.select=function(i,r){var u,e,f;t.DialogBox&&t.DialogBox.isVisible()?t.DialogBox.select(i):this._menuFactory.isMenuVisible()&&n.contains(this._menuFactory.getSelectableItems(),i)?this._menuFactory.select(i,!1):this._previewPane&&n.contains(this._previewPane.getSelectableItems(),i)?this._previewPane.select(i,!1):(u=this._selectedItem,u&&(u.selected=!1,this.setSelectedStyleSuspended(u,!1)),i==s?(this._selectedItem=null,this._host.searchBoxHasFocus()||this._host.setFocusInSearchBox(null,"rvm_select")):(this._selectedItem=i,i&&(i.selected=!0,this.setSelectedStyleSuspended(i,!this._host.searchBoxHasFocus()))),this.renderSelection(this._selectedItem,u),e=t.config.glyphInSearchBox==2,e&&this.setSearchBoxGlyphIcon(i),this._headerFooterViewModel.isScopeElement(i)&&this._headerFooterViewModel.select(i,!1),r&&(t.config.dontUpdateSB&&i.handoffType!=0?this._host.updateQueryWithoutRefetching(null):(f=i?i.query:null,f&&this._partialQuery.scopePrefix&&(f=this._partialQuery.scopePrefix.trim()+": "+f),this._host.updateQueryWithoutRefetching(f))))},u.prototype.setSearchBoxGlyphIcon=function(i){var u,r,f,e;i&&(r=i.icon,r&&n.contains([2,1],r.type)?u=r:(f=t.isGroup(i)?i.typeWithSource.type:this.isSuggestion(i)?t.getGroupType(i):null,f!=null&&(e=t.getScope(f),u=e==t.Scope.All?null:t.ScopeConfig[e].icon)));this._host.setSearchBoxGlyphIcon(u)},u.prototype.renderTopResultsToUpdateIcons=function(){var i=this;t.config.delayRenderingForIcons?this._renderTopResultsTimerForIcons||(this._renderTopResultsTimerForIcons=n.safeSetTimeout(function(){i._renderTopResultsTimerForIcons=null;i.renderTopResults()},ot,"renderTopResultsToUpdateIcons")):this.renderTopResults()},u.prototype.renderGroupsToUpdateIcons=function(){var i=this;t.config.delayRenderingForIcons?this._renderGroupsTimerForIcons||(this._renderGroupsTimerForIcons=n.safeSetTimeout(function(){i._renderGroupsTimerForIcons=null;i.renderGroups()},ot,"renderGroups")):this.renderGroups()},u.prototype.setupIcon=function(i,r,u,f){var e=this,o;if(!r.suppressed&&r.getIcon)this._instrumentationHelper.notifyIconPending(i,u,r.instItem.getLayoutKValue(),r.type),o=this._partialQuery,r.getIcon(this.getImageSize(o,r,u),function(o){r.icon=o;var s=function(){e._partialQuery&&i==e._sequenceNumberReader.getSequenceNumber()&&(e._instrumentationHelper.notifyIconReady(i,u,r.instItem.getLayoutKValue(),r.type),u?n.contains(e.topResults,r)&&e.renderTopResultsToUpdateIcons():e.groups.some(function(t){return n.contains(t.suggestions,r)})&&e.renderGroupsToUpdateIcons(),f())};t.populateImageRatio(r.icon,r.type,s)});else if(!r.suppressed&&r.icon&&n.canIconFail(r.icon)){this._instrumentationHelper.notifyIconPending(i,u,r.instItem.getLayoutKValue(),r.type);var s=r.icon.getFallbackIcon,h=function(n,t){return t(r.icon)},c=r.icon.isValidSize,l=function(){r.getIcon=s;e.setupIcon(i,r,u,f)},a=function(){r.icon.isSmall=!0;r.getIcon=h;e.setupIcon(i,r,u,f)};r.icon.onIconError=l;r.icon.onIconRendered=function(n,t){c(n,t)?(e._instrumentationHelper.notifyIconReady(i,u,r.instItem.getLayoutKValue(),r.type),f()):a()};u?this.renderTopResultsToUpdateIcons():this.renderGroupsToUpdateIcons()}else f()},u.prototype.getImageSize=function(n,i,r){return n.isSearchHomeZI?i.type=="TOPL"?7:i.type=="AFC"?6:8:n.scope==t.Scope.Apps&&!n.queryToFetch?3:t.displayedInGridLayout(i.type)?2:r?0:1},u.prototype.isSuggestionOrGroup=function(n){return!this._headerFooterViewModel.isScopeElement(n)},u.prototype.isSuggestion=function(n){return!t.isGroup(n)&&!this._headerFooterViewModel.isScopeElement(n)&&!this.isAdvancedOption(n)},u.prototype.isAdvancedOption=function(n){return typeof n.layout=="number"},u.prototype.submit=function(i,r,u,f,e){var h=e?5:r?6:1,c=n.getCurrentActiveElement(),o,s,l;if(t.DialogBox&&t.DialogBox.isVisible()){t.DialogBox.submit();return}if(this._previewPane&&this._previewPane.hasFocus()){if(o=this._previewPane.getSelectedItem(),o&&o.click&&o.optionType===undefined){o.click(i,h);return}}else{if(this._selectedItem&&this._headerFooterViewModel.isScopeElement(this._selectedItem)&&!this._menuFactory.isMenuVisible()){_ge(this._selectedItem.id).click();return}if(t.RuntimeConfig.QfMode==5&&!this._selectedItem){this._host.submitFileExplorerTextSuggestion(this._partialQuery.queryToFetch);return}}if(s=this._menuFactory.getSelectedItem(),s){s.click&&s.click(i,h,f);return}if(l=!t.isBodyOrSuggestion(c),l){this._host.isRequestFocusAvailable()||c.click();return}if(this._lastUpdatedSequenceNumber!=u&&(!this._selectedItem||this._selectedItem==this.topResults[0])){this._pendingSubmitSequenceNumber=u;this._pendingSubmitModifierKeys=f;this._pendingSubmitTimeStamp=i;return}this._selectedItem?this.click(i,this._selectedItem,h,f):this.groups.length>0&&this._partialQuery.fullPartialQuery&&this.showDisableEnterMessage()},u.prototype.doubleClickGuardedHandler=function(t){var i;return function(r,u){i&&n.getCurrentDate().getTime()-i<=250||(i=n.getCurrentDate().getTime(),t(r,u))}},u.prototype.click=function(n,i,r,u){if(this._page.hideTemporaryMessage(),this.isAdvancedOption(i)){i.click&&i.click(n,r,u);return}var f=t.isGroup(i)?null:i;if(!i.instItem||f&&f.isReformulation||this._instrumentationHelper.instrumentItemClick(n,i.instItem,i.sequenceNumber,f?f.instrumentPingBack:null,r,u),!f){i.click&&i.click(n,r,u);return}u=u||this._host.getModifierKeyState();u.ctrlKey&&u.shiftKey?this.launchVerb(f,p,n):u.shiftKey?this.launchVerb(f,w,n):f.click(n,r,u);this.onSuggestionLaunch(f,this._partialQuery)},u.prototype.onSuggestionLaunch=function(n,r,u){t.isChildSuggestion(n)&&(n=n.parent);i.prototype.onSuggestionLaunch.call(this,n,r,u)},u.prototype.launchVerb=function(i,r,u){var f=vt("launchVerb",i,t.config.rawVerbs,!1,function(f){for(var h,c,o=!1,l=function(i){if(i.verb&&i.verb.toLocaleLowerCase()==r.toLocaleLowerCase())return i.executeSync?n.safeExecute(function(){return i.executeSync()},"verb.executeSync",null,r):t.Promise.safeChain("verb.executeAsync",function(){return i.executeAsync()},null,null,null,r),o=!0,"break"},e=0,s=f;e<s.length;e++)if(h=s[e],c=l(h),c==="break")break;o||i.click(u,0)},function(){return!0});f||i.click(u,0)},u.prototype.getGroupHeaderClickAction=function(i,r,u){var e=this,f,s,h=null,o,c,l;if(t.RuntimeConfig.ScopesAvailable&&(o=t.getScope(r.type),o!=t.Scope.All))if((t.config.newFilesScope1||t.config.newFilesScope2)&&t.isFileOrFolderScope(o)&&(o=t.Scope.AllFiles),r.type==t.GroupType.SearchSuggestions&&i.isSearchHomeZI)s=this._host.getLocString("OpenPrivacyPortalButtonText"),h=this._host.getLocString("ManageSearchHistory"),f=function(){return e._host.launchPrivacyPortal()};else return t.isL2(i)||!t.isScopeEnabled(o,t.ScopeConfig[o])?[null,null,null,null]:(c=function(){return e._headerFooterViewModel.clickHandler(o,"groupHeader",r)},[c,null,null,null]);if(!f)switch(r.type){case t.GroupType.Store:f=function(){return e._host.launchStoreSearch(i.queryToFetch)};break;case t.GroupType.SearchSuggestions:f=function(){return e.launchSearch(i,u)};break;case t.GroupType.PathCompletion:f=function(){return e._host.launchFolder(bt(i,e._partialQuery))};break;case t.GroupType.TopApps:t.config.getPopularApps&&(s=this._host.getLocString("GetPopularApps"),f=function(){return e._host.launchUri(t.config.getPopularAppsUrl)});break;case t.GroupType.ActivityFeedSuggestions:s=this._host.getLocString("OpenTimelineButtonText");h=this._host.getLocString("ManageActivityFeed");f=function(){return e._host.launchUri("ms-taskswitcher://?invoketo=timeline")}}if(f){if(!u)throw"No QS code for: "+t.GroupType[r.type];return l=n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,t.SyntheticQSCodesMaps.KValues),[f,l,s,h]}return[null,null,null,null]},u.prototype.shouldShowPlusIconInGroupHeader=function(n,i){if(t.getScope(n)==t.Scope.Web||n==t.GroupType.Store)return!1;if(n==t.GroupType.Apps&&this._partialQuery.queryToFetch.length<t.config.minLengthForIBAonL1)return!0;if(n==t.GroupType.Apps||n==t.GroupType.Settings){var r=i[n==t.GroupType.Apps?"PP":"ST"];return!(r&&r.maxedOut)}return!0},u.prototype.addGroup=function(n,i,u,f,e){var o,a;if(r(this.groups,n))throw new Error("Trying to add repeated group "+n);var v=t.GroupHeaderQSCodes[n.type],s=this.getGroupHeaderClickAction(this._partialQuery,n,v),h=s[0],c=s[1],y=s[2],p=s[3],l=dt(this._partialQuery,this._host,n.type,i,!!h);return n.source&&(l.title+=" - "+t.getGroupSourceDisplayName(n.source,this._host)),o=[],t.isTopHitChildGroup(n)?o.push("topHitConnectedToGroup"):n.type==t.GroupType.TopApps||this._partialQuery.isSearchHomeZI&&n.type==t.GroupType.People?o.push("topItemsGroup"):n.type==t.GroupType.ActivityFeedSuggestions?o.push("activityFeedGroup"):n.type==t.GroupType.QuickSearch?(o.push("balloonSuggGroup"),t.config.quickAnswer&&o.push("quickAnswerGroup")):n.type==t.GroupType.LockscreenQuickSearch?o.push("lockscreenQuickSuggGroup"):t.RuntimeConfig.QfMode==8&&(n.type==t.GroupType.Apps?o.push("appsGroup"):(n.type==t.GroupType.Documents||n.type==t.GroupType.Photos||n.type==t.GroupType.Videos||n.type==t.GroupType.Folders)&&o.push("filesGroup")),a={type:n.type,typeWithSource:n,id:"gr"+n.type+(n.source||""),text:l.title,secondaryText:y,narratorText:l.narratorText,tooltip:p,click:h,onlyAnnotationIsClickable:h&&!!y,suggestions:[],instRegionName:t.GroupType[n.type],instItem:c,selected:!1,cssClasses:o.join(" ")||undefined,sequenceNumber:u,showPlusIconInHeader:this.shouldShowPlusIconInGroupHeader(n.type,e)},c&&this._instrumentationHelper.instrumentSyntheticInstrumentedItem(u,v,c),this._resultsCounter.groups.push({typeWithSource:n,suggestions:[]}),this.insertGroup(a,f),a},u.prototype.insertGroup=function(n,i){for(var f,e=this,o=i.findIndex(function(i){return t.sameGroup(i,n.typeWithSource)}),u=!1,s=function(r){var f=i.findIndex(function(n){return t.sameGroup(n,e.groups[r].typeWithSource)});if(f>o)return h.groups.splice(r,0,n),u=!0,"break"},h=this,r=0;r<this.groups.length;r++)if(f=s(r),f==="break")break;u||this.groups.push(n)},u.prototype.handlePendingSubmit=function(n){if(this._pendingSubmitSequenceNumber==this._lastUpdatedSequenceNumber)try{if(this.topResults.length==0)(this.groups.length>0||n.length>0)&&this.showDisableEnterMessage();else{var t=this.topResults[0];return this._instrumentationHelper.instrumentItemClick(this._pendingSubmitTimeStamp,t.instItem,t.sequenceNumber,t.instrumentPingBack,1,this._pendingSubmitModifierKeys),this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.ctrlKey&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(t,p,this._pendingSubmitTimeStamp):this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(t,w,this._pendingSubmitTimeStamp):t.click(this._pendingSubmitTimeStamp,0,this._pendingSubmitModifierKeys),0}}finally{this.resetPendingSubmitSequenceNumber()}return 1},u.prototype.showDisableEnterMessage=function(){this._page.showTemporaryMessage(this._host.getLocString("EnterOnAmbiguousTopHitMessageText"))},u.prototype.showIndexingMessage=function(i){var r=this,u,f;t.isMobileCache||(i?this._turnOnIndexingInstItem=null:(this._turnOnIndexingInstItem=n.InstrumentedItem.getNonSuggestionInstrumentedItem("IMIO",t.SyntheticQSCodesMaps.KValues),u={id:null,selected:null,text:this._host.getLocString("WindowsIndexingDisabledAction"),title:null,instItem:this._turnOnIndexingInstItem,click:function(n,i){var u=r._sequenceNumberReader.getSequenceNumber();u>r._lastUpdatedSequenceNumber&&r._instrumentationHelper.instrumentSyntheticInstrumentedItem(u,"IMIO",r._turnOnIndexingInstItem);r._instrumentationHelper.instrumentItemClick(n,r._turnOnIndexingInstItem,u,null,i,null);t.LocalDataProvider.launchIndexingOptions(r._host,!1)},layout:1,isSelectable:!0}),f={messageText:i?this._host.getLocString("WindowsIndexingInProgressMessage"):this._host.getLocString("WindowsIndexingDisabledMessage"),title:i?this._host.getLocString("WindowsIndexingInProgressToolTip"):this._host.getLocString("WindowsIndexingDisabledToolTip"),action:u},this._page.updateIndexingMessageView(f))},u.prototype.hideIndexingMessage=function(){t.isMobileCache||(this._turnOnIndexingInstItem=null,this._page.updateIndexingMessageView(null))},u.prototype.getAvailableSpace=function(n){var r=this,i;return t.isL2(this._partialQuery)&&this._partialQuery.queryToFetch?Number.MAX_VALUE:(i=this._page.getSuggestionsContainerHeight(),t.config.extraTopPadding&&!t.RuntimeConfig.SearchBoxOnTop&&(i-=t.config.extraTopPadding),t.RuntimeConfig.ScopesAvailable&&(i-=oi),n.topResults.length==0||t.RuntimeConfig.FlatListWithoutGroups||(i-=ti),n.topResults.forEach(function(n){return i-=pt(n,t.isL2(r._partialQuery))}),n.groups.forEach(function(n){return i-=tr(r._partialQuery,n)}),n.groups.some(function(n){return n.typeWithSource&&t.isTopHitChildGroup(n.typeWithSource)})&&n.groups.some(function(n){return n.typeWithSource&&!t.isTopHitChildGroup(n.typeWithSource)})&&(i-=ei),i)},u.prototype.getAvailableSpaceForZeroInputHomeTopSection=function(n){var f=v.textScaleFactor||1,i=this._page.getSuggestionsContainerWidth()/f,r,u;return i-=t.RuntimeConfig.AlwaysWide?si:hi,r=n.suggestions.filter(function(n){return!n.isSuppressed}).length,u=t.RuntimeConfig.AlwaysWide?ci:li,i-(u+ai)*r},u.prototype.canFitSuggestion=function(i,u,f){if(f.suppressed||u.type==t.GroupType.StartMenu||t.getTweakedSetting("scrollBarInL1"))return!0;var s=yt(this._resultsCounter),e;return i?(e={typeWithSource:u,suggestions:[]},s.groups.push(e)):e=r(s.groups,u),e.suggestions.push({mainTextWrapsToTwoLines:f&&o(f,u.type,!1),isSuppressed:f&&f.suppressed,hasTwoLines:f&&n.contains(f.classNames,"forceNoWrapOutsideTopResult")}),this._partialQuery.isSearchHomeZI?this.canFitSuggestionInZeroInputHome(e):this.getAvailableSpace(s)>=0},u.prototype.canFitSuggestionInZeroInputHome=function(n){if(kt(n.typeWithSource.type))return this.getAvailableSpaceForZeroInputHomeTopSection(n)>=0;switch(n.typeWithSource.type){case t.GroupType.QuickSearch:return t.config.quickAnswer?t.RuntimeConfig.QfMode==4||t.RuntimeConfig.QfMode==0?n.suggestions.length<=pi:n.suggestions.length<=yi:!0;case t.GroupType.LockscreenQuickSearch:return!0}return n.suggestions.length<=vi},u.prototype.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup=function(){var i,r,u,n,f;if(t.isL2(this._partialQuery)&&this._partialQuery.queryToFetch||t.getTweakedSetting("scrollBarInL1"))return Number.MAX_VALUE;for(i=yt(this._resultsCounter),r=0,u=i.groups;r<u.length;r++)for(n=u[r];n.suggestions.length<t.config.minSuggestionsPerGroup;)n.suggestions.push(n.suggestions[0]);while(this.getAvailableSpace(i)>0){for(n={suggestions:[]},f=0;f<t.config.minSuggestionsPerGroup;++f)n.suggestions.push({mainTextWrapsToTwoLines:!1,isSuppressed:!1,hasTwoLines:!1});i.groups.push(n)}return i.groups.length-1},u.prototype.onSuggestionAddedToGroup=function(i,u){var e=this,f,s;this.updateNarratorWithPreviewMessage(i);t.isChildSuggestion(i)&&(i.displayed=!0,f=i.parent,i.id=f.id+"_"+f.childSuggestions.indexOf(i),t.isJumpListSuggestion(i)&&i.tooltip===undefined&&t.Promise.safeChain("getJumpListDescription",function(){return i.jumpListItem.getDescriptionAsync()},function(t){i.tooltip=t;e.groups.some(function(t){return n.contains(t.suggestions,i)})&&e.renderGroups()}));this.setRemoveIconHistorySuggestions(i);s=r(this._resultsCounter.groups,u.typeWithSource);s.suggestions.push({mainTextWrapsToTwoLines:o(i,u.typeWithSource.type,!1),isSuppressed:i.suppressed,hasTwoLines:n.contains(i.classNames,"forceNoWrapOutsideTopResult")});t.displayedInGridLayout(u.typeWithSource.type)&&u.suggestions.filter(function(n){return!n.suppressed}).length>0&&t.RuntimeConfig.QfMode!=8&&(u.cssClasses+=t.isL2(this._partialQuery)?" gridLayout":" gridLayout gridLayoutMedium")},u.prototype.onGroupsCleared=function(){this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this._resultsCounter.groups=[];this._turnOnIndexingInstItem&&this._instrumentationHelper.instrumentSyntheticInstrumentedItem(this._lastUpdatedSequenceNumber,"IMIO",this._turnOnIndexingInstItem)},u.prototype.launchSearch=function(n,t){var i=n.queryToFetch;this._host.launchSearch(i,this._navigationHelper.getSearchUrl(n.fullPartialQuery,i,t),!1)},u.prototype.setRemoveIconHistorySuggestions=function(n){var i=this,r=n.getExtraVerbs&&n.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromDeviceHistory"}),e=n.type=="HS"&&t.config.removeSuggUrl,f=n.getExtraVerbs&&n.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromActivityFeed"}),o=t.config.th&&ClientTestHooks.isTesthookParamSet("forceRemoveIcon"),u;(o||r||e||f)&&(u=r?"RemoveFromDeviceHistory":f?"RemoveFromActivityFeed":"RemoveFromWebHistory",n.removeIcon={icon:{content:"&#xE711",type:2},title:this._host.getLocString(r?"RemoveFromDeviceHistory":"RemoveFromWebHistory"),click:function(t,r){i._page.hideTemporaryMessage();i._instrumentationHelper.instrumentItemClickForContextMenu(t,n.instItem,n.sequenceNumber,n.instrumentPingBack,r,null,u);i.launchVerb(n,u,t);i._host.setFocusInSearchBox(null,"remove")}})},u.prototype.updateNarratorWithPreviewMessage=function(n){var r=t.RuntimeConfig.AlwaysWide?"PreviewPaneButtonNarratorMessageWidePane":"PreviewPaneButtonNarratorMessage",i=this._host.getLocString(r);n.narratorText&&n.previewPaneType&&n.narratorText.indexOf(i)==-1&&(n.narratorText+=", "+i)},u.prototype.onBeforeRenderTopResults=function(i,r,u,f){var e=this,h,c,o,l,a;this.topResults.forEach(function(n){e.setRemoveIconHistorySuggestions(n);e.updateNarratorWithPreviewMessage(n)});h=1;this.topResults.length!=1||this.topResults[0].hasChildSuggestionsDisplayed||r.some(function(n){return t.isChildSuggestion(n)})&&(this.topResults[0].hasChildSuggestionsDisplayed=!0,h=0);c=this.getSelectableItems();t.RuntimeConfig.FirstSuggestionSelectedByDefault&&(this._selectedItem&&n.contains(c,this._selectedItem)&&!this._headerFooterViewModel.isScopeElement(this._selectedItem)&&(this._selectedItem!=i[0]||this.topResults[0]==i[0])||(o=this._partialQuery.queryToFetch&&this.topResults.length>0?this.topResults[0]:null,t.config.synthWebNoBestMatch&&t.isNullOrUndefined(o)&&(l=[t.GroupType.SearchSuggestions,t.GroupType.Websites],a=r.filter(function(i){return!n.contains(l,t.getGroupType(i))}),a.length==0&&(o=r.length>0?r[0]:null)),this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable&&n.safeExecute(function(){return e._previewPane.onTopHitUpdated(e._partialQuery,e._selectedItem&&e.isSuggestion(e._selectedItem)?e._selectedItem:null,o,e.getSuggestions(!1))},"ppOnTopHitUpdated"),this.select(o,!1),this._page.scrollToTop()));var v=this.topResults.length>0,s=function(n){return!n.suppressed&&(!t.config.recourseOnlyInGroups||!t.isRecourse(n))&&(!t.config.quickAnswer||n.staticGroupType!=t.GroupType.QuickSearch)&&(t.RuntimeConfig.QfMode!=6||n.type!="LSQS")},y=v||r.some(s)||this.groups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.some(s)});return this._headerFooterViewModel.render(this._partialQuery,v,y,u,f),h},u.prototype.isRankable=function(n){return n.typeWithSource.type!=t.GroupType.SearchSuggestions&&n.typeWithSource.type!=t.GroupType.Websites&&n.typeWithSource.type!=t.GroupType.LocalPlaces&&!n.suggestions.some(t.enforceOriginalOrder)},u.prototype.isNotRankableWithRecourse=function(n){return n.typeWithSource.type==t.GroupType.Emails},u.prototype.openPreviewPane=function(n,i){i.stopPropagation();this._previewPane.showPreview(this._partialQuery,n);this.select(n,!t.config.dontUpdateSB);this._host.setFocusInSearchBox(null,"openPreviewPane")},u.prototype.mayNeedFlush=function(){return!t.RuntimeConfig.FlatListWithoutGroups},u.prototype.shouldRenderGroup=function(i){return t.RuntimeConfig.PreviewPaneAvailable&&t.config.suppressedGroups&&n.contains(t.config.suppressedGroups,i)?!1:!0},u.prototype.update=function(i,r,u,f,e,s,h,c,l,a){var v=this,d=this.topResults,w,g,nt,b,tt,y,ft;if(i&&(this._contentQuery=this._partialQuery,this._renderTopResultsTimerForIcons=null,this._renderGroupsTimerForIcons=null),t.config.enableMRUHint)for(w=0,g=r;w<g.length;w++)nt=g[w],nt.mruHintEnabled&&(nt.uxHint=this._host.getLocString("MruBestMatch"));var ut=this.updateTopResults(i,r,u,f,e,l),st=ut[0],ht=ut[1];for(ht(),this._resultsCounter.topResults=[],b=0,tt=this.topResults;b<tt.length;b++)y=tt[b],ft=1+(y.primaryMetadata?1:0)+(y.secondaryMetadata||y.stars?1:0),this._resultsCounter.topResults.push({mainTextWrapsToTwoLines:o(y,null,!0),numberOfLines:ft,isHtmlAnswer:!!y.htmlContent,isSuppressed:!1,grid:t.displayedInGridLayout(y.type)});if(this._autoComplete&&this.topResults.length>0&&this._selectedItem==this.topResults[0]&&this._autoComplete.apply(this.topResults[0]),this.handlePendingSubmit(e)==0)return this.toggleProgressBar(!0),0;this._partialQuery&&this._partialQuery.isSearchHomeZI&&this.toggleProgressBar(!l);var k=!1,it=0,et=function(){if(k&&it==0){var n=v.groups.map(function(n){return n.typeWithSource.type});v._instrumentationHelper.instrumentRenderFinished(f,h,n);k=!1}},rt=function(n,t){var r=!1,i;if(v.isRankable(t)&&v._partialQuery&&v._partialQuery.queryToFetch)for(i=0;i<t.suggestions.length;i++)if(n.rankingScore>t.suggestions[i].rankingScore){t.suggestions.splice(i,0,n);r=!0;break}r||t.suggestions.push(n);it+=1;v.setupIcon(f,n,!1,function(){it-=1;et()});v.onSuggestionAddedToGroup(n,t)},p=this.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup()-this.groups.length,ot=function(){var i,r,n,e;if(p!=0&&u||v.flush(rt,f,c),v._partialQuery&&v._partialQuery.queryToFetch)for(v.groups.sort(function(n,i){return c.findIndex(function(i){return t.sameGroup(i,n.typeWithSource)})-c.findIndex(function(n){return t.sameGroup(n,i.typeWithSource)})}),i=0,r=v.groups;i<r.length;i++)n=r[i],v.isRankable(n)?n.suggestions.sort(function(n,t){return t.rankingScore-n.rankingScore}):v.isNotRankableWithRecourse(n)&&(e=n.suggestions.map(function(n){return n.notAResult}).findIndex(function(n){return n}),e!=-1&&n.suggestions.splice(n.suggestions.length-1,0,n.suggestions.splice(e,1)[0])),v.populateGroupHeaderFlags(n)};return i||e.length>0||s.length>0?(this.renderGroupsAfter(function(){for(var ft,h,l,g,nt,y,tt,w,it,r,b,ut,o=0,k=s;o<k.length;o++)r=k[o],ft=v.removeSuggestion(r,a),ft&&(p+=1);for(h=function(n,i){var e=v.getGroupData(n),u=e[0],r=e[1],o;v.shouldRenderGroup(u.type)&&(r?(r.count&&r.count++,o=t.config.minSuggestionsPerGroup&&!i?t.config.minSuggestionsPerGroup-r.suggestions.length:999,o>0&&v.canFitSuggestion(!1,u,n)?rt(n,r):v._partialQuery.isSearchHomeZI||v.queueSuggestionInExistingGroup(n,r)):p>0&&v.canFitSuggestion(!0,u,n)?(r=v.addGroup(u,n,f,c,a),v.shouldTrackGroupCount(r)&&(r.count=1),rt(n,r),p-=1):v._partialQuery.isSearchHomeZI||v.queueSuggestionInMissingGroup(n,u,a))},l=0,g=d;l<g.length;l++){var et=g[l],ht=v.getGroupData(et),u=ht[1];u&&u.count&&(u.count-=1)}if(nt=function(){return v._contentQuery.isSearchHomeZI||t.shouldFetchStartMenu(v._contentQuery)||t.getTweakedSetting("scrollBarInL1")},st&&!i){for(y=0,tt=e;y<tt.length;y++)r=tt[y],n.contains(d,r)&&h(r,!0);for(w=0,it=e;w<it.length;w++)r=it[w],n.contains(d,r)||h(r,nt())}else e.forEach(function(n){return h(n,nt())});for(b=0,ut=v.topResults;b<ut.length;b++){var et=ut[b],ct=v.getGroupData(et),u=ct[1];u&&u.count&&(u.count+=1)}ot()}),k=!0):p!=0&&u||(this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.length>0})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))&&(this.renderGroupsAfter(function(){return ot()}),k=!0),et(),l&&this.toggleProgressBar(!1),1},u.prototype.populateGroupHeaderFlags=function(n){if(t.canGoToL2(n)){var i=n.suggestions.every(function(n){return n.suppressed});n.showCountInHeader=i}},u.prototype.shouldTrackGroupCount=function(n){return t.canGoToL2(n)},u.prototype.getGroupData=function(n){var i={type:t.getGroupType(n),source:n.sourceForGroup};return[i,r(this.groups,i)]},u.prototype.removePendingSuggestionFromExistingGroup=function(n,t){for(var r,u,i=0;i<this._pendingSuggestionsInExistingGroups.length;++i)if(r=this._pendingSuggestionsInExistingGroups[i],r.group==t)if(u=r.suggestions.indexOf(n),u==-1)throw new Error("Pending suggestion not found");else{r.suggestions.splice(u,1);r.suggestions.length==0&&this._pendingSuggestionsInExistingGroups.splice(i,1);return}throw new Error("Pending suggestion not found");},u.prototype.removePendingSuggestionFromMissingGroup=function(n,i){for(var u,f,r=0;r<this._pendingSuggestionsInMissingGroups.length;++r)if(u=this._pendingSuggestionsInMissingGroups[r],t.sameGroup(u.typeWithSource,i))if(f=u.suggestions.indexOf(n),f==-1)throw new Error("Pending suggestion not found");else{u.suggestions.splice(f,1);u.suggestions.length==0&&this._pendingSuggestionsInMissingGroups.splice(r,1);return}throw new Error("Pending suggestion not found");},u.prototype.queueSuggestionInExistingGroup=function(n,t){var i=wt(this._pendingSuggestionsInExistingGroups,t.typeWithSource);i?i.suggestions.push(n):(i={group:t,suggestions:[n]},this._pendingSuggestionsInExistingGroups.push(i))},u.prototype.queueSuggestionInMissingGroup=function(n,t,i){var u=r(this._pendingSuggestionsInMissingGroups,t);u?u.suggestions.push(n):(u={typeWithSource:t,suggestions:[n],extraSignalsMap:i},this._pendingSuggestionsInMissingGroups.push(u))},u.prototype.partialFlush=function(n,t,i,r){while(n>0&&i.length>0){var u=i[0];this.canFitSuggestion(!1,t.typeWithSource,u)&&r(u,t);i.splice(0,1);n-=1}},u.prototype.flush=function(n,i,r){for(var e,s,u,c,l=this,a=function(u){var o=u.suggestions[0],e;o&&f.canFitSuggestion(!0,u.typeWithSource,o)&&(e=f.addGroup(u.typeWithSource,o,i,r,u.extraSignalsMap),f.shouldTrackGroupCount(e)&&(e.count=u.suggestions.length),f.partialFlush(t.config.minSuggestionsPerGroup,e,u.suggestions,n),u.suggestions.forEach(function(n){return l.queueSuggestionInExistingGroup(n,e)}),u.suggestions=[])},f=this,o=0,h=this._pendingSuggestionsInMissingGroups;o<h.length;o++)u=h[o],a(u);while(this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))for(e=0,s=this._pendingSuggestionsInExistingGroups;e<s.length;e++)u=s[e],c=t.config.minSuggestionsPerGroup?1:u.suggestions.length,this.partialFlush(c,u.group,u.suggestions,n)},u.prototype.removeSuggestion=function(i,u){var h={type:t.getGroupType(i),source:i.sourceForGroup},f=r(this.groups,h),e,c,s;if(f)if(n.tryRemove(f.suggestions,i)){if(e=r(this._resultsCounter.groups,f.typeWithSource),c=o(i,f.typeWithSource.type,!1),n.removeFirstWhere(e.suggestions,function(n){return n.mainTextWrapsToTwoLines==c}),t.displayedInGridLayout(f.typeWithSource.type)&&f.suggestions.filter(function(n){return!n.suppressed}).length==0&&(f.cssClasses=""),f.suggestions.length==0)return n.tryRemove(this.groups,f),this._resultsCounter.groups=this._resultsCounter.groups.filter(function(n){return n!=e}),s=wt(this._pendingSuggestionsInExistingGroups,f.typeWithSource),s&&this._pendingSuggestionsInMissingGroups.push({typeWithSource:f.typeWithSource,suggestions:s.suggestions,extraSignalsMap:u}),!0}else this.removePendingSuggestionFromExistingGroup(i,f);else this.removePendingSuggestionFromMissingGroup(i,h);return!1},u}(n.BaseRootViewModel);t.RootViewModel=gt})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}))
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
              <uap4:InputTypes>
                <uap4:InputType SubType="7693E886-51C9-4070-8419-9F70738EC8FA" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
              <uap4:InputTypes>
                <uap4:InputType SubType="7693E886-51C9-4070-8419-9F70738EC8FA" />
              </uap4:InputTypes>
              <uap4:OutputTypes>
                <uap4:OutputType SubType="30313050-0000-0010-8000-00aa00389b71" />
              </uap4:OutputTypes>
PuTTY_File
PuTTYgen_File
OutputTypeBuilder
m_InputType
get_PutType
set_PutType
get_AsOutputType
OutputTypeAttribute
inputType
<InitializeTemplatesForInputTypes>b__23_0
InitializeTemplatesForInputTypes
PuTTY
Bingbing.comhttps://www.bing.com/favicon.ico{bing:baseURL}search?q={searchTerms}&{bing:cvid}{google:assistedQueryStats}UTF-8{bing:baseURL}qbox?query={searchTerms}&language={language}&{bing:partner}{bing:cvid}{bing:ig}{google:inputType}{google:cursorPosition}{google:pageClassification}{bing:features}{bing:flights}485bf7d3-0215-45af-87dc-538868000001[]{bing:baseURL}images/detail/search?iss=sbiupload&FORM=ANCMS1#enterInsightsimageBin={google:imageThumbnailBase64}{bing:baseURL}chrome/newtab
Googlegoogle.comhttps://www.google.com/images/branding/product/ico/googleg_lodp.ico{google:baseURL}search?q={searchTerms}&{google:RLZ}{google:originalQueryForSuggestion}{google:assistedQueryStats}{google:searchFieldtrialParameter}{google:iOSSearchLanguage}{google:prefetchSource}{google:searchClient}{google:sourceId}{google:contextualSearchVersion}ie={inputEncoding}UTF-8{google:baseSuggestURL}search?{google:searchFieldtrialParameter}client={google:suggestClient}&gs_ri={google:suggestRid}&xssi=t&q={searchTerms}&{google:inputType}{google:omniboxFocusType}{google:cursorPosition}{google:pageClassification}{google:searchVersion}{google:sessionToken}{google:prefetchQuery}sugkey={google:suggestAPIKeyParameter}
OutputTypeAttribute
OutputTypeAttribute
"||t.RuntimeConfig.QfMode==2)&&(n.reformulate(""),b.setFocusInSearchBox("clear search box"),y.logClientInstEvent("Select","ClearSearchBox",null))}),n.bindScopeListRequiresUpdate(function(){b.init();b._currentQuery&&b.renderScopes(!0)}),n.bindOnFeedbackClosing(function(n){!n&&t.RuntimeConfig.AlwaysWide&&_ge(r).focus()}),this._substrateUpsellDismiss={action:function(){b._upsellGotDismissed=!0;w.setItem(u,"1");n.refreshCurrentPane()},icon:{content:"&#xE711",type:2}},l&&l.bindRewardsBadgeUpdated(function(){b._currentQuery&&b.renderScopes(!0)}))}return h.prototype.focusNextScopeTile=function(n,i){var r=[].slice.call(this._scopesHeaderElement.getElementsByClassName("scopeTile")),u=t.shouldSkipSelectedScope()?r.filter(function(n){return!n.classList.contains("selectedScope")}):r;this._currentScopeTileIndex=u.indexOf(n);i?this._currentScopeTileIndex!=u.length-1&&++this._currentScopeTileIndex:this._currentScopeTileIndex>0&&--this._currentScopeTileIndex;t.shouldSkipSelectedScope()&&(this._currentScopeTileIndex=r.indexOf(u[this._currentScopeTileIndex]));this._menuFactory.dismiss();r[this._currentScopeTileIndex].focus()},h.prototype.render=function(n,i,r,u,f){if(t.config.renderScopeBarOnAppShown||(this._currentQuery=n),n){var e=t.getEffectiveScope(n);this.innerRender(n.scope,e,n,i,r,u,f)}else this.cleanUp()},h.prototype.getScopeToolTip=function(n,i){var u=t.ScopeConfig[n],f=t.getScopeDisplayName(u,this._host),r;return r=i&&!this._allScopeButtonPresent?"RemovingScopeNarratorText2":n==t.Scope.All?"AddingScopeNarratorTextAll2":"AddingScopeNarratorText",this._host.getLocString(r,f.toLocaleLowerCase())},h.prototype.selectScope=function(n){var i,r,t;for(this._selectedScope&&(this._selectedScope.tooltip=this.getScopeToolTip(this._selectedScope.type,!1),this._selectedScope.enabled=!1,this._selectedScope=null),i=0,r=this._scopeTiles;i<r.length;i++)if(t=r[i],t.enabled=t.type==n,t.enabled){t.tooltip=this.getScopeToolTip(n,!0);this._selectedScope=t;break}},h.prototype.innerRender=function(n,i,r,u,f,e,o){this._topHitPresent=u;this._resultsPresent=f;this.renderTopHitHeader(n,i,r,f,e,o);t.RuntimeConfig.ScopesAvailable&&(this._scopeTiles||this.init(),this._scopeTiles&&(!this._selectedScope||this._selectedScope.type!=n)&&this.selectScope(n),this.renderScopes(!0))},h.prototype.renderTopHitHeader=function(n,i,r,u,f,e){var o=t.ScopeConfig[i],l=r.showProgressBar?e:!f,a=!r||!r.queryToFetch,v=this.getEmptyResultsMessage(u,l,a,i,o),s=v[0],h=v[1],c=l||a||u||!this._lastRenderedTopHitHeader||t.uses3lineTemplate(i)?this.getHeaderText(i,o):this._lastRenderedTopHitHeader.headerText,y;(this._advancedOptionsScope=t.RuntimeConfig.ScopesAvailable&&o.showUpsellOnSuggestionsList&&o.showUpsellOnSuggestionsList()?this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),0):[],t.RuntimeConfig.AlwaysWide&&(this._advancedOptionsScope=this._advancedOptionsScope.concat(this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),1))),this._lastRenderedTopHitHeader&&this._lastRenderedTopHitHeader.scope==n&&this._lastRenderedTopHitHeader.message==s&&this._lastRenderedTopHitHeader.subMessage==h&&this._lastRenderedTopHitHeader.headerText==c&&this._lastRenderedTopHitHeader.advancedOptions==this._advancedOptionsScope)||(this._lastRenderedTopHitHeader={scope:n,headerText:c,message:s,subMessage:h,advancedOptions:this._advancedOptionsScope,scopeForDisplay:i},y={headerText:c,message:s,subMessage:h,messageIcon:s?o.icon:null,advancedOptions:this._advancedOptionsScope},this._page.updateTopHitHeaderView(y))},h.prototype.updateTopHitHeader=function(){if(this._lastRenderedTopHitHeader){var n=t.ScopeConfig[this._lastRenderedTopHitHeader.scopeForDisplay],i={headerText:this._lastRenderedTopHitHeader.headerText,message:this._lastRenderedTopHitHeader.message,subMessage:this._lastRenderedTopHitHeader.subMessage,messageIcon:this._lastRenderedTopHitHeader.message?n.icon:null,advancedOptions:this._advancedOptionsScope};this._page.updateTopHitHeaderView(i)}},h.prototype.renderScopes=function(n){var i=this,r;if(n){var u=this.getScopeBarElements(),f=this.getHiddenScopeElements(u)||[],e=t.config.userProfileButtonEnabled?this.getUserProfileButtonData():[null,null],o=e[0],s=e[1];r={scopes:u,showFeedback:this.isFeedbackEnabled()?function(){return i.showFeedback()}:null,rewardsBadgeDataModel:this._msRewardsViewModel&&this._msRewardsViewModel.getDataModel(),moreMenuDataModel:f.length>0?{opened:this._moreMenuOpened,buttonClickHandler:function(){return i._moreMenuOpened?i.closeMoreMenuDropDown():i.openMoreMenuDropDown(f)}}:null,optionsMenuDataModel:{opened:this._optionsMenuOpened,buttonClickHandler:function(){return i._optionsMenuOpened?i.closeOptionsMenuDropDown():i.openOptionsMenuDropDown()}},userProfileButtonDataModel:t.config.userProfileButtonEnabled&&o?{opened:this._userProfileMenuOpened,buttonClickHandler:function(){return i._userProfileMenuOpened?i.closeUserProfileDropDown():i.openUserProfileDropDown()},icon:o,userName:s}:null,lockscreenMenuDataModel:{opened:this._lockscreenMenuOpened,buttonClickHandler:function(){return i._lockscreenMenuOpened?i.closeLockscreenMenuDropDown():i.openLockscreenMenuDropDown()}}}}this._page.updateScopesHeaderView(r)},h.prototype.openMoreMenuDropDown=function(t){var i=this;this._page.ensureWebViewHeightExpanded();this._menuFactory.showDropdownMenu(t,document.getElementById(this._moreButton.id),1,function(){n.safeSetTimeout(function(){return i.closeMoreMenuDropDown()},0,"closeMoreMenuDropDown")});this._moreMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeMoreMenuDropDown=function(){this._moreMenuOpened=!1;this.renderScopes(!0)},h.prototype.openOptionsMenuDropDown=function(){var u=this,i,r;this._page.ensureWebViewHeightExpanded();i=t.RuntimeConfig.AlwaysWide?1:2;r=this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),i);this._menuFactory.showDropdownMenu(r,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return u.closeOptionsMenuDropDown()},0,"closeOptionsMenuDropDown")});this._optionsMenuOpened=!0;this.renderScopes(!0)},h.prototype.openLockscreenMenuDropDown=function(){var r=this,t,i;this._page.ensureWebViewHeightExpanded();t=4;i=this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),t);this._menuFactory.showDropdownMenu(i,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return r.closeLockscreenMenuDropDown()},0,"closeLockscreenMenuDropDown")});this._lockscreenMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeOptionsMenuDropDown=function(){this._optionsMenuOpened=!1;this.renderScopes(!0)},h.prototype.closeLockscreenMenuDropDown=function(){this._lockscreenMenuOpened=!1;this.renderScopes(!0)},h.prototype.openUserProfileDropDown=function(){var t=this,i=this.getAccountOptionsForUserProfileButton(this._sequenceNumberReader.getSequenceNumber());this._menuFactory.showDropdownMenu(i,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return t.closeUserProfileDropDown()},0,"closeUserProfileDropDown")});this._userProfileMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeUserProfileDropDown=function(){this._userProfileMenuOpened=!1;this.renderScopes(!0)},h.prototype.cleanUp=function(){this._lastRenderedTopHitHeader=null;this._page.updateTopHitHeaderView(null);this._page.updateScopesHeaderView(null)},h.prototype.scopeNamesElements=function(n){var i=this;return n.map(function(n){return i._scopeTiles.find(function(i){return t.Scope[i.type]==n})}).filter(function(n){return!!n})},h.prototype.getEffectiveScopeOrder=function(){var i,r,o,n,u,s,e;if(!this._scopeTiles||this._scopeTiles.length==0)return[];if(this._effectiveScopeOrder&&!t.config.pathCompletionReplacesAll)return this._effectiveScopeOrder.slice(0);if(t.RuntimeConfig.AlwaysWide?(i=t.config.scopesOrderBeginAlwaysWide,r=t.config.scopesOrderLastAlwaysWide,o=t.config.numberOfScopesToRenderAlwaysWide):(i=t.config.scopesOrderBegin,r=t.config.scopesOrderLast,o=t.config.numberOfScopesToRender),n=[],i){if(t.config.pathCompletionReplacesAll&&(r=r.filter(function(n){return n!="PathCompletion"}),this._currentQuery&&this._currentQuery.canBePathCompletion&&(i=i.map(function(n){return n=="All"?"PathCompletion":n}))),u=r?this.scopeNamesElements(r):[],n=this.scopeNamesElements(i),t.RuntimeConfig.AlwaysWide){var f=0,h=10,c=26,l=t.config.scopeMenuWidth*this._scopesHeaderElement.clientWidth;for(s=0;s<u.length;s++)f+=u[s].text.length*h+c;for(l-=f,f=0,e=0;e<n.length;e++)if(f+=n[e].text.length*h+c,f>l)break;o=e+u.length}n=n.slice(0,o-u.length);n.push.apply(n,u)}return this._effectiveScopeOrder=n,n.slice(0)},h.prototype.getHiddenScopeElements=function(n){return this._moreScopeTiles?this._moreScopeTiles.filter(function(i){return n.find(function(n){return n.type==i.type})==undefined&&t.Scope[i.type]!="PathCompletion"&&t.Scope[i.type]!="All"}):[]},h.prototype.getScopeBarElements=function(){var u=this,n,i,r;return this._scopeTiles?(n=this.getEffectiveScopeOrder(),i=n.some(function(n){return n.enabled}),!i&&this._selectedScope&&(t.config.pathCompletionReplacesAll&&t.Scope[this._selectedScope.type]=="PathCompletion"||(r=this._scopeTiles.find(function(n){return n.type==u._selectedScope.type}),n.push(r),i=!0)),n):[]},h.prototype.isFeedbackEnabled=function(){return n.isBingEnabledByClient()},h.prototype.showFeedback=function(){this._page.ensureWebViewHeightExpanded();typeof WindowsFeedbackForm!="undefined"&&WindowsFeedbackForm.Show("")},h.prototype.getHeaderText=function(n,i){var r,u;if(t.RuntimeConfig.FlatListWithoutGroups||t.config.hideBestMatchTag)return null;if(r=t.getScopeDisplayName(i,this._host),r){if(this._topHitPresent)return n==t.Scope.All||n==t.Scope.PathCompletion?(u=t.config.quickMatchLabel?"QuickMatch":"BestMatch",this._host.getLocString(u)):(u=t.config.quickMatchLabel?"QuickMatchFor":"BestMatchFor",this._host.getLocString(u,r.toLocaleLowerCase()));if(this._resultsPresent)return null;if(n!=t.Scope.All)return r}return this._host.getLocString("BestMatch")},h.prototype.getEmptyResultsMessage=function(n,i,r,u,f){return t.RuntimeConfig.QfMode==5||n||!i&&!r||u!=t.Scope.Documents&&f.showUpsellOnSuggestionsList&&f.showUpsellOnSuggestionsList()?["",""]:r?f.getEmptyZIMessages(this._host):[this._host.getLocString("NoResults",this._currentQuery.queryToFetch),""]},h.prototype.init=function(){var u,f,r,i;if(t.initScopePrefixes(this._host),this._scopeTiles=[],this._moreScopeTiles=[],t.RuntimeConfig.ScopesAvailable){u=t.RuntimeConfig.AlwaysWide?t.config.scopesOrderBeginAlwaysWide:t.config.scopesOrderBegin;this._allScopeButtonPresent=n.contains(u,"All");for(f in t.ScopeConfig)(r=parseInt(f),i=t.ScopeConfig[r],(i.prefixes||i.prefixesLocString||i.scopeNameLocString)&&t.isScopeEnabled(r,i))&&((r!=t.Scope.All||this._allScopeButtonPresent)&&this._scopeTiles.push(this.createScopeElement(r,i,!1)),this._moreScopeTiles.push(this.createScopeElement(r,i,!0)));this._moreScopeTiles.sort(function(n,i){return n.type==t.Scope.All?-1:i.type==t.Scope.All?1:n.text.localeCompare(i.text)});this._selectedScope&&this.selectScope(this._selectedScope.type);this._effectiveScopeOrder=null}},h.prototype.createScopeElement=function(n,i,r){var u=this;return{isScopeElement:!0,id:(r?"scope":"l1scope")+n,type:n,enabled:!1,text:t.getScopeDisplayName(i,this._host),title:null,icon:n==t.Scope.All?{content:"&#xE8A9",type:1}:i.icon,click:function(){return u.clickHandler(n,"scopeBar")},selected:!1,tooltip:this.getScopeToolTip(n,!1),isSelectable:!0}},h.prototype.clickHandler=function(n,i,r){var h=t.getScopeDisplayName(t.ScopeConfig[n],this._host),e,u=this._currentQuery,f=u.scope,o,s,c;if(this._scopeTiles.some(function(n){return n.type==f})||(f=t.Scope.All),h&&f!=n)e=(n==t.Scope.All||n==t.Scope.PathCompletion?"":h.toLocaleLowerCase()+": ")+u.queryToFetch,this.innerRender(n,n,u,this._topHitPresent,this._resultsPresent,!0,!1),o={query:this._currentQuery,topResults:[],groups:[]},this._page.updateTopResultsView(o),this._page.updateGroupsView(o);else{if(f==t.Scope.All||this._allScopeButtonPresent){this._page.ensureWebViewHeightExpanded();this.setFocusInSearchBox("scope clickHandler noop");return}e=u.queryToFetch;n=t.Scope.All;this.innerRender(n,n,u,this._topHitPresent,this._resultsPresent,!0,!1)}s=t.Scope[n];c={Scope:s,Source:i,GroupSource:r&&r.source?r.source.toString():undefined};this._instHelper.logClientInstEvent("Select","ScopeChanged",null,c);f!=n&&this._host.reformulate(e,undefined,undefined,r);this.setFocusInSearchBox("scope clickHandler "+s)},h.prototype.setFocusInSearchBox=function(t){this._host.setFocusInSearchBox(null,t);var i=n.getCurrentActiveElement();i&&i.blur()},h.prototype.isScopeElement=function(t){return t&&this._scopeTiles&&(this.isScopeButton(t.id)||n.contains(this._scopeTiles,t))},h.prototype.isMenuElement=function(n){return n&&this.isMenuButton(n.id)},h.prototype.isScopeButton=function(n){return n==this._feedbackButton.id||n==this._rewardsBadgeButton.id||n==this._userProfileButton.id||this.isMenuButton(n)},h.prototype.isMenuButton=function(n){return n==this._moreButton.id||n==this._optionsButton.id},h.prototype.getSelectableItems=function(){var n=[],i;return t.RuntimeConfig.ScopesAvailable&&(n=n.concat(this.getScopeSelectableItems())),i=this._advancedOptionsScope.filter(function(n){return n.layout==0||n.layout==6}),i.length>0&&(n=n.concat(i)),n},h.prototype.getSelectableItemsByGroup=function(){var i=[],n=this.getScopeBarElements(),r,u,e,f;return t.shouldSkipSelectedScope()&&this._selectedScope==n[0]&&(n=n.slice(1)),i.push(n.slice(0,1)),r=n.findIndex(function(n){return n.selected}),r>0?i.push(n.slice(r,r+1)):t.shouldSkipSelectedScope()||(u=n.findIndex(function(n){return n.enabled}),u>0&&i.push(n.slice(u,u+1))),e=[this._moreButton,this._rewardsBadgeButton,this._userProfileButton,this._feedbackButton,this._optionsButton],e.forEach(function(n){_ge(n.id)&&i.push([n])}),f=this._advancedOptionsScope.filter(function(n){return n.layout==0||n.layout==6}),f.length>0&&i.push.apply(i,f.map(function(n){return[n]})),i},h.prototype.getScopeSelectableItems=function(){var u=this.getScopeBarElements(),i=this._currentScopeTileIndex,c=u.length,h;if(t.shouldSkipSelectedScope()&&this._selectedScope==u[0]&&(u=u.slice(1),--i,--c),i<0&&this._selectedScope&&!t.shouldSkipSelectedScope())return[this._selectedScope];if(h=n.getCurrentActiveElement(),h)switch(h.id){case f:return[this._moreButton];case r:return[this._feedbackButton];case e:return[this._optionsButton];case o:return[this._rewardsBadgeButton];case s:return[this._userProfileButton]}return(i<0||i>=c)&&(i=0),u.slice(i,i+1)},h.prototype.getSelectedItem=function(){return null},h.prototype.select=function(n){var i=[].slice.call(this._scopesHeaderElement.getElementsByClassName("scopeTile")),r=t.shouldSkipSelectedScope()?i.filter(function(n){return!n.classList.contains("selectedScope")}):i;this._currentScopeTileIndex=r.indexOf(_ge(n.id));t.shouldSkipSelectedScope()&&(this._currentScopeTileIndex=i.indexOf(r[this._currentScopeTileIndex]))},h.prototype.onAfterKeyDown=function(){return!1},h.prototype.getSubstrateUpsellClickHandler=function(n){var i=this,r=function(){i._host.refreshCurrentPane();i._host.setFocusInSearchBox(null,"SubstrateUpsell")};return function(){return i._accessTokenManager.promptAutheticateDialog(n,t.getSubstrateResourceOrScope(n),r,r)}},h.prototype.getSubstrateUpsell=function(n,i,r){var s=null,u="VerifyAccountToSearch",e=0,l="CloudSearch",a=["Verify"],o=null,h=[],f,c;if(r==0){f=t.getEffectiveScope(this._currentQuery);switch(f){case t.Scope.People:u+="Contacts";break;case t.Scope.Emails:u+="Emails";break;case t.Scope.Documents:u+="Documents";e=1;s={content:"&#xE9BE",type:2,needsAccentColor:!0};o=this._substrateUpsellDismiss}t.config.accountVerifyMessage&&(e=6,c=this._accessTokenManager?this._accessTokenManager.getCachedAccountInfo(n):null,c&&h.push(c.accountUserName),(f==t.Scope.People||f==t.Scope.Emails||f==t.Scope.Documents)&&(h.length>0&&(u="VerifyAccount"),o=this._substrateUpsellDismiss));l=""}else r==2&&(u=null,e=2,s={content:"&#xE9BE",type:2,needsAccentColor:!0},o=this._substrateUpsellDismiss,a=["VerifyAccountToSearch"]);return this.createAdvancedOption(n==1?"COFA":"COOA",i,l,u,a,this.getSubstrateUpsellClickHandler(n),e,o,s,null,h,"VerifyButton")},h.prototype.getOneDriveUpsell=function(n){var t=this;return this.createAdvancedOption("SDSC",n,null,null,["SeeResultsFromOneDrive"],function(){t._host.launchCortanaSignIn()},2,null,{content:"&#xE9BE",type:2,needsAccentColor:!1})},h.prototype.getIndexingOption=function(n){var i=this,r=t.config.controlPanelSearchSettings?function(){return i._host.launchSearchSettings()}:function(){return t.LocalDataProvider.launchIndexingOptions(i._host,!1)};return this.createAdvancedOption("OMIO",n,"",null,["OptionsMenuIndexing"],r,2,null,{type:2,content:"&#xED52"})},h.prototype.getAdvancedOptionCssClass=function(n){return n==4?"menuInfo":n==5?"menuLabel":null},h.prototype.createContextMenuGroup=function(n,t,i,r){var u=this.createAdvancedOption(n,t,null,i,null,null,5);return u.groupItems=r,u.narratorText=u.message,u},h.prototype.createBuildVersionOption=function(){var n=this._host.getLocString("Build");return{id:"advancedOption"+this._advancedOptionsIdCounter++,selected:!1,title:n,message:undefined,text:n+": "+t.config.snrVersion,instItem:undefined,click:undefined,layout:4,cssClass:this.getAdvancedOptionCssClass(4),isSelectable:!1,subItems:undefined,isExpanded:!1}},h.prototype.createCossOptInOption=function(n){var r=this,i=t.RuntimeConfig.QfMode==2?"CossOptOut":"CossOptIn";return this.createAdvancedOption(null,n,i,null,[i],function(){return r.onCossOptInOutClick()},2,null,{type:2,content:"&#xE8A7"})},h.prototype.createAdvancedOption=function(i,r,u,f,e,o,s,h,c,l,a,v){var k=this,w,y,b,p;return i&&(y=n.InstrumentedItem.getNonSuggestionInstrumentedItem(i,t.SyntheticQSCodesMaps.KValues),this._instHelper.instrumentSyntheticInstrumentedItem(r,i,y)),b="advancedOption"+this._advancedOptionsIdCounter++,l&&l.length==0&&(l=null),p={id:b,selected:!1,title:this._host.getLocString(u),message:f?(w=this._host).getLocString.apply(w,[f].concat(a)):null,text:this._host.getLocString.apply(this._host,e),instItem:y,click:undefined,layout:s,dismiss:h,icon:c,cssClass:this.getAdvancedOptionCssClass(s),isSelectable:!!o||!!l,subItems:l,buttonLabel:this._host.getLocString(v),isExpanded:!l?undefined:!1},p.click=o?function(n,t){y&&k._instHelper.instrumentItemClick(n,y,r,null,t,null);o(p)}:undefined,p},h.prototype.getAccountOptions=function(n){var u=this,r=[];if(!this._accessTokenManager)return r;var f=this._accessTokenManager.getCachedAccountInfo(0),e=this._accessTokenManager.getCachedAccountInfo(1),c=this._accessTokenManager.isMsaAvailable(),l=this._accessTokenManager.isAadAvailable(),o="menuItemWithButton focusable",s="removeHover",h="highlight",i;return(f||e)&&(i=this.createAdvancedOption(null,n,null,"ConnectedAccounts",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),f&&t.isCloudSearchEnabledMsaCache&&(i=this.createAdvancedOption(null,n,null,null,["MicrosoftAccount"],null,4),i.message=f.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),t.config.accountVerifyMessage&&!t.isSubstrateOutlookAccountConnected&&(i.cssClass+=" "+h),r.push(i),t.config.accountVerifyMessage&&!t.isSubstrateOutlookAccountConnected&&(i=this.createAdvancedOption(null,n,null,"VerifyAccountAttention",null,this.getSubstrateUpsellClickHandler(0),4),i.cssClass=s,i.icon={type:2,content:"&#xE946"},r.push(i),i=this.createAdvancedOption(null,n,null,"VerifyButton",null,this.getSubstrateUpsellClickHandler(0),2),i.cssClass=o,r.push(i))),e&&t.isCloudSearchEnabledAadCache&&(i=this.createAdvancedOption(null,n,null,null,["AadAccount"],null,4),i.message=e.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),r.push(i),t.config.accountVerifyMessage&&!t.isSubstrateO365AccountConnected&&(i.cssClass+=" "+h),t.config.accountVerifyMessage&&!t.isSubstrateO365AccountConnected&&(i=this.createAdvancedOption(null,n,null,"VerifyAccountAttention",null,this.getSubstrateUpsellClickHandler(1),4),i.cssClass=s,i.icon={type:2,content:"&#xE946"},r.push(i),i=this.createAdvancedOption(null,n,null,"VerifyButton",null,this.getSubstrateUpsellClickHandler(1),2),i.cssClass=o,r.push(i))),r.push(this.getMenuDividerOption()),i=this.createAdvancedOption(null,n,null,null,["ManageAccounts"],function(){return u._host.launchWindowsAccountSettings()},2,null,{type:2,content:"&#xE716"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),f&&(t.isCloudSearchEnabledMsaCache||!c)||(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledMsaCache?["AddMicrosoftAccount"]:["EnableMsaSearch"],t.isCloudSearchEnabledMsaCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),e&&(t.isCloudSearchEnabledAadCache||!l)||(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledAadCache?["AddAadAccount"]:["EnableAadSearch"],t.isCloudSearchEnabledAadCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),r},h.prototype.getUserProfileButtonData=function(){var i=this,r,t,n=this._accessTokenManager.getSelectedAccountInfo(),u;return n?(t=n.accountProviderAuthority=="consumers"?0:1,r=this._userProfilesCache[n.accountUserName],!r)?(u=this._substrateProfilePictureProvider.getPersonDefaultIcon(n.accountUserName),this._userProfilesCache[n.accountUserName]=u,this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(r){if(r&&r.Token){var u=i._substrateProfilePictureProvider.getProfilePictureIconForToken(t,r.Token,n.accountUserName);u&&u(1,function(t){t&&(i._userProfilesCache[n.accountUserName]=t,i.renderScopes(!0))})}},"Windows"),[u,n.accountUserName]):[r,n.accountUserName]:[null,null]},h.prototype.getAccountOptionsForUserProfileButton=function(n){var u=this,r,i,f,a,c,o,l,v;if(!this._accessTokenManager)return[];var s=this._accessTokenManager.getAllAvailableAccounts(0),h=this._accessTokenManager.getAllAvailableAccounts(1),e=s.concat(h);if(s.length+h.length==0)return[];if(r=[],f=this._accessTokenManager.getSelectedAccountInfo(),f&&(e=e.filter(function(n){return n.accountUserName!=f.accountUserName}),i=this.createAdvancedOption(null,n,null,"ConnectedAccount",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),i=this.createAdvancedOption(null,n,null,null,f.accountProviderAuthority=="consumers"?["MicrosoftAccount"]:["AadAccount"],null,4),i.message=f.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),r.push(i)),e.length>0)for(i=this.createAdvancedOption(null,n,null,"AvailableAccounts",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),a=function(t){i=c.createAdvancedOption(null,n,null,null,t.accountProviderAuthority=="consumers"?["MicrosoftAccount"]:["AadAccount"],function(){u._accessTokenManager.setSelectedAccount(t);u._host.notifyAccountSelected(t);u._menuFactory.dismiss()},0,null,{type:2,content:"&#xE77B"});i.message=t.accountUserName;i.cssClass=c.getAdvancedOptionCssClass(0);r.push(i)},c=this,o=0,l=e;o<l.length;o++)v=l[o],a(v);return r.push(this.getMenuDividerOption()),i=this.createAdvancedOption(null,n,null,null,["ManageAccounts"],function(){return u._host.launchWindowsAccountSettings()},2,null,{type:2,content:"&#xE716"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i),s.length==0&&(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledMsaCache?["AddMicrosoftAccount"]:["EnableMsaSearch"],t.isCloudSearchEnabledMsaCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),h.length==0&&(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledAadCache?["AddAadAccount"]:["EnableAadSearch"],t.isCloudSearchEnabledAadCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),r},h.prototype.getMenuDividerOption=function(){return{id:null,selected:!1,title:"",message:null,isSeparator:!0,text:"",instItem:null,click:null,layout:3,isSelectable:!1}},h.prototype.addZiCustomization=function(n,i,r){var s=this,f,l,u,h,o,c,v,y;if(r===void 0&&(r=!0),t.config.enableSearchHomeCustomization&&this._currentQuery.isSearchHomeZI&&this._currentQuery.scope==t.Scope.All){f={};for(l in this._currentQuery.availableDataSources)if(u=this._currentQuery.availableDataSources[l],u&&u.suggestionGroupToggler){if(typeof u.groupType!="number")throw new Error("missing groupType declaration for suggestionGroupToggler");f[u.groupType]||(f[u.groupType]=u.suggestionGroupToggler)}if(h=this._currentQuery.staticGroupOrder?this._currentQuery.staticGroupOrder.filter(function(n){return!!f[n]}):Object.keys(f).map(function(n){return+n}),h.length!=0){var a=[],p=function(n){var r=f[n],u=r.isHidden(),o=e.createAdvancedOption(null,i,null,null,[],function(){r.toggle(!u);s._menuFactory.dismiss();s._host.refreshCurrentPane()},2,null,null,null),h=t.getGroupTitleAndNarratorText(e._currentQuery,e._host,n,null,!1).title;o.text=e._host.getLocString(u?"ShowSomething":"HideSomething",h);a.push(o)},e=this;for(o=0,c=h;o<c.length;o++)v=c[o],p(v);y=this.createAdvancedOption(null,i,null,null,["CustomizeSearchHome"],function(n){return s._menuFactory.showSubMenu(n)},2,null,{type:2,content:"&#xE70F"},a);r&&n.push(this.getMenuDividerOption());n.push(y)}}},h.prototype.addSinglepPaneOptions=function(n,r){var e=this,o=this.getScopeBarElements(),s=this.getHiddenScopeElements(o).filter(function(n){return n.type!=t.Scope.All}).map(function(n){var t=n;return t.layout=0,t}),u,f;n.push(this.createContextMenuGroup(null,r,"MoreScopesListToolTip",s));n.push(this.getMenuDividerOption());u=[];i.authenticationManager.getAllSearchWebAccountsAsync?t.config.userProfileButtonEnabled||(f=this.getAccountOptions(r),u.push(this.createAdvancedOption(null,r,null,null,["ConnectedAccounts"],null,2,null,{type:2,content:"&#xE716"},f))):t.isCloudSearchEnabledCache&&this.addCloudSearchUpsells(u,r,2);u.push(this.getIndexingOption(r,1));this.addZiCustomization(u,r,!1);n.push(this.createContextMenuGroup(null,r,"OptionsButtonToolTip",u));this.isFeedbackEnabled()&&(n.push(this.getMenuDividerOption()),n.push(this.createAdvancedOption(null,r,null,null,["FeedbackButtonText"],function(){return e.showFeedback()},2,null,{type:2,content:"&#xE8F2"},null)))},h.prototype.getAdvancedOptions=function(n,r){var f=this,u=[],e,o;return r==1&&(i.authenticationManager.getAllSearchWebAccountsAsync&&(t.config.userProfileButtonEnabled||u.push.apply(u,this.getAccountOptions(n)),e=this.createAdvancedOption(null,n,null,null,["SearchSettings"],function(){return t.config.controlPanelSearchSettings?f._host.launchSearchPermissions():f._host.launchSearchSettings()},2,null,{type:2,content:"&#xE713"}),e.cssClass=this.getAdvancedOptionCssClass(2),u.push(e)),u.push(this.getIndexingOption(n,r)),this.addZiCustomization(u,n)),r==2&&this.addSinglepPaneOptions(u,n),r==0&&t.isCloudSearchEnabledCache&&this.addCloudSearchUpsells(u,n,r),r!=2&&t.config.troubleshootButton&&u.push(this.getMenuDividerOption()),t.config.troubleshootButton&&(r==1||r==2)&&u.push(this.createAdvancedOption(null,n,null,null,["Troubleshoot"],function(){return f._host.launchUri("https://aka.ms/fixsearch")},2,null,{type:2,content:"&#xE90F"},null)),t.config.cossOptIn&&(r==1||r==2)&&u.push(this.createCossOptInOption(n)),t.config.snrVersion&&(r==1||r==2)&&u.push(this.createBuildVersionOption()),r==4&&(o=this.createAdvancedOption(null,this._sequenceNumberReader.getSequenceNumber(),null,null,["LockScreenSettings"],function(){return f._host.launchLockscreenSettings()},2,null,{type:1,content:"&#xEE3F"}),o.cssClass=this.getAdvancedOptionCssClass(2),u.push(o)),u},h.prototype.addCloudSearchUpsells=function(i,r,u){var e=t.substrateProvidersEnabled(),f;if((u==0||u==2)&&(u!=0||!this._selectedScope||this._selectedScope.type==t.Scope.Emails||this._selectedScope.type==t.Scope.People||this._selectedScope.type==t.Scope.Documents))if(f=t.getAccountTypeForCloudContent(),e){if(this._upsellGotDismissed&&this._selectedScope&&(this._selectedScope.type==t.Scope.Documents||t.config.accountVerifyMessage&&(this._selectedScope.type==t.Scope.People||this._selectedScope.type==t.Scope.Emails))&&u==0)return;f!=1&&f!=4||t.isSubstrateO365AccountConnected||i.push(this.getSubstrateUpsell(1,r,u));f!=2&&f!=4||t.isSubstrateOutlookAccountConnected||i.push(this.getSubstrateUpsell(0,r,u))}else n.isBingEnabled()&&t.isCortanaEnabledCache&&!t.isCortanaPersonalized&&i.push(this.getOneDriveUpsell(r))},h.prototype.onCossOptInOutClick=function(){var r=this;n.safeSetTimeout(function(){t.RuntimeConfig.QfMode==2?i.disableCenterScreenAndRelaunch():i.enableCenterScreenAndRelaunch(!1);n.safeSetTimeout(function(){return r._host.reloadWebView()},0,"HeaderFooterViewModel.onCossOptInOutClick.reloadWebView")},0,"HeaderFooterViewModel.onCossOptInOutClick")},h}();t.HeaderFooterViewModel=h})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function i(n,t){var i=HitHighlightingParser.removeMarkers(n.text),r;!i.includes(t.queryToFetch)&&i.toLowerCase().startsWith(t.queryToFetch.toLowerCase())&&(r=t.queryToFetch+i.substr(t.queryToFetch.length),n.text=HitHighlightingParser.addMarkers(r,t.queryToFetch));!n.query.includes(t.queryToFetch)&&n.query.toLowerCase().startsWith(t.queryToFetch.toLowerCase())&&(n.query=t.queryToFetch+n.query.substr(t.queryToFetch.length))}function r(n,r,u,f,e,o,s,h){var l,c;if(n.actionUri=f,n.confidence=o,n.source=s,n.handoffType==4)if(l=n.query.toLowerCase()==r.queryToFetch.toLowerCase(),n.updateFromQuery=function(i){return l?(n.query=i.queryToFetch,n.text=HitHighlightingParser.addMarkers(n.query,i.queryToFetch),n.narratorText=t.getNarratorText(n),!0):!1},c=t.parseTaskFrame(e),c)n.isReformulation=!0,n.click=function(){return h.reformulate(n.query,c)};else return!1;else n.classNames.push("action"),n.click=function(){return h.launchCat1(n.query,f,e)};return n.icon={type:3},i(n,r),n.narratorText=t.getNarratorText(n),n.type!="CSK"&&(n.getMruData=function(){return{type:n.type,handoffType:n.handoffType,hc:n.hc,highConfidenceMetaSuggestionScore:n.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:n.prefetchConfidenceScore,query:n.query,textWithoutHH:HitHighlightingParser.removeMarkers(n.text),annotation:n.primaryMetadata,icon:n.getIcon?null:n.icon,actionUri:f,taskFrame:e,confidence:o,source:s,suggestionKey:t.getSuggestionKey(n)}}),!0}function o(n,r,u,e,o,s,h,c,l,a,v,y){if(n.isAnswer=!0,n.htmlContent=e&&e.Content?e.Content.HTML:null,n.baseSearchUrl=h,n.segments=c,n.htmlContent){var p=JsonInject.GetResourceKeys([e]);p&&(n.executeScript=function(){return JsonInject.WriteAfterContentResources(JsonInject.FilterResources(a,p))})}s&&(n.secondaryIcon={content:s,type:0});n.text.includes(HitHighlightingParser.startMarker)||(n.text=HitHighlightingParser.addMarkers(n.text,r.queryToFetch));n.htmlContent||o&&(n.primaryMetadata=o,n.additionalInfoText=" - "+o);n.handoffType==10?(n.classNames.push("action"),i(n,r),t.config.useCortanaLogoForAllCortanaSuggestions&&(n.icon={type:3}),n.click=function(){return v.launchCat2or3a(n.query,l)},n.allowedInGroups=!n.htmlContent):(f(n,v),n.click=function(){return v.launchSearch(n.query,y.getSearchUrl(r.fullPartialQuery,n.query,n.type,n.baseSearchUrl),!1)},n.allowedInGroups=n.secondaryIcon?!!n.additionalInfoText:!n.htmlContent);n.narratorText=t.getNarratorText(n)}function u(n,i,r,u,f){n.url=u;n.tooltip=i.isSearchHomeZI?n.text+"\n\n"+u:u+"\n\n"+HitHighlightingParser.removeMarkers(n.primaryMetadata);t.isValidIcon(n.icon)||(n.getIcon=f.getEdgeIcon);n.click=function(){return f.launchUri(u)};n.narratorText=t.getNarratorText(n,f.getLocString("DirectNavSuggestion"));n.getMruData=function(){return{type:n.type,handoffType:n.handoffType,hc:n.hc,highConfidenceMetaSuggestionScore:n.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:n.prefetchConfidenceScore,query:n.query,textWithoutHH:HitHighlightingParser.removeMarkers(n.text),title:n.primaryMetadata,icon:n.getIcon?null:n.icon,url:u,suggestionKey:t.getSuggestionKey(n)}}}function f(n,i){t.isValidIcon(n.icon)||(n.icon=n.type=="HS"?{content:"&#xE81C",type:2}:n.handoffType===13?{content:"&#xEB9F",type:2}:n.handoffType===14?{content:"&#xE714",type:1}:t.getSearchSuggestionIcon());n.primaryMetadata||n.secondaryIcon||n.htmlContent||n.additionalInfoText||(n.primaryMetadata=n.handoffType===13?i.getLocString("SearchForWebImages"):n.handoffType===14?i.getLocString("SearchForWebVideos"):t.getWebSuggestionAnnotation(i))}var e=function(){function i(n,t,i,r,u,f){this._host=n;this._instrumentationHelper=t;this._navigationHelper=i;this._temporaryMessageHandler=r;this._accessTokenManager=u;this._previousKeystrokeCache=f}return i.prototype.parse=function(n,t,i,r,u,f,e){this.parseOnlineSuggestions(n,t,r,u,f,e,i)},i.prototype.parseOnlineSuggestions=function(i,r,u,f,e,o,s){var a=this,h,l,k;if(!u){n.isDataSourceEnabled(n.WebDataSource,i)&&e(n.WebDataSource,[],null);n.isDataSourceEnabled("OSTMA",i)&&e("OSTMA",[],null);n.isDataSourceEnabled("QS",i)&&e("QS",[],null);return}u&&u.ELToken&&(this._host.setElToken(u.ELToken),u.LC==1&&this._host.sendElToken());var v=[],y=[],p=[],c=[],w=[],b=n.isDataSourceEnabled(n.WebDataSource,i);n.safeExecute(function(){for(var e,o=function(t){var o=t.Attributes,h=o.appId,f,e;if(h)return y.push(t),h.split(";").forEach(function(t){n.contains(c,t)||c.push(t)}),"continue";if(f=o.settingId,f)return p.push(t),w.push(f),"continue";b&&(e=n.safeExecute(function(){return a.parseOnlineSuggestion(i,t,r,u.Resources,s)},"parseOnlineSuggestion"),e&&v.push(e))},t=0,f=u.Suggestions;t<f.length;t++)e=f[t],o(e)},"parseOnlineSuggestions");b&&(h=null,l=null,u.RankingSignals&&(h=n.safeExecute(function(){return n.parseWebEngagementSignals(u.RankingSignals)},"parseWebEngagementSignals"),t.isL2(i)||(l=n.safeExecute(function(){return t.parseWebSuppressionSignals(u.RankingSignals,i)},"parseWebSuppressionSignals"))),this._previousKeystrokeCache&&this._previousKeystrokeCache.updateWebSignalsData(i.queryToFetch,h),k={rankingSignals:u.RankingSignals,engagementSignals:h,suppressedGroups:l,webTopResultRoutingType:u.PrefixRoutingType},e(n.WebDataSource,v,k));t.lookupById(i,"OSTMA",c,y,function(n){return n.Attributes.appId.split(";")},"QS",w,p,function(n){return n.Attributes.settingId},f,r,e,o,function(n,t,f,e){return a.parseIdLookupResponse(u,i,r,n,t,f,e)},null,null,null,null,this._instrumentationHelper,this._host)},i.prototype.parseIdLookupResponse=function(i,u,f,e,o,s,h){var c=this,l,a;if(e.Attributes.stype!="CS"||!(s.length>0)){if(s.length!=1){l=n.safeExecute(function(){return c.parseOnlineSuggestion(u,e,f,i.Resources,o)},"parseOnlineSuggestion "+o);l&&h.push(l);return}a=function(n){var i=e.Attributes;return c.compliesWithMinVersion(i.appMinVersion,n.deviceItem.version)?(n.appContext=i.appContext,c.setRankingSignals(n,e),e.Text&&i.query&&(!t.isApp(n.type)||n.appContext)&&(n.text=e.Text,n.query=i.query),e.SecondaryText&&(n.primaryMetadata=e.SecondaryText),n.handoffType==5)?r(n,u,f,i.actionUri,i.taskFrame,parseFloat(i.confidence),parseInt(i.source),c._host):!0:!1};n.safeExecute(function(){return t.parseLocalSuggestion(u,s[0],o,f,c._host,c._temporaryMessageHandler,e.Attributes.stype,c._instrumentationHelper,h,a)},"parseLocalSuggestion "+o)}},i.prototype.parseOnlineSuggestion=function(i,f,e,s,h){var d=this,c=f.Attributes,a=c.stype,y,l,v;if(c.appId&&a!="CS"||c.settingId)return null;if(y=c.isAnswer==="1"?c.url||c.vertical?n.verticalToHandoffType(c.vertical):10:c.taskFrame?c.actionUri.startsWith("action://FindMyStuff/")?4:5:a=="CS"?3:a=="MD"||a=="ML"?1:n.verticalToHandoffType(c.vertical),l=t.createSuggestion(i,f.Text,null,n.getIconFromOnlineResponse(f),a,c.query,n.InstrumentedItem.createInstrumentedItem(e,a),y,e,!1),l.primaryMetadata=f.SecondaryText,this.setRankingSignals(l,f),l.autoOpenPreviewPaneWhenOnTopHit=c.openPP==="1",c.isAnswer==="1"){if(!c.url&&!t.isCortanaEnabledCache)return null;l.signals=f.Signals;o(l,i,e,f.InstantAnswer,c.additionalInfoText,c.secondaryIconUrl,c.url,c.segments,c.taskFrame,s,this._host,this._navigationHelper);c.noHeightRestriction==="1"&&l.classNames.push("noHeightRestriction")}else if(c.taskFrame){if(!t.isCortanaEnabledCache||!r(l,i,e,c.actionUri,c.taskFrame,parseFloat(c.confidence),parseInt(c.source),this._host))return null}else if(l.type=="CS")this.setStoreSuggestionProperties(l,i,e,c);else{if(!c.url)return null;if(l.autoOpenPreviewPaneWhenOnTopHit=c.openPP==="1",l.type=="MD"||l.type=="ML")v=n.prettyPrintUrl(c.query,i.queryToFetch,!0),v!=l.query&&(l.query=v,l.text=i.queryToFetch?HitHighlightingParser.addMarkers(v,i.queryToFetch):v),l.primaryMetadata&&!l.primaryMetadata.includes(HitHighlightingParser.startMarker)&&(l.primaryMetadata=HitHighlightingParser.addMarkers(l.primaryMetadata,i.queryToFetch)),u(l,i,e,c.url,this._host);else{if(n.queryLooksLikeUrl(l.query))return null;this.setWebSearchSuggestionProperties(l,i,e,c.url)}}if(!t.isValidSuggestion(l,"parseOnlineSuggestion"))return null;var p=l.segments,w=p?p.split(","):[],b=w.some(function(i){return n.contains(t.config.relatedWebImageSupportedSegments,i)}),k=w.some(function(i){return n.contains(t.config.relatedWebVideoSupportedSegments,i)});return(f.ChildSuggestions||b||k)&&(l.calculateChildSuggestions=function(){return d.calculateRelatedSuggestions(l,i,f,h,b,k)}),l},i.prototype.setStoreSuggestionProperties=function(n,i,r,u){var e=this,f;n.icon.bgColor=u.bgColor=="transparent"?this._host.getAccentColor():u.bgColor;n.classNames.push("action");f=parseFloat(u.avgRating);n.stars=this.getStarsRating(f);n.starNarratorText=this._host.getLocString("StarRating",""+n.stars);n.catalogScore=parseFloat(u.catalogScore);n.avgRating=f;n.ratingCount=parseInt(u.ratingCount);n.packageFamilyName=u.appId;n.click=function(){return e._host.launchStorePdp(u.productId)};n.narratorText=t.getNarratorText(n)},i.prototype.getStarsRating=function(n){var t=Math.round(n*2)/2;return Math.max(0,Math.min(5,t))},i.prototype.setRankingSignals=function(n,t){var i=t.Attributes;n.hc=i.hc==="1";n.highConfidenceSuggestionScore=+i.hcs;n.highConfidenceMetaSuggestionScore=t.HighConfidenceMetaSuggestionScore;n.prefetchConfidenceScore=t.PrefetchConfidenceScore;n.suggestionLogMeta=i.lm},i.prototype.compliesWithMinVersion=function(n,t){var r,u,i,f,e;if(!n)return!0;if(!t)return!1;for(r=n.split("."),u=t.split(".");r.length>u.length;)u.push("0");for(i=0;i<r.length;++i){if(f=u[i],e=r[i],f<e)return!1;if(f>e)return!0}return!0},i.prototype.setWebSearchSuggestionProperties=function(n,i,r,u){var e=this;f(n,this._host);i.queryToFetch||(n.text=HitHighlightingParser.addMarkers(n.text));n.baseSearchUrl=u;n.click=function(){return e._host.launchSearch(n.query,e._navigationHelper.getSearchUrl(i.fullPartialQuery,n.query,n.type,n.baseSearchUrl,n.handoffType),n.useRaf)};n.narratorText=t.getNarratorText(n);n.type=="HS"&&t.setExtraVerbs(n,function(){var i=[{verb:"ManageSearchHistory",displayName:e._host.getLocString("ManageSearchHistory"),executeSync:function(){return e._host.launchPrivacyPortal()},icon:{content:"&#xE81C",type:2}}];return t.config.removeSuggUrl&&i.unshift({verb:"RemoveFromWebHistory",displayName:e._host.getLocString("RemoveFromWebHistory"),executeSync:function(){return e.removeBingHistorySuggestion(n.text)},icon:{content:"&#xE711",type:2}}),i},!0)},i.prototype.sendRemoveBingHistorySuggestionRequest=function(i,r){var u=this,f;i=HitHighlightingParser.removeMarkers(i);f=t.config.removeSuggUrl.replace("%7b0%7d",encodeURIComponent(i)).replace("%7bSID%7d",sj_cook.get("_SS","SID"));n.fetchUrlJson(f,r,null,function(t){t.success&&(u._host.refreshCurrentPane(),n.safeSetTimeout(function(){return u._temporaryMessageHandler.showTemporaryMessage(u._host.getLocString("RemoveFromWebHistoryConfirmation",i))},250,"removeBingHistorySuggestion"))})},i.prototype.removeBingHistorySuggestion=function(n){var i=this;this._accessTokenManager?this._accessTokenManager.getAccount(0,t.getBingResourceOrScope(0),!1,!0,function(t){if(t&&t.Token){var r={};r["X-Search-RPSToken"]=t.Token;i.sendRemoveBingHistorySuggestionRequest(n,r)}},t.getAuthAccountForCloudContent()):this.sendRemoveBingHistorySuggestionRequest(n,null)},i.prototype.addRelatedSuggestion=function(i,r,u,f,e,o,s){var h=t.createSuggestion(r,f,null,e,o,i?i.Query:u.query,n.InstrumentedItem.createInstrumentedItem(u.sequenceNumber,o),s,u.sequenceNumber,!1,null,null,!0);h.groupType=t.GroupType.Related;h.parent=u;h.tooltip=i?i.SecondaryText:null;h.rankingScore=i?i.RankingScore:0;h.category=i?i.Category:null;h.isAnswer=!0;this.setWebSearchSuggestionProperties(h,r,u.sequenceNumber,i?i.Url:null);h.primaryMetadata=null;t.isValidSuggestion(h,"calculateRelatedSuggestions")&&u.childSuggestions.push(h)},i.prototype.calculateRelatedSuggestions=function(t,i,r,u,f,e){var s,h,o;if(t.childSuggestions=[],r.ChildSuggestions)for(s=0,h=r.ChildSuggestions;s<h.length;s++)o=h[s],this.addRelatedSuggestion(o,i,t,o.Text,n.getIconFromOnlineResponse(o),o.Type,0);f&&this.addRelatedSuggestion(null,i,t,this._host.getLocString("Images"),null,"EIM",13);e&&this.addRelatedSuggestion(null,i,t,this._host.getLocString("Videos"),null,"EVI",14);t.childSuggestions.length>0&&this._instrumentationHelper.instrumentDataSource(t.sequenceNumber,u,t.childSuggestions,null)},i}();t.OnlineSuggestionsParser=e;t.adjustCasing=i;t.setCat1SuggestionProperties=r;t.setUrlSuggestionProperties=u})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function w(n){return n?[n]:[]}function et(n){if(n){var t=n.lastIndexOf(".");if(t>=0)return n.substring(t)}return""}function ot(t){var i=t?new Date(t):null;return n.isValidDate(i)?i:null}function st(i){if(i){var r=n.getCurrentDate();if(r.getDate()==i.getDate()&&r.getMonth()==i.getMonth()&&r.getFullYear()==i.getFullYear())return i.toLocaleTimeString(t.uiLanguageCache,{hour:"numeric",minute:"numeric"})}return null}function f(i,f,o,s,h,c){var k,v,tt,it,d,y,a,g,p,w,l,b,nt;for(c===void 0&&(c=!1),!c&&s.extensionLC&&r.hideFileExtensions&&!t.config.showFileExtn&&(k=s.extensionLC.length,v=s.query,v.toLocaleLowerCase().endsWith(s.extensionLC)&&(tt=HitHighlightingParser.addMarkers(v,f),tt.toLocaleLowerCase().endsWith(s.extensionLC)&&(s.query=v.substring(0,v.length-k),it=HitHighlightingParser.removeMarkers(s.text),v==it&&(d=s.text.toLocaleLowerCase().lastIndexOf(s.extensionLC),s.text=s.text.substring(0,d)+s.text.substr(d+k))))),s.lastModifiedDate&&(y=s.lastModifiedDate.toLocaleString(t.uiLanguageCache,{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})),a=s.path,s.tooltip=yt(s,a,y,h),s.primaryMetadata=s.sourceForGroup&&s.sourceForGroup!=1?t.getGroupSourceDisplayName(s.sourceForGroup,h):s.itemTypeDisplayName,(i.isSearchHomeZI||t.RuntimeConfig.QfMode==8)&&(s.additionalInfoText=a),s.classNames=[],s.match?(g=(pt(s.match.matchType)?h.getLocString(t.MatchType[s.match.matchType])+": ":"")+HitHighlightingParser.addMarkers(s.match.matchedText,f),s.additionalInfoText=g,s.secondaryMetadata=g,s.classNames.push("withMatchAnnotation","forceNoWrapOutsideTopResult")):y&&t.RuntimeConfig.QfMode!=5&&(s.secondaryMetadata=h.getLocString("LastModified")+": "+y),s.narratorText=t.getNarratorText(s),t.displayedInGridLayout(s.type)&&(o?s.classNames.push("bigIcon","biggerIcon"):s.classNames.push("bigIcon")),!c&&s.handoffType==2&&r.copyToClipboard&&u(s,function(){return[{verb:t.JumplistActionItemType[t.JumplistActionItemType.S_CopyFullPath],displayName:h.getLocString("CopyFullPath"),executeSync:function(){return r.copyToClipboard(s.path,"")},icon:{type:1,content:"&#xE8C8"}}]},!1),p={},a&&(w=a.lastIndexOf("/"),w<0&&(w=a.lastIndexOf("\\")),l=a.substring(0,w),l.endsWith(":")&&(l=l+"\\"),p[h.getLocString("Location")]=[{text:l,click:function(){return n.isUncOrLocalPath(l)?r.launcher.startLaunchFolder(l):s.locationUrl?r.launcher.launchUriAsync(decodeURI(s.locationUrl)):r.launcher.launchUriAsync(l)}}]),p[h.getLocString("LastModified")]=[{text:y}],b=0,nt=e;b<nt.length;b++){var rt=nt[b],ft=rt[0],et=rt[1],ut=s[et];ut&&(p[h.getLocString(t.MatchType[ft])]=[{text:ut}])}s.previewMetadata=p}function ht(n,i,r,u){var o,s;for(i.match||!r.match||i.parentFolderDisambig||(i.match=r.match,i.needsRefreshAfterDeduping=!0),o=0,s=e;o<s.length;o++){var l=s[o],h=l[1],c=r[h];c&&!i[h]&&(i[h]=c,i.needsRefreshAfterDeduping=!0)}t.RuntimeConfig.QfMode==5&&(i.needsRefreshAfterDeduping=!1);i.needsRefreshAfterDeduping&&f(n,t.getEffectiveQuery(n),t.isL2(n),i,u,!0)}function ct(n,i,u,f,e){return n?t.Promise.safeChainWithGlobalCaching("getImageWithLiveTokenAsync",function(){return r.getImageWithLiveTokenAsync(u)},function(){return e},function(n){return t.toIcon(n,"getImageWithLiveTokenAsync",i)},i,null,null,3):b(i,f)}function b(n,i){return t.Promise.safeChainWithGlobalCaching("getIconForTypeAsync",function(n){return r.queryFormulationView.deviceSearch.getIconForTypeAsync(i,t.getImageSizeValue(n))},function(n){return n+"_"+i},function(i){return t.toIcon(i,"getIconForTypeAsync",n)},n)}function k(n){return n!=null&&(n.type==3||!!n.content||!!n.className)}function o(n,t,i){i===void 0&&(i=!0);var r=n.mayContainPII;return n.text?n.query?!n.handoffType&&n.handoffType!==0?(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing handoff type")),!1):n.type?i&&!n.getIcon&&!k(n.icon)?(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing icon")),!1):!0:(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing suggestion type")),!1):(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing query")),!1):(SharedLogHelper.LogError(t,r?"":n.deviceItem?n.deviceItem.id:"",new Error("Missing text")),!1)}function u(n,i,r){var u=n.getExtraVerbs;n.getExtraVerbs=function(n){var f=u?u(n):[],e=i(n);return t.joinVerbs(f,e,r)}}function lt(n,i,r){var u=n.getExtraVerbsAsync;n.getExtraVerbsAsync=u?function(n){return ThresholdUtilities.createPromise(function(f){return u(n).then(function(u){return i(n).then(function(n){return f(t.joinVerbs(u,n,r))})})})}:i}function s(n,t){var r=n.propertyHits||[],i=r.indexOf(t);return typeof i=="object"&&i.returnValue!==undefined?i.returnValue:i>=0}function at(n){var i,t;if(n&&typeof n=="object"&&n.length){for(i="",t=0;t<n.length;t++)i+=n[t],t!=n.length-1&&(i+=", ");return i}return n}function i(t,i,r){return n.safeExecute(function(){return at(t.getProperty(i))},"get"+i,undefined,r)}function vt(n){for(var r,u,e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];for(r=0,u=e;r<u.length;r++){var f=u[r],h=f[0],o=f[1],c=f[2];if(o&&s(n,c))return t.createMatch(h,o)}return null}function yt(n,i,r,u){var f=i||"",s,h,o,c;for(n.textContentIfMatched&&(f+=(f?"\n\n":"")+n.textContentIfMatched),s=!!f,h=function(){f&&(f+="\n");s&&(f+="\n",s=!1)},r&&(h(),f+=u.getLocString("LastModified")+": "+r),o=0,c=e;o<c.length;o++){var l=c[o],v=l[0],a=l[1],y=n[a];y&&(h(),f+=u.getLocString(t.MatchType[v])+": "+n[a])}return f}function pt(n){switch(n){case t.MatchType.Author:case t.MatchType.LastModifiedBy:case t.MatchType.Tags:case t.MatchType.Genre:case t.MatchType.Album:case t.MatchType.Artist:return!0;case t.MatchType.Content:case t.MatchType.Location:return!1;default:throw new Error("Unknown match type: "+n);}}function wt(i,r,u,f,e,o,s,h,c,l,a,v,y,p,b,k,d,g,nt,tt){r&&n.isDataSourceEnabled(r,i)&&t.LocalDataProvider.getApps(u,function(t){var u,s,i,o,h;if(l()){for(nt.instrumentResponseReceived(a,r,null,0,!1),u=[],s=function(i){n.safeExecute(function(){return p(i,r,e(i).map(function(n){return t[n]}).filter(function(n){return!!n}),u)},"parseApp "+r)},i=0,o=f;i<o.length;i++)h=o[i],s(h);v(r,u,null)}},y,r,tt);o&&n.isDataSourceEnabled(o,i)&&t.LocalDataProvider.getSettings(s,function(t){var u,e,i,f,s;if(l()){for(nt.instrumentResponseReceived(a,o,null,0,!1),u=[],e=function(i){n.safeExecute(function(){return p(i,o,w(t[c(i)]),u)},"parseSetting "+r)},i=0,f=h;i<f.length;i++)s=f[i],e(s);v(o,u,null)}},y,o);b&&n.isDataSourceEnabled(b,i)&&t.LocalDataProvider.getFiles(k,function(t){var r,f,i,u,e;if(l()){for(nt.instrumentResponseReceived(a,b,null,0,!1),r=[],f=function(i){n.safeExecute(function(){return p(i,b,w(t[g(i)]),r)},"parseFile "+b)},i=0,u=d;i<u.length;i++)e=u[i],f(e);v(b,r,null)}},i,y,b)}function bt(n,i){return t.isMobileCache?null:n.id==t.EdgeAppId?i.getLocString("MicrosoftRecommendedBrowser"):i.getLocString("App")}function kt(n,i){return t.isModernSetting(n)?i.getLocString("SystemSettingsAnnotation"):i.getLocString("ControlPanelAnnotation")}function dt(i,r,u,e,o,s,h){var c=t.getAppItem(o),l,v,w,y,b,it,k,d,tt;if(c){e&&g(o,c);o.primaryMetadata=bt(c,h);o.narratorText=t.getNarratorText(o);o.tooltip=i.isSearchHomeZI?o.text:"";o.type=="IBA"&&(o.tooltip=c.id,o.path=c.id);return}if(t.isSetting(o.type)){o.primaryMetadata=kt(o.deviceItem,h);o.narratorText=t.getNarratorText(o);o.tooltip=i.isSearchHomeZI?o.text:"";return}if(o.type=="LURL"&&(c=o.deviceItem,c)){l=c.id;o.narratorText=t.getNarratorText(o,h.getLocString("DirectNavSuggestion"));o.tooltip=o.query+"\n\n"+l;o.url=l;return}if(v=t.getBrowsingHistoryItem(o),v){var l=v.url,p=n.prettyPrintUrl(l,r,!1),rt=r?HitHighlightingParser.addMarkers(p,r):p,a=v.title;a&&(o.primaryMetadata=r?HitHighlightingParser.addMarkers(a,r):a);o.text=rt;o.query=p;o.narratorText=t.getNarratorText(o,h.getLocString("DirectNavSuggestion"));o.template=1;o.tooltip=(a?a+"\n\n":"")+l;o.classNames.push("forceNoWrapOutsideTopResult");o.url=l;return}if(w=t.getFileItem(o),w){gt(i,r,u,e,s,o,w,h);return}if(o.type=="PT"||o.type=="CG"){if(y=o,o.type!="PT"&&o.deviceItem.launchArguments||(y.path=o.deviceItem.id),b=o.deviceItem,it=b.kind,it=="program"){nt(o,h);return}if(k=ni(b),k){y.itemTypeDisplayName=k;f(i,r,u,y,h);return}o.type=="CG"&&nt(o,h);return}if(o.type=="FEH"){o.narratorText=t.getNarratorText(o,h.getLocString("SearchHistorySuggestion"));r&&(o.text=HitHighlightingParser.addMarkers(o.text,r));return}if(d=t.getPowerBiItem(o),d){tt=d.modelDisplayName;o.primaryMetadata=tt;o.additionalInfoText=" - "+tt;o.narratorText=t.getNarratorText(o);return}throw new Error("Unexpected type: "+o.type);}function gt(r,u,e,o,h,c,l,a){var p,d,w,b,y,k,v,nt,tt;if(d=c.type=="LDOC"?t.resolveKnownFolderGUIDsInPath(l.id):t.indexerFilePathToRegularPath(l.id),c.path=d,c.itemTypeDisplayName=l.itemTypeDisplayName,o&&g(c,l),w=l.lastModifiedDate,n.isValidDate(w)&&(c.lastModifiedDate=w),b=l.extension,b&&(c.extensionLC=b.toLocaleLowerCase()),h!="MFF"||t.IndexerQueryGenerator){c.type=="MU"&&(c.artist=t.IndexerQueryGenerator?i(l,"System.Music.DisplayArtist",h):i(l,"System.Music.Artist",h),c.album=i(l,"System.Music.AlbumTitle",h));y=void 0;switch(h){case"MDOC":c.author=i(l,"System.Author",h);c.lastModifiedBy=i(l,"System.Document.LastAuthor",h);c.tags=i(l,"System.Keywords",h);s(l,"System.Search.Contents")&&(k=i(l,"System.Search.AutoSummary",h),k&&(p=t.tryGetTextContentMatch(k,u),c.textContentIfMatched=p[0],y=p[1]),l.propertyHits.length==1&&(c.matchedOnlyOnContent=!0));break;case"MPHO":c.tags=i(l,"System.Photo.TagViewAggregate",h);break;case"MVID":t.IndexerQueryGenerator&&(c.artist=i(l,"System.Music.DisplayArtist",h),c.genre=i(l,"System.Music.Genre",h));c.tags=i(l,"System.Keywords",h);break;case"MMUS":c.genre=i(l,"System.Music.Genre",h)}!c.text.includes(HitHighlightingParser.startMarker)&&u&&(v=void 0,nt=h!="LM"&&h!="FL",nt&&(h=="MFF"?(v=i(l,"System.Title",h),v&&!t.matchesOnPropertyHH(v,u)&&(v=undefined)):s(l,"System.Title")&&(v=i(l,"System.Title",h))),v?c.text=HitHighlightingParser.addMarkers(v,u):y?c.match=y:(tt=t.IndexerQueryGenerator?"System.Music.DisplayArtist":"System.Music.Artist",c.match=vt(l,h,[t.MatchType.Album,c.album,"System.Music.AlbumTitle"],[t.MatchType.Artist,c.artist,tt],[t.MatchType.Genre,c.genre,"System.Music.Genre"],[t.MatchType.Tags,c.tags,"System.Keywords"],[t.MatchType.Tags,c.tags,"System.Photo.TagViewAggregate"],[t.MatchType.Author,c.author,"System.Author"],[t.MatchType.LastModifiedBy,c.lastModifiedBy,"System.Document.LastAuthor"])))}f(r,u,e,c,a);ii(c,a)}function g(i,r){var u=n.safeExecute(function(){return r.getProperty("System.Link.TargetParsingPath")},"getTargetPath"),f,e,o;u&&(u=u.toLocaleLowerCase(),f=t.getKnownFolderPathLC(t.FOLDERID_Profile),f&&(e=t.getKnownFolderPathLC(t.FOLDERID_SystemX86),e&&u.startsWith(e+"\\config\\systemprofile")?u=f+u.substr(e.length+21):(o=t.getKnownFolderPathLC(t.FOLDERID_System),o&&u.startsWith(o+"\\config\\systemprofile")&&(u=f+u.substr(o.length+21)))),i.targetPathLC=u)}function ni(n){if(n.launchArguments)return null;var t=n.itemTypeDisplayName;return t&&t[0]!="."?t:null}function h(i,r){for(var o,y,h,c,a,u,l,f,v,s=[],e=0;e<i.length-1;++e)if(!t.displayedInGridLayout(i[e].type))for(o=e+1;o<i.length;++o)if(i[e].type==i[o].type&&i[e].text.toLocaleLowerCase()==i[o].text.toLocaleLowerCase()){s[e]=!0;s[o]=!0;break}if(s.length!=0)for(y=i.filter(function(n,t){return s[t]}),h=r.getLocString("InfoTextWithSource"),c=0,a=y;c<a.length;c++)if(u=a[c],u.path){if(l=u.path.lastIndexOf("\\"),l==-1)continue;if(f=u.path.slice(u.path.lastIndexOf("\\",l-1)+1,l),v=u.handoffType==2?null:u.primaryMetadata,v&&f.endsWith(":"))continue;u.type=="IBA"?(u.secondaryMetadata=u.primaryMetadata,u.primaryMetadata=f):u.primaryMetadata=u.primaryMetadata?v?n.formatString(h,[f,u.primaryMetadata]):n.formatString(h,[u.primaryMetadata,f]):f;u.additionalInfoText=n.formatString(h,[" -",f]);u.match&&(u.classNames=u.classNames.filter(function(n){return n!="withMatchAnnotation"&&n!="forceNoWrapOutsideTopResult"}));u.narratorText=t.getNarratorText(u);u.parentFolderDisambig=f}}function nt(n,i){n.primaryMetadata=i.getLocString("RunCommandPrompt");n.classNames.push("action");n.narratorText=t.getNarratorText(n)}function ti(n){return n=="EBH"}function tt(i,r,u,f,e,s,h,c,l,a){var d=t.localDataSourceMayContainPII(u),g,b,y,nt,tt,k,it;if(!h){g=r.deviceItem.kind;SharedLogHelper.LogError("parseLocalSuggestion"+u,d?"":r.deviceItem.displayName||r.deviceItem.id,new Error("Unrecognized kind: "+g));return}if(b=h=="LURL"||h=="EBH"?1:2,n.isSuggestionTypeEnabled(u,h,b,i)){var p=t.getEffectiveQuery(i),w=ti(h)?null:r.deviceItem.displayName,rt=w&&p?HitHighlightingParser.addMarkers(w,p):w,v=t.createSuggestion(i,rt,r.getIcon,r.icon,h,w,n.InstrumentedItem.createInstrumentedItem(f,h),b,f,d);v.uxHint=oi(r,p,e);r.deviceItem.isSimulated||(v.deviceItem=r.deviceItem);v.ciMetaData=r.ciMetaData;t.isApp(h)&&(v.pinnedToTaskbar=e.isPinnedToTaskbar(r.deviceItem.id));r.groupDisplayName&&(v.groupDisplayName=r.groupDisplayName);y=t.getAppItem(v);y?(v.click=function(){return e.launchAppItem(y,u,v.appContext)},t.config.maxJLcm&&ri(i,v,y,e,s,f,u,c)):v.type=="FEH"?v.click=function(){return e.submitFileExplorerTextSuggestion(v.query)}:v.type=="FD"&&t.RuntimeConfig.QfMode==5?v.click=function(){return e.submitFileExplorerFolderSuggestion(v.path)}:(nt=t.getBrowsingHistoryItem(v),nt?(tt=v.url,v.click=function(){return e.launchUri(tt)},v.getIcon=e.getEdgeIcon):v.click=function(){return e.launchDeviceItem(v.deviceItem,u)});y&&v.type!="IBA"||t.isSetting(v.type)||t.isFileOrFolder(v.type)&&v.type!="LDOC"?v.getMruData=function(){return{type:v.type,handoffType:v.handoffType,hc:v.hc,highConfidenceMetaSuggestionScore:v.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:v.prefetchConfidenceScore,id:r.deviceItem.id,suggestionKey:t.getSuggestionKey(v),appContextData:v.appContext?{appContext:v.appContext,query:v.query,textWithoutHH:HitHighlightingParser.removeMarkers(v.text)}:undefined}}:(k=t.getCommandLineItem(v),k?v.hc=t.isRealCommand(v,k):h=="PBI"&&(v.hc=r.deviceItem.rankScore>900));it=t.getGroupType(v);t.shouldSetThisPcGroupSource(it,i)&&(v.sourceForGroup=1);dt(i,p,t.isL2(i),t.supportsShortcuts(u,i),v,u,e);t.RuntimeConfig.QfMode==5&&(v.additionalInfoText=undefined,v.primaryMetadata=undefined,v.secondaryMetadata=undefined);o(v,"parseLocalSuggestion "+u)&&a(v)&&l.push(v)}}function ii(n,i){u(n,function(){var r,u;return n.duplicates&&(r=n.duplicates.find(function(n){return n.handoffType==7||n.handoffType==8}),r)?(u=[],u.push({verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenInBrowser],displayName:i.getLocString("OpenInBrowser"),executeSync:function(){return i.launchUri(r.url+(r.handoffType==8?"?web=1":""))},icon:{type:1,content:"&#xE774"}}),r.locationUrl&&u.push({verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:i.getLocString("OpenFileLocationIn",t.getGroupSourceDisplayName(r.sourceForGroup,i)),executeSync:function(){return i.launchUri(r.locationUrl)},icon:{type:2,content:"&#xE838"}}),u):[]},!0)}function it(i,r){return!t.config.enableFallbackIconsForJumpLists||!p[i]?!1:n.contains(p[i],r)}function ri(n,i,r,f,e,o,s,h){var l=r.id,p=r.filePath,v=t.config.enableJumplistRestrictions&&ut[l],b,w;if(!v&&p&&t.config.enableJumplistRestrictions){b=p.toLowerCase();for(w in y)if(b.includes(w)){v=y[w];break}}v&&v.length==0||(t.RuntimeConfig.AlwaysWide||!ft.find(function(n){return n==l}))&&(i.calculateChildSuggestions=function(){return ui(n,l,p,i,r,v,f,e,o,s,h)},t.config.maxJLcm&&u(i,function(n){var u=[],o,s;return n||(i.calculateChildSuggestions&&i.calculateChildSuggestions(),!i.childSuggestions||t.RuntimeConfig.AlwaysWide&&i.previewPaneType||(o=!1,i.childSuggestions.filter(function(n){return n.type=="JL"&&!n.displayed&&n.groupType==t.GroupType.JumpListTasks}).slice(0,t.config.maxJLcm).forEach(function(n){o=!0;var t=it(i.deviceItem.id,n.groupType)?i.getIcon:c(n.jumpListItem,n.parent,!1,l),s={verb:"JumpListTask_"+l+"_"+n.text,displayName:n.text,executeSync:function(){return a(r,n,f,e)},getIcon:t};u.push(s)}),s=!1,i.childSuggestions.filter(function(n){return n.type=="JL"&&!n.displayed&&n.groupType!=t.GroupType.JumpListTasks}).slice(0,t.config.maxJLcm).forEach(function(n,t){var i,h;o&&!s&&(i={},u.push(i));s=!0;h={verb:"JumpList_"+l+"_"+t,displayName:n.text,executeSync:function(){return a(r,n,f,e)},getIcon:c(n.jumpListItem,n.parent,!0,l)};u.push(h)}))),u},!0))}function ui(i,r,u,f,e,s,v,y,p,w,b){var nt,d,ot,k,tt,ft,g,ut,et,ct;if(f.calculateChildSuggestions=null,nt=e.jumpList,nt&&nt.length!=0){for(d=u||"",ot=d.indexOf("}"),d=d.substr(ot+1),k=[],tt=0,ft=nt;tt<ft.length;tt++)if(g=ft[tt],!s||n.contains(s,g.type)){var st=l(g.type),ht=st!=t.GroupType.JumpListTasks,lt=function(u){var w;if(rt(u))return"continue";var b=it(f.deviceItem.id,l(g.type))?f.getIcon:c(u,f,ht,r),h="JL",s=t.createSuggestion(i,u.displayName,b,null,h,u.displayName,n.InstrumentedItem.createInstrumentedItem(p,h),2,f.sequenceNumber,ht,null,null,!0);s.click=function(){return a(e,s,v,y)};s.jumpListItem=u;s.groupType=st;s.groupDisplayName=g.name;s.parent=f;s.tooltip=u.description;w=d&&u.path.endsWith(d);w||(s.path=u.path);o(s,"calculateJumpListSuggestions")&&(k.push(s),fi(e,s,v,y))};for(ut=0,et=g.items;ut<et.length;ut++)ct=et[ut],lt(ct)}k.length>0&&(f.childSuggestions=f.childSuggestions?f.childSuggestions.concat(k):k,h(k,v),b.instrumentDataSource(p,w,k,null))}}function c(n,i,r,u){return function(f,e){return t.getIcon(n,u+"_"+n.path+"_"+n.displayName,"jumpList",!r,!1)(f,function(n){n?e(n):i.getIcon(f,e)})}}function rt(i){return i.displayName?!t.RuntimeConfig.AlwaysWide&&n.olderThan2Weeks(i.lastAccessed)?!0:!1:!0}function l(n){switch(n){case 0:return t.GroupType.JumpListTasks;case 1:return t.GroupType.JumpListPinned;case 2:return t.GroupType.JumpListRecent;case 3:return t.GroupType.JumpListFrequent;default:return t.GroupType.JumpListCustom}}function a(n,i,r,u){t.Promise.safeChain("launchJumpList",function(){return i.jumpListItem.launchAsync()},null,function(){i.jumpListItem.deleteAsync&&t.DialogBox?t.DialogBox.show(r.getLocString("JumpListItemUnavailableDeleteConfirmation"),[{id:null,text:r.getLocString("Cancel"),selected:!0,action:function(){return r.setFocusInSearchBox(null,"jumpListItemDialogBoxCancel")}},{id:null,text:r.getLocString("Remove"),selected:!1,action:function(){v(n,i,r,u);r.setFocusInSearchBox(null,"jumpListItemUnavailable1")}}]):(u.showTemporaryMessage(r.getLocString("JumpListItemUnavailable")),v(n,i,r,u),r.setFocusInSearchBox(null,"jumpListItemUnavailable2"))})}function v(n,i,r,u){var f=function(){return ei(i)},e;i.jumpListItem.deleteAsync?(e=i.parent.childSuggestions.length==1,t.Promise.safeChain("deleteJumpList",function(){return i.jumpListItem.deleteAsync()},function(){n.getJumpListAsync&&t.Promise.safeChain("getJumpListAsync",function(){return n.getJumpListAsync()},function(n){e&&n.some(function(n){return l(n.type)==i.groupType&&n.items.some(function(n){return!rt(n)})})?f():(r.refreshCurrentPane(),u.showTemporaryMessage(r.getLocString("RemovedFromList",i.text)))},f)},f)):f()}function fi(n,t,i,r){t.jumpListItem.deleteAsync&&u(t,function(){var u={verb:"RemoveFromThisList",displayName:i.getLocString("RemoveFromThisList"),executeSync:function(){return v(n,t,i,r)},icon:{type:2,content:"&#xE711"}};return[u]},!0)}function ei(n){var i=_ge(n.id);t.setVisibility(i,!1);n.suppressed=!0}function oi(n,t,i){if(n&&n.uxHint){var r=t?HitHighlightingParser.addMarkers(n.uxHint,t):n.uxHint;return i.getLocString("RelatedSynonym",r)}return null}var r=SearchAppWrapper.CortanaApp,ut={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[0],"Microsoft.InternetExplorer.Default":[0],Chrome:[0],"360browser":[0]},y={skype:[],outlook:[0],"360browser":[0],chrome:[0],iexplore:[0],opera:[0],firefox:[0],safari:[0]},e=[[t.MatchType.LastModifiedBy,"lastModifiedBy"],[t.MatchType.Author,"author"],[t.MatchType.Artist,"artist"],[t.MatchType.Album,"album"],[t.MatchType.Genre,"genre"],[t.MatchType.Tags,"tags"],],p={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[t.GroupType.JumpListTasks],"Microsoft.MicrosoftStickyNotes_8wekyb3d8bbwe!App":[t.GroupType.JumpListTasks],"Microsoft.XboxApp_8wekyb3d8bbwe!Microsoft.XboxApp":[t.GroupType.JumpListCustom],"com.squirrel.Teams.Teams":[t.GroupType.JumpListTasks],"Microsoft.ScreenSketch_8wekyb3d8bbwe!App":[t.GroupType.JumpListTasks]},ft=["Microsoft.Windows.Explorer",],d;t.getFileExtension=et;t.toDate=ot;t.getTodayTimeString=st;t.setFileTemplate=f;t.enrichMetadataFromDuplicate=ht;t.getOneDriveSuggestionIcon=ct;t.getIconForTypeAsync=b;t.isValidIcon=k;t.isValidSuggestion=o;t.setExtraVerbs=u;t.setExtraVerbsAsync=lt;d=function(){function i(n,t,i){this._host=n;this._instrumentationHelper=t;this._temporaryMessageHandler=i}return i.prototype.parse=function(i,r,u,f,e,o){for(var v,y,s=this,c=[],p=function(t){n.safeExecute(function(){return tt(i,t,u,r,s._host,s._temporaryMessageHandler,t.suggestionType,s._instrumentationHelper,c,function(){return!0})},"parseLocalSuggestion "+u)},l=0,a=f.suggestions;l<a.length;l++)v=a[l],p(v);(t.isFileOrFolderLocalDataSource(u)||u=="IBA")&&h(c,this._host);y={maxedOut:f.maxedOut};o(u,c,y)},i}();t.SuggestionsParser=d;t.lookupById=wt;t.decorateSuggestionsWithParentFolder=h;t.parseLocalSuggestion=tt})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){i.currentCIVersion="-1";var r=function(){function r(u,f,e,o){var s=this;(this._ariaLogger=e,this._lightweightStorage=o,f.bindShown(function(){var n=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=n?String(n.version):"-1"}),f.hasFallbackHappened())||f.bindAppHidden(function(){var a,h,o;if(n.isBingEnabled()&&n.isBrowserOnline()){var w=n.getWindowHost().toLowerCase(),nt=w=="bing.com"||w.endsWith(".bing.com"),tt=typeof ClientTestHooks=="undefined";if(!nt&&(tt||!ClientTestHooks||!ClientTestHooks.isTesthookParamSet("isTest")))return;if(a=s._lightweightStorage.getItem(r.LastCIDownloadAttemptKey),h=null,a&&(h=new Date(a)),h&&(s.getTimeDiffInMins(h)<t.config.waitBetweenCIDownloadCallsInMins?t.config.waitBetweenCIDownloadCallsInMins:0))return;o=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=String(o.version);var v=t.getCurrentLanguage(),e=t.config.ciVersion,b=u.urlResult,f=s.parseUrlResult(b),k=i.currentCIVersion,d=s.getUrlForCiCab(e,v),g=n.contains(t.config.blacklistedCiVersions,o.version)&&e<o.version,it=e==f.version&&f.errorCode!="00000000";if(e>0&&t.config.supportedCiMarkets[v]&&(v!=o.language||e>o.version||g||it)&&(!f.url||g||u.lastUrl==f.url||f.errorCode!="00000000")){var y="cis_v"+e,p="ci_v"+e,c=s._lightweightStorage.getItem(y)?parseInt(s._lightweightStorage.getItem(y)):0,l=s._lightweightStorage.getItem(p)?parseInt(s._lightweightStorage.getItem(p)):0;s._lightweightStorage.setItem(r.LastCIDownloadAttemptKey,n.getCurrentDate().toString());t.Promise.safeChain("constraintIndexDownloader.tryDownloadFromUrlAsync",function(){return u.tryDownloadFromUrlAsync(d)},function(n){if(n){var t=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=String(t.version);c++;s._lightweightStorage.setItem(y,c.toString())}else SharedLogHelper.LogError("constraintIndexDownloader.tryDownloadFromUrlAsync","urlResult: "+b,"Download failed");l++;s._lightweightStorage.setItem(p,l.toString());s._ariaLogger&&(f=s.parseUrlResult(u.urlResult),s._ariaLogger.logCIDownloadStatus(i.currentCIVersion==String(e)&&n,!1,f.version==1?!0:!1,String(e),k,i.currentCIVersion,c.toString(),l.toString(),f.errorCode))},function(n){s._ariaLogger&&(f=s.parseUrlResult(u.urlResult),s._ariaLogger.logCIDownloadStatus(!1,!0,f.version==1?!0:!1,String(e),k,i.currentCIVersion,c.toString(),l.toString(),f.errorCode,n.message))},null,d)}}})}return r.prototype.parseUrlResult=function(n){var r=null,t=null,u=1,i,f;return n&&(i=n.split(":0x"),i.length>1?(r=i[0],t=i[1],t!="00000000"&&SharedLogHelper.LogError("constraintIndexDownloader.urlResult",t,"Download encountered problems"),f=this.getContstraintIndexInfo(r),u=f.version):SharedLogHelper.LogError("constraintIndexDownloader.parseUrlResult","urlResult: "+n,"Invalid URL")),{url:r,version:u,errorCode:t}},r.prototype.getContstraintIndexInfo=function(n){var r=-1,u="",t,i;return n&&(t=n.split("/"),t.length>1?(i=t[t.length-1].split("."),u=i.length==2?i[0]:"",r=+t[t.length-2]):SharedLogHelper.LogError("constraintIndexDownloader.getContstraintIndexInfo","url: "+n,"Invalid URL")),{version:r,language:u}},r.prototype.getUrlForCiCab=function(n,t){return"https://www.bing.com/bcs/ci/"+n+"/"+t+".cab"},r.prototype.getTimeDiffInMins=function(t){if(!n.isValidDate(t))return 0;var i=t.getTime(),r=n.getCurrentTime();return Math.round((r-i)%864e5%36e5/6e4)},r.LastCIDownloadAttemptKey="LastCIDownloadAttempt",r}();i.ConstraintIndexDataLoader=r})(i=t.ConstraintIndex||(t.ConstraintIndex={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var r="OneDrive provider called without {0}",u=function(i){function u(n){var t=i.call(this,"MODC")||this;return t._accessTokenManager=n,t}return __extends(u,i),u.prototype.getName=function(){return"MyStuffOneDriveDataProvider"},u.prototype.getAllAccountTokens=function(i){if(t.RuntimeConfig.QfMode==5){var u=SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootAccount;u?this._accessTokenManager.getAccountByUserName(!1,0,u,!1,!0,function(n){n&&n.Token?i([n.Token]):i(null,"AccountNotFound")},"Windows"):t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess?this._accessTokenManager.getAllSyncingAccounts(!1,0,!1,!0,function(n){n.length>0?i(n.map(function(n){return n.Token})):i(null,"NoAccountsFound")},"Windows"):(SharedLogHelper.LogError("MyStuffOneDriveParser","QfMode="+t.RuntimeConfig.QfMode,new Error(n.formatString(r,["currentSyncRootAccount"]))),i(null,"CurrentSyncRootAccount"))}else t.getAuthAccountForCloudContent()=="Windows"&&t.cortanaAccountType!=3&&t.getWindowsAndCortanaAccountIdentityDiff()!=1&&t.substrateProvidersEnabled()?this._accessTokenManager.getAccount(0,t.getBingResourceOrScope(0),!1,!0,function(n){n&&n.Token?i([n.Token]):i(null,"NoAccountsFound")},"Windows"):i(null)},u.prototype.getBaseUrl=function(){return t.config.myStuffOneDriveRootUrl},u.prototype.getPostBody=function(n){return n.taskFrame?n.taskFrame.raw:""},u.prototype.fetch=function(t,r,u,f,e,o,s){var l=this,h,c;n.isDataSourceEnabled(this._dataSource,t)&&(h={numOfPendingResponses:0},c=function(c){var v=Object.assign({},s),a;c&&(v["X-Search-RPSToken"]=c);a=Object.assign({},o);delete a[n.Service.QueryParams.ImpressionGuid];delete a[n.Service.QueryParams.RequestElToken];i.prototype.fetch.call(l,t,function(n,t,i,u,f){--h.numOfPendingResponses;r(n,t,i,u,f,h.numOfPendingResponses!=0)},u,f,e,a,v)},this.getAllAccountTokens(function(n,t){t?r(l._dataSource,null,t,null,null,!1):n?(h.numOfPendingResponses=n.length,n.forEach(function(n){return c(n)})):(h.numOfPendingResponses=1,c(null))}))},u}(n.JsonDataProvider),i;t.MyStuffOneDriveDataProvider=u;i=function(){function i(n){this._host=n}return i.prototype.parse=function(n,i,r,u,f,e){var o=[];u&&(u.Results?(this.addContent(n,o,u.Results.OneDriveDocuments,"FL",t.Scope.Documents,i),this.addContent(n,o,u.Results.OneDriveFolders,"FD",t.Scope.Folders,i),this.addContent(n,o,u.Results.OneDriveImages,"LI",t.Scope.Photos,i),this.addContent(n,o,u.Results.OneDriveVideos,"LV",t.Scope.Videos,i),this.addContent(n,o,u.Results.OneDriveAudio,"MU",t.Scope.Music,i)):SharedLogHelper.LogError("MyStuffOneDriveParser",null,new Error("Missing Results property")));t.decorateSuggestionsWithParentFolder(o,this._host);e("MODC",o,null)},i.prototype.addContent=function(i,r,u,f,e,o){var s=this,c,l,v,a;if(u&&n.isSuggestionTypeEnabled("MODC",f,7,i)){var h=t.Scope[e],y=function(u){var k,c,d,w,g,b;if(!u.Content)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing Content property")),{value:void 0};if(c=u.Content.OneDriveData,!c)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing OneDriveData property")),{value:void 0};if(d=c.propertyHits.length==1&&c.propertyHits[0]=="TextContent",d&&(!t.config.minLengthForContentMatch||i.queryToFetch.length<t.config.minLengthForContentMatch))return{value:void 0};if(w=c.SeeMore,!w)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing SeeMore property")),{value:void 0};var v=t.getEffectiveQuery(i),a=t.decodeHtml(c.Name),y=void 0;if(a.includes(HitHighlightingParser.startMarker)?y=HitHighlightingParser.removeMarkers(a):(y=a,a=HitHighlightingParser.addMarkers(y,v)),f=="FL"&&(g=c.FullPath.lastIndexOf("\\"),g!=-1)){var nt=c.FullPath.substr(g+1),tt=HitHighlightingParser.addMarkers(nt,v),rt=!tt.includes(HitHighlightingParser.startMarker)&&a.includes(HitHighlightingParser.startMarker);rt||(a=tt,y=nt)}var it=t.ScopeConfig[e].icon,ut=t.isMedia(f),ft=t.getOneDriveSuggestionIcon(ut,it,c.Thumbnail.replace(":Thumbnail",":Cropped176x176#h=176&w=176"),c.Extension,c.Id),l=t.createSuggestion(i,a,ft,it,f,y,n.InstrumentedItem.createInstrumentedItem(o,f),7,o,!0);l.url=w;l.path=c.FullPath;l.matchedOnlyOnContent=d;l.lastModifiedDate=t.toDate(c.DateModified);c.Extension&&(l.extensionLC=c.Extension.toLocaleLowerCase());b=void 0;f=="FL"&&c.TextContent&&n.contains(c.propertyHits,"TextContent")&&(k=t.tryGetTextContentMatch(c.TextContent,v),l.textContentIfMatched=k[0],b=k[1]);c.Artist&&(l.artist=HitHighlightingParser.removeMarkers(c.Artist));c.Album&&(l.album=HitHighlightingParser.removeMarkers(c.Album));a.includes(HitHighlightingParser.startMarker)||(b?l.match=b:c.Path&&n.contains(c.propertyHits,"Path")&&(l.match=t.tryGetLocationMatch(c.Path,v)));l.sourceForGroup=2;t.setFileTemplate(i,v,t.isL2(i),l,p._host);l.click=function(){return s._host.launchUri(w)};c.LocationUrl&&(l.locationUrl=c.LocationUrl,t.setExtraVerbs(l,function(){var n={verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:s._host.getLocString("OpenFileLocationIn",t.getGroupSourceDisplayName(2,s._host)),executeSync:function(){return s._host.launchUri(c.LocationUrl)},icon:{type:2,content:"&#xE838"}};return[n]},!0));t.isValidSuggestion(l,"MyStuffOneDriveParser "+h)&&r.push(l)},p=this;for(c=0,l=u;c<l.length;c++)if(v=l[c],a=y(v),typeof a=="object")return a.value}},i}();t.MyStuffOneDriveParser=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,r="AFC",u=864e5,f=t.config.activityFeedWindow||30,s=[1,7,f],e=4,h=32,c=32,l=function(){function o(n){var t=this;n.bindDismissed(function(){t._fetchContext&&(t._fetchContext.fetchInProgress=!1,t._fetchContext=null)});n.bindShown(function(){t._userActivityItemsCache=null})}return o.prototype.getName=function(){return"ActivityFeedDataProvider"},o.prototype.fetch=function(i,u,e,o,h){var l=this,c;i.enabledDataSources[r]&&(o.register(function(){l._callback=null},!1,"AFCfetch"),this._callback=u,this._userActivityItemsCache?(c=this._fetchContext&&this._fetchContext.fetchInProgress,n.invokeAsynchronously("ActivityFeedDataProvider.callback",function(){h()&&u(r,{items:l._userActivityItemsCache.slice(0)},undefined,c?3:1,undefined,c)})):this._fetchContext||(this._fetchContext={fetchInProgress:!0},this.fetchChunked(0,this.getUserActivityItemsCount(),0,t.config.chunkAFCReqs?s:[f],this._fetchContext)))},o.prototype.fetchChunked=function(t,i,r,f,e){var o=this;if(t>=i){SharedLogHelper.LogError("AFCfetchChunked",null,new Error("targetItemCount <= itemCount"));e.fetchInProgress=!1;return}var s=n.getCurrentTime(),h=new Date(s-r*u),c=new Date(s-f[0]*u);this.getUserActivityItemsWithOptionsAsync(function(n){if(e.fetchInProgress){t+=n.length;var r=t<i&&f.length>1&&f[1]>f[0];o.onChunkReceived(n,r);r?o.fetchChunked(t,i,f[0],f.slice(1),e):e.fetchInProgress=!1}},c,h,i-t)},o.prototype.onChunkReceived=function(n,t){var i;this._userActivityItemsCache||(this._userActivityItemsCache=[]);(i=this._userActivityItemsCache).push.apply(i,n);this._callback&&this._callback(r,{items:n},undefined,undefined,undefined,t)},o.prototype.getUserActivityItemsWithOptionsAsync=function(r,u,f,e){var s=i.userActivityForWebHelper,o;n.safeExecute(function(){o=s.createActivityQueryOptions();o.endTime=f;o.startTime=u;o.collapseOnActivityId=!0;o.activitySortAggregationType=4;o.activitySortByProperty="System.ActivityHistory.EndTime";o.activitySortOrder=0},"createActivityQueryOptions",undefined,undefined,function(){return o=null});o?t.Promise.safeChain("getUserActivityItemsWithOptionsAsync",function(){return s.getUserActivityItemsWithOptionsAsync(e,!!t.config.filterActivitiesToActivatableItems,o)},r,function(){return r([])}):r([])},o.prototype.getUserActivityItemsCount=function(){var n=i.textScaleFactor||1;return t.RuntimeConfig.AlwaysWide&&n==1?e:e-1},o}(),o;t.ActivityFeedDataProvider=l;o=function(){function r(n){var t=this;this._host=n;this._getEdgeIcon=n.getEdgeIcon;n.bindShown(function(){t._isInternetConnectionMetered=n.isInternetConnectionMetered()})}return r.prototype.parse=function(n,r,u,f,e,o,s){var c=this,h,l;t.config.backplateAllIconsInZI?this.innerParse(n,r,u,f,e,o,s):(h={},f.items.forEach(function(n){n&&n.appId&&(h[n.appId]=n.appId)}),l=Object.keys(h),t.Promise.safeChain("ActivityFeedSuggestionsParser parse",function(){return i.queryFormulationView.deviceSearch.findAppsAsync(l)},function(t){return c.innerParse(n,r,u,f,e,o,s,t)},function(){return c.innerParse(n,r,u,f,e,o,s)},s))},r.prototype.innerParse=function(i,r,u,f,e,o,s,h){for(var y,a=[],p=function(f){var y=!h||h[f.appId]&&h[f.appId].isImmersive,o=c.getGetIcon(f,y),s=c.getIcon(f,o),l="AFC",e=t.createSuggestion(i,f.activityDisplayText,s?undefined:o,s,l,f.activityDisplayText,n.InstrumentedItem.createInstrumentedItem(r,l),18,r,t.localDataSourceMayContainPII(u),f.id,function(){return f.launchActivity()}),v;e.additionalInfoText=f.description||f.contentUri;e.tooltip=f.activityDisplayText;e.additionalInfoText&&(e.tooltip+="\n\n"+e.additionalInfoText);f.deleteActivityAsync&&t.config.deleteActivity&&(v={verb:"RemoveFromActivityFeed",displayName:c._host.getLocString("RemoveFromActivityFeed"),executeSync:function(){return f.deleteActivityAsync()},icon:{content:"&#xE711",type:2}},n.WSB.setExtraVerbs(e,function(){return[v]},!1));a.push(e)},c=this,l=0,v=f.items;l<v.length;l++)y=v[l],p(y);o(u,a,undefined)},r.prototype.getIcon=function(n,t){return n.appImageUri&&!this._isInternetConnectionMetered?{content:n.appImageUri,type:0,canFail:!0,isValidSize:function(n,t){return n>=h&&t>=c},getFallbackIcon:t}:undefined},r.prototype.getGetIcon=function(n,i){return n.appId==t.EdgeAppId?this._getEdgeIcon:t.Promise.safeChainWithGlobalCaching("activityFeedClientIcon",function(r){return n.getActivityAppLogoAsync(t.getImageSizeValue(r)).then(function(r){return t.toIcon(r,"activityFeedClientIcon toIcon",null,i?n.logoBackgroundColor:undefined)})},function(i){return n.id+"_"+t.getImageSizeValue(i)+"px"})},r}();t.ActivityFeedSuggestionsParser=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function t(t){var i=this;t.bindQueryChangedOrInitialized(function(){(!n.config.keepLastKeystrokeCache||i._currentWebSignals)&&(i._previousWebSignals=i._currentWebSignals,i._currentWebSignals=null);(!n.config.enableCISpeller||i._currentSpellerTrigger)&&(i._previousSpellerTrigger=i._currentSpellerTrigger,i._currentSpellerTrigger=null)});t.bindConversationStart(function(){i._previousWebSignals=null;i._currentWebSignals=null;i._previousSpellerTrigger=null;i._currentSpellerTrigger=null;i._previousBestMatchSuggestion=null;i._previousQuery=null})}return t.prototype.setPreviousQuery=function(n){this._previousQuery=n},t.prototype.getPreviousQuery=function(){return this._previousQuery||""},t.prototype.updateWebSignalsData=function(n,t){this._currentWebSignals={query:n,signals:t}},t.prototype.setPreviousTopHit=function(n){this._previousBestMatchSuggestion=n},t.prototype.getPreviousTopHit=function(){return this._previousBestMatchSuggestion},t.prototype.updateSpellerTriggerData=function(n,t){this._currentSpellerTrigger={query:n,triggerSpeller:this.triggerSpellerOnTheNextKeyStroke(t,n)}},t.prototype.getPreviousEventWebSignalsData=function(n){return this._previousWebSignals&&this.isPreviousEventQuery(this._previousWebSignals.query,n)?this._previousWebSignals.signals:null},t.prototype.disableCISpeller=function(n){return this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.isPossibleFirstMisspelling(n,this._previousSpellerTrigger.query)?!0:!1},t.prototype.enableCISpeller=function(t){return n.config.enableCISpeller?this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.disableCISpeller(t)?!1:this._previousSpellerTrigger&&this.isPossibleFirstMisspelling(this._previousSpellerTrigger.query,t)?!0:this._previousSpellerTrigger&&(this.isTypedEventQuery(this._previousSpellerTrigger.query,t)||this.isBackspaceEventQuery(this._previousSpellerTrigger.query,t))&&this._previousSpellerTrigger.triggerSpeller:this._previousSpellerTrigger&&this.isPreviousEventQuery(this._previousSpellerTrigger.query,t)&&this._previousSpellerTrigger.triggerSpeller},t.prototype.triggerSpellerOnTheNextKeyStroke=function(t,i){return n.config.enableCISpeller==1?!0:t.every(function(n){return n.notAResult})?!0:t.length>0&&this.isWebSpellCorrectedSuggestion(t[0])&&t.every(function(n){return n.handoffType==0})?!0:n.config.enableCISpeller==2&&!t.some(function(t){return n.isApp(t.type)||n.isSetting(t.type)})?!0:this.enableCISpeller(i)?!0:!1},t.prototype.isWebSpellCorrectedSuggestion=function(n){return n.type=="SC"||n.type=="OS"},t.prototype.isPreviousEventQuery=function(n,t){return n&&t&&n.length==t.length-1&&t.startsWith(n)},t.prototype.isBackspaceEventQuery=function(n,t){return n&&t&&n.length==t.length+1&&n.startsWith(t)},t.prototype.isTypedEventQuery=function(n,t){return(n||n==="")&&t&&n.length<t.length&&t.startsWith(n)},t.prototype.isPossibleFirstMisspelling=function(t,i){if(n.config.firstMisspellingOnMatchedQuery&&this._previousBestMatchSuggestion){var r=this._previousBestMatchSuggestion.ciMatchedQuery||this._previousBestMatchSuggestion.query;return r.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!r.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1}return this._previousBestMatchSuggestion&&this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1},t}();t.PreviousKeystrokeCache=i})(t=n.Cache||(n.Cache={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(t){function c(n,t){e=n;var s=_ge("dialogBox");s&&(sj_be(s,"click",function(n){var r=n.target.id,t=i.filter(function(n){return n.id==r}).shift();t?(t.action&&t.action(),u()):r=="dialog_overlay"&&u();sj_sp(n)},!0),t.bindKeyDown(function(n){var e,o,t,s,u,i;if(r){e=void 0;switch(n){case 39:for(t=f(),o=!1,u=0,i=void 0;i=t[u];u++)if(o){e=i;break}else if(o=i.selected==!0,o&&u+1==t.length){e=t[0];break}break;case 37:for(t=f(),s=void 0,u=0,i=void 0;i=t[u];u++){if(i.selected==!0){e=s?s:t[t.length-1];break}s=i}}e&&h(e)}}),t.bindKeyEscape(function(n){o()&&(u(),n.handled=!0)}))}function l(t,u){var f,o;if(i=[],u.length==0)throw new Error("DialogBox: Empty buttons array");i=u.map(function(n,t){var i=n;return i.id="dialog_b"+t,i.narratorText=i.text,i.selected&&(f=i.id),i});o={isVisible:!0,messageText:t,buttons:i};e.updateDialogBox(o);f&&n.safeSetTimeout(function(){return _ge(f).focus()},0,"DialogBox.show");r=!0}function u(){if(r)e.updateDialogBox({isVisible:!1}),r=!1}function o(){return r}function f(){return i}function a(){return f().map(function(n){return[n]})}function s(){return f().filter(function(n){return n.selected}).shift()}function h(n){for(var r,t=0,u=i;t<u.length;t++)r=u[t],r.selected=r.id==n.id,r.selected&&_ge(n.id).focus()}function v(){if(o()){var n=s();n&&(n.action&&n.action(),u())}}function y(){return!1}var i=[],e,r=!1;t.init=c;t.show=l;t.hide=u;t.isVisible=o;t.getSelectableItems=f;t.getSelectableItemsByGroup=a;t.getSelectedItem=s;t.select=h;t.submit=v;t.onAfterKeyDown=y})(i=t.DialogBox||(t.DialogBox={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function l(n){return n.includes("form=vsranf")}function a(t){var i=n.tryParseUrl(t,!0);return!!i&&/[\?\&]q=/i.test(i.parameters)&&!/[\?\&]view=detail/i.test(i.parameters)}function vt(t){var i=n.tryParseUrl(t,!0);return!!i&&at.test(i.parameters)}function yt(n){switch(n){case 17:case 1:case 0:return 1;case 13:return 2;case 14:return 3;default:throw Error("Unsupported handoff type: "+n);}}function v(n){switch(n){case 1:return 1;case 2:return 7;case 3:return 8;default:throw Error("Unsupported vertical: "+n);}}function y(t){var i=n.tryGetBingPathLC(t);return i?n.contains(ct,i)?2:n.contains(lt,i)?3:n.contains(n.WebSearchPaths,i)?1:null:null}var s=t.PreviewPaneWidth-24,w="miniserp_focus",b="disableOutline",r=2,k=["tab-active","slide"],d=["aria-expanded"],g="videoPreview",nt=300,f=30,tt="IsSearchAppXYFocusEnabled",it="WinJS",rt="dFocusExit",i="win-xyfocus-suspended",h="MiniSerpContentLoaded",ut="Rewards.ReportActivity.Success",ft="Rewards.ReportActivity.Failure",p,o;t.MiniSerpFetchEvent="miniSERP.Fetch";var et=["/account/","/settings.aspx"],u=function(){var n={};return n[37]="left",n[39]="right",n[38]="up",n[40]="down",n}(),ot=1e4,c=800,st=100,ht=["&form=s00037&"],ct=["/images/search","/images"],lt=["/videos/search","/videos"],at=/[\?\&]FORM=HDRSC[1-3]/i,e="ClientInst";p=function(){function i(i,r,f,e,o,s,c){var l=this;this._page=i;this._host=r;this._navigationHelper=f;this._instrumentationHelper=e;this._sequenceNumberManager=o;this._msRewardsViewModel=s;this._latencyInstrumentation=c;this._deviceScale=1;this._previewRequestId=0;this._previousURLs=[];this.blockedMiniSERPUrls=[_w.location.origin+_w.location.pathname];this._root=_ge("qfPreviewPane");this._seeAllResults=_ge("seeAllResults");this._footer=_ge("footer");this._mask=_ge("previewMask");this._forceLoadScreen=_ge("forceLoadMessage");this._contentContainer=_ge("previewContainer");this._scrollArea=_ge("qfPreviewScrollArea");this._loadingScreen=_ge("loadingScreen");sj_be(this._scrollArea,"scroll",function(t){l._iframe&&n.contains([2,3],l._currentVertical)&&l._iframe.contentWindow.dispatchEvent(new Event(t.type,t));l._calculateIFrameHeight&&l._calculateIFrameHeight()});this._footer&&sj_be(this._footer,"keydown",function(i){l._iframe&&n.isUpOrDownKey(i.keyCode)?(i.keyCode==38?l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocusToEdgeFocusableElement(1)}):t.RuntimeConfig.AllowKeyboardNavCycling&&l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocusToEdgeFocusableElement(0)}),sj_pd(i),sj_sp(i)):i.keyCode==13&&l._footer.click()});this._mask&&t.RuntimeConfig.MiniSERPMode!=0&&sj_be(this._mask,"keydown",function(n){n.keyCode==13&&l._mask.click()});sj_be(_w,"message",function(n){var r=n.data?n.data.msWinJSXYFocusControlMessage:null,i,f;r&&r.type==rt&&(i=r.direction,f=r.keyCode,l._focusHelper&&!l._focusHelper.isL2Visible()&&l._focusHelper.getXYFocusRoot()!=l._originalMiniSerpXYFocusRoot?(l._focusHelper.setXYFocusRoot(l._originalMiniSerpXYFocusRoot),l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocus(i,f)})):(i!=u[t.getRtlAdjustedKey(39)]&&n.source.blur(),i==u[40]||i==u[38]&&t.RuntimeConfig.AllowKeyboardNavCycling?l._footer?l._footer.focus():l._focusHelper.moveFocusToEdgeFocusableElement(i==u[38]?1:0):i!=u[t.getRtlAdjustedKey(37)]||l._host.searchBoxHasFocus()||l._host.setFocusInSearchBox(f,"previewPaneUnfocus")))});r.bindShown(function(){ThresholdUtilities.getCortanaHeaders(function(n){n&&n["X-BM-DeviceScale"]&&(l._deviceScale=+n["X-BM-DeviceScale"]/100)});l.setVertical(1)});r.bindAppHidden(function(){l._seeAllResults&&(l._seeAllResults.innerText="");l._currentVertical=null});r.bindSearchBoxGotFocus(function(){l._focusHelper&&l._focusHelper.onSearchBoxFocusChanged()});sj_evt.bind(h,function(){l._onIFrameLoadedCallback&&(l._onIFrameLoadedCallback(),l._onIFrameLoadedCallback=null)});this._msRewardsViewModel&&(sj_evt.bind(ut,function(n){var t=n[1];l._msRewardsViewModel.notifyPointsRewarded(t)}),sj_evt.bind(ft,function(n){var t=n[1];SharedLogHelper.LogError("RewardsReportActivityFailureEvent",null,t?new Error(t):null)}))}return i.prototype.init=function(n){this._previewPaneViewModelParent=n},i.prototype.finalizeKeystroke=function(){},i.prototype.getSelectableItems=function(){return[]},i.prototype.getSelectableItemsByGroup=function(){return[]},i.prototype.getSelectedItem=function(){return null},i.prototype.select=function(){},i.prototype.onAfterKeyDown=function(){return!1},i.prototype.clear=function(){this._previewedSuggestion=null;this._previewedQuery=null;this._onPreviewPaneRendered=null;this._footer&&(t.setVisibility(this._footer,!1),this._footer.onclick=null);this._mask&&(t.setVisibility(this._mask,!1),this._mask.onclick=null);this._forceLoadScreen&&this.clearForceLoadPage();this.clearContent();this._previousURLs=[]},i.prototype.showForceLoad=function(n,i){var r=this;this._instrumentationHelper.logClientInstEvent("Select","ForceLoadOpened",this._sequenceNumberManager.getSequenceNumber(),{suggestionText:n});this.stopLoadingScreen();t.setVisibility(this._scrollArea,!1);t.setVisibility(this._footer,!1);t.setVisibility(this._mask,!1);t.setVisibility(this._forceLoadScreen,!0);this.formatForceLoadPage(n);this._forceLoadScreen.onclick=function(){r.clearForceLoadPage();r.startLoadingScreen();i()}},i.prototype.clearForceLoadPage=function(){for(t.setVisibility(this._forceLoadScreen,!1),t.setVisibility(this._scrollArea,!0),this._forceLoadScreen.onclick=null,this._forceLoadScreen.classList.remove("forceLoadContainer");this._forceLoadScreen.hasChildNodes();)this._forceLoadScreen.removeChild(this._forceLoadScreen.lastChild)},i.prototype.formatForceLoadPage=function(n){var s=this._host.getLocString("ForceLoadMessage"),h=this._host.getLocString("ForceLoadButton"),e=s.split("{0}"),o=sj_ce("div","","accentColor"),r,i,u,f,t;this._forceLoadScreen.appendChild(o);r=_d.createElement("span");r.id="forceLoadIcon";r.innerHTML="&#xE721";o.appendChild(r);i=sj_ce("div","forceLoadQueryText","");i.appendChild(_d.createTextNode(e[0]));u=_d.createElement("span");u.textContent=n;i.appendChild(u);i.appendChild(_d.createTextNode(e[1]));this._forceLoadScreen.appendChild(i);f=sj_ce("div","","");this._forceLoadScreen.appendChild(f);t=_d.createElement("button");t.className="c-button";t.id="forceLoadSubmit";t.type="submit";t.textContent=h;f.appendChild(t)},i.prototype.startLoadingScreen=function(){t.setVisibility(this._scrollArea,!1);t.setVisibility(this._footer,!1);t.setVisibility(this._mask,!1);t.setVisibility(this._loadingScreen,!0)},i.prototype.stopLoadingScreen=function(){t.setVisibility(this._loadingScreen,!1);t.setVisibility(this._scrollArea,!0)},i.prototype.clearContent=function(){for(this._previewRequestId+=1,this._focusHelper=null,this._onIFrameLoadedCallback=null;this._contentContainer.hasChildNodes();)this._contentContainer.removeChild(this._contentContainer.lastChild);this._contentContainer.classList.remove("miniSerpContainer");this._contentContainer.classList.remove("errorMessageContainer");this._iframe&&(this._iframe=null,this._calculateIFrameHeight=null);this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)},i.prototype.hasFocus=function(){if(this._host.searchBoxHasFocus())return!1;var t=n.getCurrentActiveElement();return t&&t!=this._iframe&&this._root.contains(t)},i.prototype.focus=function(){var t=this,n;this.hasFocus()||(this._iframe?(n=this.tryExecuteFocusOnMiniSerp(function(){return t._focusHelper.moveFocusToLastFocusedElement()}),n?this._host.setFocusInWebView("miniserp focus"):this._host.setFocusInSearchBox(null,"MiniSERP VM Focus failed")):this._previewPaneViewModelParent.focusPending=!0)},i.prototype.readyToBlur=function(){return!0},i.prototype.blur=function(){},i.prototype.setVertical=function(n){if(n!=this._currentVertical){if(this._seeAllResults)switch(n){case 1:this._seeAllResults.innerText=t.config.miniSerpPreview?this._host.getLocString("SeeResultsBrowser"):t.config.wsbTransferText?this._host.getLocString("OpenResultsBrowser"):this._host.getLocString("SeeAllResults");break;case 2:this._seeAllResults.innerText=this._host.getLocString("SeeAllImageResults");break;case 3:this._seeAllResults.innerText=this._host.getLocString("SeeAllVideoResults");break;default:throw new Error("Unsupported vertical type: "+n);}this._currentVertical=n}},i.prototype.update=function(i,r,u,f,e){var o=this,s,l,h,v,a,p;if(this._previewedSuggestion=i,this._previewedQuery=r,this._onPreviewPaneRendered=e,s=i.type=="MB"&&i.segments=="Organization"?null:i.baseSearchUrl,l=yt(i.handoffType),this.setVertical(l),this._footer&&(this._footer.onclick=function(t){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(t),3);o._host.launchSearch(i.query,o._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),this._mask&&(this._mask.onclick=function(t){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(t),3);o._host.launchSearch(i.query,o._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),h=l==2&&r.overrideAction==1,t.config.th&&ClientTestHooks.isTesthookParamSet("noSerp")){this.renderIframe(null,"<html><body><\/body><\/html>",{},undefined,h);v=n.getCurrentTime();this._previewPaneViewModelParent.onResponseReceived(v);return}var y=u==0,w=t.RuntimeConfig.QfMode==6?undefined:y?"WMSRPA":"WMSRPM",c=h?this._navigationHelper.getImageSearchUrl(t.config.enableSnipSearchV2):this._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType,w,!0,null,y);c+="&qfig="+this._instrumentationHelper.getImpressionGuid(this._sequenceNumberManager.getSequenceNumber());this._msRewardsViewModel&&this._msRewardsViewModel.isRewardsEnabled()&&(c+="&rewards=1");this._previousURLs=[];h?(a=function(){return o.renderErrorMessage(i.query)},p=r.overrideActionHandlerAsync,p(function(n){n?o.downloadAndDisplayMiniSerp(i,c,n,u,i.previewCallback):(o.miniSerpErrorInstrumentation("notHaveMultipartBody"),a())},function(){o.miniSerpErrorInstrumentation("bingImageSearchActionFailed");a()})):this.downloadAndDisplayMiniSerp(i,c,null,u,i.previewCallback)},i.prototype.miniSerpErrorInstrumentation=function(n,t,i){var r;r=i?{ErrorCause:n,ResponseRecievedTimeStamp:t.toString(),ResponseText:i.responseText,ContentType:i.contentType,ResponseStatusCode:i.status.toString(),RequestStatusCode:i.result.toString()}:{ErrorCause:n};this._instrumentationHelper.logClientInstEvent(e,"MiniSERPError",this._sequenceNumberManager.getSequenceNumber(),r)},i.prototype.renderErrorMessage=function(n){var t=this._host.getLocString("PreviewPaneErrorMessage"),i=t.split("{0}"),r={fullPartialQuery:n,textParts:i};this._page.updatePreviewErrorMessageView(r)},i.prototype.downloadAndDisplayMiniSerp=function(i,r,u,f,e){var h=this,c=!1,l,a,v,y,p,o;t.config.th&&(l=ClientTestHooks.getUrlValue("client"),c=l&&l.toLowerCase()=="windows",a=ClientTestHooks.getUrlValue("previewPaneUrlOverride"),r=a?decodeURIComponent(a):ClientTestHooks.CopyTestParameters(_w.location.search,r),c&&(r=ThresholdUtilities.setUrlParameter(r,"client","windowsMiniSerp")),v=ClientTestHooks.getUrlValue("miniSerpBag"),v&&(r=ThresholdUtilities.setUrlParameter(r,"bag",v)),y=ClientTestHooks.getUrlValue("dummyref"),y&&(r=ThresholdUtilities.setUrlParameter(r,"dummyref",y)));p=f==0;sj_evt.fire(t.MiniSerpFetchEvent,i,p);o=this._host.getCustomHeaders(null);o["X-BM-DeviceDimensionsLogical"]=s+"x"+this._root.clientHeight;o["X-BM-DeviceDimensions"]=String(Math.round(s*this._deviceScale))+"x"+this._root.clientHeight;c||(o["User-Agent"]=navigator.userAgent+" RestrictedAPI");u&&(o["Content-Type"]=u.contentType);(p||t.config.miniSerpStrictv2)&&(o["X-Search-SafeSearch"]="Strict");var w=++this._previewRequestId,b=n.getCurrentTime(),k=function(t){var f=n.getCurrentTime();h._previewPaneViewModelParent.onResponseReceived(f);t.status==200&&t.responseText?(h._latencyInstrumentation&&h._latencyInstrumentation.logMiniSERPRequestLatency(f-b),h._previousURLs.push(r),h.renderIframe(r,t.responseText,o,c,!!u,e)):(h.miniSerpErrorInstrumentation("renderErrorMessage",f,t),h.renderErrorMessage(i.query))};this.fetchMiniSerpUrl(r,u?u.data:null,o,k,w,u?0:t.config.miniSERPRequestRetries)},i.prototype.fetchMiniSerpUrl=function(i,r,u,f,o,s){var h=this,c=f;s>0&&(c=function(n){if(n.result==0&&n.responseText)f(n);else{var r={Url:i,StatusCode:n.status.toString(),Timeout:t.config.miniSERPRequestTimeout.toString(),RetriesRemaining:s.toString()};h._instrumentationHelper.logClientInstEvent(e,"MiniSERPRefetch",h._sequenceNumberManager.getSequenceNumber(),r);h.fetchMiniSerpUrl(i,null,u,f,o,s-1)}});n.fetchUrl(i,u,r,c,null,function(){return o==h._previewRequestId},!0,r?undefined:t.config.miniSERPRequestTimeout)},i.prototype.renderIframe=function(i,r,u,f,e,o){var s=this;this.clearContent();this._iframe=sj_ce("iframe","miniIframeSerp");this._iframe.setAttribute("scrolling","no");this._contentContainer.classList.add("miniSerpContainer");this._contentContainer.appendChild(this._iframe);var l=this._iframe.contentWindow,c=this._iframe.contentDocument,a=!1;this._footer&&(t.setVisibility(this._footer,!e),t.setVisibility(this._mask,!e));this.setIframeHeight(0);this._onIFrameLoadedCallback=function(){var r=c.body,e=0,t;s._calculateIFrameHeight=function(){var n=r.offsetHeight;n!=e&&n>0&&(e=s.setIframeHeight(n))};s._calculateIFrameHeight();s.overrideAjaxCalls(l,u,f);s.captureNavigationsAndSizeEvents(i,r,l,c);s._scrollArea.scrollTop=0;n.contains([2,3],s._currentVertical)&&(t={childList:!0,subtree:!0},s._mutationObserver=new MutationObserver(function(){s._calculateIFrameHeight&&s._calculateIFrameHeight()}),n.safeExecute(function(){s._currentVertical===2?s._mutationObserver.observe(c.getElementById("images"),t):s._currentVertical===3&&s._mutationObserver.observe(c.getElementById("video"),t)},"onIFrameLoadedCallback"));s._msRewardsViewModel&&s._msRewardsViewModel.isRewardsEnabled()&&l.sj_rra&&l.sj_rra(i);s._onPreviewPaneRendered&&(s._onPreviewPaneRendered(!0,!1,null),s._onPreviewPaneRendered=null)};this._iframe.onload=function(){if(a){s.tryLaunchUrl(i,l.location.href,0);return}a=!0;s.overrideAjaxCalls(l,u,f)};c.open();c.write(r);c.write("<base href='"+i+"' target='_parent' />");o&&o(this._iframe.contentWindow);c.write("<script>window.parent.sj_evt.fire('"+h+"')<\/script>");c.close()},i.prototype.setIframeHeight=function(n){return n<c&&(n=c),this._iframe.style.height=n+"px",n},i.prototype.overrideAjaxCalls=function(n,t,i){var r=this;n.sj_gx=function(){var n=sj_gx(),u=n.open;return n.open=function(f,e,o,s,h){if(r.blockedMiniSERPUrls.some(function(n){return e.startsWith(n)}))throw new Error("MiniSERP blocked URL request: iFrame URL: "+r._iframe.contentDocument.baseURI+" requestUrl: "+e);f=="GET"&&i&&(e=ThresholdUtilities.setUrlParameter(e,"client","windowsMiniSerp"));u(f,e,o,s,h);for(var c in t)n.setRequestHeader(c,t[c])},n}},i.prototype.captureNavigationsAndSizeEvents=function(i,r,u,f){var o=this,l;this._focusHelper=this.createFocusHelper(u,f);this._focusHelper&&(this._originalMiniSerpXYFocusRoot=this._focusHelper.getXYFocusRoot());this._previewPaneViewModelParent.focusPending&&(this._previewPaneViewModelParent.focusPending=!1,this.focus());this._iframe.contentWindow.overlay_onBeforeContentLoad=function(){o.setIframeHeight(ot)};this._iframe.contentWindow.overlay_onBeforeSuccess=function(n){o.setIframeHeight(n.clientHeight+st)};var s=function(){u.sj_lc=function(n){if(n)o.tryLaunchUrl(i,n,0);else{var t=o._previousURLs[o._previousURLs.length-2];o._previousURLs.splice(o._previousURLs.length-2,2);o.tryLaunchUrl(i,t,0)}};u.MiniSerp=!0;o._calculateIFrameHeight()},c=function(n){o._focusHelper.setXYFocusRoot(n);o._focusHelper.moveFocusToEdgeFocusableElement(0)},h=u.sj_evt;h?(l=["onP1","ajaxReady"],l.forEach(function(n){return h.bind(n,s)}),h.bind("l2_overlay_visible",function(n){s();var t=o._iframe.contentDocument.getElementById(n[1]);t&&(o._focusHelper.setIsL2Visible(!0),c(t))}),h.bind("l2_overlay_hidden",function(){s();o._focusHelper.setIsL2Visible(!1);c(o._iframe.contentDocument.body)})):s();u.open=function(n){return o.tryLaunchUrl(i,n,0),null};r.onclick=function(r){var u=r.target;if(u){if(u.id=="miniSERPToWeb"){o._instrumentationHelper.logClientInstEvent(e,"AdultExplicitLoad",o._sequenceNumberManager.getSequenceNumber(),{url:i,query:o._previewedSuggestion.query});t.config.miniSerpStrictv2?o._footer.click():(o.clearContent(),o.startLoadingScreen(),o.update(o._previewedSuggestion,o._previewedQuery,2,0,null));return}while(u&&!u.href)u=u.parentNode}u&&o.tryLaunchUrl(i,u.href,n.getInputType(r))==0&&r.preventDefault()}},i.prototype.navigateInPlace=function(n,t,i,r){var u=this,f=v(r),e,o;this._previewPaneViewModelParent.onBeforeItemLaunch(t,i,f);this._footer&&(this._footer.onclick=function(){return u._host.launchSearch(null,u.enrichBingSearchUrlParameters(n),!1)});this.clearContent();this._previewPaneViewModelParent.focusPending=!0;this._previewPaneViewModelParent.startLoadingScreen();e=this.enrichBingSearchUrlParameters(n,!0);this.setVertical(r);o={destinationVertical:r.toString(),url:n};this._instrumentationHelper.logClientInstEvent("Select","NavigateInPlace",this._sequenceNumberManager.getSequenceNumber(),o);this.downloadAndDisplayMiniSerp(this._previewedSuggestion,e,null,1);this._previewPaneViewModelParent.onAfterItemLaunch(f)},i.prototype.tryLaunchUrl=function(i,r,u){var s,f,h,e,c,o,p;if(!r)return 1;if(s=n.getCurrentTime(),r=r.trim(),f=r.toLowerCase(),h=y(r),h!==null&&a(r)&&!l(f)&&(t.config.navigateRequeriesInsideMiniSERP||vt(r))&&h!==this._currentVertical)return this.navigateInPlace(r,s,u,h),0;if(f.startsWith("javascript:location.reload"))return 0;if(r==i+"#"||f.startsWith("javascript:"))return 1;if(f=="/loading")return 0;if(r.startsWith(window.location.href))return SharedLogHelper.LogError("previewPane.tryLaunchUrl",i,new Error("Anchor navigation on PreviewPane")),0;if(r.startsWith("/")&&(r=n.getWindowProtocol()+"//"+n.getWindowHost()+r),e=y(r),e){if(e==this._currentVertical&&a(r)&&(t.config.navigateRequeriesInsideMiniSERP||ht.some(function(n){return f.includes(n)})))return this.navigateInPlace(r,s,u,e),0;r=this.enrichBingSearchUrlParameters(r)}c=e?v(e):2;this._previewPaneViewModelParent.onBeforeItemLaunch(s,u,c);o=n.tryGetBingPathLC(r);o?et.some(function(n){return o.startsWith(n)})||l(f)?this._host.launchUri(t.config.settingsUri):o.startsWith("/profile/interests")?this._host.launchCat1(null,"ms-cortana://navigate/Notebook",null):o.startsWith("/fd/auth/")?t.isCortanaPersonalized?SharedLogHelper.LogError("previewPane.tryLaunchUrl",i,new Error("Redirecting to sign in page when already signed in")):this._host.launchUri("ms-cortana://CapabilitiesPrompt/?RequestedCapabilities=Personalization"):this._host.launchUri(r):(t.config.openSearchTabMiniSerp&&(p=this._previewedSuggestion.baseSearchUrl,p&&this._host.launchUri(this.buildSearchUrl(p),!1)),this._host.launchUri(r));this._previewPaneViewModelParent.onAfterItemLaunch(c);return 0},i.prototype.enrichBingSearchUrlParameters=function(n,t){return t===void 0&&(t=!1),n=this._navigationHelper.enrichUrlWithMarketInfo(n),n=this._navigationHelper.enrichUrlWithDeviceInfo(n),n=this._navigationHelper.enrichUrlWithCvid(n),n=this._navigationHelper.enrichUrlWithSuggestionType(n,this._previewedSuggestion.type),t||(n=this._navigationHelper.enrichUrlWithMuidInfo(n),n=this._navigationHelper.enrichUrlWithSafeSearchInfo(n)),n},i.prototype.createFocusHelper=function(n,t){var i=this.getSearchAppWinJSXYFocus(n);return!i&&SearchAppWinJS&&SearchAppWinJS.initXYFocus&&(SearchAppWinJS.initXYFocus(n),i=this.getSearchAppWinJSXYFocus(n),n[tt]=i?!0:!1),i?new o(t,n,i,this._scrollArea,this._currentVertical):null},i.prototype.getSearchAppWinJSXYFocus=function(n){var i,t=n[it];return t&&t.UI&&(i=t.UI.XYFocus),i},i.prototype.tryExecuteFocusOnMiniSerp=function(n){var t=!1;return this._focusHelper&&(t=n()),t||this._footer&&(this._footer.focus(),t=!0),t},i.prototype.buildSearchUrl=function(t){return _w.location.protocol+"//"+_w.location.host+t+"&form=WSBBST&cvid="+n.encodeQueryParameter(this._host.getConversationId())},i}();t.MiniSerpViewModel=p;o=function(){function e(n,i,r,u,f,e){var o=this;this._targetDocument=n;this._targetWindow=i;this._searchAppXYFocus=r;this._scrollArea=u;this._verticalType=f;this._useStickyFocusOverride=e;this._isL2Visible=!1;this._useStickyFocus=!1;_w.ClientTestHooks&&ClientTestHooks.isTesthookParamSet("stickyFocus")===!0&&(this._useStickyFocus=!0);this._useStickyFocusOverride!=null&&(this._useStickyFocus=this._useStickyFocusOverride);var s="b_hide",h="acc-inactive",c=".b_slidebar";this._focusDiv=sj_ce("div",w,s);n.body.appendChild(this._focusDiv);sj_be(n,"blur",function(n){o._useStickyFocus?(!n.srcElement.offsetParent||n.srcElement.classList.contains("b_hide")||n.relatedTarget)&&t.setVisibility(o._focusDiv,!1):t.setVisibility(o._focusDiv,!1)},!0);sj_be(n,"focus",function(){return o.updateFocusedElementAndOutline(o._targetDocument.activeElement)},!0);sj_be(n,"scroll",function(n){o._lastElementFocused&&(n.srcElement==o._lastElementFocused||o._lastElementFocused.compareDocumentPosition(n.srcElement)&Node.DOCUMENT_POSITION_CONTAINS)&&o.updateFocusedElementAndOutline(o._lastElementFocused)},!0);sj_be(n,"transitionend",function(n){var t=o._targetDocument.activeElement;(n.propertyName=="height"||n.srcElement==t.closest(c))&&(o._focusOutlineTimeout?(o.clearFocusOutlineTimeout(),o.outlineElementAndScrollIntoView(t)):o._focusDiv.classList.contains(s)||o.outlineElementAndScrollIntoView(t),n.srcElement.style.height=="0px"?n.srcElement.classList.add(h):n.srcElement.classList.remove(h))});this._searchAppXYFocus.keyCodeMap.home.push(36);this._searchAppXYFocus.keyCodeMap.end.push(35)}return e.prototype.getXYFocusRoot=function(){return this._searchAppXYFocus.focusRoot},e.prototype.isL2Visible=function(){return this._isL2Visible},e.prototype.setIsL2Visible=function(n){this._isL2Visible=n},e.prototype.setXYFocusRoot=function(n){this._searchAppXYFocus.focusRoot=n},e.prototype.moveFocus=function(n,t){return this._searchAppXYFocus._xyFocus(n,t)},e.prototype.moveFocusToEdgeFocusableElement=function(n,t){var i,h;if(t===void 0&&(t=!1),this._targetWindow.focus(),t&&n==0)i=this.focusFirstSerpElement();else{var f=void 0,e=void 0,r=void 0,o=this._targetWindow.innerWidth,s=this._targetWindow.innerHeight;n==0?(f=-1,e=0,r=40):n==1&&(f=s,e=s+1,r=38);h={top:f,bottom:e,right:o,left:0,height:1,width:o};i=this._searchAppXYFocus._xyFocus(u[r],r,h)}return i&&(this.scrollTo(n),this.updateFocusedElementAndOutline(this._targetDocument.activeElement)),i},e.prototype.onSearchBoxFocusChanged=function(){this._targetDocument.hasFocus()?this.updateFocusedElementAndOutline(this._targetDocument.activeElement):this._useStickyFocus||t.setVisibility(this._focusDiv,!1)},e.prototype.isVisible=function(n){var t=_w.getComputedStyle(n);return!(t.visibility=="hidden"||t.display=="none"||n.offsetWidth===0&&n.offsetHeight===0)},e.prototype.moveFocusToLastFocusedElement=function(){return this._lastElementFocused&&this.isVisible(this._lastElementFocused)?(this._lastElementFocused.focus(),this.updateFocusedElementAndOutline(this._lastElementFocused),!0):this.moveFocusToEdgeFocusableElement(0,!0)},e.prototype.updateFocusedElementAndOutline=function(i){var r=this,u;i&&i!=this._targetDocument.body&&(this.processFocusedElement(i),u=this._lastElementFocused&&i.elementType&&i.elementType==this._lastElementFocused.elementType&&i.parentElement==this._lastElementFocused.parentElement?nt:0,u?(t.setVisibility(this._focusDiv,!1),this._focusOutlineTimeout=n.safeSetTimeout(function(){r._targetDocument.activeElement==i&&r.outlineElementAndScrollIntoView(i);r.clearFocusOutlineTimeout()},u,"updateFocusedElementAndOutline")):this.outlineElementAndScrollIntoView(i),this._lastElementFocused=i)},e.prototype.outlineElementAndScrollIntoView=function(n){var u,o,s;if(n!=this._targetDocument.body&&(this._useStickyFocus||this._targetDocument.hasFocus())){var i=n.getBoundingClientRect(),y=this._targetDocument.documentElement.scrollWidth-r*2,p=this._targetDocument.documentElement.scrollHeight-r*2,h=i.top+this._targetWindow.pageYOffset,e=i.left+this._targetWindow.pageXOffset,w=y-e,b=p-h,c=e<0?Math.floor(i.width+e-r):i.width;if(c<=0){t.setVisibility(this._focusDiv,!1);return}if(u=i.height,u<=0&&n.children.length>0)for(o=0;o<n.children.length;o++)s=n.children[o].getBoundingClientRect(),s.height>u&&(u=s.height,h=s.top);this._focusDiv.style.top=Math.max(r,h)+"px";this._focusDiv.style.left=Math.max(this.isL2Visible?r:r*4,e)+"px";this._focusDiv.style.width=Math.min(w,c)+"px";this._focusDiv.style.height=Math.min(b,u)+"px";t.setVisibility(this._focusDiv,!0);var l=n.getBoundingClientRect(),a=this._scrollArea.offsetHeight+this._scrollArea.scrollTop-l.bottom-f,v=l.top-this._scrollArea.scrollTop-f;a<0?this._scrollArea.scrollTop+=f-a:v<0&&(this._scrollArea.scrollTop+=v-f)}},e.prototype.scrollTo=function(n){var t=0;n==1&&(t=this._scrollArea.scrollHeight);this._scrollArea.scrollTop=t},e.prototype.processFocusedElement=function(n){var r=this,u,e,o,c,f,s,h;n.isProcessed||(u=n.tagName.toLocaleLowerCase(),e=n.getAttribute("type"),u=="select"&&(sj_be(n,"keydown",function(t){t.keyCode==32?n.classList.add(i):t.keyCode==13&&n.classList.remove(i)},!0),this.reactivateXYFocusOnBlur(n)),u=="input"&&e=="range"&&(sj_be(n,"keydown",function(t){var r=t.target,f=+r.getAttribute("min"),e=+r.getAttribute("step"),u=t.keyCode==37,o=t.keyCode==39,s=+r.value-e<f&&u;t.keyCode==38||t.keyCode==40||s?n.classList.remove(i):(u||o)&&n.classList.add(i)},!0),this.reactivateXYFocusOnBlur(n)),o=function(t,r){var u;if(!r.readOnly){if(u=r.selectionStart!=r.selectionEnd,u){n.classList.add(i);return}var f=r.selectionEnd==0,e=r.selectionEnd==r.value.length,o=t.keyCode==36&&!f,s=t.keyCode==35&&!e,h=t.keyCode==37&&!f,c=t.keyCode==39&&!e;h||c||o||s?n.classList.add(i):n.classList.remove(i)}},u=="textarea"&&(sj_be(n,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(n)),u=="input"&&(e=="number"||e=="text")&&(sj_be(n,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(n)),k.some(function(t){return n.classList.contains(t)})?(n.elementType="slide",c=Array.prototype.slice.call(n.querySelectorAll("a:not([onclick='TestHooks.HideShowTestHooks(this);']):not([disabled])"),0),f=c.filter(function(n){return r.isVisible(n)&&n.offsetHeight>0&&n.offsetWidth>0}),f&&sj_be(n,"keydown",function(t){var i=r.countUniqueHrefs(f),u=t.keyCode;t.srcElement==n&&(i>1&&u==40?(t.preventDefault(),r._searchAppXYFocus.focusRoot=n,f[0].focus()):i==1&&u==13&&f[0].click())})):d.some(function(t){return n.hasAttribute(t)})?(n.elementType="expansion",s=function(){t.setVisibility(r._focusDiv,!1);r.updateFocusedElementAndOutline(r._targetDocument.activeElement)},sj_be(n,"keyup",function(n){n.keyCode==13&&s()},!0),sj_be(n,"click",function(){s()})):n.classList.contains(g)&&(h=function(){var t=r._targetDocument.getElementById("vidPreStopButton"),i,u;t&&t.focus();i=function(){n.focus()};sj_be(t,"click",i);sj_be(t,"keydown",function(n){n=sj_ev(n);n.keyCode===13&&i()});u=r._targetDocument.getElementsByTagName("video")[0];sj_be(u,"ended",i)},sj_be(n,"keydown",function(n){n.keyCode==13&&h()},!0),sj_be(n,"click",function(){h()})),n.classList.add(b),n.isProcessed=!0)},e.prototype.countUniqueHrefs=function(n){var r={},t,i;if(n)for(t=0;t<n.length;t++)i=n[t],i&&(r[i.href]=!0);return Object.keys(r).length},e.prototype.reactivateXYFocusOnBlur=function(n){sj_be(n,"blur",function(){n.classList.remove(i)})},e.prototype.focusFirstSerpElement=function(){var n,i,t,r;switch(this._verticalType){case 1:n=this._targetDocument.getElementById("b_content");break;case 2:n=this._targetDocument.getElementById("images");break;case 3:n=this._targetDocument.getElementById("video");break;default:throw Error("Unknown vertical type "+this._verticalType);}if(n)for(i=n.querySelectorAll('a:not([onclick=\'TestHooks.HideShowTestHooks(this);\']):not([disabled]):not([tabindex="-1"]), button:not([disabled]), input[type=text]:not([disabled]), input[type=submit]:not([disabled]), textarea:not([disabled]), select:not([disabled]):not(#tta_sl):not(#tta_srcsl), [tabindex]:not([disabled]):not([tabindex="-1"]):not(#tta_playiconsrc)'),t=0;t<i.length;t++)if(r=i[t],this.isVisible(r))return r.focus(),!0;return!1},e.prototype.clearFocusOutlineTimeout=function(){sb_ct(this._focusOutlineTimeout);this._focusOutlineTimeout=null},e}();t.WSBMiniSerpFocusHelper=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function i(n){switch(n){case"arrowRight":case"button":case"submit":return 1;case"autoContent":case"keepOpen":case"alwaysWide":case"arrowUpOrDown":return 0}throw new Error("Unknown open type: "+n);}var r=function(){function r(n,t,i,r,u,f,e,o){var s=this;this._page=n;this._host=t;this._instrumentationHelper=i;this._ariaLogger=r;this._sequenceNumberManager=u;this._miniSerpViewModel=f;this._localPreviewPaneViewModel=e;this._msbPreviewPaneViewModel=o;this._previewPaneId=0;this._beforeItemLaunchEventHandlers=[];this._afterItemLaunchEventHandlers=[];var h=function(n,t,i,r,u){s._clickLoggedForCurrentPreviewPane||s._beforeItemLaunchEventHandlers.forEach(function(f){return f(n,s._previewedSuggestion,t,i,r,u)})},c=function(n){s._clickLoggedForCurrentPreviewPane||(s._afterItemLaunchEventHandlers.forEach(function(t){return t(s._previewedSuggestion,s._queryForPreviewedSuggestion,n)}),s._clickLoggedForCurrentPreviewPane=!0)},l=function(n){s._previewPaneResponseReceivedTimeStamp=n;s._miniSerpViewModel.stopLoadingScreen()};this._previewPaneViewModelParent={focusPending:!1,onBeforeItemLaunch:h,onAfterItemLaunch:c,startLoadingScreen:function(){return s._miniSerpViewModel.startLoadingScreen()},onResponseReceived:l};this._miniSerpViewModel.init(this._previewPaneViewModelParent);this._localPreviewPaneViewModel&&this._localPreviewPaneViewModel.init(this._previewPaneViewModelParent);this._msbPreviewPaneViewModel&&this._msbPreviewPaneViewModel.init(this._previewPaneViewModelParent);SearchAppWrapper.CortanaApp.addEventListener("resettingtodefaultsize",function(){return s.dismiss()});t.bindKeyDown(function(){s._previewPaneViewModelParent.focusPending=!1});t.bindSearchBoxGotFocus(function(){return s._previewPaneViewModelParent.focusPending=!1});t.bindQueryChangedOrInitialized(function(n){return s._currentQuery=n},!0);t.bindAccountChanged(function(){s._miniSerpMustRefresh=!0});i.bindFinalizeKeystroke(function(n){s._activePreviewPaneViewModel&&n&&s._activePreviewPaneViewModel.finalizeKeystroke()})}return r.prototype.init=function(n){this._selectionHandler=n},r.prototype.getSelectableItems=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItems():[]},r.prototype.getSelectableItemsByGroup=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItemsByGroup():[]},r.prototype.getSelectedItem=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectedItem():null},r.prototype.select=function(n,t){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.select(n,t)},r.prototype.onAfterKeyDown=function(n,t,i,r){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.onAfterKeyDown(n,t,i,r):!1},r.prototype.getPreviewedSuggestion=function(){return this._previewedSuggestion},r.prototype.getPreviewedSuggestionToForceTopHit=function(){return this._forceTopHitForPreviewedSuggestion&&!this._closeTimer?this._previewedSuggestion:null},r.prototype.showPreview=function(r,u,f,e,o){var s=this;if(f===void 0&&(f="button"),e===void 0&&(e=!1),o===void 0&&(o=0),this._previewPaneOpenedForThisQuery=!0,this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer(),this.clearCloseTimer(),u!=this._previewedSuggestion||e){t.RuntimeConfig.AlwaysWide||this._page.setPreviewPaneVisibility(!0);var a=++this._previewPaneId,c=!0,h=!1,l=n.getCurrentTime(),v=function(t,r,e){var p,v,y;if(t||!r){if(r||(s._ariaLogger&&u&&(p=n.getCurrentDate().getTime()-l,s._ariaLogger.logPreviewPaneRenderLatency(u.type,p)),c=!1),!h){if(v={ppId:""+a,openType:f,suggestion:u?u.instItem.getLayoutKValue():undefined,suggestionType:u?u.type:undefined,startOpening:""+l,openDelay:o?""+o:undefined},e)for(y in e)v[y]=e[y];v.waitingForMore=c?"true":undefined;s._instrumentationHelper.previewPaneOpenedOrClosed(!0,s._sequenceNumberManager.getSequenceNumber(),u?u.instItem:undefined,u?u.previewPaneType:undefined,i(f)==0,v)}h=!0;t&&(h=!1,f="keepOpen")}};this.setPreviewPaneContent(r,u,i(f),this._previewPaneId,v)}f!="button"&&this._selectionHandler.updateSelectionState(u)},r.prototype.showPreviewAndFocus=function(n,t,i){i===void 0&&(i="submit");(this._closeTimer||this._previewedSuggestion!=t)&&this.showPreview(n,t,i);this._activePreviewPaneViewModel.focus(!1);this._forceTopHitForPreviewedSuggestion=!0},r.prototype.focus=function(n){return this._activePreviewPaneViewModel?(this._activePreviewPaneViewModel.focus(n),!0):!1},r.prototype.blur=function(){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.blur()},r.prototype.dismiss=function(){this.close(!0)},r.prototype.close=function(i){var u=this,r;this.clearOpenTimer();r=i?0:t.config.closePreviewPaneDelay;r?this._closeTimer||(this._closeTimer=n.safeSetTimeout(function(){u._closeTimer=null;u.innerClose(i)},r,"ppCloseTimer")):(this.clearCloseTimer(),this.innerClose(i))},r.prototype.innerClose=function(i){var r,u;this._previewedSuggestion&&(r=!0,i&&(this._clickLoggedForCurrentPreviewPane?r=!1:this._previewPaneResponseReceivedTimeStamp&&n.getCurrentTime()>this._previewPaneResponseReceivedTimeStamp+1e3&&(r=!1)),r&&(u=i?{fromQFDismiss:"1"}:undefined,this._instrumentationHelper.previewPaneOpenedOrClosed(!1,this._sequenceNumberManager.getSequenceNumber(),this._previewedSuggestion.instItem,this._previewedSuggestion.previewPaneType,undefined,u)),t.RuntimeConfig.AlwaysWide||i||this._page.setPreviewPaneVisibility(!1),this._miniSerpViewModel.stopLoadingScreen(),this.clear())},r.prototype.clear=function(){this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!1,this._selectionHandler.updateSelectionState(this._previewedSuggestion),this._previewedSuggestion=null);this._queryForPreviewedSuggestion=null;this._previewPaneResponseReceivedTimeStamp=null;this._forceTopHitForPreviewedSuggestion=!1;this._clickLoggedForCurrentPreviewPane=!1;this._activePreviewPaneViewModel&&(this._activePreviewPaneViewModel.clear(),this._activePreviewPaneViewModel=null);this._previewPaneViewModelParent.focusPending=!1},r.prototype.onQueryChanged=function(n){var i,r;if((this._previewPaneOpenedForThisQuery=!1,i=this._queryForPendingPreviewedSuggestion||this._queryForPreviewedSuggestion,this._queryIsContinuationOfPreviousQuery=i&&n.queryToFetch.toLocaleLowerCase().startsWith(i.queryToFetch.toLocaleLowerCase()),i&&n.queryToFetch.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase())&&(r=this._pendingPreviewedSuggestion&&this._pendingPreviewedSuggestion.updateFromQuery?this._pendingPreviewedSuggestion:this._previewedSuggestion&&!this._closeTimer&&this._previewedSuggestion.updateFromQuery?this._previewedSuggestion:null,r)){if(t.RuntimeConfig.AlwaysWide){this.autoOpen(n,r,"alwaysWide",!0);return}this._queryIsContinuationOfPreviousQuery?(this._forceTopHitForPreviewedSuggestion=!1,this.autoOpen(n,r,"keepOpen",!0)):this.close(!1)}},r.prototype.clearSuggOpeningState=function(n){n&&(n.isPreviewPaneOpening=!1,this._selectionHandler.updateSelectionState(n))},r.prototype.clearOpenTimer=function(){this._openTimer&&(sb_ct(this._openTimer),this._openTimer=null,this._pendingPreviewedSuggestion=null,this._queryForPendingPreviewedSuggestion=null,this._miniSerpViewModel.stopLoadingScreen())},r.prototype.clearCloseTimer=function(){this._closeTimer&&(sb_ct(this._closeTimer),this._closeTimer=null)},r.prototype.onTopHitUpdated=function(i,r,u,f){if(u){if(!this._closeTimer&&(this._openTimer&&this._pendingPreviewedSuggestion!=u&&this.clearOpenTimer(),!this._miniSerpMustRefresh||u.previewPaneType!=1)){if(this._pendingPreviewedSuggestion&&t.isEquivalentForPreviewPanePurposes(i,this._pendingPreviewedSuggestion,u)){this._pendingPreviewedSuggestion=u;this._queryForPendingPreviewedSuggestion=i;u.hasPreviewPaneOpened=!0;this._selectionHandler.updateSelectionState(u);return}if(this._previewedSuggestion&&t.isEquivalentForPreviewPanePurposes(i,this._previewedSuggestion,u)){n.contains(f,r)||(this._previewedSuggestion=u,this._queryForPreviewedSuggestion=i,u.hasPreviewPaneOpened=!0,this._selectionHandler.updateSelectionState(u),this.refreshLocalContent(i,u));return}}if(this._miniSerpMustRefresh=!1,this._forceTopHitForPreviewedSuggestion=!1,u.previewPaneType){if(t.RuntimeConfig.AlwaysWide){this.autoOpen(i,u,"alwaysWide",!1);return}if(u==f[0]&&!this._previewPaneOpenedForThisQuery){if(u.autoOpenPreviewPaneWhenOnTopHit){this.autoOpen(i,u,"autoContent",!1);return}if(this._previewedSuggestion&&this._queryIsContinuationOfPreviousQuery){this.autoOpen(i,u,"keepOpen",!1);return}}}}this._openTimer&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer());this._previewedSuggestion&&this.close(!1)},r.prototype.getDelayForMiniSerp=function(n,i){var r=t.getTweakedSetting("preventAutomaticMiniSerp");switch(n){case"keepOpen":case"alwaysWide":return r?Number.MAX_VALUE:t.config.probabilityNextKeyStrokeEnabled&&i.featureStore&&i.featureStore[264]!==undefined?this.calculateDelayForProbabilitySignal(i.featureStore[264]):t.RuntimeConfig.AlwaysWide?i.isAnswer?0:t.config.autoOpenMiniSerpDelay:t.config.keepMiniSerpOpenDelay;case"arrowUpOrDown":return r?Number.MAX_VALUE:t.config.openOnKeybNavMiniSerpDelay}return 0},r.prototype.calculateDelayForProbabilitySignal=function(n){for(var i=t.config.probabilityNextKeyStrokeThresholds.length-1;i>=0;i--)if(n>=t.config.probabilityNextKeyStrokeThresholds[i])return t.config.probabilityNextKeyStrokeDelays[i];return 0},r.prototype.autoOpen=function(i,r,u,f){var e=this,s=t.shouldOpenMiniSerp(r),o=s&&!t.config.enableForceLoad?this.getDelayForMiniSerp(u,r):0;o?(u=="arrowUpOrDown"&&(this.clear(),this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion)),r.isPreviewPaneOpening=!0,this._selectionHandler.updateSelectionState(r),this.clearOpenTimer(),this.clearCloseTimer(),this._pendingPreviewedSuggestion=r,this._queryForPendingPreviewedSuggestion=i,this._openTimer=o==Number.MAX_VALUE?Number.MAX_VALUE:n.safeSetTimeout(function(){e._openTimer=null;r=e._pendingPreviewedSuggestion;e._pendingPreviewedSuggestion=null;e._queryForPendingPreviewedSuggestion=null;e.showPreview(i,r,u,f,o)},o,"ppOpenTimer"),s&&this._miniSerpViewModel.startLoadingScreen()):this.showPreview(i,r,u,f)},r.prototype.onAfterKeyDownWhenNewSelection=function(i,r,u){var e=t.RuntimeConfig.AlwaysWide&&t.config.openOnKeybNavMiniSerp,f;if(t.isGroup(u)){e&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion),this.clear(),this.clearOpenTimer(),this.clearCloseTimer(),this._miniSerpViewModel.stopLoadingScreen());return}f=u;f.previewPaneType&&(e&&(i==40||i==38)?this._previewedSuggestion!=f&&this.autoOpen(r,f,"arrowUpOrDown",!1):i==t.getRtlAdjustedKey(39)&&this._currentQuery.originalCursorPosition==this._currentQuery.originalQuery.length&&this._host.searchBoxHasFocus()?f.handoffType==999?f.click(n.getCurrentTime(),1):this.showPreviewAndFocus(r,f,"arrowRight"):i==t.getRtlAdjustedKey(37)&&this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.hasFocus()&&this._activePreviewPaneViewModel.readyToBlur()&&this._host.setFocusInSearchBox(i,"previewPaneUnfocus"))},r.prototype.refreshLocalContent=function(n,t){t.previewPaneType==2?this._localPreviewPaneViewModel.update(t,n,0,this._previewPaneId,null,!0):t.previewPaneType===3&&this._msbPreviewPaneViewModel.update(t,n,0,this._previewPaneId,null,!0)},r.prototype.setPreviewPaneContent=function(n,i,r,u,f){var e=this;this.clear();this._previewedSuggestion=i;this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!0,this._previewedSuggestion.isPreviewPaneOpening=!1);this._previewPaneResponseReceivedTimeStamp=null;this._queryForPreviewedSuggestion=n;i.previewPaneType==3&&this._msbPreviewPaneViewModel!=null?(this._miniSerpViewModel&&this._miniSerpViewModel.stopLoadingScreen(),this._activePreviewPaneViewModel=this._msbPreviewPaneViewModel,this._msbPreviewPaneViewModel.update(i,n,r,u,f)):i.previewPaneType!=2&&(t.shouldOpenMiniSerp(i)||i.previewPaneType!=1)?t.config.enableForceLoad?(this._activePreviewPaneViewModel=this._miniSerpViewModel,this._miniSerpViewModel.showForceLoad(i.query,function(){e._miniSerpViewModel.update(i,n,r,u,f)})):(this._localPreviewPaneViewModel&&this._localPreviewPaneViewModel.clear(),this._msbPreviewPaneViewModel&&this._msbPreviewPaneViewModel.clear(),this._miniSerpViewModel.startLoadingScreen(),this._activePreviewPaneViewModel=this._miniSerpViewModel,this._miniSerpViewModel.update(i,n,r,u,f)):(this._miniSerpViewModel&&this._miniSerpViewModel.stopLoadingScreen(),this._activePreviewPaneViewModel=this._localPreviewPaneViewModel,this._localPreviewPaneViewModel.update(i,n,r,u,f))},r.prototype.bindBeforeItemLaunch=function(n){this._beforeItemLaunchEventHandlers.push(n)},r.prototype.bindAfterItemLaunch=function(n){this._afterItemLaunchEventHandlers.push(n)},r.prototype.hasFocus=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.hasFocus():!1},r.prototype.isOpened=function(){return!!this._previewedSuggestion},r}();t.PreviewPane=r})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,o=21600,s="/account/permissions/sso?",f="/agents/oauth?",r="Office365",u="Outlook",e="0a0a29f9-0a25-49c7-94bf-c53c3f8fa69d",h="fc1b2093-3a41-4edb-86db-cdaa2832d4e8",c="api://fc1b2093-3a41-4edb-86db-cdaa2832d4e8/CortanaConnect",l="6df4d00742ec458795c9588001737872-fbbe95f5-f25d-4197-9d6f-7c3eb54c745f-6908",a=function(){function a(i){var r=this;this._triggerSSO=!0;t.WebTelemetry&&t.WebTelemetry.init(l);sj_be(_w,"load",function(){r.launchSSO()});a._latestSSOTimestamp||(a._latestSSOTimestamp=n.getCurrentTime());i.bindAppHidden(function(){r.launchPeriodicalSSO()})}return a.prototype.launchPeriodicalSSO=function(){var t=(n.getCurrentTime()-a._latestSSOTimestamp)/1e3;t>=o&&(this._triggerSSO=!0,this.launchSSO(),a._latestSSOTimestamp=n.getCurrentTime())},a.prototype.launchSSO=function(){var f=this,e=function(){var e=i.isCortanaEnabled?n.safeExecute(function(){return i.getCortanaCapabilities()},"getCortanaCapabilities","").split(","):[],o=n.contains(e,"Personalization");i.currentState==0&&f._triggerSSO&&o&&(f._triggerSSO=!1,t.config.wamSupported?t.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return i.authenticationManager.enumerateAccountAuthorityAsync()},function(n){var o,i,e;t.config.enableSSOV2?(o=n.Cortana=="consumers"?u:r,f.silentSignIn(o)):(i=n.Windows,e=n.Cortana,t.WebTelemetry&&t.WebTelemetry.logSignInAccountEvent(i,e),i=="organizations"?f.silentSignIn(r):i=="consumers"&&e=="consumers"&&f.silentSignIn(u))}):t.Promise.safeChain("getQueryHeadersAsync",function(){return i.getQueryHeadersAsync()},function(n){n&&(f.silentSignIn(r),n["X-Search-RPSToken"]&&f.silentSignIn(u))}))};n.isBrowserOnline()?e():sj_be(_w,"online",function(){e()})},a.prototype.silentSignIn=function(o){var v=this,l=s+"campaign_source=WSB&provider="+o,a;t.config.th&&(l=ClientTestHooks.CopyTestParameters(_w.location.search,l));a=function(s){var a,y,l;t.WebTelemetry&&t.WebTelemetry.logShouldSSOEvent(o,s?!0:!1);s&&(a=o==u,y=function(n){var i=n&&!n.IsError;t.WebTelemetry&&t.WebTelemetry.logAuthCompleteEvent(o,o==r&&t.config.wamSupported?"assertion":"code",i)},n.isBrowserOnline()&&i.currentState==0&&(t.config.wamSupported&&(o==r||t.config.enableSSOV2)?(l=i.authenticationManager.createAuthenticateRequest(),t.config.enableSSOV2?(l.accountType="Cortana",l.resource=a?h:e,a&&(l.scope=c)):(l.accountType="Windows",l.resource=e),t.Promise.safeChain("authenticateAsyncOBO",function(){return i.authenticationManager.authenticateAsync(l)},function(i){var r=i&&i.token,u,e;t.WebTelemetry&&(u=r?0..toString():i&&i.status!=0?i.status.toString():"-1",t.WebTelemetry.logClientAuthEvent(o,"WAM",u));r&&(e=f+"provider="+o+"&campaign_source=WSB&assertion="+i.token,n.fetchUrlJson(e,{},null,y))})):v.refreshOAuthToken(o,s.AuthUrl,s.CallbackUrl,s.Options||1,y)))};n.fetchUrlJson(l,{},null,a)},a.prototype.refreshOAuthToken=function(r,u,e,o,s){t.Promise.safeChain("authenticateAsyncSSO",function(){return i.authenticateAsync(o,u,e)},function(i){if(t.WebTelemetry&&t.WebTelemetry.logClientAuthEvent(r,"WAB",i?0..toString():"-1"),i){var u=i.split("?")[1],e=f+u;n.fetchUrlJson(e,{},null,s)}})},a}();t.ProactiveSSO=a})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.fetchUrl=function(i,r,u,f,e,o){var h=this,s;if(n.isBrowserOnline()){var v=u?1:0,c=SearchAppWrapper.CortanaApp,l=c.createStringMap(),a=c.createStringMap();if(r)for(s in r)s.toLowerCase().startsWith("content")?a[s]=r[s]:l[s]=r[s];t.Promise.safeChain("makeHttpRequestAsync",function(){return c.makeHttpRequestAsync(v,i,l,u,a)},function(i){o()&&(i.statusCode===200?t.Promise.safeChain("readResponse",function(){return i.readAsStringAsync()},function(i){if(o()){t.config.th&&i&&(i=i.replace(new RegExp("<!--[^]*?-->","gm"),""));var r=i?n.safeExecute(function(){return JSON.parse(i)},"parseCortanaHttpResponse",null,null):null;r!=null?f(h._dataSource,r,null):f(h._dataSource,null,null)}},function(){return f(h._dataSource,null,null)},e):f(h._dataSource,null,i.statusCode.toString()))},function(){return f(h._dataSource,null,null)},e)}else f(this._dataSource,null,null,null,!0)},r}(n.JsonDataProvider);t.CortanaJsonDataProvider=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i="LSQS",u=function(){function t(n){this._host=n}return t.prototype.getName=function(){return"LockscreenQuickSearchDataProvider"},t.prototype.fetch=function(t,r){if(t.enabledDataSources[i]){var u={};n.isMiniSerpEnabled()&&(u.quickAnswers=[{label:this._host.getLocString("Weather"),icon:{type:2,content:"&#xE9C0"},query:this._host.getLocString("WeatherQuery")},{label:this._host.getLocString("News"),icon:{type:2,content:"&#xE900"},query:this._host.getLocString("News")},{label:this._host.getLocString("ThisDayInHistory"),icon:{type:2,content:"&#xE823"},query:this._host.getLocString("ThisDayInHistory")},{label:this._host.getLocString("NewMovies"),icon:{type:2,content:"&#xE8B2"},query:this._host.getLocString("NewMovies")}]);r(i,u,undefined)}},t}(),r;t.LockscreenQuickSearchDataProvider=u;r=function(){function i(n){this._host=n}return i.prototype.parse=function(i,r,u,f,e,o){var c=this,l=[],a="LSQS",v,s,h,y;if(f)for(v=function(f){var e=n.WSB.createSuggestion(i,f.label,null,f.icon,a,f.query,n.InstrumentedItem.createInstrumentedItem(r,a),999,r,t.localDataSourceMayContainPII(u));e.click=function(){c._host.reformulate(f.query);c._host.setFocusInSearchBox(null,"Quick answer clicked")};l.push(e)},s=0,h=f.quickAnswers;s<h.length;s++)y=h[s],v(y);o(u,l,undefined)},i}();t.LockscreenQuickSearchParser=r})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}))
]?$","i"),wt=/((^[\\]{2}).+)|(^[a-z]:\\.*)/i,f=/^([a-z0-9\-]+):/i,bt=/\s/,g=/\s+/g,kt=/\s+\/(?!\/)/g,dt=/([^\/]|^)\/(?!\/)/,nt,et;n.WebSearchPaths=["/search","/entityexplore"];nt=[33,39,40,41,42,91,93];n.tryParseUrl=u;n.getQueryStringParam=ri;var ui=/file:\/\/\/[^:\/]+:\/[^\/]+\/[^\/]+\/AppData\//i,fi=["ms-appx:","ms-appx-web:","ms-browser-extension:",],ei="microsoft.microsoftedge_8wekyb3d8bbwe";n.isJunkUrl=oi;n.computeUrlMatchLengths=si;n.isUncOrLocalPath=ai;n.startsWithProtocol=tt;n.startsWithWww=vi;n.isHttpProtocol=h;n.isNonHttpProtocol=yi;n.cleanAndFixUrlProtocol=pi;n.cleanAndFixUncOrLocalPath=wi;n.parsedUrlToString=c;var rt=/^ht+ps:\/*(.*)/i,ut=/^ht+p:\/*(.*)/i,ft=/^\/{2,}(.*)/,l=/^www\.(.*)/i,ki=/^(.*[^:\/])\/+$/;n.normalizeUrl=i;n.hasWww=di;n.getProtocol=e;n.prettyPrintUrl=gi;n.isDuplicateUrl=tr;et=["bing","staging-bing-int","working-bing-int","bing-int","bing-exp"];n.tryGetBingPathLC=ot;n.isBingHost=st;n.isBingSearchUrl=ir;n.getDomain=rr;n.isEmptyUrlPrefix=ur;n.queryLooksLikeUrl=fr;n.buildBfbSearchUrl=er}(AutoSuggest||(AutoSuggest={})),function(n){var t,i;(function(n){function t(t,i,r,u,f,e){var o={T:n.QFPERFPING_EVENT_NAME,ST:r,CVID:u,OFFSETS:i,STATE:f,V:n.QFPERFPING_VERSION,RFC:e};return{ImpressionGuid:t,EventType:n.CLIENTINST_EVENT_TYPE,Data:o}}n.CLIENTINST_EVENT_TYPE="ClientInst";n.QFPERFPING_EVENT_NAME="QFPerfPing";n.CLICK_EVENT_TYPE="Click";n.QFPERFPING_VERSION="2";n.QFPERFPING_INVALID_MEASURE=-2;n.INVALID_SEQUENCE_NUMBER=-2;n.KVALUE_SUGGESTIONS_START=1e3;n.KVALUE_SUFFIX_START=1;n.KVALUE_NON_SUGGESTIONS_START=100;n.DEFAULT_APP_NAMESPACE="SmartSearch";n.DEFAULT_SERVICE_NAME="AutoSuggest";n.createPerfPingEvent=t})(t=n.InstrumentationCommon||(n.InstrumentationCommon={}));i=function(){function n(n,t,i){this._kValue=n;this._qsCode=t;this._handOffType=i}return n.createInstrumentedItem=function(t,i){return new n(n.generateKValue(t),i)},n.createInstrumentedItemNoHandoff=function(t,i){return new n(n.generateKValue(t),i,999)},n.getNonSuggestionInstrumentedItem=function(t,i,r){return new n(i[t],t,r)},n.prototype.getKValue=function(){return this._kValue},n.prototype.getAppNS=function(){return n.AppNS},n.prototype.getLayoutKValue=function(){return this._kValue+"."+n.Suffix},n.prototype.getHValue=function(){return"ID="+n.AppNS+","+this.getLayoutKValue()},n.prototype.getHandoffType=function(){return this._handOffType},n.prototype.getQsCode=function(){return this._qsCode},n.resetKValues=function(n){delete this._keystrokesKValues[n]},n.generateKValue=function(n){var r=n,i=this._keystrokesKValues[r];return i>0||(i=t.KVALUE_SUGGESTIONS_START),this._keystrokesKValues[r]=++i,i},n.AppNS=t.DEFAULT_APP_NAMESPACE,n.Suffix=t.KVALUE_SUFFIX_START,n._keystrokesKValues={},n}();n.InstrumentedItem=i}(AutoSuggest||(AutoSuggest={})),function(n){function pt(){return matchMedia("screen and (-ms-high-contrast)").matches}function wt(){return navigator.onLine}function bt(n){return!n.isAnswer&&(n.handoffType==0||n.handoffType==11)}function v(n){return n?n.replace(st,"$1").replace(ht,"$1 "):n}function kt(n){return n?n.replace(/[-{}]/g,"").toLowerCase():null}function dt(n){return!n||Object.keys(n).length===0}function gt(n){return n.canFail}function y(n,t,i,r){var u,e;n&&(n=n.slice(0,t)+f+n.slice(t,n.length));u=i(n);u&&(e=u.indexOf(f),t=e!=-1?e:t,u=u.replace(f,""));r(u,t)}function ni(n){if(!n)return SharedLogHelper.LogError("getInputType",null,new Error("event object is missing")),0;switch(n.pointerType){case"mouse":return 2;case"touch":return 3;case"pen":return 4;default:return 1}}function o(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];i.forEach(function(t){return delete n.enabledDataSources[t]})}function ti(i){return i&&n.config.bingFetchEnabledRegionsList&&n.config.bingFetchEnabledRegionsList.length>0&&!t(n.config.bingFetchEnabledRegionsList,i.toLowerCase())}function ii(i){return i&&n.config.miniSerpEnabledRegionsList&&n.config.miniSerpEnabledRegionsList.length>0&&!t(n.config.miniSerpEnabledRegionsList,i.toLowerCase())}function ri(t){var i=t.queryToFetch&&t.queryToFetch.length<n.config.minQueryLengthForWebProvider;return i&&(o(t,n.WebDataSource),o(t,n.WebRankingSignalDataSource)),i}function p(t){if(t){t=n.normalizeUrl(t,15);for(var i=1;i<t.length-1;++i)if(lt.includes(t[i]))return!0}return!1}function ui(t,i,r){var u,f;return r||(r=0),y(t,i,function(n){return v(n)},function(n,t){u=n;f=t}),u&&(n.config&&n.config.doNotRemoveSpaceAfterIn&&u.toLocaleLowerCase().endsWith(" in ")||(u=u.trim()),f=Math.min(f,u.length)),{originalQuery:t,originalCursorPosition:i,queryToFetch:u,cursorPosition:f,enabledDataSources:{},equals:function(n){return(u?u.toLowerCase():u)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&r==n.topHitRestriction},isMultiWord:p(u),getCacheKey:function(){return u},topHitRestriction:r}}function w(i,r){return r&&!r.enabledDataSources[i]?!1:t(n.config.enabledDataSources,i)}function b(i,r,u,f){var e=f.enabledDataSources[i];return e?e.suggestionIsEnabled&&!e.suggestionIsEnabled(r,u)?!1:t(n.config.enabledDataSources,i):!1}function t(n,t){return n.indexOf(t)!=-1}function fi(n,t){var i=n.indexOf(t);return i!=-1?(n.splice(i,1),!0):!1}function ei(n,t){var i=n.findIndex(t);return i!=-1?n.splice(i,1)[0]:null}function oi(n,t,i){if(t<100)for(var r=n.length-1;n.length>t&&r>=0;--r)i(n[r])&&n.splice(r,1)}function si(n,i){return n.filter(function(n){return!t(i,n)})}function hi(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;++i)if(n[i]!=t[i])return!1;return!0}function ci(n,t){if(n===t)return!0;if(!n||!t||Object.keys(n).length!=Object.keys(t).length)return!1;for(var i in n)if(n[i]!=t[i])return!1;return!0}function k(){return n.getCurrentDate().getTime()}function r(n){var t=Math.abs(Math.floor(n));return(t<10?"0":"")+t}function li(){var t=n.getCurrentDate(),i=-t.getTimezoneOffset(),u=i>=0?"+":"-";return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+"."+r(t.getMilliseconds())+u+r(i/60)+":"+r(i%60)}function ai(n,t){return n?n.replace(ct,function(n,i){return t[i]}):n}function vi(n){var t=n?n.number:null,i=n?n.name:null;return t==-2147023673||i=="Canceled"}function u(n,t,i,r,u,f){try{return n()}catch(e){return f||SharedLogHelper.LogError(t,r,e),u&&u(e),i}}function s(n,t,i,r,f,e){return sb_st(function(){return u(n,i,null,r,f,e)},t)}function yi(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];u(function(){return sj_evt.fire.apply(sj_evt,[n].concat(i))},n)}function pi(n,t){s(t,1,n)}function h(n,t){var i=[],r=!0,u=function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];r?i.push(u):t.apply(null,u)};n(u);r=!1;i.forEach(function(n){return t.apply(null,n)})}function wi(n,t){return c=n,e=c&&it()!="ms-appx-web:",l=e&&!ti(t),d=e&&!ii(t),l}function bi(n){return n?l:e}function ki(){return c}function di(){return d}function tr(n){return t(gi,n)}function ir(n){return t(tt,n)}function rr(n){return t(g,n)}function ur(n){return t(nt,n)}function fr(n){return t(nr,n)}function er(n,t){return n==121&&t||n==93}function or(n,t){return n==8||n==46||n==88&&t.ctrlKey}function it(){return _w.location.protocol}function sr(){return _w.location.host}function hr(){var n=_d.activeElement;return!n||n.id.endsWith("sb_form_q")?_d.body:n}function rt(t){return t&&+t!=n.WindowsApiDefaultDate&&!isNaN(t.getTime())&&t.getFullYear()!=1600}function ut(n){if(!rt(n))return null;var t=n.getTime(),i=k();return Math.abs(i-t)/yt}function cr(n){var t=ut(n);return t!==null&&t>14}function lr(n){return n==="i"?13:n==="v"?14:0}function ar(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")}var f=String.fromCharCode(57346),st=new RegExp("^\\s*("+f+")?\\s*"),ht=new RegExp("\\s*("+f+")?\\s+","g"),ct=/{([0-9]+)}/g,lt=" -_/\\",at=-2147215328,vt=-2147023673,yt=864e5,i,a,ft,et,ot;n.DebugSourceName="AutoSuggest";SharedLogHelper.RegisterErrorFilter(function(n){var t=n?n.number:null,i=n?n.name:null;return t===vt||t===at||i==="Canceled"});n.isHighContrastEnabled=pt;n.isBrowserOnline=wt;n.isWebSuggestion=bt;n.cleanQuery=v;n.cleanGuid=kt;n.isEmpty=dt;n.canIconFail=gt;n.mantainCursorPositionIn=y;n.getInputType=ni;n.disableDataSources=o;n.disableWebDataSourceIfNeeded=ri;n.isMultiWord=p;n.parseQuery=ui;n.isDataSourceEnabled=w;n.isSuggestionTypeEnabled=b;n.contains=t;n.tryRemove=fi;n.removeFirstWhere=ei;n.trimList=oi;n.except=si;n.sequenceEqual=hi;n.objEquals=ci;n.log=function(){};n.getCurrentDate=function(){return new Date};_w.ClientTestHooks&&(n.log=function(n,t){return ClientTestHooks.ClientLog("- "+n,t)},i=ClientTestHooks.getUrlValue("currentdate",null),i&&(i.includes("-")||i.length!=8||(i=i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2)),n.getCurrentDate=function(){return new Date(i)}));n.getCurrentTime=k;n.getDateWithTimezone=li;n.fetchWrapper=function(n,t,i){return i()};n.formatString=ai;n.isCancellation=vi;n.safeExecute=u;n.safeSetTimeout=s;n.safeFireEvent=yi;n.invokeAsynchronously=pi;n.ensureCallbackIsAsync=h;n.WebDataSource="Web";n.WebRankingSignalDataSource="WRS";n.MRUDataSource="MRU";var c=!0,e=!0,l=!0,d=!0;n.refreshBingEnabledCache=wi;n.isBingEnabled=bi;n.isBingEnabledByClient=ki;n.isMiniSerpEnabled=di;var gi=[3,16,17,18,19,20,144,145,],g=[38,203,211,],nt=[40,204,212,],tt=g.concat(nt),nr=tt.concat(37,39,36,35);n.isFunctionalKey=tr;n.isUpOrDownKey=ir;n.isUpKey=rr;n.isDownKey=ur;n.isMovingCursorKey=fr;n.isContextMenuKey=er;n.isDeletionKey=or;n.getWindowProtocol=it;n.getWindowHost=sr;n.getCurrentActiveElement=hr;n.WindowsApiDefaultDate=-116444736e5;n.isValidDate=rt;n.getTimeDiffInDays=ut;n.olderThan2Weeks=cr;n.verticalToHandoffType=lr;a=function(){function n(){this._cancellations={};this._lastId=0}return n.prototype.register=function(n,t,i){var r=++this._lastId;return this._cancellations[r]={action:n,skipOnDismissAndLaunch:t,where:i},r},n.prototype.unregister=function(n){delete this._cancellations[n]},n.prototype.cancelAll=function(n){var t=function(t){var r=i._cancellations[t];r.skipOnDismissAndLaunch&&n||u(function(){return r.action()},r.where)},i=this;for(var r in this._cancellations)t(r);this._cancellations={}},n}();n.CancellationManager=a;ft=function(){function n(){}return n.prototype.getItem=function(n){try{return _w.localStorage?_w.localStorage.getItem(n):undefined}catch(t){return SharedLogHelper.LogError("localStorage",t,new Error("getItem")),undefined}},n.prototype.setItem=function(n,t){try{_w.localStorage&&_w.localStorage.setItem(n,t)}catch(i){SharedLogHelper.LogError("localStorage",i,new Error("setItem"))}},n.prototype.removeItem=function(n){try{return _w.localStorage.removeItem(n)}catch(t){SharedLogHelper.LogError("localStorage",t,new Error("removeItem"))}},n}();n.LightweightStorage=ft;et=function(){function n(){this._sequenceNumber=0}return n.prototype.getSequenceNumber=function(){return this._sequenceNumber},n.prototype.incrementSequenceNumber=function(){this._sequenceNumber++},n}();n.SequenceNumberManager=et;ot=function(){function t(t,i,r,u,f,e,o,s,h,c){var l=this;this._host=t;this._suggestionsParsers=i;this._rootViewModel=r;this._suggestionsRenderingManager=u;this._webProviders=f;this._otherProviders=e;this._instrumentationHelper=o;this._ariaLogger=s;this._sequenceNumberManager=h;this._latencyInstrumentation=c;n.config.cancellationEnabled&&(this._cancellationManager=new a);t.bindShown(function(){l._lastQuery=null;l._currentQuery=null;l._isPaneDismissed=!1});t.bindDismissed(function(){l.clearFetchTimer();l.finishPreviousQuery(!0);l.finalizeKeystroke(!0);l._isPaneDismissed=!0;l._rootViewModel.onDismiss()});t.bindQueryChangedOrInitialized(function(t,i){return l.onQueryChanged(t,n.config.d,i)});t.bindOnSubmit(function(n,t,i){return l.onSubmit(n,t,i)});t.initializeEvents();sj_be(_d.body,"dragstart",function(n){return n.preventDefault(),n.stopPropagation(),!1});sj_b.addEventListener("click",function(n){n.shiftKey&&sj_pd(n)})}return t.prototype.clearFetchTimer=function(){this._fetchTimer&&(sb_ct(this._fetchTimer),this._fetchTimer=null)},t.prototype.finishPreviousQuery=function(n){this.cancelPreviousQuery(n);this._suggestionsRenderingManager.resetTimers()},t.prototype.finalizeKeystroke=function(n){var t=this._sequenceNumberManager.getSequenceNumber();t>0&&this._instrumentationHelper.finalizeKeystrokeLog(t);n||this._sequenceNumberManager.incrementSequenceNumber()},t.prototype.onQueryChanged=function(n,t,i){var r=this,u;this.clearFetchTimer();this._currentQuery=n;this._lastQuery&&(!this._lastQuery.equals(this._currentQuery)||i)&&this.cancelPreviousQuery(!1);t<=0?this.fetchForQueryChange(0,!1,i):(u=Date.now(),this._fetchTimer=s(function(){r._fetchTimer=null;r.fetchForQueryChange(Date.now()-u,!1,i)},t,"fetchTimer"))},t.prototype.onSubmit=function(n,t,i){this._fetchTimer&&(this._currentQuery||(this._currentQuery=this._host.getQuery()),this.fetchForQueryChange(0,!0,!1));this._rootViewModel.submit(n,t,this._sequenceNumberManager.getSequenceNumber(),i,this._isPaneDismissed)},t.prototype.cancelPreviousQuery=function(n){this._cancellationManager&&this._cancellationManager.cancelAll(n)},t.prototype.fetchForQueryChange=function(t,i,r){var u=this,e,f,s;if(this.clearFetchTimer(),this._lastQuery&&this._lastQuery.equals(this._currentQuery)&&!r)this._rootViewModel.onQueryChanged(this._currentQuery,this._sequenceNumberManager.getSequenceNumber());else if(e=this._host.getQuery(),e.equals(this._currentQuery)){if(this.finishPreviousQuery(i),this.finalizeKeystroke(!1),this._lastQuery=this._currentQuery,f=this._sequenceNumberManager.getSequenceNumber(),this._instrumentationHelper.instrumentBeginRequest(f,this._currentQuery,t),s=!n.config.enabledDataSources.some(function(n){return w(n,u._currentQuery)}),s)this._rootViewModel.onQueryChanged(this._currentQuery,f);if(this._suggestionsRenderingManager.initiateSequenceNumber(f,this._currentQuery),!s){var o=function(){return!u._isPaneDismissed&&(n.config.d>0?e.equals(u._currentQuery):f==u._sequenceNumberManager.getSequenceNumber())},c=(new Date).getTime(),l=function(n,t,i,r,s,h){return u.onResponseReceived(e,f,n,t,i,o,r,s,c,h)},a=function(t){n.fetchWrapper(e,o,function(){u._webProviders.forEach(function(n){u.fetchWeb(e,n,f,t,o)});u._otherProviders.forEach(function(n){u.fetch(e,n,f,t,o)})});u._rootViewModel.onQueryChanged(u._currentQuery,f)};h(a,l)}}},t.prototype.fetchWeb=function(t,i,r,f,e){var c=this,s=n.Service.QueryParams,o=this._host.getCustomUrlParameters(t),h;this._host.shouldRequestEltoken()&&(o[s.RequestElToken]="1");o[s.CursorPosition]=t.cursorPosition.toString();o[s.ConversationId]=this._host.getConversationId();o[s.ImpressionGuid]=this._instrumentationHelper.getImpressionGuid(r);h=this._host.getCustomHeaders(t);u(function(){return i.fetch(t,f,r,c._cancellationManager,e,o,h)},"fetch "+i.getName())},t.prototype.fetch=function(n,t,i,r,f){var e=this;u(function(){return t.fetch(n,r,i,e._cancellationManager,f)},"fetch "+t.getName())},t.prototype.onResponseReceived=function(t,i,r,u,f,e,o,s,c,l){var a=this,v=n.getCurrentDate().getTime()-c,y,p;n.config.enableNetworkLatencyMeasurements&&o==0&&this._latencyInstrumentation&&this._latencyInstrumentation.logDataSourceRequestLatency(r,v);this._ariaLogger&&this._ariaLogger.logDataProviderLatency(r,v);e()&&(this._instrumentationHelper.instrumentResponseReceived(i,r,f,o,s),y=function(n,r,u){if(e())a.onSuggestionsParsed(t,i,n,f,r,u,l)},p=function(n){var f=a._suggestionsParsers[r];f?f.parse(t,i,r,u,e,n,a._cancellationManager):(SharedLogHelper.LogError("onResponseReceived",null,new Error("No parser for data source "+r)),n(r,[],null))},h(p,y))},t.prototype.onSuggestionsParsed=function(n,t,i,r,u,f,e){u=u.filter(function(t){return b(i,t.type,t.handoffType,n)});this._instrumentationHelper.instrumentDataSource(t,i,u,f);this._rootViewModel.onSuggestionsParsed(n,t,i,r,u,f);this._suggestionsRenderingManager.queueSuggestions(t,i,u,f,e)},t}();n.Core=ot;n.encodeQueryParameter=ar}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function dt(t){return n.contains(pt,t)}function gt(t){return n.contains(wt,t)}function ni(t){return n.contains(nt,t)}function ti(t){return n.contains(bt,t)}function ii(t){return n.contains(kt,t)}function u(n,i){return{dataSource:n,requirementLevel:function(){return h()?1:3},conditionalRequirements:function(){if(!t.isCloudSearchEnabledCache)return!1;var n=h()?t.getAccountTypeForCloudContent():t.isCortanaPersonalized?t.cortanaAccountType:t.windowsAccountType;return n==2||n==4},suggestionIsEnabled:i?function(n){return n==i}:undefined}}function h(){return t.config.wamSupported&&n.isDataSourceEnabled("SSUE",null)}function ri(){return t.config.wamSupported&&n.isDataSourceEnabled("BAW",null)}function tt(n){var i=!t.config.userProfileButtonEnabled||t.windowsAccountType==n;switch(n){case 2:return i&&t.isSubstrateOutlookAccountConnected;case 1:return i&&t.isSubstrateO365AccountConnected;case 4:return i&&t.isSubstrateO365AccountConnected&&t.isSubstrateOutlookAccountConnected;default:return!1}}function ui(n){var i=o.authenticationManager.getAllSearchWebAccountsAsync;return i?!0:t.getAccountTypeForCloudContent()==n}function r(n,i,r,u){return u===void 0&&(u=!0),{dataSource:n,requirementLevel:function(){return 0},conditionalRequirements:function(n){return t.config.wamSupported&&t.isCloudSearchEnabledCache&&u&&(r||n&&n.queryToFetch&&n.queryToFetch.length>=t.config.minLengthFor3SonL1)&&ui(i)&&tt(i)}}}function y(n){return{dataSource:"BAW",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bawminqlen)&&(r==1||r==4)}}}function p(n){return{dataSource:"MSBS",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bfbminqlens)&&(r==1||r==4)}}}function w(n){return{dataSource:"MSBC",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bfbminqlenc)&&(r==1||r==4)}}}function c(n){if(n===void 0&&(n=!0),!n||!t.isCloudSearchEnabledCache||!h())return!1;var i=t.getAccountTypeForCloudContent();return i==3||i==0?!1:!tt(i)}function it(){return n.contains(t.config.enabledDataSources,"EBH")&&t.config.enableEdgeBrowsingHistory}function l(){return{dataSource:"EBH",requiredCortanaCapabilities:function(){return["BrowsingHistory"]},conditionalRequirements:function(t){return it()&&(!t||!t.queryToFetch||n.normalizeUrl(t.queryToFetch,31).length>=3)}}}function rt(){return t.windowsAccountType==4?!0:t.cortanaAccountType==3?t.windowsAccountType==2:t.cortanaAccountType!=2?!1:t.config.windowsAuthForOMA&&ht()!=1?!1:!0}function ut(){return{dataSource:n.WebDataSource,requirementLevel:function(){return 1},conditionalRequirements:function(){return rt()}}}function fi(){t.ScopeConfig[i.All].getEmptyZIMessages=function(r){return f(r,i.All,t.config.useNewEmptyQueryMessages?"EmptyAllMessage":"EmptyScopeMessage",n.isBingEnabled()?"EmptyAllSubMessage":"EmptyAllSubMessageNoWeb",et(r,!0))};t.config.startMenuInWSB?t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"SM",conditionalRequirements:function(n){return n&&t.shouldFetchStartMenu(n)}},]:t.RuntimeConfig.QfMode==6?(t.ScopeConfig[i.All].icon={type:1,content:"&#xE721"},t.ScopeConfig[i.All].getEmptyZIMessages=function(n){return f(n,i.Web,"EmptyLockscreenMessage","EmptyLockscreenSubMessage")}):t.RuntimeConfig.SearchHomeAvailable==1&&t.RuntimeConfig.QfMode==8?(t.ScopeConfig[i.All].icon=t.getSearchSuggestionIcon(),t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"AFC",groupType:t.GroupType.ActivityFeedSuggestions,suggestionGroupToggler:v(t.GroupType.ActivityFeedSuggestions)},],t.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.GroupType.ActivityFeedSuggestions,]},t.ScopeConfig[i.AppsSettings].enabledDataSourcesForZeroInput=t.ScopeConfig[i.All].enabledDataSourcesForZeroInput,t.ScopeConfig[i.AppsSettings].staticGroupOrderForZeroInput=t.ScopeConfig[i.All].staticGroupOrderForZeroInput):t.RuntimeConfig.SearchHomeAvailable==1&&t.RuntimeConfig.QfMode!=7?(t.ScopeConfig[i.All].icon=t.getSearchSuggestionIcon(),t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"TOPP",groupType:t.GroupType.TopApps,suggestionGroupToggler:v(t.GroupType.TopApps)},{dataSource:"AFC",groupType:t.GroupType.ActivityFeedSuggestions,suggestionGroupToggler:v(t.GroupType.ActivityFeedSuggestions)},{dataSource:"QSCH",groupType:t.GroupType.QuickSearch,suggestionGroupToggler:v(t.GroupType.QuickSearch)},],t.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.GroupType.TopApps,t.GroupType.ActivityFeedSuggestions,t.GroupType.QuickSearch,]},t.ScopeConfig[i.AppsSettings].enabledDataSourcesForZeroInput=t.ScopeConfig[i.All].enabledDataSourcesForZeroInput,t.ScopeConfig[i.AppsSettings].staticGroupOrderForZeroInput=t.ScopeConfig[i.All].staticGroupOrderForZeroInput):t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[]}function ft(){t.ScopeConfig={};t.ScopeConfig[i.All_FileExplorer]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"FEH"},{dataSource:"IFF"},{dataSource:"MDOC",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MPHO",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MVID",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MODC",requirementLevel:function(){return 1},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"ODC",requirementLevel:function(){return 1},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSUE",requirementLevel:function(){return 0},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSEE",requirementLevel:function(){return 0},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},],enabledDataSourcesForZeroInput:[{dataSource:"FEH"},],getEmptyZIMessages:null};t.ScopeConfig[i.All_Lockscreen]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},],enabledDataSourcesForZeroInput:[{dataSource:"LSQS"}],getEmptyZIMessages:null};t.ScopeConfig[i.All_SettingsApp]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"ST"},{dataSource:"MST"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.All]=t.config.lightAllScope?{icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:n.MRUDataSource},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"QS",requirementLevel:function(){return 1}},{dataSource:"WRS",requirementLevel:function(){return 1}},r("SSUE",1,!1),],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null}:{icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:"PBI",requirementLevel:function(){return 2},conditionalRequirements:function(n){return n&&n.queryToFetch&&n.queryToFetch.length>=6&&n.queryToFetch.trim().includes(" ")}},{dataSource:n.MRUDataSource},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"QS",requirementLevel:function(){return 1}},l(),r("SSUE",1,!1),r("SSUC",2,!1),y(!1),{dataSource:"WRS",requirementLevel:function(){return 1}},p(!1),w(!1)],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.Apps]={icon:{content:"&#xEB3B",type:2},prefixesLocString:"ScopeApps",enabledDataSources:[{dataSource:n.WebDataSource,suggestionIsEnabled:function(){return!1},requirementLevel:function(){return 1}},{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MPP"},{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"IBA"},],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"TOPP",conditionalRequirements:function(n){return n.isSearchHomeZI}},{dataSource:"MPP"},n.contains(t.config.enabledDataSources,"LRA")?{dataSource:"LRA"}:{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}}],staticGroupOrderForZeroInput:function(n){return n.isSearchHomeZI?[t.GroupType.TopApps,t.GroupType.Apps]:undefined},getEmptyZIMessages:function(n){return f(n,i.Apps,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage","EmptyScopeSearchLocation_PCAndStore")}};t.ScopeConfig[i.Settings]={icon:{content:"&#xE713",type:2},prefixesLocString:"ScopeSettings",enabledDataSources:[{dataSource:n.WebDataSource,suggestionIsEnabled:function(){return!1},requirementLevel:function(){return 1}},{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},{dataSource:"ST"},{dataSource:"QS",requirementLevel:function(){return 1}}],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},],getEmptyZIMessages:function(n){return f(n,i.Settings,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptySettingsSubMessage")}};t.ScopeConfig[i.Photos]={icon:{content:"&#xEB9F",type:2},prefixesLocString:"ScopePhotos",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="LI"}},u("ODC","LI"),u("MODC","LI"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},],getEmptyZIMessages:function(n){return e(n,i.Photos,!0)}};t.ScopeConfig[i.Videos]={icon:{content:"&#xE714",type:1},prefixesLocString:"ScopeVideos",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="LV"}},u("ODC","LV"),u("MODC","LV"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},],getEmptyZIMessages:function(n){return e(n,i.Videos,!0)}};t.ScopeConfig[i.Music]={icon:{content:"&#xE8D6",type:2},prefixesLocString:"ScopeMusic",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},{dataSource:"MMUS",suggestionIsEnabled:function(n){return n=="MU"}},u("ODC","MU"),u("MODC","MU"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},],getEmptyZIMessages:function(n){return e(n,i.Music,!1)}};t.ScopeConfig[i.Documents]={icon:{content:"&#xE7C3",type:2},prefixesLocString:"ScopeDocuments",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MDOC",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},u("ODC","FL"),u("MODC","FL"),{dataSource:"PP",suggestionIsEnabled:function(n){return n=="LDOC"}},r("SSUE",1,!0),r("SSEE",1,!0),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},r("SSEE",1,!0,!!t.config.zeroInputCloudDocs),],showUpsellOnSuggestionsList:function(){return c(t.getAccountTypeForCloudContent()==1||!!(t.config.accountVerifyMessage&&t.getAccountTypeForCloudContent()==4))},getEmptyZIMessages:function(n){return e(n,i.Documents,!1)}};t.ScopeConfig[i.Folders]={icon:{content:"&#xE838",type:2},prefixesLocString:"ScopeFolders",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"MFOL",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"LDIC"},u("ODC","FD"),u("MODC","FD"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},],getEmptyZIMessages:function(n){return e(n,i.Folders,!1)}};t.ScopeConfig[i.Web]={icon:{content:"&#xE774",type:1},prefixesLocString:"ScopeWeb",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(n,t){return t==1}},{dataSource:n.WebDataSource,suggestionIsEnabled:function(t,i){return n.contains([0,13,14,10,5,1],i)},requirementLevel:function(){return 1}},{dataSource:"PP",suggestionIsEnabled:function(n,t){return t==1}},l(),y(!0),{dataSource:"WRS",requirementLevel:function(){return 1}},p(!0),w(!0)],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(n,t){return t==1}},ut(),l(),],getEmptyZIMessages:function(n){return f(n,i.Web,t.config.useNewEmptyQueryMessages?"EmptyWebMessage":"EmptyScopeMessageWeb","EmptyWebSubMessage")}};t.ScopeConfig[i.PathCompletion]={icon:{content:"&#xE782",type:2,needsAccentColor:!0},scopeNameLocString:t.config.pathCompletionReplacesAll?"PathCompletionScopeName":null,prefixesLocString:null,enabledDataSources:[{dataSource:"PT"},{dataSource:"CG"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.Emails]={icon:{content:"&#xE715",type:2},prefixesLocString:"ScopeEmails",enabledDataSources:[r("SSEE",1,!0),r("SSEC",2,!0),],enabledDataSourcesForZeroInput:[],showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.Emails,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyEmailSubMessage")}};t.ScopeConfig[i.People]={icon:{content:"&#xE716",type:2},prefixesLocString:"ScopePeople",enabledDataSources:[r("SSUE",1,!0),r("SSUC",2,!0),y(!0),p(!0),w(!0),],enabledDataSourcesForZeroInput:[r("SSUE",1,!0),r("SSUC",2,!0),],showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.People,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};t.ScopeConfig[i.PeopleEmail]={icon:{content:"&#xE716",type:2},prefixes:["People","people","email","Email"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.People].enabledDataSources.concat(t.ScopeConfig[i.Emails].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.People].enabledDataSourcesForZeroInput,showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.PeopleEmail,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};t.ScopeConfig[i.AppsSettings]={icon:{content:"&#xEB3B",type:2},prefixes:["Apps/Settings","apps","app","settings","setting"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Apps].enabledDataSources.concat(t.ScopeConfig[i.Settings].enabledDataSources).filter(function(t){return!n.contains(["OSTMA","QS",n.WebDataSource],t.dataSource)}),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Apps].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Settings].enabledDataSourcesForZeroInput).filter(function(t){return!n.contains(["OSTMA","QS",n.WebDataSource],t.dataSource)}),getEmptyZIMessages:function(n){return e(n,i.AppsSettings,!1)}};t.ScopeConfig[i.FilesFolders]={icon:{content:"&#xE7C3",type:2},prefixes:["Files/Folders","documents","document","docs","doc","files","file","music","image","images","photo","photos","picture","pictures","video","videos"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Documents].enabledDataSources.concat(t.ScopeConfig[i.Folders].enabledDataSources,t.ScopeConfig[i.Photos].enabledDataSources,t.ScopeConfig[i.Music].enabledDataSources,t.ScopeConfig[i.Videos].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Documents].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Folders].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Photos].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Music].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Videos].enabledDataSourcesForZeroInput),getEmptyZIMessages:function(n){return e(n,i.FilesFolders,!1)}};t.ScopeConfig[i.AllFiles]={icon:{content:"&#xE7C3",type:2},prefixes:["Files","documents","document","docs","doc","files","file","music","image","images","photo","photos","picture","pictures","video","videos"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Documents].enabledDataSources.concat(t.ScopeConfig[i.Folders].enabledDataSources,t.ScopeConfig[i.Photos].enabledDataSources,t.ScopeConfig[i.Music].enabledDataSources,t.ScopeConfig[i.Videos].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Documents].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Folders].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Photos].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Music].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Videos].enabledDataSourcesForZeroInput),getEmptyZIMessages:function(n){return e(n,i.AllFiles,!1)}};for(var s in t.ScopeConfig)t.ScopeConfig[s].enabledDataSources=t.ScopeConfig[s].enabledDataSources.filter(function(i){return n.contains(t.config.enabledDataSources,i.dataSource)}),t.ScopeConfig[s].enabledDataSourcesForZeroInput=t.ScopeConfig[s].enabledDataSourcesForZeroInput.filter(function(i){return n.contains(t.config.enabledDataSources,i.dataSource)})}function ei(){s=null}function et(t,i){var f=t.getConnectedAccountInfo(0),e=t.getConnectedAccountInfo(1),r=!!(f||e),u=i&&n.isBingEnabled();return r&&u?"EmptyScopeSearchLocation_PCCloudAndWeb":r?"EmptyScopeSearchLocation_PCAndCloud":u?"EmptyScopeSearchLocation_PCAndWeb":"EmptyScopeSearchLocation_PC"}function e(n,i,r){return f(n,i,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage",et(n,r))}function f(n,i,r,u,f){var e=ot(t.ScopeConfig[i],n).toLocaleLowerCase(),o=f?n.getLocString(f):"",s=n.getLocString(r,e,o),h=t.config.useNewEmptyQueryMessages||t.RuntimeConfig.QfMode==6?n.getLocString(u,e,o):"";return[s,h]}function oi(n){var f=function(n){return HitHighlightingParser.removeDiacritics(n.toLocaleLowerCase().trim())},r,u;if(s={},t.RuntimeConfig.ScopesAvailable){r=function(r){var e=parseInt(r),u=t.ScopeConfig[e],o,h;e!=i.All&&a(e,u)&&(!u.prefixes&&u.prefixesLocString&&(o=n.getLocString(u.prefixesLocString),h=n.getEnUsLocString(u.prefixesLocString),u.prefixes=st(o,h)),u.prefixes&&u.prefixes.forEach(function(n){return s[f(n)]=e}))};for(u in t.ScopeConfig)r(u)}}function ot(n,t){if(n.scopeNameLocString)return t.getLocString(n.scopeNameLocString);if(n.prefixes)return n.prefixes[0].trim();if(n.prefixesLocString){var i=st(t.getLocString(n.prefixesLocString));return i[0].trim()}return""}function st(n,t){var i=n;return t&&(i+=","+t),i.search(g)>-1&&(i=i.replace(g,",")),i.split(",")}function a(r,u){var c=t.RuntimeConfig.AlwaysWide?t.config.enabledScopesAlwaysWide:t.config.enabledScopes,f,s,e,o,h;if(!n.contains(c,i[r])||r==i.Web&&!n.isBingEnabled())return!1;if(u.showUpsellOnSuggestionsList&&u.showUpsellOnSuggestionsList())return!0;for(f=t.config.enabledDataSources.filter(function(t){return t!=n.MRUDataSource}),n.isBingEnabled()&&r!=i.Web&&(f=f.filter(function(t){return t!=n.WebDataSource})),s=function(n){lt(n,null)||(f=f.filter(function(t){return t!=n.dataSource}))},e=0,o=u.enabledDataSources;e<o.length;e++)h=o[e],s(h);return u.enabledDataSources.some(function(t){return n.contains(f,t.dataSource)})?!0:!1}function ht(){if(t.windowsAccountType==0||t.cortanaAccountType==0)return 0;if(t.windowsAccountType!=t.cortanaAccountType)return 2;if(t.windowsAccountType!=3)if(t.windowsIdentity&&t.cortanaIdentity){if(t.windowsIdentity!=t.cortanaIdentity)return 2}else return 0;return 1}function si(r,u,f,e,o){var h,l,b,v,y,p,c,w;o||(o={});var k=o.topHitRestriction,d=o.forceGroupOnTop,g=o.overrideAction,nt=o.overrideActionHandlerAsync,s=n.parseQuery(r,u,k);if(s.fullPartialQuery=s.queryToFetch,s.scope=a(i.All,t.ScopeConfig[i.All])?i.All:i.AppsSettings,s.forceGroupOnTop=d,s.overrideAction=g,s.overrideActionHandlerAsync=nt,li(s,e))s.isFormulatedQuery=!0,h=t.ScopeConfig[yt(s)];else{s.fullPartialQuery&&(hi(s),f&&s.scope!=f.scope&&(s.isFormulatedQuery=!0));s.isSearchHomeZI=!s.queryToFetch&&(t.RuntimeConfig.SearchHomeAvailable==1||t.RuntimeConfig.SearchHomeAvailable==2&&s.scope!=i.All);(s.scope==i.All||s.scope==i.Web)&&(l=n.tryParseUrl(s.queryToFetch,!0),l&&l.type==0?(s.isProtocol=!0,s.fixedUrl=n.cleanAndFixUrlProtocol(l)):ct.test(s.queryToFetch)&&(s.isProtocol=!0,s.fixedUrl=n.cleanAndFixUrlProtocol(s.queryToFetch)));switch(t.RuntimeConfig.QfMode){case 5:h=t.ScopeConfig[i.All_FileExplorer];break;case 6:h=t.ScopeConfig[i.All_Lockscreen];break;case 7:h=t.ScopeConfig[i.All_SettingsApp];break;default:h=t.ScopeConfig[s.scope]}for(b=s.queryToFetch?h.enabledDataSources:h.enabledDataSourcesForZeroInput,s.availableDataSources={},v=0,y=b;v<y.length;v++)c=y[v],n.contains(t.config.enabledDataSources,c.dataSource)&&(s.availableDataSources[c.dataSource]=c);s.enabledDataSources={};for(p in s.availableDataSources)c=s.availableDataSources[p],c.suggestionGroupToggler&&c.suggestionGroupToggler.isHidden()||(s.enabledDataSources[p]=c);w=s.queryToFetch?h.staticGroupOrder:h.staticGroupOrderForZeroInput;w&&(s.staticGroupOrder=w(s))}return ci(s,h),s.showProgressBar=t.isL2(s)&&t.config.dataSourcesWithProgressBar.some(function(n){return!!s.enabledDataSources[n]}),s.equals=function(n){return(s.queryToFetch?s.queryToFetch.toLowerCase():s.queryToFetch)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&n.scope==s.scope&&(n.taskFrame?n.taskFrame.raw:"")==(s.taskFrame?s.taskFrame.raw:"")&&n.topHitRestriction==s.topHitRestriction},s.getCacheKey=function(){return s.cursorPosition+s.queryToFetch.toLocaleLowerCase()+s.scope+t.regionCache},s}function hi(r){var h=n.isDataSourceEnabled("PT",null),c=h&&b.test(r.fullPartialQuery),e,u,o;if(c){r.canBePathCompletion=!0;r.scope=i.PathCompletion;return}if(e=HitHighlightingParser.removeDiacritics(r.originalQuery),u=e.match(/^(([^:
]|^\/+/;b=/^[a-z]:\\|^%[^%]+%\\|^\\/i;t.parseQuery=si;t.parseTaskFrame=ai;at="action://FindMyStuff/FindDocument";vt="action://FindMyStuff/FindMessage";t.getEffectiveScope=yt;t.getEffectiveQuery=yi;d="HiddenSuggestionGroups";t.initQueryParser=wi})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function lt(n,t){return n.type==t.type&&n.source==t.source}function vt(n){switch(n){case"PP":return"Apps";case"ST":return"Settings";case"FL":return"Files";case"LM":return"Media";default:return null}}function yt(n){switch(n){case"FL":case"LM":case"IFF":case"MFF":case"PT":case"CG":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"EBH":case"FEH":case"AFC":case"LDIC":return!0;case"OSTMA":case"QS":case"PP":case"LRA":case"ST":case"PBI":case"MPP":case"MST":case"IBA":case"SM":case"THST":case"TOPP":case"QSCH":case"LSQS":return!1}throw new Error("New local data source "+n+" needs to be explicity classified as potentially containing PII or not");}function pt(n){var t=e(n);return n.deviceItem&&n.handoffType==2?t+"\t"+n.deviceItem.id:t+"\t"+n.query}function l(n){switch(n.type){case"BKS":case"ML":case"MB":case"OS":case"RI":case"HS":case"EBH":return!0}switch(n.handoffType){case 1:case 17:case 13:case 16:case 0:case 11:case 14:return!0}return!1}function a(n){switch(n){case"MFF":case"FL":case"LM":case"IFF":case"MDOC":case"MPHO":case"MVID":case"MMUS":case"MFOL":return!0;default:return!1}}function wt(n,i){if(!t.IndexerQueryGenerator)return!1;if(t.RuntimeConfig.QfMode==5)return!0;switch(n){case"IBA":case"MDOC":case"MPHO":case"MVID":case"MMUS":case"MFOL":return!0;case"IFF":return nt(i)||!t.config.minLengthForIBAonL1||i.queryToFetch.length>=t.config.minLengthForIBAonL1;default:return!1}}function bt(n){return SearchAppWrapper.CortanaApp.hostingEnvironment==4?!0:t.RuntimeConfig.MiniSERPMode==0||n.previewPaneType!=1?!1:n.isAnswer?(t.RuntimeConfig.MiniSERPMode&1)!=0:n.type=="MD"?(t.RuntimeConfig.MiniSERPMode&2)!=0:(t.RuntimeConfig.MiniSERPMode&4)!=4?!1:n.query.length>=t.config.minPrefixLengthForMiniSerp}function kt(n){return a(n)||n=="IBA"||n=="EBH"}function dt(n){return n&&(n.tagName.toLowerCase()=="body"||n.tagName.toLowerCase()=="iframe"||n.className&&n.classList.contains("suggestion"))}function gt(n){return n.kind=="Modern Setting"}function v(n){return t.isApp(n.type)?n.deviceItem:null}function ni(n){var i=v(n),t;return i?i.packageFamilyName:(t=n,t.packageFamilyName)?t.packageFamilyName:null}function ti(n){return t.isFileOrFolder(n.type)?n.deviceItem:null}function y(n){switch(n){case"PBI":case"EBH":return!1}return!0}function ii(n){return!!n.suggestions}function ri(n){return y(n.type)?n.deviceItem:null}function ui(n){return n.type=="CG"?n.deviceItem:null}function fi(n){return n.type=="PT"?n.deviceItem:null}function ei(n){return n.type=="PBI"?n.deviceItem:null}function p(n){return n.type=="EBH"?n.deviceItem:null}function oi(n){return n&&n.classList.contains("scopeTile")}function e(n){if(typeof n.staticGroupType=="number")return n.staticGroupType;if(t.RuntimeConfig.QfMode==8&&l(n))return i.SearchSuggestions;if(t.config.newFilesScope2&&(n.type=="FL"||n.type=="FD"||n.type=="MU"||n.type=="LI"||n.type=="LV"))return i.Documents;switch(n.type){case"SM":return i.StartMenu;case"TOPL":return i.TopApps}if(t.isApp(n.type))return i.Apps;if(s(n))return n.groupType;if(t.isSetting(n.type))return i.Settings;switch(n.type){case"CG":return i.Command;case"PT":return i.PathCompletion;case"LI":return i.Photos;case"LV":return i.Videos;case"MU":return i.Music;case"PBI":return i.PowerBi;case"FL":case"LDOC":case"SDFE":return i.Documents;case"FD":return i.Folders;case"OLE":case"OWA":return i.Emails;case"PPL":return i.People;case"EBH":return i.EdgeHistory;case"BKS":return i.Bookmarks;case"ELA":return i.LocalPlaces;case"FEH":return i.LocalSearchHistory;case"SNSC":case"RSSG":return i.QuickSearch;case"LSQS":return i.LockscreenQuickSearch;default:switch(n.handoffType){case 3:return i.Store;case 5:case 4:return i.Cortana;case 10:return n.htmlContent?i.SearchSuggestions:i.Cortana;case 0:case 13:case 14:return i.SearchSuggestions;case 1:return i.Websites;case 18:return i.ActivityFeedSuggestions}throw new Error("Unexpected handoff type: "+n.handoffType);}}function si(n){return n.click&&!n.instItem}function o(n){switch(n){case i.JumpListTasks:case i.JumpListPinned:case i.JumpListRecent:case i.JumpListFrequent:case i.JumpListCustom:return!0;default:return!1}}function w(t){return t.notAResult&&!n.contains(["SW","PWL","SSTS"],t.type)}function hi(n){return t.config.recourseOnlyInGroups&&n.suggestions.every(function(n){return w(n)})}function ci(n){var t=n.type;return o(t)||t==i.Related||t==i.Contact}function li(n){if(o(n))return i.Apps;if(n==i.Related)return i.SearchSuggestions;if(n==i.Contact)return i.People;throw new Error("Not a top hit child group: "+n);}function s(n){return!!n.parent}function ai(n){return n.type=="JL"}function b(n){switch(n){case i.Apps:case i.Store:return t.Scope.Apps;case i.Settings:return t.Scope.Settings;case i.Documents:return t.Scope.Documents;case i.Folders:return t.Scope.Folders;case i.Photos:return t.Scope.Photos;case i.Videos:return t.Scope.Videos;case i.Music:return t.Scope.Music;case i.LocalPlaces:case i.SearchSuggestions:case i.Websites:case i.EdgeHistory:case i.Bookmarks:return t.Scope.Web;case i.Emails:return t.Scope.Emails;case i.People:return t.Scope.People}return t.Scope.All}function vi(n){if(t.RuntimeConfig.QfMode==8&&n==1)return 32;switch(n){case 0:case 6:case 7:case 8:return 32;case 1:return 16;case 2:return t.IconSize_GridLayout_Scaled;case 3:return 24;case 4:return 64;case 5:return 200}throw new Error("Unsupported image size: "+n);}function yi(n,t,i){if(n&&n.type==0&&it(t)){var u=function(t){n.ratio=t.height==t.width?1:t.height>t.width?3:2;i()},r=new Image;r.src=n.content;r.onload=function(){return u({height:r.height,width:r.width})}}else i()}function pi(){var n=t.uiLanguageCache.toLocaleLowerCase();return k[n]||n}function d(n,t,i,r,u,f,e,o,s,h,c,l,a){var v={text:t,getIcon:i,icon:r,type:u,query:f,ciMatchedQuery:null,id:c,click:l,handoffType:o,instItem:e,isAnswer:!1,htmlContent:null,classNames:[],selected:!1,featureStore:undefined,sequenceNumber:s,getMruData:function(){return null},template:0,mayContainPII:h,features:[],previewPaneType:undefined};return v.previewPaneType=er(n,v,a),v}function wi(t,i,r,u,f,e,o,s,h){var l=t.getInstrumentedSyntheticSuggestion(r,u),v,a;return l?l:(v=i.scope,l=d(i,null,null,f,u,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,c.KValues),e,r,!1,u),l.notAResult=!0,l.primaryMetadata=o,s&&(l.additionalInfoText=" - "+l.primaryMetadata),a=function(n){l.query=n.queryToFetch;l.text=HitHighlightingParser.addMarkers(n.queryToFetch);l.narratorText=g(l);l.click=function(){return h(l,n)}},a(i),l.updateFromQuery=function(n){return!n.isProtocol&&n.scope==v&&n.queryToFetch?(a(n),!0):!1},t.instrumentSyntheticSuggestion(r,l),l)}function g(n,t){var i,r,u;return n.htmlContent?null:(i=p(n)?[n.primaryMetadata||n.text]:[n.text],r=n.dateShort,r&&i.push(r),t?i.push(t):(n.primaryMetadata&&(i.push(n.primaryMetadata),u=n.department,u&&i.push(u)),n.template==1&&n.secondaryMetadata&&i.push(n.secondaryMetadata)),HitHighlightingParser.removeMarkers(i.join(", ")))}function nt(n){return n.scope!=t.Scope.All||!!n.taskFrame}function tt(n){return typeof n=="string"?n=="LI"||n=="LV":n==i.Photos||n==i.Videos}function it(n){return tt(n)||n=="PPL"}function bi(n){return!t.config.disableMediaGridLayout&&!t.RuntimeConfig.AlwaysWide&&tt(n)}function ki(n,i){var f,u,e,r;if(!n||!t.RuntimeConfig.ScopesAvailable)return null;if(i.scope==t.Scope.All){if(f=[],n.ISUPN&&n.ISUPG)if(u=n.ISUPN.split("\t"),e=n.ISUPG.split("\t"),u.length==e.length)for(r=0;r<u.length;r++)f.push(e[r]+"\t"+u[r]);else SharedLogHelper.LogError("parseWebSuppressionSignals",null,new Error("parsedNames.length != parsedGroups.length"));return{fullySuppressedGroups:n.FSUP?n.FSUP.split("\t"):null,partiallySuppressedGroups:n.PSUP?n.PSUP.split("\t"):null,suppressedSuggestions:f}}return null}function di(t){return r||(r=_d.createElement("span")),n.safeExecute(function(){return r.innerHTML=t,r.innerText},t,"decodeHtml")}function gi(n,t){return{matchType:n,matchedText:t}}function ut(n){return n.replace(rt,"\\$&")}function nr(n,t){if(t){var u=n.includes(HitHighlightingParser.startMarker),e=u?n:HitHighlightingParser.addMarkers(n,t),f=HitHighlightingParser.split(e).find(function(n){return n.highlighted});if(f){var r=u?HitHighlightingParser.removeMarkers(n):n,o=new RegExp("((?:\\\\[^\\\\]+)?\\\\[^\\\\]+)?\\\\"+ut(f.text)+".*","i"),i=o.exec(r);if(i&&i[0])return{matchType:h.Location,matchedText:r.startsWith(i[0])?r:String.fromCharCode(8230)+i[0]}}}return null}function tr(n,t){if(t){var r=n.includes(HitHighlightingParser.startMarker),o=r?n:HitHighlightingParser.addMarkers(n,t),u=HitHighlightingParser.split(o).find(function(n){return n.highlighted});if(u){var f=r?HitHighlightingParser.removeMarkers(n):n,s=new RegExp("(?:\\S+\\s){0,3}\\b"+ut(u.text)+"\\S*(?:\\s\\S+){0,5}","i"),i=s.exec(f),e=void 0;return i&&i[0]&&(e={matchType:h.Content,matchedText:i[0]}),[f,e]}}return[null,null]}function ir(n,t){return n&&t&&HitHighlightingParser.addMarkers(n,t).includes(HitHighlightingParser.startMarker)}function rr(n){return n==t.Scope.Emails}function ur(n){return n.isAnswer&&(n.handoffType==13||n.handoffType==14||n.handoffType==0&&(!!n.additionalInfoText||!!n.secondaryIcon))}function fr(n){if(s(n))return!1;switch(n.handoffType){case 0:case 13:case 14:case 5:case 10:case 4:return!0;case 3:return n.type=="STS";case 2:return n.type=="PBI"||n.type=="SDFE";case 8:case 12:return n.type=="OWA";default:return!1}}function er(r,u,f){var o=undefined,s;if(!t.RuntimeConfig.PreviewPaneAvailable||r.isSearchHomeZI)return o;if(s=function(){return n.isBingEnabled()&&n.contains([0,13,14],u.handoffType)&&!u.htmlContent?1:o},f)return s();switch(e(u)){case i.Store:return(t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn)&&u.type!="STS"?2:o;case i.Apps:case i.PowerBi:case i.Cortana:case i.Command:case i.Documents:case i.Folders:case i.Music:case i.PathCompletion:case i.Emails:case i.Photos:case i.Settings:case i.Videos:return t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn?2:o;case i.StartMenu:return 2;case i.People:return u.handoffType==0?1:u.handoffType==1?o:u.handoffType==17?3:t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn?2:o;case i.Bookmarks:return u.handoffType==17?3:s();case i.Websites:return n.isBingEnabled()&&u.type!="LURL"?1:o;default:return s()}}function or(){return t.RuntimeConfig.QfMode==2?null:t.regionCache}function sr(n,t,i){var r=i.previewPaneType,u,f;return r?(u=t.previewPaneType,f=r==1&&u==1,t.query.toLocaleLowerCase()==i.query.toLocaleLowerCase()&&(!f&&r==u||f&&t.handoffType==i.handoffType)):!1}function hr(n){return t.config.startMenuInWSB&&n&&!n.queryToFetch&&n.scope==t.Scope.All}function cr(n){return n==null}function lr(r,u){return r==i.Documents&&t.isSubstrateO365AccountConnected||t.isFileOrFolderScope(b(r))&&(n.isDataSourceEnabled("ODC",u)||n.isDataSourceEnabled("MODC",u))}function ar(n,t){switch(n){case 2:return"OneDrive";case 3:return t.getLocString("OneDriveForBusiness");case 4:return"SharePoint";case 1:return t.getLocString("ThisPC");case 5:return t.getLocString("MsbPeopleGroups");case 6:return t.getLocString("MsbPeopleContacts")}return null}function vr(n){if(ot())switch(n){case 37:return 39;case 39:return 37}return n}function yr(){return{content:"&#xE721",type:2}}function pr(n){return n.getLocString("SearchTheWeb")}function wr(n){return n.getLocString("Websites")}function br(n){return n.getLocString("SeeWebResults")}function kr(n,t){var i="b_hide";n&&(t?n.classList.remove(i):n.classList.add(i))}function ot(){return ThresholdUtilities.isRightToLeftLanguage(t.uiLanguageCache)}function dr(){u={}}function st(t){var i=u[t],r;return typeof i=="undefined"&&(r=SearchAppWrapper.CortanaApp.queryFormulationView.deviceSearch,r.getFolderPathFromKnownFolderIdGuid?(i=n.safeExecute(function(){return r.getFolderPathFromKnownFolderIdGuid(t)},"getPathFromFolderID","",t),i=i.toLocaleLowerCase()):i="",u[t]=i),i}function gr(){f={}}function nu(n){var t,i;return n.startsWith("{")?(t=f[n],t||(i=n.match(ht),t=i?st(i[1])+i[2]:n,f[n]=t),t):n}function tu(n){return n.startsWith("file:")&&(n=n.slice(5)),n.replace(/\//g,"\\")}function iu(n){return t.config.enforceOriginalOrderForTypes[n.type]||t.config.enforceOriginalOrderForTypes[n.type+"|"+n.handoffType]}function ru(n){switch(n){case 2:return 0;case 1:return 1;default:throw new Error("Not a logged in account: "+n);}}function uu(n){return n==1?"https://substrate.office.com":"https://substrate.office.com/SubstrateSearch-Internal.ReadWrite"}function fu(n){return n==1?"https://www.bing.com/cortana":"service::cortana.bing.com::mbi_ssl"}function ct(){return"Windows"}function eu(){return ct()=="Windows"?t.windowsAccountType:t.cortanaAccountType}function ou(){return!1}function su(n){return t.TweakSearch&&t.TweakSearch.isTweakSearchEnabled()?t.config[n]:undefined}function hu(){return t.config.skipSelectedScope&&t.RuntimeConfig.AlwaysWide}function cu(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var i,c,at,k,r,h,rt,ft,et,u,f,ht;(function(n){n[n.Apps=0]="Apps";n[n.Settings=1]="Settings";n[n.Cortana=2]="Cortana";n[n.Command=3]="Command";n[n.Photos=4]="Photos";n[n.Videos=5]="Videos";n[n.Music=6]="Music";n[n.Documents=7]="Documents";n[n.Folders=8]="Folders";n[n.Emails=9]="Emails";n[n.Store=10]="Store";n[n.SearchSuggestions=11]="SearchSuggestions";n[n.PathCompletion=12]="PathCompletion";n[n.PowerBi=13]="PowerBi";n[n.JumpListTasks=14]="JumpListTasks";n[n.JumpListPinned=15]="JumpListPinned";n[n.JumpListRecent=16]="JumpListRecent";n[n.JumpListFrequent=17]="JumpListFrequent";n[n.JumpListCustom=18]="JumpListCustom";n[n.JumpListActivityFeed=19]="JumpListActivityFeed";n[n.People=20]="People";n[n.EdgeHistory=21]="EdgeHistory";n[n.LocalPlaces=22]="LocalPlaces";n[n.Bookmarks=25]="Bookmarks";n[n.Related=26]="Related";n[n.Websites=27]="Websites";n[n.Contact=28]="Contact";n[n.JumpListSynthetic=29]="JumpListSynthetic";n[n.JumpListActions=30]="JumpListActions";n[n.StartMenu=31]="StartMenu";n[n.LocalSearchHistory=32]="LocalSearchHistory";n[n.JumpListSettingsFaq=33]="JumpListSettingsFaq";n[n.JumpListSettingsRelatedSettings=34]="JumpListSettingsRelatedSettings";n[n.ActivityFeedSuggestions=35]="ActivityFeedSuggestions";n[n.TopApps=36]="TopApps";n[n.QuickSearch=37]="QuickSearch";n[n.LockscreenQuickSearch=38]="LockscreenQuickSearch";n[n.GroupHeader=104]="GroupHeader"})(i=t.GroupType||(t.GroupType={}));t.sameGroup=lt,function(n){n.KValues=function(){var n={};return n.GPT=108,n.GT=109,n.GW=110,n.SW=114,n.PWL=115,n.STS=116,n.SBI=117,n.SBV=118,n.SDSC=119,n.SDIO=120,n.IMIO=121,n.COFA=122,n.COOA=124,n.SDFE=126,n.OWA=128,n.OMCS=129,n.OMIO=130,n.OMCN=131,n.OMCD=132,n.OMAC=133,n.OMSC=134,n.OMVA=135,n.SSTS=136,n.AFOT=137,n.SNSC=138,n.RWBD=139,n}();n.HandoffsForNonSuggestions=function(){var n={};return n.GPT=2,n.GT=3,n.GW=0,n.SDSC=2,n.SDIO=2,n.IMIO=2,n.COFA=2,n.COOA=2,n}();n.GroupsForNonSuggestions=function(){var n={};return n.GPT=i.GroupHeader,n.GT=i.GroupHeader,n.GW=i.GroupHeader,n.SDSC=i.Settings,n.SDIO=i.Settings,n.IMIO=i.Settings,n.COFA=i.Settings,n.COOA=i.Settings,n}()}(c=t.SyntheticQSCodesMaps||(t.SyntheticQSCodesMaps={})),function(n){n[n.Open=1]="Open";n[n.RunAs=2]="RunAs";n[n.RunAsUser=3]="RunAsUser";n[n.OpenInBrowser=4]="OpenInBrowser";n[n.OpenFileLocation=5]="OpenFileLocation";n[n.OpenContaining=6]="OpenContaining";n[n.TabletMode_OpenNewWindow=7]="TabletMode_OpenNewWindow";n[n.PinToStartScreen=8]="PinToStartScreen";n[n.StartUnpin=9]="StartUnpin";n[n.TaskbarUnpin=10]="TaskbarUnpin";n[n.StartPin=11]="StartPin";n[n.TaskbarPin=12]="TaskbarPin";n[n.Manage=13]="Manage";n[n.ConnectNetworkDrive=14]="ConnectNetworkDrive";n[n.DisconnectNetworkDrive=15]="DisconnectNetworkDrive";n[n.Uninstall=16]="Uninstall";n[n["Tile.Uninstall"]=17]="Tile.Uninstall";n[n.ItemProperties=18]="ItemProperties";n[n.Settings=19]="Settings";n[n.Review=20]="Review";n[n.Share=21]="Share";n[n.S_Open=1e3]="S_Open";n[n.S_Install=1001]="S_Install";n[n.S_CopyFullPath=1002]="S_CopyFullPath";n[n.S_SendEmail=1003]="S_SendEmail";n[n.S_SendInstantMessage=1004]="S_SendInstantMessage";n[n.S_CopyPersonDetails=1005]="S_CopyPersonDetails";n[n.S_OpenFileLocationInBrowser=1006]="S_OpenFileLocationInBrowser";n[n.S_OpenInOutlookWeb=1007]="S_OpenInOutlookWeb";n[n.S_LaunchOutlookNative=1008]="S_LaunchOutlookNative";n[n.S_OpenInBrowser=1009]="S_OpenInBrowser"}(at=t.JumplistActionItemType||(t.JumplistActionItemType={}));t.GroupHeaderQSCodes=function(){var n={};return n[i.PathCompletion]="GPT",n[i.Store]="GT",n[i.SearchSuggestions]="GW",n[i.ActivityFeedSuggestions]="AFOT",n[i.TopApps]="ADS",n}();t.providerFailureLogName=vt;t.localDataSourceMayContainPII=yt;t.getSuggestionKey=pt;t.MRUDatabaseName="mruWithIndex";t.isSantoriniWeb=l;t.isFileOrFolderLocalDataSource=a;t.supportsShortcuts=wt;t.shouldOpenMiniSerp=bt;t.isIndexerBasedDataSource=kt;t.isBodyOrSuggestion=dt;t.isModernSetting=gt;t.getAppItem=v;t.getAppPfn=ni;t.getFileItem=ti;t.isItemWithFileMetadata=y;t.isGroup=ii;t.getItemWithFileMetadata=ri;t.getCommandLineItem=ui;t.getPathCompletionItem=fi;t.getPowerBiItem=ei;t.getBrowsingHistoryItem=p;t.isScopeTile=oi;t.getGroupType=e;t.canGoToL2=si;t.isJumpListGroup=o;t.isRecourse=w;t.useMoreSearchOptionsHeader=hi;t.isTopHitChildGroup=ci;t.getParentSuggestionGroupType=li;t.isChildSuggestion=s;t.isJumpListSuggestion=ai;t.getScope=b;t.IconSize_GridLayout=92;t.IconSize_GridLayout_Medium=68;t.IconSize_GridLayout_Scaled=130;t.getImageSizeValue=vi;t.populateImageRatio=yi;k={"zh-hans-cn":"zh-cn","zh-hans-sg":"zh-cn","zh-hant-hk":"zh-hk","zh-hant-tw":"zh-tw",ko:"ko-kr",ja:"ja-jp",nb:"nb-no"};t.getCurrentLanguage=pi;t.createSuggestion=d;t.getSyntheticSuggestion=wi;t.getNarratorText=g;t.isL2=nt;t.iconIsThumbnail=it;t.displayedInGridLayout=bi;t.parseWebSuppressionSignals=ki;t.decodeHtml=di,function(n){n[n.Author=1]="Author";n[n.LastModifiedBy=2]="LastModifiedBy";n[n.Content=3]="Content";n[n.Tags=4]="Tags";n[n.Album=5]="Album";n[n.Artist=6]="Artist";n[n.Genre=7]="Genre";n[n.Location=8]="Location"}(h=t.MatchType||(t.MatchType={}));t.createMatch=gi;rt=/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g;t.tryGetLocationMatch=nr;t.tryGetTextContentMatch=tr;t.matchesOnPropertyHH=ir;t.uses3lineTemplate=rr;t.isLightAnswer=ur;t.hasReverseHighlighting=fr;t.getMarketForBingAvailability=or;t.isEquivalentForPreviewPanePurposes=sr;t.shouldFetchStartMenu=hr;t.isNullOrUndefined=cr;ft=function(){function t(n,t){this.callback=n;this.counter=0;this.expired=!1;this.isBlocked=t}return t.prototype.check=function(n){this.expired||this.isBlocked||!n&&this.counter!=0||(this.callback(),this.expired=!0)},t.prototype.increase=function(){++this.counter;this.check(!1)},t.prototype.decrease=function(){if(this.counter==0)throw new Error("already zero");--this.counter;this.check(!1)},t.prototype.unblock=function(t){var i=this;if(!this.isBlocked)throw new Error("already unblocked");if(typeof t=="number"&&t<0)throw new Error("invalid timeout");this.isBlocked=!1;this.check(t===0);typeof t!="number"||this.expired||n.safeSetTimeout(function(){return i.check(!0)},t,"Semaphore.unblock")},t}();t.Semaphore=ft;et=function(){function n(n,t,i){this.verb=n.verb;this.displayName=n.displayName;this.executeSync=n.executeSync?function(){return i(function(){return n.executeSync()})}:function(){return i(function(){return n.executeAsync()})};this.isDefault=n.isDefault;this.icon=t;this.getIcon=n.getIcon}return n}();t.DeviceItemVerbWrapper=et;t.shouldSetThisPcGroupSource=lr;t.getGroupSourceDisplayName=ar;t.IndexingOptionsSettingId="Classic_{87d66a43-7b11-4a28-9811-c86ee395acf7}";t.EdgeAppId="Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge";t.getRtlAdjustedKey=vr;t.getSearchSuggestionIcon=yr;t.getWebSuggestionsGroupHeader=pr;t.getWebsitesGroupHeader=wr;t.getWebSuggestionAnnotation=br;t.setVisibility=kr;t.isRtl=ot;t.FOLDERID_Profile="{5E6C858F-0E22-4760-9AFE-EA3317B67173}";t.FOLDERID_SkyDrive="{A52BBA46-E9E1-435f-B3D9-28DAA648C0F6}";t.FOLDERID_System="{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}";t.FOLDERID_SystemX86="{D65231B0-B2F1-4857-A4CE-A8E7C6EA7D27}";u={};t.clearFolderCaches=dr;t.getKnownFolderPathLC=st;f={};t.clearPathExpansionCache=gr;ht=/^\{([a-z0-9-]{36})\}(.*)/i;t.resolveKnownFolderGUIDsInPath=nu;t.indexerFilePathToRegularPath=tu;t.enforceOriginalOrder=iu;t.accountTypeToAuthType=ru;t.getSubstrateResourceOrScope=uu;t.getBingResourceOrScope=fu;t.getAuthAccountForCloudContent=ct;t.getAccountTypeForCloudContent=eu;t.isSmallerAnswersUX=ou;t.getTweakedSetting=su;t.shouldSkipSelectedScope=hu;t.escapeRegExp=cu})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t,i,r;(function(n){n.checking="checking";n.downloading="downloading";n.error="error";n.noUpdate="noupdate";n.obsolete="obsolete";n.updateReady="updateready"})(t||(t={}));i=[t.checking,t.downloading,t.error,t.noUpdate,t.obsolete,t.updateReady];r=function(){function r(n,t,i){i===void 0&&(i=Date.now);this._autoSuggestHost=n;this._instrumentationHelper=t;this.getNowTimestamp=i;this._appCacheEventIndex=1;this._superFreshEnabled=!1;this._appCache=_w.applicationCache;this.subscribeForEvents()}return r.prototype.instrumentSuperFreshUpdate=function(n){this._appCacheTimeline||(this._appCacheTimeline=this.createAppCacheTimelineObject());this._appCacheTimeline.SuperFreshUpdateData.T=this.getNowTimestamp();this._appCacheTimeline.SuperFreshUpdateData.S=n;this.sendAppCacheEvents()},r.prototype.registerSuperFresh=function(){this._superFreshEnabled=!0},r.prototype.subscribeForEvents=function(){var n=this;i.forEach(function(t,i){return sj_be(n._appCache,t,function(){return n.handleAppCacheEvent(t,i)})})},r.prototype.handleAppCacheEvent=function(n,i){n!=t.checking&&this._appCacheTimeline||(this._appCacheTimeline=this.createAppCacheTimelineObject());this._appCacheTimeline.AppCacheEvents[i]=this.getNowTimestamp();switch(n){case t.obsolete:SharedLogHelper.LogWarning("handleAppCacheEvent",null,"AppCache marked as obsolete and will be deleted");this.sendAppCacheEvents();break;case t.error:case t.noUpdate:this.sendAppCacheEvents();break;case t.updateReady:this._superFreshEnabled||this.sendAppCacheEvents()}},r.prototype.sendAppCacheEvents=function(){var f=_G.ServerIG,t,r,u,i;if(!f){SharedLogHelper.LogError("sendAppCacheEvents","Could not instrument as server IG not known",new Error("Could not instrument app cache event"));return}(t=this._appCacheTimeline,t)&&(r=t.AppCacheEvents,u=[{I:t.EventIndex,E:r,S:t.SuperFreshUpdateData,ABT:this._instrumentationHelper.getConversationStartTimestamp()}],r[2]&&(u[0].OL=navigator.onLine),i=n.InstrumentationCommon.createPerfPingEvent(f,u,"AppCache",this._autoSuggestHost.getConversationId()),Log2.LogEvent(i.EventType,i.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,i.ImpressionGuid,null,null),this._appCacheTimeline=this.createAppCacheTimelineObject())},r.prototype.createAppCacheTimelineObject=function(){var n={EventIndex:this._appCacheEventIndex,AppCacheEvents:{},SuperFreshUpdateData:{T:undefined,S:undefined}};return this._appCacheEventIndex++,n},r}();n.AppCacheInstrumentationHelper=r}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var u=["PP","ST","FL","LM"],i=SearchAppWrapper.CortanaApp,r=i.queryFormulationView,f=function(){function f(n){var i=this;this._host=n;this._startupPerfLogged=!1;t.config.logTimeToFocus&&(n.bindConversationStart(function(){return i._startupPerfLogged=!1}),n.bindQueryChangedOrInitialized(function(n){return i.logClientPerfMetric(n)}));ThresholdUtilities.getCortanaHeaders(function(n){n&&(i._windowsFlights=n["X-BM-WindowsFlights"])})}return f.prototype.logProfilerMarker=function(t,r,u,f,e){e||(e={});n.safeExecute(function(){t==1?i.logMeasure("Bing_QF_"+u,r,"QF",JSON.stringify(e),f):i.logVerboseTrace("Bing_QF_"+u,r,"QF",JSON.stringify(e),f)},"logProfilerMarker")},f.prototype.getEnrichedClientInfo=function(n){var u={},f,e;return u.entryPoint=i.entryPoint,u.previousExperience=r.previousExperience,u.qfMode=""+t.RuntimeConfig.QfMode,u.isSearchHome=n.isSearchHomeZI?1:undefined,f=this._host.getFeatureDWORD("WideAtStartupDelta"),f.validFeature&&typeof f.featureValue=="number"&&(u.WideAtStartupDelta=f.featureValue),n&&n.scope!=t.Scope.All&&(u.scope=t.Scope[n.scope]),e=r.searchHistory,u.deviceHistoryEnabled=e&&e.isDeviceHistoryEnabled?1:0,t.windowsAccountType!=0&&(u.windowsAccount=t.windowsAccountType.toString()),t.cortanaAccountType!=0&&(u.cortanaAccount=t.cortanaAccountType.toString()),t.isSubstrateO365AccountConnected&&(u.o365Connected=1),t.isSubstrateOutlookAccountConnected&&(u.outlookConnected=1),this._host.hasFallbackHappened()&&(u.fallback=1),this._host.isClientLocationAvailable()&&(u.clientLocationAvailable=1),this._host.isInputPanelVisible()&&(u.isInputPaneVisible=1),(t.windowsAccountType==2||t.windowsAccountType==1)&&(t.cortanaAccountType==2||t.cortanaAccountType==1)&&t.getWindowsAndCortanaAccountIdentityDiff()==2&&(u.diffAccForWindowsCortana=1),t.isMobileCache||(i.appsUseLightTheme===!1&&(u.darkMode=1),i.colorPrevalenceEnabled&&(u.colorPrevalence=1),i.isSearchBoxInTaskbar&&(u.searchBoxInTaskbar=1),i.taskbarOrientation&&(u.taskbarOrientation=i.taskbarOrientation)),t.config.snrVersion&&(u.snrVersion=t.config.snrVersion),u.ciVersion=t.ConstraintIndex.currentCIVersion,u.defaultBrowser=this._host.getDefaultBrowser().toString(),this._windowsFlights&&(u.windowsFlights=this._windowsFlights),u},f.prototype.getSuggestionsPageName=function(){return"Page.SmartSearch.AS.Suggestions"},f.prototype.getApplicationName=function(){return"SmartSearch"},f.prototype.getRankerModelId=function(){return t.config.mainRankerId},f.prototype.createNonSuggestionDataSourceObject=function(n,i){return{T:"D.Url",K:i.getKValue(),Val:n,Ho:t.SyntheticQSCodesMaps.HandoffsForNonSuggestions[n],Gr:t.SyntheticQSCodesMaps.GroupsForNonSuggestions[n],NR:1}},f.prototype.createDataSourceObject=function(i){var f=this,e=i.mayContainPII&&!t.config.th,r={T:"D.Url",K:i.instItem.getKValue(),Q:e?undefined:i.query,MQ:i.ciMatchedQuery?i.ciMatchedQuery:undefined,Val:i.type,Ho:i.handoffType,Ans:i.isAnswer?1:undefined,Gr:t.getGroupType(i),HC:i.hc?1:undefined,RAF:i.useRaf?1:undefined,HS:i.fromHistory?1:undefined,F:i.features.length>0?i.features.join(","):undefined,AC:i.autoCompleteType?i.autoCompleteType:undefined,HCMS:i.highConfidenceMetaSuggestionScore,HCS:i.highConfidenceSuggestionScore,LM:i.suggestionLogMeta,Uri:i.actionUri,Src:i.source,Sg:i.segments,NR:i.notAResult?1:undefined},u;return i.deviceItem?r.DeviceSignals=n.safeExecute(function(){return f.buildDeviceItemDataSource(e,i)},"buildDeviceItemDataSource"):t.isJumpListSuggestion(i)&&(r.DeviceSignals=n.safeExecute(function(){return f.buildJumpListItemDataSource(i)},"buildJumpListItemDataSource")),t.config.th&&(u=i,u.path&&(r.path=u.path),u.targetPathLC&&(r.targetPath=u.targetPathLC)),r.RankerSignals=this.buildRankerOutputDataSource(i),r},f.prototype.buildRankerOutputDataSource=function(n){if(!n.rankingScore&&!n.featureStore)return undefined;return{rankingScore:n.rankingScore,featureStore:n.featureStore,mruSuppressionScore:n.mruSuppressionScore,fbcScore:n.fbcScore,previewPaneScore:n.previewPaneScore}},f.prototype.buildJumpListItemDataSource=function(i){var u=i.jumpListItem,r={Rank:u.usagePoints||undefined,LAD:n.isValidDate(u.lastAccessed)?u.lastAccessed.toJSON():undefined};if(t.config.th)r.path=u.path,r.description=i.tooltip;else if(!r.Rank&&!r.LAD)return undefined;return r},f.prototype.buildDeviceItemDataSource=function(i,r){var e=r.deviceItem,u={Rank:e.rankScore},f,s,h,o;if(e.propertyHits&&e.propertyHits.length>0&&(u.PHits=e.propertyHits.join(",")),i||(u.Id=e.id,u.DName!=r.query&&(u.DName=e.displayName)),t.config.th&&(u.kind=e.kind),t.isSetting(r.type))return u.MDN=t.isModernSetting(e)?1:0,u;if(f=t.getAppItem(r),f)return u.LAD=n.isValidDate(f.lastAccessed)?f.lastAccessed.toJSON():undefined,u.AppLnch=f.totalLaunches,u.Args=f.launchArguments?1:0,u.MDN=f.isImmersive?1:0,u.Ext=f.extension,t.config.th&&(u.CDT=n.isValidDate(f.createdDate)?f.createdDate.toJSON():undefined,u.LMD=n.isValidDate(f.lastModifiedDate)?f.lastModifiedDate.toJSON():undefined,u.launchArguments=f.launchArguments,u.filePath=f.filePath),u;if(s=t.getItemWithFileMetadata(r),s){if(u.Ext=s.extension,t.config.th&&(u.itemTypeDisplayName=s.itemTypeDisplayName),h=t.getCommandLineItem(r),h)return t.config.th&&(u.launchArguments=h.launchArguments,u.encodedPath=h.encodedPath),u;t.getPathCompletionItem(r)||(o=r.deviceItem,u.CDT=n.isValidDate(o.createdDate)?o.createdDate.toJSON():undefined,u.LMD=n.isValidDate(o.lastModifiedDate)?o.lastModifiedDate.toJSON():undefined,u.Ext=o.extension?o.extension:"")}return u},f.prototype.logMasterPageImpression=function(t){n.safeExecute(function(){return ThresholdInst.LogPageImpression(t,null,t.enrichedClientInfo)},"logMasterImpressionForClient")},f.prototype.logDataSourceTimeout=function(i,f){var s,e,o,h;if(r.logProviderFailure)for(s=function(u){n.isDataSourceEnabled(u,f)&&!n.contains(i,u)&&n.safeExecute(function(){return r.logProviderFailure(t.providerFailureLogName(u),"NoReturnForTopHit")},"logProviderFailure")},e=0,o=u;e<o.length;e++)h=o[e],s(h)},f.prototype.onItemClick=function(){r.resetConversationIdNextTimeQFIsShown&&r.resetConversationIdNextTimeQFIsShown()},f.prototype.logClientPerfMetric=function(){if(!this._startupPerfLogged&&i.isCenterScreen){this._startupPerfLogged=!0;var f=n.cleanGuid(this._host.getRawImpressionGuid()),r=this.getClientPerfMetric(39),u=this.getClientPerfMetric(38),t=u-r;(t<=0||r==n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE||u==n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE)&&(t=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE);Log2.LogEvent("ClientPerf",{TTF:t.toString()},"SearchBoxFocused",null,null,f,null,null)}},f.prototype.getClientPerfMetric=function(t){var r=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,u=i.proactiveView?i.proactiveView.perfMetrics:null;if(u)try{r=u.lookup(t).getTime();r=r<=0?n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE:r}catch(f){}return r},f}();t.WSBInstrumentationProvider=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t="/QF_KEYSTROKE_VIRTUAL_URL?",i="autosuggest",r=function(){function r(t,i,r){var u=this;this._host=t;this._instrumentationProvider=i;this._clientTelemetry=r;this._conversationStartTimestamp=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE;this._keystrokesPerfPingData={};this._keystrokesInstrumentationData={};this._finalizeKeystrokeHandlers=[];ClientInstConfig.queueDumpInterval=n.config.logQueueDumpInterval;_w.ClTrCo.SharedClickSuppressed=!0;t.bindConversationStart(function(){return u.onConversationStart()})}return r.prototype.bindFinalizeKeystroke=function(n){this._finalizeKeystrokeHandlers.push(n)},r.prototype.getImpressionGuid=function(n){var t=this._keystrokesInstrumentationData[n];if(t&&t.ImpressionGuid)return t.ImpressionGuid;throw"getImpressionGuid(): No IG for sequence "+n;},r.prototype.updateSuggestionsList=function(n,t){this._clientTelemetry&&this._clientTelemetry.updateSuggestionsList(n,t)},r.prototype.instrumentItemClickForPreviewPane=function(n,t,i,r,u,f,e,o,s){var h=this.createBaseCustomGPingPayload(u,f);this.addPreviewPaneDataToGPingPayload(h,e,o,s);this.instrumentItemClickAndGPing(h,n,t,i,r,u)},r.prototype.instrumentItemClickForContextMenu=function(n,t,i,r,u,f,e){var o=this.createBaseCustomGPingPayload(u,f);this.addContextMenuDataToGPingPayload(o,e);this.instrumentItemClickAndGPing(o,n,t,i,r,u)},r.prototype.instrumentItemClick=function(n,t,i,r,u,f){if(t.getHandoffType()==999)this.instrumentLayoutItemSelect(t,i);else{var e=this.createBaseCustomGPingPayload(u,f);this.instrumentItemClickAndGPing(e,n,t,i,r,u)}},r.prototype.instrumentItemClickAndGPing=function(t,i,r,u,f,e){this.sendCustomGPing(t,r.getHValue(),i);var s=this._keystrokesInstrumentationData[u],o=this._keystrokesInstrumentationData[u];o?(s.RenderingStarted||this.updatePageIG(u),_G.IG!=o.ImpressionGuid&&SharedLogHelper.LogError("instrumentItemClick","IG ("+o.ImpressionGuid+") for sequenceNumber "+u+" does not match the page IG ("+_G.IG+")",new Error("IG for sequence number does not match the currently rendered page's IG (_G.IG)")),this._clientTelemetry&&this._clientTelemetry.logItemClickedMeasure(o.ConversationId,o.RawImpressionGuid,r,e)):SharedLogHelper.LogError("instrumentItemClick","sequenceNumber: "+u+" ConversationID: "+this._host.getConversationId(),new Error("No instrumentation data found for sequenceNumber"));this.finalizeKeystrokeLog(u,1);f&&f();this._instrumentationProvider.onItemClick();n.config.forceLogFlush?Log2.ForceFlush():Log2.FlushMainQueueDontForce();_w.clickFlushedTime=sb_gt()},r.prototype.instrumentLayoutItemSelect=function(n,t){var i={AppNS:n.getAppNS(),K:n.getLayoutKValue()};this.logClientInstEvent("Select","ItemClicked",t,i)},r.prototype.createBaseCustomGPingPayload=function(n,t){var i={};switch(n){case 1:i.i="k";i.mk=this.getModifierKeyCodes(t);break;case 3:i.i="t";break;case 4:i.i="p";break;case 5:i.i="n";break;case 6:i.i="b";break;case 0:i.i="x";i.mk=this.getModifierKeyCodes(t);break;default:i.mk=this.getModifierKeyCodes(t)}return i},r.prototype.addContextMenuDataToGPingPayload=function(n,t){n.cm=t},r.prototype.addPreviewPaneDataToGPingPayload=function(n,t,i,r){t&&(n.pp=t,i&&(n.ppit=i),typeof r=="number"&&(n.rho=r))},r.prototype.sendCustomGPing=function(t,i,r){var u=i;n.isEmpty(t)||(u+="&PR="+JSON.stringify(t));n.safeExecute(function(){return _w.si_T(u,null,null,0,r)},"logCustomGPing")},r.prototype.getModifierKeyCodes=function(n){if(n){var t=n.altKey?"A":"";if(t+=n.ctrlKey?"C":"",t+=n.shiftKey?"S":"",t)return t}return undefined},r.prototype.previewPaneOpenedOrClosed=function(n,t,i,r,u,f){var o=n?"Select":"Unselect",s=n?"PreviewPaneOpened":"PreviewPaneClosed",e;this.logClientInstEvent(o,s,t,f);n&&this._clientTelemetry&&(e=this._keystrokesInstrumentationData[t],e&&this._clientTelemetry.logPreviewPaneOpenedMeasure(i,r,u))},r.prototype.logClientInstEvent=function(n,t,i,r){var f=null,u;i&&(u=this._keystrokesInstrumentationData[i],u&&(f=u.ImpressionGuid));Log2.LogEvent(n,r,t,null,null,f,null,null)},r.prototype.safeInstrument=function(n,t,i,r){var u=this._keystrokesInstrumentationData[n];u?t(u):SharedLogHelper.LogError(i,(r?r+" ":"")+" sequenceNumber: "+n,new Error("No instrumentation data found for sequenceNumber"))},r.prototype.safeInstrumentPerf=function(n,t,i,r){var u=this._keystrokesPerfPingData[n];u?t(u):SharedLogHelper.LogError(i,(r?r+" ":"")+" sequenceNumber: "+n,new Error("No instrumentation data found for sequenceNumber"))},r.prototype.instrumentRenderingStarted=function(n){var t=this;this.safeInstrument(n,function(i){i.RenderingStarted=!0;t.updatePageIG(n)},"instrumentRenderingStarted")},r.prototype.instrumentBeginRequest=function(t,i,r){var e;delete this._keystrokesInstrumentationData[t-1];n.InstrumentedItem.resetKValues(t);e=this._keystrokesPerfPingData[t];e&&SharedLogHelper.LogError("instrumentBeginRequest","sequenceNumber: "+t,new Error("Duplicate BeginRequest for sequenceNumber"));var f=this._host.getConversationId(),u=this._host.getRawImpressionGuid(),o=n.cleanGuid(u),s=n.getCurrentTime()-r,h={RawImpressionGuid:u,ImpressionGuid:o,ConversationId:f,Query:i,PendingDataSources:{},DataSources:{},RankerExtraInfo:{},DuplicateDS:{},Layout:[],MasterPageImpressionCreated:!1,RenderingStarted:!1,PendingInstrumentedItems:{},PendingSyntheticSuggestions:{},OriginalTimestamp:s},c={RawImpressionGuid:u,ImpressionGuid:o,ConversationId:f,PrefixLength:i.queryToFetch?i.queryToFetch.length:0,RequestBegin:this.getOffsetedNow(s),ResponseReceived:{},MultipleResponsesReceived:{},DataSourcesState:this._searchServiceStatus?{Indexer:this._searchServiceStatus}:undefined,RenderFinished:{},AllDataSourcesProcessed:!1,PendingIcons:0,TopResultRendered:[],IconsRetrieved:{},ResponseFromCache:{}};this._keystrokesInstrumentationData[t]=h;this._keystrokesPerfPingData[t]=c;this._clientTelemetry&&this._clientTelemetry.logNewKeystrokeMeasure(f,u,i)},r.prototype.setSearchServiceStatus=function(n){this._searchServiceStatus=n},r.prototype.instrumentResponseReceived=function(n,t,i,r,u){var f=this;this.safeInstrumentPerf(n,function(n){if(!u){var e=f.getOffsetedNow();typeof n.ResponseReceived[t]!="number"?n.ResponseReceived[t]=e:(n.MultipleResponsesReceived[t]||(n.MultipleResponsesReceived[t]=[n.ResponseReceived[t]]),n.MultipleResponsesReceived[t].push(e))}i&&(n.DataSourcesState=n.DataSourcesState||{},n.DataSourcesState[t]=i);r&&(n.ResponseFromCache[t]=r)},"instrumentResponseReceived",t)},r.prototype.instrumentTopResultRendered=function(t,i){var r=this;this.safeInstrumentPerf(t,function(u){var f=r.getOffsetedNow(),e;u.TopResultRendered.push({V:f,T:i.join(",")});r.tryInstrumentRenderStopped(t,u);r._clientTelemetry&&(e=f-r._keystrokesPerfPingData[t].RequestBegin,r._clientTelemetry.logTopResultsRenderedMeasure(u.RawImpressionGuid,i,e));n.config.th&&n.safeFireEvent("TopResultRendered")},"instrumentTopResultRendered")},r.prototype.instrumentRenderedLocalSuggestion=function(n,t){var r=this._keystrokesInstrumentationData[n],u,f,i;if(r){for(u={},f={},i=0;i<t.length;i++)t[i].type=="FV"?u[i]="TBD":t[i].type=="HU"&&(f[i]="TBD");r.FvSug=u;r.HuSug=f}},r.prototype.instrumentAggregatorCall=function(t,i){var r=this;this.safeInstrument(t,function(t){var e={fastRankModelId:r._instrumentationProvider.getRankerModelId()},f,u;for(f in t.RankerExtraInfo)e[f]=t.RankerExtraInfo[f];t.RankerExtraInfo={};u={T:"D.Aggregator",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Aggregator",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:[],rankerModelIds:e};n.config.counterFactualLoggingOn&&(u.counterFactualDiff=u.counterFactualDiff||i);t.DataSources.aggregator=u},"instrumentAggregatorCall")},r.prototype.addDuplicatesDataSource=function(t){var i=Object.keys(t.DuplicateDS).map(function(n){return t.DuplicateDS[n]});i.length>0&&(t.DataSources.duplicates={T:"D.Duplicates",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Duplicates",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:i})},r.prototype.instrumentDuplicate=function(t,i,r){this.safeInstrument(t,function(t){var u=t.DuplicateDS[i.instItem.getHValue()],f;u||(u={T:"D.Duplicate",DS:[{T:"D.DSRef",KRef:i.instItem.getKValue()}]},i.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(u.DS[0].AppNS=i.instItem.getAppNS()),t.DuplicateDS[i.instItem.getHValue()]=u);f={T:"D.DSRef",KRef:r.instItem.getKValue()};r.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(f.AppNS=r.instItem.getAppNS());u.DS.push(f)},"instrumentDuplicate")},r.prototype.renderingStopped=function(n){return n.PendingIcons==0&&n.AllDataSourcesProcessed},r.prototype.notifyAllDataSourcesProcessed=function(n){var t=this;this.safeInstrumentPerf(n,function(i){i.AllDataSourcesProcessed=!0;t.tryInstrumentRenderStopped(n,i)},"notifyAllDataSourcesProcessed")},r.prototype.notifyIconPending=function(t,i,r,u){var f=this;this.safeInstrumentPerf(t,function(t){var e=r+(i?"T":"S");t.IconsRetrieved[e]||(t.IconsRetrieved[e]={B:f.getOffsetedNow(),E:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,T:u},t.PendingIcons++)},"notifyIconPending",i?"TR":"SUG")},r.prototype.notifyIconReady=function(n,t,i){var r=this;this.safeInstrumentPerf(n,function(n){var u=i+(t?"T":"S");n.IconsRetrieved[u]?n.IconsRetrieved[u].E=r.getOffsetedNow():SharedLogHelper.LogError("notifyIconReady",null,new Error("Instrumenting unseen icon"));n.PendingIcons--},"notifyIconReady",t?"TR":"SUG")},r.prototype.tryInstrumentRenderStopped=function(t,i){this.renderingStopped(i)&&(this.finalizeKeystrokeLog(t,2),n.config.th&&n.safeFireEvent("RenderStopped"))},r.prototype.isLayoutLogged=function(n){return this._keystrokesInstrumentationData[n].MasterPageImpressionCreated},r.prototype.finalizeKeystrokeLog=function(n,t){var r,i;t===void 0&&(t=0);this._finalizeKeystrokeHandlers.forEach(function(n){return n(t==0)});r=this._keystrokesInstrumentationData[n];r&&this.logKeystrokeData(r,n);t!=1&&(i=this._keystrokesPerfPingData[n],i&&(this.logPerfPingEvent(this.createKeystrokePerfPingEvent(n,i)),this._clientTelemetry&&this._clientTelemetry.logDataSourcePerformancesMeasure(i)))},r.prototype.instrumentRenderFinished=function(n,t,i){var r=this;this.safeInstrumentPerf(n,function(u){var f=r.getOffsetedNow();t.forEach(function(n){return u.RenderFinished[n]=f});r.tryInstrumentRenderStopped(n,u);r._clientTelemetry&&r._clientTelemetry.logGroupsRenderedMeasure(i)},"instrumentRenderFinished",t.join(","))},r.prototype.instrumentSyntheticInstrumentedItem=function(n,t,i){var r=this._keystrokesInstrumentationData[n];r?r.PendingInstrumentedItems[t]=i:SharedLogHelper.LogError("instrumentSyntheticInstrumentedItem",t,new Error("keystrokesInstrumentationData not found"))},r.prototype.instrumentSyntheticSuggestion=function(n,t){var i=this._keystrokesInstrumentationData[n];i?i.PendingSyntheticSuggestions[t.type]=t:SharedLogHelper.LogError("instrumentSyntheticSuggestion",t.type,new Error("Instrumentation synthetic suggestion after flush"))},r.prototype.getInstrumentedSyntheticSuggestion=function(n,t){return this._keystrokesInstrumentationData[n].PendingSyntheticSuggestions[t]},r.prototype.instrumentDataSource=function(n,t,i,r){this.safeInstrument(n,function(n){var u,f,e;if(r&&r.rankerExtraInfo)for(u in r.rankerExtraInfo)n.RankerExtraInfo[u]=r.rankerExtraInfo[u];f=i||[];e=n.PendingDataSources[t];n.PendingDataSources[t]=e?e.concat(f):f},"instrumentDataSource",t)},r.prototype.processPendingDataSources=function(t){var i,f,r,u,e,o;for(i in t.PendingDataSources)if(f=t.PendingDataSources[i],f.length>0){for(r=[],u=0,e=f;u<e.length;u++)o=e[u],r.push(this._instrumentationProvider.createDataSourceObject(o));i=="Web"&&(i="WebAS");r.length>0&&(t.DataSources[i]={T:"D."+i,AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:i,SC:r.length,DS:r})}t.PendingDataSources={}},r.prototype.instrumentSnRProviderFetchUrl=function(n,t){this.safeInstrument(n,function(n){n.SnRProviderFetchUrl=t},"instrumentSnRProviderFetchUrl")},r.prototype.onConversationStart=function(){if(this._conversationStartTimestamp=n.getCurrentTime(),this._searchServiceStatus=null,this._clientTelemetry){var t=this._host.getConversationId();this._clientTelemetry.logConversationStartMeasure(t,this._conversationStartTimestamp)}this._keystrokesPerfPingData=[]},r.prototype.getConversationStartTimestamp=function(){return this._conversationStartTimestamp},r.prototype.logDataSourceTimeout=function(n,t){this._instrumentationProvider.logDataSourceTimeout(n,t)},r.prototype.createKeystrokePerfPingEvent=function(t,i){var u={I:t,PL:i.PrefixLength,K:i.RequestBegin,RRT:i.ResponseReceived,MRT:i.MultipleResponsesReceived,RFT:i.RenderFinished,TRR:i.TopResultRendered,RS:undefined,IRT:i.IconsRetrieved},r,f,e,o,s;if(this.renderingStopped(i)){for(r=0,f=0,e=u.TRR;f<e.length;f++)o=e[f],r=Math.max(r,o.V);for(s in u.RFT)r=Math.max(r,u.RFT[s]);r&&(u.RS=r)}return n.InstrumentationCommon.createPerfPingEvent(i.ImpressionGuid,[u],"Keystroke",i.ConversationId,i.DataSourcesState,i.ResponseFromCache)},r.prototype.updatePageIG=function(n){_G.IG=this.getImpressionGuid(n)},r.prototype.createMasterPageImpression=function(t,r,u,f,e){var c=this,h={dataSources:e||[],layoutNodes:[],pageName:t,rawQuery:f?f.queryToFetch:"",isQuery:!1,impressionUrl:this.createVirtualImpressionURL(r,u),appName:this._instrumentationProvider.getApplicationName(),enrichedClientInfo:{FDPartnerEntry:i,nclid:_G.nclid,isOffline:n.isBrowserOnline()?0:1,webRequested:u?1:0}},o=n.safeExecute(function(){return c._instrumentationProvider.getEnrichedClientInfo(f)},"getEnrichedClientInfo"),s;if(o)for(s in o)h.enrichedClientInfo[s]=o[s];return h},r.prototype.logKeystrokeData=function(i){var u,f,r;(this.processPendingDataSources(i),n.config.th&&this.addDuplicatesDataSource(i),u=Object.keys(i.DataSources).map(function(n){return i.DataSources[n]}).concat(this.createNonSuggestionsDataSource(i.PendingInstrumentedItems,i.PendingSyntheticSuggestions)),i.DataSources={},i.PendingSyntheticSuggestions={},i.PendingInstrumentedItems={},u.length==0&&i.MasterPageImpressionCreated)||(i.RenderingStarted&&(f=DsLManager.CreateLayoutNode(_d.body,n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,!1,!0,i.MasterPageImpressionCreated)),i.MasterPageImpressionCreated?Log2.LogEvent("ClientInst",null,null,u,f,i.ImpressionGuid,null,null):(r=this.createMasterPageImpression(this._instrumentationProvider.getSuggestionsPageName(),t,i.SnRProviderFetchUrl?i.SnRProviderFetchUrl.substring(i.SnRProviderFetchUrl.indexOf("?")+1):"",i.Query,u),f&&(r.layoutNodes=f),i.FvSug&&Object.keys(i.FvSug).length>0&&(r.enrichedClientInfo.FvSug=i.FvSug),i.HuSug&&Object.keys(i.HuSug).length>0&&(r.enrichedClientInfo.HuSug=i.HuSug),r.clientTimestamp=i.OriginalTimestamp,this.logMasterPageImpression(i.ImpressionGuid,r),i.MasterPageImpressionCreated=!0))},r.prototype.logPerfPingEvent=function(t){Log2.LogEvent(t.EventType,t.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,t.ImpressionGuid,null,null);n.config.th&&ClientTestHooks.DebugLogNoConsole("perfPingEvent",[t])},r.prototype.logMasterPageImpression=function(t,i){if(i){if(!t){SharedLogHelper.LogError("logMasterPageImpression",null,new Error("Missing impressionGuid"));return}i.impressionGuid=t;this._instrumentationProvider.logMasterPageImpression(i,this._host.getConversationId());n.config.th&&ClientTestHooks.DebugLogNoConsole("masterPageImpression",i,t)}},r.prototype.instrumentInitializationFinish=function(t){var u=_G.ServerIG,i,r;if(!u){SharedLogHelper.LogError("instrumentInitializationFinish","Could not instrument as server IG not known",new Error("Could not instrument initilization finish"));return}if(i=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,r=_w.performance,r&&r.timing&&(i=r.timing.navigationStart),!(i<=0)){var f=t.getTime()-i,e=n.getCurrentTime()-i,o=[{BLT:f,ILT:e}],s=n.InstrumentationCommon.createPerfPingEvent(u,o,"Load");this.logPerfPingEvent(s)}},r.prototype.getOffsetedNow=function(t){return t===void 0&&(t=n.getCurrentTime()),t-this._conversationStartTimestamp},r.prototype.createNonSuggestionsDataSource=function(t,i){var r=[],u,f;for(u in t)r.push(this._instrumentationProvider.createNonSuggestionDataSourceObject(u,t[u]));for(u in i)r.push(this._instrumentationProvider.createDataSourceObject(i[u]));return r.length?(f={T:"D.ContentGroup",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"NonSuggestions",SC:r.length,DS:r},[f]):[]},r.prototype.createVirtualImpressionURL=function(t,i){var r=n.getWindowProtocol()+"//"+n.getWindowHost()+t;return r+=i?i:n.Service.QueryParams.ConversationId+"="+n.encodeQueryParameter(this._host.getConversationId()),_G.ServerIG&&(r+="&ASInitIG="+n.encodeQueryParameter(_G.ServerIG)),r},r}();n.InstrumentationHelper=r}(AutoSuggest||(AutoSuggest={})),function(n){var t="&nclid=",i="&ts=",r="&nclidts=",u="&tsms=",f="&elv=",e="&cc=",o="&setlang=",s="&cvid=",h="&qs=",c="&ao=",l="&wsso=",a=function(){function a(t,i,r,u){if(r===void 0&&(r=Date.now),u===void 0&&(u=n.getWindowProtocol()+"//"+n.getWindowHost()),this._host=t,this._searchPreCacheHandler=i,this.getNowTimestamp=r,this._baseUrl=u,n.config.overrideHost){var f=n.getWindowHost();f.startsWith("www.")&&(this._baseUrl=n.getWindowProtocol()+"//"+n.config.overrideHost+f.substring(3))}}return a.prototype.getSearchUrl=function(t,i,r,u,e,o,s,h,a){var b=e===13?"images":e===14?"videos":"",v,y,p,w;return u||(u=(b?"/"+b:"")+"/search?q="+n.encodeQueryParameter(i)),v=this._baseUrl+u,v+=n.config.th&&ClientTestHooks.isTesthookParamSet("isWindowsTest")?"&form=MONITR&traffictype=wintest":"&form="+n.encodeQueryParameter(o||this._host.getFormCode()),a&&(v+=c+"1"),v=this.enrichUrlWithSuggestionType(v,h?"P":r),v=this.enrichUrlWithCvid(v),n.config.suppressPqParameter||(v+="&pq="+n.encodeQueryParameter(t)),y=this._host.getMSNRefIg(),y&&(v+="&refig="+y),v=this.enrichUrlWithMarketInfo(v),v=this.enrichUrlWithDeviceInfo(v),s||(v=this.enrichUrlWithMuidInfo(v),p=this._host.getElToken(),p&&this._baseUrl.startsWith("https:")&&(v+=f+n.encodeQueryParameter(p)),v=this.enrichUrlWithSafeSearchInfo(v),this._searchPreCacheHandler&&(v=this._searchPreCacheHandler.attempPreCacheAndEnrichUrl(v))),w=this._host.getSafeSearchSetting(),w&&(v+=l+w),v},a.prototype.getImageSearchUrl=function(n){return n?this._baseUrl+"/images/detail/upload?FORM=SBIWSB":this._baseUrl+"/images/search?view=detailv2&iss=sbiupload"},a.prototype.enrichUrlWithDeviceInfo=function(n){this._host.isEducationEnvironment()&&(n+="&DAF0=1");this._host.isWindowsS()&&(n+="&DAF1=1");var t=this._host.getPartnerSearchCode();return t&&(n+="&PC="+t),n},a.prototype.enrichUrlWithMarketInfo=function(n){var t=this._host.getRegion(),i=this._host.getLanguage();return t&&(n+=e+t),i&&(n+=o+i),n},a.prototype.enrichUrlWithSafeSearchInfo=function(n){return this._host.getSafeSearchSetting()=="Strict"?n+"&adlt=strict":n},a.prototype.enrichUrlWithMuidInfo=function(f){var e,o,s;return _G.nclid&&(f+=t+n.encodeQueryParameter(_G.nclid),e=this.getNowTimestamp().toString(),f+=i+n.encodeQueryParameter(e),o=e.substring(0,e.length-3),f+=r+n.encodeQueryParameter(o),s=e.substring(e.length-3),f+=u+n.encodeQueryParameter(s)),f},a.prototype.enrichUrlWithCvid=function(t){return t+(s+n.encodeQueryParameter(this._host.getConversationId()))},a.prototype.enrichUrlWithSuggestionType=function(t,i){return t+(h+n.encodeQueryParameter(i))},a}();n.NavigationHelper=a}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(t,i){var r=this;this.host=t;this._selectableItemsContainer=i;t.bindKeyDown(function(t,u,f){var e=!1;t==9?e=r.selectFirstItemInNextGroup(u&&u.shiftKey):n.isUpOrDownKey(t)&&(e=r.selectNextItem(n.isUpKey(t)));i.onAfterKeyDown(t,u,f,e)})}return t.prototype.selectFirstItemInNextGroup=function(t){var i=this._selectableItemsContainer.getSelectableItemsByGroup();if(i.length==0)return!1;var f=this._selectableItemsContainer.getSelectedItem(),r=i.findIndex(function(t){return n.contains(t,f)}),e=r<0?-1:i[r].findIndex(function(n){return n==f}),u;return(r<0?u=i[0][0]:t&&e>0?u=i[r][0]:t?r>0&&(u=i[r-1][0]):r+1<i.length&&(u=i[r+1][0]),u)?(this._selectableItemsContainer.select(u,!0),!0):!1},t.prototype.selectNextItem=function(t){var i=this._selectableItemsContainer.getSelectableItems(),e;if(i.length==0)return!1;var u=this._selectableItemsContainer.getSelectedItem(),r=u?i.indexOf(u):-1,f=t?r==0:r==i.length-1;return f&&n.RuntimeConfig.AllowKeyboardNavOffCanvas?(this._selectableItemsContainer.select(null,!0),!0):f&&!n.RuntimeConfig.AllowKeyboardNavCycling?!1:(e=t?r<=0?i.length-1:r-1:(r+1)%i.length,this._selectableItemsContainer.select(i[e],!0),!0)},t}();n.KeyboardEvtHandler=t}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(n,t,i,r,u){this._host=n;this._instrumentationHelper=t;this._ariaLogger=i;this._aggregator=r;this._rootViewModel=u;this._lastUsedId=-1;this._sequenceNumber=-1;this._suggestionsQueue={};this._dataSourcesCompleted={}}return t.prototype.initiateSequenceNumber=function(t,i){var o=this,u,f,r,s,e;if(this._sequenceNumber>=t){SharedLogHelper.LogError("initiateSequenceNumber",null,new Error("Unexpected sequence number"));return}for(this.resetStateForNewQuery(t,i),this._highPriorityDataSources=[],this._normalPriorityDataSources=[],this._lowPriorityDataSources=[],u=0,f=n.config.enabledDataSources;u<f.length;u++)(r=f[u],r!=n.WebDataSource||n.isBingEnabled(!0))&&(s=i.enabledDataSources[r],s&&(n.config.lowPriorityDataSources[r]?this._lowPriorityDataSources.push(r):n.config.highPriorityDataSources[r]?this._highPriorityDataSources.push(r):this._normalPriorityDataSources.push(r)));this._highPriorityDataSources.length==0&&this._normalPriorityDataSources.length==0&&this._lowPriorityDataSources.length==0?this.processSuggestions(!1):(e=this.getLatencyTimeout(),e>0&&(this._bufferingTimer=n.safeSetTimeout(function(){o._bufferingTimer=null;o.processSuggestions(!0)},e,"processSuggestionsBuffering")))},t.prototype.getLatencyTimeout=function(){return this._partialQuery.queryToFetch?n.config.latencyTimeout:n.config.latencyTimeoutForZeroInput},t.prototype.queueSuggestions=function(t,i,r,u,f){var e;if(t>this._sequenceNumber){SharedLogHelper.LogError("queueSuggestions",null,new Error("Unexpected sequence number"));return}if(!(t<this._sequenceNumber)){if(this._dataSourcesCompleted[i]){SharedLogHelper.LogError("queueSuggestions",i,new Error("Data source already completed"));return}if(!n.contains(this._highPriorityDataSources,i)&&!n.contains(this._normalPriorityDataSources,i)&&!n.contains(this._lowPriorityDataSources,i)){SharedLogHelper.LogError("queueSuggestions",i,new Error("Unexpected data source"));return}this._suggestionsQueue[i]&&!this._suggestionsQueue[i].updated?(e=this._suggestionsQueue[i].suggestions).push.apply(e,r):this._suggestionsQueue[i]={suggestions:r,updated:!1};this._dataSourcesCompleted[i]=!f;u&&(this._extraSignalsMap[i]=u);f||this._arrivedDataSources.push(i);this._allDataSourcesArrived=this._arrivedDataSources.length==this._highPriorityDataSources.length+this._normalPriorityDataSources.length+this._lowPriorityDataSources.length;this._processingStopped||this._instrumentationHelper.isLayoutLogged(this._sequenceNumber)?this._allDataSourcesArrived&&this._instrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber):this.processSuggestions(!1)}},t.prototype.resetTimers=function(){this._bufferingTimer&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null)},t.prototype.resetStateForNewQuery=function(t,i){this._arrivedDataSources=[];this._allProcessedDataSources={};this._sequenceNumber=t;this._partialQuery=i;this._suggestionsQueue={};this._dataSourcesCompleted={};this._extraSignalsMap={};this._renderedThisSequenceNumber=!1;this._waitingForMoreResults=!0;this._processingStopped=!1;this._allDataSourcesArrived=n.isEmpty(i.enabledDataSources);this.resetTimers()},t.prototype.getDependencies=function(t){var i=this;return this._host.dataSourceDependencies(t).filter(function(t){return n.isDataSourceEnabled(t,i._partialQuery)})},t.prototype.haveAllDataSourcesArrived=function(n){var t=this;return n.every(function(n){return!!t._suggestionsQueue[n]})},t.prototype.haveAllDataSourcesCompleted=function(n){var t=this;return n.every(function(n){return!!t._dataSourcesCompleted[n]})},t.prototype.processSuggestions=function(t){var i=this,u=[],o=[],r,l=this.getLatencyTimeout()>0&&this._bufferingTimer==null,s=this.haveAllDataSourcesArrived(this._highPriorityDataSources),a=s||l,v=this.haveAllDataSourcesCompleted(this._normalPriorityDataSources),y=this.haveAllDataSourcesCompleted(this._highPriorityDataSources),h=y&&v,c;t&&(this._instrumentationHelper.logDataSourceTimeout(Object.keys(this._suggestionsQueue),this._partialQuery),this._ariaLogger&&this._ariaLogger.logDataProviderFailure(Object.keys(this._suggestionsQueue),this._partialQuery.originalQuery));var f=t&&!this._renderedThisSequenceNumber,p=function(t,e){var s;if(!t.updated&&i.getDependencies(e).every(function(t){return n.contains(i._arrivedDataSources,t)})){if(o.push(e),i._allProcessedDataSources[e]=!0,t.suggestions.length>0&&(s=i.canHaveSuppressions(e)?t.suggestions.filter(function(n){return!i.isSuppressed(e,n,t.suggestions)}):t.suggestions,s.length>0)){r||(r=i._renderedThisSequenceNumber?i._rootViewModel.getSuggestions(!0):[]);var h=i.removeDuplicatesAndAssignIds(s,r,u,e),c=h[0],l=h[1];u=u.concat(c);l&&(f=!0)}t.updated=!0}},e=function(n){var u,t,r;for(u in n)t=n[u],r=i._suggestionsQueue[t],r&&p(r,t)};a&&e(this._highPriorityDataSources);this._bufferingTimer&&h&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null);c=this.getLatencyTimeout()>0?this._bufferingTimer==null:s;c&&(e(this._normalPriorityDataSources),e(this._lowPriorityDataSources));this._waitingForMoreResults&&h&&(this._waitingForMoreResults=!1,(!this._renderedThisSequenceNumber||this._rootViewModel.mayNeedFlush()||(r||this._rootViewModel.getSuggestions(!0)).length==0)&&(f=!0));this._partialQuery.showProgressBar&&this._allDataSourcesArrived&&(f=!0);(u.length>0||f)&&(r||(r=this._renderedThisSequenceNumber?this._rootViewModel.getSuggestions(!0):[]),this.addSuggestions(r,u,o,f));this._allDataSourcesArrived&&this._instrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber)},t.prototype.getAggregatorResult=function(t,i,r){var e=this.waitingForWebProvider(),f=null,u,o;return n.config.counterFactualLoggingOn&&(f=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!0)),u=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!1),o=n.config.counterFactualLoggingOn&&(!this.isSuggestionOrderTheSame(u.topResults,f.topResults)||!this.isSuggestionOrderTheSame(u.suggestionsToAdd,f.suggestionsToAdd)),[u,o]},t.prototype.waitingForWebProvider=function(){var t=this;return n.isBrowserOnline()&&[n.WebDataSource].concat(this.getDependencies(n.WebDataSource)).some(function(i){return n.isDataSourceEnabled(i,t._partialQuery)&&!t._allProcessedDataSources[i]})},t.prototype.isSuggestionOrderTheSame=function(n,t){var r=function(n){return n.query+"\t"+n.type},i;if(n.length!=t.length)return!1;for(i=0;i<n.length;i++)if(r(n[i])!=r(t[i]))return!1;return!0},t.prototype.addSuggestions=function(t,i,r,u){var e=this,o=this._renderedThisSequenceNumber?this._rootViewModel.getCurrentTopResults():[],v=n.safeExecute(function(){return e.getAggregatorResult(o,t,i)},"getAggregatorResults",[null,!1]),f=v[0],p=v[1],s,h,l,c,a,y;for(f||(f={topResults:o,suggestionsToAdd:i,suggestionsToRemove:[],groupOrder:[]}),this._instrumentationHelper.instrumentAggregatorCall(this._sequenceNumber,p),i=f.suggestionsToAdd,s=f.suggestionsToRemove,h=0,l=f.topResults;h<l.length;h++)c=l[h],n.contains(t,c)&&!n.contains(o,c)&&s.push(c);(u||i.length!=0||s.length!=0||!n.sequenceEqual(o,f.topResults))&&(a=!this._renderedThisSequenceNumber,a&&(this._renderedThisSequenceNumber=!0,this._instrumentationHelper.instrumentRenderingStarted(this._sequenceNumber)),y=n.safeExecute(function(){return e._rootViewModel.update(a,f.topResults,e._waitingForMoreResults,e._sequenceNumber,i,s,r,f.groupOrder,e._allDataSourcesArrived,e._extraSignalsMap)},"rootViewModel.update",0,null,function(t){n.WSB&&n.WSB.fallbackToPrepopulatedBundle&&n.WSB.fallbackToPrepopulatedBundle(t)}),y==0&&(this._processingStopped=!0,this.resetTimers()))},t.prototype.removeDuplicatesAndAssignIds=function(n,t,i,r){var f=this,h=function(n){n.id||(n.id="id_"+ ++f._lastUsedId)},s=!1,o;if(this._aggregator.canHaveDuplicates(r,this._partialQuery)){var e=[],c=function(o){var a=n[o],l=t.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),c;if(l>=0)return c=t[l],c.needsRefreshAfterDeduping&&(s=!0),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,c,a),"continue";if(l=i.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),l>=0)return c=i[l],c.needsRefreshAfterDeduping&&(c.needsRefreshAfterDeduping=!1),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,c,a),"continue";if(u._aggregator.canHaveDuplicatesWithinDataSource(r,u._partialQuery)&&(l=e.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),l>=0))return c=e[l],c.needsRefreshAfterDeduping&&(c.needsRefreshAfterDeduping=!1),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,e[l],a),"continue";h(a);e.push(a)},u=this;for(o=0;o<n.length;++o)c(o);return[e,s]}return n.forEach(function(n){return h(n)}),[n,s]},t.prototype.canHaveSuppressions=function(t){return n.config.suppressDataSources[t]||n.config.dataSourcesWithSuppressedTypes[t]},t.prototype.isSuppressed=function(t,i){return n.config.suppressDataSources[t]||n.config.suppressTypes[i.type]},t}();n.SuggestionsRenderingManager=t}(AutoSuggest||(AutoSuggest={})),function(n){function y(n){return n.handoffType==1?n.query:HitHighlightingParser.removeMarkers(n.text)}function f(n){var t,i;if(n.length==0)return 0;for(t=0,i=0;i<n.length;i++)t=(t<<5)-t+n.charCodeAt(i)|0;return t}function t(n,t){var u,i,r;if(!n)return t.length;if(!t)return n.length;for(u=[],i=0;i<=t.length;i++)u[i]=[i];for(r=0;r<=n.length;r++)u[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=n.length;r++)u[i][r]=t.charAt(i-1)==n.charAt(r-1)?u[i-1][r-1]:Math.min(u[i-1][r-1]+1,Math.min(u[i][r-1]+1,u[i-1][r]+1));return u[t.length][n.length]}function p(n,i){return n&&(n=n.toLocaleLowerCase()),i&&(i=i.toLocaleLowerCase()),t(n,i)}function o(n,t,i){var r=0,u;return(t>0||i>0)&&(t>0&&i>0?(i>t&&(u=t,t=i,i=u),r=n/(t-n+i)):r=Number.MAX_VALUE),r}function s(n,t){var r=n.length,e=t.length,a,v,f,o,i;if(r===0&&e===0)return 1;var h=new Array(r),s=new Array(e),u=0,c=0,l=Math.floor(Math.max(r,e)/2)-1;for(i=0;i<r;i++)for(a=Math.max(0,i-l),v=Math.min(e,i+l+1),f=a;f<=v;f++)if(!s[f]&&n[i]==t[f]){h[i]=!0;s[f]=!0;u++;break}if(u===0)return 0;for(o=0,i=0;i<r;i++)if(h[i]){while(!s[o])o++;n[i]!=t[o]&&c++;o++}return(u/r+u/e+(u-c/2)/u)/3}function w(n,t){var i=s(n,t),r,u;return i<1?i:(r=.1,u=h(n,t),i+u*r*(1-i))}function h(n,t){for(var i=0;i<4;i++)if(n[i]!=t[i])return i;return++i}function b(n,t){return!n||!t?0:n.length+1<=t.length&&t[n.length]==" "?1:n.length==t.length?1:0}function k(n){var r=0,i=1,t;if(n&&n.length>1)for(t=1;t<n.length;t++)n.charAt(t)==n.charAt(t-1)?i++:i=1,i>r&&(r=i);else if(n)return 1;return r}function d(n){return n&&n.length>0?n.trim().split(" ").length:0}function g(n){var t=new RegExp("^[0-9a-zA-Z ]+$");return n&&t.test(n)?1:0}function nt(n){return n&&n.length>0&&n.charAt(n.length-1)==" "?1:0}function tt(n){return n&&n.length>0&&(n.includes("http://")||n.includes("https://")||n.includes("."))?1:0}function it(t,i,r,u){var o,e,s,h;t.includes("?")&&(r[117]=1,ot(t)&&(r[127]=1));t.replace("///","").replace("//","").includes("/")&&(r[118]=1);t.includes(".")&&(r[119]=1);o=u.cvid+u.privacyNumber+t;r[120]=f(o);e=t.toLocaleLowerCase();(e.startsWith("www.")||e.startsWith("http://www.")||e.startsWith("https://www."))&&(r[122]=1);e.startsWith("www.")||e.startsWith("http://")?r[123]=1:e.startsWith("https://")?r[124]=1:e.startsWith("ftp://")?r[125]=1:r[126]=1;i&&(s=n.normalizeUrl(e,15),h=n.normalizeUrl(i,15).toLocaleLowerCase(),s.startsWith(h)&&(r[187]=1))}function rt(n,i,r,u,e){if(e){r[128]=t(e,i);r[129]=e.length;var o=u.cvid+u.privacyNumber+e;r[130]=f(o)}}function ut(n,i,r){var e=n.toLocaleLowerCase(),s,u,f,h,c;if(r[140]=n.length,s=e.split(" "),r[144]=s.length,i)for(r[141]=t(n,i),r[142]=Math.min(100,o(r[141],i.length,n.length)),u=i.toLocaleLowerCase(),e.includes(u)&&(r[143]=1),e.startsWith(u)&&(r[188]=1),f=0,h=s;f<h.length;f++)if(c=h[f],c==u){r[145]=1;break}}function ot(n){var t=et.find(function(t){return n.startsWith(t)});return n=t?n.substr(t.length):n,ft.some(function(t){return n.startsWith(t)})}function st(n){var i=0,r,t;if(n)for(r in n)t=n[r],t&&t.prefixLaunchCount&&(i+=t.prefixLaunchCount);return i}function ht(t,i,r,u){if(r){var f=r[t];f&&(i[47]=f.prefixLaunchCount,i[49]=f.lastLaunchTime,i[101]=u,u>0&&(i[100]=f.prefixLaunchCount/u),f.previewPaneLaunchCount&&f.lastPreviewPaneLaunchTime&&(i[301]=f.previewPaneLaunchCount,f.lastPreviewPaneLaunchTime==f.lastLaunchTime&&(i[302]=1),i[303]=n.getCurrentTime()-f.lastPreviewPaneLaunchTime))}}function ct(n,t,i){if(i){var r=i[n];r&&(t[281]=r.probability,t[282]=r.weight)}}function lt(n,t,r,u,f,e){if(t){var s=i(u,r),o=t[s];o&&(f?(n[153]=o.ProbSugClickGivenPref,n[152]=o.ClicksOnSugGivenPref):e?(n[161]=o.Loglikelihood,n[162]=o.ProbSugClickGivenBackground,n[163]=o.ClicksOnSugGivenPref,n[164]=o.ProbSugClickGivenPref,n[165]=o.CCR,n[166]=o.EventCount,n[293]=o.ProbSugClickGivenPrefTime,n[168]=o.CCRTime,n[294]=o.ProbSugClickGivenBackgroundTime,n[295]=o.LoglikelihoodTime):(n[6]=o.Loglikelihood,n[3]=o.ProbSugClickGivenBackground,n[151]=o.ClicksOnSugGivenPref,n[0]=o.ProbSugClickGivenPref,n[94]=o.CCR,n[95]=o.EventCount,n[290]=o.ProbSugClickGivenPrefTime,n[155]=o.CCRTime,n[291]=o.ProbSugClickGivenBackgroundTime,n[292]=o.LoglikelihoodTime))}}function at(n,t,i){if(t){var r=t[i];r&&(n[256]=r.PSGPCR,n[257]=r.PSGCCR,n[258]=r.PSGSTR,n[286]=r.PSGSATCCR,n[287]=r.PSGSATPCR)}}function i(n,t){return(n+"\t"+t).toLocaleLowerCase()}function r(t,i,r){i==11..toString()&&i==0..toString();switch(n.config.athenaKeyType){case 0:return t||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group is empty")),t;case 1:return i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),i;case 2:return r||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key suggestion type is empty")),i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),r+"_"+i;default:return SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group type is not set")),""}}function u(t,i,r){switch(n.config.athenaKeyType){case 0:return i==t;case 1:return r==t;case 2:return r==t;default:return!1}}function vt(t){var i={};return t?(n.config.athenaKeyType==2?wt(t,i):(yt(t,i),pt(t,i)),i):i}function yt(t,f){var y=t.Suggestions?t.Suggestions.split("\t"):[],p=t.ProbSugClickGivenPrefs?t.ProbSugClickGivenPrefs.split("\t"):[],w=t.ClicksOnSugGivenPrefs?t.ClicksOnSugGivenPrefs.split("\t"):[],b=t.ProbSugClickGivenBackground?t.ProbSugClickGivenBackground.split("\t"):[],k=t.Loglikelihoods?t.Loglikelihoods.split("\t"):[],a=t.SuggestionGroups?t.SuggestionGroups.split("\t"):[],d=t.ProbSugClickGivenPrefWeeks?t.ProbSugClickGivenPrefWeeks.split("\t"):[],v=t.ProbSugClickGivenPrefWeekends?t.ProbSugClickGivenPrefWeekends.split("\t"):[],g=t.ProbSugClickGivenBackgroundWeeks?t.ProbSugClickGivenBackgroundWeeks.split("\t"):[],it=t.ProbSugClickGivenBackgroundWeekends?t.ProbSugClickGivenBackgroundWeekends.split("\t"):[],nt=t.LoglikelihoodWeeks?t.LoglikelihoodWeeks.split("\t"):[],tt=t.LoglikelihoodWeekends?t.LoglikelihoodWeekends.split("\t"):[],c=n.config.athenaKeyType==0||!t.SuggestionHandOffTypes?[]:t.SuggestionHandOffTypes.split("\t"),s=y.length,l=e(),o;if(u(s,a.length,c.length))for(o=0;o<s;o++){var rt=a&&a.length>o?a[o]:"",ut=c&&c.length>o?c[o]:"",ft=r(rt,ut,""),h=i(y[o],ft);f[h]={SuggestionGroup:+a[o]};b.length==s&&(f[h].ProbSugClickGivenBackground=Number(b[o]));p.length==s&&(f[h].ProbSugClickGivenPref=Number(p[o]));w.length==s&&(f[h].ClicksOnSugGivenPref=Number(w[o]));k.length==s&&(f[h].Loglikelihood=Number(k[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].SuggestionHandOffType=Number(c[o]));d.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenPrefTime=Number(v[o])):f[h].ProbSugClickGivenPrefTime=Number(d[o]);g.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenBackgroundTime=Number(it[o])):f[h].ProbSugClickGivenBackgroundTime=Number(g[o]);nt.length!=s||l?tt.length==s&&l&&(f[h].LoglikelihoodTime=Number(tt[o])):f[h].LoglikelihoodTime=Number(nt[o])}else SharedLogHelper.LogError("parseLLSignals",null,new Error("Length doesn't match"))}function pt(t,f){var a=t.CCRSuggestions?t.CCRSuggestions.split("\t"):[],l=t.CCRSuggestionGroups?t.CCRSuggestionGroups.split("\t"):[],v=t.CCRs?t.CCRs.split("\t"):[],y=t.EventCounts?t.EventCounts.split("\t"):[],c=n.config.athenaKeyType==0||!t.CCRSuggestionHandOffTypes?[]:t.CCRSuggestionHandOffTypes.split("\t"),p=t.CCRsWeek?t.CCRsWeek.split("\t"):[],w=t.CCRsWeekend?t.CCRsWeekend.split("\t"):[],s=a.length,b=e(),o;if(u(s,l.length,c.length))for(o=0;o<s;o++){var k=l&&l.length>o?l[o]:"",d=c&&c.length>o?c[o]:"",g=r(k,d,""),h=i(a[o],g);f[h]||(f[h]={SuggestionGroup:Number(l[o])});v.length==s&&(f[h].CCR=Number(v[o]));y.length==s&&(f[h].EventCount=Number(y[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].CCRSuggestionHandOffType=Number(c[o]));p.length!=s||b?w.length==s&&b&&(f[h].CCRTime=Number(w[o])):f[h].CCRTime=Number(p[o])}else SharedLogHelper.LogError("parseCCRSignals",null,new Error("Length doesn't match"))}function wt(n,t){var o=n.SugTypes?n.SugTypes.split("\t"):[],s=n.HandOffTypes?n.HandOffTypes.split("\t"):[],h=n.PSGPCRs?n.PSGPCRs.split("\t"):[],c=n.PSGCCRs?n.PSGCCRs.split("\t"):[],l=n.PSGSTRs?n.PSGSTRs.split("\t"):[],a=n.PSGSATCCRs?n.PSGSATCCRs.split("\t"):[],v=n.PSGSATPCRs?n.PSGSATPCRs.split("\t"):[],f=o.length,i;if(u(f,0,s.length))for(i=0;i<f;i++){var y=o[i],p=s[i],e=r("",p,y);t[e]={};h.length==f&&(t[e].PSGPCR=Number(h[i]));c.length==f&&(t[e].PSGCCR=Number(c[i]));l.length==f&&(t[e].PSGSTR=Number(l[i]));a.length==f&&(t[e].PSGSATCCR=Number(a[i]));v.length==f&&(t[e].PSGSATPCR=Number(v[i]))}else SharedLogHelper.LogError("parseGroupEngagementSignals",null,new Error("Length doesn't match"))}function bt(n,t){var r={},f,s,o,i;if(t){var h=0,v=0,u={};for(f=0,s=t;f<s.length;f++){var y=s[f],e=y.key,p=y.value;u[e]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};v+=c(u,e,n);o=a(p);u[e].groupClickCounts=o.groupLaunches;for(i in u[e].groupClickCounts)r[i]||(r[i]={probability:0,weight:0}),r[i].probability+=o.groupHits[i],h+=o.groupHits[i]}l(r,u,v,h)}return r}function kt(n,t){var r={},f,o,i;if(t){var h=0,a=0,u={};for(f=0,o=t;f<o.length;f++){var v=o[f],s=v.key,e=v.value;u[s]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};a+=c(u,s,n);for(i in e)e[i]&&e[i].prefixLaunchCount&&(r[i]||(r[i]={probability:0,weight:0}),u[s].groupClickCounts[i]=e[i].prefixLaunchCount,r[i].probability++,h++)}l(r,u,a,h)}return r}function c(n,t,i){var r=t.length-i.length,u=r/t.length;return n[t].lexicalSimilarity=1-u,n[t].lexicalSimilarity}function l(n,t,i,r){var o=0,s,e,f,u;for(e in t){f=t[e];f.lexicalSimilarity/=i;for(u in f.groupClickCounts)s=f.groupClickCounts[u],f.groupWeight[u]=s*f.lexicalSimilarity,o+=f.groupWeight[u]}for(u in n)n[u].probability/=r;for(e in t){f=t[e];for(u in f.groupClickCounts)n[u]||(n[u]={probability:0,weight:0}),f.groupWeight[u]/=o,n[u].weight+=f.groupWeight[u]}}function a(n){var u=function(n,t,i){return n[t]=n[t]?n[t]+i:i},r={groupLaunches:{},groupHits:{},otherGroupLaunches:0},f,t,i;for(f in n)(t=n[f],t&&t.prefixLaunchCount)&&(i=t.groupType,i||i===0?(u(r.groupLaunches,i,t.prefixLaunchCount),u(r.groupHits,i,1)):r.otherGroupLaunches+=t.prefixLaunchCount);return r}function dt(n,t,i,r){if(r){var f=i(t),u=r[f];u&&(n[266]=u.probability,n[267]=u.weight)}}function e(t){var i=t?t.getDay():n.getCurrentDate().getDay(),r=i==6||i==0;return n.config.invertIsWeekend?!r:r}function gt(n){for(var t in n)n[t]?n[t]=v(Number(n[t])):delete n[t]}function v(n){return Number(n.toFixed(5))}function ni(n,t){n.featureStore||(n.featureStore={});n.featureStore[t]=1}n.getTextForLexicalFeatures=y;n.stringHashCode=f;n.getEditDistance=t;n.getEditDistanceIgnoreCase=p;n.computeEditDistanceRatio=o;n.computeJaroSimilarity=s;n.computeJaroWinklerSimilarity=w;n.computeJaroWinklerPrefixOverLapCount=h;n.isWordBoundary=b;n.countMaxContiguousRepeatedChars=k;n.getNumberOfWords=d;n.containsOnlyDigitsLettersOrSpaces=g;n.endsWithSpace=nt;n.prefixIsLikeUrl=tt;n.computeUrlFeatures=it;n.computeDomainFeatures=rt;n.computeTitleFeatures=ut;var ft=["www.bing.","cn.bing.","www.google.","www.yandex.","www.baidu.","www.yahoo.",],et=["http://","https://",];n.getSumMruLaunches=st;n.setMRUSignal=ht;n.setMRUBackPropSignal=ct;n.setEngagementSignals=lt;n.setSuggestionGroupEngagementSignals=at;n.getEngagementSignalKey=i;n.getAthenaGroupKey=r;n.checkAthenaGroupLength=u;n.parseWebEngagementSignals=vt;n.computeGroupBackpropagatedClicks=bt;n.computeSuggestionBackpropagatedClicks=kt;n.evaluateGroupLaunches=a;n.setMRUGroupBackpropClicks=dt;n.isWeekend=e;n.removeUndefinedAndZeroAndTrimValues=gt;n.trimFeatureStoreValue=v;n.setFlagInFeatureStore=ni}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function r(n){return n.isSearchHomeZI}i.suggestionRankingModels={};var u=function(){function u(){}return u.prototype.rank=function(n,i,u,f,e,o,s,h,c,l){var a,v,y,p;return r(n)?{topResults:[],mruSuppressions:null}:n.scope==t.Scope.PathCompletion?this.rankPathCompletion(i):(a=t.isL2(n)?null:{mruGroupRatios:null,maxGroupCCR:null,maxGroupProbSugClickGivenPref:null,mruGroupBackpropWeights:null,mruGroupBackpropRatios:null},v=i.slice(),t.config.disableWebRankingSignals&&(o=null,u=null,h=null),this.orderSuggestions(n,i,u,f,o,s,h,c,a,e),this.setMRUHintEnabled(n,i),this.setGroupSuppressionSignals(a,i),y=this.getTopHitCandidates(n,i,l.searchTheWeb,v),p=this.createMulticlassClassifierTopHitSuggestionList(y),{topResults:p,mruSuppressions:a})},u.prototype.setMRUHintEnabled=function(n,i){var f,r,u;if(t.config.enableMRUHint)for(f=n.queryToFetch.toLocaleLowerCase(),r=0;r<i.length;r++)u=i[r].featureStore,u[281]&&u[282]&&(t.config.enableMRUHint!=1&&i[r].text.toLocaleLowerCase().startsWith(f)||(i[r].mruHintEnabled=!0))},u.prototype.rankPathCompletion=function(n){var t=n.find(function(n){return n.type=="CG"})||n[0];return{topResults:t?[t]:[],mruSuppressions:null}},u.prototype.orderSuggestions=function(r,u,f,e,o,s,h,c,l,a){var g=this,b=n.safeExecute(function(){return g.createFeatureStore(r,u,f,e,o,s,h,l,a)},"createFeatureStore"),p,y,k,w,d,v;if(b=b||u.map(function(){return{}}),y=c?t.config.counterFactualRankerId:t.config.mainRankerId,y?(p=n.safeExecute(function(){return i.suggestionRankingModels[y]},"getRanker"),p||SharedLogHelper.LogError("getRanker",y,new Error("Model not found"))):SharedLogHelper.LogError("getRanker",y,new Error(c?"CounterFactualRankerId not defined ":"MainRankerId not defined")),p)for(k=function(t){var i=b[t],r=n.safeExecute(function(){return p(i)},"calculateRankingScore");u[t].rankingScore=n.trimFeatureStoreValue(r);u[t].featureStore=i},v=0;v<u.length;v++)k(v);if(w=u.filter(function(n){return n.type=="MB"}),u.sort(function(n,t){return t.rankingScore-n.rankingScore}),w.length>1)for(d=u.map(function(n,t){return n.type=="MB"?t:undefined}).filter(function(n){return typeof n=="number"}),v=0;v<w.length;++v)u[d[v]]=w[v]},u.prototype.getSuggestionScoreFromSuggestionLogMeta=function(n){var t=";2152:";return n.indexOf(t)>=0?parseInt(n.substring(n.indexOf(t)+6).split(";")[0].slice(1,-1)):NaN},u.prototype.getTopWebSuggestion=function(n){var u,f,t,e,i,r;if(n.length==0)return null;if(u=n[0],f=64e3,n.length>1)for(t=0,e=n;t<e.length;t++)i=e[t],i.suggestionLogMeta&&(r=this.getSuggestionScoreFromSuggestionLogMeta(i.suggestionLogMeta),!isNaN(r)&&r<f&&(f=r,u=i));return u},u.prototype.bypassFallbackForMBS=function(i,r,u){return(t.config.bypassFallbackOnMSBTopHit==2||t.config.bypassFallbackOnMSBTopHit==3)&&r.every(function(t){return n.isWebSuggestion(t)||t.handoffType==17||t.isAnswer})?!0:(t.config.bypassFallbackOnMSBTopHit==1||t.config.bypassFallbackOnMSBTopHit==4)&&!r.some(function(n){return t.isApp(n.type)||t.isSetting(n.type)})&&u.length>0&&(u[0].type=="PPL"||u[0].type=="BKS")?!0:t.config.bypassFallbackOnMSBTopHit==4&&!r.some(function(n){return t.isApp(n.type)||t.isSetting(n.type)})&&u.length>1&&(u[0].isAnswer||n.isWebSuggestion(u[0]))&&(u[1].type=="PPL"||u[1].type=="BKS"||u.length>2&&u[0].isAnswer&&u[1].isAnswer&&(u[2].type=="PPL"||u[2].type=="BKS"))?!0:!1},u.prototype.getTopHitCandidates=function(i,r,u,f){var l=this,e=r.filter(function(n){return l.allowInTopHit(i,n,f)}),h,o,c,s;return this.bypassFallbackForMBS(i,r,e,f)?(h=[],o=f.filter(function(n){return n.type=="PPL"}),o.length==0&&(o=f.filter(function(n){return n.type=="BKS"})),o.length>0&&o[0].autoOpenPreviewPaneWhenOnTopHit&&(t.config.bypassFallbackOnMSBTopHit!=3||n.getTextForLexicalFeatures(o[0]).toLowerCase().startsWith(i.queryToFetch.toLowerCase()))&&h.push(o[0]),t.config.bypassFallbackOnMSBTopHit==4&&(e[0].isAnswer||n.isWebSuggestion(e[0]))&&(e[0].isAnswer||this.getFallbackClassifierScore(e[0])>t.config.webFbcScoreThreshold)&&h.push(e[0]),h):this.enableFallbackClassifier(i,e,u)?t.config.disableTopHitSyntheticWeb&&i.queryToFetch.length>=t.config.minPrefixDisableTopHitSW&&e.every(function(t){return n.isWebSuggestion(t)})&&(c=e.filter(function(n){return n.type!="SW"}),c.length>0&&(s=this.getTopWebSuggestion(c),s.type!="SC"&&s.type!="RI"&&s.type!="OS"))?[s]:this.getFallbackClassifierSuggestions(e):e},u.prototype.getFallbackClassifierScore=function(r){var u=n.safeExecute(function(){return i.suggestionRankingModels[t.config.fallbackClassifierId]},"getFallbackClassifier"),f=u?n.safeExecute(function(){return u(r.featureStore)},"calculateFallbackClassifierScore"):0;return n.trimFeatureStoreValue(f)},u.prototype.getFallbackClassifierSuggestions=function(r){if(r=r.filter(function(n){return n.type!="SW"}),r.length>0){var f=0,u=r[0];return u.fbcScore=this.getFallbackClassifierScore(u),f=t.config.enableAppsSettingsFbcScoreThreshold?t.isApp(u.type)||t.isSetting(u.type)?t.config.appsSettingsFbcScoreThreshold:n.isWebSuggestion(u)?t.config.webFbcScoreThreshold:t.config.nonWebFbcScoreThreshold:n.isWebSuggestion(u)?t.config.webFbcScoreThreshold:t.config.nonWebFbcScoreThreshold,u.fbcScore>=f?r.slice(0,i.topHitIsMultiEntity(r)?2:1):[]}return[]},u.prototype.enableFallbackClassifier=function(i,r,u){if((t.config.enableFBMinQryLength==0||i.queryToFetch.length>=t.config.enableFBMinQryLength)&&u&&t.config.fallbackClassifierId&&r.length>0){var f=r[0];return t.getGroupType(f)==t.GroupType.Cortana?!1:f.isAnswer?f.autoOpenPreviewPaneWhenOnTopHit&&t.config.applyFallbackClassifierToAutoOpenAnswers||f.type=="MB"&&t.config.applyFallbackClassifierToEntities:t.config.enableLimitedFallback&&i.queryToFetch.length>=t.config.minPrefixLengthLimitedFallback&&!n.isWebSuggestion(f)?!1:!0}return!1},u.prototype.allowInTopHit=function(i,r,u){var h=!u||u.length==1,o,e,s,f;if(t.RuntimeConfig.QfMode==8||!t.config.topHitAllowedForGridLayoutL2&&(i.scope==t.Scope.Photos||i.scope==t.Scope.Videos)||i.topHitRestriction==1&&r.query.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase()&&(n.contains(r.features,"ForcePrefixOnTop")||r.features.push("ForcePrefixOnTop"),t.config.forceTypedQueryOnTop))return!1;if(t.isRecourse(r))return t.config.recourseOnlyInGroups?!1:h;if(t.isMobileCache)switch(r.handoffType){case 2:case 3:return!1;case 1:if(!i.queryToFetch.includes("."))return!1}o=t.getGroupType(r);switch(o){case t.GroupType.Store:return r.hc;case t.GroupType.PowerBi:return r.hc;case t.GroupType.Command:return r.hc||h;case t.GroupType.LocalPlaces:return t.config.topHitAllowedForLocal}if(t.getScope(o)==t.Scope.Emails&&!r.hc)return!1;if(t.enforceOriginalOrder(r)&&u)for(e=0,s=u;e<s.length;e++){if(f=s[e],f==r)break;if(f.type==r.type&&f.handoffType==r.handoffType&&f.sourceForGroup==r.sourceForGroup)return!1}return t.RuntimeConfig.AlwaysWide&&!r.previewPaneType?!1:!0},u.prototype.createMulticlassClassifierTopHitSuggestionList=function(n){for(var r=0,u=0;u<Math.min(n.length,t.config.maxNumberOfTopResults);u++)n[u].rankingScore!==undefined&&n[u].rankingScore>.5&&(r=u);return r==0&&i.topHitIsMultiEntity(n)&&(r=1),t.config.bypassFallbackOnMSBTopHit==4&&n.length>0&&(n[0].type=="PPL"||n[0].type=="BKS")&&(r=1),n.slice(0,r+1)},u.prototype.createFeatureStore=function(i,r,u,f,e,o,s,h,c){var ht=[],tt=0,ct=0,it=0,lt=i.queryToFetch.toLocaleLowerCase(),kt=function(n){return t.getGroupType(n)},at=n.getSumMruLaunches(f),vt=0,yt={},rt,ut,pt,d,ft,y,p,a,w,g,et,ot,b,nt,st,v,l,k,wt,bt;for(f&&(rt=n.evaluateGroupLaunches(f),vt=rt.otherGroupLaunches,yt=rt.groupLaunches),ut=n.computeGroupBackpropagatedClicks(i.queryToFetch,c),pt=n.computeSuggestionBackpropagatedClicks(i.queryToFetch,c),d=0,ft=r;d<ft.length;d++)y=ft[d],y.handoffType==2&&(p=t.getAppItem(y),p&&(ct+=p.totalLaunches,p.totalLaunches>tt&&(tt=p.totalLaunches)),y.deviceItem&&y.deviceItem.rankScore>it&&(it=y.deviceItem.rankScore));for(a={},n.isWeekend()&&(a[440]=1),a[441]=this.getLocalHourBucket(new Date),w=lt.split(" "),g=0,et=w;g<et.length;g++){if(ot=et[g],ot=="install"){a[451]=1;break}if(ot=="uninstall"){a[450]=1;break}}for(w&&w.length>0&&(b=w[0],a[452]=b.indexOf("c:")>-1||b.indexOf("d:")>-1||b.indexOf("e:")>-1||b.indexOf("f:")>-1?1:0),nt=0,st=r;nt<st.length;nt++)v=st[nt],l=this.getSuggestionFeatureStore(lt,v,e,u,ct,s),l[13]=tt,l[7]=it,l[60]=t.isMobileCache?1:0,u&&u.WebSignalsAvailable&&(l[93]=1),n.setMRUSignal(t.getSuggestionKey(v),l,f,at),this.setMRUGroupLaunchRatios(l,v,at,yt,vt,h),n.setMRUBackPropSignal(t.getSuggestionKey(v),l,pt),ut&&n.setMRUGroupBackpropClicks(l,v,kt,ut),k=n.getTextForLexicalFeatures(v),k&&(v.handoffType==1&&(n.computeUrlFeatures(k,i.queryToFetch,l,o),wt=n.getDomain(k),n.computeDomainFeatures(v,i.queryToFetch,l,o,wt,e)),t.isFileOrFolder(v.type)&&(bt=o.cvid+o.privacyNumber+k,l[131]=n.stringHashCode(bt))),a&&(l[440]=a[440],l[441]=a[441],l[451]=a[451],l[450]=a[450],l[452]=a[452]),n.removeUndefinedAndZeroAndTrimValues(l),ht.push(l);return ht},u.prototype.setGroupSuppressionSignals=function(n,i){var f,e,u;if(n)for(n.maxGroupCCR={},n.maxGroupProbSugClickGivenPref={},n.mruGroupBackpropRatios={},n.mruGroupBackpropWeights={},f=0,e=i;f<e.length;f++)if(u=e[f],u.featureStore){var r=t.getGroupType(u),o=u.featureStore[94]||0,s=u.featureStore[0]||0;n.maxGroupCCR[r]=n.maxGroupCCR[r]?Math.max(n.maxGroupCCR[r],o):o;n.maxGroupProbSugClickGivenPref[r]=n.maxGroupProbSugClickGivenPref[r]?Math.max(n.maxGroupProbSugClickGivenPref[r],s):s;n.mruGroupBackpropRatios[r]=u.featureStore[266];n.mruGroupBackpropWeights[r]=u.featureStore[267];(n.mruGroupBackpropWeights[r]||n.mruGroupBackpropRatios[r])&&(n.backPropDataExists=!0)}},u.prototype.setMRUGroupLaunchRatios=function(n,i,r,u,f,e){var s,o;if(r){e&&(e.mruGroupRatios={});n[186]=f/r;for(s in u){o=u[s]/r;t.getGroupType(i)==Number(s)&&(n[271]=o);e&&(e.mruGroupRatios[s]=o);switch(Number(s)){case t.GroupType.Apps:n[169]=o;break;case t.GroupType.Settings:n[170]=o;break;case t.GroupType.Cortana:n[171]=o;break;case t.GroupType.Command:n[172]=o;break;case t.GroupType.Photos:n[173]=o;break;case t.GroupType.Videos:n[174]=o;break;case t.GroupType.Music:n[175]=o;break;case t.GroupType.Documents:n[176]=o;break;case t.GroupType.Folders:n[177]=o;break;case t.GroupType.Emails:n[178]=o;break;case t.GroupType.Store:n[179]=o;break;case t.GroupType.SearchSuggestions:n[262]=o;n[180]=u[t.GroupType.Websites]?(u[t.GroupType.Websites]+u[s])/r:o;break;case t.GroupType.Websites:n[263]=o;n[180]=u[t.GroupType.SearchSuggestions]?(u[t.GroupType.SearchSuggestions]+u[s])/r:o;break;case t.GroupType.PathCompletion:n[181]=o;break;case t.GroupType.PowerBi:n[182]=o;break;case t.GroupType.People:n[184]=o;break;case t.GroupType.EdgeHistory:n[185]=o;break;case t.GroupType.Bookmarks:n[260]=o;break;case t.GroupType.LocalPlaces:n[261]=o}}}},u.prototype.getRank=function(n){if(n.type=="EBH")return undefined;if(n.deviceItem&&typeof n.deviceItem.rankScore!="undefined")return n.deviceItem.rankScore;var i=t.isJumpListSuggestion(n)?n.jumpListItem.usagePoints:undefined;return typeof i!="undefined"?i:undefined},u.prototype.getSuggestionFeatureStore=function(i,r,u,f,e,o){var s={},l,v,d,a,y,p,w,c,h,g,it,b,nt,rt,k,tt;if(this.setTypeSignal(r,s),l=t.getAppItem(r),l?(s[2]=l.totalLaunches,s[92]=l.launchArguments?1:0,e>0&&(s[103]=l.totalLaunches/e),this.addLastAccessDate(l.lastAccessed,s)):this.addLastAccessDate(t.isJumpListSuggestion(r)?r.jumpListItem.lastAccessed:null,s),v=t.getBrowsingHistoryItem(r),v&&(v.visitCount&&(s[138]=v.visitCount),this.addLastAccessDate(v.dateVisited,s)),s[96]=r.catalogScore,s[97]=r.avgRating,s[98]=r.ratingCount,s[99]=r.confidence,s[150]=r.source,s[283]=r.pinnedToTaskbar?1:undefined,r.hc&&(s[189]=1),s[17]=r.highConfidenceMetaSuggestionScore,d=this.getRank(r),typeof d!="undefined"?s[16]=d:s[4]=1,a=r,a.matchedOnlyOnContent&&(s[259]=1),a.matchedOnlyOnAuthor&&(s[273]=1),a.lastModifiedDate&&(s[268]=n.getTimeDiffInDays(a.lastModifiedDate)),a.extensionLC==".lnk"&&(s[272]=1),s[23]=r.prefetchConfidenceScore,s[264]=f&&f.ProbNextKS!==undefined?f.ProbNextKS:1,s[296]=f&&f.ProbNextKSV2!==undefined?f.ProbNextKSV2:1,this.setThresholdRatios(s,f),this.setRatios(s,f),y=t.getGroupType(r),p=r.query,r.type=="SW"&&(p="SearchTheWeb"),w=n.getAthenaGroupKey(String(y),String(r.handoffType),r.type),n.setEngagementSignals(s,u,w,p,!1,!1),n.setEngagementSignals(s,o,w,p,!1,!0),o&&!u&&n.setEngagementSignals(s,o,w,p,!1,!1),s[10]=i.length,(r.isAnswer||y==t.GroupType.Cortana)&&(s[11]=1),c=n.getTextForLexicalFeatures(r),h=c?c.toLocaleLowerCase():null,c||(s[132]=1),h==i&&(s[133]=1),r.handoffType==2&&(r.type!="PBI"&&(s[8]=1),t.isSetting(r.type)&&(s[64]=1),t.isApp(r.type)&&(s[83]=1)),y==t.GroupType.SearchSuggestions&&(r.type!="SW"&&(s[82]=1),s[25]=1),g=s[132]==1,g?s[137]=i.length:(s[137]=c.length,s[134]=n.getEditDistance(i,h),s[135]=Math.min(100,n.computeEditDistanceRatio(s[134],i.length,c.length)),s[136]=n.isWordBoundary(i,c),s[284]=Math.abs(c.length-i.length)),!g&&h){for(h.indexOf(i)>-1&&(s[143]=1),h.substring(0,i.length)===i&&(s[188]=1),it=h.split(" "),b=0,nt=it;b<nt.length;b++)if(rt=nt[b],rt==i){s[145]=1;break}s[420]=n.computeJaroSimilarity(i,h);s[421]=n.computeJaroWinklerSimilarity(i,h)}return s[1]==1&&r.deviceItem&&(k=t.getAppItem(r),k.extension&&(s[400]=k.extension===".exe"?1:0,s[401]=k.extension===".appref-ms"?1:0),h&&(s[402]=h.indexOf("install")>-1?1:0)),s[1]||r.type!="FL"&&r.type!="FD"&&r.type!="ST"||(s[403]=1),(r.type=="QP"||r.type=="QS"||r.type=="SC"||r.type=="OS")&&(s[404]=1),s[8]==1&&(s[27]=s[133]),(r.isAnswer||y==t.GroupType.Cortana)&&(s[55]=s[133]),(r.type=="HS"||r.fromHistory)&&(s[121]=1),s[41]=s[83]==1?s[40]:s[64]==1?s[39]:s[11]==1?s[32]:s[89]==1?s[54]:s[85]==1?s[30]:s[86]==1?s[53]:s[87]==1?s[52]:s[61]==1?s[31]:s[88]==1?s[51]:s[63]==1?s[35]:s[82]==1?s[29]:s[90]==1?s[50]:s[59]==1?s[34]:s[37],(t.isSetting(r.type)||t.isApp(r.type))&&(tt=r.ciMetaData,this.computeConstraintIndexFeatures(r.deviceItem,s,tt),r.ciMatchedQuery=this.getConstraintIndexMatchedQuery(tt),s[269]&&s[270]&&(s[405]=Math.sqrt(s[269]*s[270]))),r.signals&&(s[230]=r.signals.DistanceToEntity,s[231]=r.signals.DistanceToEntityPrecision,s[232]=r.signals.RankingScore),s},u.prototype.addLastAccessDate=function(t,i){var r=n.getTimeDiffInDays(t);r!=null?i[9]=r:i[19]=1},u.prototype.setTypeSignal=function(n,t){switch(n.type){case"LDOC":case"FL":t[61]=1;break;case"LI":t[85]=1;break;case"LV":t[86]=1;break;case"MU":t[87]=1;break;case"FD":t[88]=1;break;case"CG":t[89]=1;break;case"PT":t[90]=1;break;case"PP":case"IBA":t[1]=1;break;case"ML":case"MD":t[21]=1;break;case"CS":t[63]=1;break;case"SW":t[59]=1}},u.prototype.setRatios=function(n,t){t&&t.AppsRatio!==undefined&&(n[26]=t.AppsRatio,t.SettingsRatio&&(n[5]=t.SettingsRatio),t.StoreRatio&&(n[57]=t.StoreRatio),t.PrefixProbability&&(n[12]=t.PrefixProbability),t.FilesRatio&&(n[24]=t.FilesRatio),t.WebRatio&&(n[18]=t.WebRatio),t.PhotosVideosMusicRatio&&(n[28]=t.PhotosVideosMusicRatio),t.ContactsRatio&&(n[56]=t.ContactsRatio),t.LocalProtocolRatio&&(n[91]=t.LocalProtocolRatio))},u.prototype.setThresholdRatios=function(n,t){t&&t.ThApps!==undefined?(n[40]=t.ThApps,t.ThStore&&(n[35]=t.ThStore),t.ThSetting&&(n[39]=t.ThSetting),t.ThCortAns&&(n[32]=t.ThCortAns),t.ThPrefixCount&&(n[38]=t.ThPrefixCount),t.ThWeb&&(n[29]=t.ThWeb),t.ThSearchTheWeb&&(n[34]=t.ThSearchTheWeb),t.ThOther&&(n[37]=t.ThOther),t.ThFile&&(n[31]=t.ThFile),t.ThFolder&&(n[51]=t.ThFolder),t.ThPath&&(n[50]=t.ThPath),t.ThEmail&&(n[33]=t.ThEmail),t.ThCommAns&&(n[54]=t.ThCommAns),t.ThPhotoAns&&(n[30]=t.ThPhotoAns),t.ThVideoAns&&(n[53]=t.ThVideoAns),t.ThMusicAns&&(n[52]=t.ThMusicAns),t.ThDNav&&(n[147]=t.ThDNav)):n[42]=1},u.prototype.computeConstraintIndexFeatures=function(n,t,i){var u,o,f,e,s,r;if(n&&n.rawIndexResponse){if(!i)return;if(t[157]=i.GrammarScore,t[158]=i.MatchScore,i.Parses&&i.Parses.length>0&&i.Parses[0].Entities&&i.Parses[0].Entities.length>0)for(u=0,o=i.Parses[0].Entities;u<o.length;u++)if(f=o[u],t[159]=f.EntityScore,f.Attributes)for(e=0,s=f.Attributes;e<s.length;e++)r=s[e],r.Name=="gscore"?t[269]=Number(r.Value):r.Name=="lscore"&&(t[270]=Number(r.Value))}},u.prototype.getConstraintIndexMatchedQuery=function(n){return!n||n.MatchScore==0?null:n.Query},u.prototype.getLocalHourBucket=function(n){var t=n.getHours(),i=1;return t>=0&&t<6?i=1:t>=6&&t<12?i=2:t>=12&&t<18?i=3:t>=18&&t<=23&&(i=4),i},u}();i.FastRankRanker=u})(i=t.Ranking||(t.Ranking={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=function(){function i(n,t){var i=this;this._instrumentationProvider=t;this._MCkeystrokeAggregatedMeasure={DataSourceResponseTimes:{},TopResultsRendered:null};n.bindDismissed(function(){return i.flushAggregatedMeasure(!0)})}return i.prototype.onNewKeystroke=function(n,t,i){this.flushAggregatedMeasure();this._aggregatedMeasureFlushed=!1;this._currentLeftPaneSuggestions=null;this._currentRawImpressionGuid=t;this._currentRawClientImpressionGuid=SearchAppWrapper.CortanaApp.impressionId;this._keystrokeAggregatedMeasure={CVID:n};this._currentKeystrokeAggregatedMeasureIsForSearchHome=i},i.prototype.flushAggregatedMeasure=function(n){(t.config.logPerf&&this._MCkeystrokeAggregatedMeasure&&Object.keys(this._MCkeystrokeAggregatedMeasure.DataSourceResponseTimes).length>1&&(this._instrumentationProvider.logProfilerMarker(1,0,"MCKeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._MCkeystrokeAggregatedMeasure),this._MCkeystrokeAggregatedMeasure={DataSourceResponseTimes:{},TopResultsRendered:null}),n||this._currentKeystrokeAggregatedMeasureIsForSearchHome)&&!this._aggregatedMeasureFlushed&&this._keystrokeAggregatedMeasure&&Object.keys(this._keystrokeAggregatedMeasure).length>1&&(this.logProfilerMarker(1,0,"KeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._currentRawClientImpressionGuid,this._keystrokeAggregatedMeasure),this._aggregatedMeasureFlushed=!0)},i.prototype.logSingleMeasure=function(n,t,i){this.logProfilerMarker(1,0,n,t,SearchAppWrapper.CortanaApp.impressionId||t,i)},i.prototype.logProfilerMarker=function(n,t,i,r,u,f){u!=r&&(f.ServerIG=r);this._instrumentationProvider.logProfilerMarker(n,t,i,u,f)},i.prototype.logAggregate=function(n,t){this._keystrokeAggregatedMeasure[n]=t},i.prototype.getItemLayoutFromSuggestionsList=function(n){var u,e,i,f,r,t;if(this._currentLeftPaneSuggestions){for(u=this._currentLeftPaneSuggestions.topResults,e=this._currentLeftPaneSuggestions.groups,t=0;t<u.length;++t)if(u[t].instItem==n)return{IsInTopResult:!0,GroupType:undefined,PositionInGroup:t};for(i=0,f=e;i<f.length;i++)for(r=f[i],t=0;t<r.suggestions.length;++t)if(r.suggestions[t].instItem==n)return{IsInTopResult:undefined,GroupType:r.typeWithSource.type,PositionInGroup:t}}return undefined},i.prototype.updateSuggestionsList=function(n,t){this._currentLeftPaneSuggestions={topResults:n,groups:t}},i.prototype.logDataSourcePerformancesMeasure=function(n){var r=n.RequestBegin,i=Object.keys(n.ResponseReceived).map(function(t){return{Name:t,ResponseReceivedTime:n.ResponseReceived[t]-r,RenderedTime:n.RenderFinished[t]-r,Status:n.DataSourcesState&&n.DataSourcesState[t]}}),f=n.TopResultRendered.map(function(n){return{Type:n.T,Time:n.V-r}}),e={DataSources:i,TopResultRendered:f},u;if(this.logAggregate("DataSourcePerformancesMeasure",e),t.config.logPerf)for(u in i)this._MCkeystrokeAggregatedMeasure.DataSourceResponseTimes[i[u].Name]=i[u].ResponseReceivedTime},i.prototype.logNewKeystrokeMeasure=function(t,i,r){this.onNewKeystroke(t,i,r.isSearchHomeZI);var u={ScopeInQuery:r.scopePrefix,Scope:r.scope,IsSearchHome:r.isSearchHomeZI};u.CIVersion=n.WSB.ConstraintIndex.currentCIVersion;this.logAggregate("NewKeystrokeMeasure",u)},i.prototype.logTopResultsRenderedMeasure=function(i,r,u){this._instrumentationProvider.logProfilerMarker(1,0,"topResultRendered",i,{CI:n.WSB.ConstraintIndex.currentCIVersion});var f={SuggestionTypes:r};this.logAggregate("TopResultsRenderedMeasure",f);t.config.logPerf&&(this._MCkeystrokeAggregatedMeasure.TopResultsRendered=u)},i.prototype.logGroupsRenderedMeasure=function(n){var t={GroupTypes:n};this.logAggregate("GroupsRenderedMeasure",t)},i.prototype.logPreviewPaneOpenedMeasure=function(n,t,i){var r={ParentType:n.getQsCode(),PreviewPaneType:t,ParentLayoutInfo:this.getItemLayoutFromSuggestionsList(n),AutoOpened:i||undefined};this.logAggregate("LastPreviewPaneOpened",r)},i.prototype.logConversationStartMeasure=function(n,t){var i={CVID:n,StartTime:t};this.logSingleMeasure("ConversationStartMeasure",n,i)},i.prototype.logItemClickedMeasure=function(n,t,i,r){var u={CVID:n,ItemType:i.getQsCode(),InputType:r,LayoutInfo:this.getItemLayoutFromSuggestionsList(i)};this.flushAggregatedMeasure(!0);this.logSingleMeasure("ItemClickedMeasure",t,u)},i}();t.WindowsTelemetry=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=/[+.\\*?\[\]()]/g,r={".":"\\.","+":"\\+","*":"\\*","\\":"\\\\","?":"\\?","[":"\\[","]":"\\]","(":"\\(",")":"\\)"},u=/^(?:https?:\/\/)?(.*)/,f=/^(?:(?:https?:\/\/(?:www\.)?)|(?:www\.))(.*)/,e=/^\s+/,o=function(){function o(t){var i=this;this._host=t;t.bindKeyDown(function(t){n.isUpOrDownKey(t)&&i.reset()});t.bindQueryChangedOrInitialized(function(n){i._currentQuery=n;!i._fullAutoCompletedQuery||i._fullAutoCompletedQuery.startsWith(n.originalQuery)||n.originalQuery.startsWith(i._fullAutoCompletedQuery)||i.reset()})}return o.prototype.apply=function(n){var r,o,i;if(n.query!=this._autoCompletedQuery){if(r=this._currentQuery.originalQuery,this._host.setAutoCompleteQueryText(""),(!t.config.disableGhosting&&n.type!="EBH"||t.config.disableGhosting&&n.type=="PT")&&this._currentQuery.originalCursorPosition===r.length){var s=this._currentQuery.scopePrefix?this._currentQuery.scopePrefix.length+1:0,u=r.substr(s).replace(e,"").toLowerCase(),f=n.query.toLowerCase();if(u!==f&&(o=1,i=this.fullAutoCompleteOffset(f,u),i<0&&(t.config.allowInfixGhosting||n.url)&&(i=this.infixAutoCompleteOffset(f,u),o=2),i<0&&(i=this.directNavAutoCompleteOffset(f,u)),i>=0)){this.setAutoCompletedQuery(r,n.query,i);n.autoCompleteType=o;return}}this._autoCompletedQuery&&(this.reset(),this._host.setAutoCompleteQueryText(r))}},o.prototype.reset=function(){this._autoCompletedQuery=null;this._fullAutoCompletedQuery=null},o.prototype.fullAutoCompleteOffset=function(n,t){var i=n.startsWith(t);return i?t.length:-1},o.prototype.infixAutoCompleteOffset=function(n,t){var f=n.search("[ .:,\\\\/+_&-]"+t.replace(i,function(n){return r[n]})),e,o;return f>0&&(e=n.substring(0,f+1).match(u)[1],o=e?e.match(/[ .:,\\/+_&-]+/g).length+1:1,o<3)?f+1+t.length:-1},o.prototype.directNavAutoCompleteOffset=function(n,t){var i=t.match(f),r;return i&&(r=i[1],r.length>0&&n.startsWith(i[1]))?r.length:-1},o.prototype.setAutoCompletedQuery=function(n,t,i){var r=n+t.slice(i);this._host.setAutoCompleteQueryText(r);this._autoCompletedQuery=t;this._fullAutoCompletedQuery=r},o}();t.WSBAutoComplete=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function o(n,i){var r,u;return i?(r=t.getKnownFolderPathLC(t.FOLDERID_SkyDrive),r?r+="\\":r="\\onedrive\\",u=n.indexOf(r),u>=0&&(n=n.substr(u+r.length))):n.startsWith("onedrive:\\")&&(n=n.substr(10)),n}function s(n,i,r){var u,f,o,e;return i?(u=t.getKnownFolderPathLC(t.FOLDERID_Profile)+"\\onedrive - ",f=n.indexOf(u),f>=0&&(o=n.indexOf("\\",f+u.length),n=n.substr(o+1))):t.windowsIdentity&&n.startsWith("onedrive for business:\\")&&r&&(e=t.windowsIdentity.indexOf("@"),e!=-1&&r.toLocaleLowerCase().indexOf("personal/"+t.windowsIdentity.substr(0,e))>0&&(n=n.substr(23))),n}function a(n){return{fullySuppressedGroups:n.fullySuppressedGroups?n.fullySuppressedGroups.slice(0):[],partiallySuppressedGroups:n.partiallySuppressedGroups?n.partiallySuppressedGroups.slice(0):[],suppressedSuggestions:n.suppressedSuggestions?n.suppressedSuggestions.slice(0):[]}}function h(n,i,r){var f="",e,o,u,s;return r?(e=t.getKnownFolderPathLC(t.FOLDERID_Profile)+"\\"+t.SubstrateTenantName.toLocaleLowerCase()+"\\",o=i.indexOf(e),o>=0&&(u=o+e.length,s=i.indexOf(" - ",u),f=i.substr(u,s-u).toLocaleLowerCase(),i=i.substr(s+3))):i.startsWith("sharepoint:\\")&&(i=i.substr(12),f=n.siteTitle.toLocaleLowerCase()),[i,f]}function v(n){return n.type=="SW"||n.type=="PWL"}function u(n,t){return!n.suppressed&&n.handoffType==0&&!n.htmlContent&&n.query.toLocaleLowerCase()==t.queryToFetch.toLocaleLowerCase()}function c(n){return n.length>=2&&n[0].type=="MB"&&n[1].type=="MB"}var f={"Microsoft.Windows.ControlPanel":"ControlPanel","Microsoft.AutoGenerated.{923DD477-5846-686B-A659-0FCCD73851A8}":"Classic_{E9C71548-B580-43B2-ACDB-1BA924002754}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\dfrgui.exe":"Classic_{7D13A5DB-6081-48BD-8EA3-A9D7FE67A335}","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows Defender\\MSASCui.exe":"NameSpace_Classic_{D8559EB9-20C0-410E-BEDA-7ED416AECC2A}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\cleanmgr.exe":"Classic_{AACA901F-E74F-4894-B074-F55059532853}","Microsoft.AutoGenerated.{BB044BFD-25B7-2FAA-22A8-6371A93E0456}":"Classic_{45FDB5DF-1457-4A41-A824-7AD9C75767BC}","Microsoft.Windows.PCSettings.DefaultApps":"AAA_SettingsPageAppsDefaults"},e={"NameSpace_Classic_{F942C606-0914-47AB-BE56-1321B8035096}":"Classic_{232A1851-808C-4B44-A92A-38E862989CE5",AAA_Proxy_Automatic_Config_Group:"AAA_SettingsPageNetworkProxy",AAA_Settings_DeveloperModeGroup:"AAA_SettingsPageRestoreDeveloperOptions",AAA_SystemSettings_Users_PicturePassword:"AAA_SettingsGroupPicturePassword"},r,l;(function(n){n[n.NotDuplicate=0]="NotDuplicate";n[n.NoMetadata=1]="NoMetadata";n[n.MergeMetadata=2]="MergeMetadata"})(r||(r={}));i.isWebSuggestionForPrefix=u;i.topHitIsMultiEntity=c;l=function(){function i(n,t,i,r,u,f,e,o){this._host=n;this._instrumentationHelper=t;this._navigationHelper=i;this._previousKeystrokeCache=r;this._ranker=u;this._renderedTopResults=f;this._previewPane=e;this._imageSearchViewModel=o}return i.prototype.launchWebSearch=function(n,t,i,r){var u=n.queryToFetch;this._host.launchSearch(u,this._navigationHelper.getSearchUrl(n.fullPartialQuery,u,i,null,r),t)},i.prototype.getProtocol=function(i,r){var o=this,f="PWL",u=this._instrumentationHelper.getInstrumentedSyntheticSuggestion(r,f),e;return u?u:(u=t.createSuggestion(i,null,this._host.getEdgeIcon,null,f,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(f,t.SyntheticQSCodesMaps.KValues),1,r,!1,"tp",function(){return o._host.launchUri(u.url)}),u.notAResult=!0,e=function(i){var r=n.prettyPrintUrl(i.fixedUrl,i.queryToFetch,!0);u.url=i.fixedUrl;u.tooltip=i.fixedUrl;u.query=r;u.text=HitHighlightingParser.addMarkers(r);u.narratorText=t.getNarratorText(u,o._host.getLocString("DirectNavSuggestion"))},e(i),u.updateFromQuery=function(n){return n.isProtocol?(e(n),!0):!1},this._instrumentationHelper.instrumentSyntheticSuggestion(r,u),u)},i.prototype.getWebSearch=function(i,r,u,f,e,o){var s=this,h=n.contains([13,14],e);return t.getSyntheticSuggestion(this._instrumentationHelper,i,r,u,f,e,o,h,function(n,t){return s.launchWebSearch(t,n.useRaf,u,e)})},i.prototype.getExplorerSearch=function(n,i){var u=this,r=t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"SDFE",{content:"&#xEC50",type:1},2,this._host.getLocString("SearchInFileExplorer"),!0,function(n,t){return u._host.launchSearchInFileExplorer(t.queryToFetch)});return t.shouldSetThisPcGroupSource(t.GroupType.Documents,n)&&(r.sourceForGroup=1),r},i.prototype.getOutlookWebAccessSearch=function(n,i){var u=this,r=t.getAccountTypeForCloudContent()==1;return t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"OWA",{content:"&#xE715",type:2},r?8:12,this._host.getLocString("SearchInOutlookWeb"),!0,function(){return u._host.launchUri(r?"https://outlook.office.com/owa":"https://outlook.live.com/owa")})},i.prototype.getStoreSearch=function(n,i){var r=this;return t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"STS",{content:"&#xEA96",type:2},3,this._host.getLocString("SearchForAppsInTheStore"),!0,function(n,t){return r._host.launchStoreSearch(t.queryToFetch)})},i.prototype.getRecourse=function(i,r){if(!i.queryToFetch||i.taskFrame)return null;switch(t.getEffectiveScope(i)){case t.Scope.Apps:return n.isBingEnabled()?this.getStoreSearch(i,r):null;case t.Scope.Documents:return this.getExplorerSearch(i,r);case t.Scope.Emails:return t.ScopeConfig[t.Scope.Emails].showUpsellOnSuggestionsList()?null:this.getOutlookWebAccessSearch(i,r);case t.Scope.Photos:return n.isBingEnabled()?this.getWebSearch(i,r,"SBI",{content:"&#xEB9F",type:2},13,this._host.getLocString("SearchForWebImages")):null;case t.Scope.Videos:return n.isBingEnabled()?this.getWebSearch(i,r,"SBV",{content:"&#xE714",type:1},14,this._host.getLocString("SearchForWebVideos")):null;default:return null}},i.prototype.getSyntheticSuggestions=function(i,r){var o=i.queryToFetch&&n.isSuggestionTypeEnabled(n.WebDataSource,"SW",0,i)?this.getWebSearch(i,r,"SW",t.getSearchSuggestionIcon(),0,t.getWebSuggestionAnnotation(this._host)):null,s=i.isProtocol&&t.RuntimeConfig.AllowProtocolSyntheticSuggestions?this.getProtocol(i,r):null,f=this.getRecourse(i,r),u,e;return f&&(f.rankingScore=-Number.MAX_VALUE),u=[],this._imageSearchViewModel&&n.isDataSourceEnabled("QSCH",i)&&u.push(this._imageSearchViewModel.getSnipSearchSyntheticSuggestion(i,r)),t.TweakSearch&&(e=t.TweakSearch.getTweakSearchSuggestion(i,r),e&&u.push(e)),{protocol:s,searchTheWeb:o,recourse:f,others:u}},i.prototype.canHaveDuplicates=function(i,r){switch(i){case n.WebDataSource:case n.MRUDataSource:case"OSTMA":case"BAW":case"MSBS":case"MSBC":case"QS":case"PP":case"IBA":case"LRA":case"ST":case"FL":case"LM":case"IFF":case"LDIC":case"CG":case"PT":case"MPP":case"MST":case"MFF":case"ODC":case"MODC":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"EBH":case"SSUE":case"SSUC":return!0;case"PBI":case"SM":case"FEH":case"AFC":case"TOPP":case"QSCH":case"LSQS":return!1;case"SSEE":return r.scope==t.Scope.Documents||r.scope==t.Scope.Emails||t.RuntimeConfig.QfMode==5;case"SSEC":return r.scope==t.Scope.Emails}throw new Error("New data source "+i+" needs to be explicity classified as needed deduping with other data sources or not");},i.prototype.canHaveDuplicatesWithinDataSource=function(i,r){switch(i){case"MPP":case"MST":case n.MRUDataSource:return!0;case"SSEE":case"SSEC":return r.scope==t.Scope.Emails}return t.supportsShortcuts(i,r)},i.prototype.isDuplicate=function(i,u,c){var v,y,l,a,nt,tt,it,rt,g,p,w,ut,ft,k,d;if(this.isMsbDuplicate(u,c)||n.contains([5,4],u.handoffType)&&n.contains([5,4],c.handoffType)&&u.actionUri==c.actionUri&&u.query.toLocaleLowerCase()==c.query.toLocaleLowerCase()||u.handoffType==10&&c.handoffType==10&&u.type==c.type&&!u.htmlContent&&!c.htmlContent&&u.query.toLocaleLowerCase()==c.query.toLocaleLowerCase()||u.type!="PWL"&&u.handoffType==1&&c.handoffType==1&&n.isDuplicateUrl(i,u.url,c.url)||(v=t.getAppItem(u),y=t.getAppItem(c),l=v?v.filePath:u.path,l&&(l=l.toLocaleLowerCase()),a=y?y.filePath:c.path,a&&(a=a.toLocaleLowerCase()),nt=t.getAppPfn(u),tt=t.getAppPfn(c),nt&&tt&&nt.toLocaleLowerCase()==tt.toLocaleLowerCase()))return r.NoMetadata;if(it=t.getCommandLineItem(u),rt=t.getCommandLineItem(c),it&&y||rt&&v){var et=l||a,b=it||rt,ot=b.encodedPath;return et&&ot&&et==ot.toLocaleLowerCase()?(g=v||y,!b.launchArguments||(g.launchArguments||"").toLocaleLowerCase()==b.launchArguments.toLocaleLowerCase()||!g.launchArguments&&b.launchArguments&&g.displayName.toLocaleLowerCase().startsWith(b.displayName.toLocaleLowerCase())?r.NoMetadata:r.NotDuplicate):r.NotDuplicate}if(u.deviceItem&&c.deviceItem){if(p=u.deviceItem.id||"",w=c.deviceItem.id||"",p.toLocaleLowerCase()==w.toLocaleLowerCase())return l&&!v&&a&&!y?r.MergeMetadata:r.NoMetadata;if(v){if(t.isSetting(c.type)&&f[p]==w)return r.NoMetadata}else if(t.isSetting(u.type)&&(y&&f[w]==p||t.isSetting(c.type)&&(e[p]==w||e[w]==p)))return r.NoMetadata}if(this.isIcoShortcutDuplicate(u,c)||this.isIcoShortcutDuplicate(c,u))return r.NoMetadata;if(l&&a){if(l==a)return r.MergeMetadata;if(!v&&!y)if(u.handoffType==c.handoffType){if(u.handoffType==8&&u.url==c.url)return r.MergeMetadata}else{if((l=o(l,u.handoffType!=7),a=o(a,c.handoffType!=7),l==a)||(ut=u.handoffType!=8,ft=c.handoffType!=8,l=s(l,ut,u.url),a=s(a,ft,c.url),l==a))return r.MergeMetadata;if(t.SubstrateTenantName){var st=h(u,l,ut),ht=st[0],at=st[1],ct=h(c,a,ft),lt=ct[0],vt=ct[1];if(at==vt&&(lt.endsWith(ht)||ht.endsWith(lt)))return r.MergeMetadata}}if(k=u.targetPathLC,d=c.targetPathLC,v&&c.type=="IBA"&&(l=t.resolveKnownFolderGUIDsInPath(l)),y&&u.type=="IBA"&&(a=t.resolveKnownFolderGUIDsInPath(a)),(k&&d&&k==d||k&&k==a||d&&l==d||l==a)&&(!v||!y||(v.launchArguments||"").toLocaleLowerCase()==(y.launchArguments||"").toLocaleLowerCase()))return r.NoMetadata}return this.isCortanaSettingDuplicate(u,c)||this.isCortanaSettingDuplicate(c,u)?r.NoMetadata:u.type==="PPL"&&c.type==="PPL"&&u.uniqueName&&c.uniqueName&&u.uniqueName.toLocaleLowerCase()===c.uniqueName.toLocaleLowerCase()?r.NoMetadata:u.type==="OLE"&&c.type==="OLE"&&u.internetMessageId===c.internetMessageId?r.NoMetadata:u.type==="BKS"&&c.type==="BKS"&&u.url&&c.url&&u.url===c.url?r.NoMetadata:r.NotDuplicate},i.prototype.mergeDuplicates=function(i,u,f){var e=this.isDuplicate(i,u,f);return e?(e==r.MergeMetadata&&t.enrichMetadataFromDuplicate(i,u,f,this._host),u.duplicates=u.duplicates||[],n.contains(u.duplicates,f)||(u.duplicates.push(f),u.needsRefreshAfterDeduping=!0),!0):!1},i.prototype.isIcoShortcutDuplicate=function(n,i){return n.targetPathLC&&t.isApp(n.type)&&t.isApp(i.type)&&n.targetPathLC.includes("\\installer\\")&&n.targetPathLC.endsWith(".ico")&&n.text==i.text},i.prototype.isCortanaSettingDuplicate=function(n,t){return n.handoffType==5&&n.actionUri=="ms-cortana://navigate/Settings"&&t.deviceItem&&t.deviceItem.id=="CortanaSettings"},i.prototype.isMsbDuplicate=function(n,t){return n.msbDomain!=null&&n.msbDomain===t.msbDomain&&n.msbId!=null&&n.msbId===t.msbId},i.prototype.rankStartMenu=function(n){n=n.slice();n.sort(function(n,t){return n.text.localeCompare(t.text)});var i=[{type:t.GroupType.StartMenu,source:1}];return{topResults:[],suggestionsToAdd:n,suggestionsToRemove:[],groupOrder:i}},i.prototype.rank=function(i,r,f,e,o,s,h,c){var ti=this,yt,p,tt,ot,bt,rt,ct,d,lt,ut,v,g,dt,ft,at,gt,vt,k,ni;if(t.shouldFetchStartMenu(e))return this.rankStartMenu(r);t.isL2(e)&&(h=!1);p=null;n.isDataSourceEnabled("WRS",e)&&(p=f.WRS);p||(p=f[n.WebDataSource]);var et=p?p.rankingSignals:null,ii=p?p.webTopResultRoutingType:1,nt=f[n.MRUDataSource],pt=null,l=null,wt=null;et&&(et.WebSignalsAvailable=!0,pt=p.engagementSignals,l=p.suppressedGroups,(t.config.groupsToNeverFullySuppress||[]).length>0&&l&&(l.fullySuppressedGroups||[]).length>0&&(tt=[],ot=[],l.fullySuppressedGroups.forEach(function(i){n.contains(t.config.groupsToNeverFullySuppress,i)?tt.push(i):ot.push(i)}),tt.length>0&&(l=a(l),l.fullySuppressedGroups=ot,(yt=l.partiallySuppressedGroups).push.apply(yt,tt))));this._previousKeystrokeCache&&(wt=this._previousKeystrokeCache.getPreviousEventWebSignalsData(e.queryToFetch));var ri=nt?nt.SuggestionEngagementData:null,ui=nt?nt.LookupCompletions:null,fi={cvid:this._host.getConversationId(),privacyNumber:this._host.getPrivacyNumber()},y=this.getSyntheticSuggestions(e,s);r=r.slice();l&&(l.fullySuppressedGroups&&l.fullySuppressedGroups.length>0&&(r=r.filter(function(t){return!n.contains(l.fullySuppressedGroups,String(ti.getGroupTypeForSuppressions(t)))})),t.config.honorSuppressedSuggestions&&l.suppressedSuggestions&&l.suppressedSuggestions.length>0&&(r=r.filter(function(i){return!n.contains(l.suppressedSuggestions,t.getSuggestionKey(i))})));t.config.suppressFileFolders&&e.queryToFetch.length<t.config.maxPrefixLengthForSupp&&e.scope==t.Scope.All&&(bt=[t.GroupType.Documents,t.GroupType.Folders],r=r.filter(function(i){return!n.contains(bt,t.getGroupType(i))}));i.length==0&&(y.others.length>0&&r.unshift.apply(r,y.others),y.protocol&&r.unshift(y.protocol));var st=o.length==1&&o[0].childSuggestions&&o[0].childSuggestions.some(function(n){return n.displayed}),kt=this.getSuggestionsToRank(st,i,r,y,s),it=this._ranker.rank(e,kt,et,ri,ui,pt,fi,wt,c,y);this._previousKeystrokeCache&&!h&&this._previousKeystrokeCache.updateSpellerTriggerData(e.queryToFetch,kt);i.length==0&&y.recourse&&r.push(y.recourse);var w=this.determineTopResults(o,r,it,y,e,s,st),ht=i.filter(function(t){return!n.contains(o,t)}),b=this.determineSuggestionsToAddToGroups(ht,r,o,w,y,e,st,h);if(!t.RuntimeConfig.FlatListWithoutGroups&&it.mruSuppressions&&it.mruSuppressions.backPropDataExists)this.applyMRUSuppressions(it,o,w,b,e);else if(l&&l.partiallySuppressedGroups&&this.canPartiallySuppressGroups(w,b))for(rt=0,ct=b;rt<ct.length;rt++)d=ct[rt],u(d,e)||(lt=this.getGroupTypeForSuppressions(d),this.canBePartiallySuppressed(d,lt)&&n.contains(l.partiallySuppressedGroups,String(lt))&&(n.contains(o,d)||(d.suppressed=!0)));if(ut=[],this.removeProtocolIfDuplicate(e,y,w,ht,b,ut),this.setUseRafFlag(w,b,e,ii),v=this.getGroupOrder(e,b,ht),e.staticGroupOrder){for(g=[],dt=function(n){var t=v.findIndex(function(t){return t.type==n});t>=0&&(g.push(v[t]),v.splice(t,1))},ft=0,at=e.staticGroupOrder;ft<at.length;ft++)gt=at[ft],dt(gt);g.length>0&&(g.push.apply(g,v),v=g)}else e.forceGroupOnTop&&(vt=e.forceGroupOnTop,k=v.findIndex(function(n){return t.sameGroup(n,vt)}),k>=0&&(v.splice(k,1),v.unshift(vt)),k=v.findIndex(function(n){return t.isTopHitChildGroup(n)}),k>=0&&(ni=v[k],v.splice(k,1),v.unshift(ni)));if(t.RuntimeConfig.FlatListWithoutGroups&&(w=w.concat(b.filter(function(n){return!n.suppressed})),b=[],n.trimList(w,t.RuntimeConfig.MaxSuggestionsWhenFlatList,function(t){return!n.contains(i,t)&&!t.notAResult}),ut.length!=0))throw new Error("Can't remove suggestions from groups when there are no groups");return{topResults:w,suggestionsToAdd:b,suggestionsToRemove:ut,groupOrder:v}},i.prototype.applyMRUSuppressions=function(i,r,f,e,o){var c,l,a,h,s;if(this.canPartiallySuppressGroups(f,e))for(c={},l=0,a=e;l<a.length;l++)if(h=a[l],!u(h,o)&&(s=t.getGroupType(h),this.canBePartiallySuppressed(h,s))){if(!c[s]){var v=i.mruSuppressions.maxGroupCCR?i.mruSuppressions.maxGroupCCR[s]||0:0,y=i.mruSuppressions.maxGroupProbSugClickGivenPref?i.mruSuppressions.maxGroupProbSugClickGivenPref[s]||0:0,p=i.mruSuppressions.mruGroupRatios?i.mruSuppressions.mruGroupRatios[s]||0:0,w=i.mruSuppressions.mruGroupBackpropRatios?i.mruSuppressions.mruGroupBackpropRatios[s]||0:0,b=i.mruSuppressions.mruGroupBackpropWeights?i.mruSuppressions.mruGroupBackpropWeights[s]||0:0,k=t.config.wtMaxGroupCCR*v+t.config.wtMaxGroupProbSugClickGivenPref*y+t.config.wtMruGroupRatio*p+t.config.wtMruGroupBackpropRatio*w+t.config.wtMruGroupBackpropWeight*b+t.config.wtLRBias,d=1/(1+Math.exp(-k));c[s]=n.trimFeatureStoreValue(d)}h.mruSuppressionScore=c[s];h.mruSuppressionScore<t.config.lRModelCutOff&&(n.contains(r,h)||(h.suppressed=!0))}},i.prototype.allowedInGroups=function(n){return n.isAnswer?n.allowedInGroups:!0},i.prototype.getGroupTypeForSuppressions=function(n){var i=t.getGroupType(n);return i==t.GroupType.LocalPlaces?t.GroupType.SearchSuggestions:i},i.prototype.canBePartiallySuppressed=function(n,i){return t.getScope(i)!=t.Scope.All},i.prototype.canPartiallySuppressGroups=function(n,i){return t.RuntimeConfig.ScopesAvailable?n.every(function(n){return t.getGroupType(n)==t.GroupType.SearchSuggestions})&&i.every(function(n){return t.getGroupType(n)==t.GroupType.SearchSuggestions})?!1:!0:!1},i.prototype.isProtocolDuplicate=function(t,i,r){return t==r?!1:t.type=="MD"?!0:t.handoffType==1&&n.isDuplicateUrl(i,t.url,r.url)},i.prototype.removeProtocolIfDuplicate=function(t,i,r,u,f,e){var h=this,o,s;i.protocol&&(o=function(n){return!n.suppressed&&h.isProtocolDuplicate(n,t,i.protocol)},(r.some(o)||u.some(o)||f.some(o))&&(n.tryRemove(r,i.protocol)?r.length||(s=n.removeFirstWhere(u,o)||n.removeFirstWhere(f,o),r.push(s)):n.tryRemove(f,i.protocol)||n.contains(u,i.protocol)&&e.push(i.protocol),i.protocol=null))},i.prototype.getSuggestionsToRank=function(i,r,u,f){i&&(r=r.filter(function(n){return!t.isChildSuggestion(n)}));f.recourse&&(r=r.filter(function(n){return n!=f.recourse}));var e=r.concat(u);return f.searchTheWeb&&!n.contains(r,f.searchTheWeb)&&e.push(f.searchTheWeb),e},i.prototype.determineTopResults=function(i,r,f,e,o,s,h){var et=this,l,d,p,w,b,it,g,nt,y,k,ut,tt,a,ft;if(h||!o.queryToFetch||t.config.stickyTopResultsV2&&i.length>1&&!t.isL2(o))return i;if(l=t.config.forceVoiceFlowOnTopHit?[]:f.topResults,d=this._previewPane?this._previewPane.getPreviewedSuggestionToForceTopHit():null,d&&this._ranker.allowInTopHit(o,d)&&(p=function(n){return t.isEquivalentForPreviewPanePurposes(o,d,n)},w=l.findIndex(p),w!=0&&(b=void 0,w>0?(b=l[w],l.splice(w,1)):b=i.find(p)||r.find(p)||(e.searchTheWeb?[e.searchTheWeb]:[]).find(p),b&&l.unshift(b))),e.protocol&&e.searchTheWeb&&this._ranker.allowInTopHit(o,e.protocol)&&n.tryRemove(l,e.searchTheWeb),e.searchTheWeb&&(it=l.indexOf(e.searchTheWeb),it>=0&&l.some(function(n){return n!=e.searchTheWeb&&u(n,o)})&&l.splice(it,1)),l.length==0&&(t.config.stickyTopResultsV2&&i.length>0?l.push.apply(l,i):e.protocol&&this._ranker.allowInTopHit(o,e.protocol)?l.push(e.protocol):e.searchTheWeb&&this._ranker.allowInTopHit(o,e.searchTheWeb)?l.push(e.searchTheWeb):e.recourse&&this._ranker.allowInTopHit(o,e.recourse)&&l.push(e.recourse)),g=t.getEffectiveScope(o)==t.Scope.Emails?t.config.maxNumberOfEmailsInTopResult:Math.max(t.config.maxNumberOfTopResults,c(l)?2:0,i.length),t.config.bypassFallbackOnMSBTopHit==4&&l.length>0&&(l[0].type=="PPL"||l[0].type=="BKS")&&(g=2),l.length>g&&(l=l.slice(0,g)),t.config.synthWebNoBestMatch&&l.length==1){var rt=[t.GroupType.SearchSuggestions,t.GroupType.Websites],ot=r.filter(function(i){return!n.contains(rt,t.getGroupType(i))}),st=l.filter(function(i){return!n.contains(rt,t.getGroupType(i))});ot.length==0&&st.length==0&&(l=[])}for(nt=i.length-1;nt>=0;--nt)y=i[nt],n.contains(l,y)||(y.useRaf&&(y.useRaf=!1),y!=e.searchTheWeb&&r.unshift(y));return l.length==1&&n.safeExecute(function(){return et.applyAppOverride(l,r)},"applyDeviceInfoOverride"),l.forEach(function(n){return n.suppressed=!1}),k=t.isL2(o),t.config.stickyTopResultsV2&&l.length==1&&i.length==1&&!k&&(ut=l[0],tt=i[0],ut==tt||v(tt)||l.unshift(tt)),t.config.stickyConversation&&l.length==1&&this._previousKeystrokeCache&&(a=this._previousKeystrokeCache.getPreviousTopHit(),ft=a?a.ciMatchedQuery||a.query.toLocaleLowerCase():"",a&&!k&&o.queryToFetch.length>t.config.stickyConversationMinPrefixLength&&(a.type=="PP"||a.type=="ST")&&ft.startsWith(o.queryToFetch.toLocaleLowerCase())&&!(a.query.toLocaleLowerCase()==l[0].query.toLocaleLowerCase()&&a.type==l[0].type)&&this._previousKeystrokeCache.getPreviousQuery().length<o.queryToFetch.length&&(a.sequenceNumber=s,a.instItem=n.InstrumentedItem.createInstrumentedItem(s,a.type),l[0]=a),this._previousKeystrokeCache.setPreviousTopHit(k?null:l[0]),this._previousKeystrokeCache.setPreviousQuery(o.queryToFetch.toLocaleLowerCase())),t.config.enableCISpeller&&l.length==1&&this._previousKeystrokeCache&&(l[0].type=="PP"||l[0].type=="ST")&&this._previousKeystrokeCache.setPreviousTopHit(k?null:l[0]),l},i.prototype.applyAppOverride=function(n,t){var r=["Microsoft.Office.WINWORD.EXE","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows NT\\Accessories\\wordpad.exe"],u=n[0].deviceItem?n[0].deviceItem.id:null,i;u&&u.startsWith(r[1])&&(i=t.findIndex(function(n){return n.deviceItem&&n.deviceItem.id&&n.deviceItem.id.startsWith(r[0])}),i>=0&&n.splice(0,1,t[i]))},i.prototype.setUseRafFlag=function(n,i,r,u){var e,s,o,h,f;if(t.isCortanaEnabledCache)if(u==2||t.config.forceVoiceFlowOnTopHit)for(e=0,s=n;e<s.length;e++)f=s[e],f.handoffType!=0||f.isAnswer||(f.useRaf=!0);else for(o=0,h=n;o<h.length;o++)f=h[o],f.handoffType==0&&!f.isAnswer&&this._host.matchesVcd(f.query)&&(f.useRaf=!0)},i.prototype.determineSuggestionsToAddToGroups=function(i,r,f,e,o,s,h,c){var k=this,l=r.filter(function(t){return!n.contains(e,t)}),w=[],a,v,y,p,b;for(t.RuntimeConfig.FlatListWithoutGroups||l.forEach(function(n,i){k.allowedInGroups(n)||(t.getScope(t.getGroupType(n))==t.Scope.All?w.push(i):n.suppressed=!0)}),a=w.length-1;a>=0;--a)l.splice(a,1);return o.searchTheWeb&&(v=e.indexOf(o.searchTheWeb),v!=-1&&(y=n.removeFirstWhere(l,function(n){return u(n,s)}),y&&(e[v]=y))),p=l.filter(function(i){return n.contains([t.GroupType.SearchSuggestions,t.GroupType.Websites,t.GroupType.LocalPlaces],t.getGroupType(i))}),b=l.filter(t.enforceOriginalOrder),!h&&this.canRenderChildSuggestions(e,c,s)&&this.addChildSuggestions(e[0],l),s.queryToFetch&&l.sort(function(n,t){return t.rankingScore-n.rankingScore}),this.insertDefaultSearchTheWeb(s,o,e,i,l,p),l=this.insertSuggestionsToRightPlace(l,b),this.insertSuggestionsToRightPlace(l,p)},i.prototype.insertDefaultSearchTheWeb=function(n,i,r,f,e,o){var s,h;i.searchTheWeb&&(n.scope==t.Scope.Web||n.scope==t.Scope.All)&&(s=o.findIndex(function(t){return u(t,n)}),f.some(function(t){return u(t,n)})||r.some(function(t){return u(t,n)})?s!=-1&&(h=o[s],o.splice(s,1),e.splice(e.indexOf(h),1)):s==-1&&(o.unshift(i.searchTheWeb),e.unshift(i.searchTheWeb)))},i.prototype.getGroupOrder=function(n,i,r){var f,o,a,u,w,b,h,v,k,d,c,y,s;switch(n.scope){case t.Scope.Web:if(!n.queryToFetch)return[{type:t.GroupType.EdgeHistory},{type:t.GroupType.Websites},{type:t.GroupType.SearchSuggestions}];break;case t.Scope.Apps:return[{type:t.GroupType.Apps},{type:t.GroupType.Store}];case t.Scope.Photos:return[{type:t.GroupType.Photos},{type:t.GroupType.SearchSuggestions}];case t.Scope.Videos:return[{type:t.GroupType.Videos},{type:t.GroupType.SearchSuggestions}];case t.Scope.PeopleEmail:return[{type:t.GroupType.People},{type:t.GroupType.Emails}]}f=r.concat(i);f.sort(function(n,t){return t.rankingScore-n.rankingScore});var p=[],l=[],e=[],g=function(n){if(n.suppressed)l.push(n);else if(p.push(n),t.config.enableStaticGroupRanking){var r=t.getGroupType(n),i={type:r,source:n.sourceForGroup};e.some(function(n){return t.sameGroup(n,i)})||e.push(i)}};for(o=0,a=f;o<a.length;o++)s=a[o],g(s);if(l.length!=0&&(f=p.concat(l)),u=[],t.config.enableStaticGroupRanking&&f.length>0&&t.getGroupType(f[0])!=t.GroupType.SearchSuggestions){for(w=[{type:t.GroupType.Apps},{type:t.GroupType.Settings},{type:t.GroupType.Documents,source:1}],b=function(n){e.some(function(i){return t.sameGroup(i,n)})&&u.push(n)},h=0,v=w;h<v.length;h++)k=v[h],b(k);t.RuntimeConfig.QfMode!=8&&e.some(function(n){return t.sameGroup(n,{type:t.GroupType.SearchSuggestions})})&&u.push({type:t.GroupType.SearchSuggestions})}for(d=function(n){var r=t.getGroupType(n),i={type:r,source:n.sourceForGroup};u.some(function(n){return t.sameGroup(n,i)})||(t.RuntimeConfig.QfMode==8&&i.type==t.GroupType.SearchSuggestions?u.unshift(i):t.config.enableStaticGroupRanking&&t.isTopHitChildGroup(i)?u.unshift(i):u.push(i))},c=0,y=f;c<y.length;c++)s=y[c],d(s);return u},i.prototype.addChildSuggestions=function(i,r){i.calculateChildSuggestions&&i.calculateChildSuggestions();i.childSuggestions&&i.childSuggestions.length>0&&Object.keys(t.config.topHitChildGroups).forEach(function(u,f){var e=parseInt(u),o=n.contains(t.config.suppressedTopHitChildGroups,e)?0:t.config.topHitChildGroups[u],s;o>0&&(s=i.childSuggestions.filter(function(n){return n.groupType==e}).slice(0,o),s.forEach(function(n,t){n.rankingScore=1e4-100*f-t;r.push(n)}))})},i.prototype.canRenderChildSuggestions=function(n,i){var r,u;return t.RuntimeConfig.FlatListWithoutGroups?!1:n.length!=1?!1:(r=n[0],t.RuntimeConfig.AlwaysWide&&r.previewPaneType!=1)?!1:i?this._renderedTopResults.topResults.length==1?(u=this._renderedTopResults.topResults[0],u.hasChildSuggestionsDisplayed&&u.query==r.query&&t.getGroupType(u)==t.getGroupType(r)):!1:!0},i.prototype.insertSuggestionsToRightPlace=function(t,i){var r,e,u,f;if(i.length==0)return t;for(r=[],e=i[0],u=0;u<t.length;u++)f=t[u],f==e?r=r.concat(i):n.contains(i,f)||r.push(f);return r},i}();i.Aggregator=l})(i=t.Ranking||(t.Ranking={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(n,t,i,r){var u=this;this._instrumentationHelper=t;this._sequenceNumberReader=i;this._page=r;this._itemLaunchEventHandlers=[];this.groups=[];this.topResults=[];this._lastUpdatedSequenceNumber=-1;this._topResultsRenderingDisabled=!1;this._groupRenderingDisabled=!1;n.bindShown(function(){u._selectedItem=null})}return t.prototype.onDismiss=function(){this.topResults=[];this.renderTopResults();this.groups=[];this.renderGroups();this._partialQuery=null;this._lastUpdatedSequenceNumber=-1},t.prototype.bindItemLaunch=function(n){this._itemLaunchEventHandlers.push(n)},t.prototype.onSuggestionLaunch=function(n,t,i){this._itemLaunchEventHandlers.forEach(function(r){return r(n,t,i)})},t.prototype.onQueryChanged=function(n){this._partialQuery=n},t.prototype.getCurrentTopResults=function(){return this.topResults.slice(0)},t.prototype.getTopResultsWhichFitInCanvas=function(n){return n},t.prototype.resetAriaSelected=function(n){n&&this._page.render(function(){var t=_ge(n.id);t&&(t.setAttribute("aria-selected","false"),t.setAttribute("aria-selected","true"))})},t.prototype.updateTopResults=function(t,i,r,u,f,e){var s=this,a,o,h,y;t!=(u!=this._lastUpdatedSequenceNumber)&&SharedLogHelper.LogError("updateTopResult",t+" != (sequenceNumber "+u+" != lastUpdateSequenceNumber "+this._lastUpdatedSequenceNumber+")",new Error("Precondition failed"));this._lastUpdatedSequenceNumber=u;t&&(this.groups=[],this.onGroupsCleared());a=this._selectedItem;o=this.topResults;i=this.getTopResultsWhichFitInCanvas(i);h=!n.sequenceEqual(i,o)||o.some(function(n){return n.needsRefreshAfterDeduping});h&&(this.topResults=i.slice(0));var c=!1,l=h?i.length:0,v=function(){c&&l==0&&(n.config.enableLocalInstrumentation&&s._instrumentationHelper.instrumentRenderedLocalSuggestion(u,i),s._instrumentationHelper.instrumentTopResultRendered(u,i.map(function(n){return n.type})),c=!1)};return h?(this.renderTopResultsAfter(function(){for(var i,t=0,h=s.topResults;t<h.length;t++)i=h[t],i.needsRefreshAfterDeduping=!1,n.contains(o,i)?l-=1:s.setupIcon(u,i,!0,function(){l-=1;v()});s.onBeforeRenderTopResults(o,f,r,e)}),c=!0):(y=this.onBeforeRenderTopResults(o,f,r,e),y==0&&(this.renderTopResults(),c=!0)),this._selectedItem&&(a!=this._selectedItem||t)&&n.contains(this.topResults,this._selectedItem)&&this.resetAriaSelected(this._selectedItem),[h,v]},t.prototype.setupIcon=function(n,t,i,r){r()},t.prototype.renderGroups=function(){this._groupRenderingDisabled||(this._page.updateGroupsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups}),this._instrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderGroupsAfter=function(n){var t=this._groupRenderingDisabled;this._groupRenderingDisabled=!0;try{n()}finally{this._groupRenderingDisabled=t;this.renderGroups()}},t.prototype.renderTopResults=function(){this._topResultsRenderingDisabled||(this._page.updateTopResultsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups}),this._instrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderTopResultsAfter=function(n){var u=this._topResultsRenderingDisabled,t,i,r;this._topResultsRenderingDisabled=!0;try{n()}finally{for(this._topResultsRenderingDisabled=u,this.renderTopResults(),t=0,i=this.topResults;t<i.length;t++)r=i[t],r.executeScript&&r.executeScript()}},t}();n.BaseRootViewModel=t}(AutoSuggest||(AutoSuggest={})),function(n){function r(t,i){t(n.getCurrentTime(),n.getInputType(i),i)}var t="aria-selected",i;n.invokeClickHandler=r;i=function(){function i(i){var r=this,u;this._host=i;this._renderingInProgress=!1;this._narratorLaunchHandlers=[];this._viewData={};this._targetElemCache={};u=new MutationObserver(function(n){var i,o,u,f,s,e;if(!r._renderingInProgress){for(i=[],u=0,f=n;u<f.length;u++)s=f[u],e=s.target,o=e.id,i.push(e.getAttribute(t)=="true"?1:0);(i.length==1&&i[0]==0||i.length==2&&i[0]^i[1])&&r._narratorLaunchHandlers.forEach(function(n){return n(o)})}});u.observe(document,{subtree:!0,attributes:!0,attributeFilter:[t]});n.View.getLocString=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i.getLocString.apply(i,[n].concat(r))};this.addViewData("TestHooksEnabled",n.config.th)}return i.prototype.adjustHeightAsync=function(){var t=this;n.safeSetTimeout(function(){return t._host.adjustHeight()},0,"adjustHeightAsync")},i.prototype.bindOnNarratorLaunch=function(n){this._narratorLaunchHandlers.push(n)},i.prototype.render=function(t){var i=this;this._renderingTimer&&sb_ct(this._renderingTimer);this._renderingInProgress=!0;try{n.View.ViewData=this.getViewData();t()}finally{this._renderingTimer=n.safeSetTimeout(function(){i._renderingTimer=null;i._renderingInProgress=!1},0,"BasePage render")}},i.prototype.renderReactView=function(n,t,i){var f=this,r=this._targetElemCache[n],u;r||(this._targetElemCache[n]=r=_ge(n));u=i;u.adjustHeight||(u.adjustHeight=function(){return f.adjustHeightAsync()});this.render(function(){return _w.ReactDOM.render(React.createElement(t,i),r)},n)},i.prototype.addViewData=function(n,t){this._viewData[n]=t},i.prototype.getViewData=function(){return this._viewData},i}();n.BasePage=i}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){function r(n,t){var i=parseInt(n.substr(1),16),r=i>>16&255,u=i>>8&255,f=i&255;return"rgba("+r+","+u+","+f+","+t+")"}function s(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)-t),u=Math.max(0,(i>>8&255)-t),f=Math.max(0,(i&255)-t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}function u(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)*t),u=Math.max(0,(i>>8&255)*t),f=Math.max(0,(i&255)*t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}var e="slideInMessage",o="indexingMessage",i,f;t.SinglePaneWidth=344;t.PreviewPaneWidth=440;t.DebugWindowWidth=800;f=function(f){function h(r){var u=f.call(this,r)||this,e;return u.host=r,u._root=_ge("root"),u._windowsTemporaryMessageShown=!1,u._windowsIndexingMessageShown=!1,u._progressBarVisible=!1,u._previewPaneVisible=!1,u._debugWindowVisible=!1,u._suggestionsContainerHeight=0,u._immersiveSearchHeightExpandedInThisConversation=!1,i=SearchAppWrapper.CortanaApp,u._windowsTemporaryMessageWrapper=_ge("temporaryMessageWrapper"),u._windowsIndexingMessageWrapper=_ge("temporaryMessageWrapper"),u._qfContainer=_ge("qfContainer"),u._previewContainer=_ge("previewContainer"),r.bindAppVisible(function(){var e=i.width,f=i.height;e&&f?u.setDimensions(e,f):ThresholdUtilities.getCortanaHeaders(function(n){if(n){var t=n["X-BM-DeviceDimensionsLogical"].split("x"),i=t[0],r=t[1];u.setDimensions(parseInt(i),r)}});t.RuntimeConfig.PreviewPaneAvailable&&(u.initPreviewPane(),t.setVisibility(u._previewPane,t.RuntimeConfig.AlwaysWide),!t.RuntimeConfig.AlwaysWide&&r.hasFallbackHappened()&&i.resetToDefaultSize());u.initDebugWindow();u.setConditionalCss("panelCanResize",t.RuntimeConfig.PanelCanResize);u.setConditionalCss("flatListWithoutGroups",t.RuntimeConfig.FlatListWithoutGroups);u.setConditionalCss("searchBoxOnTop",t.RuntimeConfig.SearchBoxOnTop);u.setConditionalCss("wideByDefault",t.RuntimeConfig.AlwaysWide||t.RuntimeConfig.QfMode==2);u.setConditionalCss("centerScreen",t.RuntimeConfig.QfMode==2);u.setConditionalCss("noPPOpenedArrow",t.config.noPPOpenedArrow);u.setConditionalCss("whitePreview",t.config.whitePreview);u.setConditionalCss("searchHomeQuickAnswer",t.config.quickAnswer&&t.RuntimeConfig.PreviewPaneAvailable);u.setConditionalCss("searchHomeQuickAnswerSmallHeight",t.config.quickAnswer&&t.RuntimeConfig.PreviewPaneAvailable&&f<640);u.setConditionalCss("webDisabled",!n.isMiniSerpEnabled());u.setConditionalCss("enableSnipSearchSmallButton",t.config.EnableSnipSearchSmallButton);u.setQueryBasedCss(null)}),r.bindShown(function(){if(t.config.isThemeAware&&i.theme){var n=i.theme.startsWith("000000");u.setThemeBasedCss(n)}u.setConditionalCss("snipSearch",i.entryPoint=="WNSSBS"&&t.config.enableSnipSearchV2);t.setVisibility(u._root,!0)}),r.bindAppHidden(function(){u._openPreviewPaneButtonCache=undefined;u.markWebViewExpandedState(!1);t.setVisibility(u._previewPane,!1)}),e=function(){t.RuntimeConfig.AlwaysWide||(u._previewPaneVisible=!1,t.setVisibility(u._previewPane,!1));u.setDebugWindowVisibility(!1)},r.bindQueryChangedOrInitialized(function(n){n.fullPartialQuery&&u.ensureWebViewHeightExpanded();t.RuntimeConfig.QfMode==5&&u.updateFENarratorSuggestionCount(null)}),r.bindSearchBoxClick(function(){return u.ensureWebViewHeightExpanded()}),r.bindKeyDown(function(n){n==40&&u.ensureWebViewHeightExpanded()}),r.bindDismissed(function(){u.resetSuggestionsContainerHeight();e()}),r.bindAccentColorAndThemeRefreshed(function(n,t){u.applyAccentColor();u.setThemeBasedCss(t)}),t.config.alwaysWideBeforeRS5&&i.addEventListener("openanimationcompleted",function(){u.ensureWebViewWidthExpanded()}),i.addEventListener("resettingtodefaultsize",function(){e()}),sj_be(sj_b,"contextmenu",function(n){for(var t=n.target;t;){if(t.classList.contains("allowcontextmenu"))break;t=t.parentElement}t||sj_pd(n)}),u}return __extends(h,f),h.prototype.setConditionalCss=function(n,t){t?this._root.classList.add(n):this._root.classList.remove(n)},h.prototype.setQueryBasedCss=function(n){var i=t.shouldFetchStartMenu(n);this.setConditionalCss("fileExplorer",t.RuntimeConfig.QfMode==5);this.setConditionalCss("startMenu",i);this.setConditionalCss("noScopes",!t.RuntimeConfig.ScopesAvailable||i);this.setConditionalCss("settingsApp",t.RuntimeConfig.QfMode==7);this.setConditionalCss("santorini",t.RuntimeConfig.QfMode==8);this.setConditionalCss("lockscreen",t.RuntimeConfig.QfMode==6);this.setConditionalCss("darkBackground",i);t.RuntimeConfig.QfMode!=8&&this.setConditionalCss("zeroInput19H1",n?n.isSearchHomeZI:t.RuntimeConfig.SearchHomeAvailable==1)},h.prototype.setThemeBasedCss=function(n){t.config.isThemeAware?(t.RuntimeConfig.QfMode==7&&(n=n&&i.appsUseLightTheme===!1),t.RuntimeConfig.QfMode==5&&i.fileExplorerSuggestionPage&&(n=i.fileExplorerSuggestionPage.useDarkTheme),this.setConditionalCss("darkTheme19H1",n),this.setConditionalCss("lightTheme19H1",!n)):t.config.searchHomeSupported&&(this.setConditionalCss("lightTheme19H1",!0),this.setConditionalCss("lightThemeRS5",!0))},h.prototype.initPreviewPane=function(){var n=i.textScaleFactor||1,f=t.PreviewPaneWidth/n,r,u;this._previewPane||(this._previewPane=_ge("qfPreviewPane"),this._previewPane.classList.remove("transitionOn"));t.RuntimeConfig.QfMode==2?(r=470,u=r/n,this._previewPane.style.minWidth=u+"px"):this._previewPane.style.minWidth=f+"px"},h.prototype.initDebugWindow=function(){this._debugWindow||(this._debugWindow=_ge("qfDebugPane"),this._debugWindow&&(this._debugWindow.style.flexBasis=t.DebugWindowWidth+"px"))},h.prototype.setDimensions=function(n,i){if(t.isMobileCache&&i&&(this._root.style.height=i+"px"),!this._previewPaneVisible&&!this._debugWindowVisible){this.onPaneWidthSet(n);this._originalPaneWidth=n}},h.prototype.ensureWebViewWidthExpanded=function(){var n=t.SinglePaneWidth+t.PreviewPaneWidth;t.RuntimeConfig.QfMode==1&&i.width<n&&(i.setPaneWidth(n),this.setDimensions(n,null))},h.prototype.ensureWebViewHeightExpanded=function(){if(t.RuntimeConfig.QfMode==2&&!this._immersiveSearchHeightExpandedInThisConversation){var n=i.height;i.setCenterScreenAcrylicBackgroundHeight(n+12);i.setWebViewHeight(n);this.markWebViewExpandedState(!0)}},h.prototype.markWebViewExpandedState=function(n){this._immersiveSearchHeightExpandedInThisConversation=n;this.setConditionalCss("webViewExpanded",n)},h.prototype.getScrollTop=function(){return this._qfContainer.scrollTop},h.prototype.scrollToTop=function(){this._qfContainer.scrollTop=0;_d.body.scrollTop=0},h.prototype.scrollTo=function(n){var r=_ge(n.id),i;this.scrollToElement(r,this._qfContainer,this._qfContainer.offsetHeight);i=window.innerHeight;t.isMobileCache&&_d.body.scrollHeight>i&&this.scrollToElement(r,_d.body,i)},h.prototype.scrollToElement=function(n,t,i){var u=t.scrollTop,r=n.offsetTop-t.offsetTop,f=r+n.offsetHeight;f>u+i?t.scrollTop=f-i:r<u&&(t.scrollTop=r)},h.prototype.getSuggestionsContainerHeight=function(){return t.RuntimeConfig.QfMode==2&&!this._immersiveSearchHeightExpandedInThisConversation?i.height:(this._suggestionsContainerHeight||this.calculateSuggestionsContainerHeight(),this._suggestionsContainerHeight)},h.prototype.getSuggestionsContainerWidth=function(){return i.width},h.prototype.resetSuggestionsContainerHeight=function(){this._suggestionsContainerHeight=0},h.prototype.calculateSuggestionsContainerHeight=function(){var n=_ge("root").clientHeight,t;n<440&&(n=440);t=_ge("temporaryMessage");n-=t.offsetHeight;this._suggestionsContainerHeight=n},h.prototype.getPanelWidthFor=function(n){var i=this._originalPaneWidth;return i+=n&1?t.PreviewPaneWidth:0,i+(n&2?t.DebugWindowWidth:0)},h.prototype.getPanelState=function(){switch(i.width-this._originalPaneWidth){case 0:return 0;case t.PreviewPaneWidth:return 1;case t.DebugWindowWidth:return 2;case t.PreviewPaneWidth+t.DebugWindowWidth:return 3;default:return 0}},h.prototype.openSidePanel=function(n){var t=this.getPanelState(),u,r;if(t==0&&this.setDimensions(i.width,null),!(t&n)){u=t|n;r=this.getPanelWidthFor(u);i.setPaneWidth(r);this.onPaneWidthSet(r)}},h.prototype.closeSidePanel=function(n){var u=this.getPanelState(),f,r;if(u&n){f=u&~n;r=this.getPanelWidthFor(f);r!=this._originalPaneWidth||t.config.alwaysWideBeforeRS5?i.setPaneWidth(r):i.resetToDefaultSize();this.onPaneWidthSet(r)}},h.prototype.onPaneWidthSet=function(t){n.safeFireEvent("CortanaPaneWidthSet",t)},h.prototype.getOpenPreviewPaneButton=function(){if(!t.RuntimeConfig.PreviewPaneAvailable)return null;if(!this._openPreviewPaneButtonCache){var n=t.isRtl(),i=n?"&#xE96F":"&#xE970";t.config.chevronMed&&(i=n?"&#xE973":"&#xE974");this._openPreviewPaneButtonCache={defaultIcon:{content:i,type:2},openedIcon:{content:n?"&#xE72B":"&#xE72A",type:2},clickHandler:this._openPreviewPaneClickHandler}}return this._openPreviewPaneButtonCache},h.prototype.setContextMenuHandler=function(n){this._contextMenuHandler=n},h.prototype.setSuggestionClickHandler=function(n){this._suggestionClickHandler=n},h.prototype.setOpenPreviewPaneClickHandler=function(n){this._openPreviewPaneClickHandler=n},h.prototype.setExpanderClickInstrumentation=function(n){this._expanderClickInstrumentation=n},h.prototype.updateGroupsView=function(i){if(t.config.th&&ClientTestHooks.isTesthookParamSet("forceRenderingCrashOnSecondConversation")&&this._host.getPaneCloseCount())throw new Error("Simulated exception");this.setQueryBasedCss(i.query);this.setConditionalCss("noSuggestions",i.topResults.length==0&&i.groups.length==0);var r=i.query&&i.query.isSearchHomeZI,u=r?null:" - "+t.getWebSuggestionAnnotation(this._host),f=t.shouldFetchStartMenu(i.query)&&i.groups.some(function(n){return n.typeWithSource.type==t.GroupType.StartMenu})?n.View.StartMenuGroups:n.View.WindowsGroups;this.renderReactView("groups",f,{groups:i.groups,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton(),webSuggestionAnnotation:u})},h.prototype.updateFENarratorSuggestionCount=function(i){var r="";t.RuntimeConfig.QfMode==5&&i&&(r=this.host.getLocString("SuggestionCountNarrator",""+i));this.renderReactView("narratorMessageContainer",n.View.FileExplorerNarratorAnnouncement,{message:r})},h.prototype.updateTopResultsView=function(i){if(this.setQueryBasedCss(i.query),this.setConditionalCss("noSuggestions",i.topResults.length==0&&i.groups.length==0),t.RuntimeConfig.QfMode==5){var r=i.topResults.length;this.updateFENarratorSuggestionCount(r>0?r:null)}this.renderReactView("topResults",n.View.WindowsTopResults,{suggestions:i.topResults,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton()})},h.prototype.showTemporaryMessage=function(i){var r=this,u;this._windowsTemporaryMessageShown?(this.hideTemporaryMessage(),n.safeSetTimeout(function(){return r.showTemporaryMessage(i)},100,"showTemporaryMessage")):(u={messageText:i,clickHandler:function(){r.hideTemporaryMessage();r._host.setFocusInSearchBox(null,"temporaryMessage")}},this.updateTemporaryMessageView(u),this._windowsTemporaryMessageShown=!0,t.setVisibility(this._windowsTemporaryMessageWrapper,!0))},h.prototype.hideTemporaryMessage=function(){this._windowsTemporaryMessageShown&&(this.updateTemporaryMessageView(null),this._windowsTemporaryMessageShown=!1,t.setVisibility(this._windowsTemporaryMessageWrapper,!1))},h.prototype.updateTemporaryMessageView=function(t){this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:t,icon:{content:"&#xE946",type:2},messageClassName:e})},h.prototype.updateIndexingMessageView=function(i){var r=!!i;this._windowsIndexingMessageShown!=r&&(this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:i,icon:i&&i.messageText==this._host.getLocString("WindowsIndexingInProgressMessage")?{content:"&#xE895",type:2}:null,messageClassName:o}),this._windowsIndexingMessageShown=r,t.setVisibility(this._windowsIndexingMessageWrapper,r),this.resetSuggestionsContainerHeight())},h.prototype.updateDialogBox=function(t){t.isVisible?this._host.setFocusInWebView("updateDialogBox"):this._host.setFocusInSearchBox(null,"updateDialogBox: hidden");this.renderReactView("dialogBox",n.View.WindowsDialogBox,{dataModel:t})},h.prototype.updateTopHitHeaderView=function(t){this.renderReactView("topHitHeader",n.View.TopHitHeader,{dataModel:t})},h.prototype.updateScopesHeaderView=function(t){this.renderReactView("scopesHeader",n.View.ScopesHeader,{dataModel:t})},h.prototype.updatePreviewErrorMessageView=function(t){this.renderReactView("previewErrorMessageContainer",n.View.PreviewErrorMessageContainer,{dataModel:t})},h.prototype.updatePreviewContainerView=function(t){t?this._previewContainer.classList.add("localPreviewContainer"):this._previewContainer.classList.remove("localPreviewContainer");this.renderReactView("previewContainer",n.View.WindowsPreviewContainer,{dataModel:t,expanderClickInstrumentation:this._expanderClickInstrumentation,chevronDownIcon:{content:"&#xE70D",type:2},cortanaInfoIcon:{content:"&#xE946",type:2}})},h.prototype.updateMsbPreviewContainerView=function(n){var i=this,t;this._previewContainer.innerHTML="";t=sj_ce("div","b_bfb");this._previewContainer.appendChild(t);t.addEventListener("click",function(n){var t=i.findBfbAnchor(n.target);t&&t.href&&(n.preventDefault(),i._host.launchUri(t.href))});n.suggestion?this._previewContainer.classList.add("localPreviewContainer","msbPreviewContainer"):this._previewContainer.classList.remove("localPreviewContainer","msbPreviewContainer")},h.prototype.findBfbAnchor=function(n){return n?n.tagName==="a"||n.tagName==="A"?n:this.findBfbAnchor(n.parentElement):undefined},h.prototype.updateMenuView=function(t){this.renderReactView("menuContainer",n.View.WindowsMenu,{dataModel:t})},h.prototype.updateSnipSearchMessageView=function(t){this.renderReactView("messageContainer",n.View.SnipSearchMessage,{dataModel:t})},h.prototype.setProgressIndicatorVisibility=function(n){this._progressBarVisible!=n&&(this._progressBar||(this._progressBar=_ge("b_progress")),t.setVisibility(this._progressBar,n),this._progressBarVisible=n)},h.prototype.setPreviewPaneVisibility=function(n){this._previewPaneVisible!=n&&(n||this.closeSidePanel(1),t.setVisibility(this._previewPane,n),n&&this.openSidePanel(1),this._previewPaneVisible=n)},h.prototype.toggleDebugWindowVisibility=function(){return this.setDebugWindowVisibility(!this._debugWindowVisible),this._debugWindowVisible},h.prototype.setDebugWindowVisibility=function(n){t.setVisibility(this._debugWindow,n);t.RuntimeConfig.AlwaysWide?this.setConditionalCss("debugWindowOpen",n):n?this.openSidePanel(2):this.closeSidePanel(2);this._debugWindowVisible=n},h.prototype.applyAccentColor=function(){var i=this._host.getAccentColor(),o,e,f,t;this._lastAccentColor!=i&&(e="accent-style",f=_ge(e),f||(f=_d.createElement("style"),f.setAttribute("id",e),f.type="text/css",o=!0),t=".icon svg { fill: {0} }",t+=".gridLayout .suggestion.sa_hv, .gridLayout .suggestion.sa_hv:hover { border-color: {1}; }",t+=".toggleSwitch input:checked + label::before { background-color: {0}; border-color: {0}; }",n.isHighContrastEnabled()||(t+=".accentColor, .accentColor:visited { color: {0}; }",t+=".sa_hv, .sa_hv.selectable:active, .sa_hv.selectable:hover, .sa_hv .openPreviewPaneBtn:active, #root.zeroInput19H1 .selectable.sa_hv, #root.zeroInput19H1 .selectable.sa_hv:hover { background-color: {1}; }",t+=".sa_hv.suggestion:hover { background-color: {3}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .openPreviewPaneBtn:hover { background-color: {2}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .suggDetailsContainer:hover { background-color: {2}; }",t+="#footer { background-color: {8}; }",t+="#footer:hover { background-color: {9}; }",t+="#footer:active { background-color: {10}; }",t+=":not(.groupContainer).topHitConnectedToGroup:not(.sa_hv):not(.previewPaneOpened) { background: {2}; }",t+="#root:not(.wideByDefault) .selectedScope { background-color: {3}; }",t+="#root:not(.wideByDefault) .selectedScope:hover { background-color: {4}; }",t+="#root:not(.wideByDefault) .selectedScope:active { background-color: {5}; }",t+="#root.wideByDefault .selectedScope { border-color: {0}; }",t+="#startMenu .icon { background-color: {5}; }",t+=".accentButtonBackground { background-color: {6}; }",t+=".accentButtonBackground:focus { background-color: {1}; }",t+=".scopeOptions input[type='button'], .topOptions input[type='button'] { background-color: {12}; border-color: {12} }",t+=".scopeOptions input[type='button']:hover, .topOptions input[type='button']:hover { border-color: {3} }",t+=".expanderContainer.selectedExpander .expanderInnerCircle, .expanderContainer:hover .expanderInnerCircle { background-color: {1}; border-color: {11} }",t+="#previewContainer .expanderContainer.selectedExpander .divider, #previewContainer .expanderContainer:hover .divider { border-color: {1} }",t+=".zeroInput19H1 .secondaryText.selectable { color: {12} }",t+=".zeroInput19H1.darkTheme19H1 .secondaryText.selectable { color: {13} }",t+=".zeroInput19H1 .santorini .sa_hv.selectable, .santorini .sa_hv.selectable  { background-color: {14}; }",t+=".radial { stroke: {0} }"),f.innerHTML=n.formatString(t,[i,r(i,.3),r(i,.1),r(i,.4),r(i,.6),r(i,.7),r(i,.15),s(i,35),u(i,.65),u(i,.8),u(i,.9),r(i,0),this._host.getAccentColor(1),this._host.getAccentColor(-2),r(i,.2),]),o&&_d.head.appendChild(f),this._lastAccentColor=i)},h}(n.BasePage);t.Page=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t=54e5,i=function(){function i(i,r){var u=this;this._host=i;this._appCacheInstrumentationHelper=r;this._isReloadSuppressed=!1;this._pendingReload=!1;r.registerSuperFresh();i.hasFallbackHappened()&&(this._isReloadSuppressed=!0,this._lastReloadAfterFallback=n.getCurrentTime());i.bindAppHidden(function(){(u._isReloadSuppressed=u._lastReloadAfterFallback&&n.getCurrentTime()-u._lastReloadAfterFallback<t,u._isReloadSuppressed)||(!u._pendingReload&&n.config.reloadAfterConversations&&i.getPaneCloseCount()>=n.config.reloadAfterConversations&&(u._pendingReload=!0),u._pendingReload&&(u.logReloadAttempt(),u.reload()))});sj_be(applicationCache,"updateready",function(){return u.onUpdateReady()});i.bindConversationStart(function(){u._isReloadSuppressed=!0;u.shouldCheckForUpdate()&&n.contains([1,4,5],applicationCache.status)&&n.safeExecute(function(){return applicationCache.update()},"probe for manifest update")})}return i.prototype.shouldCheckForUpdate=function(){if(!n.isBingEnabled())return!1;return n.config.th&&ClientTestHooks.isTesthookParamSet("disableAppCache")?!1:!0},i.prototype.onUpdateReady=function(){this.logReloadAttempt();this._isReloadSuppressed?this._pendingReload=!0:this.reload()},i.prototype.reload=function(){this._host.reloadWebView()},i.prototype.logReloadAttempt=function(){this._appCacheInstrumentationHelper.instrumentSuperFreshUpdate(this._isReloadSuppressed)},i}();n.SuperFreshAppCache=i}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i,r;(function(t){function u(t,i,r,u,f,e,o,s){var c,l=function(n){c&&f.unregister(c);o&&o==n.number||SharedLogHelper.LogError(t,e,s||n);u&&u(n)},h,a;try{h=i();h?(f&&h.cancel&&(c=f.register(function(){return h.cancel()},!1,t+" cancellation")),a=function(i){c&&f.unregister(c);r&&n.safeExecute(function(){return r(i)},t+" completion")},h.done?h.done(a,l):h.then(a,l)):l(new Error("No promise returned"))}catch(v){l(v)}}function r(t,i,r,u){i.completed=!0;i.result=r;i.pendingCallbacks.forEach(function(t){return n.safeExecute(function(){return t(r)},u)});i.pendingCallbacks=null}function f(){i={}}function e(){var n=[];for(var t in i)i[t].completed||n.push(t);n.forEach(function(n){return delete i[n]})}function o(u,f,e,o,s,h,c,l){return function(a,v){var p=e(a),y=i[p],w;y||(y={started:!1,completed:!1,result:null,pendingCallbacks:[]},i[p]=y);y.completed?v(y.result):(y.pendingCallbacks.push(v),y.started||(y.started=!0,w=function(){t.safeChain(u,function(){return f(a)},function(n){h&&!h(n)&&delete i[p];r(p,y,o?o(n):n,u)},function(t){n.isCancellation(t)?r(p,y,null,u):l?(l-=1,w()):r(p,y,s,u)},null,c)},w()))}}t.safeChain=u;var i={};t.clearGlobalCache=f;t.clearPendingItemsFromCache=e;t.safeChainWithGlobalCaching=o})(i=t.Promise||(t.Promise={})),function(n){function t(n,t,i){for(var u,f,e={},r=0,o=n;r<o.length;r++)u=o[r],f=t[u],f&&(e[u]=i(f));return e}function i(n){for(var t in n)if(n[t])return!1;return!0}n.map=t;n.isEmpty=i}(r=t.Map||(t.Map={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var r="show",i=10,u=function(){function u(i,r,u,f,e){var o=this;this._host=i;this._page=r;this._instHelper=u;this._showIcons=f;this.adjustHeight=e;this._root=_ge("root");this._menuStack=[];this._menuContainer=_ge("menuContainer");this._itemClickHandler=function(t,i){i.button==0&&t.click&&t.click(n.getCurrentTime(),n.getInputType(i))};this._itemEnterHandler=function(t){t.isSelectable&&!t.isExpanded&&(t.subItems&&(o._hoverTimer&&sb_ct(o._hoverTimer),o._hoverTimer=n.safeSetTimeout(function(){o._hoverTimer=0;var n=_ge(t.id);t&&!t.isExpanded&&n&&n.matches(":hover")&&o.showSubMenu(t)},500,"menu item mouse enter")),o.stickParent(t))};this._itemLeaveHandler=function(t){t.isExpanded&&!t.isSticky&&n.safeSetTimeout(function(){var n=_ge(t.id);t&&!t.isSticky&&n&&!n.matches(":hover")&&(t.subItems.some(function(n){return n==o._selectedItem})&&o.select(null,!1),o.dismissSubMenu(t))},450,"menu item mouse leave")};sj_be(_d.body,"mouseup",function(n){o._menuContainer.contains(n.target)||o.dismiss()});t.config.th||sj_be(_w,"blur",function(){return o.dismiss()});sj_evt.bind("ajax.threshold.pageStart",function(){return o.dismiss()});i.bindKeyEscape(function(n){o.isMenuVisible()&&(n.handled=!0,o._menuStack.length>0?o.reselectParentItem():o.dismiss(!0))})}return u.prototype.showSubMenu=function(n){if(!n.isExpanded){this._selectedItem&&this.select(null,!1);var i=_ge(n.id),r=i.querySelector(".contextMenu");n.isExpanded=!0;t.setVisibility(r,!0);this.adjustSubMenuPosition(i,r);this._menuStack.push(n);this._page.updateMenuView(this.getDataModel())}},u.prototype.dismissSubMenu=function(n){var u,f,i,e,r;if(this._selectedItem&&this.select(null,!1),n){if(i=this._menuStack.indexOf(n),i<0)return;for(e=this._menuStack.slice(i),r=0;r<e.length;++r)this.dismissSubMenu()}else n=this._menuStack.pop(),u=_ge(n.id),f=u.querySelector(".contextMenu"),n.isExpanded=!1,n.isSticky=!1,t.setVisibility(f,!1);this._page.updateMenuView(this.getDataModel())},u.prototype.showMenu=function(i,u){var f=this,o,c,e,s,l,h;if(this._menuItems.length){for(t.setVisibility(this._menuContainer,!0),o=this.getDataModel(),this._page.updateMenuView(o),c=function(n){n.getIcon&&n.getIcon(1,function(t){n.icon=t;f._page.updateMenuView(f.getDataModel())})},e=0,s=this._menuItems;e<s.length;e++)l=s[e],c(l);h="renderContextMenu";n.safeSetTimeout(function(){f.adjustPosition(i,u,o.menuType!=0);f._menuContainer.classList.add(r);var n=_qs("#menuContainer > .contextMenu");n.focus();n.scrollTop=0;f._host.setFocusInWebView(h)},0,h)}},u.prototype.innerShowContextMenu=function(n,t,i,r,u){this.dismiss();var f=this.getContextMenuItems(n,r);f&&f.length>0&&(this._menuItems=f,this._onDismiss=u,this._menuType=0,t-=this._root.offsetLeft,i-=this._root.offsetTop,this.showMenu(t,i))},u.prototype.showDropdownMenu=function(n,i,r,u){if(this.dismiss(),this._parentElement=i,n&&n.length>0){this._menuItems=n;this._onDismiss=u;this._menuType=r;var f=i.offsetLeft,e=i.offsetTop+i.offsetHeight+1;t.isRtl()&&(f+=i.offsetWidth);this.showMenu(f,e)}},u.prototype.showContextMenuOnElement=function(n,t,i,r){var u=t.getBoundingClientRect(),f=u.left+t.offsetWidth/2,e=u.top+this._page.getScrollTop()+t.offsetHeight/2;this.showContextMenuOnXY(n,f,e,i,r)},u.prototype.showContextMenuOnXY=function(i,r,u,f,e){var o=this,s,h;this._parentElement=null;e&&(s=i.childSuggestions.filter(function(n){return n.text===e.text}),s&&s.length&&(i=s[0]));h=t.getVerbsAsync("showContextMenu",i,t.config.rawVerbs,!1,function(e){return n.safeSetTimeout(function(){return o.innerShowContextMenu(t.extendVerbs(e,i,o._page,o._host),r,u,function(n,t,r,u){o._instHelper.instrumentItemClickForContextMenu(t,i.instItem,i.sequenceNumber,i.instrumentPingBack,r,u,n)},f)},0,"showContextMenu handler")},function(){return!0});e||h||(this._page.hideTemporaryMessage(),this._host.setFocusInSearchBox(null,"noContextMenu"))},u.prototype.getSelectableItems=function(){var n,t;return this._menuItems?(n=[],this._menuStack.length>0?(t=this._menuStack[this._menuStack.length-1],n=t.subItems):n=this._menuItems,n.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(n){return n.isSelectable})):[]},u.prototype.getSelectableItemsByGroup=function(){return[]},u.prototype.getSelectedItem=function(){return this._selectedItem},u.prototype.getDataModel=function(){return{items:this._menuItems,showIcons:this._showIcons,clickHandler:this._itemClickHandler,menuType:this._menuType,enterHandler:this._itemEnterHandler,leaveHandler:this._itemLeaveHandler,expandIcon:this.getExpandIcon()}},u.prototype.getExpandIcon=function(){return{content:t.isRtl()?"&#xE76B":"&#xE76C",type:2}},u.prototype.select=function(n){var t;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.blur(),this._selectedItem.selected=!1);this._selectedItem=n;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.focus(),this._selectedItem.selected=!0);n&&this.stickParent(n);this._page.updateMenuView(this.getDataModel())},u.prototype.stickParent=function(n){var u=this.getParent(n),f,t,r,i;for(u&&(u.isSticky=!0),f=this.getSiblings(n),t=0,r=f;t<r.length;t++)i=r[t],i.isSticky&&(i.isSticky=!1,this._itemLeaveHandler(i,null))},u.prototype.isItemInMenuOrMenuGroup=function(n,t){return t.some(function(t){return t==n||t.groupItems&&t.groupItems.indexOf(n)>=0})},u.prototype.getParent=function(n){for(var r,t=0,i=this._menuStack;t<i.length;t++)if(r=i[t],this.isItemInMenuOrMenuGroup(n,r.subItems))return r;if(this.isItemInMenuOrMenuGroup(n,this._menuItems))return null;throw new Error("Item: '"+n.id+"' was not found");},u.prototype.getSiblings=function(n,t){t===void 0&&(t=!1);var i=this.getParent(n),r=i?i.subItems:this._menuItems;return r.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(i){return i.isSelectable&&(t||i!=n)})},u.prototype.selectSubItem=function(n,t){this.showSubMenu(n);this.select(t,!1)},u.prototype.reselectParentItem=function(){var n=this._menuStack[this._menuStack.length-1];this.dismissSubMenu();this.select(n,!1)},u.prototype.onAfterKeyDown=function(i,r,u,f){var e,s,o;if((u||f)&&!n.isUpOrDownKey(i))return!1;if(i=t.getRtlAdjustedKey(i),i==39||i==13){if(e=this._selectedItem,e&&e.subItems&&e.subItems[0]&&(s=e.subItems.filter(function(n){return n.isSelectable})[0],s))return this.selectSubItem(e,s),!0}else if(i==37){if(this._menuStack.length>0)return this.reselectParentItem(),!0}else if(n.isUpOrDownKey(i)&&this._selectedItem)return o=this._menuStack.length==0?_qs(".contextMenu"):_ge(this._menuStack[this._menuStack.length-1].id).querySelector(".contextMenu"),o&&this._page.scrollToElement(_ge(this._selectedItem.id),o,o.offsetHeight),!0;return i==13},u.prototype.isMenuVisible=function(){return!!this._menuItems},u.prototype.dismiss=function(n){if(this._menuItems&&(this._menuItems=null,this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null),this._page.updateMenuView(this.getDataModel()),this._menuContainer.classList.remove(r),this._menuContainer.style.width=null,t.setVisibility(this._menuContainer,!1),t.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight="",this.adjustHeight()),this._menuStack=[]),n&&this._parentElement&&this._parentElement.focus(),this._parentElement=null,this._onDismiss){var i=this._onDismiss;this._onDismiss=null;i()}},u.prototype.adjustSubMenuPosition=function(n,r){var h,y,d,o;if(this._menuItems){var f=this._menuContainer,p=f.offsetWidth,w=r.offsetHeight,s=r.offsetWidth,b=0,e=window.getComputedStyle(r).paddingTop;e.endsWith("px")&&(e=e.substr(0,e.length-2),b=+e+1);var l=0,k=_qs("#menuContainer .contextMenu").scrollTop,a=t.isRtl(),v=6;for(h=0,y=this._menuStack;h<y.length;h++)d=y[h],o=_ge(d.id).querySelector(".contextMenu"),v=+o.style.zIndex,l+=o.offsetLeft,k+=o.scrollTop,a=o.offsetLeft<0;++v;var u=f.offsetLeft+l+n.offsetLeft,c=f.offsetTop+n.offsetTop-k-b,g=this._root.offsetWidth-(u+p),nt=u,tt=s<g,it=s<nt;(a||!tt)&&it?u-=s:a&&it||!tt?u=nt>g?i:this._root.offsetWidth-s-i:u+=p-2;c+w>this._root.offsetHeight&&(c=Math.max(this._root.offsetHeight-w,this._root.offsetTop));u-=f.offsetLeft+l;c-=f.offsetTop;r.style.left=u+"px";r.style.top=c+"px";r.style.zIndex=v.toString()}},u.prototype.adjustPosition=function(n,r,u){var e,s;if(this._menuItems){var o=this._menuContainer,f=o.offsetWidth,h=o.offsetHeight;f>this._root.offsetWidth&&(f=this._root.offsetWidth,o.style.width=f+"px");e=n;s=r;t.isRtl()?(e-=f,e<0&&(e=u?i:n)):e+f>this._root.offsetWidth&&(e=u?this._root.offsetWidth-f-i:Math.max(n-f,this._root.offsetLeft));!u&&s+h>this._root.offsetHeight&&(s=Math.max(this._root.offsetHeight-h,this._root.offsetTop));o.style.left=e+"px";o.style.top=s+"px";t.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight=s+h+"px",this.adjustHeight())}},u.prototype.getContextMenuItems=function(i,r){var u=this;return i.map(function(i){var f={id:encodeURIComponent(i.verb),text:i.displayName,isSeparator:!i.verb,selected:!1,isDefault:i.isDefault,icon:i.icon,getIcon:i.getIcon,click:undefined,title:undefined,cssClass:undefined,isSelectable:!!i.verb};return f.isSeparator||(f.click=function(f,e){r(i.verb,f,e,null);i.executeSync?(n.safeExecute(function(){return i.executeSync()},"verb.executeSync",null,i.verb),u.dismiss()):t.Promise.safeChain("verb.executeAsync",function(){return i.executeAsync()},function(){return u.dismiss()},null,null,i.verb)}),f})},u}();t.MenuFactory=u})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t="ConnectedAccounts",i=function(){function i(t){this._storage=t;this._accountsCache={};n.config.th&&ClientTestHooks.isTesthookParamSet("clearSSOCache")&&this.clear();this.init()}return i.prototype.setToken=function(n,t){this.setTokenInfo(t,n);this.writeToLocalStorage()},i.prototype.findAccount=function(n,t){var i=this._accountsCache[n];return i&&!this.isExpired(i.LastUpdated,t,i.ExpireDateTime)?i:null},i.prototype.clear=function(){this._accountsCache={};this.writeToLocalStorage()},i.prototype.init=function(){this._accountsCache={};var i=this._storage.getItem(t);i&&(this._accountsCache=n.safeExecute(function(){return JSON.parse(i)},"parseConnectedAccountString",{}))},i.prototype.writeToLocalStorage=function(){this._storage.setItem(t,JSON.stringify(this._accountsCache))},i.prototype.isExpired=function(t,i,r){var f,u,e,o;return i===undefined?!1:n.config.th&&(f=ClientTestHooks.isTesthookParamSet("forceTokenRefresh"),f)?!0:(u=n.getCurrentTime(),r&&u>r)?!0:(e=6e4,o=Math.floor((u-t)/e),o>=i)},i.prototype.setTokenInfo=function(t,i){var r=this._accountsCache[t],u=n.getCurrentTime();r={Token:i.Token,LastUpdated:u,ExpireDateTime:i.ExpireDateTime,TenantName:i.TenantName,RoutingHint:i.RoutingHint,UserName:i.UserName};this._accountsCache[t]=r},i}();n.TokenStore=i}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,r="SelectedAuthAccountId",u=60,f=function(){function f(n,t){var r=this;this._storage=n;this._tokenStore=t;this._pendingCallbacks={};this._availableMsaAccounts=[];this._availableAadAccounts=[];this._accessTokenAvailableHandlers=[];this._accountTypeChangedHandlers=[];this._selectedAccountChangedHandlers=[];i.addEventListener("experiencelaunched",function(){i.experienceId=="NotebookOffline"&&r._tokenStore.clear()})}return f.prototype.authTypeMatchesWindowsAccountType=function(n){return t.windowsAccountType==4||(n==0?t.windowsAccountType==2:t.windowsAccountType==1)},f.prototype.setWindowsAccountType=function(n,i){var r=t.windowsAccountType;t.windowsAccountType=n;i&&t.windowsAccountType!=r&&this.fireAccountTypeChanged()},f.prototype.clearCachedAccountInfo=function(){this._cachedAAD=null;this._cachedMSA=null},f.prototype.getAllSyncingAccounts=function(n,t,r,u,f,e){var a=i.fileExplorerSuggestionPage.registeredSyncRootInfo,h=[],v,s,c,l,o;for(v in a)o=a[v],typeof o=="string"&&o.includes("@")&&h.push(o);for(h.length==0&&f([]),s={responses:0,accounts:[]},c=0,l=h;c<l.length;c++)o=l[c],this.getAccountByUserName(n,t,o,r,u,function(n){++s.responses;n&&n.Token&&s.accounts.push(n);s.responses==h.length&&f(s.accounts)},e)},f.prototype.getAllAvailableAccounts=function(n){return n==0?this._availableMsaAccounts.slice(0):this._availableAadAccounts.slice(0)},f.prototype.getCachedAccountInfo=function(n){if(!this.authTypeMatchesWindowsAccountType(n))return null;switch(n){case 1:return this._cachedAAD;case 0:return this._cachedMSA;default:return null}},f.prototype.getSelectedAccountInfo=function(){if(t.windowsAccountType==2&&this._cachedMSA)return this._cachedMSA;if(t.windowsAccountType==1&&this._cachedAAD)return this._cachedAAD;var u=this._storage.getItem(r),n,i=this._availableAadAccounts.concat(this._availableMsaAccounts);return i.length>0&&(u&&(n=i.filter(function(n){return n.accountId==u})[0]),n||(n=i.filter(function(n){return n.isDefaultAccount})[0]),n||(n=i[0]),n&&this.setSelectedAccount(n)),n},f.prototype.setSelectedAccount=function(n){if(this.cacheAccount(n),t.windowsAccountType!=4){var i=n.accountProviderAuthority=="consumers"?2:1;this.setWindowsAccountType(i,!0)}this._storage.setItem(r,n.accountId);this.fireSelectedAccountChangedHandlers(n)},f.prototype.isMsaAvailable=function(){return this._availableMsaAccounts.length>0},f.prototype.isAadAvailable=function(){return this._availableAadAccounts.length>0},f.prototype.cacheAccount=function(n){n.accountProviderAuthority=="consumers"?this._cachedMSA=n:this._cachedAAD=n},f.prototype.cacheAllAccounts=function(n){var t,r,i;for(this._availableMsaAccounts=[],this._availableAadAccounts=[],t=0,r=n;t<r.length;t++)i=r[t],i.accountProviderAuthority=="consumers"?this._availableMsaAccounts.push(i):this._availableAadAccounts.push(i)},f.prototype.getAccountByUserName=function(n,i,r,u,f,e,o){var s,h=i==0?this._availableMsaAccounts:this._availableAadAccounts,c;h.length>0&&(s=h.find(function(n){return n.accountUserName.toLocaleLowerCase()==r.toLocaleLowerCase()}));s?(c=n?t.getSubstrateResourceOrScope(i):t.getBingResourceOrScope(i),this.getAccount(i,c,u,f,e,o,s)):e(null)},f.prototype.getAccount=function(n,t,i,r,u,f,e){var s=this,h,o;if(!t)throw new Error("Resource or Scope has to be set");if(h=function(n){var t=s._pendingCallbacks[o];s._pendingCallbacks[o]=null;t.forEach(function(t){return t(n)})},!this.authTypeMatchesWindowsAccountType(n)){u(null);return}if(e||(e=this.getCachedAccountInfo(n)),o=t+i+r+f+(e?e.accountId:""),this._pendingCallbacks[o]){this._pendingCallbacks[o].push(u);return}this._pendingCallbacks[o]=[u];this.authenticate(n,t,i,r,f,h,e)},f.prototype.authenticate=function(r,f,e,o,s,h,c){var y=this,k=e?0:u,v=f+s+(c?c.accountId:""),p=this._tokenStore.findAccount(v,k),d=t.config.th&&ClientTestHooks.isTesthookParamSet("noAuthCache"),l,a,w,b;o&&p&&!d?h(p):(l=function(){return h(null)},n.isBrowserOnline()?(a=i.authenticationManager.createAuthenticateRequest(),a.accountType=s,a.silentMode=o,r==1?a.resource=f:a.scope=f,w=c&&i.authenticationManager.authenticateSearchWebAccountAsync,b=w?function(){return i.authenticationManager.authenticateSearchWebAccountAsync(a,c)}:function(){return i.authenticationManager.authenticateAsync(a)},t.Promise.safeChain("authenticateAsyncWAM",b,function(i){var u,e,s;if(t.config.th&&(f=="https://substrate.office.com"||f=="https://substrate.office.com/SubstrateSearch-Internal.ReadWrite"))if(o){if(ClientTestHooks.isTesthookParamSet("ssoAuthFail")){l();return}}else if(ClientTestHooks.isTesthookParamSet("uxAuthFail")){l();return}if(!i){n.log("WAM returned null");l();return}if(i.token){if(u=i.properties,e=u.UPN||i.userName,!e){n.log("WAM didn't return UPN");l();return}s={Token:i.token,ExpireDateTime:u.exp?parseInt(u.exp)*1e3-3e5:null,TenantName:u.tenant_display_name||"",RoutingHint:e,UserName:e};r==0&&(s.ExpireDateTime=n.getCurrentTime()+36e5);y._tokenStore.setToken(s,v);h(y._tokenStore.findAccount(v))}else i.errorCode||i.errorMessage?n.log("WAM error "+i.errorCode+": "+i.errorMessage):n.log("WAM returned an empty token"),l()},l)):l())},f.prototype.bindAccessTokenAvailable=function(n){this._accessTokenAvailableHandlers.push(n)},f.prototype.bindAccountTypesChanged=function(n){this._accountTypeChangedHandlers.push(n)},f.prototype.bindSelectedAccountChanged=function(n){this._selectedAccountChangedHandlers.push(n)},f.prototype.fireAccountTypeChanged=function(){this._accountTypeChangedHandlers.forEach(function(n){return n()})},f.prototype.fireSelectedAccountChangedHandlers=function(n){this._selectedAccountChangedHandlers.forEach(function(t){return t(n)})},f.prototype.tryConnect=function(i,r,u){var f=this,e=i==1?t.isSubstrateO365AccountConnected:t.isSubstrateOutlookAccountConnected;e||this.getAccount(i,t.getSubstrateResourceOrScope(i),!1,!0,function(r){var e=!!r,o;i==1?t.isSubstrateO365AccountConnected=e:t.isSubstrateOutlookAccountConnected=e;e&&u()&&(o=i.toString(),f._accessTokenAvailableHandlers.forEach(function(t){return n.safeExecute(function(){return t(i)},"accessTokenAvailable",null,o)}))},t.getAuthAccountForCloudContent(),r)},f.prototype.updateWindowsAccountType=function(n){for(var o,i,s,r=!1,u=!1,f=0,e=n;f<e.length;f++)o=e[f],o.accountProviderAuthority=="consumers"?r=t.isCloudSearchEnabledMsaCache:u=t.isCloudSearchEnabledAadCache;i=3;t.config.userProfileButtonEnabled?(s=this.getSelectedAccountInfo(),i=s.accountProviderAuthority=="consumers"?2:1):r&&u?i=4:u?i=1:r&&(i=2);this.setWindowsAccountType(i,!0)},f.prototype.setCortanaAccountType=function(){(t.windowsAccountType==4||t.windowsAccountType==2)&&(t.cortanaAccountType=2)},f.prototype.connectAccounts=function(n,i){var u,f,r;for(t.isSubstrateO365AccountConnected=!1,t.isSubstrateOutlookAccountConnected=!1,u=0,f=n;u<f.length;u++)r=f[u],r.accountProviderAuthority=="consumers"&&t.isCloudSearchEnabledMsaCache?this.tryConnect(0,r,i):r.accountProviderAuthority=="organizations"&&t.isCloudSearchEnabledAadCache&&this.tryConnect(1,r,i)},f.prototype.enumerateAccountAuthority=function(n,r){var u=this;t.config.wamSupported&&t.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return i.authenticationManager.enumerateAccountAuthorityAsync()},function(i){var e,o,f;if(t.windowsAccountType==0){e=3;switch(i.Windows){case"consumers":e=2;break;case"organizations":e=1}u.setWindowsAccountType(e,!0);t.windowsAccountType!=3&&(f=t.accountTypeToAuthType(t.windowsAccountType),u.getAccount(f,t.getBingResourceOrScope(f),!1,!0,function(n){return t.windowsIdentity=n&&n.UserName?n.UserName:""},"Windows"))}n()&&(t.cortanaAccountType=i.Cortana=="organizations"?1:i.Cortana=="consumers"?2:3);t.isCloudSearchEnabledCache&&t.substrateProvidersEnabled()&&(o=t.getAccountTypeForCloudContent(),o==1?u.tryConnect(1,null,n):o==2&&u.tryConnect(0,null,n));t.windowsAccountType==t.cortanaAccountType&&t.windowsAccountType!=3&&(f=t.accountTypeToAuthType(t.cortanaAccountType),u.getAccount(f,t.getBingResourceOrScope(f),!1,!0,function(n){return t.cortanaIdentity=n&&n.UserName?n.UserName:""},"Cortana"));r()})},f.prototype.enumerateMultiAccountAuthority=function(n,r){var u=this;if(t.config.wamSupported){if(!i.authenticationManager.getAllSearchWebAccountsAsync){this.enumerateAccountAuthority(n,r);return}this.clearCachedAccountInfo();this.setWindowsAccountType(3,!1);t.Promise.safeChain("getAllSearchWebAccountsAsync",function(){return i.authenticationManager.getAllSearchWebAccountsAsync()},function(i){var f,o,s,c,v,l,h,a,e;if(u.cacheAllAccounts(i),f=[],u._availableMsaAccounts.length>0&&(o=Math.max(u._availableMsaAccounts.findIndex(function(n){return n.isDefaultAccount}),0),f.push(u._availableMsaAccounts[o])),u._availableAadAccounts.length>0&&(o=Math.max(u._availableAadAccounts.findIndex(function(n){return n.isDefaultAccount}),0),f.push(u._availableAadAccounts[o])),!t.config.userProfileButtonEnabled)for(s=0,c=f;s<c.length;s++)e=c[s],u.cacheAccount(e);if(v=t.windowsAccountType,u.updateWindowsAccountType(f),t.windowsAccountType!=v)for(l=function(n,i){u.getAccount(n,t.getBingResourceOrScope(n),!1,!0,function(n){return t.windowsIdentity=n&&n.UserName?n.UserName:""},"Windows",i)},h=0,a=f;h<a.length;h++)e=a[h],e.accountProviderAuthority=="consumers"&&t.isCloudSearchEnabledMsaCache?l(0,e):e.accountProviderAuthority=="organizations"&&t.isCloudSearchEnabledAadCache&&l(1,e);n()&&u.setCortanaAccountType();t.isCloudSearchEnabledCache&&t.substrateProvidersEnabled()&&u.connectAccounts(f,n);r()})}},f.prototype.promptAutheticateDialog=function(i,r,u,f){var e=this,o=function(r){var o=!!r;i==1?t.isSubstrateO365AccountConnected=o:t.isSubstrateOutlookAccountConnected=o;o?(u(),e._accessTokenAvailableHandlers.forEach(function(t){return n.safeExecute(function(){return t(i)},"promptAccessTokenAvailable",null,i.toString())})):f()};this.getAccount(i,r,!1,!1,o,t.getAuthAccountForCloudContent())},f}();t.AccessTokenManager=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function y(t){t.bindAppHidden(function(){SearchAppWrapper.CortanaApp.isBingEnabled&&n.isBrowserOnline()&&n.safeExecute(function(){return ft("asgw",["fp.msedge.net/conf/v1/asgw/fpconfig.min.json"],2e3)},"AFDFootprint.start",null,null)})}function ft(n,t,i){var o;if(n&&n.trim().length!==0&&Number(i)===i&&i%1==0&&!(i<0)){var r=c,h=ut,y=v(),p=e(),s="MonitorID="+n+"&rid="+p+"&w3c="+y+"&prot="+window.location.protocol+"&v="+h+"&DATA=";if(u)a(r,s,i);else{for(o in t)t[o]=r+t[o];f(t,0,l,r,s,i)}}}function a(n,t,i){var o=et(u,n),s,f,r,e,h;if(o.length!==0){for(s=ot(o,n,b),f=[],r=0,e=u.r;r<e.length;r++)h=e[r],f.push(n+h+"?"+t);ct(s,d,i,f)}}function f(n,i,r,e,o,s){var l=r!==rt?0:1,h=n[i],v=SearchAppWrapper.CortanaApp.createStringMap(),c=SearchAppWrapper.CortanaApp.createStringMap();c["Content-Type"]="application/json";t.Promise.safeChain("fetchAFDUrl",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(l,h,v,"",c)},function(c){c.statusCode===200&&e!=null&&o!=null&&s!=null&&t.Promise.safeChain("readAFDResponse",function(){return c.readAsStringAsync()},function(n){u=JSON.parse(n);a(e,o,s)},function(){++i<n.length&&f(n,i,r,e,o,s)},null,h)},function(){++i<n.length&&f(n,i,r,e,o,s)},null,h,null,"makeHttpRequestAsync failed")}function et(n,t){var e=[],l,a,i,v,y,u,s,b;if(!n||!n.e)return e;var k=t.toLowerCase()===w?h:o,d=n.e,f=[],c=0;for(l=0,a=d;l<a.length;l++)i=a[l],i.w>0&&(o<=i.m&&i.m<=p&&i.m&k||i.m===r)&&(c+=i.w,f.push({endpoint:i.e,cumWeight:c,weight:i.w,measurementType:i.m}));for(v=Math.min(n.n,f.length);e.length<v;){y=Math.floor(Math.random()*c);u=null;for(s in f)u==null?y<f[s].cumWeight&&(u=f[s],delete f[s]):f[s].cumWeight-=u.weight;c-=u.weight;b=u.measurementType&r?nt:g;e.push({id:u.endpoint,testImage:b,measurementType:u.measurementType})}return e.sort(function(n,t){return n.measurementType-t.measurementType}),e}function ot(n,t,i){for(var f,p,d,a=[],v=0,w=n;v<w.length;v++){var y=w[v],l=y.measurementType,b=y.testImage,u=y.id,s=t+u;u.indexOf(".")===-1?s+=".clo.footprintdns.com":u.charAt(0)==="*"&&(f=u.substring(2),p=e(),s=t+p+"."+f,u=f==="clo.footprintdns.com"||f==="nrb.footprintdns.com"||f==="azr.footprintdns.com"?p:f);s+=k;var g=s+i+"?"+e(),nt=l===r?t===c?o:h:l,tt=l!==r;a.push({url:g,requestID:u,object:i,conn:"cold",measurementType:nt,report:tt});d=s+b+"?"+e();a.push({url:d,requestID:u,object:b,conn:"warm",measurementType:l,report:!0})}return a}function st(n,t){for(var r=[],i=0;i<t.length;i++)if(t[i].report){var f=n[i],u=t[i].measurementType,e=ht(f,u);r.push({RequestID:t[i].requestID,Object:t[i].object,Conn:t[i].conn,Result:e,T:u})}return JSON.stringify(r)}function ht(n,t){if(n===s)return n;if(t===r&&n>0){var i=tt/(n/it);return Math.round(i)}return Math.round(n)}function e(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+n()+n()+n()+n()+n()+n()}function v(){return window.performance&&window.performance.getEntriesByName?!0:!1}function ct(n,t,i,r){function c(i){var k,p,g,w,nt,d,b,tt;if(u!=null&&clearTimeout(u),o[i]=h!=null?(new Date).getTime()-h:s,i=(a+y)%n.length,e=new Image,a++<n.length)h=(new Date).getTime(),e.onload=function(){c(i)},k=function(){e.onload=null;e.onerror=null;h=null;c(i)},u=setTimeout(function(){k()},t),e.onerror=function(){u!=null&&clearTimeout(u);u=null;k()},e.src=n[i].url;else if(r!=null&&r.length!==0){if(v())for(p=0;p<n.length;p++)g=n[p].url,w=window.performance.getEntriesByName(g),o[p]!==s&&w&&w[0]&&(o[p]=w[0].duration);for(nt=st(o,n),d=[],b=0;b<r.length;b++)tt=r[b]+nt,d.push(tt);f(d,0,l,null,null,null)}}var h=null,u=null,o=[],a=0,e,y=0;setTimeout(function(){c(0)},i)}i.init=y;var u,o=1,h=2,p=3,r=8,w="http://",c="https://",b="trans.gif",k="/apc/",d=5e3,g="trans.gif",nt="100k.gif",tt=822.128,it=1e3,l="GET",rt="POST",s=-1,ut="20180228"})(i=t.AFDFootprint||(t.AFDFootprint={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));1
.putty.fr.uptodown.comutd_red_platform/3)
.putty.fr.uptodown.comutd_red_lang/2
?inputTypesForMethod@QDBusMetaObject@@QBEPBHH@Z
?outputTypesForMethod@QDBusMetaObject@@QBEPBHH@Z
OutputTypeAttributes
OutputTypeParameters
OutputType
OutputTypeNamePair
OutputTypeParameterConstraints
get_OutputType
set_OutputType
OutputTypeAttribute
get_OutputTypeRequiresOutputAssembly
outputTypeSpecified
outputType
bCannot add type. The OutputType parameter requires that the OutputAssembly parameter be specified.
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
OutputTypeBuilder
m_InputType
InitInputType
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
InputType
SynchronizedInputType
inputType
SynchronizeInputType
get_SynchronizeInputType
_synchronizedInputType
Validate_InputType
GetPairedInputType
MapInputTypeToRoutedEvents
E'{0}' is not a valid System.Windows.Automation.SynchronizedInputType.
19c11d03-5564-4532-ab50-3f2ef8c72969puttyhttps://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_InputType/Description}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_InputType/HighKeywords}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_OutputType/Description}
@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_OutputType/HighKeywords}
get_InputType
set_InputType
get_OutputType
NewOutputTypeAttribute
_pipelineInputType
inputType
providerOutputType
outputTypeAttributeDeclaration
outputTypes
<ViewsOf_MamlCommandHelpInfo_inputTypes>d__19
<InputType>k__BackingField
_outputType
AddInputTypesProperties
AddOutputTypesProperties
ViewsOf_MamlCommandHelpInfo_inputTypes
GetOutputTypes
gSystem.Management.Automation.Runspaces.Help_Format_Ps1Xml+<ViewsOf_MamlCommandHelpInfo_inputTypes>d__19
show_ads_impl_with_ama.js?client=ca-pub-0337387298854186&plah=putty.fr.uptodown.com&amaexp=1 
PpapiHostMsg_PPBInstance_SetTextInputType
{google:baseSuggestURL}search?{google:searchFieldtrialParameter}client={google:suggestClient}&gs_ri={google:suggestRid}&xssi=t&q={searchTerms}&{google:inputType}{google:omniboxFocusType}{google:cursorPosition}{google:pageClassification}{google:searchVersion}{google:sessionToken}{google:prefetchQuery}sugkey={google:suggestAPIKeyParameter}
{bing:baseURL}qbox?query={searchTerms}&language={language}&PC=U531&{bing:partner}{bing:cvid}{bing:ig}{google:inputType}{google:cursorPosition}{google:pageClassification}{bing:features}{bing:flights}
TextInputType
inputType
{"functions":[{"parameters":[{"optional":true,"type":"integer","name":"tabId"},{"explicitType":"RootCallback","name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"type":"function","optional":true}],"name":"getTree","type":"function"},{"parameters":[{"explicitType":"RootCallback","name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getDesktop","type":"function"},{"parameters":[{"explicitType":"FocusCallback","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getFocus","type":"function"},{"parameters":[{"explicitType":"AccessibilityFocusCallback","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getAccessibilityFocus","type":"function"},{"parameters":[{"name":"filter","$ref":"automation.TreeChangeObserverFilter"},{"explicitType":"TreeChangeObserver","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"type":"function"}],"name":"addTreeChangeObserver","type":"function"},{"parameters":[{"explicitType":"TreeChangeObserver","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"type":"function"}],"name":"removeTreeChangeObserver","type":"function"},{"parameters":[{"name":"params","$ref":"automation.SetDocumentSelectionParams"}],"name":"setDocumentSelection","type":"function"}],"documentation_options":{},"callbacks":{"QueryCallback":{"parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"name":"QueryCallback","type":"function"},"AutomationListener":{"parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"name":"AutomationListener","type":"function"},"TreeChangeObserver":{"parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"name":"TreeChangeObserver","type":"function"},"PerformActionCallback":{"parameters":[{"type":"boolean","name":"result"}],"name":"PerformActionCallback","type":"function"},"PerformActionCallbackWithNode":{"parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"name":"PerformActionCallbackWithNode","type":"function"},"BoundsForRangeCallback":{"parameters":[{"name":"bounds","$ref":"automation.Rect"}],"name":"BoundsForRangeCallback","type":"function"},"RootCallback":{"parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"name":"RootCallback","type":"function"},"FocusCallback":{"parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"name":"FocusCallback","type":"function"},"AccessibilityFocusCallback":{"parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"name":"AccessibilityFocusCallback","type":"function"}},"deprecated":null,"events":[],"platforms":null,"internal":false,"namespace":"automation","properties":{},"types":[{"enum":[{"name":"activedescendantchanged"},{"name":"alert"},{"name":"ariaAttributeChanged"},{"name":"autocorrectionOccured"},{"name":"blur"},{"name":"checkedStateChanged"},{"name":"childrenChanged"},{"name":"clicked"},{"name":"controlsChanged"},{"name":"documentSelectionChanged"},{"name":"documentTitleChanged"},{"name":"endOfTest"},{"name":"expandedChanged"},{"name":"focus"},{"name":"focusAfterMenuClose"},{"name":"focusContext"},{"name":"hide"},{"name":"hitTestResult"},{"name":"hover"},{"name":"imageFrameUpdated"},{"name":"invalidStatusChanged"},{"name":"layoutComplete"},{"name":"liveRegionChanged"},{"name":"liveRegionCreated"},{"name":"loadComplete"},{"name":"loadStart"},{"name":"locationChanged"},{"name":"mediaStartedPlaying"},{"name":"mediaStoppedPlaying"},{"name":"menuEnd"},{"name":"menuListItemSelected"},{"name":"menuListValueChanged"},{"name":"menuPopupEnd"},{"name":"menuPopupHide"},{"name":"menuPopupStart"},{"name":"menuStart"},{"name":"mouseCanceled"},{"name":"mouseDragged"},{"name":"mouseMoved"},{"name":"mousePressed"},{"name":"mouseReleased"},{"name":"positionInSet"},{"name":"rowCollapsed"},{"name":"rowCountChanged"},{"name":"rowExpanded"},{"name":"scrollPositionChanged"},{"name":"scrolledToAnchor"},{"name":"selectedChildrenChanged"},{"name":"selection"},{"name":"selectionAdd"},{"name":"selectionRemove"},{"name":"show"},{"name":"stateChanged"},{"name":"textChanged"},{"name":"textSelectionChanged"},{"name":"tooltipClosed"},{"name":"tooltipOpened"},{"name":"windowActivated"},{"name":"windowDeactivated"},{"name":"windowVisibilityChanged"},{"name":"treeChanged"},{"name":"valueChanged"}],"type":"string","id":"automation.EventType"},{"enum":[{"name":"abbr"},{"name":"alert"},{"name":"alertDialog"},{"name":"anchor"},{"name":"application"},{"name":"article"},{"name":"audio"},{"name":"banner"},{"name":"blockquote"},{"name":"button"},{"name":"canvas"},{"name":"caption"},{"name":"caret"},{"name":"cell"},{"name":"checkBox"},{"name":"client"},{"name":"code"},{"name":"colorWell"},{"name":"column"},{"name":"columnHeader"},{"name":"comboBoxGrouping"},{"name":"comboBoxMenuButton"},{"name":"comment"},{"name":"complementary"},{"name":"contentDeletion"},{"name":"contentInsertion"},{"name":"contentInfo"},{"name":"date"},{"name":"dateTime"},{"name":"definition"},{"name":"descriptionList"},{"name":"descriptionListDetail"},{"name":"descriptionListTerm"},{"name":"desktop"},{"name":"details"},{"name":"dialog"},{"name":"directory"},{"name":"disclosureTriangle"},{"name":"docAbstract"},{"name":"docAcknowledgments"},{"name":"docAfterword"},{"name":"docAppendix"},{"name":"docBackLink"},{"name":"docBiblioEntry"},{"name":"docBibliography"},{"name":"docBiblioRef"},{"name":"docChapter"},{"name":"docColophon"},{"name":"docConclusion"},{"name":"docCover"},{"name":"docCredit"},{"name":"docCredits"},{"name":"docDedication"},{"name":"docEndnote"},{"name":"docEndnotes"},{"name":"docEpigraph"},{"name":"docEpilogue"},{"name":"docErrata"},{"name":"docExample"},{"name":"docFootnote"},{"name":"docForeword"},{"name":"docGlossary"},{"name":"docGlossRef"},{"name":"docIndex"},{"name":"docIntroduction"},{"name":"docNoteRef"},{"name":"docNotice"},{"name":"docPageBreak"},{"name":"docPageList"},{"name":"docPart"},{"name":"docPreface"},{"name":"docPrologue"},{"name":"docPullquote"},{"name":"docQna"},{"name":"docSubtitle"},{"name":"docTip"},{"name":"docToc"},{"name":"document"},{"name":"embeddedObject"},{"name":"emphasis"},{"name":"feed"},{"name":"figcaption"},{"name":"figure"},{"name":"footer"},{"name":"footerAsNonLandmark"},{"name":"form"},{"name":"genericContainer"},{"name":"graphicsDocument"},{"name":"graphicsObject"},{"name":"graphicsSymbol"},{"name":"grid"},{"name":"group"},{"name":"header"},{"name":"headerAsNonLandmark"},{"name":"heading"},{"name":"iframe"},{"name":"iframePresentational"},{"name":"ignored"},{"name":"image"},{"name":"imageMap"},{"name":"imeCandidate"},{"name":"inlineTextBox"},{"name":"inputTime"},{"name":"keyboard"},{"name":"labelText"},{"name":"layoutTable"},{"name":"layoutTableCell"},{"name":"layoutTableRow"},{"name":"legend"},{"name":"lineBreak"},{"name":"link"},{"name":"list"},{"name":"listBox"},{"name":"listBoxOption"},{"name":"listGrid"},{"name":"listItem"},{"name":"listMarker"},{"name":"log"},{"name":"main"},{"name":"mark"},{"name":"marquee"},{"name":"math"},{"name":"menu"},{"name":"menuBar"},{"name":"menuButton"},{"name":"menuItem"},{"name":"menuItemCheckBox"},{"name":"menuItemRadio"},{"name":"menuListOption"},{"name":"menuListPopup"},{"name":"meter"},{"name":"navigation"},{"name":"note"},{"name":"pane"},{"name":"paragraph"},{"name":"pdfActionableHighlight"},{"name":"pluginObject"},{"name":"popUpButton"},{"name":"portal"},{"name":"pre"},{"name":"presentational"},{"name":"progressIndicator"},{"name":"radioButton"},{"name":"radioGroup"},{"name":"region"},{"name":"rootWebArea"},{"name":"row"},{"name":"rowGroup"},{"name":"rowHeader"},{"name":"ruby"},{"name":"rubyAnnotation"},{"name":"scrollBar"},{"name":"scrollView"},{"name":"search"},{"name":"searchBox"},{"name":"section"},{"name":"slider"},{"name":"sliderThumb"},{"name":"spinButton"},{"name":"splitter"},{"name":"staticText"},{"name":"status"},{"name":"strong"},{"name":"suggestion"},{"name":"svgRoot"},{"name":"switch"},{"name":"tab"},{"name":"tabList"},{"name":"tabPanel"},{"name":"table"},{"name":"tableHeaderContainer"},{"name":"term"},{"name":"textField"},{"name":"textFieldWithComboBox"},{"name":"time"},{"name":"timer"},{"name":"titleBar"},{"name":"toggleButton"},{"name":"toolbar"},{"name":"tooltip"},{"name":"tree"},{"name":"treeGrid"},{"name":"treeItem"},{"name":"unknown"},{"name":"video"},{"name":"webArea"},{"name":"webView"},{"name":"window"}],"type":"string","id":"automation.RoleType"},{"enum":[{"name":"autofillAvailable"},{"name":"collapsed"},{"name":"default"},{"name":"editable"},{"name":"expanded"},{"name":"focusable"},{"name":"focused"},{"name":"horizontal"},{"name":"hovered"},{"name":"ignored"},{"name":"invisible"},{"name":"linked"},{"name":"multiline"},{"name":"multiselectable"},{"name":"offscreen"},{"name":"protected"},{"name":"required"},{"name":"richlyEditable"},{"name":"vertical"},{"name":"visited"}],"type":"string","id":"automation.StateType"},{"enum":[{"name":"annotatePageImages"},{"name":"blur"},{"name":"clearAccessibilityFocus"},{"name":"collapse"},{"name":"customAction"},{"name":"decrement"},{"name":"doDefault"},{"name":"expand"},{"name":"focus"},{"name":"getImageData"},{"name":"getTextLocation"},{"name":"hideTooltip"},{"name":"hitTest"},{"name":"increment"},{"name":"internalInvalidateTree"},{"name":"loadInlineTextBoxes"},{"name":"replaceSelectedText"},{"name":"scrollBackward"},{"name":"scrollDown"},{"name":"scrollForward"},{"name":"scrollLeft"},{"name":"scrollRight"},{"name":"scrollUp"},{"name":"scrollToMakeVisible"},{"name":"scrollToPoint"},{"name":"setAccessibilityFocus"},{"name":"setScrollOffset"},{"name":"setSelection"},{"name":"setSequentialFocusNavigationStartingPoint"},{"name":"setValue"},{"name":"showContextMenu"},{"name":"signalEndOfTest"},{"name":"showTooltip"}],"type":"string","id":"automation.ActionType"},{"enum":[{"name":"nodeCreated"},{"name":"subtreeCreated"},{"name":"nodeChanged"},{"name":"textChanged"},{"name":"nodeRemoved"},{"name":"subtreeUpdateEnd"}],"type":"string","id":"automation.TreeChangeType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"attributeExplicitlyEmpty"},{"name":"caption"},{"name":"contents"},{"name":"placeholder"},{"name":"relatedElement"},{"name":"title"},{"name":"value"}],"type":"string","id":"automation.NameFromType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"contents"},{"name":"relatedElement"},{"name":"title"}],"type":"string","id":"automation.DescriptionFromType"},{"enum":[{"name":"disabled"},{"name":"readOnly"}],"type":"string","id":"automation.Restriction"},{"enum":[{"name":"true"},{"name":"menu"},{"name":"listbox"},{"name":"tree"},{"name":"grid"},{"name":"dialog"}],"type":"string","id":"automation.HasPopup"},{"enum":[{"name":"activate"},{"name":"check"},{"name":"click"},{"name":"clickAncestor"},{"name":"jump"},{"name":"open"},{"name":"press"},{"name":"select"},{"name":"uncheck"}],"type":"string","id":"automation.DefaultActionVerb"},{"enum":[{"name":"spelling"},{"name":"grammar"},{"name":"textMatch"},{"name":"activeSuggestion"},{"name":"suggestion"}],"type":"string","id":"automation.MarkerType"},{"enum":[{"name":"clearSelection"},{"name":"cut"},{"name":"delete"},{"name":"dictate"},{"name":"extendSelection"},{"name":"format"},{"name":"insert"},{"name":"marker"},{"name":"moveSelection"},{"name":"paste"},{"name":"replace"},{"name":"setSelection"},{"name":"type"}],"type":"string","id":"automation.EventCommandType"},{"enum":[{"name":"character"},{"name":"format"},{"name":"lineEnd"},{"name":"lineStart"},{"name":"lineStartOrEnd"},{"name":"object"},{"name":"pageEnd"},{"name":"pageStart"},{"name":"pageStartOrEnd"},{"name":"paragraphEnd"},{"name":"paragraphStart"},{"name":"paragraphStartOrEnd"},{"name":"sentenceEnd"},{"name":"sentenceStart"},{"name":"sentenceStartOrEnd"},{"name":"webPage"},{"name":"wordEnd"},{"name":"wordStart"},{"name":"wordStartOrEnd"}],"type":"string","id":"automation.EventTextBoundaryType"},{"enum":[{"name":"forward"},{"name":"backward"}],"type":"string","id":"automation.EventMoveDirectionType"},{"type":"object","id":"automation.Rect","properties":{"left":{"name":"left","type":"integer"},"top":{"name":"top","type":"integer"},"width":{"name":"width","type":"integer"},"height":{"name":"height","type":"integer"}}},{"type":"object","id":"automation.FindParams","properties":{"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"attributes":{"optional":true,"name":"attributes","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.SetDocumentSelectionParams","properties":{"anchorObject":{"name":"anchorObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"anchorOffset":{"name":"anchorOffset","type":"integer"},"focusObject":{"name":"focusObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"focusOffset":{"name":"focusOffset","type":"integer"}}},{"type":"object","id":"automation.AutomationIntent","properties":{"command":{"name":"command","$ref":"automation.EventCommandType"},"textBoundary":{"name":"textBoundary","$ref":"automation.EventTextBoundaryType"},"moveDirection":{"name":"moveDirection","$ref":"automation.EventMoveDirectionType"}}},{"type":"object","id":"automation.AutomationEvent","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.EventType"},"eventFrom":{"name":"eventFrom","type":"string"},"mouseX":{"name":"mouseX","type":"integer"},"mouseY":{"name":"mouseY","type":"integer"},"intents":{"name":"intents","type":"array","items":{"$ref":"automation.AutomationIntent"}},"stopPropagation":{"parameters":[],"name":"stopPropagation","type":"function"}}},{"type":"object","id":"automation.TreeChange","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.TreeChangeType"}}},{"enum":[{"name":"noTreeChanges"},{"name":"liveRegionTreeChanges"},{"name":"textMarkerChanges"},{"name":"allTreeChanges"}],"type":"string","id":"automation.TreeChangeObserverFilter"},{"type":"object","id":"automation.CustomAction","properties":{"id":{"name":"id","type":"integer"},"description":{"name":"description","type":"string"}}},{"type":"object","id":"automation.LanguageSpan","properties":{"startIndex":{"name":"startIndex","type":"integer"},"endIndex":{"name":"endIndex","type":"integer"},"language":{"name":"language","type":"string"},"probability":{"name":"probability","type":"number"}}},{"type":"object","id":"automation.Marker","properties":{"startOffset":{"name":"startOffset","type":"integer"},"endOffset":{"name":"endOffset","type":"integer"},"flags":{"name":"flags","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.AutomationNode","properties":{"root":{"optional":true,"name":"root","$ref":"automation.AutomationNode"},"isRootNode":{"name":"isRootNode","type":"boolean"},"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"location":{"optional":true,"name":"location","$ref":"automation.Rect"},"boundsForRange":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"},{"explicitType":"BoundsForRangeCallback","type":"function","name":"callback","parameters":[{"name":"bounds","$ref":"automation.Rect"}]}],"name":"boundsForRange","type":"function"},"unclippedLocation":{"optional":true,"name":"unclippedLocation","$ref":"automation.Rect"},"description":{"optional":true,"name":"description","type":"string"},"placeholder":{"optional":true,"name":"placeholder","type":"string"},"roleDescription":{"optional":true,"name":"roleDescription","type":"string"},"name":{"optional":true,"name":"name","type":"string"},"tooltip":{"optional":true,"name":"tooltip","type":"string"},"nameFrom":{"optional":true,"name":"nameFrom","$ref":"automation.NameFromType"},"imageAnnotation":{"optional":true,"name":"imageAnnotation","type":"string"},"value":{"optional":true,"name":"value","type":"string"},"htmlTag":{"optional":true,"name":"htmlTag","type":"string"},"hierarchicalLevel":{"optional":true,"name":"hierarchicalLevel","type":"integer"},"wordStarts":{"optional":true,"name":"wordStarts","type":"array","items":{"type":"integer"}},"wordEnds":{"optional":true,"name":"wordEnds","type":"array","items":{"type":"integer"}},"nonInlineTextWordStarts":{"optional":true,"name":"nonInlineTextWordStarts","type":"array","items":{"type":"integer"}},"nonInlineTextWordEnds":{"optional":true,"name":"nonInlineTextWordEnds","type":"array","items":{"type":"integer"}},"controls":{"optional":true,"name":"controls","type":"array","items":{"$ref":"automation.AutomationNode"}},"describedBy":{"optional":true,"name":"describedBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowTo":{"optional":true,"name":"flowTo","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelledBy":{"optional":true,"name":"labelledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"activeDescendant":{"optional":true,"name":"activeDescendant","$ref":"automation.AutomationNode"},"activeDescendantFor":{"optional":true,"name":"activeDescendantFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"inPageLinkTarget":{"optional":true,"name":"inPageLinkTarget","$ref":"automation.AutomationNode"},"details":{"optional":true,"name":"details","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessage":{"optional":true,"name":"errorMessage","$ref":"automation.AutomationNode"},"detailsFor":{"optional":true,"name":"detailsFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessageFor":{"optional":true,"name":"errorMessageFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"controlledBy":{"optional":true,"name":"controlledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"descriptionFor":{"optional":true,"name":"descriptionFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowFrom":{"optional":true,"name":"flowFrom","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelFor":{"optional":true,"name":"labelFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellColumnHeaders":{"optional":true,"name":"tableCellColumnHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellRowHeaders":{"optional":true,"name":"tableCellRowHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"standardActions":{"optional":true,"name":"standardActions","type":"array","items":{"$ref":"automation.ActionType"}},"customActions":{"optional":true,"name":"customActions","type":"array","items":{"$ref":"automation.CustomAction"}},"defaultActionVerb":{"optional":true,"name":"defaultActionVerb","$ref":"automation.DefaultActionVerb"},"url":{"optional":true,"name":"url","type":"string"},"docUrl":{"optional":true,"name":"docUrl","type":"string"},"docTitle":{"optional":true,"name":"docTitle","type":"string"},"docLoaded":{"optional":true,"name":"docLoaded","type":"boolean"},"docLoadingProgress":{"optional":true,"name":"docLoadingProgress","type":"number"},"scrollX":{"optional":true,"name":"scrollX","type":"integer"},"scrollXMin":{"optional":true,"name":"scrollXMin","type":"integer"},"scrollXMax":{"optional":true,"name":"scrollXMax","type":"integer"},"scrollY":{"optional":true,"name":"scrollY","type":"integer"},"scrollYMin":{"optional":true,"name":"scrollYMin","type":"integer"},"scrollYMax":{"optional":true,"name":"scrollYMax","type":"integer"},"scrollable":{"optional":true,"name":"scrollable","type":"boolean"},"textSelStart":{"optional":true,"name":"textSelStart","type":"integer"},"textSelEnd":{"optional":true,"name":"textSelEnd","type":"integer"},"textInputType":{"optional":true,"name":"textInputType","type":"string"},"markers":{"optional":true,"name":"markers","type":"array","items":{"$ref":"automation.Marker"}},"isSelectionBackward":{"optional":true,"name":"isSelectionBackward","type":"boolean"},"anchorObject":{"optional":true,"name":"anchorObject","$ref":"automation.AutomationNode"},"anchorOffset":{"optional":true,"name":"anchorOffset","type":"integer"},"anchorAffinity":{"optional":true,"name":"anchorAffinity","type":"string"},"focusObject":{"optional":true,"name":"focusObject","$ref":"automation.AutomationNode"},"focusOffset":{"optional":true,"name":"focusOffset","type":"integer"},"focusAffinity":{"optional":true,"name":"focusAffinity","type":"string"},"selectionStartObject":{"optional":true,"name":"selectionStartObject","$ref":"automation.AutomationNode"},"selectionStartOffset":{"optional":true,"name":"selectionStartOffset","type":"integer"},"selectionStartAffinity":{"optional":true,"name":"selectionStartAffinity","type":"string"},"selectionEndObject":{"optional":true,"name":"selectionEndObject","$ref":"automation.AutomationNode"},"selectionEndOffset":{"optional":true,"name":"selectionEndOffset","type":"integer"},"selectionEndAffinity":{"optional":true,"name":"selectionEndAffinity","type":"string"},"valueForRange":{"optional":true,"name":"valueForRange","type":"number"},"minValueForRange":{"optional":true,"name":"minValueForRange","type":"number"},"maxValueForRange":{"optional":true,"name":"maxValueForRange","type":"number"},"posInSet":{"optional":true,"name":"posInSet","type":"integer"},"setSize":{"optional":true,"name":"setSize","type":"integer"},"tableRowCount":{"optional":true,"name":"tableRowCount","type":"integer"},"ariaRowCount":{"optional":true,"name":"ariaRowCount","type":"integer"},"tableColumnCount":{"optional":true,"name":"tableColumnCount","type":"integer"},"ariaColumnCount":{"optional":true,"name":"ariaColumnCount","type":"integer"},"tableCellColumnIndex":{"optional":true,"name":"tableCellColumnIndex","type":"integer"},"tableCellAriaColumnIndex":{"optional":true,"name":"tableCellAriaColumnIndex","type":"integer"},"tableCellColumnSpan":{"optional":true,"name":"tableCellColumnSpan","type":"integer"},"tableCellRowIndex":{"optional":true,"name":"tableCellRowIndex","type":"integer"},"tableCellAriaRowIndex":{"optional":true,"name":"tableCellAriaRowIndex","type":"integer"},"tableCellRowSpan":{"optional":true,"name":"tableCellRowSpan","type":"integer"},"tableColumnHeader":{"optional":true,"name":"tableColumnHeader","$ref":"automation.AutomationNode"},"tableRowHeader":{"optional":true,"name":"tableRowHeader","$ref":"automation.AutomationNode"},"tableColumnIndex":{"optional":true,"name":"tableColumnIndex","type":"integer"},"tableRowIndex":{"optional":true,"name":"tableRowIndex","type":"integer"},"liveStatus":{"optional":true,"name":"liveStatus","type":"string"},"liveRelevant":{"optional":true,"name":"liveRelevant","type":"string"},"liveAtomic":{"optional":true,"name":"liveAtomic","type":"boolean"},"busy":{"optional":true,"name":"busy","type":"boolean"},"containerLiveStatus":{"optional":true,"name":"containerLiveStatus","type":"string"},"containerLiveRelevant":{"optional":true,"name":"containerLiveRelevant","type":"string"},"containerLiveAtomic":{"optional":true,"name":"containerLiveAtomic","type":"boolean"},"containerLiveBusy":{"optional":true,"name":"containerLiveBusy","type":"boolean"},"autoComplete":{"optional":true,"name":"autoComplete","type":"string"},"className":{"optional":true,"name":"className","type":"string"},"modal":{"optional":true,"name":"modal","type":"boolean"},"htmlAttributes":{"optional":true,"name":"htmlAttributes","type":"object","additionalProperties":{"type":"any"}},"inputType":{"optional":true,"name":"inputType","type":"string"},"accessKey":{"optional":true,"name":"accessKey","type":"string"},"ariaInvalidValue":{"optional":true,"name":"ariaInvalidValue","type":"string"},"display":{"optional":true,"name":"display","type":"string"},"imageDataUrl":{"optional":true,"name":"imageDataUrl","type":"string"},"language":{"optional":true,"name":"language","type":"string"},"detectedLanguage":{"optional":true,"name":"detectedLanguage","type":"string"},"hasPopup":{"optional":true,"name":"hasPopup","type":"string"},"restriction":{"optional":true,"name":"restriction","type":"string"},"checked":{"optional":true,"name":"checked","type":"string"},"innerHtml":{"optional":true,"name":"innerHtml","type":"string"},"color":{"optional":true,"name":"color","type":"integer"},"backgroundColor":{"optional":true,"name":"backgroundColor","type":"integer"},"colorValue":{"optional":true,"name":"colorValue","type":"integer"},"subscript":{"name":"subscript","type":"boolean"},"superscript":{"name":"superscript","type":"boolean"},"bold":{"name":"bold","type":"boolean"},"italic":{"name":"italic","type":"boolean"},"underline":{"name":"underline","type":"boolean"},"lineThrough":{"name":"lineThrough","type":"boolean"},"selected":{"optional":true,"name":"selected","type":"boolean"},"fontSize":{"optional":true,"name":"fontSize","type":"integer"},"fontFamily":{"name":"fontFamily","type":"string"},"editableRoot":{"name":"editableRoot","type":"boolean"},"children":{"name":"children","type":"array","items":{"$ref":"automation.AutomationNode"}},"parent":{"optional":true,"name":"parent","$ref":"automation.AutomationNode"},"firstChild":{"optional":true,"name":"firstChild","$ref":"automation.AutomationNode"},"lastChild":{"optional":true,"name":"lastChild","$ref":"automation.AutomationNode"},"previousSibling":{"optional":true,"name":"previousSibling","$ref":"automation.AutomationNode"},"nextSibling":{"optional":true,"name":"nextSibling","$ref":"automation.AutomationNode"},"previousOnLine":{"optional":true,"name":"previousOnLine","$ref":"automation.AutomationNode"},"nextOnLine":{"optional":true,"name":"nextOnLine","$ref":"automation.AutomationNode"},"previousFocus":{"optional":true,"name":"previousFocus","$ref":"automation.AutomationNode"},"nextFocus":{"optional":true,"name":"nextFocus","$ref":"automation.AutomationNode"},"indexInParent":{"optional":true,"name":"indexInParent","type":"integer"},"doDefault":{"parameters":[],"name":"doDefault","type":"function"},"focus":{"parameters":[],"name":"focus","type":"function"},"getImageData":{"parameters":[{"type":"integer","name":"maxWidth"},{"type":"integer","name":"maxHeight"}],"name":"getImageData","type":"function"},"hitTest":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"name":"eventToFire","$ref":"automation.EventType"}],"name":"hitTest","type":"function"},"hitTestWithReply":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"explicitType":"PerformActionCallbackWithNode","type":"function","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}]}],"name":"hitTestWithReply","type":"function"},"makeVisible":{"parameters":[],"name":"makeVisible","type":"function"},"performCustomAction":{"parameters":[{"type":"integer","name":"customActionId"}],"name":"performCustomAction","type":"function"},"performStandardAction":{"parameters":[{"name":"actionType","$ref":"automation.ActionType"}],"name":"performStandardAction","type":"function"},"replaceSelectedText":{"parameters":[{"type":"string","name":"value"}],"name":"replaceSelectedText","type":"function"},"setAccessibilityFocus":{"parameters":[],"name":"setAccessibilityFocus","type":"function"},"setSelection":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"}],"name":"setSelection","type":"function"},"setSequentialFocusNavigationStartingPoint":{"parameters":[],"name":"setSequentialFocusNavigationStartingPoint","type":"function"},"setValue":{"parameters":[{"type":"string","name":"value"}],"name":"setValue","type":"function"},"showContextMenu":{"parameters":[],"name":"showContextMenu","type":"function"},"resumeMedia":{"parameters":[],"name":"resumeMedia","type":"function"},"startDuckingMedia":{"parameters":[],"name":"startDuckingMedia","type":"function"},"stopDuckingMedia":{"parameters":[],"name":"stopDuckingMedia","type":"function"},"suspendMedia":{"parameters":[],"name":"suspendMedia","type":"function"},"scrollBackward":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollBackward","type":"function"},"scrollForward":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollForward","type":"function"},"scrollUp":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollUp","type":"function"},"scrollDown":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollDown","type":"function"},"scrollLeft":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollLeft","type":"function"},"scrollRight":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollRight","type":"function"},"addEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"explicitType":"AutomationListener","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"type":"function"},{"type":"boolean","name":"capture"}],"name":"addEventListener","type":"function"},"removeEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"explicitType":"AutomationListener","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"type":"function"},{"type":"boolean","name":"capture"}],"name":"removeEventListener","type":"function"},"domQuerySelector":{"parameters":[{"type":"string","name":"selector"},{"explicitType":"QueryCallback","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"domQuerySelector","type":"function"},"find":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"optional":true,"name":"find","$ref":"automation.AutomationNode"},"name":"find","type":"function"},"findAll":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"items":{"$ref":"automation.AutomationNode"},"type":"array","name":"findAll"},"name":"findAll","type":"function"},"matches":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"type":"boolean","name":"matches"},"name":"matches","type":"function"},"getNextTextMatch":{"parameters":[{"type":"string","name":"searchStr"},{"type":"boolean","name":"backward"}],"returns":{"optional":true,"name":"getNextTextMatch","$ref":"automation.AutomationNode"},"name":"getNextTextMatch","type":"function"},"languageAnnotationForStringAttribute":{"parameters":[{"type":"string","name":"attribute"}],"returns":{"items":{"$ref":"automation.LanguageSpan"},"type":"array","name":"languageAnnotationForStringAttribute"},"name":"languageAnnotationForStringAttribute","type":"function"}}}]}
google:suggestClgle:pathWildcardgoogle:pathWildcgle:searchClientgoogle:searchCligle:sessionTokengoogle:sessionToualSearchVersiongoogle:contextuaomniboxFocusTypegoogle:omniboxFogoogle:inputTypeeThumbnailBase64google:imageThumcapedSearchTermsgoogle:unescapedchSource
google:inputType
TextInputType
ui::TextInputType
{google:inputType}
    <Filename>AAA_SystemSettings_Accessibility_Braille_Table_InputType</Filename>
      <SettingID>SystemSettings_Accessibility_Braille_Table_InputType</SettingID>
      <Description>@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_InputType/Description}</Description>
      <HighKeywords>@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_InputType/HighKeywords}</HighKeywords>
    <Filename>AAA_SystemSettings_Accessibility_Braille_Table_OutputType</Filename>
      <SettingID>SystemSettings_Accessibility_Braille_Table_OutputType</SettingID>
      <Description>@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_OutputType/Description}</Description>
      <HighKeywords>@{windows?ms-resource://Windows.UI.SettingsAppThreshold/SearchResources/SystemSettings_Accessibility_Braille_Table_OutputType/HighKeywords}</HighKeywords>
OutputTypeAttribute
OutputTypeAttribute
OutputTypeAttribute
OutputTypeAttribute
E'{0}' is not a valid System.Windows.Automation.SynchronizedInputType.
InputType
SynchronizedInputType
inputType
get_SynchronizeInputType
_synchronizedInputType
SynchronizeInputType
Validate_InputType
GetPairedInputType
MapInputTypeToRoutedEvents
m_InputType
OutputTypeBuilder
get_InputType
_haveInputType
_inputType
_inputTypes
outputType
E'{0}' is not a valid System.Windows.Automation.SynchronizedInputType.
InputType
SynchronizedInputType
inputType
get_SynchronizeInputType
_synchronizedInputType
SynchronizeInputType
Validate_InputType
GetPairedInputType
MapInputTypeToRoutedEvents
OutputTypeInference
HasUnfixedParamInInputType
HasUnfixedParamInOutputType
DoesInputTypeContain
DoesOutputTypeContain
MakeOutputTypeInferences
OutputTypeAttribute
get_OutputType
set_OutputType
outputType
tre OutputType n
outputType
OutputTypeAttribute
OutputType
OutputTypeNamePair
OutputTypeAttributes
OutputTypeVisibility
InputType
OutputTypeAttribute
m_InputType
OutputTypeBuilder
get_PutType
set_PutType
get_AsOutputType
OutputTypeAttribute
<PutType>k__BackingField
get_PutType
set_PutType
OutputTypeAttribute
OutputTypeAttribute
<InitializeTemplatesForInputTypes>b__23_0
inputType
InitializeTemplatesForInputTypes
<OutputType>k__BackingField
get_OutputType
set_OutputType
OutputTypeAttribute
OutputTypeAttribute
OutputType est '{0}'.
J'{0}' n'est pas un System.Windows.Automation.SynchronizedInputType valide.
<OutputType>k__BackingField
get_OutputType
set_OutputType
IsSupportedOutputType
_outputType
OutputType is '{0}'.
get_InputType
_haveInputType
_inputType
_inputTypes
OutputType
OutputTypeNamePair
OutputTypeAttributes
OutputTypeParameters
OutputTypeParameterConstraints
outputTypeSpecified
get_OutputType
set_OutputType
outputType
OutputTypeAttribute
get_OutputTypeRequiresOutputAssembly
bCannot add type. The OutputType parameter requires that the OutputAssembly parameter be specified.
inputType
ParseInputTypeAnnotationsAttribute
inputTypeMask
Xslt_InputTypeAnnotations
inputTypeAnnotations
PutType
PutType
putType
UnsupportedInputTypeForTransform
inputTypesNs
outputTypesNs
inputTypes
outputTypes
TransformInputType
inputType
get_InputTypes
m_inputTypes
get_OutputTypes
m_outputTypes
InputType
outputType
inputTypeInfo
inputTypes
RenderAsInputTypeImage
RenderAsInputTypeSubmit
OnlyOperationInputOrOperationOutputTypes
inputTypeName
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
SynchronizedInputType
inputType
SynchronizedInputType
inputType
SynchronizedInputType
<ViewsOf_MamlCommandHelpInfo_inputTypes>d__19
<InputType>k__BackingField
get_InputType
set_InputType
_pipelineInputType
inputType
get_OutputType
providerOutputType
_outputType
NewOutputTypeAttribute
outputTypeAttributeDeclaration
AddInputTypesProperties
AddOutputTypesProperties
ViewsOf_MamlCommandHelpInfo_inputTypes
GetOutputTypes
outputTypes
gSystem.Management.Automation.Runspaces.Help_Format_Ps1Xml+<ViewsOf_MamlCommandHelpInfo_inputTypes>d__19
inputTypeName
InputTypeListEmptyError
        <ExportWinMDFile Condition="'$(ExportWinMDFile)' == '' and '$(OutputType)' == 'WinMDObj'">true</ExportWinMDFile>
            <PdbFile Condition="'$(PdbFile)' == '' and '$(OutputType)' == 'winmdobj' and '$(_DebugSymbolsProduced)' == 'true'">$(IntermediateOutputPath)$(TargetName).compile.pdb</PdbFile>
              TargetType="$(OutputType)"
            <PdbFile Condition="'$(PdbFile)' == '' and '$(OutputType)' == 'winmdobj' and '$(_DebugSymbolsProduced)' == 'true'">$(IntermediateOutputPath)$(TargetName).compile.pdb</PdbFile>
              TargetType="$(OutputType)"
        <ExportWinMDFile Condition="'$(ExportWinMDFile)' == '' and '$(OutputType)' == 'WinMDObj'">true</ExportWinMDFile>
            <PdbFile Condition="'$(PdbFile)' == '' and '$(OutputType)' == 'winmdobj' and '$(_DebugSymbolsProduced)' == 'true'">$(IntermediateOutputPath)$(TargetName).compile.pdb</PdbFile>
              TargetType="$(OutputType)"
            <PdbFile Condition="'$(PdbFile)' == '' and '$(OutputType)' == 'winmdobj' and '$(_DebugSymbolsProduced)' == 'true'">$(IntermediateOutputPath)$(TargetName).compile.pdb</PdbFile>
              TargetType="$(OutputType)"
  <PropertyGroup Condition="'$(TargetFrameworkIdentifier)' == '.NETFramework' and '$(TargetingClr2Framework)' != 'true' and '$(TargetFrameworkVersion)' != 'v4.0' and ('$(OutputType)' == 'exe' or '$(OutputType)' == 'winexe' or '$(OutputType)' == 'appcontainerexe' or '$(OutputType)' == '')">
    <SubsystemVersion Condition="'$(SubsystemVersion)' == '' and ('$(PlatformTarget)' == 'ARM' or '$(OutputType)' == 'appcontainerexe' or '$(OutputType)' == 'winmdobj')">6.02</SubsystemVersion>
  <PropertyGroup Condition="'$(TargetFrameworkIdentifier)' == '.NETFramework' and '$(TargetingClr2Framework)' != 'true' and '$(TargetFrameworkVersion)' != 'v4.0' and ('$(OutputType)' == 'exe' or '$(OutputType)' == 'winexe' or '$(OutputType)' == 'appcontainerexe' or '$(OutputType)' == '')">
    <SubsystemVersion Condition="'$(SubsystemVersion)' == '' and ('$(PlatformTarget)' == 'ARM' or '$(OutputType)' == 'appcontainerexe' or '$(OutputType)' == 'winmdobj')">6.02</SubsystemVersion>
        <ExportWinMDFile Condition="'$(ExportWinMDFile)' == '' and '$(OutputType)' == 'WinMDObj'">true</ExportWinMDFile>
          <PdbFile Condition="'$(PdbFile)' == '' and '$(OutputType)' == 'winmdobj' and '$(DebugSymbols)' == 'true'">$(IntermediateOutputPath)$(TargetName).compile.pdb</PdbFile>
              TargetType="$(OutputType)"
        <PdbFile Condition="'$(PdbFile)' == '' and '$(OutputType)' == 'winmdobj' and '$(DebugSymbols)' == 'true'">$(IntermediateOutputPath)$(TargetName).compile.pdb</PdbFile>
              TargetType="$(OutputType)"
        <ExportWinMDFile Condition="'$(ExportWinMDFile)' == '' and '$(OutputType)' == 'WinMDObj'">true</ExportWinMDFile>
          <PdbFile Condition="'$(PdbFile)' == '' and '$(OutputType)' == 'winmdobj' and '$(DebugSymbols)' == 'true'">$(IntermediateOutputPath)$(TargetName).compile.pdb</PdbFile>
              TargetType="$(OutputType)"
        <PdbFile Condition="'$(PdbFile)' == '' and '$(OutputType)' == 'winmdobj' and '$(DebugSymbols)' == 'true'">$(IntermediateOutputPath)$(TargetName).compile.pdb</PdbFile>
              TargetType="$(OutputType)"
    <OutputType Condition=" '$(TargetType)' != ''">$(TargetType)</OutputType>
    <OutputType Condition=" '$(TargetType)' == 'Container' or '$(TargetType)' == 'DocumentContainer' ">library</OutputType>
    <OutputType Condition=" '$(OutputType)' == '' ">exe</OutputType>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='exe'">.exe</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='winexe'">.exe</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='appcontainerexe'">.exe</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='library'">.dll</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='module'">.netmodule</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='winmdobj'">.winmdobj</TargetExt>
    <TargetName Condition="'$(TargetName)' == '' and '$(OutputType)' == 'winmdobj' and '$(RootNamespace)' != ''">$(RootNamespace)</TargetName>
    <WinMDExpOutputWindowsMetadataFilename Condition="'$(WinMDExpOutputWindowsMetadataFilename)' == '' and '$(OutputType)' == 'winmdobj'">$(TargetName).winmd</WinMDExpOutputWindowsMetadataFilename>
    <TargetFileName Condition=" '$(TargetFileName)' == '' and '$(OutputType)' == 'winmdobj'">$(WinMDExpOutputWindowsMetadataFilename)</TargetFileName>
    <_DeploymentPublishableProjectDefault Condition="'$(OutputType)'=='winexe' or '$(OutputType)'=='exe' or '$(OutputType)'=='appcontainerexe'">true</_DeploymentPublishableProjectDefault>
    <_DeploymentTargetApplicationManifestFileName Condition="'$(OutputType)'=='library'">Native.$(AssemblyName).manifest</_DeploymentTargetApplicationManifestFileName>
    <_DeploymentTargetApplicationManifestFileName Condition="'$(OutputType)'=='winexe'">$(TargetFileName).manifest</_DeploymentTargetApplicationManifestFileName>
    <_DeploymentTargetApplicationManifestFileName Condition="'$(OutputType)'=='exe'">$(TargetFileName).manifest</_DeploymentTargetApplicationManifestFileName>
    <_DeploymentTargetApplicationManifestFileName Condition="'$(OutputType)'=='appcontainerexe'">$(TargetFileName).manifest</_DeploymentTargetApplicationManifestFileName>
    <GenerateClickOnceManifests Condition="'$(OutputType)'=='winexe' or '$(OutputType)'=='exe' or '$(OutputType)'=='appcontainerexe'">$(GenerateManifests)</GenerateClickOnceManifests>
    <_DeploymentApplicationManifestIdentity Condition="'$(OutputType)'=='library'">Native.$(AssemblyName)</_DeploymentApplicationManifestIdentity>
    <_DeploymentApplicationManifestIdentity Condition="'$(OutputType)'=='winexe'">$(AssemblyName).exe</_DeploymentApplicationManifestIdentity>
    <_DeploymentApplicationManifestIdentity Condition="'$(OutputType)'=='exe'">$(AssemblyName).exe</_DeploymentApplicationManifestIdentity>
    <_DeploymentApplicationManifestIdentity Condition="'$(OutputType)'=='appcontainerexe'">$(AssemblyName).exe</_DeploymentApplicationManifestIdentity>
    <AutoUnifyAssemblyReferences Condition="'$(OutputType)'=='exe'">false</AutoUnifyAssemblyReferences>
    <AutoUnifyAssemblyReferences Condition="'$(OutputType)'=='winexe'">false</AutoUnifyAssemblyReferences>
    <AutoUnifyAssemblyReferences Condition="'$(OutputType)'=='appcontainerexe'">false</AutoUnifyAssemblyReferences>
    <_DebugSymbolsIntermediatePath Include="$(IntermediateOutputPath)$(TargetName).compile.pdb" Condition="'$(OutputType)' == 'winmdobj' and '@(_DebugSymbolsIntermediatePath)' == ''"/>
    <_DebugSymbolsIntermediatePath Include="$(IntermediateOutputPath)$(TargetName).pdb" Condition="'$(OutputType)' != 'winmdobj' and '@(_DebugSymbolsIntermediatePath)' == ''"/>
  <PropertyGroup Condition="'$(_DebugSymbolsProduced)' == 'true' and '$(OutputType)' == 'winmdobj'">
      Condition="(('$(_AssemblyTimestampBeforeCompile)' != '$(_AssemblyTimestampAfterCompile)' or '$(RegisterForComInterop)' != 'true' or '$(OutputType)' != 'library') or
        OutputType="$(OutputType)"
      <ComputedApplicationManifest Include="$(_DeploymentApplicationManifestIdentity)" Condition="'$(OutputType)'!='winexe' and '$(OutputType)'!='exe' and '$(OutputType)'!='appcontainerexe' and Exists('%(_ApplicationManifestFinal.FullPath)')">
      Condition="'$(RunPostBuildEvent)'=='OnOutputUpdated' or ('$(RegisterForComInterop)'=='true' and '$(OutputType)'=='library')">
      Condition="'$(RunPostBuildEvent)'=='OnOutputUpdated' or ('$(RegisterForComInterop)'=='true' and '$(OutputType)'=='library')">
      Condition="'$(RegisterForComInterop)'=='true' and '$(OutputType)'=='library'"
    <Error Condition="'$(OutputType)'!='winexe' and '$(OutputType)'!='exe' and '$(OutputType)'!='appcontainerexe'" Text="Publish is only valid for 'Windows Application' or 'Console Application' project types."/>
  <ItemGroup Condition=" '$(OutputType)' != 'winmdobj' ">
      <COM2REG Condition="'$(RegisterForComInterop)'=='true' and '$(OutputType)'=='library'">true</COM2REG>
  <ItemGroup Condition=" '$(OutputType)' == 'winmdobj' ">
    <AddAppConfigToBuildOutputs Condition="('$(AddAppConfigToBuildOutputs)'=='') and ('$(OutputType)'!='library' and '$(OutputType)'!='winmdobj')">true</AddAppConfigToBuildOutputs>
  <ItemGroup Condition="'$(_DebugSymbolsProduced)' != 'false' and '$(OutputType)' != 'winmdobj'">
  <ItemGroup Condition="'$(_DebugSymbolsProduced)' != 'false' and '$(OutputType)' == 'winmdobj'">
    <OutputType Condition=" '$(TargetType)' != ''">$(TargetType)</OutputType>
    <OutputType Condition=" '$(TargetType)' == 'Container' or '$(TargetType)' == 'DocumentContainer' ">library</OutputType>
    <OutputType Condition=" '$(OutputType)' == '' ">exe</OutputType>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='exe'">.exe</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='winexe'">.exe</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='appcontainerexe'">.exe</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='library'">.dll</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='module'">.netmodule</TargetExt>
    <TargetExt Condition="'$(TargetExt)' == '' and '$(OutputType)'=='winmdobj'">.winmdobj</TargetExt>
    <TargetName Condition="'$(TargetName)' == '' and '$(OutputType)' == 'winmdobj' and '$(RootNamespace)' != ''">$(RootNamespace)</TargetName>
    <WinMDExpOutputWindowsMetadataFilename Condition="'$(WinMDExpOutputWindowsMetadataFilename)' == '' and '$(OutputType)' == 'winmdobj'">$(TargetName).winmd</WinMDExpOutputWindowsMetadataFilename>
    <TargetFileName Condition=" '$(TargetFileName)' == '' and '$(OutputType)' == 'winmdobj'">$(WinMDExpOutputWindowsMetadataFilename)</TargetFileName>
    <_DeploymentPublishableProjectDefault Condition="'$(OutputType)'=='winexe' or '$(OutputType)'=='exe' or '$(OutputType)'=='appcontainerexe'">true</_DeploymentPublishableProjectDefault>
    <_DeploymentTargetApplicationManifestFileName Condition="'$(OutputType)'=='library'">Native.$(AssemblyName).manifest</_DeploymentTargetApplicationManifestFileName>
    <_DeploymentTargetApplicationManifestFileName Condition="'$(OutputType)'=='winexe'">$(TargetFileName).manifest</_DeploymentTargetApplicationManifestFileName>
    <_DeploymentTargetApplicationManifestFileName Condition="'$(OutputType)'=='exe'">$(TargetFileName).manifest</_DeploymentTargetApplicationManifestFileName>
    <_DeploymentTargetApplicationManifestFileName Condition="'$(OutputType)'=='appcontainerexe'">$(TargetFileName).manifest</_DeploymentTargetApplicationManifestFileName>
    <GenerateClickOnceManifests Condition="'$(OutputType)'=='winexe' or '$(OutputType)'=='exe' or '$(OutputType)'=='appcontainerexe'">$(GenerateManifests)</GenerateClickOnceManifests>
    <_DeploymentApplicationManifestIdentity Condition="'$(OutputType)'=='library'">Native.$(AssemblyName)</_DeploymentApplicationManifestIdentity>
    <_DeploymentApplicationManifestIdentity Condition="'$(OutputType)'=='winexe'">$(AssemblyName).exe</_DeploymentApplicationManifestIdentity>
    <_DeploymentApplicationManifestIdentity Condition="'$(OutputType)'=='exe'">$(AssemblyName).exe</_DeploymentApplicationManifestIdentity>
    <_DeploymentApplicationManifestIdentity Condition="'$(OutputType)'=='appcontainerexe'">$(AssemblyName).exe</_DeploymentApplicationManifestIdentity>
    <AutoUnifyAssemblyReferences Condition="'$(OutputType)'=='exe'">false</AutoUnifyAssemblyReferences>
    <AutoUnifyAssemblyReferences Condition="'$(OutputType)'=='winexe'">false</AutoUnifyAssemblyReferences>
    <AutoUnifyAssemblyReferences Condition="'$(OutputType)'=='appcontainerexe'">false</AutoUnifyAssemblyReferences>
    <_DebugSymbolsIntermediatePath Include="$(IntermediateOutputPath)$(TargetName).compile.pdb" Condition="'$(OutputType)' == 'winmdobj' and '@(_DebugSymbolsIntermediatePath)' == ''"/>
    <_DebugSymbolsIntermediatePath Include="$(IntermediateOutputPath)$(TargetName).pdb" Condition="'$(OutputType)' != 'winmdobj' and '@(_DebugSymbolsIntermediatePath)' == ''"/>
  <PropertyGroup Condition="'$(_DebugSymbolsProduced)' == 'true' and '$(OutputType)' == 'winmdobj'">
      Condition="(('$(_AssemblyTimestampBeforeCompile)' != '$(_AssemblyTimestampAfterCompile)' or '$(RegisterForComInterop)' != 'true' or '$(OutputType)' != 'library') or
        OutputType="$(OutputType)"
      <ComputedApplicationManifest Include="$(_DeploymentApplicationManifestIdentity)" Condition="'$(OutputType)'!='winexe' and '$(OutputType)'!='exe' and '$(OutputType)'!='appcontainerexe' and Exists('%(_ApplicationManifestFinal.FullPath)')">
      Condition="'$(RunPostBuildEvent)'=='OnOutputUpdated' or ('$(RegisterForComInterop)'=='true' and '$(OutputType)'=='library')">
      Condition="'$(RunPostBuildEvent)'=='OnOutputUpdated' or ('$(RegisterForComInterop)'=='true' and '$(OutputType)'=='library')">
      Condition="'$(RegisterForComInterop)'=='true' and '$(OutputType)'=='library'"
    <Error Condition="'$(OutputType)'!='winexe' and '$(OutputType)'!='exe' and '$(OutputType)'!='appcontainerexe'" Text="Publish is only valid for 'Windows Application' or 'Console Application' project types."/>
  <ItemGroup Condition=" '$(OutputType)' != 'winmdobj' ">
      <COM2REG Condition="'$(RegisterForComInterop)'=='true' and '$(OutputType)'=='library'">true</COM2REG>
  <ItemGroup Condition=" '$(OutputType)' == 'winmdobj' ">
    <AddAppConfigToBuildOutputs Condition="('$(AddAppConfigToBuildOutputs)'=='') and ('$(OutputType)'!='library' and '$(OutputType)'!='winmdobj')">true</AddAppConfigToBuildOutputs>
  <ItemGroup Condition="'$(_DebugSymbolsProduced)' != 'false' and '$(OutputType)' != 'winmdobj'">
  <ItemGroup Condition="'$(_DebugSymbolsProduced)' != 'false' and '$(OutputType)' == 'winmdobj'">
      <IsApplication Condition="'$(OutputType)'=='exe'">true</IsApplication>
      <IsApplication Condition="'$(OutputType)'=='winexe'">true</IsApplication>
      <IsLibrary Condition="'$(OutputType)'=='library'">true</IsLibrary>
      <IsLibrary Condition="'$(OutputType)'=='module'">true</IsLibrary>
               OutputType="$(OutputType)"
               OutputType="$(OutputType)"
                      OutputType="$(OutputType)"
      <IsApplication Condition="'$(OutputType)'=='exe'">true</IsApplication>
      <IsApplication Condition="'$(OutputType)'=='winexe'">true</IsApplication>
      <IsLibrary Condition="'$(OutputType)'=='library'">true</IsLibrary>
      <IsLibrary Condition="'$(OutputType)'=='module'">true</IsLibrary>
               OutputType="$(OutputType)"
               OutputType="$(OutputType)"
                      OutputType="$(OutputType)"
InitInputType
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
            <capability name="inputType"                                   value="telephoneKeypad" />
            <capability name="inputType"                                   value="telephoneKeypad" />
            <capability name="inputType"                       value="keyboard" />
            <capability name="inputType"                       value="keyboard" />
            <capability name="inputType"                       value="virtualKeyboard" />
            <capability name="inputType"                       value="virtualKeyboard" />
            <capability name="inputType"                       value="virtualKeyboard" />
            <capability name="inputType"                       value="virtualKeyboard" />
            <capability name="inputType"                       value="keyboard" />
            <capability name="inputType"                       value="keyboard" />
    <xs:element name="OutputType" type="msb:StringPropertyType" substitutionGroup="msb:Property">
            <xs:documentation><!-- _locID_text="OutputType" _locComment="" -->Type of output to generate (WinExe, Exe, or Library)</xs:documentation>
    <xs:element name="OutputType" type="msb:StringPropertyType" substitutionGroup="msb:Property">
            <xs:documentation><!-- _locID_text="OutputType" _locComment="" -->Type of output to generate (WinExe, Exe, or Library)</xs:documentation>
SystemSettings_Accessibility_Braille_Table_OutputType
SystemSettings_Accessibility_Braille_Table_InputType
OutputTypeBuilder
m_InputType
tutmputtyzx
OutputTypeBuilder
m_InputType
            <xs:element name="InputTypes">
                  <xs:element name="InputType" type="CT_MediaCodecInput" minOccurs="1" maxOccurs="1000"/>
            <xs:element name="OutputTypes">
                  <xs:element name="OutputType" type="CT_MediaCodecOutput" minOccurs="1" maxOccurs="1000"/>
      <xs:element name="InputTypes">
            <xs:element name="InputType">
m_output == OutputType::Png || m_output == OutputType::Jxr
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
inputType
SetSpatialInputType() Failed setting fIsSpatial =%d with error = %d
CDDPlusDecTransform::OnOutputTypeChanged
DoCheckInputType
CDDPlusDecTransform::DoCheckInputType
DoCheckInputType() invalid number of channels = %d
DoCheckInputType() invalid sample rate %d
DoCheckInputType() invalid channel mask %d
DoCheckOutputType
CDDPlusDecTransform::DoCheckOutputType
DoCheckOutputType() MF_MT_AUDIO_SAMPLES_PER_SECOND missing or mismatch with internal value %d, suggested value %d
 DoCheckOutputType() returning 0x%8X
DoCheckOutputType() MF_MT_SPATIAL_AUDIO_MAX_DYNAMIC_OBJECTS out of range %d (limited to %d)
DoCheckOutputType() MF_MT_AUDIO_NUM_CHANNELS missing or mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_CHANNEL_MASK missing or mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_BITS_PER_SAMPLE missing or mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_BLOCK_ALIGNMENT mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_AVG_BYTES_PER_SECOND mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_VALID_BITS_PER_SAMPLE mismatch with internal value %d suggested value %d
ConfigInputTypes
CDDPlusDecTransform::ConfigInputTypes
ConfigInputTypes() There are now %d available input types:
ConfigInputTypes() ========= %d ===========
ConfigInputTypes failed
ConfigOutputTypes
CDDPlusDecTransform::ConfigOutputTypes
ConfigOutputTypes() There are now %d available output types:
ConfigOutputTypes() ========= %d ===========
ConfigOutputTypes failed
CheckOutputTypeError
OnOutputTypeChanged
CheckInputTypeError
OnInputTypeChanged
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
InputType
InputType
InputType
InputType
currentInputType
currentInputType
currentInputType
currentInputType
currentInputType
currentInputType
currentInputType
spTelemetryInfo->inputType
mtTelemetryData.InputType
m_mtData.InputType
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
CHdcpDecryptMft::SetInputType
CHdcpDecryptMft::SetOutputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
dwInputTypes
InputType
inputType
inputType
inputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
InputType
supportedInputTypes
InputType
InputType
InputType
InputType
InputType
CreateInputTypeAttributes
MtfAdapter::SetInputTypeAttribute
MtfAdapter::GetInputTypeAttributeGUID
StringCompare::SetInputType
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
CAACMFTTypeHandler::InitInputType
CAACMFTTypeHandler::InitOutputType
CAACMFTTypeHandler::DoCheckInputType
CAACMFTTypeHandler::DoCheckOutputType
CDTSMFTTypeHandler::DoCheckInputType
CDTSMFTTypeHandler::DoCheckOutputType
CDTSMFTDataHandler::OnOutputTypeChanged
CMLPMFTTypeHandler::DoCheckInputType
CMLPMFTTypeHandler::DoCheckOutputType
CMLPMFTTypeHandler::OnInputTypeChanged
CMLPMFTDataHandler::OnOutputTypeChanged
CLPCMMFTTypeHandler::DoCheckInputType
CLPCMMFTTypeHandler::DoCheckOutputType
outputType
inputType
hkrRenderOutputType::Enum
inputTypePinId
hkeShellCursorVisualComponent::InputType
.?AV?$_Func_impl_no_alloc@V?$_Binder@U_Unforced@std@@P8hkeTwoHandedManipulationComponent@@EAAXW4InputType@3@AEBUPointInteractionStarted@Input@Shell@hkeEvent@@@ZPEAV3@W443@AEBU?$_Ph@$00@2@@std@@XAEBUPointInteractionStarted@Input@Shell@hkeEvent@@@std@@
.?AV?$_Binder@U_Unforced@std@@P8hkeTwoHandedManipulationComponent@@EAAXW4InputType@3@AEBUPointInteractionStarted@Input@Shell@hkeEvent@@@ZPEAV3@W443@AEBU?$_Ph@$00@2@@std@@
CdvmftMFTDataHandler::SetSupportedOutputType
CdvmftMFTDataHandler::OnInputTypeChanged
CdvmftMFTDataHandler::OnOutputTypeChanged
CdvmftMFTTypeHandler::DoCheckInputType
CdvmftMFTTypeHandler::DoCheckOutputType
?get_output_type@VoiceSkin@ngeo@Microsoft@@QEBA?AW4OutputType@123@XZ
CH264MFTInternal::OnInputTypeChanged
CH264MFTInternal::OnOutputTypeChanged
CH264MFTInternal::UpdateAvailableInputTypeArray
CDShowTransform::SetOutputType
CDShowTransform::SetInputType
CMPEG2MuxMFTTypeHandlerImpl::SetInputType
CMPEG2MuxMFTTypeHandlerImpl::SetOutputType
CMPEG2MuxMFTTypeHandlerImpl::IsInputTypeSet
CMFDynamicVFW::MFTSetInputType
CMFDynamicVFW::MFTSetOutputType
CMFDynamicVFW::DetermineOutputType
CMFReadWriteTransform::SetOutputType
CMFReadWriteTransform::GetOutputType
CMFReadWriteTransform::SetInputType
CMFReadWriteTransformChain::GetOutputType
CMFReadWriteTransform::GetInputType
],OutputType=[
InputType=[
CMFSourceReaderStream::CreatePartialOutputType
CMFSourceReaderStream::ConfigureCapturePluginInputType
CMFSourceReaderStream::NegotiateInputTypeWithEffectChain
LCMFReadWriteTransformChain::CreateConverterOutputType
CMFReadWriteTransformChain::SetInputType
CMFReadWriteTransformChain::GetInputType
CMFReadWriteTransformChain::SetOutputType
CMFReadWriteTransformChain::OnTransformInputTypeChange
CMFReadWriteTransformChain::SetOutputTypeIfSupported
CMFReadWriteTransformChain::ConfigureOutputTypeInternal
CMFReadWriteTransformChain::ConfigureOutputTypeWithConverter
CMFReadWriteTransformChain::ConfigureOutputTypeWithoutConverter
CMFReadWriteTransform::LockOutputType
OutputType=[
SerializeOutputTypeAttribute
DeserializeOutputTypeAttribute
COOPMFTProxy::SetInputType
COOPMFTProxy::SetOutputType
COOPMFTStub::SetInputType
COOPMFTStub::SetOutputType
MFWMEncoderConfigUtil::SetOutputTypeToWMVEncoder
CMPTopology::GetMFTNodeNewOutputType
CMFTWrapperAsync::SetInputType
CMFTWrapperAsync::SetOutputType
CMFTWrapperAsync::PropagateOutputTypeChange
CMFTWrapperAsync::StartInputTypeChange
CMFTWrapperAsync::SetInputTypeInternal
CMPTopology::GetAudioResamplerNodeNewOutputType
CMPTopology::IsBestMatchedOutputType
,sCMPMFTDriver::SetInputType
CMediaSession::UpdateInputTypeGUID
CMediaSession::UpdateInputTypeUINT32
CMediaSession::UpdateInputTypeUINT64
CMediaSession::UpdateOutputTypeGUID
CMediaSession::UpdateOutputTypeUINT32
CMediaSession::UpdateOutputTypeUINT64
CAudioCaptureMFT::MFTSetOutputType
CACMCodecWrapper::MFTSetInputType
CACMCodecWrapper::MFTSetOutputType
CACMCodecWrapper::EnumerateInputTypes
CACMCodecWrapper::AddInputType
CACMCodecWrapper::AddOutputType
CACMCodecWrapper::EnumerateOutputTypes
CCopierMFTTypeHandler::OnInputTypeChanged
CCopierMFTTypeHandler::OnOutputTypeChanged
CMFSeamlessAudioEffect::ValidateOutputType
CMFSeamlessAudioEffect::ValidateInputType
CMFSeamlessAudioEffect::MFTSetInputType
CMFSeamlessAudioEffect::MFTSetOutputType
MFWMEncoderConfigUtil::SetOutputTypeWithAudioCodecDataToWMAEncoder
MFWMEncoderConfigUtil::SetOutputTypeToWMVEncoder
DeserializeOutputTypeAttribute
SerializeOutputTypeAttribute
DeserializeOutputTypeAttribute
SerializeOutputTypeAttribute
MFWMEncoderConfigUtil::SetOutputTypeToWMVEncoder
outputType
inputType
hkrRenderOutputType::Enum
hkeShellCursorVisualComponent::InputType
inputTypePinId
.?AV?$_Func_impl_no_alloc@V?$_Binder@U_Unforced@std@@P8hkeTwoHandedManipulationComponent@@EAAXW4InputType@3@AEBUPointInteractionStarted@Input@Shell@hkeEvent@@@ZPEAV3@W443@AEBU?$_Ph@$00@2@@std@@XAEBUPointInteractionStarted@Input@Shell@hkeEvent@@@std@@
.?AV?$_Binder@U_Unforced@std@@P8hkeTwoHandedManipulationComponent@@EAAXW4InputType@3@AEBUPointInteractionStarted@Input@Shell@hkeEvent@@@ZPEAV3@W443@AEBU?$_Ph@$00@2@@std@@
    <xsl:param name="outputTypeAttribute" select="'false'" />
        <xsl:if test="$outputTypeAttribute = 'true'">
      <xsl:with-param name="outputTypeAttribute" select="'true'" />
      <xsl:with-param name="outputTypeAttribute" select="'true'" />
      <xsl:with-param name="outputTypeAttribute" select="'true'" />
OnCheckOutputType
OnCheckInputType
OutputTypeChangedCount
OnCheckOutputType
OnCheckInputType
OnCheckInputType
OnCheckInputType
ConfigInputTypes
OnInputTypeChanged
OnOutputTypeChanged
ConfigOutputTypes
OnCheckInputType
OnCheckOutputType
OnInputTypeChanged
}CMFTH264DecoderTransform::DoCheckOutputType : Enter.
CMFTH264DecoderTransform::SetOutputType : Enter.
CMFTH264DecoderTransform::OnOutputTypeChanged : Enter.
CMFTH264DecoderTransform::OnInputTypeChanged : Enter.
CMFTH264DecoderTransform::OnOutputTypeChanged
CMFTH264DecoderTransform::OnInputTypeChanged
CMFTH264DecoderTransform::DoCheckOutputType
CVTVS_MFT::SetInputType
CVTVS_MFT::SetOutputType
CVTVS_MFT::OnCheckInputType
CVTVS_MFT::OnCheckOutputType
CVTVS_MFT::OnSetInputType
CVTVS_MFT::OnSetOutputType
ipx::mtf::CMtfInputTypeAttributes::GetRomajiMaxKeyCharCount
CreateInputTypeAttributes
CxCodeVideoProcMFTTypeHandler::UpdateAvailableInputTypesD3D
CxCodeVideoProcMFTDataHandler::OnInputTypeChanged
CxCodeVideoProcMFTDataHandler::OnOutputTypeChanged
CxCodeVideoProcMFTTypeHandler::DoCheckInputType
CxCodeVideoProcMFTTypeHandler::InternalCheckInputType
CxCodeVideoProcMFTDataHandler::GetNaturalOutputType
CxCodeVideoProcMFT::GetNaturalOutputType
CxCodeVideoProcMFTTypeHandler::UpdateAvailableOutputTypesD3D
AvaliableInputTypesWithExtension
CxCodeVideoProcMFTTypeHandler::OnInputTypeChangedD3D
RendererEffectWrapper::CheckOutputTypeSupported
CRolling420FrameStitcherMFTTypeHandler::DoCheckOutputType
CRolling420FrameStitcherMFTTypeHandler::DoCheckInputType
CRolling420FrameStitcherMFTTypeHandler::OnInputTypeChanged
CRolling420FrameStitcherMFTDataHandler::OnOutputTypeChanged
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
CMSVidTVTuner::DoTune() -- pre put_InputType
CMSVidTVTuner::DoTune() -- post put_InputType
.?AW4tagTunerInputType@@
tagTunerInputTypeWWW0
IInputTypeWWW
hInputTypeVal
        val InputType       = d '0'
        val InputType       = d '1'
        val InputType           = d '1'
        val InputType           = d '0'
        val InputType       = d '0'
__x_Windows_CNetworking_CUX_CIUserInputType
inputType
inputType
inputType
spDecoder->SetInputType() failed
spDecoder->SetOutputType() failed
ColorConversionYUV2RGB::FindOutputType() failed
FindOutputType() failed
spColorConverter->SetInputType() failed
spColorConverter->SetOutputType() failed
spOutputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spOutputType->SetGUID(MF_MT_SUBTYPE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spOutputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
m_spMFWrapper->TS_MFCreateMediaType(&spOutputType) failed
spOutputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spOutputType
spInputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spInputType
spInputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType->SetGUID(MF_MT_SUBTYPE) failed
m_spMFTEncoderObj->SetOutputType(NULL) failed
spOutputType->SetUINT32(MF_MT_AUDIO_AVG_BYTES_PER_SECOND) failed
m_spMFWrapper->TS_MFCreateMediaType(&spInputType) failed
m_spMFTEncoderObj->SetOutputType(spOutputType) failed
spInputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spInputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
CRdpAACEncoder::SetInputType(spInputType) failed
CRdpAACEncoder::SetInputType(NULL) failed
spInputType->SetBlob failed
m_spMFTDecoderObj->SetInputType failed
m_spMFTDecoderObj->SetInputType(NULL) failed
m_spMFTDecoderObj->SetOutputType(spOutputType) failed
m_spMFTDecoderObj->SetOutputType(NULL) failed
spColorConverter->SetOutputType()
pIATSCTuningSpace2->get_InputType() failed.
Set inputType as Antenna (default)
 Failed to get the InputType!
GetEapCredentialsInputType returned error 0x%.8x. Marking as non-fatal and continuing.
GetEapCredentialsInputType returned error 0x%.8x. Marking as non-fatal and continuing.
FindEntryAndSetDialParams:GetEapCredentialsInputType failed: %d. Marking as non-fatal and continuing.
GetEapCredentialsInputType failed with error: %d.
m_spMFWrapper->TS_MFCreateMediaType(&spOutputType) failed
spOutputType
spOutputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spOutputType->SetGUID(MF_MT_SUBTYPE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spOutputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spOutputType->SetUINT32(MF_MT_AUDIO_AVG_BYTES_PER_SECOND) failed
m_spMFTEncoderObj->SetOutputType(NULL) failed
m_spMFTEncoderObj->SetOutputType(spOutputType) failed
m_spMFWrapper->TS_MFCreateMediaType(&spInputType) failed
spInputType
spInputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spInputType->SetGUID(MF_MT_SUBTYPE) failed
spInputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spInputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
CRdpAACEncoder::SetInputType(NULL) failed
CRdpAACEncoder::SetInputType(spInputType) failed
spInputType->SetBlob failed
m_spMFTDecoderObj->SetInputType(NULL) failed
m_spMFTDecoderObj->SetInputType failed
m_spMFTDecoderObj->SetOutputType(NULL) failed
m_spMFTDecoderObj->SetOutputType(spOutputType) failed
m_spMFWrapper->TS_MFCreateMediaType(&spOutputType) failed
spOutputType
spOutputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spOutputType->SetGUID(MF_MT_SUBTYPE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spOutputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spOutputType->SetUINT32(MF_MT_AUDIO_AVG_BYTES_PER_SECOND) failed
m_spMFTEncoderObj->SetOutputType(NULL) failed
m_spMFTEncoderObj->SetOutputType(spOutputType) failed
m_spMFWrapper->TS_MFCreateMediaType(&spInputType) failed
spInputType
spInputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spInputType->SetGUID(MF_MT_SUBTYPE) failed
spInputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spInputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
CRdpAACEncoder::SetInputType(NULL) failed
CRdpAACEncoder::SetInputType(spInputType) failed
spInputType->SetBlob failed
m_spMFTDecoderObj->SetInputType(NULL) failed
m_spMFTDecoderObj->SetInputType failed
m_spMFTDecoderObj->SetOutputType(NULL) failed
m_spMFTDecoderObj->SetOutputType(spOutputType) failed
pEncoder->SetOutputType() failed
pEncoder->SetInputType() failed
m_spEncoderMFT->SetOutputType() failed
pEncoder->SetOutputType() failed
pEncoder->SetInputType() failed
m_spEncoderMFT->SetOutputType() failed
spResizer->SetOutputType( Scaled RGB ) failed
spResizer->SetInputType( RGB ) failed
spConverter->SetOutputType( YUV ) failed
spConverter->SetInputType( RGB ) failed
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
m_spMFWrapper->TS_MFCreateMediaType(&spOutputType) failed
spOutputType
spOutputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spOutputType->SetGUID(MF_MT_SUBTYPE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spOutputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spOutputType->SetUINT32(MF_MT_AUDIO_AVG_BYTES_PER_SECOND) failed
m_spMFTEncoderObj->SetOutputType(NULL) failed
m_spMFTEncoderObj->SetOutputType(spOutputType) failed
m_spMFWrapper->TS_MFCreateMediaType(&spInputType) failed
spInputType
spInputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spInputType->SetGUID(MF_MT_SUBTYPE) failed
spInputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spInputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
CRdpAACEncoder::SetInputType(NULL) failed
CRdpAACEncoder::SetInputType(spInputType) failed
spInputType->SetBlob failed
m_spMFTDecoderObj->SetInputType(NULL) failed
m_spMFTDecoderObj->SetInputType failed
m_spMFTDecoderObj->SetOutputType(NULL) failed
m_spMFTDecoderObj->SetOutputType(spOutputType) failed
pEncoder->SetOutputType() failed
pEncoder->SetInputType() failed
m_spEncoderMFT->SetOutputType() failed
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
PpapiHostMsg_PPBInstance_SetTextInputType
{google:baseSuggestURL}search?{google:searchFieldtrialParameter}client={google:suggestClient}&gs_ri={google:suggestRid}&xssi=t&q={searchTerms}&{google:inputType}{google:omniboxFocusType}{google:cursorPosition}{google:pageClassification}{google:searchVersion}{google:sessionToken}{google:prefetchQuery}sugkey={google:suggestAPIKeyParameter}
{bing:baseURL}qbox?query={searchTerms}&language={language}&PC=U531&{bing:partner}{bing:cvid}{bing:ig}{google:inputType}{google:cursorPosition}{google:pageClassification}{bing:features}{bing:flights}
TextInputType
inputType
{"functions":[{"parameters":[{"optional":true,"type":"integer","name":"tabId"},{"explicitType":"RootCallback","name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"type":"function","optional":true}],"name":"getTree","type":"function"},{"parameters":[{"explicitType":"RootCallback","name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getDesktop","type":"function"},{"parameters":[{"explicitType":"FocusCallback","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getFocus","type":"function"},{"parameters":[{"explicitType":"AccessibilityFocusCallback","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getAccessibilityFocus","type":"function"},{"parameters":[{"name":"filter","$ref":"automation.TreeChangeObserverFilter"},{"explicitType":"TreeChangeObserver","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"type":"function"}],"name":"addTreeChangeObserver","type":"function"},{"parameters":[{"explicitType":"TreeChangeObserver","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"type":"function"}],"name":"removeTreeChangeObserver","type":"function"},{"parameters":[{"name":"params","$ref":"automation.SetDocumentSelectionParams"}],"name":"setDocumentSelection","type":"function"}],"documentation_options":{},"callbacks":{"QueryCallback":{"parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"name":"QueryCallback","type":"function"},"AutomationListener":{"parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"name":"AutomationListener","type":"function"},"TreeChangeObserver":{"parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"name":"TreeChangeObserver","type":"function"},"PerformActionCallback":{"parameters":[{"type":"boolean","name":"result"}],"name":"PerformActionCallback","type":"function"},"PerformActionCallbackWithNode":{"parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"name":"PerformActionCallbackWithNode","type":"function"},"BoundsForRangeCallback":{"parameters":[{"name":"bounds","$ref":"automation.Rect"}],"name":"BoundsForRangeCallback","type":"function"},"RootCallback":{"parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"name":"RootCallback","type":"function"},"FocusCallback":{"parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"name":"FocusCallback","type":"function"},"AccessibilityFocusCallback":{"parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"name":"AccessibilityFocusCallback","type":"function"}},"deprecated":null,"events":[],"platforms":null,"internal":false,"namespace":"automation","properties":{},"types":[{"enum":[{"name":"activedescendantchanged"},{"name":"alert"},{"name":"ariaAttributeChanged"},{"name":"autocorrectionOccured"},{"name":"blur"},{"name":"checkedStateChanged"},{"name":"childrenChanged"},{"name":"clicked"},{"name":"controlsChanged"},{"name":"documentSelectionChanged"},{"name":"documentTitleChanged"},{"name":"endOfTest"},{"name":"expandedChanged"},{"name":"focus"},{"name":"focusAfterMenuClose"},{"name":"focusContext"},{"name":"hide"},{"name":"hitTestResult"},{"name":"hover"},{"name":"imageFrameUpdated"},{"name":"invalidStatusChanged"},{"name":"layoutComplete"},{"name":"liveRegionChanged"},{"name":"liveRegionCreated"},{"name":"loadComplete"},{"name":"loadStart"},{"name":"locationChanged"},{"name":"mediaStartedPlaying"},{"name":"mediaStoppedPlaying"},{"name":"menuEnd"},{"name":"menuListItemSelected"},{"name":"menuListValueChanged"},{"name":"menuPopupEnd"},{"name":"menuPopupHide"},{"name":"menuPopupStart"},{"name":"menuStart"},{"name":"mouseCanceled"},{"name":"mouseDragged"},{"name":"mouseMoved"},{"name":"mousePressed"},{"name":"mouseReleased"},{"name":"positionInSet"},{"name":"rowCollapsed"},{"name":"rowCountChanged"},{"name":"rowExpanded"},{"name":"scrollPositionChanged"},{"name":"scrolledToAnchor"},{"name":"selectedChildrenChanged"},{"name":"selection"},{"name":"selectionAdd"},{"name":"selectionRemove"},{"name":"show"},{"name":"stateChanged"},{"name":"textChanged"},{"name":"textSelectionChanged"},{"name":"tooltipClosed"},{"name":"tooltipOpened"},{"name":"windowActivated"},{"name":"windowDeactivated"},{"name":"windowVisibilityChanged"},{"name":"treeChanged"},{"name":"valueChanged"}],"type":"string","id":"automation.EventType"},{"enum":[{"name":"abbr"},{"name":"alert"},{"name":"alertDialog"},{"name":"anchor"},{"name":"application"},{"name":"article"},{"name":"audio"},{"name":"banner"},{"name":"blockquote"},{"name":"button"},{"name":"canvas"},{"name":"caption"},{"name":"caret"},{"name":"cell"},{"name":"checkBox"},{"name":"client"},{"name":"code"},{"name":"colorWell"},{"name":"column"},{"name":"columnHeader"},{"name":"comboBoxGrouping"},{"name":"comboBoxMenuButton"},{"name":"comment"},{"name":"complementary"},{"name":"contentDeletion"},{"name":"contentInsertion"},{"name":"contentInfo"},{"name":"date"},{"name":"dateTime"},{"name":"definition"},{"name":"descriptionList"},{"name":"descriptionListDetail"},{"name":"descriptionListTerm"},{"name":"desktop"},{"name":"details"},{"name":"dialog"},{"name":"directory"},{"name":"disclosureTriangle"},{"name":"docAbstract"},{"name":"docAcknowledgments"},{"name":"docAfterword"},{"name":"docAppendix"},{"name":"docBackLink"},{"name":"docBiblioEntry"},{"name":"docBibliography"},{"name":"docBiblioRef"},{"name":"docChapter"},{"name":"docColophon"},{"name":"docConclusion"},{"name":"docCover"},{"name":"docCredit"},{"name":"docCredits"},{"name":"docDedication"},{"name":"docEndnote"},{"name":"docEndnotes"},{"name":"docEpigraph"},{"name":"docEpilogue"},{"name":"docErrata"},{"name":"docExample"},{"name":"docFootnote"},{"name":"docForeword"},{"name":"docGlossary"},{"name":"docGlossRef"},{"name":"docIndex"},{"name":"docIntroduction"},{"name":"docNoteRef"},{"name":"docNotice"},{"name":"docPageBreak"},{"name":"docPageList"},{"name":"docPart"},{"name":"docPreface"},{"name":"docPrologue"},{"name":"docPullquote"},{"name":"docQna"},{"name":"docSubtitle"},{"name":"docTip"},{"name":"docToc"},{"name":"document"},{"name":"embeddedObject"},{"name":"emphasis"},{"name":"feed"},{"name":"figcaption"},{"name":"figure"},{"name":"footer"},{"name":"footerAsNonLandmark"},{"name":"form"},{"name":"genericContainer"},{"name":"graphicsDocument"},{"name":"graphicsObject"},{"name":"graphicsSymbol"},{"name":"grid"},{"name":"group"},{"name":"header"},{"name":"headerAsNonLandmark"},{"name":"heading"},{"name":"iframe"},{"name":"iframePresentational"},{"name":"ignored"},{"name":"image"},{"name":"imageMap"},{"name":"imeCandidate"},{"name":"inlineTextBox"},{"name":"inputTime"},{"name":"keyboard"},{"name":"labelText"},{"name":"layoutTable"},{"name":"layoutTableCell"},{"name":"layoutTableRow"},{"name":"legend"},{"name":"lineBreak"},{"name":"link"},{"name":"list"},{"name":"listBox"},{"name":"listBoxOption"},{"name":"listGrid"},{"name":"listItem"},{"name":"listMarker"},{"name":"log"},{"name":"main"},{"name":"mark"},{"name":"marquee"},{"name":"math"},{"name":"menu"},{"name":"menuBar"},{"name":"menuButton"},{"name":"menuItem"},{"name":"menuItemCheckBox"},{"name":"menuItemRadio"},{"name":"menuListOption"},{"name":"menuListPopup"},{"name":"meter"},{"name":"navigation"},{"name":"note"},{"name":"pane"},{"name":"paragraph"},{"name":"pdfActionableHighlight"},{"name":"pluginObject"},{"name":"popUpButton"},{"name":"portal"},{"name":"pre"},{"name":"presentational"},{"name":"progressIndicator"},{"name":"radioButton"},{"name":"radioGroup"},{"name":"region"},{"name":"rootWebArea"},{"name":"row"},{"name":"rowGroup"},{"name":"rowHeader"},{"name":"ruby"},{"name":"rubyAnnotation"},{"name":"scrollBar"},{"name":"scrollView"},{"name":"search"},{"name":"searchBox"},{"name":"section"},{"name":"slider"},{"name":"sliderThumb"},{"name":"spinButton"},{"name":"splitter"},{"name":"staticText"},{"name":"status"},{"name":"strong"},{"name":"suggestion"},{"name":"svgRoot"},{"name":"switch"},{"name":"tab"},{"name":"tabList"},{"name":"tabPanel"},{"name":"table"},{"name":"tableHeaderContainer"},{"name":"term"},{"name":"textField"},{"name":"textFieldWithComboBox"},{"name":"time"},{"name":"timer"},{"name":"titleBar"},{"name":"toggleButton"},{"name":"toolbar"},{"name":"tooltip"},{"name":"tree"},{"name":"treeGrid"},{"name":"treeItem"},{"name":"unknown"},{"name":"video"},{"name":"webArea"},{"name":"webView"},{"name":"window"}],"type":"string","id":"automation.RoleType"},{"enum":[{"name":"autofillAvailable"},{"name":"collapsed"},{"name":"default"},{"name":"editable"},{"name":"expanded"},{"name":"focusable"},{"name":"focused"},{"name":"horizontal"},{"name":"hovered"},{"name":"ignored"},{"name":"invisible"},{"name":"linked"},{"name":"multiline"},{"name":"multiselectable"},{"name":"offscreen"},{"name":"protected"},{"name":"required"},{"name":"richlyEditable"},{"name":"vertical"},{"name":"visited"}],"type":"string","id":"automation.StateType"},{"enum":[{"name":"annotatePageImages"},{"name":"blur"},{"name":"clearAccessibilityFocus"},{"name":"collapse"},{"name":"customAction"},{"name":"decrement"},{"name":"doDefault"},{"name":"expand"},{"name":"focus"},{"name":"getImageData"},{"name":"getTextLocation"},{"name":"hideTooltip"},{"name":"hitTest"},{"name":"increment"},{"name":"internalInvalidateTree"},{"name":"loadInlineTextBoxes"},{"name":"replaceSelectedText"},{"name":"scrollBackward"},{"name":"scrollDown"},{"name":"scrollForward"},{"name":"scrollLeft"},{"name":"scrollRight"},{"name":"scrollUp"},{"name":"scrollToMakeVisible"},{"name":"scrollToPoint"},{"name":"setAccessibilityFocus"},{"name":"setScrollOffset"},{"name":"setSelection"},{"name":"setSequentialFocusNavigationStartingPoint"},{"name":"setValue"},{"name":"showContextMenu"},{"name":"signalEndOfTest"},{"name":"showTooltip"}],"type":"string","id":"automation.ActionType"},{"enum":[{"name":"nodeCreated"},{"name":"subtreeCreated"},{"name":"nodeChanged"},{"name":"textChanged"},{"name":"nodeRemoved"},{"name":"subtreeUpdateEnd"}],"type":"string","id":"automation.TreeChangeType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"attributeExplicitlyEmpty"},{"name":"caption"},{"name":"contents"},{"name":"placeholder"},{"name":"relatedElement"},{"name":"title"},{"name":"value"}],"type":"string","id":"automation.NameFromType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"contents"},{"name":"relatedElement"},{"name":"title"}],"type":"string","id":"automation.DescriptionFromType"},{"enum":[{"name":"disabled"},{"name":"readOnly"}],"type":"string","id":"automation.Restriction"},{"enum":[{"name":"true"},{"name":"menu"},{"name":"listbox"},{"name":"tree"},{"name":"grid"},{"name":"dialog"}],"type":"string","id":"automation.HasPopup"},{"enum":[{"name":"activate"},{"name":"check"},{"name":"click"},{"name":"clickAncestor"},{"name":"jump"},{"name":"open"},{"name":"press"},{"name":"select"},{"name":"uncheck"}],"type":"string","id":"automation.DefaultActionVerb"},{"enum":[{"name":"spelling"},{"name":"grammar"},{"name":"textMatch"},{"name":"activeSuggestion"},{"name":"suggestion"}],"type":"string","id":"automation.MarkerType"},{"enum":[{"name":"clearSelection"},{"name":"cut"},{"name":"delete"},{"name":"dictate"},{"name":"extendSelection"},{"name":"format"},{"name":"insert"},{"name":"marker"},{"name":"moveSelection"},{"name":"paste"},{"name":"replace"},{"name":"setSelection"},{"name":"type"}],"type":"string","id":"automation.EventCommandType"},{"enum":[{"name":"character"},{"name":"format"},{"name":"lineEnd"},{"name":"lineStart"},{"name":"lineStartOrEnd"},{"name":"object"},{"name":"pageEnd"},{"name":"pageStart"},{"name":"pageStartOrEnd"},{"name":"paragraphEnd"},{"name":"paragraphStart"},{"name":"paragraphStartOrEnd"},{"name":"sentenceEnd"},{"name":"sentenceStart"},{"name":"sentenceStartOrEnd"},{"name":"webPage"},{"name":"wordEnd"},{"name":"wordStart"},{"name":"wordStartOrEnd"}],"type":"string","id":"automation.EventTextBoundaryType"},{"enum":[{"name":"forward"},{"name":"backward"}],"type":"string","id":"automation.EventMoveDirectionType"},{"type":"object","id":"automation.Rect","properties":{"left":{"name":"left","type":"integer"},"top":{"name":"top","type":"integer"},"width":{"name":"width","type":"integer"},"height":{"name":"height","type":"integer"}}},{"type":"object","id":"automation.FindParams","properties":{"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"attributes":{"optional":true,"name":"attributes","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.SetDocumentSelectionParams","properties":{"anchorObject":{"name":"anchorObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"anchorOffset":{"name":"anchorOffset","type":"integer"},"focusObject":{"name":"focusObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"focusOffset":{"name":"focusOffset","type":"integer"}}},{"type":"object","id":"automation.AutomationIntent","properties":{"command":{"name":"command","$ref":"automation.EventCommandType"},"textBoundary":{"name":"textBoundary","$ref":"automation.EventTextBoundaryType"},"moveDirection":{"name":"moveDirection","$ref":"automation.EventMoveDirectionType"}}},{"type":"object","id":"automation.AutomationEvent","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.EventType"},"eventFrom":{"name":"eventFrom","type":"string"},"mouseX":{"name":"mouseX","type":"integer"},"mouseY":{"name":"mouseY","type":"integer"},"intents":{"name":"intents","type":"array","items":{"$ref":"automation.AutomationIntent"}},"stopPropagation":{"parameters":[],"name":"stopPropagation","type":"function"}}},{"type":"object","id":"automation.TreeChange","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.TreeChangeType"}}},{"enum":[{"name":"noTreeChanges"},{"name":"liveRegionTreeChanges"},{"name":"textMarkerChanges"},{"name":"allTreeChanges"}],"type":"string","id":"automation.TreeChangeObserverFilter"},{"type":"object","id":"automation.CustomAction","properties":{"id":{"name":"id","type":"integer"},"description":{"name":"description","type":"string"}}},{"type":"object","id":"automation.LanguageSpan","properties":{"startIndex":{"name":"startIndex","type":"integer"},"endIndex":{"name":"endIndex","type":"integer"},"language":{"name":"language","type":"string"},"probability":{"name":"probability","type":"number"}}},{"type":"object","id":"automation.Marker","properties":{"startOffset":{"name":"startOffset","type":"integer"},"endOffset":{"name":"endOffset","type":"integer"},"flags":{"name":"flags","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.AutomationNode","properties":{"root":{"optional":true,"name":"root","$ref":"automation.AutomationNode"},"isRootNode":{"name":"isRootNode","type":"boolean"},"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"location":{"optional":true,"name":"location","$ref":"automation.Rect"},"boundsForRange":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"},{"explicitType":"BoundsForRangeCallback","type":"function","name":"callback","parameters":[{"name":"bounds","$ref":"automation.Rect"}]}],"name":"boundsForRange","type":"function"},"unclippedLocation":{"optional":true,"name":"unclippedLocation","$ref":"automation.Rect"},"description":{"optional":true,"name":"description","type":"string"},"placeholder":{"optional":true,"name":"placeholder","type":"string"},"roleDescription":{"optional":true,"name":"roleDescription","type":"string"},"name":{"optional":true,"name":"name","type":"string"},"tooltip":{"optional":true,"name":"tooltip","type":"string"},"nameFrom":{"optional":true,"name":"nameFrom","$ref":"automation.NameFromType"},"imageAnnotation":{"optional":true,"name":"imageAnnotation","type":"string"},"value":{"optional":true,"name":"value","type":"string"},"htmlTag":{"optional":true,"name":"htmlTag","type":"string"},"hierarchicalLevel":{"optional":true,"name":"hierarchicalLevel","type":"integer"},"wordStarts":{"optional":true,"name":"wordStarts","type":"array","items":{"type":"integer"}},"wordEnds":{"optional":true,"name":"wordEnds","type":"array","items":{"type":"integer"}},"nonInlineTextWordStarts":{"optional":true,"name":"nonInlineTextWordStarts","type":"array","items":{"type":"integer"}},"nonInlineTextWordEnds":{"optional":true,"name":"nonInlineTextWordEnds","type":"array","items":{"type":"integer"}},"controls":{"optional":true,"name":"controls","type":"array","items":{"$ref":"automation.AutomationNode"}},"describedBy":{"optional":true,"name":"describedBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowTo":{"optional":true,"name":"flowTo","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelledBy":{"optional":true,"name":"labelledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"activeDescendant":{"optional":true,"name":"activeDescendant","$ref":"automation.AutomationNode"},"activeDescendantFor":{"optional":true,"name":"activeDescendantFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"inPageLinkTarget":{"optional":true,"name":"inPageLinkTarget","$ref":"automation.AutomationNode"},"details":{"optional":true,"name":"details","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessage":{"optional":true,"name":"errorMessage","$ref":"automation.AutomationNode"},"detailsFor":{"optional":true,"name":"detailsFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessageFor":{"optional":true,"name":"errorMessageFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"controlledBy":{"optional":true,"name":"controlledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"descriptionFor":{"optional":true,"name":"descriptionFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowFrom":{"optional":true,"name":"flowFrom","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelFor":{"optional":true,"name":"labelFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellColumnHeaders":{"optional":true,"name":"tableCellColumnHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellRowHeaders":{"optional":true,"name":"tableCellRowHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"standardActions":{"optional":true,"name":"standardActions","type":"array","items":{"$ref":"automation.ActionType"}},"customActions":{"optional":true,"name":"customActions","type":"array","items":{"$ref":"automation.CustomAction"}},"defaultActionVerb":{"optional":true,"name":"defaultActionVerb","$ref":"automation.DefaultActionVerb"},"url":{"optional":true,"name":"url","type":"string"},"docUrl":{"optional":true,"name":"docUrl","type":"string"},"docTitle":{"optional":true,"name":"docTitle","type":"string"},"docLoaded":{"optional":true,"name":"docLoaded","type":"boolean"},"docLoadingProgress":{"optional":true,"name":"docLoadingProgress","type":"number"},"scrollX":{"optional":true,"name":"scrollX","type":"integer"},"scrollXMin":{"optional":true,"name":"scrollXMin","type":"integer"},"scrollXMax":{"optional":true,"name":"scrollXMax","type":"integer"},"scrollY":{"optional":true,"name":"scrollY","type":"integer"},"scrollYMin":{"optional":true,"name":"scrollYMin","type":"integer"},"scrollYMax":{"optional":true,"name":"scrollYMax","type":"integer"},"scrollable":{"optional":true,"name":"scrollable","type":"boolean"},"textSelStart":{"optional":true,"name":"textSelStart","type":"integer"},"textSelEnd":{"optional":true,"name":"textSelEnd","type":"integer"},"textInputType":{"optional":true,"name":"textInputType","type":"string"},"markers":{"optional":true,"name":"markers","type":"array","items":{"$ref":"automation.Marker"}},"isSelectionBackward":{"optional":true,"name":"isSelectionBackward","type":"boolean"},"anchorObject":{"optional":true,"name":"anchorObject","$ref":"automation.AutomationNode"},"anchorOffset":{"optional":true,"name":"anchorOffset","type":"integer"},"anchorAffinity":{"optional":true,"name":"anchorAffinity","type":"string"},"focusObject":{"optional":true,"name":"focusObject","$ref":"automation.AutomationNode"},"focusOffset":{"optional":true,"name":"focusOffset","type":"integer"},"focusAffinity":{"optional":true,"name":"focusAffinity","type":"string"},"selectionStartObject":{"optional":true,"name":"selectionStartObject","$ref":"automation.AutomationNode"},"selectionStartOffset":{"optional":true,"name":"selectionStartOffset","type":"integer"},"selectionStartAffinity":{"optional":true,"name":"selectionStartAffinity","type":"string"},"selectionEndObject":{"optional":true,"name":"selectionEndObject","$ref":"automation.AutomationNode"},"selectionEndOffset":{"optional":true,"name":"selectionEndOffset","type":"integer"},"selectionEndAffinity":{"optional":true,"name":"selectionEndAffinity","type":"string"},"valueForRange":{"optional":true,"name":"valueForRange","type":"number"},"minValueForRange":{"optional":true,"name":"minValueForRange","type":"number"},"maxValueForRange":{"optional":true,"name":"maxValueForRange","type":"number"},"posInSet":{"optional":true,"name":"posInSet","type":"integer"},"setSize":{"optional":true,"name":"setSize","type":"integer"},"tableRowCount":{"optional":true,"name":"tableRowCount","type":"integer"},"ariaRowCount":{"optional":true,"name":"ariaRowCount","type":"integer"},"tableColumnCount":{"optional":true,"name":"tableColumnCount","type":"integer"},"ariaColumnCount":{"optional":true,"name":"ariaColumnCount","type":"integer"},"tableCellColumnIndex":{"optional":true,"name":"tableCellColumnIndex","type":"integer"},"tableCellAriaColumnIndex":{"optional":true,"name":"tableCellAriaColumnIndex","type":"integer"},"tableCellColumnSpan":{"optional":true,"name":"tableCellColumnSpan","type":"integer"},"tableCellRowIndex":{"optional":true,"name":"tableCellRowIndex","type":"integer"},"tableCellAriaRowIndex":{"optional":true,"name":"tableCellAriaRowIndex","type":"integer"},"tableCellRowSpan":{"optional":true,"name":"tableCellRowSpan","type":"integer"},"tableColumnHeader":{"optional":true,"name":"tableColumnHeader","$ref":"automation.AutomationNode"},"tableRowHeader":{"optional":true,"name":"tableRowHeader","$ref":"automation.AutomationNode"},"tableColumnIndex":{"optional":true,"name":"tableColumnIndex","type":"integer"},"tableRowIndex":{"optional":true,"name":"tableRowIndex","type":"integer"},"liveStatus":{"optional":true,"name":"liveStatus","type":"string"},"liveRelevant":{"optional":true,"name":"liveRelevant","type":"string"},"liveAtomic":{"optional":true,"name":"liveAtomic","type":"boolean"},"busy":{"optional":true,"name":"busy","type":"boolean"},"containerLiveStatus":{"optional":true,"name":"containerLiveStatus","type":"string"},"containerLiveRelevant":{"optional":true,"name":"containerLiveRelevant","type":"string"},"containerLiveAtomic":{"optional":true,"name":"containerLiveAtomic","type":"boolean"},"containerLiveBusy":{"optional":true,"name":"containerLiveBusy","type":"boolean"},"autoComplete":{"optional":true,"name":"autoComplete","type":"string"},"className":{"optional":true,"name":"className","type":"string"},"modal":{"optional":true,"name":"modal","type":"boolean"},"htmlAttributes":{"optional":true,"name":"htmlAttributes","type":"object","additionalProperties":{"type":"any"}},"inputType":{"optional":true,"name":"inputType","type":"string"},"accessKey":{"optional":true,"name":"accessKey","type":"string"},"ariaInvalidValue":{"optional":true,"name":"ariaInvalidValue","type":"string"},"display":{"optional":true,"name":"display","type":"string"},"imageDataUrl":{"optional":true,"name":"imageDataUrl","type":"string"},"language":{"optional":true,"name":"language","type":"string"},"detectedLanguage":{"optional":true,"name":"detectedLanguage","type":"string"},"hasPopup":{"optional":true,"name":"hasPopup","type":"string"},"restriction":{"optional":true,"name":"restriction","type":"string"},"checked":{"optional":true,"name":"checked","type":"string"},"innerHtml":{"optional":true,"name":"innerHtml","type":"string"},"color":{"optional":true,"name":"color","type":"integer"},"backgroundColor":{"optional":true,"name":"backgroundColor","type":"integer"},"colorValue":{"optional":true,"name":"colorValue","type":"integer"},"subscript":{"name":"subscript","type":"boolean"},"superscript":{"name":"superscript","type":"boolean"},"bold":{"name":"bold","type":"boolean"},"italic":{"name":"italic","type":"boolean"},"underline":{"name":"underline","type":"boolean"},"lineThrough":{"name":"lineThrough","type":"boolean"},"selected":{"optional":true,"name":"selected","type":"boolean"},"fontSize":{"optional":true,"name":"fontSize","type":"integer"},"fontFamily":{"name":"fontFamily","type":"string"},"editableRoot":{"name":"editableRoot","type":"boolean"},"children":{"name":"children","type":"array","items":{"$ref":"automation.AutomationNode"}},"parent":{"optional":true,"name":"parent","$ref":"automation.AutomationNode"},"firstChild":{"optional":true,"name":"firstChild","$ref":"automation.AutomationNode"},"lastChild":{"optional":true,"name":"lastChild","$ref":"automation.AutomationNode"},"previousSibling":{"optional":true,"name":"previousSibling","$ref":"automation.AutomationNode"},"nextSibling":{"optional":true,"name":"nextSibling","$ref":"automation.AutomationNode"},"previousOnLine":{"optional":true,"name":"previousOnLine","$ref":"automation.AutomationNode"},"nextOnLine":{"optional":true,"name":"nextOnLine","$ref":"automation.AutomationNode"},"previousFocus":{"optional":true,"name":"previousFocus","$ref":"automation.AutomationNode"},"nextFocus":{"optional":true,"name":"nextFocus","$ref":"automation.AutomationNode"},"indexInParent":{"optional":true,"name":"indexInParent","type":"integer"},"doDefault":{"parameters":[],"name":"doDefault","type":"function"},"focus":{"parameters":[],"name":"focus","type":"function"},"getImageData":{"parameters":[{"type":"integer","name":"maxWidth"},{"type":"integer","name":"maxHeight"}],"name":"getImageData","type":"function"},"hitTest":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"name":"eventToFire","$ref":"automation.EventType"}],"name":"hitTest","type":"function"},"hitTestWithReply":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"explicitType":"PerformActionCallbackWithNode","type":"function","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}]}],"name":"hitTestWithReply","type":"function"},"makeVisible":{"parameters":[],"name":"makeVisible","type":"function"},"performCustomAction":{"parameters":[{"type":"integer","name":"customActionId"}],"name":"performCustomAction","type":"function"},"performStandardAction":{"parameters":[{"name":"actionType","$ref":"automation.ActionType"}],"name":"performStandardAction","type":"function"},"replaceSelectedText":{"parameters":[{"type":"string","name":"value"}],"name":"replaceSelectedText","type":"function"},"setAccessibilityFocus":{"parameters":[],"name":"setAccessibilityFocus","type":"function"},"setSelection":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"}],"name":"setSelection","type":"function"},"setSequentialFocusNavigationStartingPoint":{"parameters":[],"name":"setSequentialFocusNavigationStartingPoint","type":"function"},"setValue":{"parameters":[{"type":"string","name":"value"}],"name":"setValue","type":"function"},"showContextMenu":{"parameters":[],"name":"showContextMenu","type":"function"},"resumeMedia":{"parameters":[],"name":"resumeMedia","type":"function"},"startDuckingMedia":{"parameters":[],"name":"startDuckingMedia","type":"function"},"stopDuckingMedia":{"parameters":[],"name":"stopDuckingMedia","type":"function"},"suspendMedia":{"parameters":[],"name":"suspendMedia","type":"function"},"scrollBackward":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollBackward","type":"function"},"scrollForward":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollForward","type":"function"},"scrollUp":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollUp","type":"function"},"scrollDown":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollDown","type":"function"},"scrollLeft":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollLeft","type":"function"},"scrollRight":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function"}],"name":"scrollRight","type":"function"},"addEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"explicitType":"AutomationListener","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"type":"function"},{"type":"boolean","name":"capture"}],"name":"addEventListener","type":"function"},"removeEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"explicitType":"AutomationListener","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"type":"function"},{"type":"boolean","name":"capture"}],"name":"removeEventListener","type":"function"},"domQuerySelector":{"parameters":[{"type":"string","name":"selector"},{"explicitType":"QueryCallback","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"domQuerySelector","type":"function"},"find":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"optional":true,"name":"find","$ref":"automation.AutomationNode"},"name":"find","type":"function"},"findAll":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"items":{"$ref":"automation.AutomationNode"},"type":"array","name":"findAll"},"name":"findAll","type":"function"},"matches":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"type":"boolean","name":"matches"},"name":"matches","type":"function"},"getNextTextMatch":{"parameters":[{"type":"string","name":"searchStr"},{"type":"boolean","name":"backward"}],"returns":{"optional":true,"name":"getNextTextMatch","$ref":"automation.AutomationNode"},"name":"getNextTextMatch","type":"function"},"languageAnnotationForStringAttribute":{"parameters":[{"type":"string","name":"attribute"}],"returns":{"items":{"$ref":"automation.LanguageSpan"},"type":"array","name":"languageAnnotationForStringAttribute"},"name":"languageAnnotationForStringAttribute","type":"function"}}}]}
google:suggestClgle:pathWildcardgoogle:pathWildcgle:searchClientgoogle:searchCligle:sessionTokengoogle:sessionToualSearchVersiongoogle:contextuaomniboxFocusTypegoogle:omniboxFogoogle:inputTypeeThumbnailBase64google:imageThumcapedSearchTermsgoogle:unescapedchSource
google:inputType
TextInputType
ui::TextInputType
{google:inputType}
OrtSessionGetInputTypeInfo
OrtSessionGetOutputTypeInfo
.metrics.OmniboxInputType
OmniboxInputType
OmniboxInputTypeProtosH
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
"use strict";class TimeSpan{constructor(e){this.value=e}ticks(){return this.value}milliseconds(){return this.ticks()/1e4}static fromTicks(e){return new TimeSpan(e)}static fromMilliseconds(e){return TimeSpan.fromTicks(e*1e4)}static fromSeconds(e){return TimeSpan.fromMilliseconds(e*1e3)}static fromMinutes(e){return TimeSpan.fromSeconds(e*60)}static fromHours(e){return TimeSpan.fromMinutes(e*60)}}var $;!function(e){function t(e,t){const n={};return n[e]=t,n}function n(e,t){if(e instanceof Array){for(let n=0;n<e.length;++n)if(t(e[n])===!1)return!1}else for(let o in e)if(e.hasOwnProperty(o)&&t(o,e[o])===!1)return!1;return!0}function o(e,t){return!n(e,((e,n)=>!t(e,n)))}function r(e,t){return e.map(t).reduce(((e,t)=>e.concat(t)),[])}function i(e,t){return e.map(t)}function s(e,t){return r(e,(e=>{const n=t(e);return null!=n?[n]:[]}))}function a(e){function t(n,o){return n<e.length?e[n].then((e=>t(n+1,o.concat([e])))):Promise.resolve(o)}return t(0,[])}function c(e,...t){for(let o=0;o<t.length;++o)n(t[o],((t,n)=>{return e[t]=n,!0}));return e}function u(e,t,n){return t.split(".").reduce(((e,t)=>null==e?e:e[t]),e)||n}e.createObject=t,e.each=n,e.any=o,e.collect=r,e.map=i,e.choose=s,e.sequence=a,e.extend=c,e.get=u}($||($={}));var Base64;!function(e){function t(e){if(!e.match(/(^$)|(^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==))$/g))throw`decodeToString: Invalid base64 string.`;var t=new Uint8Array(.75*e.length);for(let r,i,s,a,c=0,u=0;c<e.length;)r=o.indexOf(e[c++]),i=o.indexOf(e[c++]),s=o.indexOf(e[c++]),a=o.indexOf(e[c++]),t[u++]+=r<<2|i>>4,64!=s&&(t[u++]+=(15&i)<<4|s>>2),64!=a&&(t[u++]+=(3&s)<<6|a);return n(t)}function n(e){var t="";for(let n=0,o=0,r=0,i=0,s=0;n<e.length;){if(o=e[n++],o>127)if(o>191&&224>o){if(n>=e.length)throw"utf8ToString: Invalid 2-byte sequence.";r=e[n++],o=(31&o)<<6|63&r}else if(o>223&&240>o){if(n+1>=e.length)throw"utf8ToString: Invalid 3-byte sequence.";r=e[n++],i=e[n++],o=(15&o)<<12|(63&r)<<6|63&i}else{if(!(o>239&&248>o))throw"utf8ToString: Unknown multibyte sequence";if(n+2>=e.length)throw"utf8ToString: Invalid 4-byte sequence.";r=e[n++],i=e[n++],s=e[n++],o=(7&o)<<18|(63&r)<<12|(63&i)<<6|63&s}if(65535>=o)t+=String.fromCharCode(o);else{if(!(1114111>=o))throw"utf8ToString: Largest UTF8 Code point reached.";o-=65536,t+=String.fromCharCode(o>>10|55296),t+=String.fromCharCode(1023&o|56320)}}return t}const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.decodeToString=t}(Base64||(Base64={}));class LoggingChannel{constructor(e){e("Windows.Foundation.Diagnostics");this.loggingChannel=new Windows.Foundation.Diagnostics.LoggingChannel("Microsoft.Windows.SmartScreen",new Windows.Foundation.Diagnostics.LoggingChannelOptions("4f50731a-89cf-4782-b3e0-dce8c90476ba"),"39bd9805-3945-4878-aecc-096a23369f68")}logException(e,t){let n=new Windows.Foundation.Diagnostics.LoggingFields;n.addString("name",$.get(e,"name",""));n.addString("message",$.get(e,"message",""));n.addString("stack",$.get(e,"stack",""));n.addString("context",t?t:"");this.loggingChannel.logEvent("Exception",n,Windows.Foundation.Diagnostics.LoggingLevel.Error,new Windows.Foundation.Diagnostics.LoggingOptions(70368744177664))}logInfo(e){this.loggingChannel.logEvent(e.name,e.fields,Windows.Foundation.Diagnostics.LoggingLevel.Information,new Windows.Foundation.Diagnostics.LoggingOptions(70368744177664))}}class ApiBase{constructor(e,t=.01,n=1){this.defaultSamplingRate=t;this.errorSamplingRate=n;this.loggingChannel=new LoggingChannel(e)}sendRequestTimeout(e){return null}shouldSendRequest(e,t){return true}transformRequest(e,t){function n(e,t){if(!e){return e}switch(typeof e){case"object":var o={};if(e.constructor===Array){o=$.map(e,(e=>n(e,t)))}else{$.each(e,((e,r)=>{o[e]=n(r,t)}))}return o;case"string":return e.length>t?e.slice(0,t-3)+"...":e;default:return e}}const o=5e3;if(t.body){t.body=n(t.body,o)}return t}transformResponse(e,t,n){return n}logSendRequest(e,t,n){}getSamplingRates(e){return e.reduce(((t,n)=>{const o=this.getSamplingRate(n,e);if(o===null){switch(n.$type){case"error":return $.extend(t,{error:this.errorSamplingRate});default:return $.extend(t,{none:this.defaultSamplingRate})}}else if(o===0){return t}else{return $.extend(t,o)}}),{})}getDiagnosticEvent(e,t){return null}logFilterEvents(e,t){$.each($.choose(e,(e=>this.getDiagnosticEvent(e,t))),(e=>this.loggingChannel.logInfo(e)))}transformFinalizedEvent(e){return[e]}getPreFinalizedSamplingRate(e){return null}serviceUriForGeoId(e){switch((e||"").toLowerCase()){case"us":return"https://unitedstates.smartscreen.microsoft.com";case"uk":return"https://unitedkingdom.smartscreen.microsoft.com";case"eu":return"https://europe.smartscreen.microsoft.com";default:return null}}scriptHostTimeout(){return TimeSpan.fromSeconds(5).ticks()}sendRequest(e,t,n){if(this.shouldSendRequest(e,t)){const o=this.transformRequest(e,t);const r=Promise.race([n(e,o),new Promise(((t,n)=>{const o=this.sendRequestTimeout(e);if(o!=null){setTimeout((()=>{t({headers:[],body:null,statusCode:504})}),o.milliseconds())}}))]).then((t=>this.transformResponse(e,o,t)));r.then((t=>this.logSendRequest(e,o,t))).catch((e=>this.loggingChannel.logException(e)));return r}else{return Promise.resolve({headers:[],body:null,statusCode:429})}}filterEvents(e,t,n,o){return new Promise((r=>{function i(e){if(e.hasOwnProperty("$id")){return t(e["$id"]).then((t=>$.extend(e,t))).catch((t=>$.extend(e,{$error:t.message}))).then((e=>delete e.$id?e:e))}else{return Promise.resolve(e)}}this.logFilterEvents(e,o);const s=e.reduce(((e,t)=>{const n=this.getPreFinalizedSamplingRate(t);if(n!=null){return $.extend(e,n)}else{return e}}),{});return r($.sequence(e.map((e=>{if(s[e.$type]!=null&&n<=s[e.$type]){return i(e).then((e=>this.transformFinalizedEvent(e)))}else{return Promise.resolve(e)}}))).then((e=>$.collect(e,(e=>e)))).then((e=>{const t=this.getSamplingRates(e);if($.any(t,((e,t)=>n<=t))){return $.sequence($.map(e,(e=>i(e)))).then((e=>$.collect(e,(e=>{try{return this.transformFinalizedEvent(e)}catch(t){return $.extend(e,{$error:t.message})}})))).then((e=>({events:e,samplingRates:t,random:n})))}else{return Promise.resolve(null)}})))}))}}var Dom;!function(e){var t;!function(e){e[e.anchor=1]="anchor",e[e.applet=2]="applet",e[e.area=3]="area",e[e.button=4]="button",e[e.embed=5]="embed",e[e.form=6]="form",e[e.frame=7]="frame",e[e.img=8]="img",e[e.input=9]="input",e[e.object=10]="object",e[e.script=11]="script",e[e.select=12]="select",e[e.textarea=13]="textarea",e[e.title=14]="title",e[e.body=15]="body",e[e.emulate=16]="emulate"}(t=e.tagType||(e.tagType={}));var n;!function(e){e[e.readonly=1]="readonly",e[e.hidden=2]="hidden",e[e.text=4]="text",e[e.password=8]="password"}(n=e.inputType||(e.inputType={}));var o;!function(e){e[e.added=0]="added",e[e.modified=1]="modified",e[e.deleted=2]="deleted",e[e.redirected=3]="redirected"}(o=e.eventType||(e.eventType={}))}(Dom||(Dom={}));var V1;!function(e){class t extends ApiBase{constructor(e){super(e,7e-5);this.telemetryRates={topTraffic:7e-5,unknownPassword:1,unknownForm:1}}serviceUri(e){return super.serviceUriForGeoId(e)||"https://nav.smartscreen.microsoft.com"}sendRequestTimeout(e){return e.indexOf("service")!=-1?TimeSpan.fromSeconds(5):null}telemetryEvent(e){switch(e.$type){case"cacheHit":case"hostCacheHit":case"ipCacheHit":case"referrerCacheHit":case"referrerIpCacheHit":case"serverCall":return e["telemetry"].charAt(0)=="1";default:return null}}unknownRating(e){return this.telemetryEvent(e)&&e["telemetry"].split(";")[2]=="UNKN:100"}shouldSendRequest(e,t){return!e.includes("serverCallFilter")}getPreFinalizedSamplingRate(e){if(this.unknownRating(e)){return{dom:Math.max(this.telemetryRates.unknownPassword,this.telemetryRates.unknownForm)}}else{return null}}getSamplingRates(e){const t=e=>e.startsWith("file://")||e.startsWith("res://");if($.any(e,(e=>e.$type=="lookup"&&t(e.destination.uri)))){return{}}else{return super.getSamplingRates(e)}}getSamplingRate(e,t){const n=e=>parseFloat(e.split(";")[3]);if(this.unknownRating(e)){return t.reduce(((e,t)=>{switch(t.$type){case"form":return $.extend(e,{unknownForm:this.telemetryRates.unknownForm});case"password":return $.extend(e,{unknownPassword:this.telemetryRates.unknownPassword});default:return e}}),$.createObject(e.$type,n(e["telemetry"])))}else if(this.telemetryEvent(e)){return $.createObject(e.$type,n(e["telemetry"]))}else{switch(e.$type){case"topTrafficHit":return{topTrafficHit:this.telemetryRates.topTraffic};case"userAction":return{userAction:1};case"uriLookup":return{uriLookup:.01};case"isFileSupported":return{isFileSupported:.01};case"beginFileLookup":return{beginFileLookup:.01};case"continueFileLookup":return{continueFileLookup:.01};default:return null}}}transformFinalizedEvent(e){function t(e,t){return $.map(e,(e=>{if(t(e)){switch(e.eventType){case Dom.eventType.added:return 1;case Dom.eventType.deleted:return-1;default:return 0}}return 0})).reduce(((e,t)=>e+t))>0}switch(e.$type){case"dom":let n=[];const o=e.stream;const r=$.choose(o,(t=>t.id==e["stream"][0].id&&t.eventType==Dom.eventType.redirected?t.text:null));if(r.length>0){n.push({$type:"redirects",uris:r})}if(t(o,(e=>e.tagId==Dom.tagType.input&&(e.flags&Dom.inputType.password)!=0))){n.push({$type:"password"})}if(t(o,(e=>e.tagId==Dom.tagType.form))){n.push({$type:"form"})}return n;default:return[e]}}isFileSupported(e,t){switch(e.substr(e.lastIndexOf(".")+1).toLowerCase()){case"appref-ms":case"appx":case"appxbundle":case"bat":case"cmd":case"com":case"cpl":case"dll":case"drv":case"exe":case"gadget":case"hta":case"iso":case"js":case"jse":case"lnk":case"msi":case"msu":case"ocx":case"pif":case"ps1":case"scr":case"sys":case"vb":case"vbe":case"vbs":case"vhd":case"vhdx":case"vxd":case"website":case"wsf":return true;default:return false}}isUriSupported(e){return true}getReportFeedbackUri(e){return"https://feedback.smartscreen.microsoft.com/feedback.aspx?t=0&result=none&url="+encodeURIComponent(e)}}e.Api=t}(V1||(V1={}));var Model;!function(e){class t{constructor(){this.features={Official:3.27472,Security:3.256742,"-":-3.181332,"|":-3.179485,ALERT:2.960198,Warning:2.931282,Alert:2.882741,"showcomer.in":2.729225,errorx5089789:2.706252,WARNING:2.696265,Virus:2.585497,"Warning!":2.520475,Support:2.479075,Message:2.414603,"call...":2.411057,Crashed:2.39183,"***":1.996904,SYSTEM:1.990861,Stop:1.976179,The:-1.971284,"0x01921457":1.961147,Systeme:1.956252,"d'alerte":1.956252,"***Alert":1.946664,"Message***":1.946664,Safety:1.876149,Delete:1.876149,"in":-1.869157,a:-1.832851,Contact:-1.775819,"Sex-with-hot-wifes-for-fun.com":-1.775819,"ALERTS!!":1.767279,Info:1.745306,Drive:1.735168,"0x00759B":1.72453,Microsoft:1.71669,"Error!!":1.673042,Facebook:-1.670895,Suspended:-1.670146,Attention:1.664253,"Required!":1.664253,page:-1.654714,SUPPORT:1.62465,"Notification!":-1.620106,Hacking:1.581252,"Attack!":1.581252,CloudFlare:-1.412755,Title:1.337495,"Wait...":-1.304884,"T8I21HE6WOIPQP4332-AOS2EJ6QH8YLIW1M":1.289403,VIRUS:1.244956,Windows:1.178236,Code:1.172793,to:-1.109768,ERROR:1.003646,NEW:-.9999999,Teenage:-.9999999,Anal:-.9999999,Creampie:-.9999999,"(Tug":-.9999999,"Zone)":-.9999999,XXX:-.9999999,Released:-.9999999,2015:-.9999999,WEBRip:-.9999999,"2016-bt?":-.9999999,"???
InputType
IinputTypeWWW
<xs:complexType name="OutputType">
<xs:complexType name="InputType">
<xs:element name="outType" type="man:OutputType" minOccurs="0" maxOccurs="unbounded"/>
<xs:element name="inTypes" type="man:InputTypeListType"/>
<xs:complexType name="InputTypeListType">
<xs:element name="inType" type="man:InputType" maxOccurs="unbounded"/>
NewEnumWithSynchronizedInputType
SynchronizedInputTypeWWW
SynchronizedInputType_KeyUpW
SynchronizedInputType_KeyDownWWW
SynchronizedInputType_LeftMouseUpWWW
#0:QSynchronizedInputType_LeftMouseDownW
SynchronizedInputType_RightMouseUpWW
$0xXSynchronizedInputType_RightMouseDown|
IinputTypeWWW|
SynchronizedInputTypeWWW
SynchronizedInputType_KeyUpW
SynchronizedInputType_KeyDownWWW
SynchronizedInputType_LeftMouseUpWWW
#0:QSynchronizedInputType_LeftMouseDownW
SynchronizedInputType_RightMouseUpWW
$0xXSynchronizedInputType_RightMouseDownt
IinputTypeWWWt
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
?GetOutputType@CVdsAsyncObjectBase@@QEAA?AW4_VDS_ASYNC_OUTPUT_TYPE@@XZ
?SetOutputType@CVdsAsyncObjectBase@@QEAAXW4_VDS_ASYNC_OUTPUT_TYPE@@@Z
?GetOutputType@CVdsAsyncObjectBase@@QEAA?AW4_VDS_ASYNC_OUTPUT_TYPE@@XZ
?SetOutputType@CVdsAsyncObjectBase@@QEAAXW4_VDS_ASYNC_OUTPUT_TYPE@@@Z
?GetOutputType@CVdsAsyncObjectBase@@QEAA?AW4_VDS_ASYNC_OUTPUT_TYPE@@XZ
?SetOutputType@CVdsAsyncObjectBase@@QEAAXW4_VDS_ASYNC_OUTPUT_TYPE@@@Z
?GetOutputType@CVdsAsyncObjectBase@@QEAA?AW4_VDS_ASYNC_OUTPUT_TYPE@@XZ
?SetOutputType@CVdsAsyncObjectBase@@QEAAXW4_VDS_ASYNC_OUTPUT_TYPE@@@Z
?GetOutputType@CVdsAsyncObjectBase@@QEAA?AW4_VDS_ASYNC_OUTPUT_TYPE@@XZ
?SetOutputType@CVdsAsyncObjectBase@@QEAAXW4_VDS_ASYNC_OUTPUT_TYPE@@@Z
inputType
inputType
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
dwInputType
dwInputType
InputType
RIMOpenDev[%p, type(%d) dwRimInputType(%08x)], (%ws) failed with status: %X..retry after 100ms
WATCHDOG: hRim:%p[P:%p,T:%p]dwInputType:%08x delayed PNP actions
WATCHDOG: hRim:%p[P:%p,T:%p]dwInputType:%08x delayed read
WATCHDOG: hRim:%p[P:%p,T:%p]dwInputType:%08x device (%p, %ws) delayed PNP thread (%p)
RIMDeviceClassNotify: hRim:%p[P:%p,T:%p]dwInputType:%08x stack attach not allowed dropping Pnp Notification!
RIMVirtDeviceClassNotify: hRim:%p[P:%p,T:%p]dwInputType:%08x stack attach not allowed dropping Pnp Notification!
rimStackAttachAndProcessInput: hRim:%p[P:%p,T:%p]dwInputType:%08x stack attach not allowed dropping input!
?GetBaseWindowForInputType@CompositionInputObject@@QEBAJW4CompositionInputType@@PEAPEAUtagWND@@@Z
?GetLastInputType@CInputGlobals@@QEBA?AW4_LINP_SOURCE@@XZ
?GetWindowForInputType@CompositionInputObject@@QEBAJW4CompositionInputType@@PEAPEAUHWND__@@@Z
?GetWindowForInputType@CompositionInputObject@@QEBAJW4CompositionInputType@@PEAPEAUtagWND@@@Z
DeviceTypeToRimInputType
RimInputTypeToDeviceType
?GetLastInputType@CInputGlobals@@QEBA?AW4_LINP_SOURCE@@XZ
GetUndimSourceInputTypeMask
GetWakeSourceInputTypeMask
IsGetUndimSourceInputTypeMaskSupported
IsGetWakeSourceInputTypeMaskSupported
IsIsPointerInputTypeRedirectedSupported
IsPointerInputTypeRedirected
3DVideoOutputType
3DVideoOutputType
CMRCVideoTransform::SetInputType
CDWMScreenCapture::GetOutputType
CVideoStabilizerBase::CalculateOutputType
CVideoAntiAliasing::CalculateOutputType
MRCVideoTransformOutputTypeChanged
MRCVideoTransformInputTypeChanged
3DVideoOutputType
VideoCompositorMFTWrapper::InternalCheckOutputType
VideoCompositorMFTWrapper::InternalCheckInputType
VideoCompositorMFTWrapper::OnOutputTypeChanged
VideoCompositorMFTWrapper::OnInputTypeChanged
BasicVideoEffectMFTWrapper::InternalCheckInputType
BasicVideoEffectMFTWrapper::SetInputType
BasicVideoEffectMFTWrapper::OnInputTypeChanged
BasicVideoEffectMFTWrapper::InternalCheckOutputType
BasicVideoEffectMFTWrapper::OnOutputTypeChanged
BasicAudioEffectMFTWrapper::SetInputType
BasicAudioEffectMFTWrapper::InternalCheckOutputType
BasicAudioEffectMFTWrapper::InternalCheckInputType
BasicAudioEffectMFTWrapper::OnOutputTypeChanged
BasicAudioEffectMFTWrapper::OnInputTypeChanged
inputType
PdfPrivate::EraseInputFilter::IsEraserInputType
InputType
DirectInkInputTypeChanged
InkManagerInputTypeChanged
(L"DirectInkCoreServer::put_InputTypes" L"[Exit]")
InputTypes
InputTypes
(L"DirectInkCoreServer::put_InputTypes" L"[Exit]")
InputTypes
fHasInputTypes
fHasInputTypes
(L"CDirectInkImpl::SetInputTypes" L"[Exit]")
InputTypes
(L"CDirectInkImpl::SetInputTypes" L"[Exit]")
InputTypes
InputTypes
(L"CInputContext::SetInputTypes" L"[Exit]")
inputTypes
(L"CInputContext::SetInputTypes" L"[Exit]")
inputTypes
InputTypes
InputTypes
(L"CInputProvider::SetInputType" L"[Exit]")
InputTypes
(L"CInputProvider::SetInputType" L"[Exit]")
InputTypes
InputType
BasicVideoEffectMFTWrapper::SetInputType
BasicVideoEffectMFTWrapper::InternalCheckInputType
BasicVideoEffectMFTWrapper::InternalCheckOutputType
BasicVideoEffectMFTWrapper::OnInputTypeChanged
BasicVideoEffectMFTWrapper::OnOutputTypeChanged
BasicAudioEffectMFTWrapper::OnOutputTypeChanged
BasicAudioEffectMFTWrapper::SetInputType
BasicAudioEffectMFTWrapper::InternalCheckInputType
BasicAudioEffectMFTWrapper::InternalCheckOutputType
BasicAudioEffectMFTWrapper::OnInputTypeChanged
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
userInputType
	OutputTypeChangedCount
CWMVideoDecMediaObject::GenerateAvailableOutputTypes
CWMVideoDecMediaObject::SetOutputType
CWMVideoDecMediaObject::CheckOutputType
<xsd:simpleType name="inputTypes">
<xsd:complexType name="inputType">
<xsd:attribute name="type" type="inputTypes" use="required"></xsd:attribute>
<xsd:element name="input" type="inputType"></xsd:element>
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
D{"net":{"http_server_properties":{"servers":[{"alternative_service":[{"advertised_versions":[],"expiration":"13265565755065692","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":57389},"server":"https://www.googleadservices.com","supports_spdy":true},{"isolation":[],"server":"https://www.bing.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[],"expiration":"13265565750930846","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://dl.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[],"expiration":"13265565717055573","host":"googleads.g.doubleclick.net","port":443,"protocol_str":"quic"},{"advertised_versions":[],"expiration":"13265565717055574","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":93683},"server":"https://adservice.google.fr","supports_spdy":true},{"alternative_service":[{"advertised_versions":[],"expiration":"13265565649965027","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://ad.doubleclick.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[],"expiration":"13265565649658789","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://clickserve.dartsearch.net","supports_spdy":true},{"isolation":[],"server":"https://img-prod-cms-rt-microsoft-com.akamaized.net","supports_spdy":true},{"isolation":[],"server":"https://assets.msn.com","supports_spdy":true},{"isolation":[],"server":"https://r.g.bing.com","supports_spdy":true},{"isolation":[],"server":"https://arc.msn.com","supports_spdy":true},{"isolation":[],"server":"https://ntp.msn.com","supports_spdy":true},{"isolation":[],"server":"https://img-s-msn-com.akamaized.net","supports_spdy":true},{"isolation":[],"server":"https://c.bing.com","supports_spdy":true},{"isolation":[],"server":"https://www2.bing.com","supports_spdy":true},{"isolation":[],"server":"https://browser.events.data.msn.com","supports_spdy":true},{"isolation":[],"server":"https://ajax.aspnetcdn.com","supports_spdy":true},{"isolation":[],"server":"https://az725175.vo.msecnd.net","supports_spdy":true},{"isolation":[],"server":"https://target.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://wcpstatic.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://www.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://edgewelcomecdn.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://c.clarity.ms","supports_spdy":true},{"isolation":[],"server":"https://microsoftedgewelcome.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://privacyportal.onetrust.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041574326960","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041574326962","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://977857a3e2add6156fd97c33b1c50be1.safeframe.googlesyndication.com","supports_spdy":true},{"isolation":[],"server":"https://putty.fr.uptodown.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041575991560","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041575991564","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://cdn.ampproject.org","supports_spdy":true},{"isolation":[],"server":"https://cdn.cookielaw.org","supports_spdy":true},{"isolation":[],"server":"https://fr.uptodown.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041580435589","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041580435594","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://3c76e4b09eb4f2ccf71f02005be10757.safeframe.googlesyndication.com","supports_spdy":true},{"isolation":[],"server":"https://bidder.criteo.com","supports_spdy":true},{"isolation":[],"server":"https://static.criteo.net","supports_spdy":true},{"isolation":[],"server":"https://gem.gbc.criteo.com","supports_spdy":true},{"isolation":[],"server":"https://ag.gbc.criteo.com","supports_spdy":true},{"isolation":[],"server":"https://dw68.uptodown.com","supports_spdy":true},{"isolation":[],"server":"https://gum.criteo.com","supports_spdy":true},{"isolation":[],"server":"https://dnacdn.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041633129499","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041633129662","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://partner.googleadservices.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041581109684","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041581109688","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://www.googletagservices.com"},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041636411236","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041636411239","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://s0.2mdn.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041581020854","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041581020861","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":66252},"server":"https://securepubads.g.doubleclick.net","supports_spdy":true},{"isolation":[],"server":"https://www.clarity.ms","supports_spdy":true},{"isolation":[],"server":"https://csm.fr.eu.criteo.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041636634558","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041636634561","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":74500},"server":"https://tpc.googlesyndication.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041684757790","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041684757795","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":62357},"server":"https://pagead2.googlesyndication.com","supports_spdy":true},{"isolation":[],"server":"https://edge.microsoft.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629733893631","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629733893634","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://gstatic.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[],"expiration":"13265565752024621","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":114925},"server":"https://2542116.fls.doubleclick.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[],"expiration":"13265565752635731","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":98052},"server":"https://adservice.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629732227017","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629732227020","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":52736},"server":"https://apis.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629733829224","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629733829228","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":55130},"server":"https://fonts.googleapis.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629734116625","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629734116627","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":56095},"server":"https://fonts.gstatic.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[],"expiration":"13265565756335477","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":95838},"server":"https://googleads.g.doubleclick.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629734257613","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629734257617","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":59847},"server":"https://scone-pa.clients6.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629731091156","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629731091159","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":60970},"server":"https://stats.g.doubleclick.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629728657950","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629728657952","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":56346},"server":"https://support.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629732343850","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629732343853","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":60974},"server":"https://tools.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629733171110","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629733171113","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":61566},"server":"https://www.google-analytics.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629733173177","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629733173181","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":70723},"server":"https://www.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629731674638","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629731674641","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":54125},"server":"https://www.google.fr","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629730618739","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629730618741","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":75343},"server":"https://www.googletagmanager.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[73],"expiration":"13265629734061936","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265629734061938","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":54838},"server":"https://www.gstatic.com","supports_spdy":true}],"supports_quic":{"address":"10.0.2.15","used_quic":true},"version":5},"network_qualities":{"CAESABiAgICA+P////8B":"4G"}}}
    <xsd:simpleType name="TunerInputType">
        <xsd:attribute name="InputType" type="tune:TunerInputType"/>
    <xsl:param name="outputTypeAttribute" select="'false'"/>
        <xsl:if test="$outputTypeAttribute = 'true'">
      <xsl:with-param name="outputTypeAttribute" select="'true'"/>
      <xsl:with-param name="outputTypeAttribute" select="'true'"/>
      <xsl:with-param name="outputTypeAttribute" select="'true'"/>
    <xsl:param name="outputTypeAttribute" select="'false'"/>
        <xsl:if test="$outputTypeAttribute = 'true'">
      <xsl:with-param name="outputTypeAttribute" select="'true'"/>
      <xsl:with-param name="outputTypeAttribute" select="'true'"/>
      <xsl:with-param name="outputTypeAttribute" select="'true'"/>
InputTypeGuid
InputTypeGuid
1;1;1;var AutoSuggest;(function(n){var t;(function(n){var t=/[0-9a-zA-Z]/,i=/\s+/g,r=function(){function r(n,t){var i=this;this._accessTokenManager=t;n.bindAccessTokenAvailable(function(n){i.getProfilePictureToken(n,function(){})})}return r.prototype.getProfilePictureToken=function(t,i){this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(n){return i(n?n.Token:null)},n.getAuthAccountForCloudContent())},r.prototype.getProfilePictureIconInternal=function(t,i,r,u){return n.Promise.safeChainWithGlobalCaching("getProfilePictureIcon",function(){return ThresholdUtilities.createPromise(function(u){return t(function(t){var f,e,o;if(!t){u(null);return}f=SearchAppWrapper.CortanaApp.createStringMap();e=SearchAppWrapper.CortanaApp.createStringMap();f.Authorization="Bearer "+t;i==0&&(f["X-AnchorMailbox"]=r);o=i==1?"https://substrate.office.com/api/v2.0/Users('"+r+"')/photo/$value":"https://substrate.office.com/profile/v0/users/"+r+"/image/$value";n.Promise.safeChain("getProfilePictureIcon",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(0,o,f,"",e)},function(t){if(t.statusCode!==200){u(null);return}n.Promise.safeChain("getProfilePictureIcon",function(){return t.readAsStreamAsync()},u,function(){return u(null)})},function(){return u(null)})})})},function(){return r+"_icon"},function(t){var i=n.toIcon(t,"getProfilePictureIcon",u);return i&&(i.className="peopleIcon"),i},u)},r.prototype.getProfilePictureIconForToken=function(n,t,i,r){return this.getProfilePictureIconInternal(function(n){return n(t)},n,i,r)},r.prototype.getProfilePictureIcon=function(n,t,i){var r=this;return this.getProfilePictureIconInternal(function(t){return r.getProfilePictureToken(n,t)},n,t,i)},r.prototype.getPersonDefaultIcon=function(n){var r,u=n.trim().replace(i," ").split(" ",2),f,e;return u.length>0&&(f=u[0][0],t.test(f)&&(r=f),u.length==2&&(e=u[1][0],r&&t.test(e)?r+=e:r="")),{type:r?5:2,content:r?r.toUpperCase():"&#xE77B",className:"peopleIcon"}},r}();n.SubstrateProfilePictureProvider=r})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));var AutoSuggest;(function(n){var t;(function(t){var i="pp_",r=100,u=200,f=function(){function f(t,i,r){var u=this;this._page=t;this._host=i;this._sections=[];this._selectedItemIndex=-1;this._scrollArea=_ge("qfPreviewScrollArea");this._itemClickEventHandler=function(t,i){var r=document.getSelection();r.toString()&&r.focusNode==i.target||t.click(n.getCurrentTime(),n.getInputType(i))};this._contextMenuHandler=function(t,i,f){i&&(i.pageX||i.pageY)?n.safeExecute(function(){return r.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return u.focus(!1)},f)},"contextMenuHandler"):n.safeExecute(function(){return r.showContextMenuOnElement(t,f?_ge(f.id):_ge(t.id),function(){return u.focus(!1)},f)},"contextMenuHandler")};i.bindSearchBoxGotFocus(function(){u.blur()});i.bindKeyDown(function(n){u.hasFocus()&&(n==36||n==35)&&u.selectFirstOrLastItem(n==36)})}return f.prototype.init=function(t){var i=this;this._previewPaneViewModelParent=t;this._suggestionClickEventHandler=function(t,r){var u=n.getCurrentTime(),f=n.getInputType(r);i._previewPaneViewModelParent.onBeforeItemLaunch(u,f,4,null);t.click(u,f);i._previewPaneViewModelParent.onAfterItemLaunch(4)}},f.prototype.finalizeKeystroke=function(){this.instrumentOnPreviewPaneRendered(!1,!0)},f.prototype.instrumentOnPreviewPaneRendered=function(n,t){if(this._timestampFirstRender&&this._onPreviewPaneRendered){var i={firstRenderTS:this._timestampFirstRender,layout:this.getLayoutDataForPPRenderedInstrumentation()};this._onPreviewPaneRendered(t,!n,i)}},f.prototype.update=function(t,i,r,u,f,e){var o=this,h,s;f&&!e&&(this.instrumentOnPreviewPaneRendered(!1,!0),this._onPreviewPaneRendered=f,this._timestampFirstRender=null,this._settingsOnlineModules=[],this._settingsOnlineModulesRetrieved=!1);this._previewPaneId=u;this._previewedSuggestion=t;this._sections=[];this._hasPreviewIconBeenSet=!1;this._haveActionsBeenFetched=!1;this._sectionRetrieved_jumplist=!1;this._sectionRetrieved_settingsFaq=!1;this._sectionRetrieved_settingsRelatedSettings=!1;this._allSectionsRetrieved=function(){return o._sectionRetrieved_jumplist&&o._sectionRetrieved_settingsFaq&&o._sectionRetrieved_settingsRelatedSettings};h=e&&this.hasFocus();s=function(t){o._previewPaneViewModelParent.onResponseReceived(n.getCurrentTime());t?o.delayedRender():o.render();(o._previewPaneViewModelParent.focusPending||h)&&(o._previewPaneViewModelParent.focusPending=!1,o.focus(!1))};t&&this.updateSelection(t,i,function(){return u==o._previewPaneId&&t==o._previewedSuggestion},function(){return s(!1)},function(){return s(!0)})},f.prototype.setPreviewIcon=function(i,r,f,e,o){var s=this,h=typeof ClientTestHooks!="undefined"&&ClientTestHooks&&ClientTestHooks.isTesthookParamSet("isTest"),c=h&&ClientTestHooks.isTesthookParamSet("DisablePreviewGetIcon"),l;c||(l=t.config.largePhotoIcon&&i.type=="LI"?5:4,i.getIcon(l,function(n){s._hasPreviewIconBeenSet=!0;i.previewIcon=n;t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)})}));(c||!h)&&n.safeSetTimeout(function(){s._hasPreviewIconBeenSet||(s._hasPreviewIconBeenSet=!0,i.previewIcon=t.ScopeConfig[t.getScope(t.getGroupType(i))].icon,t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)}))},u,"setPreviewIcon")},f.prototype.updateSelection=function(n,t,i,r,u){n.getIcon?this.setPreviewIcon(n,t,i,r,u):(n.icon&&(n.previewIcon={content:n.icon.content,type:n.icon.type,bgColor:n.icon.bgColor,needsAccentColor:!0,ratio:n.icon.ratio,className:n.icon.className}),this.getActions(t,r,u,i))},f.prototype.hasFocus=function(){return!!this._selectedItem},f.prototype.focus=function(n){var t=this.getSelectableItems(),i,r;t.length>0?(i=n?0:this._selectedItemIndex!=-1?this._selectedItemIndex:0,r=t[i],this.select(r,!1),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView("localPP focus")):this._previewPaneViewModelParent.focusPending=!0},f.prototype.readyToBlur=function(){return!0},f.prototype.blur=function(){this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null,this.render())},f.prototype.clear=function(){this._selectedItem=null;this._selectedItemIndex=-1;this._previewedSuggestion=null;this._onPreviewPaneRendered=null;this._sections=[];this._settingsOnlineModules=[];this._settingsOnlineModulesRetrieved=!1;sb_ct(this._renderTimer);this._hasPreviewIconBeenSet=!1;this._renderTimer=null;this.render()},f.prototype.getSelectableItems=function(){return[].concat.apply([],this.getSelectableItemsByGroup())},f.prototype.getSelectableItemsByGroup=function(){for(var n,t,f,s,r,e,h,i=[],u=0,o=this._sections;u<o.length;u++)n=o[u],t=[],t=t.concat(n.items),f=n.collapsedItems.length>0,f&&(s=_ge(n.collapsedItems[0].id).classList,s.contains("collapsedItem")||(t=t.concat(n.collapsedItems))),i.push(t),f&&i.push([n.expander]);for(r=0,e=this._settingsOnlineModules;r<e.length;r++)h=e[r],i.push(h.settingLinks);return i},f.prototype.getSelectedItem=function(){return this._selectedItem},f.prototype.select=function(n,t){var r,i;if(t){SharedLogHelper.LogError("selectPreviewPaneItem",null,new Error("Can't update search box value when selecting preview pane item"));return}this._selectedItem==n&&this._selectedItem.selected||(this._selectedItem&&(this._selectedItem.selected=!1),n&&(r=this.getSelectableItems().findIndex(function(t){return t==n}),r<0?SharedLogHelper.LogError("LocalPreviewPane.Select",null,new Error("select called on unknown item")):(n.selected=!0,this._selectedItem=n,this._selectedItemIndex=r,this.render(),i=_ge(n.id),i&&(i.focus(),this._page.scrollToElement(i,this._scrollArea,this._scrollArea.offsetHeight)))))},f.prototype.onAfterKeyDown=function(t,i){return n.isContextMenuKey(t,i.shiftKey)?(this._contextMenuHandler(this._previewedSuggestion,null,this._selectedItem),!0):!1},f.prototype.selectFirstOrLastItem=function(n){var t=this.getSelectableItems(),i;t.length!=0&&(i=n?0:t.length-1,this.select(t[i],!1))},f.prototype.getDataModel=function(){if(this._previewedSuggestion){var n=this._previewedSuggestion.uninstallationInProgress?{messageText:this._host.getLocString("UninstallationInProgress",HitHighlightingParser.removeMarkers(this._previewedSuggestion.text))}:null;return{suggestion:this._previewedSuggestion,sections:this._sections,suggestionClickHandler:this._suggestionClickEventHandler,itemClickHandler:this._itemClickEventHandler,contextMenuClickHandler:this._contextMenuHandler,settingsOnlineModules:this._settingsOnlineModules,messageDataModel:n}}return null},f.prototype.render=function(){this._page.updatePreviewContainerView(this.getDataModel());this._previewedSuggestion&&(this._timestampFirstRender||(this._timestampFirstRender=n.getCurrentTime()),this.instrumentIfAllSectionsRetrieved())},f.prototype.instrumentIfAllSectionsRetrieved=function(){this._previewedSuggestion&&this._allSectionsRetrieved()&&this.instrumentOnPreviewPaneRendered(!0,!1)},f.prototype.delayedRender=function(){var t=this;this._renderTimer||(this._renderTimer=n.safeSetTimeout(function(){t.render();t._renderTimer=null},r,"delayedRender"))},f.prototype.getActions=function(i,r,u,f){var o=this,e;if(f()){if(this._haveActionsBeenFetched){r();return}this._haveActionsBeenFetched=!0;e=this._previewedSuggestion;this.addToSection(this.createSyntheticAction(e),null,this._host.getLocString("ActionsSection"));t.config.settingsOnlineModuleEnabled&&t.isSetting(e.type)&&e.deviceItem&&!this._settingsOnlineModulesRetrieved?n.fetchUrlJson(this.getRelatedSearchUrl(e.deviceItem.id,t.uiLanguageCache),null,null,function(n){return o.createSettingOnlineModules(n,f)}):(this._sectionRetrieved_settingsFaq=!0,this._sectionRetrieved_settingsRelatedSettings=!0);t.getVerbsAsync("PreviewPaneExtraActions",e,t.config.rawVerbs,!0,function(n){return o.processVerbs(n,i,r,u,f)},f)}},f.prototype.processVerbs=function(n,i,r,u,f){var k=this,w,l,h,v,b,y,c,p,e;if(f()){w=this._host.getLocString("ActionsSection");l=this._previewedSuggestion;n=t.extendVerbs(n,l,this._page,this._host,function(){return k.render()});var s=-1,o=-1,a=0;for(h=0,v=n;h<v.length;h++)e=v[h],e.verb==="copy"&&(s=a),e.verb==="S_CopyFullPath"&&(o=a),a++;for(s!=-1&&o!=-1&&(e=n[o],s<o?(n.splice(o,1),n.splice(s+1,0,e)):(n.splice(s+1,0,e),n.splice(o,1))),b=function(n){if(n.verb){var t=y.createAction(n);n.getIcon&&n.getIcon(1,function(n){t.icon=n;u()});y.addToSection(t,null,w)}},y=this,c=0,p=n;c<p.length;c++)e=p[c],b(e);this.processChildSuggestions(l,i,function(){f()&&u()});this._sectionRetrieved_jumplist=!0;r()}},f.prototype.createSyntheticAction=function(i){var r=i.type=="CS",e=r?t.JumplistActionItemType.S_Install:t.JumplistActionItemType.S_Open,u="",f;return u=r?i.primaryMetadata:i.type=="PPL"&&t.windowsAccountType!=2?this._host.getLocString("OpenContact"):i.previewPaneType==1?this._host.getLocString("OpenInBrowser"):this._host.getLocString("Open"),f={verb:t.JumplistActionItemType[e],displayName:u,icon:{type:2,content:r?"&#xEA96":"&#xE8A7"},executeSync:function(){return i.click(n.getCurrentTime(),0)}},this.createAction(f,t.GroupType.JumpListSynthetic)},f.prototype.createAction=function(r,u){var f=this,e=t.JumplistActionItemType[r.verb],o={ppId:this._previewPaneId,st:u||t.GroupType.JumpListActions,vbt:e||undefined,vbr:e?undefined:r.verb};return{id:i+r.verb,text:r.displayName,click:function(i,u){var e=5;f._previewPaneViewModelParent.onBeforeItemLaunch(i,u,e,o);if(r.executeSync){n.safeExecute(function(){return r.executeSync()},"verb.executeSync",null,r.verb);f._previewPaneViewModelParent.onAfterItemLaunch(e)}else t.Promise.safeChain("verb.executeAsync",function(){return r.executeAsync()},function(){return f._previewPaneViewModelParent.onAfterItemLaunch(e)},null,null,r.verb)},icon:r.icon,selected:!1,narratorText:r.displayName,instData:o}},f.prototype.createAnnotation=function(t,i){var r=t?unescape(t.replace("file:///","")):"",u=r.indexOf("?"),f,e,o;return u!=-1&&(r=r.substr(0,u)),n.isHttpProtocol(r)||(f=r.toLocaleLowerCase(),e="https:",f.includes(e)?(u=f.indexOf(e),r=r.substr(u,r.length)):(o=/\//gi,r=r.replace(o,"\\")),r=r.replace("\\"+i,"")),r},f.prototype.processChildSuggestions=function(n,r,u){var o=this,e;if(n.previewPaneType!=1||t.RuntimeConfig.MiniSERPMode!=0){if(n.calculateChildSuggestions&&n.calculateChildSuggestions(),n.childSuggestions){var s=1,h=function(e){var h=n.childSuggestions[e],l=h.groupType==t.GroupType.JumpListTasks,a={ppId:f._previewPaneId,st:h.groupType},c={id:i+n.id+"_"+e,text:HitHighlightingParser.removeMarkers(h.text),click:function(n,t){var i=l?5:6;o._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,a);h.click(n,t);o._previewPaneViewModelParent.onAfterItemLaunch(i)},icon:h.icon,selected:!1,narratorText:h.narratorText,annotationClass:"annotation",isJumpListTaskItem:!!l,instData:a},v=void 0,y=void 0;if(!l){var w=h,b=w.jumpListItem,p=t.getGroupTitleAndNarratorText(r,f._host,h.groupType,h,null);c.tooltip=h.tooltip;v=p.title;y=p.narratorText;t.config.doubleLinePreviewJumpList?(c.annotation=f.createAnnotation(b.path,c.text),c.annotationClass+=" lastAccessedText"):c.annotation=h.additionalInfoText}h.getIcon&&h.getIcon(1,function(n){c.icon=n;t.populateImageRatio(c.icon,h.type,function(){return u()})});f.addToSection(c,v,y,l?s++:null)},f=this;for(e=0;e<n.childSuggestions.length;e++)h(e)}t.config.itemsBeforeExpander&&this.processItemsForExpander()}},f.prototype.addToSection=function(n,t,i,r){var u=this._sections.find(function(n){return(n.title||"")==(t||"")});u?typeof r=="number"?u.items.splice(r,0,n):u.items.push(n):(u={title:t,narratorText:i,items:[n],collapsedItems:[],expander:null},this._sections.push(u))},f.prototype.processItemsForExpander=function(){var n;if(this._sections.length!=0){var r=function(n,t,i){n.pi=t;i&&(n.c=1)},i=this._sections.length,u=1,f=function(n){var f=e._sections[n],o=f.items,c,l,h,a,s,v;if(n==0){for(c=!1,l=!1,h=0;h<o.length;++h)if(a=o[h],a.instData.st==t.GroupType.JumpListTasks){l=!0;break}else a.instData.st==t.GroupType.JumpListActions&&(c=!0);f.sectionType=l?t.GroupType.JumpListTasks:c?t.GroupType.JumpListActions:t.GroupType.JumpListSynthetic}else f.sectionType=f.items[0].instData.st;if(n==0)for(s=0;s<o.length;s++)s!=0&&!o[s].isJumpListTaskItem&&(i!=1||o[1].isJumpListTaskItem)&&(f.collapsedItems=o.splice(s),f.expander={id:"expander"+u++,selected:!1,text:null});else i!==n+1&&o.length>t.config.itemsBeforeExpander+1&&(f.collapsedItems=o.splice(t.config.itemsBeforeExpander),f.expander={id:"expander"+u++,selected:!1,text:null});v=0;f.items.forEach(function(n){return r(n.instData,v++,!1)});f.collapsedItems.forEach(function(n){return r(n.instData,v++,!0)})},e=this;for(n=0;n<i;n++)f(n)}},f.prototype.getLayoutDataForPPRenderedInstrumentation=function(){var t={sectionTypes:[],sectionLengths:[]},i,u,r,f,n;if(this._sections)for(i=0,u=this._sections;i<u.length;i++)n=u[i],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.items.length+n.collapsedItems.length);if(this._settingsOnlineModules)for(r=0,f=this._settingsOnlineModules;r<f.length;r++)n=f[r],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.settingLinks.length);return t.sectionTypes.length>0?t:undefined},f.prototype.onAnyOptionClick=function(n){this.select(n,!1);this.hasFocus||this.focus(!1)},f.prototype.getRelatedSearchUrl=function(t,i){return"/PPRelatedSearch?query="+n.encodeQueryParameter(t)+"&lang="+n.encodeQueryParameter(i)},f.prototype.createSettingOnlineModules=function(n,t){t()&&(this._settingsOnlineModulesRetrieved=!0,this.createSettingFaqModule(n),this.createSettingRelatedSettingsModuleAsync(n,t))},f.prototype.createSettingFaqModule=function(n){var u=this,o=this._host.getLocString("SettingsFAQModuleHeader"),i=n&&n.SettingPageQnAs,r,e;if(i&&i.length>0){var f=[],s=function(n){var r=i[n],e,o;r.Query&&r.BingIALink&&(e={ppId:h._previewPaneId,st:t.GroupType.JumpListSettingsFaq,pi:n},o={id:"faq"+n,narratorText:r.Query,selected:!1,text:r.Query,click:function(n,t){var i=9;u._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,e,0);u._host.launchUri(r.BingIALink);u._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:e},f.push(o))},h=this;for(r=0;r<i.length;++r)s(r);f.length>0&&(e={header:o,settingLinks:f,sectionType:t.GroupType.JumpListSettingsFaq},this._settingsOnlineModules.push(e),this.render())}this._sectionRetrieved_settingsFaq=!0;this.instrumentIfAllSectionsRetrieved()},f.prototype.createSettingRelatedSettingsModuleAsync=function(n,i){var r=this,f=this._host.getLocString("RelatedSettingsModuleHeader"),u=n&&n.SettingPageRelatedSettingsIds;u&&u.length>0?t.LocalDataProvider.getSettings(u,function(n){var e,s,o,h;if(i()){for(e=[],s=function(i){var s=u[i],f=n[s],o,h;f&&(o={ppId:r._previewPaneId,st:t.GroupType.JumpListSettingsRelatedSettings,pi:i},h={id:s,narratorText:f.deviceItem.displayName,selected:!1,text:f.deviceItem.displayName,click:function(n,t){var i=9;r._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,o);r._host.launchDeviceItem(f.deviceItem,"THST");r._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:o},e.push(h))},o=0;o<u.length;++o)s(o);e.length>0&&(h={header:f,settingLinks:e,sectionType:t.GroupType.JumpListSettingsRelatedSettings},r._settingsOnlineModules.push(h),r.render());r._sectionRetrieved_settingsRelatedSettings=!0;r.instrumentIfAllSectionsRetrieved()}}):(this._sectionRetrieved_settingsRelatedSettings=!0,this.instrumentIfAllSectionsRetrieved())},f}();t.WSBLocalPreviewPaneViewModel=f})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));1;1;1;1;1;
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
inputType
PuTTY_Local:*,PuTTY-Release-0.5*,PuTTY_Release_0.5*,PuTTY_Release_0.60*,PuTTY_Release_0.61*,PuTTY_Release_0.62*,PuTTY_Release_0.63*,PuTTY_Release_0.64*
PuTTY_Local:*,PuTTY-Release-0.5*,PuTTY_Release_0.5*,PuTTY_Release_0.60*,PuTTY_Release_0.61*,PuTTY_Release_0.62*,PuTTY_Release_0.63*,PuTTY_Release_0.64*
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
MTFInputType
InputType
InputType
InputType
InputType
InputType
InputType
InputTypes
InputTypes
MTFInputType
MTFInputType
MTFInputType
MTFInputType
InputType
PuTTY
SystemSettings_Accessibility_Braille_Table_InputType
SystemSettings_Accessibility_Braille_Table_OutputType
InputType
InputType
InputType
InputType
InputType
InputType
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
bOutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes8
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
bInputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
wnInputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
 %OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
PreferredByOutputType
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
bInputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
cLInputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
PreferredByOutputType
{"net":{"http_server_properties":{"servers":[{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041684757790","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041684757795","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":62357},"server":"https://pagead2.googlesyndication.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041636634558","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041636634561","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":74500},"server":"https://tpc.googlesyndication.com","supports_spdy":true},{"isolation":[],"server":"https://csm.fr.eu.criteo.net","supports_spdy":true},{"isolation":[],"server":"https://www.clarity.ms","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041581020854","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041581020861","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":66252},"server":"https://securepubads.g.doubleclick.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041636411236","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041636411239","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://s0.2mdn.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041581109684","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041581109688","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://www.googletagservices.com"},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041633129499","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041633129662","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://partner.googleadservices.com","supports_spdy":true},{"isolation":[],"server":"https://dnacdn.net","supports_spdy":true},{"isolation":[],"server":"https://gum.criteo.com","supports_spdy":true},{"isolation":[],"server":"https://dw68.uptodown.com","supports_spdy":true},{"isolation":[],"server":"https://ag.gbc.criteo.com","supports_spdy":true},{"isolation":[],"server":"https://gem.gbc.criteo.com","supports_spdy":true},{"isolation":[],"server":"https://static.criteo.net","supports_spdy":true},{"isolation":[],"server":"https://bidder.criteo.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041580435589","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041580435594","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://3c76e4b09eb4f2ccf71f02005be10757.safeframe.googlesyndication.com","supports_spdy":true},{"isolation":[],"server":"https://fr.uptodown.com","supports_spdy":true},{"isolation":[],"server":"https://cdn.cookielaw.org","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041575991560","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041575991564","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://cdn.ampproject.org","supports_spdy":true},{"isolation":[],"server":"https://putty.fr.uptodown.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[46],"expiration":"13265041574326960","port":443,"protocol_str":"quic"},{"advertised_versions":[46],"expiration":"13265041574326962","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://977857a3e2add6156fd97c33b1c50be1.safeframe.googlesyndication.com","supports_spdy":true},{"isolation":[],"server":"https://privacyportal.onetrust.com","supports_spdy":true},{"isolation":[],"server":"https://microsoftedgewelcome.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://c.clarity.ms","supports_spdy":true},{"isolation":[],"server":"https://edgewelcomecdn.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://www.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://wcpstatic.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://target.microsoft.com","supports_spdy":true},{"isolation":[],"server":"https://az725175.vo.msecnd.net","supports_spdy":true},{"isolation":[],"server":"https://ajax.aspnetcdn.com","supports_spdy":true},{"isolation":[],"server":"https://browser.events.data.msn.com","supports_spdy":true},{"isolation":[],"server":"https://www2.bing.com","supports_spdy":true},{"isolation":[],"server":"https://c.bing.com","supports_spdy":true},{"isolation":[],"server":"https://img-s-msn-com.akamaized.net","supports_spdy":true},{"isolation":[],"server":"https://ntp.msn.com","supports_spdy":true},{"isolation":[],"server":"https://arc.msn.com","supports_spdy":true},{"isolation":[],"server":"https://r.g.bing.com","supports_spdy":true},{"isolation":[],"server":"https://assets.msn.com","supports_spdy":true},{"isolation":[],"server":"https://img-prod-cms-rt-microsoft-com.akamaized.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565649658789","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://clickserve.dartsearch.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565649965027","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://ad.doubleclick.net","supports_spdy":true},{"isolation":[],"server":"https://edge.microsoft.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565717055573","host":"googleads.g.doubleclick.net","port":443,"protocol_str":"quic"},{"advertised_versions":[50],"expiration":"13265565717055574","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":93683},"server":"https://adservice.google.fr","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565750930846","port":443,"protocol_str":"quic"}],"isolation":[],"server":"https://dl.google.com","supports_spdy":true},{"isolation":[],"server":"https://www.bing.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565752024621","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":76941},"server":"https://2542116.fls.doubleclick.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565752635731","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":59135},"server":"https://adservice.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565714805814","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":102724},"server":"https://fonts.googleapis.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565720172725","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":103599},"server":"https://fonts.gstatic.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565756335477","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":61255},"server":"https://googleads.g.doubleclick.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565746955839","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":62575},"server":"https://stats.g.doubleclick.net","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565757165281","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":99996},"server":"https://tools.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565757435014","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":66944},"server":"https://www.google-analytics.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565756902869","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":61249},"server":"https://www.google.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565757297803","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":70917},"server":"https://www.google.fr","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565755065692","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":57389},"server":"https://www.googleadservices.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565716376455","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":134288},"server":"https://www.googletagmanager.com","supports_spdy":true},{"alternative_service":[{"advertised_versions":[50],"expiration":"13265565751660305","port":443,"protocol_str":"quic"}],"isolation":[],"network_stats":{"srtt":106122},"server":"https://www.gstatic.com","supports_spdy":true}],"supports_quic":{"address":"10.0.2.15","used_quic":true},"version":5},"network_qualities":{"CAESABiAgICA+P////8B":"4G"}}}
Xputty-0-74-64-bit.msi
    var inputType;
    (function (inputType) {
        inputType[inputType["readonly"] = 1] = "readonly";
        inputType[inputType["hidden"] = 2] = "hidden";
        inputType[inputType["text"] = 4] = "text";
        inputType[inputType["password"] = 8] = "password";
    })(inputType = Dom.inputType || (Dom.inputType = {}));
                    if (elementPresent(stream, (e) => ((e.tagId == Dom.tagType.input) && ((e.flags & Dom.inputType.password) != 0)))) {
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
 */!function(e){function n(n){for(var t,i,o=n[0],r=n[1],s=0,c=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&c.push(a[i][0]),a[i]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);for(d&&d(n);c.length;)c.shift()()}var t,i={},a={21:0};function o(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}Function.prototype.bind||(t=Array.prototype.slice,Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=t.call(arguments,1),i=n.length,a=this,o=function(){},r=function(){return n.length=i,n.push.apply(n,arguments),a.apply(o.prototype.isPrototypeOf(this)?this:e,n)};return this.prototype&&(o.prototype=this.prototype),r.prototype=new o,r}),document.head=document.head||document.getElementsByTagName("head")[0],function(){if(!window.Promise){e.all=function(t){return t&&t.length?new e((function(i,a){for(var o=[],r=0,s=0,c=t.length;s<c;++s){var d=t[s];d instanceof e?(r++,d.then(n(o,s,(function(){0==--r&&i(o)})),a)):o[s]=d}0===r&&setTimeout((function(){i(o)}),0)})):e.resolve([])},e.race=function(n){return new e((function(i,a){if(n&&n.length)for(var o=0,r=n.length;o<r;++o){var s=n[o];s instanceof e?s.then(i,a):setTimeout(t(i,s),0)}}))},e.reject=function(n){return new e((function(e,t){t(n)}))},e.resolve=function(n){return n instanceof e?n:n&&"function"==typeof n.then?new e((function(e,t){n.then(e,t)})):new e((function(e){e(n)}))},window.Promise=e}function e(n){var t=this,i=0,a=null,o=[];function r(){if(o.length>0){var e=o.slice();o=[],setTimeout((function(){for(var n=0,t=e.length;n<t;++n)e[n]()}),0)}}function s(e){0===i&&(a=e,i=1,r())}function c(e){0===i&&(a=e,i=2,r())}t.then=function(n,t){return new e((function(s,c){!function(n,t,s,c){o.push((function(){var o;try{o=1===i?"function"==typeof n?n(a):a:"function"==typeof t?t(a):a}catch(r){return void c(r)}o instanceof e?o.then(s,c):2===i&&"function"!=typeof t?c(o):s(o)})),0!==i&&r()}(n,t,s,c)}))},t["catch"]=function(e){return t.then(null,e)},function(){if("function"!=typeof n)throw new TypeError("Promise: argument is not a Function object");try{n(s,c)}catch(e){c(e)}}()}function n(e,n,t){return function(i){e[n]=i,t()}}function t(e,n){return function(){e(n)}}}(),o.e=function(e){var n=[],t=a[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise((function(n,i){t=a[e]=[n,i]}));n.push(t[2]=i);var r=window.ServerData,s=r&&r.loader&&r.loader.cdnRoots||[],c=r&&r.slMaxRetry?r.slMaxRetry:s.length-1,d=new Error;var l=function u(n,t){var i,r=document.createElement("script");r.charset="utf-8",r.timeout=120,o.nc&&r.setAttribute("nonce",o.nc),r.src=n,i=function(i){r.onerror=r.onload=null,clearTimeout(l);var o=a[e];if(0!==o)if(o)if(c<=0||t===c){var p=i&&("load"===i.type?"missing":i.type),g=i&&i.target&&i.target.src;d.message="Loading chunk "+e+" failed after "+(c+1)+" tries.\n("+p+": "+g+")",d.name="ChunkLoadError",d.type=p,d.request=g,o[1](d),a[e]=undefined}else{var f=u(function(e,n){if(!n)return e;for(var t=0;t<n.length;t++)if(0==e.indexOf(n[t]))return n[(t+1)%n.length]+e.substring(n[t].length);return e}(n,s),t+1);document.head.appendChild(f)}else a[e]=undefined};var l=setTimeout((function(){i({type:"timeout",target:r})}),12e4);return r.onerror=r.onload=i,r}(function(e){return o.p+"content/js/asyncchunk/convergedlogin_p"+({0:"aadfedconflict",1:"alt",2:"clienttracing",3:"confirmrecoveryusername",4:"confirmsend",5:"confirmsignup",6:"credentialpicker",7:"estslogin_accesspass",8:"estslogin_remoteloginpoll",9:"estslogin_searchorganization",10:"estslogin_signupusername",11:"estslogin_tenantdisambiguation",12:"fedconflict",13:"fedlink",14:"fetchsessionsprogress",15:"fido",16:"idpdisambiguation",17:"idpredirect",18:"idpredirectspeedbump",19:"learnmore",20:"learnmoreofflineaccount",22:"onetimecode",23:"password",24:"phonedisambiguation",25:"pop",26:"proofconfirmation",27:"prooffedconflict",28:"remoteconnectcanaryvalidation",29:"remoteconnectlocation",30:"remotengc",31:"resetpasswordsplitter",32:"tiles",33:"verticalsplittemplate",34:"viewagreement"}[e]||e)+"_"+{0:"07b2db932d8e3065166a",1:"f1d6e621220322b7760e",2:"fcd30929ab6d45e7af94",3:"899555b342f6b9f37fca",4:"bbf196f8625c89633af0",5:"f3764dbf1db4a8d8fb67",6:"946fce350e329ab434a2",7:"9af23814f7082eaca661",8:"9cd1ebf822c8846467a1",9:"2848f80eba4ecf9b4f1f",10:"9be16dbb2eb3cf27300d",11:"0ad7a8ce18196644b7b4",12:"fffd64945f45c6851941",13:"c2f5d1f725a391ee9302",14:"eb1346cbca4f5a911fda",15:"39aedd5686aea9cde3c8",16:"0caec72cd0c5843b7ddc",17:"062909c840b0c76b0ca5",18:"b6f97c19b7e0b39911b3",19:"dacdeff8327fe8d89b3e",20:"cb294b3cb22bd03fb6d7",22:"e19b8446b51ad82e4ede",23:"54cf11483adbefa6add3",24:"6ee1193b3ea126c963ed",25:"5e5b1822161da0029168",26:"ed407122a0f782014c32",27:"c308533965cb6f666ebb",28:"59caf7741800a55559fb",29:"f3a881af0e4ef54b603b",30:"401b0f0049f62e5e602f",31:"0cf2df92b203fa1367f8",32:"cebfe16ffd99a1d9282e",33:"71d91e42880f2185b3cc",34:"ef2798f2a40f49d63886"}[e]+".js"}(e),0);document.head.appendChild(l)}return Promise.all(n)},o.m=e,o.c=i,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)o.d(t,i,function(n){return e[n]}.bind(null,i));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],s=r.push.bind(r);r.push=n,r=r.slice();for(var c=0;c<r.length;c++)n(r[c]);var d=s;o(o.s=56)}([function(e,n){n.UsernameMaxLength=113,n.SATOTPV1Length=6,n.SATOTPLength=8,n.PhoneNumberConfirmationLength=4,n.OneTimeCodeDefaultLength=16,n.OneTimeCodeMaxLength=7,n.PCExperienceQS="pcexp",n.PCExperienceDisabled=n.PCExperienceQS+"=false",n.NotPreferredCredentialQs="npc",n.AnimationTimeout=700,n.Regex={PhoneNumberValidation:/^[0-9 ()[\].\-#*/+]+$/},n.ProofUpRedirectLandingView={AccountCompromised:1,RiskySession:2},n.LoginMode={None:0,Login:1,ForceCredType:3,LWAConsent:4,GenericError:5,ForceSignin:6,OTS:7,HIP_Login:8,HIP_Lockout:9,InviteBlocked:10,SwitchUser:11,LWADelegation:12,ServiceBlocked:13,IDPFailed:14,StrongAuthOTC:16,StrongAuthMobileOTC:25,Finish:27,LoginWizard_Login:28,StrongAuthWABOTC:30,LoginWizard_HIP_Login:32,LoginWizard_Finish:34,LoginMobile:36,ForceSigninMobile:37,GenericErrorMobile:38,LoginHost:39,ForceSigninHost:40,GenericErrorHost:42,StrongAuthHostOTC:43,HIP_LoginHost:45,HIP_LoginMobile:46,HIP_LockoutHost:47,HIP_LockoutMobile:48,SwitchUserHost:49,LoginXbox_Login:50,HIP_LoginXbox:51,FinishXbox:52,IfExistsXbox:53,StartIfExistsXbox:54,StrongAuthXboxOTC:55,LoginWPWiz_Login:56,LoginWPWiz_HIP_Login:57,LoginWPWiz_Finish:58,StrongAuthWizOTC:59,StrongAuthWPWizOTC:60,FinishWPWiz:61,SwitchUserMobile:62,LoginWPWiz_PhoneSignIn:63,LoginWPWiz_HIP_PhoneSignIn:64,Login_PhoneSignIn:65,Login_HIP_PhoneSignIn:66,LoginHost_PhoneSignIn:67,LoginHost_HIP_PhoneSignIn:68,LoginMobile_PhoneSignIn:69,LoginMobile_HIP_PhoneSignIn:70,LoginWizard_PhoneSignIn:71,LoginWizard_HIP_PhoneSignIn:72,LoginXbox_PhoneSignIn:73,LoginXbox_HIP_PhoneSignIn:74,LoginWin10:75,HIP_LoginWin10:76,FinishWin10:77,FinishBlockedWin10:78,LoginWin10_PhoneSignIn:79,HIP_LoginWin10_PhoneSignIn:80,FinishWin10_TokenBroker:81,SwitchUserWin10:82,ForceSignInXbox:88,LoginClientSDK_Login:92,LoginClientSDK_HIP_Login:93,LoginClientSDK_Finish:94,StrongAuthClientSDKOTC:95,FinishClientSDK:96,LoginClientSDK_PhoneSignIn:97,LoginClientSDK_HIP_PhoneSignIn:98,Win10InclusiveOOBE_Finish:99,Win10InclusiveOOBE_FinishBlocked:100,Tiles:102,RemoteConnect:103,FedConflict:105,Win10Host_Login:106,Win10Host_Login_PhoneSignin:107,Win10Host_Finish:108,Win10Host_StrongAuth:109,Win10Host_HIP_Login:110,Fido:111,Win10Host_HIP_Login_PhoneSignIn:112,FedLink:113,UserCredentialPolicyBlocked:114,BindFailed:115,Win10HostOOBE_HIP_Login:116,Win10HostOOBE_HIP_Login_PhoneSignIn:117,AadFedConflict:118,ProofFedConflict:119,FedBoundLink:120,FetchSessionsProgress:121,Win10Host_TransferLogin:122,TransferLogin:123,Signup:124},n.LoginBody={Login_OTC:5},n.SessionPullFlags={Msa:1,Dsso:2},n.PaginatedState={Previous:-1,Unknown:0,Username:1,Password:2,OneTimeCode:3,RemoteNGC:4,PhoneDisambiguation:5,LwaConsent:6,IdpDisambiguation:7,IdpRedirect:8,ViewAgreement:10,LearnMore:11,Tiles:12,ConfirmSend:13,RemoteConnectCode:14,RemoteLoginPolling:15,BindRedirect:16,TermsOfUse:17,DesktopSsoProgress:18,ResetPasswordSplitter:19,Kmsi:20,CheckPasswordType:21,ChangePassword:22,Fido:23,CredentialPicker:24,Consent:25,Error:26,ConfirmSignup:27,ConfirmRecoverUsername:28,ConfirmConsentSelection:29,FedConflict:30,ProofUpRedirect:32,ProofUpRedirectLanding:33,ConditionalAccessInstallBroker:34,ConditionalAccessWorkplaceJoin:35,ConditionalAccessError:36,CreateFido:37,FedLink:38,FedLinkComplete:40,IdpRedirectSpeedbump:41,TransferLogin:42,Cmsi:43,ProofConfirmation:44,MessagePrompt:45,FinishError:46,Hip:48,LearnMoreOfflineAccount:49,TenantDisambiguation:50,AadFedConflict:51,RemoteConnectCanaryValidation:52,PartnerCanaryValidation:53,ProofFedConflict:54,FetchSessionsProgress:55,AccessPass:56,SignupUsername:57,ReportSuspiciousApp:58,MoreInfo:59,AuthenticatorAddAccountView:60,SignupCredentialPicker:61,LoginError:62,SearchOrganization:63,Ptca:64,GuestConsent:65,RemoteConnectLocation:66,AttributeCollection:67},n.PostType={Password:11,Federation:13,SHA1:15,StrongAuth:18,StrongAuthTOTP:19,LWAConsent:30,PasswordInline:20,RemoteNGC:21,SessionApproval:22,NGC:23,OtcNoPassword:24,RemoteConnect_NativePlatform:25,OTC:27,Kmsi:28},n.UserProperty={USERNAME:"login",ERROR_CODE:"HR",ERR_MSG:"ErrorMessage",EXT_ERROR:"ExtErr",ERR_URL:"ErrUrl",DATOKEN:"DAToken",DA_SESKEY:"DASessionKey",DA_START:"DAStartTime",DA_EXPIRE:"DAExpires",STS_ILFT:"STSInlineFlowToken",SIGNINNAME:"SigninName",FIRST_NAME:"LastName",LAST_NAME:"FirstName",TILE_URL:"TileUrl",CID:"CID",PUID:"PUID"},n.Error={S_OK:"0",InvalidRealmDiscLogin:10,UsernameInvalid:1e3,PasswordEmpty:1001,HIPEmpty:1002,AltEmailInvalid:1005,PhoneInvalid:1006,SAContainsName:1007,OTCEmpty:1009,OTCInvalid:1010,NotEnoughProofs:1013,PhoneEmpty:1015,FedUser:1016,FedUserConflict:1017,FedUserInviteBlocked:1018,EmptyFields:1020,PhoneHasSpecialChars:1021,AutoVerifyNoCodeSent:1022,ProofConfirmationEmpty:1023,ProofConfirmationInvalid:1024,TOTPInvalid:1025,SessionNotApproved:1026,PhoneNumberInvalid:1027,PhoneFormattingInvalid:1028,PollingTimedOut:1029,SendNotificationFailed:1030,Server_MessageOnly:9999,PP_E_DB_MEMBERDOESNOTEXIST:"CFFFFC15",PP_E_EXCLUDED:"80041010",PP_E_MEMBER_LOCKED:"80041011",PP_E_BAD_PASSWORD:"80041012",PP_E_MISSING_MEMBERNAME:"80041031",PP_E_MISSING_PASSWORD:"80041032",PP_E_FEDERATION_INLINELOGIN_DISALLOWED:"800478AC",PP_E_PE_RULEFALSE:"8004490C",PP_E_MOBILECREDS_PHONENUMBER_BLANK:"80045801",PP_E_MOBILECREDS_PHONENUMBER_TOOSHORT:"80045806",PP_E_MOBILECREDS_PHONENUMBER_TOOLONG:"80045807",PP_E_MOBILECREDS_PHONENUMBER_INVALID:"80045800",PP_E_NAME_BLANK:"80041100",PP_E_EMAIL_INCOMPLETE:"8004110D",PP_E_EMAIL_INVALID:"8004110B",PP_E_NAME_TOO_SHORT:"80041101",PP_E_NAME_INVALID:"80041103",PP_E_INVALIDARG:"80048388",PP_E_SA_TOOSHORT:"80041120",PP_E_SA_TOOLONG:"80041121",PP_E_INVALID_PHONENUMBER:"8004113F",PP_E_SECRETQ_CONTAINS_SECRETA:"80041165",PP_E_SECRETA_CONTAINS_SECRETQ:"8004117D",PP_E_SA_CONTAINS_MEMBERNAME:"8004116A",PP_E_STRONGPROCESS_ALTEMAILSAMEASMAILBOX:"80049C2D",PP_E_EMAIL_RIGHT_TOO_LONG:"8004110C",PP_E_NAME_TOO_LONG:"80041102",PP_E_ALIAS_AUTH_NOTPERMITTED:"8004788B",PP_E_TOTP_INVALID:"80049C34",PP_E_OLD_SKYPE_PASSWORD:"80043557",PP_E_OTT_DATA_INVALID:"8004348F",PP_E_OTT_ALREADY_CONSUMED:"80043490",PP_E_OTT_INVALID_PURPOSE:"80043496",PP_E_PPSA_RPT_NOTOADDRESS:"80048120",PP_E_STRONGPROCESS_BADDEVICENAME:"80049C22",PP_E_INLINELOGIN_INVALID_SMS:"800434E1",PP_E_INLINELOGIN_INVALID_ALT:"800434E2",PP_E_PREVIOUS_PASSWORD:"80041013",PP_E_HIP_VALIDATION_WRONG:"80045505",PP_E_HIP_VALIDATION_ERROR_FATAL:"80045537",PP_E_HIP_VALIDATION_ERROR_UNAUTHENTICATED:"80045538",PP_E_HIP_VALIDATION_ERROR_OTHER:"80045539",PP_E_SQ_CONTAINS_PASSWORD:"8004341E",PP_E_SA_CONTAINS_PASSWORD:"8004341C",PP_E_SA_CONTAINED_IN_PASSWORD:"8004341D",PP_E_LIBPHONENUMBERINTEROP_NUMBERPARSE_EXCEPTION:"80043510",PP_E_STRONGPROCESS_EMAIL_HAS_MOBILE_DOMAIN:"80049C33",PP_E_STRONGPROCESS_MXALIAS_NOTALLOWED:"80049C23",PP_E_INVALID_MEMBERNAME:"80041034",PP_E_SA_TOO_MANY_CACHE_SESSIONS:"8004A00C",PP_E_INTERFACE_DISABLED:"80043448",PP_E_ASSOCIATE_DUPLICATE_ACCOUNT:"80043534",PP_E_OAUTH_REMOTE_CONNECT_USER_CODE_MISSING_OR_INVALID:"800478C7",PP_E_LOGIN_NOPA_USER_PASSWORD_REQUIRED:"800478CE",PP_E_IDP_LINKEDIN_BINDING_NOT_ALLOWED:"800478D5",PP_E_IDP_GOOGLE_BINDING_NOT_ALLOWED:"800478D6",PP_E_IDP_GITHUB_BINDING_NOT_ALLOWED:"800478D7",PP_E_IDP_BINDING_EXISTS_SAMSUNG:"8004453E"},n.EstsError={UserAccountSelectionInvalid:"16001",UserUnauthorized:"50020",UserUnauthorizedApiVersionNotSupported:"500201",UserUnauthorizedMsaGuestUsersNotSupported:"500202",UserAccountNotFound:"50034",UserAccountDeleted:"500341",UserAccountNotFoundNotConfiguredForRemoteNgc:"500342",UserAccountNotFoundFailedToCreateRemoteSignIn:"500343",UserAccountNotFoundForFidoSignIn:"500344",IdsLocked:"50053",InvalidPasswordLastPasswordUsed:"50054",InvalidPasswordExpiredPassword:"50055",InvalidPasswordNullPassword:"50056",UserDisabled:"50057",FlowTokenExpired:"50089",InvalidUserNameOrPassword:"50126",InvalidDomainName:"50128",ProtectedKeyMisuse:"50141",MissingCustomSigningKey:"50146",IdpLoopDetected:"50174",InvalidOneTimePasscode:"50181",ExpiredOneTimePasscode:"50182",OneTimePasscodeCacheError:"50183",OneTimePasscodeEntryNotExist:"50184",InvalidPassword:"50193",InvalidGrantDeviceNotFound:"700003",SsoArtifactExpiredDueToConditionalAccess:"70044",InvalidTenantName:"90002",InvalidTenantNameEmptyGuidIdentifier:"900021",InvalidTenantNameEmptyIdentifier:"900022",InvalidTenantNameFormat:"900023",PhoneSignInBlockedByUserCredentialPolicy:"130500",AccessPassBlockedByPolicy:"130502",InvalidAccessPass:"130503",AccessPassExpired:"130504",AccessPassAlreadyUsed:"130505",PublicIdentifierSasBeginCallRetriableError:"131001",PublicIdentifierAuthUserNotAllowedByPolicy:"131010",PublicIdentifierSasBeginCallNonRetriableError:"131002",PublicIdentifierSasEndCallRetriableError:"131003",PublicIdentifierSasEndCallNonRetriableError:"131004",DeviceIsDisabled:"135011",FidoBlockedByPolicy:"135016",BlockedAdalVersion:"220300",BlockedClientId:"220400",UserVoiceAuthFailedCallWentToVoicemail:"UserVoiceAuthFailedCallWentToVoicemail",UserVoiceAuthFailedInvalidPhoneInput:"UserVoiceAuthFailedInvalidPhoneInput",UserVoiceAuthFailedPhoneHungUp:"UserVoiceAuthFailedPhoneHungUp",UserVoiceAuthFailedInvalidPhoneNumber:"UserVoiceAuthFailedInvalidPhoneNumber",UserVoiceAuthFailedInvalidExtension:"UserVoiceAuthFailedInvalidExtension",InvalidFormat:"InvalidFormat",UserAuthFailedDuplicateRequest:"UserAuthFailedDuplicateRequest",UserVoiceAuthFailedPhoneUnreachable:"UserVoiceAuthFailedPhoneUnreachable",UserVoiceAuthFailedProviderCouldntSendCall:"UserVoiceAuthFailedProviderCouldntSendCall",User2WaySMSAuthFailedProviderCouldntSendSMS:"User2WaySMSAuthFailedProviderCouldntSendSMS",SMSAuthFailedProviderCouldntSendSMS:"SMSAuthFailedProviderCouldntSendSMS",User2WaySMSAuthFailedNoResponseTimeout:"User2WaySMSAuthFailedNoResponseTimeout",SMSAuthFailedNoResponseTimeout:"SMSAuthFailedNoResponseTimeout",SMSAuthFailedWrongCodeEntered:"SMSAuthFailedWrongCodeEntered",OathCodeIncorrect:"OathCodeIncorrect",OathCodeDuplicate:"OathCodeDuplicate",OathCodeOld:"OathCodeOld",PhoneAppNoResponse:"PhoneAppNoResponse",User2WaySMSAuthFailedWrongCodeEntered:"User2WaySMSAuthFailedWrongCodeEntered",PhoneAppInvalidResult:"PhoneAppInvalidResult",PhoneAppDenied:"PhoneAppDenied",PhoneAppTokenChanged:"PhoneAppTokenChanged",SMSAuthFailedMaxAllowedCodeRetryReached:"SMSAuthFailedMaxAllowedCodeRetryReached",PhoneAppFraudReported:"PhoneAppFraudReported",FraudCodeEntered:"FraudCodeEntered",UserIsBlocked:"UserIsBlocked",PhoneAppEntropyIncorrect:"PhoneAppEntropyIncorrect"},n.Fido={MaxUserPromptLength:99,FinishStates:{Success:0,Cancel:1,Error:2,NotSupported:3},UnexpectedErrorCode:9999,EdgeErrorCodes:{SyntaxError:3,NotFoundError:8,NotSupportedError:9,InvalidAccessError:15,AbortError:20}},n.IfExistsResult={Unknown:-1,Exists:0,NotExist:1,Throttled:2,Error:4,ExistsInOtherMicrosoftIDP:5,ExistsBothIDPs:6},n.ThrottleStatus={NotThrottled:0,AadThrottled:1,MsaThrottled:2},n.DomainType={Unknown:1,Consumer:2,Managed:3,Federated:4,CloudFederated:5},n.CredentialType={Password:1,RemoteNGC:2,OneTimeCode:3,Federation:4,CloudFederation:5,OtherMicrosoftIdpFederation:6,Fido:7,GitHub:8,PublicIdentifierCode:9,LinkedIn:10,RemoteLogin:11,Google:12,AccessPass:13,Facebook:14,Certificate:15,NoPreferredCredential:1e3},n.RemoteNgcType={PushNotification:1,ListSessions:3},n.SessionPollingType={Image:1,Json:2},n.AgreementType={Privacy:"privacy",Tou:"tou",Impressum:"impressum"},n.ApiErrorCodes={GeneralError:6e3,AuthFailure:6001,InvalidArgs:6002,Generic:8e3,Timeout:8001,Aborted:8002},n.DefaultRequestTimeout=3e4,PROOF={Type:{Email:1,AltEmail:2,SMS:3,DeviceId:4,CSS:5,SQSA:6,HIP:8,Birthday:9,TOTPAuthenticator:10,RecoveryCode:11,StrongTicket:13,TOTPAuthenticatorV2:14,TwoWayVoice:15,TwoWaySMS:16,FidoKey:17,Voice:-3}},n.ContentType={Json:"application/json; charset=utf-8",FormUrlEncoded:"application/x-www-form-urlencoded"},n.BindProvider={LinkedIn:0,GitHub:1,Google:2,Samsung:3,Facebook:4},n.PromotedAltCredFlags={None:0,GitHub:1,LinkedIn:2},n.EnvironmentName={Internal:1,TestSlice:2,FirstSlice:3},n.AnimationState={Begin:0,End:-1,RenderNewView:1,AnimateNewView:2},n.AnimationName={None:0,SlideOutNext:1,SlideInNext:2,SlideOutBack:3,SlideInBack:4},n.DialogId={None:0,FidoHelp:1,GitHubHelp:2,ConsentAppInfo:3},n.KeyCode={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowUp:38,ArrowDown:40,WinKeyLeft:91,F6:117,GamePadB:196},n.ProofOfPossession={AuthenticatorKey:"cpa",CanaryTokenKey:"canary",MethodHint:"cpa_method_hint"},n.UpgradeMigrationUXId={Invalid:0,Mojang:1},n.TransferLoginStringsVariant={Default:0,Mmx:1,MmxPhoneFirst:2,AppNameOnly:3,AppNameAndUsername:4},n.LayoutTemplateType={Lightbox:0,VerticalSplit:1},n.LayoutTemplateHorizontalPosition={Left:0,Center:1,Right:2},n.ProofUpRedirectViewType={DefaultProofUpRedirectView:0,AuthAppProofUpRedirectView:1}},function(e,n,t){var i=t(26),a=t(3),o=t(5),r=t(10),s=a.Object,c=a.String,d=a.Array,l=window,u=null,p={},g={},f={},m=null,h=null,v=null,b=null,_=null,S=null,y=null,w=null,T=!!l.ServerData.BR,C=null;n.HttpCode={Ok:200,NotModified:304,Timeout:408,ClientClosedRequest:499};var x=n.Helper={isIEOlderThan:function(e){if(p[e]===undefined){var n=x.getIEVersion();p[e]=n&&n<e+1}return p[e]},isEdge:function(){if(null===u){u=!1;var e=x.getWindowsVersion();if(null!==e&&e>=10){var n=x.getIEVersion();u=null!==n&&n>=12}}return u},isChrome:function(){return null===m&&(m=navigator.userAgent.toLowerCase().indexOf("chrome")>-1),m},isFirefoxNewerThan:function(e){if(g[e]===undefined){var n=x.getFirefoxVersion();g[e]=n&&n>e}return g[e]},isChromeNewerThan:function(e){if(f[e]===undefined){var n=x.getChromeVersion();f[e]=n&&n>e}return f[e]},isIOSSafari:function(){if(null===h){var e=l.navigator.userAgent.toLowerCase();h=/safari/.test(e)&&/iphone|ipod|ipad/.test(e)&&!l.MSStream}return h},isIOSUIWebView:function(){if(null===v){var e=l.navigator.userAgent.toLowerCase();v=!1===/safari/.test(e)&&/iphone|ipod|ipad/.test(e)&&!l.MSStream}return v},isQtCarBrowser:function(){return null===b&&(b=navigator.userAgent.toLowerCase().indexOf("qtcarbrowser")>-1),b},isEdgeClientBrowser:function(){return null===_&&(_=navigator.userAgent.toLowerCase().indexOf("edgeclient/")>-1),_},isOnTouchStartEventSupported:function(){return"ontouchstart"in document.documentElement},getIEVersion:function(){var e=l.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):null},getFirefoxVersion:function(){var e=l.navigator.userAgent.match(/(firefox(?=\/))\/?\s*(\d+)/i);return e&&3===e.length&&"firefox"===e[1].toLowerCase()?parseInt(e[2]):null},getChromeVersion:function(){var e=l.navigator.userAgent.match(/(chrome(?=\/))\/?\s*(\d+)/i);return e&&3===e.length&&"chrome"===e[1].toLowerCase()?parseInt(e[2]):null},getWindowsVersion:function(){return null!==new RegExp("Windows NT ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?parseFloat(RegExp.$1):null},htmlEscape:function(e){if(!e)return"";var n=document.createElement("textarea");return n.innerText=e,n.innerHTML},htmlUnescape:function(e){if(!e)return"";if(e.match(/<[^<>]+>/))return e;var n=document.createElement("textarea");return n.innerHTML=e,n.value},getStackSize:function(e){var n=0,t=null==e;try{!function i(){n++,(t||n<=e)&&i()}()}catch(i){}return n},getAnimationEndEventName:function(){var e=document.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var t in n)if(e.style[t]!==undefined)return n[t];return""},isStackSizeGreaterThan:function(e){return e=e||0,x.getStackSize(e)>e},isSvgImgSupported:function(){return null===C&&(C=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")),C},isPlaceholderAttributeAllowed:function(e){return null===y&&(y=x.isChromeNewerThan(16)||x.isEdge()||x.isFirefoxNewerThan(14)||e&&x.isIOSUIWebView()||x.isIOSSafari()||x.isQtCarBrowser()),y},isCSSAnimationSupported:function(){var e=!1,n=document.createElement("div");(e=n.style.animationName!==undefined)||(e=!!d.first(["Webkit","Moz","O"],(function(e){return n.style[e+"AnimationName"]!==undefined})));return e},isStyleSupported:function(e){return e in document.documentElement.style},isCORSSupported:function(){return l.XDomainRequest||l.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest},isHistorySupported:function(){if(null===w){if(w=l.history&&l.history.pushState&&"undefined"!=typeof l.history.state&&"undefined"!=typeof l.onpopstate)try{l.history.replaceState("__history_test",""),("__history_test"!==l.history.state||x.isEdgeClientBrowser())&&(w=!1)}catch(e){w=!1}}return w},isFidoSupportedAsync:function(e){return l.navigator.credentials!==undefined&&l.navigator.credentials.create!==undefined&&l.navigator.credentials.get!==undefined&&l.PublicKeyCredential!==undefined&&l.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable!==undefined?l.PublicKeyCredential.isExternalCTAP2SecurityKeySupported?r.newPromiseWithTimeout(l.PublicKeyCredential.isExternalCTAP2SecurityKeySupported,i.PromiseTimeout,!1):o.resolve(e):o.resolve(!1)},isChangingInputTypeSupported:function(){return!x.isIEOlderThan(9)},isHighContrast:function(){if(null===S){var e=document.createElement("span");e.style.borderLeftColor="red",e.style.borderRightColor="blue",e.style.position="absolute",e.style.top="-999px",document.body.appendChild(e);var n=x.getComputedStyle(e);S=n.borderLeftColor===n.borderRightColor,document.body.removeChild(e)}return S},getHighContrastTheme:function(){if(x.isHighContrast()){var e=document.getElementsByTagName("body")[0],n=x.getComputedStyle(e);if(n.backgroundColor){var t=n.backgroundColor.toLowerCase().replace(new RegExp(" ","g"),"");if("rgb(0,0,0)"===t||"#000000"===t||"#000"===t)return"black";if("rgb(255,255,255)"===t||"#ffffff"===t||"#fff"===t)return"white"}}},getComputedStyle:function(e){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle?e.currentStyle:{}},history:{pushState:function(e,n){x.isHistorySupported()&&l.history.pushState(e,n)},replaceState:function(e,n){x.isHistorySupported()&&l.history.replaceState(e,n)}},addEventListener:function(e,n,t,i){e.addEventListener?e.addEventListener(n,t,i):e.attachEvent&&e.attachEvent("on"+n,t)},removeEventListener:function(e,n,t,i){e.removeEventListener?e.removeEventListener(n,t,i):e.detachEvent&&e.detachEvent("on"+n,t)},getEventTarget:function(e){return e?e.target?e.target:e.srcElement?e.srcElement:null:null}},I=n.QueryString={parse:function(e){var n=e,t=null,i=null;if(e){var a=e.indexOf("?"),o=e.indexOf("#");-1!==o&&(-1===a||o<a)?(n=e.substring(0,o),i=c.doubleSplit(e.substring(o+1),"&","=")):-1!==a&&-1===o?(n=e.substring(0,a),t=c.doubleSplit(e.substring(a+1),"&","=")):-1!==a&&-1!==o&&(n=e.substring(0,a),t=c.doubleSplit(e.substring(a+1,o),"&","="),i=c.doubleSplit(e.substring(o+1),"&","="))}return{originAndPath:n,query:t,fragment:i}},join:function(e){var n=e.originAndPath||"";return e.query&&(n+="?"+s.join(e.query,"&","=")),e.fragment&&(n+="#"+s.join(e.fragment,"&","=")),n},appendCurrentQueryParameterIfNotExist:function(e){var n=I.parse(window.location.href);return s.forEach(n.query,(function(n,t){e=I.addIfNotExist(e,n,t)})),e},append:function(e,n){var t=I.parse(e),i=c.doubleSplit(n,"&","=");return t.query=t.query||{},s.forEach(i,(function(e,n){t.query[e]=n||null})),I.join(t)},addIfNotExist:function(e,n,t){t=t||"";var i=I.parse(e);return null===s.findOwnProperty(i.query||{},n,!0)&&(i.query=i.query||{},i.query[n.toLowerCase()]=t),I.join(i)},add:function(e,n){var t=I.parse(e);return e&&n&&n.length&&(t.query=t.query||{},d.forEach(n,(function(e){t.query[e[0]]=e[1]}))),I.join(t)},appendOrReplace:function(e,n,t,i){var a=I.parse(e);a.query=a.query||{};var o=s.findOwnProperty(a.query,n,!0);o&&delete a.query[o],a.query[n.toLowerCase()]=t;var r=I.join(a);return i&&r.length>i?e:r},remove:function(e,n){var t=I.parse(e);t.query=t.query||{};var i=s.findOwnProperty(t.query,n,!0);return i&&delete t.query[i],I.join(t)},extract:function(e,n){n||""===n||(n=document.location.search);var t=I.parse(n);t.query=t.query||{};var i=s.findOwnProperty(t.query,e,!0);return i?t.query[i]:""},appendOrReplaceFromCurrentUrl:function(e,n){var t=I.extract(n);return t?I.appendOrReplace(e,n,t):e},stripQueryStringAndFragment:function(e){return I.parse(e).originAndPath}},k=n.Cookies={expireDate:"Thu, 30-Oct-1980 16:00:00 GMT",persistTTLDays:390,cookieSafeRegex:/^[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]+$/,enabled:function(){var e="G"+(new Date).getTime();k.write("CkTst",e);var n=!!k.getCookie("CkTst");return k.remove("CkTst"),n},getCookie:function(e){var n=c.doubleSplit(document.cookie,";","=",!1,c.trim);return n[e]?n[e]:null},getObject:function(e){var n=k.getCookie(e)||"";return c.doubleSplit(n,"&","=")},remove:function(e,n,t){var i=n||document.location.hostname,a=i.split("."),o=a.length,r=a[o-2]+"."+a[o-1],s=t||"/",d="https:"===document.location.protocol,l=d?";secure":"",u=k.getDefaultSameSiteAttribute(d);document.cookie=c.format("{0}= ;domain=.{1};path={2};expires={3}{4}{5}",e,r,s,k.expireDate,l,u),document.cookie=c.format("{0}= ;domain=.{1};path={2};expires={3}{4}{5}",e,i,s,k.expireDate,l,u)},write:function(e,n,t,i,a,o,r,s){var c=o?".":"",d=document.domain.split(".");a&&d.splice(0,Math.max(0,d.length-2));var l=c+d.join(".");k.writeWithExpiration(e,n,t,i?k.getPersistDate():null,l,r,s)},writeWithExpiration:function(e,n,t,i,a,o,r){if(""===n)k.remove(e,a);else{"object"==typeof n&&(n=s.join(n,"&","="));var d,l=i?";expires="+i:"",u=a?";domain="+a:"",p=o||"/",g=t?";secure":"";d=r&&"none"!==r.toLowerCase()?";SameSite="+r:k.getDefaultSameSiteAttribute(t);var f=c.format("{0}={1}{2};path={3}{4}{5}{6}",e,n,u,p,l,g,d);document.cookie=f}},isCookieSafeValue:function(e){return k.cookieSafeRegex.test(e)},getDefaultSameSiteAttribute:function(e){return e&&T?";SameSite=None":""},getPersistDate:function(){var e=new Date;return e.setDate(e.getDate()+k.persistTTLDays),e.toUTCString()}}},function(e,n,t){var i=window,a=i.document.documentMode,o=i.navigator;!function(){var n=null,r=o.userAgent,s=null,c=r.match(/MSIE ([^ ]+)/);if(c&&(n=parseInt(c[1])),"function"==typeof i.Symbol&&r.match(/AppleWebKit\/601/)&&(i.Symbol=null),n&&a&&n!==a&&Object.defineProperty)try{Object.defineProperty(o,"userAgent",{get:function(){return s}}),s=r.replace(/MSIE [^ ]+/,"MSIE "+a+".0"),e.exports=t(16),s=r}catch(d){e.exports=t(16)}else e.exports=t(16)}()},function(e,n,t){var i=t(2),a=t(12),o=t(60),r=window,s=n.Object={clone:function(e){var n={};return e&&(n=a.parse(a.stringify(e))),n},join:function(e,n,t){var i="";return e&&s.forEach(e,(function(e,a){i&&(i+=n),i+=e+t+(a||"")})),i},forEach:function(e,n){i.utils.objectForEach(e,n)},findOwnProperty:function(e,n,t){var i;for(var a in t&&(i=n.toLowerCase()),e)if(e.hasOwnProperty(a)&&(a===n||t&&a.toLowerCase()===i))return a;return null},extend:i.utils.extend},c=n.String={trim:function(e){return e.replace(/^\s+|\s+$/g,"")},find:function(e,n,t,i){return e?t?e.toLowerCase().indexOf(n.toLowerCase(),i):e.indexOf(n,i):-1},format:o.format,doubleSplit:function(e,n,t,i,a){var o={};return e&&d.forEach(e.split(n),(function(e){if(e){var n=e.split(t),r=n[0];a&&(r=a(r)),1===n.length?o[r]=null:o[r]=i?n.slice(1):n.slice(1).join(t)}})),o},isEmailAddress:function(e){if((e=c.trim(e)).charAt(0)>"~"||-1!==e.indexOf(" "))return!1;var n=e.indexOf("@");if(-1===n||-1===e.indexOf(".",n))return!1;var t=e.split("@");if(t.length>2||t[0].length<1||t[1].length<2)return!1;if(r.ServerData.aP){var i=new RegExp(/^[\x21-\x7E]+$/);return!!e.match(i)}return!0},isPhoneNumber:function(e){var n=e.replace(/\D+/g,"");return n.length>=4&&n.length<=50},isSkypeName:function(e){e=c.trim(e);var n=new RegExp(/^[a-zA-Z][a-zA-Z0-9.,\-_:']{0,128}$/);return!!e.match(n)},extractDomain:function(e,n,t){if(!c.isEmailAddress(e))return e;var i=c.trim(e).split("@")[1];return e=t?"@":"",n?e+i.slice(0,i.lastIndexOf(".")+1):e+i},extractDomainFromUrl:function(e){if(e){var n=document.createElement("a");return n.href=e,n.hostname}return""},extractOriginFromUrl:function(e){if(e){var n=document.createElement("a");n.href=e;var t=n.origin;return t||(t=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")),t}return""},doOriginsMatch:function(e,n){var t=c.extractOriginFromUrl(e);return c.extractOriginFromUrl(n)===t},capFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},cleanseUsername:function(e,n){if(!e)return"";if(e=c.trim(e).toLowerCase(),!c.isEmailAddress(e)&&!c.isSkypeName(e)&&c.isPhoneNumber(e)){var t="";return n&&"+"===e.charAt(0)&&(t="+"),t+e.replace(/\D+/g,"")}return e},maskString:function(e,n){if(!e)return"";if(e.length<=2*n)return e;var t=e.length-2*n,i=Array(t+1).join("*");return e.substring(0,n)+i+e.substring(n+t)}},d=n.Array={first:i.utils.arrayFirst,forEach:i.utils.arrayForEach,map:i.utils.arrayMap,removeItem:i.utils.arrayRemoveItem,arrayFilter:i.utils.arrayFilter,findIndex:function(e,n){if(e&&"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}};n.DateTime={getCurrentTime:function(){return(new Date).getTime()},getUTCString:function(){return Date.prototype.toISOString?(new Date).toISOString():(new Date).toUTCString()}},n.ErrorData=function(e,n){var t=this;t.errorText=e,t.remediationText=n,t.toString=function(){return t.errorText}}},function(e,n,t){var i=t(2);n.create=function(e){var n,t=!1;function a(){return t=!0,a.eventArgs(Array.prototype.slice.call(arguments)),n}return a.eventArgs=i.observable().extend({notify:"always"}),a.tracingOptions=e,a.subscribe=function(e){a.eventArgs.subscribe((function(t){n=e(t)})),t&&(n=e(a.eventArgs.peek()))},a},n.isComponentEvent=function(e){return e&&i.isObservable(e.eventArgs)}},function(e,n,t){var i=window;e.exports=i.Promise},function(e,n){n.Tokens={Username:"#~#MemberName_LS#~#"},n.Fed={DomainToken:"#~#partnerdomain#~#",FedDomain:"#~#FederatedDomainName_LS#~#",Partner:"#~#FederatedPartnerName_LS#~#"},n.LoginOption={DoNotRemember:0,RememberPWD:1,NothingChecked:3},n.StringsVariantId={Default:0,SkypeMoveAlias:1,CombinedSigninSignup:2,CombinedSigninSignupDefaultTitle:3,RemoteConnectLogin:4,CombinedSigninSignupV2:5,CombinedSigninSignupV2WelcomeTitle:6},n.AllowedIdentitiesType={MsaOnly:0,AadOnly:1,Both:2},n.SessionIdp={Aad:0,Msa:1},n.ClientTracingEventIds={Event_LoginPaginatedUsernameView_onLoad:11e4,Event_LoginPaginatedPasswordView_onLoad:110001,ComponentEvent_LoginPaginatedUsernameView_onShowDialog:12e4,ComponentEvent_LoginPaginatedUsernameView_onAgreementClick:120001,ComponentEvent_LoginPaginatedPasswordView_onResetPassword:120100,PropertyValue_LoginPaginatedPageView_IsFidoSupported:14e4,PropertyValue_LoginPaginatedUsernameView_Username:140100,PropertyValue_LoginPaginatedUsernameView_ClientError:140101,PropertyValue_LoginPaginatedPasswordView_Password:140200,PropertyValue_LoginPaginatedPasswordView_ClientError:140201,PropertyValue_LoginPaginatedPasswordView_KMSI:140202}},function(e,n){n.EventIds={Unknown:0,Event_PaginationControl_ViewSwitch:1e4,Api_GetOneTimeCode:2e4,Api_GetOneTimeToken:20001,Api_CanaryValidation:20002,Api_GetCustomCss:20003,Api_GetCredentialType:20004,Api_CheckSessionState:20005,Api_GetIwaSsoToken:20006,Api_OtcAuthentication:20007,Api_DeviceAuthentication:20008,Api_BeginOtcAuthentication:20009,Api_ConfirmOneTimeCode:20010,Api_BeginSessionApproval:20011,Api_EndSessionApproval:20012,Api_Forget:20013,Redirect_Unknown:4e4,Redirect_MSASignUpPage:40001,Redirect_AADSignUpPage:40002,Redirect_SkipZeroTouch:40003,Redirect_ResetPasswordPage:40004,Redirect_MSAUserRecoveryPage:40005,Redirect_OtherIdpRedirection:40006,Redriect_SwitchUser:40007},n.EventLevel={None:0,Critical:1,Info:2,ApiRequest:4,CXH:8,Debug:16,Verbose:32,All:65535},n.HidingMode={None:0,Hide:1,Mask:2},n.DataPointScope={ClientEvent:1,Global:2},n.EventStage={None:0,Begin:1,End:2}},function(e,n,t){var i=t(2),a=t(1),o=window,r=a.Helper;function s(e,n,t){var i=this,a=e.hasDarkBackground;i.isHighContrastBlackTheme=!1,i.isHighContrastWhiteTheme=!1,i.hasDarkBackground=a,i.lightImageNode=n,i.darkImageNode=t,function(){if(r.isHighContrast()){var e=r.getHighContrastTheme();i.isHighContrastBlackTheme="black"===e,i.isHighContrastWhiteTheme="white"===e}}()}i.components.register("accessible-image-control",{viewModel:{createViewModel:function(e,n){var t=i.utils.arrayFilter(n.templateNodes,(function(e){return 1===e.nodeType}));return new s(e,t[0],t[1])}},template:t(274),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)}),e.exports=s},function(e,n,t){var i=t(12),a=t(21),o=t(0),r=t(3),s=t(1),c=t(13).getInstance(window.ServerData),d=t(7),l=window,u=l.$Config||l.ServerData||{},p=r.Object,g=s.QueryString;e.exports=function(e){var n=this,t=!1!==(e=e||{}).checkApiCanary,r=e.withCredentials||!1,s=e.breakCache||!1,l=e.responseType||"",f=e.notifyOnClientAbort||!1;function m(e){var n={hpgid:u.hpgid||0,hpgact:u.hpgact||0};return e||(n.Accept="application/json",t&&u.apiCanary&&(n.canary=u.apiCanary)),u.n&&(n["client-request-id"]=u.n),u.sessionId&&(n.hpgrequestid=u.sessionId),n}function h(e){var n=e;if(e&&"string"!=typeof e){var t={};p.forEach(e,(function(e,n){"unsafe_"===e.substr(0,7)&&(e=e.substr(7)),t[e]=n})),n=i.stringify(t)}return n&&(n=n.replace(/\?/g,"\\u003F")),n}function v(e){e.headers=m(),e.withCredentials=r,e.breakCache=s,e.responseType=l}function b(e,n,t,i,a,o){var r=null;if(n){var s=n.eventOptions||{};if(s.eventId=n.eventId||s.eventId,s.hasOwnProperty("hidingMode")||(s.hidingMode=d.HidingMode.None),s.eventId){(r={}).eventType=t,r.eventId=s.eventId,r.eventLevel=s.eventLevel||d.EventLevel.ApiRequest;var l={};l.requestTimeout=i,a&&(l.contentType=a),l.requestType=t,o&&(l.noCallback=!0),r.eventArgs=l,r.eventOptions=s,c.traceBeginRequest(e,r)}}e.eventData=r}function _(e,n,t,i,a){c.traceEndRequest(e,n,t,i,a)}function S(e,n){var t={};return e&&(t.xhr_status=e.status),t.textStatus=n,t}n.Errors=[],n.Json=function(e,a,r,s,c){var d=!(!r&&!s),l=(new Date).getTime(),p=e.url;function g(e){var t,a=(e=e||{}).error||null,o={startTime:l,endTime:(new Date).getTime()};if(e.apiCanary&&(u.apiCanary=e.apiCanary,delete e.apiCanary),a){t=(t=a.stackTrace)&&t.encodeJson?t.encodeJson():"";var c=i.stringify({code:a.code,message:a.message,debug:a.debugMessage,stacktrace:t,requestUrl:p});n.Errors.push(c),n.Errors.length>100&&n.Errors.shift(),(8002!==a.code||f)&&s&&s(e,o)}else r&&r(e,o)}if(t&&!u.apiCanary)return setTimeout((function(){g({error:{code:8002,message:"Request Failed!",isFatal:!0}})}),0),null;var m=h(a);n.Post(e,o.ContentType.Json,m,(function(e,n){d&&g(i.parse(n))}),(function(e,n,t,a){d&&g(function(e,n){var t={};if(500===e.status)try{t=i.parse(e.responseText)||{}}catch(s){}if(!t.error){var a=!1,o=8e3,r="Request Failed -- No Response from Server";switch(n){case"timeout":o=8001,r="Timeout Error",a=!0;break;case"abort":o=8002,r="Aborted";break;case"error":e.status>=400&&(a=!0);break;case"parsererror":r="Unable to parse response",a=!0}t.error={code:o,message:r,debugMessage:"(xhr status "+e.status+") xhr.responseText: "+e.responseText,stackTrace:"",isFatal:a}}return t}(n,t))}),c)},n.Post=function(e,t,i,o,r,s){var c=e.url,d={},l=!1;o||r||(l=!0),b(d,e,a.RequestType.Post,s,t,l);var u={targetUrl:c,contentType:t,data:i,requestType:a.RequestType.Post,timeout:s||3e4,successCallback:function(e,n){_(d,"Success",n,!0,(function(){o&&o(e,n)}))},failureCallback:function(e,n,t){_(d,"Failed",S(n,t),!1,(function(){r&&r(e,n,t)}))},timeoutCallback:function(e,n,t){_(d,"Timeout",S(n,t),!1,(function(){r&&r(e,n,t)}))}};v(u),a.Handler.call(n,u),n.sendRequest()},n.Get=function(e,t,i,o,r){var s=e.url,c={},d=!1;i||o||(d=!0),b(c,e,a.RequestType.Get,r,t,d);var l={targetUrl:s,contentType:t,requestType:a.RequestType.Get,timeout:r||3e4,successCallback:function(e,n){_(c,"Success",n,!0,(function(){i&&i(e,n)}))},failureCallback:function(e,n,t){_(c,"Failed",S(n,t),!1,(function(){o&&o(e,n,t)}))},timeoutCallback:function(e,n,t){_(c,"Timeout",S(n,t),!1,(function(){o&&o(e,n,t)}))}};v(l),a.Handler.call(n,l),n.sendRequest()},n.Beacon=function(e,t,i,a,o){var r=[],s=m(!0);p.forEach(s,(function(e,n){r.push([e,n])}));var c=e.url;if(c=g.add(c,r),e.url=c,navigator.sendBeacon){var d={};b(d,e,"Beacon",o,null,!1);var l=h(t),u=navigator.sendBeacon(c,l);_(d,u?"Success":"Failed",null,u,(function(){u&&i?i():!u&&a&&a()}))}else n.Json(e,t,i,a,o)}}},function(e,n,t){var i=t(5);n.throwUnhandledExceptionOnRejection=function(e){e["catch"]((function(e){var n=e;e instanceof Error||(n=new Error("Unhandled Promise rejection: "+e)),setTimeout((function(){throw n}),0)}))},n.newPromiseWithTimeout=function(e,n,t){return new i((function(a,o){i.resolve(e()).then(a,o),setTimeout((function(){a(t)}),n)}))}},function(e,n,t){var i=t(2),a=t(3),o=t(1),r=t(0),s=t(64),c=t(72),d=t(189),l=o.Helper,u=a.String,p=r.LayoutTemplateType,g=r.LayoutTemplateHorizontalPosition,f={loadTenantBranding:function(e){var n={};if(e){var t=e[0]||{},a=e[1]||{};i.utils.arrayForEach(["BoilerPlateText","UserIdLabel","TileLogo","TileDarkLogo","BannerLogo","BackgroundColor","Illustration","KeepMeSignedInDisabled","UseTransparentLightBox","CustomCss","LayoutTemplateConfig","HeaderLogo","AccessRecoveryLink","FooterTOULink","FooterTOUText","FooterPrivacyLink","FooterPrivacyText"],(function(e){n[e]=a[e]||t[e]||""})),n.TileDarkLogo||(n.TileDarkLogo=n.TileLogo)}return n},getPageBranding:function(e,n,t){var i={useDefaultBackground:!1};if(e&&(i.bannerLogoUrl=e.BannerLogo),e&&(e.BackgroundColor||e.Illustration))i.color=e.BackgroundColor,i.backgroundImageUrl=e.Illustration,i.useTransparentLightBox=e.UseTransparentLightBox,i.useImageMask=!0;else if(n&&(n.backgroundImageIndex>=0||n.backgroundLogoIndex>=0||n.backgroundColor||n.friendlyAppName))n.backgroundImageIndex>=0&&(i.backgroundImageUrl=c(u.format("./{0}.jpg",n.backgroundImageIndex)),l.isStyleSupported("backgroundSize")&&(i.smallImageUrl=c(u.format("./{0}-small.jpg",n.backgroundImageIndex)))),n.backgroundLogoIndex>=0&&(i.backgroundLogoUrl=d(u.format("./{0}.png",n.backgroundLogoIndex))),i.color=n.backgroundColor,i.friendlyAppName=n.friendlyAppName;else if(n&&n.urlLegacyBackgroundLogo)i.backgroundLogoUrl=n.urlLegacyBackgroundLogo;else if(t>=0){var a=l.isSvgImgSupported();i.backgroundImageUrl=s(u.format("./{0}.{1}",t,a?"svg":"jpg")),!a&&l.isStyleSupported("backgroundSize")&&(i.smallImageUrl=s(u.format("./{0}-small.jpg",t))),i.useDefaultBackground=!0}return i},getMergedBranding:function(e,n,t){var i;return t?i=n:(i=e,n&&(n.BannerLogo&&(i.BannerLogo=n.BannerLogo),n.BoilerPlateText&&(i.BoilerPlateText=n.BoilerPlateText),n.KeepMeSignedInDisabled&&(i.KeepMeSignedInDisabled=n.KeepMeSignedInDisabled),e.CustomCss!==n.CustomCss&&(i.CustomCss=null))),i},getLayoutTemplateConfig:function(e){var n=e.LayoutTemplateConfig;return n&&n!=={}?n:{showHeader:!1,layoutType:p.Lightbox,horizontalPosition:g.Center,hideAccessRecovery:!1,hideSignInOptions:!1,showFooter:!0,hideTOU:!1,hidePrivacy:!1}}};e.exports=f},function(module,exports){var JSON;JSON||(JSON={}),function(){"use strict";var global=Function("return this")(),JSON=global.JSON;function f(e){return e<10?"0"+e:e}JSON||(JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var n=meta[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,n){var t,i,a,o,r,s=gap,c=n[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(n,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,t=0;t<o;t+=1)r[t]=str(t,c)||"null";return a=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(o=rep.length,t=0;t<o;t+=1)"string"==typeof rep[t]&&(a=str(i=rep[t],c))&&r.push(quote(i)+(gap?": ":":")+a);else for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(a=str(i,c))&&r.push(quote(i)+(gap?": ":":")+a);return a=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,a}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,n,t){var i;if(gap="",indent="","number"==typeof t)for(i=0;i<t;i+=1)indent+=" ";else"string"==typeof t&&(indent=t);if(rep=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,n){var t,i,a=e[n];if(a&&"object"==typeof a)for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&((i=walk(a,t))!==undefined?a[t]=i:delete a[t]);return reviver.call(e,n,a)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),global.JSON=JSON,module.exports=JSON}()},function(e,n,t){var i=t(7),a=t(22),o=t(3),r=t(5);function s(e){var n,s=this,c=o.DateTime.getCurrentTime(),d=e&&e.aS&&e.AH,l=null;function u(e){return function(){if(l)return l[e].apply(l,arguments)}}s.createLoadClientTracingPromise=function(){return new r((function(n){d&&!l?t.e(2).then(function(){var i=t(401).getInstance(e,c);l||(l=i),n()}.bind(null,t))["catch"](t.oe):n()}))},s.logRedirection=function(e,n){var t=e,i=null;return e&&"string"!=typeof e?(t=e.url,i=e.eventOptions,n=e.traceParameters?n:null,e.traceUrl&&(n?n.url=t:n=t)):n=null,i&&i.eventId&&s.logEvent({eventType:"onRedirect",eventId:i.eventId,eventLevel:i.eventLevel,eventArgs:n,eventOptions:i}),t},s.getPropertyLogOption=function(e,n){return(n=n||{}).hasOwnProperty("tracingPropertyChange")||(n.tracingPropertyChange=!0),n.eventLevel=n.eventLevel||i.EventLevel.Info,{viewModel:e,tracingOptions:n}},s.getDefaultTextBoxPropertyLogOption=function(e,n){return(n=n||{}).hasOwnProperty("hidingMode")||(n.hidingMode=i.HidingMode.None),n.rateLimit={method:"notifyWhenChangesStop"},s.getPropertyLogOption(e,n)},s.getPIITextBoxPropertyLogOption=function(e,n){return(n=n||{}).hidingMode=i.HidingMode.Mask,s.getDefaultTextBoxPropertyLogOption(e,n)},s.getPasswordTextBoxPropertyLogOption=function(e,n){return(n=n||{}).hidingMode=i.HidingMode.Hide,s.getDefaultTextBoxPropertyLogOption(e,n)},s.getDefaultEventTracingOptions=function(e,n,t){return{eventId:e,eventLevel:t||i.EventLevel.Info,hidingMode:n?i.HidingMode.None:i.HidingMode.Hide}},s.attachViewLoadClientTracingOptions=(n="attachViewLoadClientTracingOptions",function(){if(a)return a[n].apply(a,arguments)}),s.logEvent=u("logEvent"),s.traceBeginRequest=u("traceBeginRequest"),s.traceEndRequest=function(e,n,t,i,a){l?l.traceEndRequest(e,n,t,i,a):a&&a()},s.setPageViewModel=u("setPageViewModel"),s.logComponentEvent=u("logComponentEvent"),s.logViewState=u("logViewState"),s.setViewViewModel=u("setViewViewModel"),s.switchView=u("switchView"),s.postEvent=u("postEvent")}var c=null;n.getInstance=function(e){return c=c||new s(e)}},function(e,n,t){var i=t(21),a=t(1),o=i.Helper,r=a.QueryString,s=n.Properties={State:"State",SessionLookupKey:"SessionLookupKey",DisplaySignForUI:"DisplaySignForUI",FlowToken:"FlowToken"},c=n.Purpose={Password:"eOTT_OneTimePassword",RemoteNGC:"eOTT_RemoteNGC",NoPassword:"eOTT_NoPasswordAccountLoginCode",OtcLogin:"eOTT_OtcLogin",XboxRemoteConnect:"RemoteSignInWithUserCode"},d=n.Channel={Authenticator:"Authenticator",MobileSms:"SMS",EmailAddress:"Email",VoiceCall:"Voice",PushNotifications:"PushNotifications"},l=n.Type={EmailAddress:"AltEmail",EmailAddressEncrypted:"AltEmailE",Mobile:"MobileNum",MobileEncrypted:"MobileNumE",SessionApprover:"SAPId"};n.Event={OnSend:"otcsend",OnSendFail:"otcsendfailed",OnFlowExpired:"otcflowexpired"};var u=n.RequestParam={Username:"login",Purpose:"purpose",FlowToken:"flowtoken",CanaryFlowToken:"canaryFlowToken",Channel:"channel",UIMode:"UIMode",PhoneCountry:"MobileCountry",PhoneCountryCode:"MobileCC",UnauthSessionId:"uaid",ProofConfirmation:"ProofConfirmation"},p=n.Status={None:0,Error:200,Success:201,HIPError:202,FTError:203,InputError:204,DestinationError:205,Timeout:300},g=n.ProofTypeToChannel=function(e){var n=null;switch(e){case PROOF.Type.SMS:n=d.MobileSms;break;case PROOF.Type.Voice:n=d.VoiceCall;break;case PROOF.Type.Email:case PROOF.Type.AltEmail:n=d.EmailAddress;break;case PROOF.Type.TOTPAuthenticatorV2:n=d.PushNotifications}return n},f=n.ProofTypeToOtcType=function(e,n){var t=null;switch(e){case PROOF.Type.Voice:case PROOF.Type.SMS:t=n?l.MobileEncrypted:l.Mobile;break;case PROOF.Type.Email:case PROOF.Type.AltEmail:t=n?l.EmailAddressEncrypted:l.EmailAddress;break;case PROOF.Type.TOTPAuthenticatorV2:t=l.SessionApprover}return t};n.Proof=function(e){var n=e.username||"",t=e.flowToken||"",i=e.purpose||c.Password,a=e.proofType,o=e.proofData||"",r=e.isEncrypted,s=e.uiMode,d=e.lcid,l=e.phoneCountry||"",p=e.phoneCountryCode||"",m=e.unauthSessionId,h=e.proofConfirmation,v=e.canaryFlowToken;this[u.Username]=n,this[u.FlowToken]=t,this[u.Purpose]=i,this[u.Channel]=g(a),this[f(a,r)]=o,s&&(this[u.UIMode]=s),d&&(this.lcid=d),r||a!==PROOF.Type.SMS&&a!==PROOF.Type.Voice||(this[u.PhoneCountry]=l,this[u.PhoneCountryCode]=p),m&&(this[u.UnauthSessionId]=m),h&&(this[u.ProofConfirmation]=h),v&&(this[u.CanaryFlowToken]=v)},n.Request=function(e){var n,t,a,c,d=this,l=p.None,u="",g="",f="",m=e.data,h=e.onSend,v=e.onSendFail,b=e.onFlowExpired,_=e.timeout||3e4,S=e.siteId,y=e.clientId,w=e.forwardedClientId,T=e.noPaBubbleVersion;function C(e){var n=!1,t=d.getResponseJson();f=t[s.FlowToken]||"",t[s.State]?(l=t[s.State],u=t[s.SessionLookupKey]||"",g=t[s.DisplaySignForUI]||"",n=l!==p.Success):(l=p.Error,u="",g="",n=!0),n?l===p.FTError?b(e,d):v(e,d):h(e)}function x(){f="",l=p.Error,u="",g="",v(d)}function I(){l=p.Timeout,u="",g="",f="",v(d)}d.getOtcStatus=function(){return d.isComplete()?l:p.None},d.getSessionKey=function(){return d.isComplete()?u:""},d.getDisplaySign=function(){return d.isComplete()?g:""},d.getFlowToken=function(){return d.isComplete()?f:""},n=r.extract("mkt"),t=r.extract("lc"),a=[].concat(n?[["mkt",n]]:[],t?[["lcid",t]]:[],S?[["id",S]]:[],y?[["client_id",y]]:[],w?[["fci",w]]:[],T?[["nopa",T]]:[]),c={targetUrl:r.add("GetOneTimeCode.srf",a),requestType:i.RequestType.Post,data:o.generateRequestString(m),isAsync:!0,timeout:_,successCallback:C,failureCallback:x,timeoutCallback:I},i.Handler.call(d,c)}},function(e,n,t){var i=t(26),a=t(10),o=t(36),r=window,s=r.navigator;n.makeCredential=function(e,n,t,a,r,c,d,l){var u=[];c&&(u=c.map((function(e){return{type:"public-key",id:o.base64UrlStringToArrayBuffer(e)}})));var p=i.SupportedKeyAlgorithms.map((function(e){return{type:"public-key",alg:e}})),g={challenge:o.stringToArrayBuffer(e),rp:{name:"Microsoft",id:l},user:{id:o.base64UrlStringToArrayBuffer(n),name:t,displayName:a,icon:r},pubKeyCredParams:p,timeout:i.Timeout,excludeCredentials:u,authenticatorSelection:{authenticatorAttachment:d,requireResidentKey:!0,userVerification:"required"},attestation:"direct",extensions:{hmacCreateSecret:!0,credentialProtectionPolicy:"userVerificationOptional"}};return s.credentials.create({publicKey:g})},n.getAssertion=function(e,n,t){var a=[];n&&(a=n.map((function(e){return{type:"public-key",id:o.base64UrlStringToArrayBuffer(e)}})));var r={challenge:o.stringToArrayBuffer(e),timeout:i.Timeout,rpId:t,allowCredentials:a,userVerification:"required"};return s.credentials.get({publicKey:r})},n.isPlatformAuthenticatorAvailable=function(){return a.newPromiseWithTimeout(r.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable,i.PromiseTimeout,!1)}},function(e,n,t){(function(n){e.exports=n.ko=t(58)}).call(this,t(57))},function(e,n,t){var i=t(2),a=t(1),o=t(4);var r=window;function s(e){var n=this,t=((e=e||{}).serverData,e.primaryButtonId),r=e.secondaryButtonId,s=e.primaryButtonText,c=e.secondaryButtonText,d=!1!==e.isPrimaryButtonVisible,l=!1!==e.isSecondaryButtonVisible,u=!1!==e.isPrimaryButtonEnabled,p=!1!==e.isSecondaryButtonEnabled,g=e.focusOnPrimaryButton||!1,f=e.focusOnSecondaryButton||!1,m=e.primaryButtonDescribedBy,h=e.secondaryButtonDescribedBy,v=e.primaryButtonCss,b=e.secondaryButtonCss,_=e.primaryButtonType||"submit",S=e.removeBottomMargin,y=e.primaryButtonPreventTabbing||{direction:"none"};n.primaryButtonId=t,n.secondaryButtonId=r,n.primaryButtonCss=v,n.secondaryButtonCss=b,n.primaryButtonText=i.observable(s),n.secondaryButtonText=i.observable(c),n.isPrimaryButtonVisible=i.observable(d),n.isSecondaryButtonVisible=i.observable(l),n.isPrimaryButtonEnabled=i.observable(u),n.isSecondaryButtonEnabled=i.observable(p),n.focusOnPrimaryButton=i.observable(g),n.focusOnSecondaryButton=i.observable(f),n.hasOneButtonVisible=i.pureComputed((function(){var e=0;return n.isPrimaryButtonVisible()&&e++,n.isSecondaryButtonVisible()&&e++,1===e})),n.primaryButtonDescribedBy=m,n.secondaryButtonDescribedBy=h,n.removeBottomMargin=S,n.primaryButtonPreventTabbing=y,n.primaryButtonAttributes=i.pureComputed((function(){var e={id:n.primaryButtonId||"idSIButton9","aria-describedby":n.primaryButtonDescribedBy};return a.Helper.isChangingInputTypeSupported()&&(e.type=_),e})),n.onPrimaryButtonClick=o.create(),n.onSecondaryButtonClick=o.create(),n.setTextPrimaryButton=function(e){n.primaryButtonText(e)},n.setTextSecondaryButton=function(e){n.secondaryButtonText(e)},n.setVisibilityPrimaryButton=function(e){n.isPrimaryButtonVisible(e)},n.setVisibilitySecondaryButton=function(e){n.isSecondaryButtonVisible(e)},n.setEnabledPrimaryButton=function(e){n.isPrimaryButtonEnabled(e)},n.setEnabledSecondaryButton=function(e){n.isSecondaryButtonEnabled(e)},n.primaryButton_onClick=function(){n.onPrimaryButtonClick()},n.secondaryButton_onClick=function(){n.onSecondaryButtonClick()}}i.components.register("footer-buttons-field",{viewModel:s,template:t(281),synchronous:!r.ServerData.A||a.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),a=t(1),o=window,r=a.Helper;function s(){var e=this;e.useCssAnimation=!1,r.isCSSAnimationSupported()&&!r.isHighContrast()&&(e.useCssAnimation=!0)}i.components.register("marching-ants-control",{viewModel:s,template:t(291),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)}),e.exports=s},function(e,n,t){var i=t(14),a=t(7),o=t(13).getInstance(window.ServerData);e.exports=function(e){var n=null,t=e.username,r=e.proofData,s=e.proofType,c=e.purpose||i.Purpose.Password,d=e.flowToken,l=e.canaryFlowToken,u=!1!==e.isEncrypted,p=e.uiMode,g=e.lcid,f=e.unauthSessionId,m=e.proofConfirmation,h=e.phoneCountry,v=e.phoneCountryCode,b=e.siteId,_=e.clientId,S=e.forwardedClientId,y=e.noPaBubbleVersion,w=e.successCallback,T=e.failureCallback,C=e.clientTracingOptions,x={};function I(e,n,t,i,a){o.traceEndRequest(e,n,t,i,a)}function k(){I(x,"Success",null,!0,(function(){w&&w(n)}))}function P(){var e={otcStatus:n.getOtcStatus()};I(x,"Failed",e,!1,(function(){T&&T(n)}))}this.sendRequest=function(){var e,w={data:(e={username:t,proofData:r,proofType:s,purpose:c,flowToken:d,canaryFlowToken:l,isEncrypted:u,uiMode:p,lcid:g,unauthSessionId:f,proofConfirmation:m,phoneCountry:h,phoneCountryCode:v},new i.Proof(e)),siteId:b,clientId:_,forwardedClientId:S,noPaBubbleVersion:y,onSend:k,onSendFail:P,onFlowExpired:P},T={};T.proofType=s,T.purpose=c,T.uiMode=p,T.lcid=g,T.phoneCountry=h,T.phoneCountryCode=v,function(e,n){var t=C||{};t.hasOwnProperty("eventId")||(t.eventId=a.EventIds.Api_GetOneTimeToken);if(t.eventId){var i={eventType:"POST",eventId:t.eventId,eventLevel:t.eventLevel||a.EventLevel.Info,eventArgs:n,eventOptions:t};o.traceBeginRequest(e,i)}}(x,T),(n=new i.Request(w)).sendRequest()}}},function(e,n,t){var i=t(0),a=t(6),o=t(5),r=t(11),s=t(1),c=t(3),d=t(9),l=t(7),u=s.Helper,p=s.QueryString,g=c.String,f=c.Object,m=i.CredentialType,h=i.RemoteNgcType,v=i.Error,b=i.ApiErrorCodes,_=i.EstsError,S=i.PaginatedState,y=i.IfExistsResult,w=i.ThrottleStatus,T=i.DomainType,C=i.BindProvider,x=a.AllowedIdentitiesType,I=i.SessionPullFlags;var k=D.GctResultAction={ShowError:1,SwitchView:2,Redirect:3},P=D.GctRequestHelperFlags={CheckCurrentIdpOnly:1,IsPhoneNumberFullyQualified:2,DisableDesktopSsoPreferredCred:4,DisableAutoSend:8,ForceOtcLogin:16,IsPostRequest:32,IsSignup:64};function D(e,n){var a=this,s=!1,D=null,E=null,A=null,R={},L=e,N=0!=(n&P.CheckCurrentIdpOnly),U=0!=(n&P.IsPhoneNumberFullyQualified),O=0!=(n&P.DisableDesktopSsoPreferredCred),B=0!=(n&P.DisableAutoSend),F=0!=(n&P.ForceOtcLogin),M=0!=(n&P.IsPostRequest),V=0!=(n&P.IsSignup),j=L.str,H=L.M,W=L.K,G=L.a2,q=!!L.BA,z=!!L.Bj,$=!!L.AG,K=L.a7,X=L.a5,J=!!L.a1,Q=!!L.a8,Y=!!L.a9,Z=L.C,ee=L.AF,ne=L.aQ,te=L.j,ie=L.bP,ae=L.AR,oe=L.Ar,re=e.urlMsaSignUp,se=L.G,ce=L.r,de=L.fUseConsumerEmailError,le=L.L,ue=L.desktopSsoConfig,pe=L.sFedQS,ge=L.staticTenantBranding,fe=L.dynamicTenantBranding,me=L.isGlobalTenant,he=(L.fCheckForWindowsSku,L.country),ve=L.arrProofData||{},be=parseInt(L.bI),_e=L.bO,Se=!!L.aO,ye=L.fBindCookiesUsingPoP,we=L.BU||0,Te=L.fIgnoreViralUsers,Ce=L.fAccessPassSupported,xe=L.ax,Ie=L.fImprovePhoneDisambig;function ke(e,n,t){var i=e.Credentials&&e.Credentials.OtcLoginEligibleProofs,a=[];if(i){var o=e.Credentials&&e.Credentials.HasPhone&&e.Credentials.CobasiApp;c.Array.forEach(i,(function(e){if(e.isDefault===n){var t={credType:m.OneTimeCode,proof:e};switch(t.proof.isEncrypted=!0,e.type){case PROOF.Type.SMS:case PROOF.Type.Voice:if(!e.isVoiceOnly){var i=f.clone(t);i.proof.otcSent&&M&&be===PROOF.Type.Voice&&(i.proof.otcSent=!1),i.proof.type=PROOF.Type.SMS,xe&&!o&&(i.shownOnlyOnPicker=!0),a.push(i)}if(e.voiceEnabled){var r=f.clone(t);!r.proof.otcSent||M&&be===PROOF.Type.Voice||(r.proof.otcSent=!1),r.proof.type=PROOF.Type.Voice,a.push(r)}break;case PROOF.Type.Email:a.push(f.clone(t))}}}))}if(n&&0===a.length&&Ae(e,t)===m.OneTimeCode){var r=e.Credentials&&e.Credentials.HasPassword,s={credType:m.OneTimeCode,proof:{display:e.Display,data:g.cleanseUsername(e.Display),otcSent:!0,isEncrypted:!1,isDefault:!0,isNopa:!r,type:g.isEmailAddress(e.Username)?PROOF.Type.Email:PROOF.Type.SMS}};a.push(s)}return a}function Pe(e){e.proof.str={},f.extend(e.proof.str,ve[e.proof.type]||{}),f.forEach(e.proof.str,(function(n,t){t&&(e.proof.str[n]=g.format(t,e.proof.display+"\u200e",e.proof.clearDigits||""))}))}function De(e,n,t,i,o,r){var c={},d=ue&&i.EstsProperties&&i.EstsProperties.DesktopSsoEnabled&&!function(e){return e&&ue.lastUsernameTried&&e.toLowerCase()===ue.lastUsernameTried.toLowerCase()}(n),l=i.ErrorHR,f=Oe(n,i,o),b=a.getGctSharedData(i,o,r);if(b.username=n,l===v.PP_E_INVALID_PHONENUMBER||l===v.PP_E_LIBPHONENUMBERINTEROP_NUMBERPARSE_EXCEPTION)c=function(e){if(U)return je(j.CT_PWD_STR_Error_InvalidPhoneNumber,!0);return Ve(S.PhoneDisambiguation,{phoneDisambigError:e})}(l);else if(l===v.PP_E_NAME_INVALID||l===v.PP_E_INVALIDARG)c=je(j.CT_PWD_STR_Error_InvalidUsername);else if(l===v.PP_E_FEDERATION_INLINELOGIN_DISALLOWED)c=je(j.CT_PWD_STR_Error_FedNotAllowed,!0);else if(l===v.PP_E_LOGIN_NOPA_USER_PASSWORD_REQUIRED)c=je(g.format(j.CT_STR_Error_PasswordRequired,p.stripQueryStringAndFragment(_e)));else if(i.RequiresPhoneDisambiguation)c=Ve(S.PhoneDisambiguation);else{if(i.AliasDisabledForLogin)return je(j.CT_PWD_STR_Error_AliasDisabled,!0);if(i.IfExistsResult===y.NotExist)c=function(e,n,t,i){var a,o=Me(e,t),r=t.EstsProperties||{},s=r.DomainType&&r.DomainType!==T.Unknown&&r.DomainType!==T.Consumer;if(t.IsProofForAlias)return Ve(S.ConfirmRecoverUsername);if(ae&&o&&(ee||ne))return ee?Ue(e,t):Ve(S.ConfirmSignup);a=n?t.ThrottleStatus===w.NotThrottled&&s?j.CT_PWD_STR_Error_UsernameNotExist_Alternate_VerifiedDomain:j.CT_PWD_STR_Error_UsernameNotExist_Alternate:Ae(t,i)===m.OneTimeCode?t.ThrottleStatus===w.MsaThrottled?j.CT_PWD_STR_Error_UsernameNotExists_EmailOtpAllowed_MsaFailed:j.CT_PWD_STR_Error_UsernameNotExists_EmailOtpAllowed:de&&r.DomainType===T.Consumer?j.CT_PWD_STR_Error_UsernameNotExist_ConsumerEmail:t.ThrottleStatus===w.NotThrottled&&s?o?j.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_SignupAllowed:j.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain:t.ThrottleStatus===w.MsaThrottled?s&&o?j.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_MsaFailed_SignupAllowed:s?j.CT_PWD_STR_Error_UsernameNotExist_VerifiedDomain_MsaFailed:ae&&!se?j.CT_PWD_STR_Error_UsernameNotExist_Guest_SignupAllowed_MsaFailed:j.CT_PWD_STR_Error_UnknownDomain_MsaFailed:V&&!s?j.CT_PWD_STR_Error_UsernameNotExist_Guest_Signup:Ie&&U?j.CT_PWD_STR_Error_InvalidPhoneNumber:j.CT_PWD_STR_Error_UsernameNotExist;return je(g.format(a,u.htmlEscape(g.extractDomain(e)),u.htmlEscape(e)),!0)}(n,t,i,o);else if(i.IfExistsResult===y.ExistsBothIDPs)c=Ve(S.IdpDisambiguation,{desktopSsoEnabled:d,idpRedirectUrl:f.idpRedirectUrl,idpRedirectPostParams:f.idpRedirectPostParams,idpRedirectProvider:f.idpRedirectProvider});else if(i.IfExistsResult===y.ExistsInOtherMicrosoftIDP)c=Ne(e,n);else if(!s||i.IfExistsResult!==y.Error&&i.IfExistsResult!==y.Throttled&&0==(i.ThrottleStatus&w.MsaThrottled))if(i.ShowRemoteConnect)c=Ve(S.RemoteLoginPolling);else{c=function(e,n,t,i,a,o){var r=Ae(i,o);if(!O&&n)return Ve(S.FetchSessionsProgress,{unsafe_desktopSsoDomainToUse:g.extractDomain(e),sessionPullType:I.Dsso});var s={idpRedirectUrl:t.idpRedirectUrl,idpRedirectPostParams:t.idpRedirectPostParams,idpRedirectProvider:t.idpRedirectProvider};switch(r){case m.OneTimeCode:var c=S.OneTimeCode;return B&&(c=a?S.ProofConfirmation:S.ConfirmSend),Ve(c);case m.PublicIdentifierCode:return B||i.Credentials.SasParams&&i.Credentials.SasParams.Success?Ve(B?S.ConfirmSend:S.OneTimeCode):je(j.CT_PWD_STR_Error_GetCredentialTypeError,!1,!0);case m.Fido:return Ve(S.Fido);case m.RemoteNGC:var d=i.Credentials.RemoteNgcParams.DefaultType===h.PushNotification;return Ve(B&&d?S.ConfirmSend:S.RemoteNGC,s);case m.Federation:case m.CloudFederation:return Ve(S.IdpRedirect,s);case m.LinkedIn:case m.GitHub:case m.Google:case m.Facebook:return Ve(Re(i,o).length>1||Le(i,o).length>0?S.IdpRedirectSpeedbump:S.IdpRedirect,s);case m.AccessPass:return Ve(S.AccessPass,s);case m.NoPreferredCredential:return Ve(S.CredentialPicker,s);case m.OtherMicrosoftIdpFederation:return Ue(e,i,re);case m.Password:default:return Ve(S.Password)}}(n,d,f,i,b.otcCredential&&b.otcCredential.proof.clearDigits,o)}else c=Ve(S.IdpDisambiguation,{hasIdpDisambigError:!0,desktopSsoEnabled:d,idpRedirectUrl:f.idpRedirectUrl,idpRedirectPostParams:f.idpRedirectPostParams,idpRedirectProvider:f.idpRedirectProvider})}return c.flowToken=i.FlowToken||null,c.bypassCache||(R[n]=i,R[n].FlowToken=null),c.sharedData=b,c}function Ee(e){var n={};if(e&&e.error)switch(e.error.code){case b.AuthFailure:n=je(j.CT_PWD_STR_Error_FlowTokenExpired);break;case _.PublicIdentifierSasBeginCallNonRetriableError:case _.PublicIdentifierSasBeginCallRetriableError:n=je(j.CT_PWD_STR_Error_GetCredentialTypeError,!1,!0);break;default:n=je(j.CT_PWD_STR_Error_GetCredentialTypeError)}else n=je(j.CT_PWD_STR_Error_GetCredentialTypeError);return n.flowToken=e.FlowToken||null,n}function Ae(e,n){var t=m.Password,i=e.Credentials;return i&&((t=i.PrefCredential)!==m.Fido||n||(t=i.RemoteNgcParams&&i.RemoteNgcParams.SessionIdentifier?m.RemoteNGC:m.Password)),t}function Re(e,n){var t=e.Credentials||{},i=t.SasParams,a=t.LinkedInParams,o=t.GitHubParams,r=t.GoogleParams,s=t.FacebookParams,d=t.CertAuthParams,l=e.EstsProperties||{},u=[].concat(t.HasPassword&&l.DomainType!==T.Federated?{credType:m.Password}:[],t.FederationRedirectUrl&&l.DomainType===T.Federated?{credType:m.Federation}:[],t.FederationRedirectUrl&&l.DomainType===T.CloudFederated?{credType:m.CloudFederation}:[],t.HasRemoteNGC?{credType:m.RemoteNGC}:[],t.HasFido&&n?{credType:m.Fido}:[],t.HasPhone&&i?{credType:m.PublicIdentifierCode}:[],t.HasLinkedInFed&&a?{credType:m.LinkedIn,redirectUrl:a.LinkedInRedirectUrl}:[],t.HasGitHubFed&&o?{credType:m.GitHub,redirectUrl:o.GithubRedirectUrl}:[],t.HasGoogleFed&&r?{credType:m.Google,redirectUrl:r.GoogleRedirectUrl}:[],t.HasFacebookFed&&s?{credType:m.Facebook,redirectUrl:s.FacebookRedirectUrl}:[],t.HasAccessPass?{credType:m.AccessPass}:[],t.HasCertAuth?{credType:m.Certificate,redirectUrl:d.CertAuthUrl,redirectPostParams:Be(e.FlowToken)}:[]);if(ve[PROOF.Type.Email]&&ve[PROOF.Type.SMS]&&ve[PROOF.Type.Voice]){var p=ke(e,!0,n);p.length>0&&(c.Array.forEach(p,Pe),u=u.concat(p))}return u}function Le(e,n){var t=[];if(ve[PROOF.Type.Email]&&ve[PROOF.Type.SMS]&&ve[PROOF.Type.Voice]){var i=ke(e,!1,n);i.length>0&&(c.Array.forEach(i,Pe),t=t.concat(i),c.Array.first(i,(function(e){return!e.proof.isNopa}))&&(t=t.concat({credType:m.Password,isDefault:!1})))}return t}function Ne(e,n){e=p.appendOrReplace(e,"username",encodeURIComponent(n).replace(new RegExp("'","g"),"%27"));var t=le?f.clone(le):null;return t&&(t.unsafe_username=n),He(e,t,!0,l.EventIds.Redirect_OtherIdpRedirection)}function Ue(e,n,t){t=t||se,t=p.remove(t,"username");var i=ce?f.clone(ce):null;return n&&(n.IfExistsResult===y.NotExist||n.IsUnmanaged&&n.IfExistsResult===y.Exists)&&Me(e,n)&&(i?i.unsafe_username=e:t=p.appendOrReplace(t,"username",encodeURIComponent(e))),He(t,i,!1,l.EventIds.Redirect_MSASignUpPage)}function Oe(e,n,t){var i={},a=Ae(n,t),o=n.EstsProperties||{};if(!(n.Credentials&&(n.Credentials.FederationRedirectUrl||n.Credentials.LinkedInParams||n.Credentials.GitHubParams||n.Credentials.GoogleParams||n.Credentials.FacebookParams)))return i;switch(a){case m.RemoteNGC:case m.Federation:case m.AccessPass:case m.NoPreferredCredential:o&&o.SamlRequest&&o.RelayState?(i.idpRedirectUrl=n.Credentials.FederationRedirectUrl,i.idpRedirectPostParams={SAMLRequest:o.SamlRequest,RelayState:o.RelayState,unsafe_username:e}):i.idpRedirectUrl=function(e,n){if(pe){var t=p.appendOrReplace("?"+pe,"wctx","LoginOptions%3D3%26"+p.extract("wctx","?"+pe));t=t.substr(1),e=p.append(e,t)}else e=p.appendOrReplace(e,"wctx","LoginOptions%3D3%26"+p.extract("wctx",e));return e=p.appendOrReplace(e,"cbcxt",encodeURIComponent(decodeURIComponent(p.extract("cbcxt")))),e=p.appendOrReplace(e,"username",encodeURIComponent(n)),e=p.appendOrReplace(e,"mkt",encodeURIComponent(decodeURIComponent(p.extract("mkt")))),e=p.appendOrReplace(e,"lc",encodeURIComponent(decodeURIComponent(p.extract("lc"))))}(n.Credentials.FederationRedirectUrl,e);break;case m.CloudFederation:i.idpRedirectUrl=n.Credentials.FederationRedirectUrl;break;case m.LinkedIn:i.idpRedirectUrl=n.Credentials.LinkedInParams.LinkedInRedirectUrl,i.idpRedirectProvider=C.LinkedIn;break;case m.GitHub:i.idpRedirectUrl=n.Credentials.GitHubParams.GithubRedirectUrl,i.idpRedirectProvider=C.GitHub;break;case m.Google:i.idpRedirectUrl=n.Credentials.GoogleParams.GoogleRedirectUrl,i.idpRedirectProvider=C.Google;break;case m.Facebook:i.idpRedirectUrl=n.Credentials.FacebookParams.FacebookRedirectUrl,i.idpRedirectProvider=C.Facebook}return i}function Be(e){return{ctx:Z,flowToken:e}}function Fe(e){return g.cleanseUsername(e,!0)}function Me(e,n){var t=oe&&g.isSkypeName(e),i=n.EstsProperties||{};return i.DomainType&&i.DomainType!==T.Unknown&&i.DomainType!==T.Consumer?!1===n.IsSignupDisallowed:!n.IsSignupDisallowed&&!t}function Ve(e,n){return{action:k.SwitchView,viewId:e,viewParams:n}}function je(e,n,t){return{action:k.ShowError,error:e,isBlockingError:n,bypassCache:t}}function He(e,n,t,i){return{action:k.Redirect,redirectUrl:e,redirectPostParams:n,isIdpRedirect:t,eventId:i}}a.sendAsync=function(e,n,t){var a=Fe(n),r=R[a]?R[a]:null,c=!!r,u=r?o.resolve(r):function(e,n){var t=[E].concat(A||[]);return o.all(t).then((function(t){var a=t[0],r=t[1];return new o((function(t,o){new d({checkApiCanary:te}).Json({url:ie,eventId:l.EventIds.Api_GetCredentialType},function(e,n,t,i){var a={unsafe_username:e,uaid:H,isOtherIdpSupported:s,isFederationDisabled:G,checkPhones:g.isPhoneNumber(e),isRemoteNGCSupported:q,isCookieBannerShown:z,isFidoSupported:t,originalRequest:Z,country:he,forceotclogin:F,otclogindisallowed:K,isExternalFederationDisallowed:J,isRemoteConnectSupported:Se,federationFlags:we,isSignup:V,flowToken:n};ne&&(a.checkProofForAliases=!0);X&&(a.noPaOtcDisallowed=!0);Q&&(a.isPassthroughDisallowed=!0);Y&&(a.isPhoneNumberSignupDisallowed=!0);Te&&(a.ignoreViralUsers=!0);ye&&(i=i||{cpa:"",err:"Authenticator not generated."},a.cpa=i.cpa,a.cpa_err=i.err);Ce&&(a.isAccessPassSupported=!0);return a}(e,n,a,r),t,o,i.DefaultRequestTimeout)}))}))}(a,t);return o.all([D,u,E]).then((function(n){var t=n[0],i=n[1],o=n[2];return De(e,a,t,i,o,c)}),Ee)},a.getResult=function(e,n,t,i){return De(e,Fe(n),!1,t,i,!1)},a.getState=function(){return{cache:R}},a.restoreState=function(e){e&&(R=e.cache||{})},a.cacheResponse=function(e,n){R[Fe(e)]=n},a.getSignupRedirectGctResult=function(e){var n=Fe(e);return Ue(n,R[n]?R[n]:null)},a.getOtherIdpRedirectGctResult=function(e,n){return Ne(e,Fe(n))},a.getGctSharedData=function(e,n,t){var i={},a=Ae(e,n),o=e.Credentials||{},s=o.RemoteNgcParams,d=o.FidoParams,l=e.EstsProperties||{},u=s?s.DefaultType:null,p=!!s&&s.ShowAnimatedGifWhilePolling,g=!!s&&s.StyleCredSwitchLinkAsButton,f=r.loadTenantBranding(l.UserTenantBranding||fe),h=r.loadTenantBranding(ge),v=Oe(e.Username,e,n);return i.preferredCredential=a,i.location=e.Location,i.fedRedirectParams=v,e.Display&&(i.displayName=e.Display),i.availableCreds=Re(e,n),i.evictedCreds=Le(e,n),a===m.OneTimeCode&&(i.otcCredential=c.Array.first(i.availableCreds,(function(e){return e.credType===m.OneTimeCode&&e.proof.otcSent})),i.useEvictedCredentials=!1),i.remoteNgcParams={requestSent:!B&&!t&&a===m.RemoteNGC&&s&&s.hasOwnProperty("Entropy"),sessionIdentifier:s?s.SessionIdentifier:null,entropy:s?s.Entropy:null,defaultType:u,showAnimatedGifWhilePolling:p,styleCredSwitchLinkAsButton:g},i.otcParams={requestSent:(a===m.OneTimeCode||a===m.PublicIdentifierCode)&&e.IfExistsResult!==y.ExistsBothIDPs},d&&d.AllowList&&(i.fidoParams={allowList:d.AllowList}),i.callMetadata=l&&l.CallMetadata?l.CallMetadata:{},i.userTenantBranding=r.getMergedBranding(h,f,me),i},s=!N&&W===x.Both,D=o.resolve(!1),E=u.isFidoSupportedAsync($),ye&&t.e(25).then(function(){var e=t(433);A=e.computePoPAuthenticator("POST",ie).then((function(e){return{cpa:e,err:null}}),(function(e){return{cpa:"",err:e.message}}))}.bind(null,t))["catch"](t.oe)}e.exports=D},function(e,n,t){var i=t(12),a=t(1),o=t(3),r=o.Object,s=a.HttpCode,c=window;n.RequestType={Post:"POST",Get:"GET"};var d=n.State={Unsupported:-1,Unsent:0,Done:4,Timeout:5};n.Event={OnSuccess:"ajaxsuccess",OnError:"ajaxerror",OnTimeout:"ajaxtimeout"},n.Helper={generateRequestString:function(e){var n="";return e&&r.forEach(e,(function(e,t){(t||""===t)&&(n.length>0&&(n+="&"),n+=e+"="+t)})),n}},n.Handler=function(e){var n=this,t="",l=[],u=null,p=null,g=!1,f=!0,m=null,h=!1,v=!!e.contentType,b=!!e.headers,_=!!e.headerValue,S=e.data||"",y=e.targetUrl||"",w=e.requestType||"",T=!1!==e.isAsync,C=e.timeout||0,x=e.username||"",I=e.password||"",k=e.contentType||"application/x-www-form-urlencoded",P=e.withCredentials||!1,D=e.breakCache||!1,E=e.responseType||"",A=e.headers||{},R=e.successCallback,L=e.failureCallback,N=e.timeoutCallback;function U(e,i){e||n.isSuccess()?R&&R(u,t):(i||!n.isSuccess()&&!g)&&L&&L(u,p,p.statusText)}function O(){if(m=null,g=!0,n.cancel(),N){var e={status:s.Timeout,statusText:"timeout"};N(u,e,e.statusText)}}function B(e){if(j(),!n.isComplete()&&!p.canceled&&L){var t={status:s.ClientClosedRequest,statusText:"abort"};L(e,t,t.statusText)}}function F(e){n.isComplete()||V(e)}function M(e){n.isComplete()&&!g&&V(e)}function V(e){j(),t=p.responseText,u=e,U()}function j(){m&&(clearTimeout(m),m=null)}function H(e){j(),t=p.responseText,U(e,!e)}n.sendRequest=function(e){u=e,function(){g=!1;var e="withCredentials"in new XMLHttpRequest;if(!h||e){var t=y;(p=new XMLHttpRequest).onreadystatechange=M,p.addEventListener&&(p.addEventListener("abort",B),p.addEventListener("error",F)),D&&(t=a.QueryString.appendOrReplace(t,"_",(new Date).getTime())),x.length>0?p.open(w,t,T,x,I):p.open(w,t,T),n.clearResponse(),r.forEach(A,(function(e,n){p.setRequestHeader(e,n)})),p.responseType=E,p.withCredentials=P}else c.XDomainRequest?!T||x||I||v||b||_||P?f=!1:((p=new c.XDomainRequest).onerror=function(){H(!1)},p.onload=function(){H(!0)},p.open(w,y),n.clearResponse()):f=!1}(),f&&(C>0&&(m=setTimeout((function(){O.call(n)}),C)),p.send(S))},n.getState=function(){return f?g?d.Timeout:p?p.readyState:d.Unsent:d.Unsupported},n.getStatus=function(){return g?s.Timeout:p?p.status:0},n.cancel=function(){p&&(p.canceled=!0,p.abort())},n.getResponseJson=function(){return t?i.parse(t):{}},n.isComplete=function(){return n.getState()===d.Done||n.getState()===d.Timeout},n.isSuccess=function(){return n.isComplete()&&l[n.getStatus()]},n.clearResponse=function(){t=""},function(){A["Content-type"]=k,l[s.Ok]=!0,l[s.NotModified]=!0,l[s.Timeout]=!1;var e=o.String.extractDomainFromUrl(y);e&&(h=o.String.extractDomainFromUrl(document.location.href)!==e)}()}},function(e,n,t){var i=t(3),a=t(7),o={},r=null;n.setDataPoint=function(e,n,t,i){var o={scope:i||a.DataPointScope.ClientEvent},r=s(e);r.tracingDataPoints=r.tracingDataPoints||{},r.tracingDataPoints[n]={options:o,value:function(){return t}}};var s=n.getTracingContextObject=function(e){return e?(o[e]||(o[e]={}),o[e]):r=r||{}};n.getTracingContextObjects=function(){var e=[];return i.Object.forEach(o,(function(n,t){t&&e.push({viewModel:n,context:t})})),r&&e.push(r),e},n.registerTracingObservables=function(e,n,t){var i=s(e);i.tracingObservables=i.tracingObservables||[],i.tracingObservables.push({options:t,value:n})},n.deleteTracingContextObject=function(e){e?o[e]&&delete o[e]:r=null},n.attachViewLoadClientTracingOptions=function(e,n){s(e).viewLoadClientTracingOptions=n}},function(e,n,t){var i=t(12),a=t(1),o=t(3),r=window,s=a.Helper,c=o.Array;function d(e){var n=e||[],t=[],a=!1;function o(e){if(r.opener){var t=i.stringify({messageType:"BrandingLivePreviewConnect",isOpen:e});c.forEach(n,(function(e){r.opener.postMessage(t,e)}))}}function d(e){if(a=e.origin,c.first(n,(function(e){return e===a}))){var a,o;try{o=i.parse(e.data)||{}}catch(r){return}"BrandingLivePreviewUpdate"===o.messageType&&c.forEach(t,(function(e){e(o.tenantBranding||{})}))}}this.addListener=function(e){t.push(e),a||(s.addEventListener(r,"message",d),o(!0),a=!0)},this.removeListener=function(e){c.removeItem(t,e),a&&0===t.length&&(s.removeEventListener(r,"message",d),o(!1),a=!1)}}var l=null;n.getInstance=function(e){return l=l||new d(e)}},function(e,n,t){var i=t(2),a=t(1),o=t(3),r=t(4),s=t(9),c=t(368),d=window,l=o.DateTime,u=a.Helper;function p(e){var n=this,t=null,a=e.debugDetails,o=e.serverData,c=e.isDebugTracingEnabled,d=e.useWiderWidth,p=o.A9,g=o.urlSetDebugMode,f=o.J,m=o.sSigninName,h=o.str,v=o.sErrorCode;function b(){n.sending(!1),n.isDebugTracingEnabled(!n.isDebugTracingEnabled()),n.onSetDebugTracing()}function _(){n.sending(!1),n.debugModeError(h.STR_Error_Details_Debug_Mode_Failure)}n.onCloseBanner=r.create(),n.onSetDebugTracing=r.create(),n.debugModeError=i.observable(),n.isDebugTracingEnabled=i.observable(c),n.sending=i.observable(!1),n.showBanner=i.observable(!0),n.showDebugDetailsCopyMessage=i.observable(!1),n.isFocusActivated=i.observable(!1),n.unsafe_exceptionMessage=null,n.debugDetails=null,n.useWiderWidth=d,n.hideBanner_onClick=function(){n.onCloseBanner(),n.showBanner(!1)},n.setDebugMode_onClick=function(){if(!n.sending()){var e=new s;n.sending(!0),n.debugModeError("");var i={mode:n.isDebugTracingEnabled()?0:1,user:t};e.Json({url:g},i,b,_)}},n.activateFocus=function(){this.isFocusActivated(!0)},t=f||m||"",n.unsafe_exceptionMessage=u.htmlUnescape(p),n.debugDetails=a||{},v&&(n.debugDetails.errorCode=v),n.debugDetails.timestamp||(n.debugDetails.timestamp=l.getUTCString())}c.applyExtensions(i),i.components.register("debug-details-control",{viewModel:p,template:t(369),synchronous:!d.ServerData.A||a.Helper.isStackSizeGreaterThan(d.ServerData.A),enableExtensions:!0}),e.exports=p},function(e,n,t){var i=t(2),a=t(11),o=t(1),r=t(4),s=t(0),c=window,d=s.AgreementType;function l(e){var n,t,o=this,s=e.serverData,l=e.showLogo,u=e.showLinks,p=e.hideFooter,g=e.debugDetails,f=e.showDebugDetails,m=e.hasDarkBackground,h=e.useDefaultBackground,v=s.str,b=s.W,_=s.fIsChinaDc,S=s.aF||s.aG,y=s.af||s.An,w=s.ah,T=s.urlGallatinIcp,C=s.staticTenantBranding;function x(e,n){b&&!_?o.onAgreementClick(e):c.open(n,"_blank")}o.onAgreementClick=r.create(),o.onShowDebugDetails=r.create(),o.showDebugDetails=i.observable(!!f),o.focusMoreInfo=i.observable(!1).extend({notify:"always"}),o.showLogo=l&&!_,o.showLinks=u,o.hideFooter=p,o.showIcpLicense=_,o.debugDetails=g,o.termsLink=S,o.privacyLink=y,o.impressumLink=w,o.icpLink=T,o.hasDarkBackground=m,o.useDefaultBackground=h,o.showFooter=!0,o.hideTOU=!1,o.termsText=null,o.hidePrivacy=!1,o.privacyText=null,o.privacyLink_onClick=function(){x(d.Privacy,o.privacyLink)},o.termsLink_onClick=function(){x(d.Tou,o.termsLink)},o.impressumLink_onClick=function(){x(d.Impressum,o.impressumLink)},o.moreInfo_onClick=function(){o.setDebugDetailsState(!o.showDebugDetails()),o.onShowDebugDetails(),o.showDebugDetails()||o.focusMoreInfo(!0)},o.setDebugDetailsState=function(e){o.showDebugDetails(e)},o.focusMoreInfoLink=function(){o.focusMoreInfo(!0)},n=a.loadTenantBranding(C),t=a.getLayoutTemplateConfig(n),o.showFooter=t.showFooter,o.hideTOU=t.hideTOU,o.hidePrivacy=t.hidePrivacy,o.termsText=n.FooterTOUText||v.MOBILE_STR_Footer_Terms,o.privacyText=n.FooterPrivacyText||v.MOBILE_STR_Footer_Privacy}i.components.register("footer-control",{viewModel:l,template:t(378),synchronous:!c.ServerData.A||o.Helper.isStackSizeGreaterThan(c.ServerData.A),enableExtensions:!0}),e.exports=l},function(e,n){n.PlatformTimeout=0,n.Timeout=6e5,n.PromiseTimeout=250,n.SupportedKeyAlgorithms=[-7,-257],n.Error={Internal:"InternalError",FidoCreateCallUnexpectedResponse:"FidoCreateCallUnexpectedResponse"}},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=t(0),s=window,c=r.DialogId;function d(e){var n=this,t=e.isPlatformAuthenticatorAvailable;n.onRegisterDialog=o.create(),n.onUnregisterDialog=o.create(),n.onShowDialog=o.create(),n.isPlatformAuthenticatorAvailable=t,n.hasFocus=i.observable(!1),n.fidoHelp_onClick=function(){n.onShowDialog(c.FidoHelp).then((function(){n.hasFocus(!0)}))}}i.components.register("fido-help-button-control",{viewModel:d,template:t(395),synchronous:!s.ServerData.A||a.Helper.isStackSizeGreaterThan(s.ServerData.A),enableExtensions:!0}),e.exports=d},function(e,n,t){var i=t(22);n.applyExtenders=function(e){e.extenders.preventExternalWrite=function(n){var t=n(),i=e.observable(t).extend({notify:"always"});return e.pureComputed({read:function(){return i()},write:function(e){e!==t&&i(t)}}).extend({notify:"always"})},e.extenders.flowTokenUpdate=function(n,t){return e.pureComputed({read:n,write:function(e){e&&(t&&(t.sFTTag&&(t.sFTTag=t.sFTTag.replace(t.sFT,e)),t.sFT=e),n(e))}}).extend({notify:"always"})},e.extenders.logValue=function(e,n){return n&&i.registerTracingObservables(n.viewModel,e,n.tracingOptions),e},e.extenders.loadImageFromUrl=function(n){return e.pureComputed({read:n,write:function(e){if(n()!==e)if(e){var t=new Image;t.onload=function(){n(e)},t.src=e}else n(e)}}).extend({notify:"always"})}}},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=t(0),s=t(15),c=t(10),d=t(19),l=t(14),u=t(3),p=window,g=u.String,f=r.PaginatedState,m=r.CredentialType,h=r.DialogId;function v(e){var n=this,t=e.serverData,a=e.username,r=e.availableCreds||[],u=e.currentCred||{},p=e.flowToken,v=e.showForgotUsername,b=e.hideCredSwitchLink,_=t.str,S=t.S,y=t.i,w=t.g,T=t.H,C=t.h,x=t.AV,I=[],k=null,P=i.observable();function D(e){A(e),n.onSetPendingRequest(!1),n.onSwitchView(f.OneTimeCode,!1,k)}function E(e){var t,i=e.getOtcStatus();switch(A(e),i){case l.Status.FTError:t=_.CT_OTC_STR_Error_FlowExpired;break;default:t=k.proof.str.CT_OTCS_STR_Error_SendCodeServer||""}n.onSetPendingRequest(!1),n.credLinkError(t)}function A(e){e&&(e.getFlowToken?(p=e.getFlowToken(),n.onUpdateFlowToken(p)):e.FlowToken&&(p=e.FlowToken,n.onUpdateFlowToken(p)))}n.onSwitchView=o.create(),n.onRedirect=o.create(),n.onRegisterDialog=o.create(),n.onUnregisterDialog=o.create(),n.onShowDialog=o.create(),n.onSetPendingRequest=o.create(),n.onUpdateFlowToken=o.create(),n.credentialCount=0,n.selectedCredType=null,n.selectedCredShownOnlyOnPicker=!1,n.switchToCredId=null,n.switchToCredText=null,n.showSwitchToCredPickerLink=!1,n.showForgotUsername=v,n.isUserKnown=!!u.credType,n.displayHelp=!u.credType,n.hideCredSwitchLink=b,n.isPlatformAuthenticatorAvailable=i.observable(!1),n.credLinkError=i.observable(),n.fidoHelp_onClick=function(){n.onShowDialog(h.FidoHelp)},n.view_onUpdateFlowToken=function(e){p=e},n.switchToCredPicker_onClick=function(){n.onSwitchView(f.CredentialPicker)},n.switchToCred_onClick=function(){var e=k.credType||m.Password;switch(n.credLinkError(""),e){case m.OneTimeCode:if(k.proof.clearDigits)n.onSwitchView(f.ProofConfirmation,!1,k);else{var t=function(){var e={username:g.cleanseUsername(a),proofData:k.proof.data,proofType:k.proof.type,purpose:k.proof.isNopa?l.Purpose.NoPassword:l.Purpose.OtcLogin,flowToken:p,isEncrypted:k.proof.isEncrypted,siteId:y,clientId:w,forwardedClientId:T,noPaBubbleVersion:C,successCallback:D,failureCallback:E};if(e.isEncrypted)switch(k.proof.type){case PROOF.Type.Email:e.proofConfirmation=k.proof.display;break;case PROOF.Type.SMS:case PROOF.Type.Voice:e.proofConfirmation=g.cleanseUsername(k.proof.display).slice(-4)}return e}(),i=new d(t);n.onSetPendingRequest(!0),i.sendRequest()}break;case m.OtherMicrosoftIdpFederation:case m.LinkedIn:case m.GitHub:case m.Google:case m.Facebook:case m.Certificate:n.onRedirect(k.redirectUrl,k.redirectPostParams||null);break;default:n.onSwitchView(I[e].viewId)}},n.forgotUsername_onClick=function(){document.location.assign(S)},n.getSwitchToCredText=function(){return i.unwrap(n.switchToCredText)},function(){if(I[m.Password]={viewId:f.Password,credId:"idA_PWD_SwitchToPassword",credText:_.CT_RNGC_STR_SwitchToPassword_Link},I[m.RemoteNGC]={viewId:f.RemoteNGC,credId:"idA_PWD_SwitchToRemoteNGC",credText:_.CT_PWD_STR_SwitchToRemoteNGC_Link},I[m.Fido]={viewId:f.Fido,credId:"idA_PWD_SwitchToFido",credText:P},I[m.Certificate]={credId:"idA_PWD_SwitchToCertificate",credText:_.CT_STR_CredentialPicker_Option_Certificate},I[m.OtherMicrosoftIdpFederation]={credId:"useMicrosoftLink",credText:_.CT_PWD_STR_UseMicrosoft_Link},I[m.LinkedIn]={credId:"useLinkedInLink",credText:_.CT_PWD_STR_UseLinkedIn_Link},I[m.GitHub]={credId:"useGitHubLink",credText:_.CT_PWD_STR_UseGitHub_Link},I[m.Google]={credId:"useGoogleLink",credText:_.CT_PWD_STR_UseGoogle_Link},I[m.Facebook]={credId:"useGoogleLink",credText:_.CT_PWD_STR_UseFacebook_Link},I[m.Federation]={viewId:f.IdpRedirect,credId:"redirectToIdpLink",credText:_.CT_RNGC_STR_SwitchToFederated_Link},I[m.RemoteLogin]={viewId:f.RemoteLoginPolling,credId:"remoteLoginLink",credText:_.CT_PWD_STR_RemoteLoginLink},I[m.OneTimeCode]={viewId:f.OneTimeCode,credId:"otcLoginLink",credText:_.CT_PWD_STR_SwitchToOTC_Link},I[m.AccessPass]={viewId:f.AccessPass,credId:"accessPassLink",credText:_.CT_PWD_STR_Login_SwitchToAccessPassLink},P(_.CT_PWD_STR_SwitchToFidoCrossPlatform_Link),i.utils.arrayForEach(r,(function(e){if(I[e.credType]){var t=e.credType===u.credType,i=e.credType===m.OneTimeCode,a=t&&i&&e.proof.data===u.proof.data,o=t&&i&&e.proof.type===u.proof.type;(!t||i&&!a||i&&!o)&&(n.credentialCount++,k=e)}e.credType===m.Fido&&c.throwUnhandledExceptionOnRejection(s.isPlatformAuthenticatorAvailable().then(null,(function(){return!1})).then((function(e){e&&(P(_.CT_PWD_STR_SwitchToFido_Link),n.isPlatformAuthenticatorAvailable(!0))})))})),1===n.credentialCount&&(n.selectedCredType=k.credType,n.selectedCredShownOnlyOnPicker=!!k.shownOnlyOnPicker,n.switchToCredId=I[n.selectedCredType||m.Password].credId,n.switchToCredText=I[n.selectedCredType||m.Password].credText,n.selectedCredType===m.OneTimeCode))switch(k.proof.type){case PROOF.Type.Email:n.switchToCredText=g.format(_.CT_OTC_STR_SwitchToOtc_EmailLink,k.proof.display);break;case PROOF.Type.SMS:n.switchToCredText=g.format(_.CT_OTC_STR_SwitchToOtc_SmsLink,k.proof.display);break;case PROOF.Type.Voice:n.switchToCredText=g.format(_.CT_OTC_STR_SwitchToOtc_VoiceLink,k.proof.display)}n.showSwitchToCredPickerLink=(!x||n.isUserKnown)&&(n.credentialCount>1||1===n.credentialCount&&(v||n.selectedCredShownOnlyOnPicker))}()}i.components.register("cred-switch-link-control",{viewModel:v,template:t(394),synchronous:!p.ServerData.A||a.Helper.isStackSizeGreaterThan(p.ServerData.A),enableExtensions:!0}),e.exports=v},function(e,n,t){var i=t(2),a=t(3).String;e.exports=function(e,n){var t=this,o=null;t.placeholderTextboxMethods=i.observable(),t.value=i.observable(n||""),t.focused=i.observable(!1).extend({notify:"always"}),t.error=e,t.textbox_onUpdateFocus=function(e){t.focused(e)},t.getTrimmedValue=function(e){var n=a.trim(t.value()||"");return e&&e>0&&(n=n.substring(0,e)),n},t.placeholderTextboxMethods.subscribe((function(e){e&&!o&&function(e){var n=t.value.peek();e.toggleVisibility(!n),o=t.value.subscribe((function(n){e.toggleVisibility(!n)}))}(e)}))}},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=window;function s(e){var n=this,t="placeholder"in document.createElement("input"),r=e.serverData,s=e.hintText,c=e.hintCss||"placeholder",d=r.W;n.onUpdateFocus=o.create(),n.hintText=s,n.usePlaceholderAttribute=!1,n.placeholderVisible=i.observable(!0),n.hintCss=i.pureComputed((function(){var e={};return c&&i.utils.arrayForEach(c.split(" "),(function(n){e[n]=!0})),e})),n.placeholderText=i.pureComputed((function(){if(n.usePlaceholderAttribute)return n.hintText})),n.toggleVisibility=function(e){n.placeholderVisible(e)},n.placeholder_onClick=function(){n.onUpdateFocus(!0)},t&&a.Helper.isPlaceholderAttributeAllowed(d)&&(n.usePlaceholderAttribute=!0)}i.components.register("placeholder-textbox-field",{viewModel:s,template:t(393),synchronous:!r.ServerData.A||a.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),a=t(1),o=window;function r(e){var n,t=this,i=e.serverData,a=e.title,o=!1!==e.useSubtitle,r=i.c;t.title=null,n=!(!r||!r.friendlyAppName),t.isSubtitleVisible=o&&n,t.title=a}i.components.register("header-control",{viewModel:r,template:t(397),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)}),e.exports=r},function(e,n,t){e.exports=t.p+"content/images/picker_account_msa_4e3619a499fd74c0c66d5215514b566a.png"},function(e,n,t){e.exports=t.p+"content/images/picker_account_msa_2d8f86059be176833897099ee6ddedeb.svg"},function(e,n,t){var i=t(2);n.errorComputed=function(e){var n=i.observable(),t=i.observable(),a=i.pureComputed(e).extend({notify:"always"}),o=i.pureComputed((function(){if(a())return a();if(n()){var e=n();return n(null),e}return null}));return i.utils.extend(i.pureComputed((function(){if(o())return o();if(t()){var e=t();return t(null),e}return null})),{isBlocking:function(){return null!==o()},setBlockingError:function(e){n(e)},setNonBlockingError:function(e){t(e)},setError:function(e,i){i?n(e):t(e)},clearNonBlockingError:function(){t(null),t.valueHasMutated()}})}},function(e,n){var t=n.stringToArrayBuffer=function(e){for(var n=new ArrayBuffer(e.length),t=new Uint8Array(n),i=0,a=e.length;i<a;++i)t[i]=e.charCodeAt(i);return n},i=n.arrayBufferToString=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))};n.base64UrlStringToArrayBuffer=function(e){var n=e.replace(/[-_]/g,(function(e){switch(e){case"-":return"+";case"_":return"/"}})),i=atob(n);return t(i)},n.arrayBufferToBase64UrlString=function(e){var n=i(e),t=btoa(n);return a(t)},n.objectToBase64UrlString=function(e){if(e){var n=JSON.stringify(e),t=btoa(n);return a(t)}return null};var a=n.base64ToBase64UrlString=function(e){return e.replace(/[+/=]/g,(function(e){switch(e){case"+":return"-";case"/":return"_";case"=":return""}}))}},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_white_4631a1537323be36c76aa5c13b3c9edd.png"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_white_2f0ec557a5c4580eedc58f64a1946a00.svg"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_eeb097cefb5f08917c48faff86e945ae.png"},function(e,n,t){e.exports=t.p+"content/images/credentialoptions/cred_option_fido_498a4d7bb984e5436a52c8b52f3ab0f7.svg"},function(e,n,t){var i=t(9),a=t(0),o=t(5),r=t(7),s={DeviceAuth:{PageId:"ConvergedRemoteConnect",ActionId:"OAuth2DeviceAuth",ConfirmationViewId:a.PaginatedState.RemoteConnectCanaryValidation},FidoAuth:{PageId:"PaginatedLogin",ActionId:"FidoGet",ConfirmationViewId:a.PaginatedState.PartnerCanaryValidation}},c=l.PartnerCanaryScenario={Undefined:0,Fido:1},d=l.CanaryValidationSuccessAction={SwitchView:1,Redirect:2};function l(e){var n=e,t=n.A3,u=n.bo,p=!!n.l,g=!!n.Ba,f=n.G,m=n.r,h=n.AY;this.validateAsync=function(){return new o((function(e,n){var o=function(){if(p)return s.DeviceAuth;if(h===c.Fido)return s.FidoAuth;throw"Canary Validation: Flow IDs not known."}();o.Canary=t;var v=function(){if(g)return{action:d.Redirect,redirectUrl:f,redirectPostParams:m,isIdpRedirect:!1};return{action:d.SwitchView}}();new i({checkApiCanary:!1,withCredentials:!0}).Json({url:u,eventId:r.EventIds.Api_CanaryValidation},o,(function(){e(v)}),(function(e){n(new l.CanaryValidationError(e,o.ConfirmationViewId,v))}),a.DefaultRequestTimeout)}))}}l.CanaryValidationError=function(e,n,t){this.name="CanaryValidationError",this.message="Canary validation failed, user confirmation required.",this.stack=(new Error).stack,this.innerError=e,this.confirmationViewId=n,this.postConfirmationAction=t},e.exports=l},function(e,n,t){var i=t(12),a=t(3),o=t(1),r=t(9),s=t(5),c=t(251),d=t(252),l=window,u=o.QueryString,p=o.Cookies,g=a.Array;e.exports=function(e){var n=e,t=n.bsso||{enabled:!1},a=n.As,o=n.BM,f=!1!==n.checkApiCanary,m=t.cookieNames,h=null;function v(){var e=new Date;e.setSeconds(e.getSeconds()+60),p.writeWithExpiration(m.ssoPulled,"1",!a,e.toUTCString());var n=l.location.href;return n=u.appendOrReplace(n,"sso_reload","true"),t.reloadOnFailure||"select_account"!==u.extract("prompt").toLowerCase()||(n=u.appendOrReplace(n,"prompt","")),n}function b(e){h.traces.push(e)}function _(e,n){h.data[e]=n}function S(e){return h.result=e.newSessions?"UserList":"Reload",w().then((function(){return e}))}function y(e){return h.result="Error",e instanceof c.Error?"OSError"===e.code&&e.externalData&&e.externalData.error?h.error=e.externalData.error:h.error=e.code:h.error=e,w().then((function(){return s.reject(e)}))}function w(){return new s((function(e){try{l.console&&l.console.info("BSSO Telemetry: "+i.stringify(h))}catch(n){}t.telemetry.url?new r({checkApiCanary:f}).Beacon({url:t.telemetry.url},h,e,e,500):e()}))}this.loginWindowsUserAsync=function(e){return t.enabled?function(e){if(!l.navigator||"function"!=typeof l.navigator.msLaunchUri)return _("BSSO.info","not-supported"),b("window.navigator.msLaunchUri is not available for _loginWindowsUser"),s.reject("bssoNotSupported");var n="abort"===t.initiatePullTimeoutAction;return new d({logMessage:b,logDataPoint:_},t.initiatePullTimeoutMs,t.overallTimeoutMs,n).loginWindowsUserAsync(e).then((function(e){return e.reload?(b("SSO cookie detected. Refreshing page."),v()):s.reject("error")}))}(e).then(S,y):s.reject("bssoDisabled")},this.pullBrowserSsoCookieAsync=function(){var e,n=t.failureRedirectUrl||t.reloadOnFailure,r=t.type;return t.enabled?("windows"===r?e=function(){if(!l.navigator||"function"!=typeof l.navigator.msLaunchUri)return _("BSSO.info","not-supported"),b("window.navigator.msLaunchUri is not available for _pullBrowserSsoCookie"),s.reject("bssoNotSupported");var e=p.getCookie(m.ssoTiles)||t.forceTiles;if(!e&&p.getCookie(m.ssoPulled))return _("BSSO.info","throttled"),b("Cookie pull throttled"),s.reject("throttled");var n="tbauth://login.windows.net?context="+encodeURIComponent(l.location.href.split("/",3).join("/"))+(t.nonce?"&request_nonce="+encodeURIComponent(t.nonce):"")+(t.rid?"&rid="+encodeURIComponent(t.rid):""),a=n;e&&(a=u.appendOrReplace(a,"user_id","*"),p.remove(m.ssoTiles));var o="abort"===t.initiatePullTimeoutAction;return new d({logMessage:b,logDataPoint:_},t.initiatePullTimeoutMs,t.overallTimeoutMs,o).pullBrowserSsoCookieAsync(a).then((function(e){if(e.reload)return b("SSO cookie detected. Refreshing page."),{redirectUrl:v()};if(e.userList){var t=function(e,n){var t=[],a=i.parse(e).users;a&&a.length>0?(g.forEach(a,(function(e){var i={ssoUniqueId:e.unique_id,displayName:e.display_name||"",name:e.upn,isWindowsSso:!0,isSignedIn:!0,url:n};t.push(i)})),b("User list processed. List: "+i.stringify(t))):b("User list is empty.");return t}(e.userList,n);return t.length>0?{newSessions:t}:s.reject("noUsers")}}))}():"chrome"===r&&(e=new c({logMessage:b,logDataPoint:_},t.nonce,"login.microsoftonline.com",a,o).getCookiesAsync().then((function(e){if(!e||!e.length)return s.reject(new c.Error("PageException","Extension returned no cookies"));for(var n=0,t=e.length;n<t;++n){var i=e[n].data;-1!==i.indexOf(";")&&(i=i.substr(0,i.indexOf(";"))),p.write(e[n].name,i,!a)}return b("SSO cookie detected. Refreshing page."),{redirectUrl:v()}})).then(null,(function(e){return p.write(m.aadSso,e.toCookieString(),!a),b("Error: "+e.toString()),s.reject(e)}))),e.then((function(e){return n&&!e.redirectUrl?s.reject("silentPullFailed"):e})).then(S,y).then(null,(function(e){return n?t.reloadOnFailure?{redirectUrl:v()}:{redirectUrl:t.failureRedirectUrl}:s.reject(e)}))):s.reject("bssoDisabled")},this.isEnabled=function(){return!!t.enabled},t.enabled&&(h={result:null,error:null,type:t.telemetry.type||null,data:{},traces:[]},t.initiatePullTimeoutMs=t.initiatePullTimeoutMs||t.overallTimeoutMs,t.initiatePullTimeoutAction=t.initiatePullTimeoutAction||"abort",b("BrowserSSO Initialized"))}},function(e,n,t){var i=t(3),a=t(6),o=i.Array,r={mergeSessions:function(e,n,t){var i=[];return o.forEach(n,(function(n){var a=function(e,n){for(var t=0;t<n.length;t++)if(n[t].name===e.name&&n[t].idp===e.idp)return t;return-1}(n,e);-1===a?(n.isWindowsSso?e.unshift(n):e.push(n),i.push(n)):n.isWindowsSso?(e.splice(a,1),e.unshift(n),i.push(n)):t&&(e.splice(a,1),e.push(n),i.push(n))})),i},parseMeControlSessions:function(e){return o.map(e,(function(e){var n=e.firstName,t=e.lastName;return t&&(n?n+=" "+t:n=t),{id:e.sessionId,fullName:n,name:e.memberName||e.signInName,displayName:e.memberName||e.signInName,idp:a.SessionIdp.Msa,isOtherIdp:!0,isSignedIn:e.isSignedIn||1===e.authenticatedState||2===e.authenticatedState,isWindowsSso:e.isWindowsSso||!1,isMeControlSession:!0,isGitHubFed:e.isGitHubFed||!1}}))},parseBssoSessions:function(e){return o.map(e,(function(e){return{ssoUniqueId:e.ssoUniqueId,name:e.name,displayName:e.displayName,idp:a.SessionIdp.Aad,ssoLink:e.url,isWindowsSso:e.isWindowsSso,isSignedIn:e.isSignedIn}}))}};e.exports=r},function(e,n,t){var i=t(2),a=t(1),o=t(9),r=t(284).Microsoft.ApplicationInsights,s=window;function c(e){var n,t,a=this,c=e.serverData,d=c.e,l=c.bu,u=c.j,p=c.bF,g=c.By,f=c.bj||c.country,m=c.serverDetails,h=c.hpgid,v=c.ap,b=c.BS,_=c.bn,S=c.B6,y=c.inlineMode,w=c.isCustomPerf,T=0,C=!1,x=!1;function I(e){var n={};if(e.toJSON)return e.toJSON();for(var t in e)n[t]=e[t];return n}a.clientMode=d,a.srsFailed=s.g_iSRSFailed,a.srsSuccess=s.g_sSRSSuccess,a.timeOnPage=i.observable(null),a.recordSubmit=function(){s.performance&&s.performance.timing&&a.timeOnPage((new Date).getTime()-s.performance.timing.loadEventEnd)},a.setPageLoadCompleted=function(){C=!0,setTimeout((function(){!function(){if(x||!C)return;if(x=!0,l){var e={hostBuildNumber:m?m.ver.v.join("."):p,serverExecutionTime:m?m.et:g,requestCountry:f,plt:0},n=function(){var e=s.performance,n=s.navigator,t={};if(!e)return null;e.navigation&&(t.navigation=I(e.navigation));e.timing&&(t.timing=I(e.timing),T>0&&(t.timing.customLoadEventEnd=T));e.getEntries&&(t.entries=i.utils.arrayMap(e.getEntries(),I));n.connection&&(t.connection=I(n.connection));return t}();n&&(e.performanceData=n),y&&(e.inlineMode=y),new o({checkApiCanary:u}).Json({url:l},e)}var t=s.appInsights;if(t){var a={},r={};r.serverExecutionTime=m?m.et:g,t.trackPageView(null,null,a,r)}}()}),0)},a.setCustomPageLoadCompletedTime=function(e){T=e||(new Date).getTime()},v&&(n={config:{instrumentationKey:S,isCookieUseDisabled:!0,isStorageUseDisabled:!0,disableAjaxTracking:!0,disableExceptionTracking:!0,endpointUrl:_}},t=new r.Initialization(n).loadAppInsights(),s.appInsights=t,t.context.addTelemetryInitializer((function(e){var n=e.data.baseData;n.properties=n.properties||{},n.properties.hostBuildNumber=m?m.ver.v.join("."):p,n.properties.requestCountry=f,n.properties.hpgid=h,n.measurements=n.measurements||{},n.measurements.enabledPercentage=b,"string"==typeof n.url&&(n.url=n.url.split("?")[0]);for(var t=["ai.operation.id","ai.operation.parentid","ai.operation.rootid","ai.session.id","ai.user.accountId","ai.user.authUserId","ai.user.id"],i=0;i<t.length;i++)e.tags[t[i]]&&delete e.tags[t[i]]}))),w||setTimeout((function(){a.setPageLoadCompleted()}),100)}i.components.register("instrumentation-control",{viewModel:c,template:t(285),synchronous:!s.ServerData.A||a.Helper.isStackSizeGreaterThan(s.ServerData.A),enableExtensions:!0}),e.exports=c},function(e,n,t){var i=t(2),a=t(1),o=window;i.components.register("logo-control",{template:t(286),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)})},function(e,n,t){var i=t(2),a=t(3),o=t(1),r=t(4),s=null,c=null,d=null,l=t(294),u=window,p=null;function g(e,n){var c=this,u=!1,g=null,f=e.serverData,m=e.showButtons||!1,h=e.showFooterLinks,v=!1!==e.showFooterLogo,b=e.useWizardBehavior,_=e.hideFromAria||i.observable(!1),S=f.Bw,y=f.staticTenantBranding,w=f.arrLivePreviewOrigins;function T(e,n){var t=["Microsoft","OneDrive","Skype","Bing","Xbox","Word","Outlook","Office","Excel","PowerPoint","Cortana","SkypeDialer","Health","MileIQ","Beam","MSN","Minecraft"];return(e<0||e>=t.length)&&(e=0),a.String.format("./AppCentipede_{0}{1}.{2}",t[e],n?"_white":"",u?"svg":"png")}function C(e){var n=s.loadTenantBranding(e),i=s.getLayoutTemplateConfig(n).layoutType===p.VerticalSplit;c.isVerticalSplitTemplate(i),i&&!c.isVerticalSplitTemplateLoaded()&&t.e(33).then(function(){t(434),c.isVerticalSplitTemplateLoaded(!0)}.bind(null,t))["catch"](t.oe)}c.useLayoutTemplates=!0,c.templateNodes={},c.showButtons=m,c.footer={showLinks:h,showLogo:v},c.centipede={getLightUrl:function(){return l(T(S,!0))},getDarkUrl:function(){return l(T(S,!1))}},c.hideFromAria=_,c.isInternalModeEnabled="1"===o.QueryString.extract("psi"),c.viewModel=null,c.viewAgreement=i.observable(!1),c.agreementType=i.observable(),c.isVerticalSplitTemplate=i.observable(!1),c.isVerticalSplitTemplateLoaded=i.observable(!1),c.onFooterAgreementClick=r.create(),c.footer_agreementClick=function(e){c.onFooterAgreementClick(e)},c.agreement_backButtonClick=function(){c.viewAgreement(!1)},c.dispose=function(){g&&g.removeListener(C)},c.showAgreement=function(e){c.agreementType(e),c.viewAgreement(!0)},function(){if(u=o.Helper.isSvgImgSupported(),C(y),n&&i.utils.arrayForEach(n,(function(e){e.id&&(c.templateNodes[e.id]=e.childNodes)})),b){0}w&&(g=d.getInstance(w)).addListener(C)}()}s=t(11),c=t(0),d=t(23),p=c.LayoutTemplateType,i.components.register("master-page",{viewModel:{createViewModel:function(e,n){return new g(e,n.templateNodes)}},template:t(363),synchronous:!u.ServerData.A||o.Helper.isStackSizeGreaterThan(u.ServerData.A),enableExtensions:!0}),e.exports=g},function(e,n,t){var i=t(2),a=t(1),o=window;function r(){var e=this;e.isAppBranding=i.observable(!1),e.backgroundStyle=i.observable(),e.smallImageUrl=i.observable(),e.backgroundImageUrl=i.observable(),e.useImageMask=i.observable(!1),e.useTransparentLightBox=i.observable(!1),e.updateBranding=function(n){e.isAppBranding(!!n.backgroundLogoUrl),e.backgroundStyle(n.color),e.smallImageUrl(n.smallImageUrl),e.backgroundImageUrl(n.backgroundImageUrl),e.useImageMask(!!n.useImageMask),e.useTransparentLightBox(!!n.useTransparentLightBox)}}i.components.register("background-image-control",{viewModel:r,template:t(366),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A),enableExtensions:!0}),e.exports=r},function(e,n,t){var i=t(2),a=t(1),o=window;i.components.register("page-level-title-control",{template:t(367),synchronous:!o.ServerData.A||a.Helper.isStackSizeGreaterThan(o.ServerData.A)})},function(e,n,t){var i=t(2),a=t(0),o=t(1),r=t(379),s=t(4),c=t(10),d=t(13).getInstance(window.ServerData),l=t(7),u=window,p=a.PaginatedState.Previous,g=a.AnimationState,f=a.AnimationName,m=a.AnimationTimeout,h=o.Helper;function v(e,n,t,a){var o=this,u=e.initialViewId||null,v=e.currentViewId||null,b=e.initialSharedData||{},_=e.initialError,S=e.enableCssAnimation,y=e.disableAnimationIfAnimationEndUnsupported,w=t,T=a,C=null,x=g.End,I=!1,k=null,P=null,D=!1,E=null,A=i.observable();function R(){var e=o.currentViewIndex();return w[e]?w[e]():null}function L(e){A(null),o.view_onSetIdentityBackButtonState(),o.isInitialState=C.getState().isInitialState,o.onShowView(T[e].metadata,e),A(e),o.hasInitialViewShown(!0)}function N(e,n){var t=A(),i=o.onLoadView(e);i?c.throwUnhandledExceptionOnRejection(i.then((function(){U(t,e,n)}))):U(t,e,n)}function U(e,n,t){D&&(e!==n||t)&&(!_||e)?(y&&null===k&&(E=setTimeout((function(){D=!1,o.hidePaginatedView(!1),o.hidePaginatedView.hideSubView(!1),o.onSetLightBoxFadeIn(!1),x=g.End,N(n)}),m)),k=e,P=n,x=g.Begin,o.view_onAnimationEnd()):(o.animate(f.None),o.view_onAnimationEnd(),L(n))}function O(e){var n=R();if(n){e&&n.saveSharedData(o.sharedData);var t=n.getState(),i=C.getState();i.viewState=t,C.replaceState(i)}}function B(){I=!0,O(!1)}function F(){I=!1}function M(e){o.initialError=null,N(e.viewId,e.forceTransitionAnimation)}o.views=n,o.viewInterfaces=t,o.sharedData=b,o.initialError=_,o.isInitialState=!1,o.isBackButtonVisible=i.observable(!1),o.isBackButtonFocused=i.observable(!1),o.backButtonDescribedBy=i.observable(null),o.hasInitialViewShown=i.observable(!1),o.hidePaginatedView=i.utils.extend(i.observable(!1),{hideSubView:i.observable(!1)}),o.animate=i.utils.extend(i.observable(f.None),{animateBanner:i.observable(!1),isSlideOutNext:i.pureComputed((function(){return o.animate()===f.SlideOutNext})),isSlideInNext:i.pureComputed((function(){return o.animate()===f.SlideInNext})),isSlideOutBack:i.pureComputed((function(){return o.animate()===f.SlideOutBack})),isSlideInBack:i.pureComputed((function(){return o.animate()===f.SlideInBack}))}),o.showIdentityBanner=i.pureComputed((function(){var e=A();return e&&T[e].metadata&&T[e].metadata.showIdentityBanner})),o.currentViewIndex=i.pureComputed((function(){var e=A();return T[e]&&!isNaN(T[e].index)?T[e].index:-1})),o.onCancel=s.create(),o.onLoadView=s.create(),o.onShowView=s.create(),o.onSetLightBoxFadeIn=s.create(),o.onAnimationStateChange=s.create(),o.dispose=function(){C.dispose()},o.setDefaultFocus=function(){var e=R();e&&e.setDefaultFocus&&e.setDefaultFocus()},o.getCurrentViewId=function(){return A()},o.getSharedData=function(){return o.sharedData||{}},o.getSharedDataItem=function(e){return o.getSharedData()[e]},o.getCurrentView=function(){return{viewId:A(),viewInterface:R()}},o.setSharedDataItem=function(e,n){o.sharedData||(o.sharedData={}),o.sharedData[e]=n},o.saveSharedDataOnCurrentView=function(){var e=R();e&&e.saveSharedData(o.sharedData)},o.currentViewHasMetadata=function(e){var n=A();return!!T[n]&&!!T[n].metadata[e]},o.submitCurrentView=function(){var e=R();e&&e.submit&&e.submit()},o.identityBanner_onBackButtonClick=function(){o.view_onSwitchView(p)},o.view_onLoad=function(){var e=C.getState(),n=R();if(n){n.restoreState(e?e.viewState:null);var t=o.getCurrentViewId();d.setViewViewModel(n,t,T[t].metadata),d.logViewState(n),o.setDefaultFocus()}},o.view_onSwitchView=function(e,n,t){d.logEvent({eventType:"view_onSwitchView",eventId:l.EventIds.Event_PaginationControl_ViewSwitch,eventLevel:l.EventLevel.Critical,eventArgs:{viewId:e,replaceHistory:n},eventOptions:{hidingMode:l.HidingMode.None}}),d.switchView(R());var i=C.getState()||{};t&&(i.forceTransitionAnimation=t,C.replaceState(i)),o.initialError=null,e===p?(I=!0,i.isInitialState?o.onCancel():C.goBack()):(I=!1,O(!0),(n|=e===A()&&!1!==n)?(i.viewId=e,i.viewState=null,C.replaceState(i)):(i={viewId:e},C.pushState(i)),N(e,t))},o.view_onCancel=function(){o.onCancel()},o.view_onSetIdentityBackButtonState=function(e,n,t){o.isBackButtonVisible(e||!1),o.isBackButtonFocused(n||!1),o.backButtonDescribedBy(t||null)},o.view_onAnimationEnd=function(){switch(o.onAnimationStateChange(x,I,!!k),x){case g.Begin:o.animate(f.None),o.animate.animateBanner(!k||T[k].metadata.showIdentityBanner!==T[P].metadata.showIdentityBanner),x=g.RenderNewView,k?o.animate(I?f.SlideOutBack:f.SlideOutNext):o.view_onAnimationEnd();break;case g.RenderNewView:L(P),o.animate.animateBanner()?o.hidePaginatedView(!0):o.hidePaginatedView.hideSubView(!0),x=g.AnimateNewView,k?setTimeout(o.view_onAnimationEnd,0):o.onSetLightBoxFadeIn(!0);break;case g.AnimateNewView:E&&(clearTimeout(E),E=null),x=g.End,o.hidePaginatedView(!1),o.hidePaginatedView.hideSubView(!1),o.animate(I?f.SlideInBack:f.SlideInNext)}},function(){D=S&&h.isCSSAnimationSupported(),C=new r(B,F,M);var e=null;null===u&&null===v||(u=null===u?v:u,v=null===v?u:v,e={viewId:u,isInitialState:!0},C.replaceState(e)),v!==u&&(e={viewId:v},C.pushState(e)),null!==e&&setTimeout((function(){N(e.viewId)}),0)}()}function b(e){var n={};return i.utils.arrayForEach(["wide","hideLogo","hideDefaultLogo","dynamicBranding","hideLwaDisclaimer","showIdentityBanner","showFedCredButton","hidePageLevelTitleAndDesc","extraDebugDetails"],(function(t){var i=e.getAttribute("data-"+t);i&&(n[t]="true"===i.toLowerCase())})),n}i.components.register("pagination-control",{viewModel:{createViewModel:function(e,n){var t=[],a=[],o={},r=0;return i.utils.arrayForEach(n.templateNodes,(function(e){var n;1===e.nodeType&&null!==(n=e.getAttribute("data-viewid"))&&(t.push(e),a.push(i.observable()),n=isNaN(n)?n:parseInt(n),o[n]={index:r++,metadata:b(e)})})),new v(e,t,a,o)}},template:t(380),synchronous:!u.ServerData.A||o.Helper.isStackSizeGreaterThan(u.ServerData.A),enableExtensions:!0})},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=window;function s(e){var n=e.isPlatformAuthenticatorAvailable;this.isPlatformAuthenticatorAvailable=n,this.onRegisterDialog=o.create(),this.onUnregisterDialog=o.create()}i.components.register("fido-help-dialog-content-control",{viewModel:s,template:t(396),synchronous:!r.ServerData.A||a.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){var i=t(2),a=t(1),o=t(4),r=window;function s(e,n){var t=this,i=e.dialogId,a=e.data,r=n;t.onRegisterDialog=o.create(),t.onUnregisterDialog=o.create(),t.dispose=function(){t.onUnregisterDialog(i)},t.onRegisterDialog(i,{templateNodes:r,data:a})}i.components.register("dialog-content-control",{viewModel:{createViewModel:function(e,n){return new s(e,n.templateNodes)}},template:"\x3c!-- --\x3e",synchronous:!r.ServerData.A||a.Helper.isStackSizeGreaterThan(r.ServerData.A),enableExtensions:!0}),e.exports=s},function(e,n,t){e.exports=t.p+"content/images/documentation_white_f1d76f59f87ee716791873beaa56f42b.png"},function(e,n,t){e.exports=t.p+"content/images/documentation_white_c8c3f0c876ac28614d1d0c2068289237.svg"},function(e,n,t){e.exports=t.p+"content/images/documentation_9628e22a6bfb1edc59e81064a666b614.png"},function(e,n,t){e.exports=t.p+"content/images/documentation_bcb4d1dc4eae64f0b2b2538209d8435a.svg"},function(e,n,t){var i=window;t.p=i.ServerData.a,i.ServerData.urlImagePath=i.ServerData.a+"images/";var a=t(2),o=t(59),r=t(0),s=t(1),c=t(62),d=t(6),l=t(63),u=r.LoginMode,p=s.Helper,g=s.QueryString,f=s.Cookies,m=d.LoginOption,h=!1;function v(e){!function(e){if(e){(new Image).src=e}}(e.aH),function(e){if(e.Aw&&null!==new RegExp("Windows NT ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1)<6&&p.getIEVersion()>=7)try{document.getElementById("ev").src=e.ae}catch(n){}}(e)}o.applyExtensions(a),a.utils.registerEventHandler(i,"load",(function(){var e=i.ServerData;if(e.str=c.getStrings("str",e),e.html=c.getStrings("html",e),e.arrProofData=c.getStrings("proofData"),!h&&!function(e){try{if(top!==self&&top.location.replace(self.location.href),2===e.AX&&e.urlFed)return function(e,n,t,i){var a=i.sFedQS;n===m.NothingChecked&&(a=g.appendOrReplace("?"+a,"wctx","LoginOptions%3D3%26"+g.extract("wctx","?"+a)).substr(1));e=g.appendOrReplace(e,"cbcxt",encodeURIComponent(decodeURIComponent(g.extract("cbcxt")))),e=g.appendOrReplace(e,"vv",encodeURIComponent(decodeURIComponent(g.extract("cbcxt")))),e=g.appendOrReplace(e,"username",encodeURIComponent(t)),e=g.appendOrReplace(e,"mkt",encodeURIComponent(decodeURIComponent(g.extract("mkt")))),e=g.appendOrReplace(e,"lc",encodeURIComponent(decodeURIComponent(g.extract("lc")))),document.location.replace(g.append(e,a))}(e.urlFed,e.Ai,decodeURIComponent(g.extract("username")),e),!0;if(!f.enabled())return document.location=e.t,!0}catch(n){e.e=u.GenericError}return!1}(e))switch(h=!0,e.e){case u.GenericError:case u.GenericErrorMobile:case u.GenericErrorHost:case u.SwitchUser:case u.SwitchUserMobile:case u.SwitchUserHost:case u.InviteBlocked:case u.ServiceBlocked:case u.IDPFailed:case u.HIP_Lockout:case u.HIP_LockoutMobile:case u.HIP_LockoutHost:case u.BindFailed:t.e(1).then(function(){var n=t(399);document.body.appendChild(document.createElement("div")).innerHTML=t(400),a.applyBindings(new n(e)),v(e)}.bind(null,t))["catch"](t.oe);break;default:document.body.appendChild(document.createElement("div")).innerHTML=t(271),a.applyBindings(new l(e)),v(e)}}))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(i){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){var i,a,o;
Windows::Analog::Face::SensorController::SetNewRegionOfInterest.PutType
Windows::Analog::Face::SensorController::SetNewRegionOfInterest.PutType.Failed
Windows::Analog::Face::SensorController::SetNewRegionOfInterest.PutType
                <Text AssemblyName="System.Management.Automation" BaseName="HelpDisplayStrings" ResourceId="InputType"/>
                      <PropertyName>InputTypes</PropertyName>
                                <PropertyName>InputType</PropertyName>
        <Name>MamlInputTypes</Name>
          <TypeName>MamlCommandHelpInfo#inputTypes</TypeName>
                  <PropertyName>InputType</PropertyName>
                <Text AssemblyName="System.Management.Automation" BaseName="HelpDisplayStrings" ResourceId="InputType"/>
                      <PropertyName>InputTypes</PropertyName>
                                <PropertyName>InputType</PropertyName>
        <Name>MamlInputTypes</Name>
          <TypeName>MamlCommandHelpInfo#inputTypes</TypeName>
                  <PropertyName>InputType</PropertyName>
              <Text AssemblyName="System.Management.Automation" BaseName="HelpDisplayStrings" ResourceId="InputType"/>
                    <PropertyName>InputTypes</PropertyName>
                              <PropertyName>InputType</PropertyName>
              <Text AssemblyName="System.Management.Automation" BaseName="HelpDisplayStrings" ResourceId="InputType"/>
                    <PropertyName>InputTypes</PropertyName>
                              <PropertyName>InputType</PropertyName>
          [OutputType([string])]
          [OutputType([string])]
    [OutputType([DOSwarmStats],[DOFilePeerInfo],[string],[DOPeerInfo])]
    [OutputType([DOPerfSnap])]
    [OutputType([DOMonthlyPerfSnap])]
    [OutputType([DownloadMode])]
    [OutputType([uint32])]
    [OutputType([uint32])]
    [OutputType([uint8])]
    [OutputType([uint32])]
    [OutputType([DOConfig],[DOExtendedConfig])]
    [OutputType([DOSwarmStats],[DOFilePeerInfo],[string],[DOPeerInfo])]
    [OutputType([DOPerfSnap])]
    [OutputType([DOMonthlyPerfSnap])]
    [OutputType([DownloadMode])]
    [OutputType([uint32])]
    [OutputType([uint32])]
    [OutputType([uint8])]
    [OutputType([uint32])]
    [OutputType([DOConfig],[DOExtendedConfig])]
OutputTypeAttribute
                    [OutputType([System.Net.IPAddress[]])]
                    [OutputType([System.Net.IPAddress[]])]
                    [OutputType([System.Net.IPAddress[]])]
                    [OutputType([System.Net.IPAddress[]])]
                    [OutputType([System.Net.IPAddress[]])]
                    [OutputType([System.Net.IPAddress[]])]
                    [OutputType([System.Net.IPAddress[]])]
                    [OutputType([System.Net.IPAddress[]])]
OutputTypeAttribute
    [OutputType([System.IO.FileInfo])]
    [OutputType([System.IO.FileInfo])]
    [OutputType([System.IO.FileInfo])]
	[OutputType([System.Guid])]
    [OutputType("Microsoft.PowerShell.Commands.ByteCollection")]
    [OutputType("System.Collections.Hashtable")]
    [OutputType([System.IO.FileInfo])]
	[OutputType([System.Guid])]
    [OutputType("Microsoft.PowerShell.Commands.ByteCollection")]
    [OutputType("System.Collections.Hashtable")]
[OutputType([Microsoft.Management.Infrastructure.CimInstance])]
[OutputType('Microsoft.Management.Infrastructure.CimInstance#MSFT_Feature')]
[OutputType([Microsoft.Management.Infrastructure.CimInstance])]
[OutputType('Microsoft.Management.Infrastructure.CimInstance#MSFT_GlobalEthernetSwitchSettingData')]
[OutputType([Microsoft.Management.Infrastructure.CimInstance])]
[OutputType('Microsoft.Management.Infrastructure.CimInstance#CIM_EthernetPort')]
[OutputType([Microsoft.Management.Infrastructure.CimInstance])]
[OutputType("Microsoft.Management.Infrastructure.CimInstance#CIM_NetworkVLAN")]
OutputTypeAttribute
<command:inputTypes><command:inputType><dev:type><maml:name>System.String</maml:name>
</command:inputType>
</command:inputTypes>
<command:inputTypes><command:inputType><dev:type><maml:name>System.Int32[]</maml:name>
</command:inputType>
</command:inputTypes>
<command:inputTypes><command:inputType><dev:type><maml:name>System.String</maml:name>
</command:inputType>
</command:inputTypes>
    [OutputType([void])]
    [OutputType([void])]
    [OutputType([int])]
    [OutputType([string])]
    [OutputType([void])]
    [OutputType([string])]
    [OutputType([string])]
    [OutputType([void])]
    [OutputType([string])]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType([bool])]
    [OutputType([void])]
    [OutputType([bool])]
    [OutputType([void])]
    [OutputType([bool])]
    [OutputType([string[]])]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType([bool])]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType('Microsoft.PowerShell.DesiredStateConfiguration.DscResourceInfo[]')]
    [OutputType('string[]')]
    [OutputType('Microsoft.PowerShell.DesiredStateConfiguration.DscResourceInfo')]
    [OutputType('Microsoft.PowerShell.DesiredStateConfiguration.DscResourceInfo')]
    [OutputType('string')]
    [OutputType('System.Management.Automation.PSModuleInfo')]
    [OutputType('System.Management.Automation.WildcardPattern[]')]
    [OutputType('bool')]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType([int])]
    [OutputType([string])]
    [OutputType([void])]
    [OutputType([string])]
    [OutputType([string])]
    [OutputType([void])]
    [OutputType([string])]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType([bool])]
    [OutputType([void])]
    [OutputType([bool])]
    [OutputType([void])]
    [OutputType([bool])]
    [OutputType([string[]])]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType([bool])]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType([void])]
    [OutputType('Microsoft.PowerShell.DesiredStateConfiguration.DscResourceInfo[]')]
    [OutputType('string[]')]
    [OutputType('Microsoft.PowerShell.DesiredStateConfiguration.DscResourceInfo')]
    [OutputType('Microsoft.PowerShell.DesiredStateConfiguration.DscResourceInfo')]
    [OutputType('string')]
    [OutputType('System.Management.Automation.PSModuleInfo')]
    [OutputType('System.Management.Automation.WildcardPattern[]')]
    [OutputType('bool')]
    [OutputType([System.String[]])]
    [OutputType([System.String[]])]
    [OutputType([System.DirectoryServices.AccountManagement.Principal[]])]
    [OutputType([System.DirectoryServices.AccountManagement.Principal])]
    [OutputType([System.DirectoryServices.AccountManagement.Principal])]
    [OutputType([System.DirectoryServices.AccountManagement.PrincipalContext])]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([string])]
    [OutputType([System.DirectoryServices.AccountManagement.GroupPrincipal])]
    [OutputType([System.String[]])]
    [OutputType([System.String[]])]
    [OutputType([System.DirectoryServices.AccountManagement.Principal[]])]
    [OutputType([System.DirectoryServices.AccountManagement.Principal])]
    [OutputType([System.DirectoryServices.AccountManagement.Principal])]
    [OutputType([System.DirectoryServices.AccountManagement.PrincipalContext])]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([bool])]
    [OutputType([string])]
    [OutputType([System.DirectoryServices.AccountManagement.GroupPrincipal])]
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([System.String[]])]
          [OutputType([System.Security.Cryptography.X509Certificates.X509Certificate2])]
          [OutputType([System.String[]])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.AuthenticationTransformConstants])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.CipherTransformConstants])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.DHGroup])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.EncryptionMethod])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.IntegrityCheckMethod])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.PfsGroup])]
          [OutputType([System.String])]
          [OutputType([System.String])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([System.String[]])]
          [OutputType([System.Security.Cryptography.X509Certificates.X509Certificate2])]
          [OutputType([System.String[]])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([System.Xml.XmlDocument])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.AuthenticationTransformConstants])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.CipherTransformConstants])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.DHGroup])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.EncryptionMethod])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.IntegrityCheckMethod])]
          [OutputType([Microsoft.Powershell.Cmdletization.GeneratedTypes.VpnConnectionIPsecConfiguration.PfsGroup])]
          [OutputType([System.String])]
          [OutputType([System.String])]
OutputTypeAttribute
				<element ref="maml:inputTypes"/>
	<!-- inputTypes definition -->
	<element name="inputTypes">
				The inputTypes element ...
				<element name="inputType" maxOccurs="unbounded">
	<!-- end inputTypes definition -->
				<element ref="maml:inputTypes"/>
	<!-- inputTypes definition -->
	<element name="inputTypes">
				The inputTypes element ...
				<element name="inputType" maxOccurs="unbounded">
	<!-- end inputTypes definition -->
      <element ref="command:inputTypes"/>
  <!-- inputTypes definition -->
  <element name="inputTypes" type="command:inputTypesType"/>
  <complexType name="inputTypesType">
      <element ref="command:inputType" maxOccurs="unbounded"/>
  <!-- end inputTypes definition -->
  <!-- inputType definition -->
  <element name="inputType" type="command:inputTypeType"/>
  <complexType name="inputTypeType">
  <!-- end inputTypedefinition -->
      <element ref="command:inputTypes"/>
  <!-- inputTypes definition -->
  <element name="inputTypes" type="command:inputTypesType"/>
  <complexType name="inputTypesType">
      <element ref="command:inputType" maxOccurs="unbounded"/>
  <!-- end inputTypes definition -->
  <!-- inputType definition -->
  <element name="inputType" type="command:inputTypeType"/>
  <complexType name="inputTypeType">
  <!-- end inputTypedefinition -->
.inputType_radio.template-input input {
.inputType_checkbox.template-input input {
.inputType_radio.template-input input + label {
.inputType_checkbox.template-input input + label {
.inputType_radio.template-input input:disabled + label {
.inputType_checkbox.template-input input:disabled + label {
.inputType_checkbox.template-input {
SynchronizedInputType
inputType
function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-html-languageservice/parser/htmlTags",["require","exports","../utils/strings","../utils/arrays","vscode-nls"],e)}(function(e,t){function n(e){return e&&u.binarySearch(t.EMPTY_ELEMENTS,e.toLowerCase(),function(e,t){return e.localeCompare(t)})>=0}function i(){var e=["aria-activedescendant","aria-atomic:b","aria-autocomplete:autocomplete","aria-busy:b","aria-checked:tristate","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current:current","aria-describedat","aria-describedby","aria-disabled:b","aria-dropeffect:dropeffect","aria-errormessage","aria-expanded:u","aria-flowto","aria-grabbed:u","aria-haspopup:b","aria-hidden:b","aria-invalid:invalid","aria-kbdshortcuts","aria-label","aria-labelledby","aria-level","aria-live:live","aria-modal:b","aria-multiline:b","aria-multiselectable:b","aria-orientation:orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed:tristate","aria-readonly:b","aria-relevant:relevant","aria-required:b","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected:u","aria-setsize","aria-sort:sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","accesskey","class","contenteditable:b","contextmenu","dir:d","draggable:b","dropzone","hidden:v","id","itemid","itemprop","itemref","itemscope:v","itemtype","lang","role:roles","spellcheck:b","style","tabindex","title","translate:y"],n=["onabort","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformchange","onforminput","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onreadystatechange","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],i={b:["true","false"],u:["true","false","undefined"],o:["on","off"],y:["yes","no"],w:["soft","hard"],d:["ltr","rtl","auto"],m:["GET","POST","dialog"],fm:["GET","POST"],s:["row","col","rowgroup","colgroup"],t:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"],im:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],bt:["button","submit","reset","menu"],lt:["1","a","A","i","I"],mt:["context","toolbar"],mit:["command","checkbox","radio"],et:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],tk:["subtitles","captions","descriptions","chapters","metadata"],pl:["none","metadata","auto"],sh:["circle","default","poly","rect"],xo:["anonymous","use-credentials"],sb:["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation"],tristate:["true","false","mixed","undefined"],inputautocomplete:["additional-name","address-level1","address-level2","address-level3","address-level4","address-line1","address-line2","address-line3","bday","bday-year","bday-day","bday-month","billing","cc-additional-name","cc-csc","cc-exp","cc-exp-month","cc-exp-year","cc-family-name","cc-given-name","cc-name","cc-number","cc-type","country","country-name","current-password","email","family-name","fax","given-name","home","honorific-prefix","honorific-suffix","impp","language","mobile","name","new-password","nickname","organization","organization-title","pager","photo","postal-code","sex","shipping","street-address","tel-area-code","tel","tel-country-code","tel-extension","tel-local","tel-local-prefix","tel-local-suffix","tel-national","transaction-amount","transaction-currency","url","username","work"],autocomplete:["inline","list","both","none"],current:["page","step","location","date","time","true","false"],dropeffect:["copy","move","link","execute","popup","none"],invalid:["grammar","false","spelling","true"],live:["off","polite","assertive"],orientation:["vertical","horizontal","undefined"],relevant:["additions","removals","text","all","additions text"],sort:["ascending","descending","none","other"],roles:["alert","alertdialog","button","checkbox","dialog","gridcell","link","log","marquee","menuitem","menuitemcheckbox","menuitemradio","option","progressbar","radio","scrollbar","searchbox","slider","spinbutton","status","switch","tab","tabpanel","textbox","timer","tooltip","treeitem","combobox","grid","listbox","menu","menubar","radiogroup","tablist","tree","treegrid","application","article","cell","columnheader","definition","directory","document","feed","figure","group","heading","img","list","listitem","math","none","note","presentation","region","row","rowgroup","rowheader","separator","table","term","text","toolbar","banner","complementary","contentinfo","form","main","navigation","region","search"]};return{getId:function(){return"html5"},isApplicable:function(){return!0},collectTags:function(e){return o(e,t.HTML_TAGS)},collectAttributes:function(i,r){s(i,r,t.HTML_TAGS,e),n.forEach(function(e){r(e,"event")})},collectValues:function(n,r,a){return l(n,r,a,t.HTML_TAGS,e,i)}}}function r(){var e={input:["ng-model","ng-required","ng-minlength","ng-maxlength","ng-pattern","ng-trim"],select:["ng-model"],textarea:["ng-model","ng-required","ng-minlength","ng-maxlength","ng-pattern","ng-trim"]},t=["ng-app","ng-bind","ng-bind-html","ng-bind-template","ng-blur","ng-change","ng-checked","ng-class","ng-class-even","ng-class-odd","ng-click","ng-cloak","ng-controller","ng-copy","ng-csp","ng-cut","ng-dblclick","ng-disabled","ng-focus","ng-form","ng-hide","ng-href","ng-if","ng-include","ng-init","ng-jq","ng-keydown","ng-keypress","ng-keyup","ng-list","ng-model-options","ng-mousedown","ng-mouseenter","ng-mouseleave","ng-mousemove","ng-mouseover","ng-mouseup","ng-non-bindable","ng-open","ng-options","ng-paste","ng-pluralize","ng-readonly","ng-repeat","ng-selected","ng-show","ng-src","ng-srcset","ng-style","ng-submit","ng-switch","ng-transclude","ng-value"];return{getId:function(){return"angular1"},isApplicable:function(e){return"html"===e},collectTags:function(e){},collectAttributes:function(n,i){if(n){var r=e[n];r&&r.forEach(function(e){i(e,null),i("data-"+e,null)})}t.forEach(function(e){i(e,null),i("data-"+e,null)})},collectValues:function(e,t,n){}}}function a(){var e={a:["nav-direction:navdir","nav-transition:trans"],button:["menu-toggle:menusides"]},n=["collection-repeat","force-refresh-images:b","ion-stop-event","item-height","item-render-buffer","item-width","menu-close:v","on-double-tap","on-drag","on-drag-down","on-drag-left","on-drag-right","on-drag-up","on-hold","on-release","on-swipe","on-swipe-down","on-swipe-left","on-swipe-right","on-swipe-up","on-tap","on-touch"],i={align:["center","left","right"],b:["true","false"],inputtype:["email","number","password","search","tel","text","url"],listtype:["card","list-inset"],menusides:["left","right"],navdir:["back","enter","exit","forward","swap"],navsides:["left","primary","right","secondary"],scrolldir:["x","xy","y"],trans:["android","ios","none"]};return{getId:function(){return"ionic"},isApplicable:function(e){return"html"===e},collectTags:function(e){return o(e,t.IONIC_TAGS)},collectAttributes:function(i,r){if(s(i,r,t.IONIC_TAGS,n),i){var a=e[i];a&&a.forEach(function(e){var t=e.split(":");r(t[0],t[1])})}},collectValues:function(r,a,o){return l(r,a,o,t.IONIC_TAGS,n,i,e)}}}function o(e,t){for(var n in t)e(n,t[n].label)}function s(e,t,n,i){if(i.forEach(function(e){var n=e.split(":");t(n[0],n[1])}),e){var r=n[e];if(r){var a=r.attributes;a&&a.forEach(function(e){var n=e.split(":");t(n[0],n[1])})}}}function l(e,t,n,i,r,a,o){var s=t+":",l=function(e){e.forEach(function(e){if(e.length>s.length&&c.startsWith(e,s)){var i=e.substr(s.length);if("v"===i)n(t);else{var r=a[i];r&&r.forEach(n)}}})};if(e){var u=i[e];if(u){var h=u.attributes;h&&l(h)}}if(l(r),o){var d=o[e];d&&l(d)}}var c=e("../utils/strings"),u=e("../utils/arrays"),h=e("vscode-nls"),d=h.loadMessageBundle();t.EMPTY_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],t.isEmptyElement=n;var p=function(){function e(e,t){void 0===t&&(t=[]),this.label=e,this.attributes=t}return e}();t.HTMLTagSpecification=p,t.HTML_TAGS={html:new p(d("tags.html","The html element represents the root of an HTML document."),["manifest"]),head:new p(d("tags.head","The head element represents a collection of metadata for the Document.")),title:new p(d("tags.title","The title element represents the document's title or name. Authors should use titles that identify their documents even when they are used out of context, for example in a user's history or bookmarks, or in search results. The document's title is often different from its first heading, since the first heading does not have to stand alone when taken out of context.")),base:new p(d("tags.base","The base element allows authors to specify the document base URL for the purposes of resolving relative URLs, and the name of the default browsing context for the purposes of following hyperlinks. The element does not represent any content beyond this information."),["href","target"]),link:new p(d("tags.link","The link element allows authors to link their document to other resources."),["href","crossorigin:xo","rel","media","hreflang","type","sizes"]),meta:new p(d("tags.meta","The meta element represents various kinds of metadata that cannot be expressed using the title, base, link, style, and script elements."),["name","http-equiv","content","charset"]),style:new p(d("tags.style","The style element allows authors to embed style information in their documents. The style element is one of several inputs to the styling processing model. The element does not represent content for the user."),["media","nonce","type","scoped:v"]),body:new p(d("tags.body","The body element represents the content of the document."),["onafterprint","onbeforeprint","onbeforeunload","onhashchange","onlanguagechange","onmessage","onoffline","ononline","onpagehide","onpageshow","onpopstate","onstorage","onunload"]),article:new p(d("tags.article","The article element represents a complete, or self-contained, composition in a document, page, application, or site and that is, in principle, independently distributable or reusable, e.g. in syndication. This could be a forum post, a magazine or newspaper article, a blog entry, a user-submitted comment, an interactive widget or gadget, or any other independent item of content. Each article should be identified, typically by including a heading (h1
noscript:new p(d("tags.noscript","The noscript element represents nothing if scripting is enabled, and represents its children if scripting is disabled. It is used to present different markup to user agents that support scripting and those that don't support scripting, by affecting how the document is parsed.")),template:new p(d("tags.template","The template element is used to declare fragments of HTML that can be cloned and inserted in the document by script.")),canvas:new p(d("tags.canvas","The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly."),["width","height"])},t.IONIC_TAGS={"ion-checkbox":new p(d("tags.ion.checkbox","The checkbox is no different than the HTML checkbox input, except it's styled differently. The checkbox behaves like any AngularJS checkbox."),["name","ng-false-value","ng-model","ng-true-value"]),"ion-content":new p(d("tags.ion.content","The ionContent directive provides an easy to use content area that can be configured to use Ionic's custom Scroll View, or the built-in overflow scrolling of the browser."),["delegate-handle","direction:scrolldir","has-bouncing:b","locking:b","on-scroll","on-scroll-complete","overflow-scroll:b","padding:b","scroll:b","scrollbar-x:b","scrollbar-y:b","start-x","start-y"]),"ion-delete-button":new p(d("tags.ion.deletebutton","Child of ionItem"),[]),"ion-footer-bar":new p(d("tags.ion.footerbar",'Adds a fixed footer bar below some content. Can also be a subfooter (higher up) if the "bar-subfooter" class is applied.'),["align-title:align","keyboard-attach:v"]),"ion-header-bar":new p(d("tags.ion.headerbar",'Adds a fixed header bar above some content. Can also be a subheader (lower down) if the "bar-subheader" class is applied.'),["align-title:align","no-tap-scroll:b"]),"ion-infinite-scroll":new p(d("tags.ion.infinitescroll","Child of ionContent or ionScroll. The ionInfiniteScroll directive allows you to call a function whenever the user gets to the bottom of the page or near the bottom of the page."),["distance","icon","immediate-check:b","on-infinite","spinner"]),"ion-input":new p(d("tags.ion.input",'ionInput is meant for text type inputs only. Ionic uses an actual <input type="text"> HTML element within the component, with Ionic wrapping to better handle the user experience and interactivity.'),["type:inputtype","clearInput:v"]),"ion-item":new p(d("tags.ion.item","Child of ionList."),[]),"ion-list":new p(d("tags.ion.list","The List is a widely used interface element in almost any mobile app, and can include content ranging from basic text all the way to buttons, toggles, icons, and thumbnails."),["can-swipe:b","delegate-handle","show-delete:b","show-reorder:b","type:listtype"]),"ion-modal-view":new p(d("tags.ion.modalview","The Modal is a content pane that can go over the user's main view temporarily. Usually used for making a choice or editing an item."),[]),"ion-nav-back-button":new p(d("tags.ion.navbackbutton","Child of ionNavBar. Creates a back button inside an ionNavBar. The back button will appear when the user is able to go back in the current navigation stack."),[]),"ion-nav-bar":new p(d("tags.ion.navbar","If you have an ionNavView directive, you can also create an <ion-nav-bar>, which will create a topbar that updates as the application state changes."),["align-title:align","delegate-handle","no-tap-scroll:b"]),"ion-nav-buttons":new p(d("tags.ion.navbuttons","Child of ionNavView. Use ionNavButtons to set the buttons on your ionNavBar from within an ionView."),["side:navsides"]),"ion-nav-title":new p(d("tags.ion.navtitle","Child of ionNavView. The ionNavTitle directive replaces an ionNavBar title text with custom HTML from within an ionView template."),[]),"ion-nav-view":new p(d("tags.ion.navview","The ionNavView directive is used to render templates in your application. Each template is part of a state. States are usually mapped to a url, and are defined programatically using angular-ui-router."),["name"]),"ion-option-button":new p(d("tags.ion.optionbutton","Child of ionItem. Creates an option button inside a list item, that is visible when the item is swiped to the left by the user."),[]),"ion-pane":new p(d("tags.ion.pane",'A simple container that fits content, with no side effects. Adds the "pane" class to the element.'),[]),"ion-popover-view":new p(d("tags.ion.popoverview","The Popover is a view that floats above an app's content. Popovers provide an easy way to present or gather information from the user."),[]),"ion-radio":new p(d("tags.ion.radio","The radio ionRirective is no different than the HTML radio input, except it's styled differently. The ionRadio behaves like AngularJS radio input."),["disabled:b","icon","name","ng-disabled:b","ng-model","ng-value","value"]),"ion-refresher":new p(d("tags.ion.refresher","Child of ionContent or ionScroll. Allows you to add pull-to-refresh to a scrollView. Place it as the first child of your ionContent or ionScroll element."),["disable-pulling-rotation:b","on-pulling","on-refresh","pulling-icon","pulling-text","refreshing-icon","spinner"]),"ion-reorder-button":new p(d("tags.ion.reorderbutton","Child of ionItem."),["on-reorder"]),"ion-scroll":new p(d("tags.ion.scroll","Creates a scrollable container for all content inside."),["delegate-handle","direction:scrolldir","has-bouncing:b","locking:b","max-zoom","min-zoom","on-refresh","on-scroll","paging:b","scrollbar-x:b","scrollbar-y:b","zooming:b"]),"ion-side-menu":new p(d("tags.ion.sidemenu","Child of ionSideMenus. A container for a side menu, sibling to an ionSideMenuContent directive."),["is-enabled:b","expose-aside-when","side:navsides","width"]),"ion-side-menu-content":new p(d("tags.ion.sidemenucontent","Child of ionSideMenus. A container for the main visible content, sibling to one or more ionSideMenu directives."),["drag-content:b","edge-drag-threshold"]),"ion-side-menus":new p(d("tags.ion.sidemenus","A container element for side menu(s) and the main content. Allows the left and/or right side menu to be toggled by dragging the main content area side to side."),["delegate-handle","enable-menu-with-back-views:b"]),"ion-slide":new p(d("tags.ion.slide","Child of ionSlideBox. Displays a slide inside of a slidebox."),[]),"ion-slide-box":new p(d("tags.ion.slidebox","The Slide Box is a multi-page container where each page can be swiped or dragged between."),["active-slide","auto-play:b","delegate-handle","does-continue:b","on-slide-changed","pager-click","show-pager:b","slide-interval"]),"ion-spinner":new p(d("tags.ion.spinner","The ionSpinner directive provides a variety of animated spinners."),["icon"]),"ion-tab":new p(d("tags.ion.tab","Child of ionTabs. Contains a tab's content. The content only exists while the given tab is selected."),["badge","badge-style","disabled","hidden","href","icon","icon-off","icon-on","ng-click","on-deselect","on-select","title"]),"ion-tabs":new p(d("tags.ion.tabs",'Powers a multi-tabbed interface with a tab bar and a set of "pages" that can be tabbed through.'),["delegate-handle"]),"ion-title":new p(d("tags.ion.title","ion-title is a component that sets the title of the ionNavbar"),[]),"ion-toggle":new p(d("tags.ion.toggle","A toggle is an animated switch which binds a given model to a boolean. Allows dragging of the switch's nub. The toggle behaves like any AngularJS checkbox otherwise."),["name","ng-false-value","ng-model","ng-true-value","toggle-class"]),"ion-view ":new p(d("tags.ion.view","Child of ionNavView. A container for view content and any navigational and header bar information."),["cache-view:b","can-swipe-back:b","hide-back-button:b","hide-nav-bar:b","view-title"])},t.getHTML5TagProvider=i,t.getAngularTagProvider=r,t.getIonicTagProvider=a}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-html-languageservice/parser/htmlParser",["require","exports","./htmlScanner","../utils/arrays","./htmlTags"],e)}(function(e,t){function n(e){for(var t=i.createScanner(e),n=new o(0,e.length,[],null),r=n,s=-1,l=t.scan();l!==i.TokenType.EOS;){switch(l){case i.TokenType.StartTagOpen:var c=new o(t.getTokenOffset(),e.length,[],r);r.children.push(c),r=c;break;case i.TokenType.StartTag:r.tag=t.getTokenText();break;case i.TokenType.StartTagClose:r.end=t.getTokenEnd(),a.isEmptyElement(r.tag)&&r!==n&&(r.closed=!0,r=r.parent);break;case i.TokenType.EndTagOpen:s=t.getTokenOffset();break;case i.TokenType.EndTag:for(var u=t.getTokenText().toLowerCase();!r.isSameTag(u)&&r!==n;)r.end=s,r.closed=!1,r=r.parent;r!==n&&(r.closed=!0,r.endTagStart=s);break;case i.TokenType.StartTagSelfClose:r!==n&&(r.closed=!0,r.end=t.getTokenEnd(),r=r.parent);break;case i.TokenType.EndTagClose:r!==n&&(r.end=t.getTokenEnd(),r=r.parent);break;case i.TokenType.AttributeName:var h=r.attributeNames;h||(r.attributeNames=h=[]),h.push(t.getTokenText())}l=t.scan()}for(;r!==n;)r.end=e.length,r.closed=!1,r=r.parent;return{roots:n.children,findNodeBefore:n.findNodeBefore.bind(n),findNodeAt:n.findNodeAt.bind(n)}}var i=e("./htmlScanner"),r=e("../utils/arrays"),a=e("./htmlTags"),o=function(){function e(e,t,n,i){this.start=e,this.end=t,this.children=n,this.parent=i}return e.prototype.isSameTag=function(e){return this.tag&&e&&this.tag.length===e.length&&this.tag.toLowerCase()===e},Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length?this.children[this.children.length-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.findNodeBefore=function(e){var t=r.findFirst(this.children,function(t){return e<=t.start})-1;if(t>=0){var n=this.children[t];if(e>n.start){if(e<n.end)return n.findNodeBefore(e);var i=n.lastChild;return i&&i.end===n.end?n.findNodeBefore(e):n}}return this},e.prototype.findNodeAt=function(e){var t=r.findFirst(this.children,function(t){return e<=t.start})-1;if(t>=0){var n=this.children[t];if(e>n.start&&e<=n.end)return n.findNodeAt(e)}return this},e}();t.Node=o,t.parse=n}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-languageserver-types/main",["require","exports"],e)}(function(e,t){var n;!function(e){function t(e,t){return{line:e,character:t}}function n(e){var t=e;return L.defined(t)&&L.number(t.line)&&L.number(t.character)}e.create=t,e.is=n}(n=t.Position||(t.Position={}));var i;!function(e){function t(e,t,i,r){if(L.number(e)&&L.number(t)&&L.number(i)&&L.number(r))return{start:n.create(e,t),end:n.create(i,r)};if(n.is(e)&&n.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+i+", "+r+"]")}function i(e){var t=e;return L.defined(t)&&n.is(t.start)&&n.is(t.end)}e.create=t,e.is=i}(i=t.Range||(t.Range={}));var r;!function(e){function t(e,t){return{uri:e,range:t}}function n(e){var t=e;return L.defined(t)&&i.is(t.range)&&(L.string(t.uri)||L.undefined(t.uri))}e.create=t,e.is=n}(r=t.Location||(t.Location={}));var a;!function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(a=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var o;!function(e){function t(e,t,n,i,r){var a={range:e,message:t};return L.defined(n)&&(a.severity=n),L.defined(i)&&(a.code=i),L.defined(r)&&(a.source=r),a}function n(e){var t=e;return L.defined(t)&&i.is(t.range)&&L.string(t.message)&&(L.number(t.severity)||L.undefined(t.severity))&&(L.number(t.code)||L.string(t.code)||L.undefined(t.code))&&(L.string(t.source)||L.undefined(t.source))}e.create=t,e.is=n}(o=t.Diagnostic||(t.Diagnostic={}));var s;!function(e){function t(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={title:e,command:t};return L.defined(n)&&n.length>0&&(r.arguments=n),r}function n(e){var t=e;return L.defined(t)&&L.string(t.title)&&L.string(t.title)}e.create=t,e.is=n}(s=t.Command||(t.Command={}));var l;!function(e){function t(e,t){return{range:e,newText:t}}function n(e,t){return{range:{start:e,end:e},newText:t}}function i(e){return{range:e,newText:""}}e.replace=t,e.insert=n,e.del=i}(l=t.TextEdit||(t.TextEdit={}));var c=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(l.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(l.replace(e,t))},e.prototype["delete"]=function(e){this.edits.push(l.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),u=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e?(this._workspaceEdit=e,e.changes.forEach(function(e){var n=new c(e.edits);t._textEditChanges[e.textDocument.uri]=n})):this._workspaceEdit={changes:[]}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(d.is(e)){var t=e,n=this._textEditChanges[t.uri];if(!n){var i=[],r={textDocument:t,edits:i};this._workspaceEdit.changes.push(r),n=new c(i),this._textEditChanges[t.uri]=n}return n}return this._textEditChanges[e]},e}();t.WorkspaceChange=u;var h;!function(e){function t(e){return{uri:e}}function n(e){var t=e;return L.defined(t)&&L.string(t.uri)}e.create=t,e.is=n}(h=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var d;!function(e){function t(e,t){return{uri:e,version:t}}function n(e){var t=e;return L.defined(t)&&L.string(t.uri)&&L.number(t.version)}e.create=t,e.is=n}(d=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var p;!function(e){function t(e,t,n,i){return{uri:e,languageId:t,version:n,text:i}}function n(e){var t=e;return L.defined(t)&&L.string(t.uri)&&L.string(t.languageId)&&L.number(t.version)&&L.string(t.text)}e.create=t,e.is=n}(p=t.TextDocumentItem||(t.TextDocumentItem={}));var f;!function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18}(f=t.CompletionItemKind||(t.CompletionItemKind={}));var g;!function(e){e.PlainText=1,e.Snippet=2}(g=t.InsertTextFormat||(t.InsertTextFormat={}));var m;!function(e){function t(e){return{label:e}}e.create=t}(m=t.CompletionItem||(t.CompletionItem={}));var v;!function(e){function t(e,t){return{items:e?e:[],isIncomplete:!!t}}e.create=t}(v=t.CompletionList||(t.CompletionList={}));var b;!function(e){function t(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t}(b=t.MarkedString||(t.MarkedString={}));var y;!function(e){function t(e,t){return t?{label:e,documentation:t}:{label:e}}e.create=t}(y=t.ParameterInformation||(t.ParameterInformation={}));var T;!function(e){function t(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={label:e};return L.defined(t)&&(r.documentation=t),L.defined(n)?r.parameters=n:r.parameters=[],r}e.create=t}(T=t.SignatureInformation||(t.SignatureInformation={}));var w;!function(e){e.Text=1,e.Read=2,e.Write=3}(w=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var _;!function(e){function t(e,t){var n={range:e};return L.number(t)&&(n.kind=t),n}e.create=t}(_=t.DocumentHighlight||(t.DocumentHighlight={}));var x;!function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18}(x=t.SymbolKind||(t.SymbolKind={}));var k;!function(e){function t(e,t,n,i,r){var a={name:e,kind:t,location:{uri:i,range:n}};return r&&(a.containerName=r),a}e.create=t}(k=t.SymbolInformation||(t.SymbolInformation={}));var S;!function(e){function t(e){return{diagnostics:e}}function n(e){var t=e;return L.defined(t)&&L.typedArray(t.diagnostics,o.is)}e.create=t,e.is=n}(S=t.CodeActionContext||(t.CodeActionContext={}));var C;!function(e){function t(e,t){var n={range:e};return L.defined(t)&&(n.data=t),n}function n(e){var t=e;return L.defined(t)&&i.is(t.range)&&(L.undefined(t.command)||s.is(t.command))}e.create=t,e.is=n}(C=t.CodeLens||(t.CodeLens={}));var A;!function(e){function t(e,t){return{tabSize:e,insertSpaces:t}}function n(e){var t=e;return L.defined(t)&&L.number(t.tabSize)&&L["boolean"](t.insertSpaces)}e.create=t,e.is=n}(A=t.FormattingOptions||(t.FormattingOptions={}));var E=function(){function e(){}return e}();t.DocumentLink=E,function(e){function t(e,t){return{range:e,target:t}}function n(e){var t=e;return L.defined(t)&&i.is(t.range)&&(L.undefined(t.target)||L.string(t.target))}e.create=t,e.is=n}(E=t.DocumentLink||(t.DocumentLink={})),t.DocumentLink=E,t.EOL=["\n","\r\n","\r"];var O;!function(e){function t(e,t,n,i){return new N(e,t,n,i)}function n(e){var t=e;return!!(L.defined(t)&&L.string(t.uri)&&(L.undefined(t.languageId)||L.string(t.languageId))&&L.number(t.lineCount)&&L.func(t.getText)&&L.func(t.positionAt)&&L.func(t.offsetAt))}e.create=t,e.is=n}(O=t.TextDocument||(t.TextDocument={}));var I;!function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(I=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}));var L,N=function(){function e(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(){return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,i=0;i<t.length;i++){n&&(e.push(i),n=!1);var r=t.charAt(i);n="\r"===r||"\n"===r,"\r"===r&&i+1<t.length&&"\n"===t.charAt(i+1)&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),i=0,r=t.length;if(0===r)return n.create(0,e);for(;i<r;){var a=Math.floor((i+r)/2);t[a]>e?r=a:i=a+1}var o=i-1;return n.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){function t(e){return"undefined"!=typeof e}function n(e){return"undefined"==typeof e}function i(e){return e===!0||e===!1}function r(e){return"[object String]"===l.call(e)}function a(e){return"[object Number]"===l.call(e)}function o(e){return"[object Function]"===l.call(e)}function s(e,t){return Array.isArray(e)&&e.every(t)}var l=Object.prototype.toString;e.defined=t,e.undefined=n,e["boolean"]=i,e.string=r,e.number=a,e.func=o,e.typedArray=s}(L||(L={}))}),define("vscode-languageserver-types",["vscode-languageserver-types/main"],function(e){return e}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-html-languageservice/parser/razorTags",["require","exports"],e)}(function(e,t){function n(){var e={a:["asp-action","asp-controller","asp-fragment","asp-host","asp-protocol","asp-route"],div:["asp-validation-summary"],form:["asp-action","asp-controller","asp-anti-forgery"],input:["asp-for","asp-format"],label:["asp-for"],select:["asp-for","asp-items"],span:["asp-validation-for"]};return{getId:function(){return"razor"},isApplicable:function(e){return"razor"===e},collectTags:function(e){},collectAttributes:function(t,n){if(t){var i=e[t];i&&i.forEach(function(e){return n(e,null)})}},collectValues:function(e,t,n){}}}t.getRazorTagProvider=n}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-html-languageservice/services/tagProviders",["require","exports","../parser/htmlTags","../parser/razorTags"],e)}(function(e,t){var n=e("../parser/htmlTags"),i=e("../parser/razorTags");t.allTagProviders=[n.getHTML5TagProvider(),n.getAngularTagProvider(),n.getIonicTagProvider(),i.getRazorTagProvider()]}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-html-languageservice/services/htmlCompletion",["require","exports","vscode-languageserver-types","../parser/htmlScanner","./tagProviders"],e)}(function(e,t){function n(e,t,n,u){function h(t,n){return void 0===n&&(n=w),t>w&&(t=w),{start:e.positionAt(t),end:e.positionAt(n)}}function d(e,t){var n=h(e,t);return T.forEach(function(e){e.collectTags(function(e,t){y.items.push({label:e,kind:s.CompletionItemKind.Property,documentation:t,textEdit:s.TextEdit.replace(n,e),insertTextFormat:s.InsertTextFormat.PlainText})})}),y}function p(e){for(var t=e;t>0;){var n=S.charAt(t-1);if("\n\r".indexOf(n)>=0)return S.substring(t,e);if(!i(n))return null;t--}return S.substring(0,e)}function f(e,t,n){void 0===n&&(n=w);for(var i=h(e,n),a=r(S,n,l.ScannerState.WithinEndTag,l.TokenType.EndTagClose)?"":">",o=_;o;){var c=o.tag;if(c&&(!o.closed||o.endTagStart>w)){var u={label:"/"+c,kind:s.CompletionItemKind.Property,filterText:"/"+c+a,textEdit:s.TextEdit.replace(i,"/"+c+a),insertTextFormat:s.InsertTextFormat.PlainText},d=p(o.start),f=p(e-1);if(null!==d&&null!==f&&d!==f){var g=d+"</"+c+a;u.textEdit=s.TextEdit.replace(h(e-1-f.length),g),u.filterText=f+"</"+c+a}return y.items.push(u),y}o=o.parent}return t?y:(T.forEach(function(e){e.collectTags(function(e,t){y.items.push({label:"/"+e,kind:s.CompletionItemKind.Property,documentation:t,filterText:"/"+e+a,textEdit:s.TextEdit.replace(i,"/"+e+a),insertTextFormat:s.InsertTextFormat.PlainText})})}),y)}function g(e,t){return d(e,t),f(e,!0,t),y}function m(e,t){void 0===t&&(t=w);var n=h(e,t),i=r(S,t,l.ScannerState.AfterAttributeName,l.TokenType.DelimiterAssign)?"":'="$1"',a=x.toLowerCase();return T.forEach(function(e){e.collectAttributes(a,function(e,t){var r=e;"v"!==t&&i.length&&(r+=i),y.items.push({label:e,kind:"handler"===t?s.CompletionItemKind.Function:s.CompletionItemKind.Value,textEdit:s.TextEdit.replace(n,r),insertTextFormat:s.InsertTextFormat.Snippet})})}),y}function v(e,t){var n,i;if(w>e&&w<=t&&'"'===S[e]){t>w&&'"'===S[t-1]&&t--;var r=a(S,w,e+1),l=o(S,w,t);n=h(r,l),i=!1}else n=h(e,t),i=!0;var c=x.toLowerCase(),u=k.toLowerCase();return T.forEach(function(e){e.collectValues(c,u,function(e){var t=i?'"'+e+'"':e;y.items.push({label:e,filterText:t,kind:s.CompletionItemKind.Unit,textEdit:s.TextEdit.replace(n,t),insertTextFormat:s.InsertTextFormat.PlainText})})}),y}function b(e){return w===C.getTokenEnd()&&(A=C.scan(),A===e&&C.getTokenOffset()===w)?C.getTokenEnd():w}var y={isIncomplete:!1,items:[]},T=c.allTagProviders.filter(function(t){return t.isApplicable(e.languageId)&&(!u||!!u[t.getId()])}),w=e.offsetAt(t),_=n.findNodeBefore(w);if(!_)return y;for(var x,k,S=e.getText(),C=l.createScanner(S,_.start),A=C.scan();A!==l.TokenType.EOS&&C.getTokenOffset()<=w;){switch(A){case l.TokenType.StartTagOpen:if(C.getTokenEnd()===w){var E=b(l.TokenType.StartTag);return g(w,E)}break;case l.TokenType.StartTag:if(C.getTokenOffset()<=w&&w<=C.getTokenEnd())return d(C.getTokenOffset(),C.getTokenEnd());x=C.getTokenText();break;case l.TokenType.AttributeName:if(C.getTokenOffset()<=w&&w<=C.getTokenEnd())return m(C.getTokenOffset(),C.getTokenEnd());k=C.getTokenText();break;case l.TokenType.DelimiterAssign:if(C.getTokenEnd()===w)return v(C.getTokenEnd());break;case l.TokenType.AttributeValue:if(C.getTokenOffset()<=w&&w<=C.getTokenEnd())return v(C.getTokenOffset(),C.getTokenEnd());break;case l.TokenType.Whitespace:if(w<=C.getTokenEnd())switch(C.getScannerState()){case l.ScannerState.AfterOpeningStartTag:var O=C.getTokenOffset(),I=b(l.TokenType.StartTag);return g(O,I);case l.ScannerState.WithinTag:case l.ScannerState.AfterAttributeName:return m(C.getTokenEnd());case l.ScannerState.BeforeAttributeValue:return v(C.getTokenEnd());case l.ScannerState.AfterOpeningEndTag:return f(C.getTokenOffset()-1,!1)}break;case l.TokenType.EndTagOpen:if(w<=C.getTokenEnd()){var L=C.getTokenOffset()+1,N=b(l.TokenType.EndTag);return f(L,!1,N)}break;case l.TokenType.EndTag:if(w<=C.getTokenEnd())for(var W=C.getTokenOffset()-1;W>=0;){var D=S.charAt(W);if("/"===D)return f(W,!1,C.getTokenEnd());if(!i(D))break;W--}break;default:if(w<=C.getTokenEnd())return y}A=C.scan()}return y}function i(e){return/^\s*$/.test(e)}function r(e,t,n,i){for(var r=l.createScanner(e,t,n),a=r.scan();a===l.TokenType.Whitespace;)a=r.scan();return a==i}function a(e,t,n){for(;t>n&&!i(e[t-1]);)t--;return t}function o(e,t,n){for(;t<n&&!i(e[t]);)t++;return t}var s=e("vscode-languageserver-types"),l=e("../parser/htmlScanner"),c=e("./tagProviders");t.doComplete=n}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-html-languageservice/services/htmlHover",["require","exports","../parser/htmlScanner","vscode-languageserver-types","./tagProviders"],e)}(function(e,t){function n(e,t,n){function o(e,t,n){e=e.toLowerCase();for(var i=function(i){var a;if(i.collectTags(function(i,o){if(i===e){var s=n?"<"+e+">":"</"+e+">";a={contents:[{language:"html",value:s},r.MarkedString.fromPlainText(o)],range:t}}}),a)return{value:a}},a=0,o=u;a<o.length;a++){var s=o[a],l=i(s);if("object"==typeof l)return l.value}}function s(t,n){for(var r=i.createScanner(e.getText(),n),a=r.scan();a!==i.TokenType.EOS&&(r.getTokenEnd()<l||r.getTokenEnd()==l&&a!==t);)a=r.scan();return a===t&&l<=r.getTokenEnd()?{start:e.positionAt(r.getTokenOffset()),end:e.positionAt(r.getTokenEnd())}:null}var l=e.offsetAt(t),c=n.findNodeAt(l);if(c&&c.tag){var u=a.allTagProviders.filter(function(t){return t.isApplicable(e.languageId)});if(!(c.endTagStart&&l>=c.endTagStart)){var h=s(i.TokenType.StartTag,c.start);return h?o(c.tag,h,!0):void 0}var d=s(i.TokenType.EndTag,c.endTagStart);if(d)return o(c.tag,d,!1)}}var i=e("../parser/htmlScanner"),r=e("vscode-languageserver-types"),a=e("./tagProviders");t.doHover=n}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-html-languageservice/beautify/beautify",["require","exports"],e)}(function(e,t){function n(e,t){return e}t.js_beautify=n}),/*
function logUserInterestedShownTelemetry(n){__gMsEdge.message.logAutoFormFillTelemetry({command:"telemetry",telemetryEventName:"FormFill_UserInterestShown",formName:n,isPersonalForm:__gMsEdge.common.currentForm.isPersonal,isPaymentForm:__gMsEdge.common.currentForm.isPayment,isGenericForm:__gMsEdge.common.currentForm.isGeneric})}window.__gMsEdge={};var topIframeCoordinates={},__gIsIframeAutofillEnabled=!1;__gMsEdge.windowIdObject={};__gMsEdge.numberOfRequiredFields=1,function(){"use strict";__gMsEdge.windowId=""+Math.round(Math.random()*1e16);window.setTimeout(function(){__gMsEdge.message&&__gMsEdge.message.invokeQueues()},0)}();__gMsEdge.common={},function(){"use strict";__gMsEdge.common.JSONSafeObject=function(){};__gMsEdge.common.JSONSafeObject.prototype.toJSON=null;__gMsEdge.common.JSONStringify=JSON.stringify;__gMsEdge.common.kNamelessFormIDPrefix="MSEdge~";__gMsEdge.common.kNamelessFieldIDPrefix="MSEdge~Field~";__gMsEdge.common.userInterestedForm={};__gMsEdge.common.isElementVisible=function(n){for(var t=n,i;t&&t!==document;){if(t.nodeType===Node.ELEMENT_NODE&&(i=window.getComputedStyle(t),i.display==="none"||i.visibility==="hidden"))return!1;t=t.parentNode}return!0};__gMsEdge.common.isFormControlElement=function(n){var t=n.tagName;return t==="INPUT"||t==="SELECT"||t==="TEXTAREA"};__gMsEdge.common.getFormControlElements=function(n){var r,t,i;if(!n)return[];if(r=[],t=n.elements,t!=null)for(i=0;i<t.length;i++)__gMsEdge.common.isFormControlElement(t[i])&&r.push(t[i]);return r};__gMsEdge.common.autoComplete=function(n){return n?__gMsEdge.common.getLowerCaseAttribute(n,"autocomplete")==="off"?!1:!__gMsEdge.common.getLowerCaseAttribute(n,"autocomplete")&&__gMsEdge.common.getLowerCaseAttribute(n.form,"autocomplete")==="off"?!1:!0:!1};__gMsEdge.common.isTextField=function(n){return n?n.type==="hidden"?!1:n.type==="text"||n.type==="email"||n.type==="tel"||n.type==="url"||n.type==="number":!1};__gMsEdge.common.setInputElementChecked=function(n,t){var i=t.checked!==n;t.checked=n;i&&__gMsEdge.common.createAndDispatchHTMLEvent(t,"change",!0,!1)};__gMsEdge.common.setInputElementValue=function(n,t,i,r=""){var u=__gMsEdge.common.sanitizeValueForInputElement(n,t),f=u!==t.value;t.value=u;f&&i&&(__gMsEdge.common.createAndDispatchHTMLEvent(t,"input",!0,!1,r),__gMsEdge.common.createAndDispatchHTMLEvent(t,"change",!0,!1,r))};__gMsEdge.common.sanitizeValueForInputElement=function(n,t){return n?__gMsEdge.common.isTextField(t)?__gMsEdge.common.sanitizeValueForTextFieldInputType(n,t):n:""};__gMsEdge.common.sanitizeValueForTextFieldInputType=function(n,t){var e=t.type,r,u,i,f;if(e==="email")return __gMsEdge.common.sanitizeValueForEmailInputType(n,t);if(e==="number")return __gMsEdge.common.sanitizeValueForNumberInputType(n);for(r=n.replace(/(\r\n|\n|\r)/gm,""),u=r.length,i=0;i<u;++i)if(f=r[i],f<" "&&f!="\t"){u=i;break}return r.substring(0,u)};__gMsEdge.common.sanitizeValueForEmailInputType=function(n,t){var u=n.replace(/(\r\n|\n\r)/gm,""),i,r;if(!t.multiple)return __gMsEdge.common.trim(n);for(i=u.split(","),r=0;r<i.length;++r)i[r]=__gMsEdge.common.trim(i[r]);return i.join(",")};__gMsEdge.common.sanitizeValueForNumberInputType=function(n){var t=Number(n);return isNaN(t)?"":t.toString()};__gMsEdge.common.trim=function(n){return n.replace(/^\s+|\s+$/g,"")};__gMsEdge.common.nameForAutofill=function(n){if(!n)return"";var t=n.name;return t&&(t=__gMsEdge.common.trim(t),t.length>0)?t:(t=n.getAttribute("id"),t)?__gMsEdge.common.trim(t):""};__gMsEdge.common.getLowerCaseAttribute=function(n,t){if(!n)return null;var i=n.getAttribute(t);return i?i.toLowerCase():null};__gMsEdge.common.getTextDirection=function(n){return window.getComputedStyle(n).direction.toLowerCase()};__gMsEdge.common.absoluteURL=function(n,t){if(n.location.protocol==="data:")return n.location.href;var i=n.__gMsEdgeURLNormalizer;return i||(i=n.createElement("a"),n.__gMsEdgeURLNormalizer=i),i.href=t,i.href};__gMsEdge.common.removeQueryAndReferenceFromURL=function(n){var i=n.indexOf("?"),t;return i!=-1?n.substring(0,i):(t=n.indexOf("#"),t!=-1)?n.substring(0,t):n};__gMsEdge.common.getFormIdentifier=function(n){if(!n)return"";let t=n.getAttribute("name");if(t&&t.length!=0||(t=n.getAttribute("id"),t))return t;for(let t=0;t<document.forms.length;t++)if(document.forms[t]==n)return __gMsEdge.common.kNamelessFormIDPrefix+t;return""};__gMsEdge.common.getFieldIdentifier=function(n){if(!n||!n.form)return undefined;let t=n.getAttribute("id");if(t||(t=n.getAttribute("name"),t&&t.length!=0))return t;for(let t=0;t<n.form.elements.length;t++)if(n.form.elements[t]==n)return __gMsEdge.common.kNamelessFieldIDPrefix+t;return undefined};__gMsEdge.common.getZoomRatio=function(){let n=1;return __gIsIframeAutofillEnabled&&window.self!==window.top?n=topIframeCoordinates.zoomRatio:document.documentElement&&document.documentElement.msContentZoomFactor&&!isNaN(document.documentElement.msContentZoomFactor)&&(n=document.documentElement.msContentZoomFactor),n};__gMsEdge.common.AddFontDetails=function(n,t){let i=window.getComputedStyle(n),e=i.fontFamily;e&&(t.fieldFontFamily=e);let r=__gMsEdge.common.getZoomRatio();t.fieldFontSize=__gMsEdge.common.GetNumberFromPixels(i.fontSize,13)*r;const u=0;let o=__gMsEdge.common.GetNumberFromPixels(i["padding-left"],u),s=__gMsEdge.common.GetNumberFromPixels(i["padding-top"],u),h=__gMsEdge.common.GetNumberFromPixels(i["padding-right"],u),c=__gMsEdge.common.GetNumberFromPixels(i["padding-bottom"],u);const f=2.5;let l=[(o+f)*r,(s+f)*r,(h+f)*r,(c+f)*r];t.fieldPadding=l};__gMsEdge.common.GetNumberFromPixels=function(n,t){var i=t;return n&&(n=n.replace("px",""),n&&!isNaN(n)&&(n=parseInt(n),n&&(i=n))),i};__gMsEdge.common.getFormElementFromIdentifier=function(n){var i=document.forms.namedItem(n),t;return i?i.nodeType!==Node.ELEMENT_NODE?null:i:n.indexOf(__gMsEdge.common.kNamelessFormIDPrefix)==0&&(t=0|n.substring(__gMsEdge.common.kNamelessFormIDPrefix.length),__gMsEdge.common.kNamelessFormIDPrefix+t==n&&t<document.forms.length)?document.forms[t]:null};__gMsEdge.common.getElementFromIdentity=function(n){let t=undefined;if(n&&(t=document.getElementById(n),!t)){let i=document.getElementsByName(n);i.length===1&&(t=i[0])}return t};__gMsEdge.common.createAndDispatchHTMLEvent=function(n,t,i,r,u=""){var f=new CustomEvent(t,{detail:u,bubbles:i,cancelable:r});n.dispatchEvent(f)};__gMsEdge.common.isNameAndIdContainString=function(n,t){return!n.name||!n.id?!1:n.name.toLowerCase().includes(t)&&n.id.toLowerCase().includes(t)};__gMsEdge.common.getPlaceholder=function(n){if(!n)return"";let t=n.placeholder;return(t||(t=n.getAttribute("data-placeholder")),t)?__gMsEdge.common.trim(t):""}}();__gMsEdge.message={},function(){"use strict";function i(n){if(__gMsEdge.windowIdObject&&typeof __gMsEdge.windowId=="string"){var t=Object.prototype.toJSON;t&&(Object.prototype.toJSON=null);n.queue.forEach(function(n){var i=__gMsEdge.common.JSONStringify({crwCommand:n,crwWindowId:__gMsEdge.windowId}),t={crwCommand:__gMsEdge.common.JSONStringify(n),crwWindowId:__gMsEdge.windowId};browser.webruntime.postMessageToHost([__gMsEdge.token,JSON.stringify(t)])});n.reset();t&&(Object.prototype.toJSON=t)}}var t={scheme:"crwebinvokeimmediate",reset:function(){t.queue=[];t.queue.toJSON=null}},n;t.reset();n={scheme:"crwebinvoke",reset:function(){n.queue=[];n.queue.toJSON=null}};n.reset();__gMsEdge.message.invokeOnHostImmediate=function(n){document&&document.body&&(t.queue.push(n),i(t))};__gMsEdge.message.logAutoFormFillTelemetry=function(t){n.queue.push(t);i(n)};__gMsEdge.message.invokeOnHost=function(t){window.__gMsEdge_Verifying||(n.queue.push(t),i(n))};__gMsEdge.message.getMessageQueue=function(){var t=__gMsEdge.common.JSONStringify(n.queue);return n.reset(),t};__gMsEdge.message.invokeQueues=function(){t.queue.length>0&&i(t);n.queue.length>0&&i(n)}}(),function(){"use strict";function f(n,t){__gMsEdge.message.logAutoFormFillTelemetry({command:"telemetry",telemetryEventName:"FormFill_OptionNotSelected",fieldName:n,isPersonalForm:__gMsEdge.common.currentForm.isPersonal,isPaymentForm:__gMsEdge.common.currentForm.isPayment,isGenericForm:__gMsEdge.common.currentForm.isGeneric,reason:t})}function e(n){var u,t,f,r;n&&(u=__gMsEdge.autofill.EXTRACT_MASK_VALUE|__gMsEdge.autofill.EXTRACT_MASK_OPTIONS,t=__gMsEdge.autofill.webFormElementToFormData(window,n,null,u,null),t||(t=new __gMsEdge.common.JSONSafeObject),v(n,t)&&(f=n.target&&c(window,n.target),r=n.getAttribute("action"),r||(r=document.location.href),i({command:"document.submit",formName:__gMsEdge.common.getFormIdentifier(n),href:__gMsEdge.getFullyQualifiedURL(r),formData:t,targetsFrame:f})))}function w(){let t=__gMsEdge.autofill.EXTRACT_MASK_VALUE|__gMsEdge.autofill.EXTRACT_MASK_OPTIONS,n=__gMsEdge.autofill.GetUnownedFormData_(t,__gMsEdge.numberOfRequiredFields);n&&i({command:"document.submit",formName:__gMsEdge.unownedFormId,href:document.location.href,formData:n,targetsFrame:n.target})}function b(n,t,i){let f=-1;if(t=t.toLowerCase().trim(),t){if(n.tagName.toLowerCase()==="div")f=i===u.Personal?t.search(r.supportedDivPatternsForPersonalForms):t.search(r.supportedDivPatternsForPaymentForms);else if(f=t.search(r.supportedPatterns),f!=-1&&(n.tagName.toLowerCase()==="a"||n.tagName.toLowerCase()==="span")){let t=n.outerHTML.toLowerCase().trim();t&&(f=i===u.Personal?t.search(r.supprotedHTMLTextPatternsForPersonalForms):t.search(r.supprotedHTMLTextPatternsForPaymentForms))}if(f!==-1)return f=t.search(r.unsupportedPatterns),f===-1}return!1}function k(n,t){return!n||!t||n.top<=t.top||n.left<=t.left}function o(n,t,i,r,u){return b(n,t,u)&&k(r,i)}function s(n,i){return t[n].submitHandled||(t[n].submitHandled=i),t[n].submitHandled===i}function a(n,t){return t&&!__gMsEdge.core.isElementHidden(n)}function v(n,t){var i=__gMsEdge.autofill.extractAutofillableElementsInForm(n),r=__gMsEdge.autofill.scanFormControlElements_(i);return __gMsEdge.autofill.isFormInteresting_(t,r,__gMsEdge.numberOfRequiredFields)}function d(t){return n==!0&&t===27?(f(__gMsEdge.common.currentFieldName,"Escape"),!0):t===40||t===38||n==!0&&t===9||t===13}function g(){function u(t){var r=t.srcElement,h,c,e,o,f,s;if(r){if(h=r.name||r.id||"",c=r.value||"",r.form||__gMsEdge.foundUnownedPaymentFields&&__gMsEdge.autofill.isAutofillableInputElement(r)){if(t.type=="keydown"&&!d(t.keyCode))return}else return;if(t.detail!=="AutoFill_FillEvent"&&(t.detail!=="AutoFill_ClearEvent"||t.type!=="input")){e=__gMsEdge.autofill.EXTRACT_MASK_VALUE|__gMsEdge.autofill.EXTRACT_MASK_OPTIONS;let u;if(r.form){if(u=__gMsEdge.autofill.webFormElementToFormData(window,r.form,null,e,r),!u||!v(r.form,u))return;o=function(){__gMsEdge.core.clearFormCache();r.removeEventListener("focusout",o)};let n=__gMsEdge.common.getFieldIdentifier(r);n&&!__gMsEdge.isCurrentFieldFocusEventAdded[n]&&(r.addEventListener("focusout",o),__gMsEdge.isCurrentFieldFocusEventAdded[n]=!0)}else if(u=__gMsEdge.autofill.GetUnownedFormData_(e,__gMsEdge.numberOfRequiredFields),!u)return;t.type=="input"&&(f=r.form?__gMsEdge.common.getFormIdentifier(r.form):__gMsEdge.unownedFormId,__gMsEdge.common.userInterestedForm[f]==undefined&&(__gMsEdge.common.userInterestedForm[f]=!0,logUserInterestedShownTelemetry(f)));s={command:"form.activity",formName:r.form?__gMsEdge.common.getFormIdentifier(r.form):__gMsEdge.unownedFormId,fieldIdentifier:h,type:t.type,formData:u,value:c,dropDownVisibility:n};t.keyCode&&(s.keyCode=t.keyCode,t.keyCode==13&&l==!1&&(t.preventDefault(),t.stopPropagation()));__gMsEdge.common.currentFieldName=r.name;i(s)}}}function f(n){var t,e,f,i,o,r,s,c;let h=window.self===top;try{if(t=JSON.parse(n.data),!t.msg)return}catch(a){return}let l=btoa(window.location.href.split(/[?#]/)[0]);if(t.msg==="sendCoordinates"){if(t.formfillIdentifier!==l)return;if(h){for(f=document.getElementsByTagName("iframe"),e=t.urlStack.pop(),__gMsEdge.callerIframePathCache=e,i=0;i<f.length;i++)if(f[i].src===e){o=f[i];r=o.getBoundingClientRect();topIframeCoordinates.currentIframe={left:r.left+document.body.scrollLeft-window.pageXOffset,top:r.top+document.body.scrollTop-window.pageYOffset,right:r.right+document.body.scrollLeft-window.pageXOffset,bottom:r.bottom+document.body.scrollTop-window.pageYOffset};topIframeCoordinates.innerWidth=window.innerWidth;topIframeCoordinates.innerHeight=window.innerHeight;topIframeCoordinates.zoomRatio=__gMsEdge.common.getZoomRatio();let n={msg:"getCoordinates",coOrdinates:topIframeCoordinates,guidStack:t.guidStack,urlStack:t.urlStack};o.contentWindow.postMessage(JSON.stringify(n),o.src)}}else{if(t.messageIframeDepth>=__gMsEdge.postMessageDepthLimit)return;t.guidStack.push(__gMsEdge.frameGuid);t.urlStack.push(window.location.href);let n={msg:"sendCoordinates",urlStack:t.urlStack,guidStack:t.guidStack,formfillIdentifier:__gMsEdge.formfillIdentifier,messageIframeDepth:t.messageIframeDepth+1},i=document.refferer?document.reffer:"*";window.parent.postMessage(JSON.stringify(n),i)}}else if(h||t.msg!=="getCoordinates")t.msg==="scroll"&&p(t.messageIframeDepth);else{if(t.guidStack&&t.guidStack.pop()!=__gMsEdge.frameGuid)return;if(t.guidStack.length!==0){for(e=t.urlStack.pop(),f=document.getElementsByTagName("iframe"),__gMsEdge.callerIframePathCache=e,i=0;i<f.length;i++)if(f[i].src===e){o=f[i];r=o.getBoundingClientRect();for(s in t.coOrdinates)topIframeCoordinates[s]=t.coOrdinates[s];topIframeCoordinates.currentIframe.left+=r.left+document.body.scrollLeft-window.pageXOffset;topIframeCoordinates.currentIframe.top+=r.top+document.body.scrollTop-window.pageYOffset;topIframeCoordinates.currentIframe.right+=r.left+document.body.scrollLeft-window.pageXOffset;topIframeCoordinates.currentIframe.bottom+=r.top+document.body.scrollTop-window.pageYOffset;let n={msg:"getCoordinates",coOrdinates:topIframeCoordinates,guidStack:t.guidStack,urlStack:t.urlStack};o.contentWindow.postMessage(JSON.stringify(n),e)}}else{for(s in t.coOrdinates)topIframeCoordinates[s]=t.coOrdinates[s];c=__gMsEdge.eventCache;u(c)}}}function r(){typeof r.isLogged=="undefined"&&(r.isLogged=!0,__gMsEdge.message.logAutoFormFillTelemetry({command:"telemetry",telemetryEventName:"FormFill_FormType",isTopWindow:self===top}))}var t=function(n){if(r(),__gIsIframeAutofillEnabled&&window.self!==top){let t=[__gMsEdge.frameGuid],i=[window.location.href],r={msg:"sendCoordinates",urlStack:i,guidStack:t,formfillIdentifier:__gMsEdge.formfillIdentifier,messageIframeDepth:1};__gMsEdge.eventCache=n;let u=document.refferer?document.reffer:"*";window.parent.postMessage(JSON.stringify(r),u)}else u(n)};__gIsIframeAutofillEnabled&&window.addEventListener("message",f,!1);document.addEventListener("change",t,!0);document.addEventListener("input",t,!1);document.addEventListener("keydown",t,!1);document.addEventListener("click",t,!1)}function nt(n){let r=window.location.hostname,t=__gMsEdge.DomainsAndTagsWithPatterns[r],i=n.tagName.toLowerCase().trim();if(t[i]){let r=n.innerText?n.innerText.toLowerCase().trim():undefined;if(r)return r.search(t[i])!==-1}return!1}function y(n,t,i){let u=window.location.hostname;if(__gMsEdge.DomainsAndTagsWithPatterns[u])return nt(n);let r=n.tagName.toLowerCase().trim();return r==="input"&&n.type.toLowerCase().trim()==="button"?n.value&&o(n,n.value,n.getBoundingClientRect(),t,i):r==="button"||r==="a"||r==="span"?n.innerText&&o(n,n.innerText,n.getBoundingClientRect(),t,i):r==="div"?n.outerHTML&&o(n,n.outerHTML,n.getBoundingClientRect(),t,i):!1}function tt(n){let i=it(n);if(!i&&Object.keys(t).length===1){let n=Object.keys(t)[0];i=__gMsEdge.common.getFormElementFromIdentifier(n)}return i}function it(n){var i=n.form,t=n;if(!i)while(t&&t!=document){if(t.tagName&&t.tagName.toLowerCase()==="form"){i=t;break}t=t.parentNode}return i}function i(n){__gMsEdge.message.invokeOnHost(n)}var h;__gMsEdge.core={};var l=!0,n=!1,t={},r={supportedPatterns:/(pay|save|saving|done|start|review your order|place order|checkout|check out|continue|next|update|add|review order|complete|submit)/,supportedDivPatternsForPaymentForms:/(submit|place order|continue to order review|update)/,supportedDivPatternsForPersonalForms:/(submit|save|update|continue)/,supprotedHTMLTextPatternsForPaymentForms:/(payment|credit|card|submit|checkout|check out|pay now)/,supprotedHTMLTextPatternsForPersonalForms:/(submit|save|update|continue)/,unsupportedPatterns:/(cancel|discard|clear|previous|continue shopping|remove)/},u=Object.freeze({Personal:0,Personal_Payment:1,Payment:2});__gMsEdge.submitTrigger=Object.freeze({ClickEvent:1,SubmitEvent:2});__gMsEdge.hasPasswordField=function(){return h(window)};__gMsEdge.DomainsAndTagsWithPatterns={"www.bestbuy.com":{p:/(place your order|continue to payment information)/,span:/(place your order|continue to payment information)/,button:/(place your order|continue to payment information)/}};__gMsEdge.stringify=function(n){var t,i;return n===null?"null":typeof n.toJSON=="function"?(t=n.toJSON,n.toJSON=null,i=__gMsEdge.common.JSONStringify(n),n.toJSON=t,i):__gMsEdge.common.JSONStringify(n)};__gMsEdge.core.setDropDownVisibility=function(t){n=t};__gMsEdge.core.setPropogateEnter=function(n){l=n};__gMsEdge.core.isElementHidden=function(n){return!n.offsetWidth&&!n.offsetHeight&&!n.getClientRects().length||!__gMsEdge.autofill.isVisibleNode(n)};__gMsEdge.core.addSubmitListenerToPaymentForm=function(n){let h=n.formId,l=!n.isFormTag,r=u.Personal;switch(n.typeOfForm){case 1:r=u.Personal_Payment;break;case 2:r=u.Payment}let i=__gMsEdge.common.getFormElementFromIdentifier(h),v=n.clickedFieldDetails,f=__gMsEdge.common.getElementFromIdentity(v);f&&!i&&(i=f.form);let o=undefined,c="FormNotFound";if(i||l){if(!l){let n=i.getElementsByTagName("input"),t=n.length;for(let i=0;i<t;i++){let t=n[i];if(t.type==="submit"&&a(t,t.value)){o=t;break}}if(!o){let n=i.getElementsByTagName("button"),t=n.length;for(let i=0;i<t;i++){let t=n[i];if(t.type==="submit"&&a(t,t.innerText)){o=t;break}}}}t[h]={};o?(c="SubmitButtonFound",o.addEventListener("click",function(){s(h,__gMsEdge.submitTrigger.ClickEvent)&&e(i)})):f?(c="ListeningToOtherEvents",document.addEventListener("click",function(n){if(n.target)if(l&&r!==u.Personal){if(y(n.target,f.getBoundingClientRect(),r)||n.target.type==="submit"){w();return}}else{let t=tt(n.target);if(t&&y(n.target,f.getBoundingClientRect(),r)&&s(h,__gMsEdge.submitTrigger.ClickEvent)){e(t);return}}})):c="CouldNotAttachEvent"}__gMsEdge.message.logAutoFormFillTelemetry({command:"telemetry",telemetryEventName:"FormFill_Payment_AddSubmitListener_Completed",status:c})};h=function(n){var r=n.document,i,t;if(!r)return!1;if(r.querySelector("input[type=password]"))return!0;for(i=n.frames,t=0;t<i.length;t++)if(h(i[t]))return!0;return!1};__gMsEdge.dispatchPopstateEvent=function(n){var t=window.document.createEvent("HTMLEvents");t.initEvent("popstate",!0,!1);n&&(t.state=JSON.parse(n));window.setTimeout(function(){window.dispatchEvent(t)},0)};__gMsEdge.getFullyQualifiedURL=function(n){var t=document.createElement("a");return t.href=n,t.href};var c=function(n,t){var r,i,u;if(n){if(n.name===t)return!0;for(r=n.frames,i=0;i<r.length;++i)if(u=r[i],u&&c(u,t))return!0;return!1}},ut=function(n){return(n instanceof HTMLAnchorElement)?n.href.indexOf("javascript:")==0?!0:n.target===null||n.target===""||n.target==="_self"||n.target==="_parent"||n.target==="_top"?!0:n.target==="_blank"?!1:c(window,n.target):!1},ft=function(n){for(var t=n;t;){if(t instanceof HTMLAnchorElement)break;t=t.parentNode}return t},p=function(t,r=1){var u,e;if(__gIsIframeAutofillEnabled&&r<__gMsEdge.postMessageDepthLimit){let n=document.getElementsByTagName("iframe");for(u=0;u<n.length;u++){let t={msg:"scroll",messageIframeDepth:r+1};n[u].src===__gMsEdge.callerIframePathCache&&n[u].contentWindow.postMessage(JSON.stringify(t),n[u].src)}}__gMsEdge.core.clearFormCache();e={command:"document.activity",type:"scroll"};n==!0&&(i(e),f(__gMsEdge.common.currentFieldName,"PageScrolled"))};__gMsEdge.core.documentInject=function(){return __gMsEdge.message&&__gMsEdge.message.invokeQueues(),document.addEventListener("activate",function(){n==!0&&f(__gMsEdge.common.currentFieldName,"ClickedOnPage");i({command:"document.activity",type:"activate"})},!1),window.addEventListener("unload",function(){i({command:"document.activity",type:"unload"})},!0),window.addEventListener("scroll",p),window.addEventListener("resize",function(){if(n)i({command:"document.activity",type:"resize"}),f(__gMsEdge.common.currentFieldName,"PageResized"),__gMsEdge.core.clearFormCache()},!1),__gMsEdge.core.clearFormCache=function(){__gMsEdge.currentFieldFormCache={};__gMsEdge.isCurrentFieldFocusEventAdded={}},document.addEventListener("submit",function(n){var u=n.target;let f=__gMsEdge.common.getFormIdentifier(u),i=!0;if(t[f]&&(s(f,__gMsEdge.submitTrigger.SubmitEvent)||(i=!1)),!n.defaultPrevented||i){let r=__gMsEdge.saveType.SavePersonalAndPaymentData;n.defaultPrevented?r=__gMsEdge.saveType.SaveOnlyPaymentData:i||(r=__gMsEdge.saveType.SaveOnlyPersonalData);e(u,r)}},!1),g(),!0};__gMsEdge.core.documentInject()}(),function(){"use strict";function o(n){for(var t=n.parentNode;t;){if(t.nodeType===Node.ELEMENT_NODE&&(__gMsEdge.autofill.hasTagName(t,"form")||__gMsEdge.autofill.hasTagName(t,"fieldset")))return!0;t=t.parentNode}return!1}function s(n){if(n&&n.type!=="hidden"){if(n.type==="password"||n.form_control_type==="password")return!0}else return!1;return!1}function i(n){if(n!=null){var t=new RegExp("[a-zA-Z0-9-_:. ]*(login|signin)[a-zA-Z0-9-_:. ]*","i");if(t.test(n.replace(/\s/g,"")))return!0}return!1}function n(n,t){for(var r=[],i=0;i<n.length;++i)__gMsEdge.common.isFormControlElement(n[i])&&(n[i].form||r.push(n[i])),t&&__gMsEdge.autofill.hasTagName(n[i],"fieldset")&&!o(n[i])&&t.push(n[i]);return __gMsEdge.autofill.extractAutofillableElementsFromSet(r)}function r(n,t,i,r,u,f,e){__gMsEdge.autofill.isAutofillableInputElement(n)&&!f.fieldFontFamily&&__gMsEdge.common.AddFontDetails(n,f);var o=new __gMsEdge.common.JSONSafeObject;return(__gMsEdge.autofill.webFormControlElementToFormField(n,t,o),i.push(o),u[e]=o,r[e]=!0,i.length>__gMsEdge.autofill.MAX_PARSEABLE_FIELDS)?!1:!0}function h(n,t,i,u,f,e){for(var s,o=0;o<n.length;++o)if((u[o]=!1,f[o]=null,s=n[o],__gMsEdge.autofill.isAutofillableElement(s)&&!__gMsEdge.core.isElementHidden(s))&&!r(s,t,i,u,f,e,o))return!1;return i.length>0}function t(n,t,i,u,f,e){for(var s,h={count:0},o=0;o<n.length;++o)if((u[o]=!1,f[o]=null,s=n[o],__gMsEdge.autofill.isAutofillableElement(s)&&(!__gMsEdge.core.isElementHidden(s)||c(s,i,h)))&&!r(s,t,i,u,f,e,o))return!1;return i.length>0}function c(n,t,i){return!__gMsEdge.autofill.isSelectElement(n)||t.length-i.count!=2||i.count==2?!1:__gMsEdge.common.isNameAndIdContainString(n,"month")||__gMsEdge.common.isNameAndIdContainString(n,"year")?(i.count++,!0):!1}function u(n,t,i,r){for(var c,s,f,l,e=0;e<n.length;++e){var h=n[e],o=h.control,u=null;if(o){if(o.form!=t||o.type==="hidden")continue;else for(f=0;f<r.length;++f)if(i[f]===o){u=r[f];break}}else{if(c=h.htmlFor,!c)continue;for(f=0;f<r.length;++f)if(s=r[f],s&&s.name===c)if(u!==null){u=null;break}else u=s}u&&("label"in u||(u.label=""),l=__gMsEdge.autofill.findChildText(h),u.label.length>0&&l.length>0&&(u.label+=" "),u.label+=l)}}function f(n,t,i,r,f,e,o){var y=[],c=[],w=[],v,s,a,p,h;if(!l(r,f,c,w,y,e))return!1;if(n)v=n.getElementsByTagName("label"),u(v,n,r,y);else for(s=0;s<i.length;++s)v=i[s].getElementsByTagName("label"),u(v,n,r,y);for(s=0,a=0;s<r.length&&a<c.length;++s)w[s]&&(p=r[s],h=c[a],h.label||(h.label=__gMsEdge.autofill.inferLabelForElement(p)),h.label.length>__gMsEdge.autofill.MAX_DATA_LENGTH&&(h.label=h.label.substr(0,__gMsEdge.autofill.MAX_DATA_LENGTH)),p===t&&(o=c[a]),++a);return e.fields=c,e.fields.toJSON=null,!0}function l(n,t,i,r,u,f){let e=window.location.hostname;return e&&__gMsEdge.DomainsAndExtractFieldsMethodMap[e]?__gMsEdge.DomainsAndExtractFieldsMethodMap[e](n,t,i,r,u,f):h(n,t,i,r,u,f)}function a(n,t){__gMsEdge.message.logAutoFormFillTelemetry({command:"telemetry",telemetryEventName:"FormFill_FieldEdited",fieldName:n,fieldType:t,isPersonal:__gMsEdge.common.currentForm.isPersonal,isPayment:__gMsEdge.common.currentForm.isPayment,isGeneric:__gMsEdge.common.currentForm.isGeneric})}function e(n,t,i){var s,f,r,h,o;if(n&&(s=n.document,s)){var c=s.forms,l=__gMsEdge.autofill.EXTRACT_MASK_VALUE|__gMsEdge.autofill.EXTRACT_MASK_OPTIONS,u=0;for(f=0;f<c.length;++f){var a=c[f],p=__gMsEdge.autofill.extractAutofillableElementsInForm(a),y=__gMsEdge.autofill.scanFormControlElements_(p);if(y!==0&&(r=__gMsEdge.autofill.webFormElementToFormData(n,a,null,l,null),r&&r.fields)){if(u+=r.fields.length,u>__gMsEdge.autofill.MAX_PARSEABLE_FIELDS)break;__gMsEdge.autofill.isFormInteresting_(r,y,t)&&i.push(r)}}if(i.length<=v()){let n=__gMsEdge.autofill.GetUnownedFormData_(l,t);n&&(u+=n.fields.length,u<=__gMsEdge.autofill.MAX_PARSEABLE_FIELDS&&i.push(n))}for(h=n.frames,o=0;o<h.length;o++)e(h[o],t,i)}}function v(){let n=window.location.hostname;return n&&__gMsEdge.DomainsAndMaxFormsBeforeUnownedForms[n]?__gMsEdge.DomainsAndMaxFormsBeforeUnownedForms[n]:__gMsEdge.maxFormsCountToProcessUnowned}__gMsEdge.unownedFormId="MSEdgeNoForm~1";__gMsEdge.maxFormsCountToProcessUnowned=1;__gMsEdge.maxFieldsInUnownedForm=30;__gMsEdge.foundUnownedPaymentFields=!1;__gMsEdge.DomainsAndMaxFormsBeforeUnownedForms={"www.bestbuy.com":6};__gMsEdge.autofill={};__gMsEdge.token=Date.now().toString();__gMsEdge.currentFieldFormCache={};__gIsIframeAutofillEnabled&&window.self!==top&&(__gMsEdge.frameGuid=window.location.href+"_"+Math.random().toString().substr(2),__gMsEdge.eventCache={},__gMsEdge.postMessageDepthLimit=5,__gMsEdge.formfillIdentifier=btoa(document.referrer.split(/[?#]/)[0]));__gMsEdge.callerIframePathCache=null;__gMsEdge.isCurrentFieldFocusEventAdded={};__gMsEdge.DomainsAndExtractFieldsMethodMap={"www.amazon.in":t,"www.amazon.com":t,"www.amazon.co.uk":t};__gMsEdge.autofill.MAX_DATA_LENGTH=1024;__gMsEdge.autofill.MAX_PARSEABLE_FIELDS=100;__gMsEdge.autofill.EXTRACT_MASK_NONE=0;__gMsEdge.autofill.EXTRACT_MASK_VALUE=1;__gMsEdge.autofill.EXTRACT_MASK_OPTION_TEXT=2;__gMsEdge.autofill.EXTRACT_MASK_OPTIONS=4;__gMsEdge.autofill.ROLE_ATTRIBUTE_PRESENTATION=0;__gMsEdge.autofill.lastAutoFilledElement=null;__gMsEdge.autofill.lastActiveElement=null;__gMsEdge.autofill.styleInjected=!1;__gMsEdge.autofill.styleInjectedForGenericText=!1;__gMsEdge.autofill.filledFieldStyle="background-color:#E5F1FB !important;background-image:none !important;color:#000000 !important;";__gMsEdge.autofill.isFormInteresting_=function(n,t,r){var e,f,u;if(!n||!n.fields||n.fields.length===0||(e=n.name,i(n.name)||i(n.id)))return!1;for(f=!1,u=0;u<n.fields.length;++u)if(s(n.fields[u])){f=!0;break}if(f&&t===2)return!1;for(u=0;u<n.fields.length;++u)if(n.fields[u].autocomplete_attribute!=null&&n.fields[u].autocomplete_attribute.length>0)return!0;return t>=r};__gMsEdge.autofill.scanFormControlElements_=function(n){for(var r,i=0,t=0;t<n.length;++t)r=n[t],__gMsEdge.autofill.isCheckableElement(r)||++i;return i};__gMsEdge.autofill.GetUnownedFormData_=function(t,i){let u=[],f=n(window.document.all,u),r=__gMsEdge.autofill.scanFormControlElements_(f);if(r>0&&r<=__gMsEdge.maxFieldsInUnownedForm){let n=new __gMsEdge.common.JSONSafeObject;if(__gMsEdge.autofill.unownedFormElementsAndFieldSetsToFormData_(window,u,f,t,n)&&__gMsEdge.autofill.isFormInteresting_(n,r,i))return n}return undefined};__gMsEdge.autofill.isVisibleNode=function(n){if(!n)return!1;if(n.nodeType===Node.ELEMENT_NODE){var t=window.getComputedStyle(n);if(t.visibility=="hidden"||t.display=="none")return!1}return!n.parentNode||__gMsEdge.autofill.isVisibleNode(n.parentNode)};__gMsEdge.autofill.extractForms=function(n){var t=new __gMsEdge.common.JSONSafeObject;return t.forms=__gMsEdge.autofill.extractNewForms(n),__gMsEdge.stringify(t)};__gMsEdge.autofill.storeActiveElement=function(){__gMsEdge.autofill.lastActiveElement=document.activeElement};__gMsEdge.autofill.clearActiveElement=function(){__gMsEdge.autofill.lastActiveElement=null};__gMsEdge.autofill.fillActiveFormField=function(n){var t=document.activeElement;(__gMsEdge.autofill.lastActiveElement&&(t=__gMsEdge.autofill.lastActiveElement,t.focus(),__gMsEdge.autofill.lastActiveElement=null),n&&n.name===__gMsEdge.common.nameForAutofill(t))&&(__gMsEdge.autofill.lastAutoFilledElement=t,__gMsEdge.autofill.fillFormField(n,t))};__gMsEdge.autofill.fillForm=function(t,i,r){var h,f,c,s,u,v,e,y;__gMsEdge.autofill.styleInjected||(h=document.createElement("style"),h.textContent=".edge-autofilled {"+__gMsEdge.autofill.filledFieldStyle+"}",document.head.appendChild(h),__gMsEdge.autofill.styleInjected=!0);f=function(n){n.target&&n.detail!=="AutoFill_FillEvent"&&(n.target.classList.remove("edge-autofilled"),n.detail!=="AutoFill_ClearEvent"&&a(n.target.name,n.target.type),__gMsEdge.autofill.isSelectElement(n.target)?n.target.removeEventListener("click",f):n.target.removeEventListener("input",f))};let o=[];t.isFormTag?(c=__gMsEdge.common.getFormElementFromIdentifier(t.formName),o=__gMsEdge.common.getFormControlElements(c)):o=n(window.document.all);let l=0;for(s=0;s<o.length;++s)(u=o[s],__gMsEdge.autofill.isAutofillableElement(u))&&((v=__gMsEdge.common.nameForAutofill(u),!r&&u.value&&u.value.length>0&&!__gMsEdge.autofill.isSelectElement(u)&&v!==i)||(e=t.fields[v],e)&&(__gMsEdge.autofill.isTextInput(u)||__gMsEdge.autofill.isTextAreaElement(u)?(__gMsEdge.common.setInputElementValue(e,u,!0,"AutoFill_FillEvent"),l++):__gMsEdge.autofill.isSelectElement(u)&&u.value!==e&&(u.value=e,__gMsEdge.common.createAndDispatchHTMLEvent(u,"change",!0,!1),l++),u.classList.add("edge-autofilled"),__gMsEdge.autofill.isSelectElement(u)?u.addEventListener("click",f):u.addEventListener("input",f)));__gMsEdge.message.logAutoFormFillTelemetry({command:"telemetry",telemetryEventName:"FormFill_OptionPopulatedCompleted",numberOfFieldsFilled:l,isPersonal:__gMsEdge.common.currentForm.isPersonal,isPayment:__gMsEdge.common.currentForm.isPayment,isGeneric:__gMsEdge.common.currentForm.isGeneric});y=function(n){for(var i=__gMsEdge.common.getFormControlElements(n.target),t=0;t<i.length;++t)i[t].classList.remove("edge-autofilled");n.target.removeEventListener("reset",y)};c.addEventListener("reset",y)};__gMsEdge.autofill.autoSuggestFieldFill=function(n,t,i){if(!__gMsEdge.autofill.styleInjectedForGenericText){let n=document.createElement("style");n.textContent=".edge-autoSuggestFieldFilled {"+__gMsEdge.autofill.filledFieldStyle+"}";document.head.appendChild(n);__gMsEdge.autofill.styleInjectedForGenericText=!0}let f=function(n){n.detail!=="AutoFill_FillEvent"&&(n.target.classList.remove("edge-autoSuggestFieldFilled"),n.target.removeEventListener("input",f))},e=__gMsEdge.common.getFormElementFromIdentifier(n),u=__gMsEdge.common.getFormControlElements(e),r;for(let n=0;n<u.length;++n)if(u[n].name==t){r=u[n];break}r&&(r.classList.add("edge-autoSuggestFieldFilled"),r.addEventListener("input",f));__gMsEdge.common.setInputElementValue(i,r,!0,"AutoFill_FillEvent");let o=function(n){let t=__gMsEdge.common.getFormControlElements(n.target);for(let n=0;n<t.length;++n)t[n].classList.remove("edge-autoSuggestFieldFilled");n.target.removeEventListener("reset",o)};e.addEventListener("reset",o)};__gMsEdge.autofill.clearAutofilledFields=function(t,i){var e,f,r;let u=[];for(i?(e=__gMsEdge.common.getFormElementFromIdentifier(t),u=__gMsEdge.common.getFormControlElements(e)):u=n(window.document.all),f=0;f<u.length;++f)(r=u[f],r.classList&&r.classList.contains("edge-autofilled")&&!r.disabled)&&(__gMsEdge.autofill.isTextInput(r)||__gMsEdge.autofill.isTextAreaElement(r)?__gMsEdge.common.setInputElementValue("",r,!0,"AutoFill_ClearEvent"):__gMsEdge.autofill.isCheckableElement(r),r.classList.remove("edge-autofilled"));__gMsEdge.core.clearFormCache()};__gMsEdge.autofill.extractNewForms=function(n){var t=[];return function(){t.toJSON=null}(),e(window,n,t),t};__gMsEdge.autofill.webFormElementToFormData=function(n,t,i,r,u){var s,c;if(!n)return undefined;let o=__gMsEdge.common.getFieldIdentifier(u),h=__gMsEdge.currentFieldFormCache[o],e=new __gMsEdge.common.JSONSafeObject;return h?h:(e.name=__gMsEdge.common.getFormIdentifier(t),t.id&&(e.formId=t.id),s=t.getAttribute("method"),s&&(e.method=s),e.origin=__gMsEdge.common.removeQueryAndReferenceFromURL(n.location.href),e.action=__gMsEdge.common.absoluteURL(n.document,t.getAttribute("action")),e.textDirection=__gMsEdge.common.getTextDirection(t),c=__gMsEdge.common.getFormControlElements(t),f(t,i,[],c,r,e,u),o&&(__gMsEdge.currentFieldFormCache[o]=e),e)};__gMsEdge.autofill.unownedFormElementsAndFieldSetsToFormData_=function(n,t,i,r,u){return n?(u.name="",u.formId=__gMsEdge.unownedFormId,u.origin=__gMsEdge.common.removeQueryAndReferenceFromURL(n.location.href),u.action=__gMsEdge.common.absoluteURL(n.document,null),u.isFormTag=!1,f(null,null,t,i,r,u,null)):!1};__gMsEdge.autofill.unownedFormData=function(){__gMsEdge.foundUnownedPaymentFields=!0};__gMsEdge.autofill.hasTagName=function(n,t){return n.nodeType===Node.ELEMENT_NODE&&n.tagName===t.toUpperCase()};__gMsEdge.autofill.isAutofillableElement=function(n){return __gMsEdge.autofill.isAutofillableInputElement(n)||__gMsEdge.autofill.isSelectElement(n)||__gMsEdge.autofill.isTextAreaElement(n)};__gMsEdge.autofill.trimWhitespaceLeading=function(n){return n.replace(/^\s+/gm,"")};__gMsEdge.autofill.trimWhitespaceTrailing=function(n){return n.replace(/\s+$/gm,"")};__gMsEdge.autofill.combineAndCollapseWhitespace=function(n,t,i){var r=__gMsEdge.autofill.trimWhitespaceTrailing(n),f=r!=n,u=__gMsEdge.autofill.trimWhitespaceLeading(t),e=u!=t;return f||e||i?r+" "+u:r+u};__gMsEdge.autofill.findChildTextInner=function(n,t,i){var e,f,r,o,u,s;if(t<=0||!n)return"";if(n.nodeType===Node.COMMENT_NODE)return __gMsEdge.autofill.findChildTextInner(n.nextSibling,t-1,i);if(n.nodeType!==Node.ELEMENT_NODE&&n.nodeType!==Node.TEXT_NODE||n.nodeType===Node.ELEMENT_NODE&&(n.tagName==="OPTION"||n.tagName==="SCRIPT"||n.tagName==="NOSCRIPT"||__gMsEdge.common.isFormControlElement(n)&&(e=n,__gMsEdge.autofill.isAutofillableElement(e))))return"";if(n.tagName==="DIV")for(f=0;f<i.length;++f)if(n===i[f])return"";return(r=__gMsEdge.autofill.nodeValue(n),n.nodeType===Node.TEXT_NODE&&!r)?__gMsEdge.autofill.findChildTextInner(n.nextSibling,t,i):(o=__gMsEdge.autofill.findChildTextInner(n.firstChild,t-1,i),u=n.nodeType===Node.TEXT_NODE&&!r,u=!1,r=__gMsEdge.autofill.combineAndCollapseWhitespace(r,o,u),s=__gMsEdge.autofill.findChildTextInner(n.nextSibling,t-1,i),u=n.nodeType===Node.TEXT_NODE&&!r,u=!1,__gMsEdge.autofill.combineAndCollapseWhitespace(r,s,u))};__gMsEdge.autofill.findChildTextWithIgnoreList=function(n,t){if(n.nodeType===Node.TEXT_NODE)return __gMsEdge.autofill.nodeValue(n);var i=n.firstChild,r=__gMsEdge.autofill.findChildTextInner(i,10,t);return r.trim()};__gMsEdge.autofill.findChildText=function(n){return __gMsEdge.autofill.findChildTextWithIgnoreList(n,[])};__gMsEdge.autofill.inferLabelFromSibling=function(n,t){var u="",i=n,r,f,e,o;if(!i)return"";for(;;){if(i=t?i.nextSibling:i.previousSibling,!i)break;if(r=i.nodeType,r!==Node.COMMENT_NODE){if(r!=Node.TEXT_NODE&&r!=Node.ELEMENT_NODE)break;if(r===Node.TEXT_NODE||__gMsEdge.autofill.hasTagName(i,"b")||__gMsEdge.autofill.hasTagName(i,"strong")||__gMsEdge.autofill.hasTagName(i,"span")||__gMsEdge.autofill.hasTagName(i,"font")){f=__gMsEdge.autofill.findChildText(i);e=r===Node.TEXT_NODE&&f.length===0;u=__gMsEdge.autofill.combineAndCollapseWhitespace(f,u,e);continue}if(o=u.trim(),o.length>0)break;if(!__gMsEdge.autofill.hasTagName(i,"img")&&!__gMsEdge.autofill.hasTagName(i,"br")){(__gMsEdge.autofill.hasTagName(i,"p")||__gMsEdge.autofill.hasTagName(i,"label"))&&(u=__gMsEdge.autofill.findChildText(i));break}}}return u.trim()};__gMsEdge.autofill.inferLabelFromPrevious=function(n){return __gMsEdge.autofill.inferLabelFromSibling(n,!1)};__gMsEdge.autofill.inferLabelFromNext=function(n){return __gMsEdge.autofill.inferLabelFromSibling(n,!0)};__gMsEdge.autofill.inferLabelFromPlaceholder=function(n){return!n||!n.placeholder?"":n.placeholder};__gMsEdge.autofill.inferLabelFromListItem=function(n){if(!n)return"";for(var t=n.parentNode;t&&t.nodeType===Node.ELEMENT_NODE&&!__gMsEdge.autofill.hasTagName(t,"li");)t=t.parentNode;return t&&__gMsEdge.autofill.hasTagName(t,"li")?__gMsEdge.autofill.findChildText(t):""};__gMsEdge.autofill.inferLabelFromTableColumn=function(n){var t,r,i;if(!n)return"";for(t=n.parentNode;t&&t.nodeType===Node.ELEMENT_NODE&&!__gMsEdge.autofill.hasTagName(t,"td");)t=t.parentNode;if(!t)return"";for(r="",i=t.previousSibling;r.length===0&&i;)(__gMsEdge.autofill.hasTagName(i,"td")||__gMsEdge.autofill.hasTagName(i,"th"))&&(r=__gMsEdge.autofill.findChildText(i)),i=i.previousSibling;return r};__gMsEdge.autofill.inferLabelFromTableRow=function(n){var i,r,f,a,y,e,o;if(!n)return"";for(i=n.parentNode;i;){if(i.nodeType===Node.ELEMENT_NODE&&__gMsEdge.autofill.hasTagName(i,"td"))break;i=i.parentNode}if(!i)return"";for(var s=i.colSpan,h=0,v=s-1,t=i.previousSibling;t;)t.nodeType===Node.ELEMENT_NODE&&__gMsEdge.autofill.hasTagName(t,"td")&&(h+=t.colSpan),t=t.previousSibling;for(t=i.nextSibling;t;)t.nodeType===Node.ELEMENT_NODE&&__gMsEdge.autofill.hasTagName(t,"td")&&(s+=t.colSpan),t=t.nextSibling;for(s+=h,v+=h,r=n.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&!__gMsEdge.autofill.hasTagName(r,"tr");)r=r.parentNode;if(!r)return"";for(f=r.previousSibling;f;){if(f.nodeType===Node.ELEMENT_NODE&&__gMsEdge.autofill.hasTagName(r,"tr"))break;f=f.previousSibling}if(f){for(var l=null,c=0,u=f.firstChild;u;)u.nodeType===Node.ELEMENT_NODE&&(__gMsEdge.autofill.hasTagName(u,"td")||__gMsEdge.autofill.hasTagName(u,"th"))&&(a=u.colSpan,y=c+a-1,c===h&&y===v&&(l=u),c+=a),u=u.nextSibling;if(s===c&&l&&(e=__gMsEdge.autofill.findChildText(l),e.length>0))return e}for(e="",o=r.previousSibling;e.length===0&&o;)__gMsEdge.autofill.hasTagName(o,"tr")&&(e=__gMsEdge.autofill.findChildText(o)),o=o.previousSibling;return e};__gMsEdge.autofill.isTraversableContainerElement=function(n){if(n.nodeType!==Node.ELEMENT_NODE)return!1;var t=n.tagName;return t==="DD"||t==="DIV"||t==="FIELDSET"||t==="LI"||t==="TD"||t==="TABLE"};__gMsEdge.autofill.inferLabelFromDivTable=function(n){var o,e,f;if(!n)return"";for(var t=n.parentNode,i=!0,u=[],r="";r.length===0&&t;){if(__gMsEdge.autofill.hasTagName(t,"div")){if(r=i?__gMsEdge.autofill.findChildTextWithIgnoreList(t,u):__gMsEdge.autofill.findChildText(t),!i&&r.length>0&&(o=t.querySelector("input, select, textarea"),o)){for(r="",e=!0,f=0;f<u.length;++f)if(t===u[f]){e=!1;break}e&&u.push(t)}i=!1}else if(!i&&__gMsEdge.autofill.hasTagName(t,"label"))t.control||(r=__gMsEdge.autofill.findChildText(t));else if(i&&__gMsEdge.autofill.isTraversableContainerElement(t))break;t.previousSibling||(i=!0);t=i?t.parentNode:t.previousSibling}return r};__gMsEdge.autofill.inferLabelFromDefinitionList=function(n){var t,i;if(!n)return"";for(t=n.parentNode;t&&t.nodeType===Node.ELEMENT_NODE&&!__gMsEdge.autofill.hasTagName(t,"dd");)t=t.parentNode;if(!t||!__gMsEdge.autofill.hasTagName(t,"dd"))return"";for(i=t.previousSibling;i&&i.nodeType===Node.TEXT_NODE;)i=i.previousSibling;return!i||!__gMsEdge.autofill.hasTagName(i,"dt")?"":__gMsEdge.autofill.findChildText(i)};__gMsEdge.autofill.ancestorTagNames=function(n){for(var i=[],t=n.parentNode;t;)t.nodeType===Node.ELEMENT_NODE&&i.push(t.tagName),t=t.parentNode;return i};__gMsEdge.autofill.inferLabelForElement=function(n){var t,u,f,r,i;if(__gMsEdge.autofill.isCheckableElement(n)&&(t=__gMsEdge.autofill.inferLabelFromNext(n),t.length>0)||(t=__gMsEdge.autofill.inferLabelFromPrevious(n),t.length>0)||(t=__gMsEdge.autofill.inferLabelFromPlaceholder(n),t.length>0)||(t=__gMsEdge.autofill.inferLabelFromNext(n),t&&t.length>0))return t;for(u=__gMsEdge.autofill.ancestorTagNames(n),f={},r=0;r<u.length;++r)if(i=u[r],!(i in f)){if(f[i]=!0,i==="DIV")t=__gMsEdge.autofill.inferLabelFromDivTable(n);else if(i==="TD")t=__gMsEdge.autofill.inferLabelFromTableColumn(n),t.length===0&&(t=__gMsEdge.autofill.inferLabelFromTableRow(n));else if(i==="DD")t=__gMsEdge.autofill.inferLabelFromDefinitionList(n);else if(i==="LI")t=__gMsEdge.autofill.inferLabelFromListItem(n);else if(i==="FIELDSET")break;if(t.length>0)break}return t};__gMsEdge.autofill.getOptionStringsFromElement=function(n,t){var i,r,u;if(t.option_values=[],t.option_values.toJSON=null,t.option_contents=[],t.option_contents.toJSON=null,i=n.options,i&&!(i.length>250))for(r=0;r<i.length;++r)u=i[r],t.option_values.push(u.value),t.option_contents.push(u.text)};__gMsEdge.autofill.fillFormField=function(n,t){var r,i;n.value&&n.value.length!==0&&(__gMsEdge.autofill.isTextInput(t)||__gMsEdge.autofill.isTextAreaElement(t)?(r=n.value,__gMsEdge.autofill.isTextInput(t)&&(i=n.max_length,i<0&&(i=__gMsEdge.autofill.MAX_DATA_LENGTH),r=n.value.substr(0,i)),__gMsEdge.common.setInputElementValue(r,t,!0,"AutoFill_FillEvent")):__gMsEdge.autofill.isSelectElement(t)?t.value!==n.value&&(t.value=n.value,__gMsEdge.common.createAndDispatchHTMLEvent(t,"change",!0,!1)):__gMsEdge.autofill.isCheckableElement(t)&&__gMsEdge.common.setInputElementChecked(n.is_checked,t,!0))};__gMsEdge.autofill.isTextInput=function(n){return n?__gMsEdge.common.isTextField(n):!1};__gMsEdge.autofill.isSelectElement=function(n){return n?n.type==="select-one":!1};__gMsEdge.autofill.isTextAreaElement=function(n){return n?n.type==="textarea":!1};__gMsEdge.autofill.isCheckableElement=function(n){return n?n.type==="checkbox"||n.type==="radio":!1};__gMsEdge.autofill.isAutofillableInputElement=function(n){return __gMsEdge.autofill.isTextInput(n)};__gMsEdge.autofill.nodeValue=function(n){return(n.nodeValue||"").replace(/[\n\t]/gm,"")};__gMsEdge.autofill.value=function(n){return(n.value||"").replace(/[\n\t]/gm,"")};__gMsEdge.autofill.extractAutofillableElementsFromSet=function(n){for(var t,i=[],r=[],u=0;u<n.length;++u){if(t=n[u],!__gMsEdge.autofill.isAutofillableElement(t)){t.type==="password"&&r.push(t);continue}i.push(t)}return r.length>0&&__gMsEdge.autofill.isLoginForm(r)&&(i.length=0),i};__gMsEdge.autofill.isLoginForm=function(n){if(n.length>=2)return!1;let i=n[0],t=i.getAttribute("autocomplete");if(t&&(t.toLowerCase()==="new-password"||t.toLowerCase()==="cc-csc"))return!1;let r=["name","id","placeholder"],u=["create","confirm","check","repeat","reset","regist","credit","payment","cvv","otp"];for(let n=0;n<r.length;n++){let t=i.getAttribute(r[n]);if(t){let n=t.toLowerCase();for(let t=0;t<u.length;t++)if(n.includes(u[t]))return!1}}return!0};__gMsEdge.autofill.extractAutofillableElementsInForm=function(n){var t=__gMsEdge.common.getFormControlElements(n);return __gMsEdge.autofill.extractAutofillableElementsFromSet(t)};__gMsEdge.autofill.webFormControlElementToFormField=function(n,t,i){var e,o,w,s,u,r,v,f,y;if(i&&n){i.name=__gMsEdge.common.nameForAutofill(n);n.id&&(i.id=n.id);e=n.getAttribute("aria-label");e&&(i.aria_label=e);i.form_control_type=n.type;o=n.getAttribute("autocomplete");o&&(i.autocomplete_attribute=o);let p=__gMsEdge.common.getPlaceholder(n);if(p&&(i.placeholder=p),w=n.getAttribute("list"),w&&(i.contains_list=!0),i.autocomplete_attribute!=null&&i.autocomplete_attribute.length>__gMsEdge.autofill.MAX_DATA_LENGTH&&(i.autocomplete_attribute="x-max-data-length-exceeded"),s=n.getAttribute("role"),s&&s.toLowerCase()=="presentation"&&(i.role=__gMsEdge.autofill.ROLE_ATTRIBUTE_PRESENTATION),__gMsEdge.autofill.isAutofillableElement(n)){u=n.getBoundingClientRect();let h=u.left+document.body.scrollLeft,c=u.top+document.body.scrollTop,l=u.right+document.body.scrollLeft,a=u.bottom+document.body.scrollTop;if(!(h<0)&&!(c<0)&&!(l<0)&&!(a<0)&&(__gIsIframeAutofillEnabled&&window.self!==top&&topIframeCoordinates.currentIframe?(i.left=(h+topIframeCoordinates.currentIframe.left-window.pageXOffset)*100/topIframeCoordinates.innerWidth,i.top=(c+topIframeCoordinates.currentIframe.top-window.pageYOffset)*100/topIframeCoordinates.innerHeight,i.right=(l+topIframeCoordinates.currentIframe.left-window.pageXOffset)*100/topIframeCoordinates.innerWidth,i.bottom=(a+topIframeCoordinates.currentIframe.top-window.pageYOffset)*100/topIframeCoordinates.innerHeight):(i.left=(h-window.pageXOffset)*100/window.innerWidth,i.top=(c-window.pageYOffset)*100/window.innerHeight,i.right=(l-window.pageXOffset)*100/window.innerWidth,i.bottom=(a-window.pageYOffset)*100/window.innerHeight),i.should_autocomplete=__gMsEdge.common.autoComplete(n),i.is_autofilled=n.classList?n.classList.contains("edge-autofilled"):!1,i.is_focusable=!n.disabled&&!n.readOnly&&n.tabIndex>=0,i.max_length=0,__gMsEdge.autofill.isTextInput(n)?(i.is_checkable=__gMsEdge.autofill.isCheckableElement(n),i.max_length=n.maxLength):t&__gMsEdge.autofill.EXTRACT_MASK_OPTIONS&&__gMsEdge.autofill.getOptionStringsFromElement(n,i),t&__gMsEdge.autofill.EXTRACT_MASK_VALUE)){if(r=__gMsEdge.autofill.value(n),__gMsEdge.autofill.isSelectElement(n)&&t&__gMsEdge.autofill.EXTRACT_MASK_OPTION_TEXT)for(v=n.options,f=0;f<v.length;++f)if(y=v[f],__gMsEdge.autofill.value(y)===r){r=y.text;break}r.length>__gMsEdge.autofill.MAX_DATA_LENGTH&&(r=r.substr(0,__gMsEdge.autofill.MAX_DATA_LENGTH));i.value=r}}}};__gMsEdge.autofill.fillPredictionData=function(n){var r,t,i,e,u;for(r in n){var o=__gMsEdge.common.getFormElementFromIdentifier(r),s=n[r],f=__gMsEdge.common.getFormControlElements(o);for(t=0;t<f.length;++t)(i=f[t],__gMsEdge.autofill.isAutofillableElement(i))&&(e=__gMsEdge.common.nameForAutofill(i),u=s[e],u&&(i.placeholder=u))}}}(),function(){"use strict";browser.webruntime.onMessageFromHost.addListener(function(n){var t=JSON.parse(n[0]);t.SelectedProfile?(__gMsEdge.autofill.fillForm(t.SelectedProfile,t.SelectedProfile.forceFillField,t.SelectedProfile.isCreditCard),__gMsEdge.common.currentForm={},__gMsEdge.common.currentForm.isPayment=t.SelectedProfile.isCreditCard,__gMsEdge.common.currentForm.isPersonal=!t.SelectedProfile.isCreditCard,__gMsEdge.common.currentForm.isGeneric=!1,__gMsEdge.common.userInterestedForm[t.SelectedProfile.formName]==undefined&&(__gMsEdge.common.userInterestedForm[t.SelectedProfile.formName]=!0,logUserInterestedShownTelemetry(t.SelectedProfile.formName))):t.dropDownVisibility!=null?(__gMsEdge.core.setDropDownVisibility(t.dropDownVisibility.isVisible),__gMsEdge.common.currentForm={},__gMsEdge.common.currentForm.isPersonal=t.dropDownVisibility.isPersonalForm,__gMsEdge.common.currentForm.isPayment=t.dropDownVisibility.isPaymentForm,__gMsEdge.common.currentForm.isGeneric=t.dropDownVisibility.isGenericForm):t.propogateEnter!=null?__gMsEdge.core.setPropogateEnter(t.propogateEnter.isPropogationEnabled):t.clearForm!=null?__gMsEdge.autofill.clearAutofilledFields(t.clearForm.formName,t.clearForm.isFormTag):t.addSubmitListenerData!=null?__gMsEdge.core.addSubmitListenerToPaymentForm(t.addSubmitListenerData):t.SelectedGenericAutoSuggestionField?(__gMsEdge.autofill.autoSuggestFieldFill(t.SelectedGenericAutoSuggestionField.formName,t.SelectedGenericAutoSuggestionField.forceFillField,t.SelectedGenericAutoSuggestionField.forceFillValue),__gMsEdge.common.currentForm={},__gMsEdge.common.currentForm.isGeneric=!0,__gMsEdge.common.currentForm.isPayment=!1,__gMsEdge.common.currentForm.isPersonal=!1,__gMsEdge.common.userInterestedForm[t.SelectedGenericAutoSuggestionField.formName]==undefined&&(__gMsEdge.common.userInterestedForm[t.SelectedGenericAutoSuggestionField.formName]=!0,logUserInterestedShownTelemetry(t.SelectedGenericAutoSuggestionField.formName))):t.unownedFormData&&__gMsEdge.autofill.unownedFormData(t.unownedFormData)});var n=__gMsEdge.autofill.extractForms(__gMsEdge.numberOfRequiredFields),t={formsData:n};browser.webruntime.postMessageToHost([__gMsEdge.token,JSON.stringify(t)])}()
VideoInputType
VideoInputType
  .template-input.inputType_checkbox, .template-input.inputType_radio {
    html[dir="ltr"] .template-input.inputType_checkbox, html[dir="ltr"] .template-input.inputType_radio {
    html[dir="rtl"] .template-input.inputType_checkbox, html[dir="rtl"] .template-input.inputType_radio {
      .template-input.inputType_checkbox, .template-input.inputType_radio {
      .template-input.inputType_checkbox, .template-input.inputType_radio {
    .template-input.inputType_checkbox input, .template-input.inputType_radio input {
      .template-input.inputType_checkbox input:checked, .template-input.inputType_radio input:checked {
      .template-input.inputType_checkbox input + label, .template-input.inputType_radio input + label {
    .template-input.inputType_checkbox p, .template-input.inputType_radio p {
      html[dir="ltr"] .template-input.inputType_checkbox p, html[dir="ltr"] .template-input.inputType_radio p {
      html[dir="rtl"] .template-input.inputType_checkbox p, html[dir="rtl"] .template-input.inputType_radio p {
  .template-datePicker.inputType_checkbox {
  .opt-in-group .template-input.inputType_checkbox, .opt-in-group .template-input.inputType_radio {
/*! Copyright (C) Microsoft Corporation. All rights reserved. Version 1.2.6 */.control-app .app-content,.control-chrome-bar-grid .external-title{-ms-grid-row-align:center}::selection .win-dropdown option{-ms-high-contrast-adjust:none}.icon,.template-listViewItem,.win-button{-ms-high-contrast-adjust:none}@media (-ms-high-contrast){.win-button:disabled{background-color:ButtonFace;color:GrayText}button:enabled .buttonType_themed,button:enabled .button_primary,input[type=button]:enabled .buttonType_themed,input[type=button]:enabled .button_primary,input[type=submit]:enabled .buttonType_themed,input[type=submit]:enabled .button_primary,input[type=reset]:enabled .buttonType_themed,input[type=reset]:enabled .button_primary,select:enabled .buttonType_themed,select:enabled .button_primary{border-color:WindowText}button:enabled .buttonType_themed:focus,button:enabled .buttonType_themed:hover,button:enabled .button_primary:focus,button:enabled .button_primary:hover,input[type=button]:enabled .buttonType_themed:focus,input[type=button]:enabled .buttonType_themed:hover,input[type=button]:enabled .button_primary:focus,input[type=button]:enabled .button_primary:hover,input[type=submit]:enabled .buttonType_themed:focus,input[type=submit]:enabled .buttonType_themed:hover,input[type=submit]:enabled .button_primary:focus,input[type=submit]:enabled .button_primary:hover,input[type=reset]:enabled .buttonType_themed:focus,input[type=reset]:enabled .buttonType_themed:hover,input[type=reset]:enabled .button_primary:focus,input[type=reset]:enabled .button_primary:hover,select:enabled .buttonType_themed:focus,select:enabled .buttonType_themed:hover,select:enabled .button_primary:focus,select:enabled .button_primary:hover{border-color:Highlight}.win-dropdown option:checked,.win-dropdown option:hover,select[multiple].win-dropdown option:checked,select[multiple].win-dropdown option:hover{background-color:Highlight;color:HighlightText}.win-dropdown option:active{background-color:ButtonFace;color:Highlight}.control-button:enabled:focus,.template-buttonGroup button:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:ButtonText;color:ButtonFace;border-color:Highlight}html .control-page .page-footer .footer-icons .icon:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:ButtonText;color:ButtonFace;border-color:Highlight}.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,.win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,.win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox{background-color:ButtonText;color:ButtonFace}.win-textarea::-ms-input-placeholder,.win-textbox::-ms-input-placeholder{color:Graytext}.win-itemcontainer.win-selectionstylefilled.win-selected.win-pressed .win-selectionbackground,.win-listview.win-selectionstylefilled .win-selected.win-pressed .win-selectionbackground{background-color:ButtonText!important}a:focus{color:-ms-hotlight!important;outline:#fff dashed 1px}body a:hover{color:Highlight}}html[dir=rtl]{direction:rtl}a{cursor:pointer;touch-action:manipulation;text-decoration:none}img{border-style:none}form{margin:0;padding:0}legend{margin:0 0 10px;padding:0}code,pre,samp{font-family:Consolas,Menlo,Monaco,"Courier New",monospace;font-size:15px;font-weight:400;line-height:1.333}.win-button,button,button[type=submit],input[type=button],input[type=reset],input[type=submit]{padding-top:2px}input[type=radio],input[type=checkbox]{margin-top:0;margin-bottom:0}html[dir=ltr] input[type=radio],html[dir=ltr] input[type=checkbox]{margin-left:0;margin-right:8px}html[dir=rtl] input[type=radio],html[dir=rtl] input[type=checkbox]{margin-right:0;margin-left:8px}input[type=checkbox]:hover:active::-ms-check,input[type=checkbox]:not:disabled::-ms-check{color:#FFF;background-color:#ccc;border-color:#ccc}select,select:enabled{color:rgba(255,255,255,.6);border-color:rgba(255,255,255,.4);background-color:rgba(0,0,0,.4)}select:enabled:hover,select:hover{border-color:#999;background-color:rgba(0,0,0,.6)}select:active,select:enabled:active,select:enabled:focus,select:focus{border-color:#999}select::-ms-value{padding:4px 8px;margin:0}progress{height:4px}.win-dropdown{margin:0}.win-dropdown:disabled::-ms-expand{color:rgba(255,255,255,.2)}.win-dropdown::-ms-value{padding:0 12px 0 8px;margin:0}input::-ms-clear,input::-ms-reveal{width:auto;height:auto}input::-ms-clear:hover:active,input::-ms-reveal:hover:active{background-color:#0078D7}.win-textarea:focus::-ms-input-placeholder,input[type=email]:focus::-ms-input-placeholder,input[type=number]:focus::-ms-input-placeholder,input[type=password]:focus::-ms-input-placeholder,input[type=search]:focus::-ms-input-placeholder,input[type=tel]:focus::-ms-input-placeholder,input[type=text]:focus::-ms-input-placeholder,input[type=url]:focus::-ms-input-placeholder,textarea:focus::-ms-input-placeholder{color:rgba(0,0,0,.6)}progress,progress:indeterminate{color:#0078D7}.win-flyout,.win-flyout.win-ui-dark,.win-flyout.win-ui-light{margin-bottom:7px;padding-top:6px;color:#FFF;background-color:#2B2B2B;border-color:#767676}.win-flyout h4{margin-top:0;margin-bottom:4px}.win-flyout p{margin-bottom:0}.win-flyout h4+p{margin-top:0}.win-flyout.flyout_iframe{padding:0;font-size:0}.text-body,.text-body1,body,p{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.win-flyout.flyout_iframe,.win-flyout.flyout_iframe iframe{width:100%;height:100%}.win-listview{height:auto}.win-container,.win-itemscontainer{height:auto!important}@keyframes WinJS-enterContent{from{transform:translateX(40px)}to{transform:none}}@keyframes WinJS-enterContent-rtl{from{transform:translateX(-40px)}to{transform:none}}body{font-weight:400;font-family:"Segoe UI",Selawik,Tahoma,Verdana,Arial,sans-serif}a:hover,a:hover:focus{color:#999}a:active,a:active:hover{color:#666}a:focus{color:#0078D7}@media (-ms-high-contrast){a{color:GrayText}a:link,a:visited{color:-ms-hotlight}a:active,a:active:hover,a:focus,a:hover,a:hover:focus{color:WindowText}}.text-base,.text-body,.text-caption,.text-caption1,.text-captionAlt,.text-display1,.text-display2,.text-display3,.text-header,.text-headline,.text-subcaption,.text-subheader,.text-subtitle,.text-title,.text-title1,.text-title2,.text-title3,h1,h2,h3,h4,h5,h6,p{margin-bottom:1.25rem;margin-top:1.25rem}.text-display1,.text-headline{font-size:3.875rem;line-height:5rem;padding-bottom:.141975rem;padding-top:.141975rem;font-weight:200}.text-display1.textType_maxLinesOne,.text-headline.textType_maxLinesOne{max-height:80px;max-height:5rem}.text-display1.textType_maxLinesTwo,.text-headline.textType_maxLinesTwo{max-height:160px;max-height:10rem}.text-display1.textType_maxLinesThree,.text-headline.textType_maxLinesThree{max-height:240px;max-height:15rem}.text-display1.textType_maxLinesFour,.text-headline.textType_maxLinesFour{max-height:320px;max-height:20rem}.text-display2,.text-header,h1{font-size:2.875rem;line-height:3.5rem;padding-bottom:.210175rem;padding-top:.210175rem;font-weight:200}.text-display2.textType_maxLinesOne,.text-header.textType_maxLinesOne,h1.textType_maxLinesOne{max-height:56px;max-height:3.5rem}.text-display2.textType_maxLinesTwo,.text-header.textType_maxLinesTwo,h1.textType_maxLinesTwo{max-height:112px;max-height:7rem}.text-display2.textType_maxLinesThree,.text-header.textType_maxLinesThree,h1.textType_maxLinesThree{max-height:168px;max-height:10.5rem}.text-display2.textType_maxLinesFour,.text-header.textType_maxLinesFour,h1.textType_maxLinesFour{max-height:224px;max-height:14rem}.text-display3,.text-subheader,h2{font-size:2.125rem;line-height:2.5rem;padding-bottom:.198825rem;padding-top:.198825rem;font-weight:200}.text-title,.text-title1,.text-title2,h3{font-size:1.5rem;line-height:1.75rem;padding-bottom:.1477rem;padding-top:.1477rem}.text-display3.textType_maxLinesOne,.text-subheader.textType_maxLinesOne,h2.textType_maxLinesOne{max-height:40px;max-height:2.5rem}.text-display3.textType_maxLinesTwo,.text-subheader.textType_maxLinesTwo,h2.textType_maxLinesTwo{max-height:80px;max-height:5rem}.text-display3.textType_maxLinesThree,.text-subheader.textType_maxLinesThree,h2.textType_maxLinesThree{max-height:120px;max-height:7.5rem}.text-display3.textType_maxLinesFour,.text-subheader.textType_maxLinesFour,h2.textType_maxLinesFour{max-height:160px;max-height:10rem}.text-title,h3{font-weight:300}.text-title.textType_maxLinesOne,h3.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title.textType_maxLinesTwo,h3.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title.textType_maxLinesThree,h3.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title.textType_maxLinesFour,h3.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title1{font-weight:400}.text-title1.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title1.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title1.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title1.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title2{font-weight:200}.text-title2.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title2.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title2.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title2.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-subtitle,.text-title3,h4{font-size:1.25rem;line-height:1.5rem;padding-bottom:.10225rem;padding-top:.10225rem;font-weight:400}.text-subtitle.textType_maxLinesOne,.text-title3.textType_maxLinesOne,h4.textType_maxLinesOne{max-height:24px;max-height:1.5rem}.text-subtitle.textType_maxLinesTwo,.text-title3.textType_maxLinesTwo,h4.textType_maxLinesTwo{max-height:48px;max-height:3rem}.text-subtitle.textType_maxLinesThree,.text-title3.textType_maxLinesThree,h4.textType_maxLinesThree{max-height:72px;max-height:4.5rem}.text-subtitle.textType_maxLinesFour,.text-title3.textType_maxLinesFour,h4.textType_maxLinesFour{max-height:96px;max-height:6rem}.text-caption,.text-caption1,h5{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.text-caption.textType_maxLinesOne,.text-caption1.textType_maxLinesOne,h5.textType_maxLinesOne{max-height:14px;max-height:.875rem}.text-caption.textType_maxLinesTwo,.text-caption1.textType_maxLinesTwo,h5.textType_maxLinesTwo{max-height:28px;max-height:1.75rem}.text-caption.textType_maxLinesThree,.text-caption1.textType_maxLinesThree,h5.textType_maxLinesThree{max-height:42px;max-height:2.625rem}.text-caption.textType_maxLinesFour,.text-caption1.textType_maxLinesFour,h5.textType_maxLinesFour{max-height:56px;max-height:3.5rem}.text-caption2,.text-captionAlt,h6{font-size:.625rem;line-height:.75rem;padding-bottom:.051125rem;padding-top:.051125rem;font-weight:400}.text-caption2.textType_maxLinesOne,.text-captionAlt.textType_maxLinesOne,h6.textType_maxLinesOne{max-height:12px;max-height:.75rem}.text-caption2.textType_maxLinesTwo,.text-captionAlt.textType_maxLinesTwo,h6.textType_maxLinesTwo{max-height:24px;max-height:1.5rem}.text-caption2.textType_maxLinesThree,.text-captionAlt.textType_maxLinesThree,h6.textType_maxLinesThree{max-height:36px;max-height:2.25rem}.text-caption2.textType_maxLinesFour,.text-captionAlt.textType_maxLinesFour,h6.textType_maxLinesFour{max-height:48px;max-height:3rem}.text-caption3,.text-subcaption{font-size:.5rem;line-height:.625rem;padding-bottom:.0284rem;padding-top:.0284rem;font-weight:400}.text-caption3.textType_maxLinesOne,.text-subcaption.textType_maxLinesOne{max-height:10px;max-height:.625rem}.text-caption3.textType_maxLinesTwo,.text-subcaption.textType_maxLinesTwo{max-height:20px;max-height:1.25rem}.text-caption3.textType_maxLinesThree,.text-subcaption.textType_maxLinesThree{max-height:30px;max-height:1.875rem}.text-caption3.textType_maxLinesFour,.text-subcaption.textType_maxLinesFour{max-height:40px;max-height:2.5rem}.text-body,.text-body1,p{font-weight:400}.text-base,.text-body2,legend{font-weight:500;font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.text-body.textType_maxLinesOne,.text-body1.textType_maxLinesOne,p.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-body.textType_maxLinesTwo,.text-body1.textType_maxLinesTwo,p.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-body.textType_maxLinesThree,.text-body1.textType_maxLinesThree,p.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-body.textType_maxLinesFour,.text-body1.textType_maxLinesFour,p.textType_maxLinesFour{max-height:80px;max-height:5rem}.text-base.textType_maxLinesOne,.text-body2.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-base.textType_maxLinesTwo,.text-body2.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-base.textType_maxLinesThree,.text-body2.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-base.textType_maxLinesFour,.text-body2.textType_maxLinesFour{max-height:80px;max-height:5rem}[class*=textType_maxLines]{overflow:hidden}a,a:link,a:visited{color:#a6d8ff}a:hover,a:link:hover,a:visited:hover{color:rgba(166,216,255,.8)}a:active,a:link:active,a:visited:active{color:rgba(166,216,255,.6)}li,p{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:400;max-width:672px}.action-link{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.secondaryText{color:rgba(255,255,255,.6)}.icon{font-family:"Segoe MDL2 Assets"}.icon-win-easeOfAccess:before{content:"\E776"}.icon-win-keyboardStandard:before{content:"\E765";transform:translatex(1px)}.template-legend-icon{width:20px;height:20px}html[dir=ltr] .template-legend-icon{padding-right:8px;float:left}html[dir=rtl] .template-legend-icon{padding-left:8px;float:right}fieldset{margin:4px 0;padding:0;border:none}fieldset:last-child{margin-bottom:0}fieldset p{margin:16px 0}legend{margin-bottom:12px;max-width:100%;color:#FFF}@media (-ms-high-contrast){legend{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}}.control-button,button,input[type=button],input[type=submit],input[type=reset]{height:32px;font:inherit;line-height:22px;margin:0;overflow:hidden;color:#FFF}@media (-ms-high-contrast){.control-button,button,input[type=button],input[type=submit],input[type=reset]{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}.control-button:enabled:hover,button:enabled:hover,input[type=button]:enabled:hover,input[type=submit]:enabled:hover,input[type=reset]:enabled:hover{background-color:Highlight;color:HighlightText}.control-button:enabled:active,button:enabled:active,input[type=button]:enabled:active,input[type=submit]:enabled:active,input[type=reset]:enabled:active{background-color:ButtonText;color:ButtonFace}.control-button:enabled:focus,button:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:WindowText;color:HighlightText;border-color:Highlight}}.control-button:enabled.buttonType_themed,.control-button:enabled.button_primary,button:enabled.buttonType_themed,button:enabled.button_primary,input[type=button]:enabled.buttonType_themed,input[type=button]:enabled.button_primary,input[type=submit]:enabled.buttonType_themed,input[type=submit]:enabled.button_primary,input[type=reset]:enabled.buttonType_themed,input[type=reset]:enabled.button_primary{background-color:#0078D7;color:#FFF}.control-button:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:hover,.control-button:enabled.button_primary:focus,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed:focus,button:enabled.buttonType_themed:hover,button:enabled.button_primary:focus,button:enabled.button_primary:hover,input[type=button]:enabled.buttonType_themed:focus,input[type=button]:enabled.buttonType_themed:hover,input[type=button]:enabled.button_primary:focus,input[type=button]:enabled.button_primary:hover,input[type=submit]:enabled.buttonType_themed:focus,input[type=submit]:enabled.buttonType_themed:hover,input[type=submit]:enabled.button_primary:focus,input[type=submit]:enabled.button_primary:hover,input[type=reset]:enabled.buttonType_themed:focus,input[type=reset]:enabled.buttonType_themed:hover,input[type=reset]:enabled.button_primary:focus,input[type=reset]:enabled.button_primary:hover{border-color:#83BEEC}@media (-ms-high-contrast){.control-button:enabled.buttonType_themed,.control-button:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:hover,.control-button:enabled.button_primary,.control-button:enabled.button_primary:focus,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed,button:enabled.buttonType_themed:focus,button:enabled.buttonType_themed:hover,button:enabled.button_primary,button:enabled.button_primary:focus,button:enabled.button_primary:hover,input[type=button]:enabled.buttonType_themed,input[type=button]:enabled.buttonType_themed:focus,input[type=button]:enabled.buttonType_themed:hover,input[type=button]:enabled.button_primary,input[type=button]:enabled.button_primary:focus,input[type=button]:enabled.button_primary:hover,input[type=submit]:enabled.buttonType_themed,input[type=submit]:enabled.buttonType_themed:focus,input[type=submit]:enabled.buttonType_themed:hover,input[type=submit]:enabled.button_primary,input[type=submit]:enabled.button_primary:focus,input[type=submit]:enabled.button_primary:hover,input[type=reset]:enabled.buttonType_themed,input[type=reset]:enabled.buttonType_themed:focus,input[type=reset]:enabled.buttonType_themed:hover,input[type=reset]:enabled.button_primary,input[type=reset]:enabled.button_primary:focus,input[type=reset]:enabled.button_primary:hover{background-color:Highlight;color:HighlightText}}@media (-ms-high-contrast:active){.control-button:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:hover,.control-button:enabled.button_primary:focus,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed:focus,button:enabled.buttonType_themed:hover,button:enabled.button_primary:focus,button:enabled.button_primary:hover,input[type=button]:enabled.buttonType_themed:focus,input[type=button]:enabled.buttonType_themed:hover,input[type=button]:enabled.button_primary:focus,input[type=button]:enabled.button_primary:hover,input[type=submit]:enabled.buttonType_themed:focus,input[type=submit]:enabled.buttonType_themed:hover,input[type=submit]:enabled.button_primary:focus,input[type=submit]:enabled.button_primary:hover,input[type=reset]:enabled.buttonType_themed:focus,input[type=reset]:enabled.buttonType_themed:hover,input[type=reset]:enabled.button_primary:focus,input[type=reset]:enabled.button_primary:hover{border-color:Highlight}}.control-button:enabled.buttonType_themed:active,.control-button:enabled.button_primary:active,button:enabled.buttonType_themed:active,button:enabled.button_primary:active,input[type=button]:enabled.buttonType_themed:active,input[type=button]:enabled.button_primary:active,input[type=submit]:enabled.buttonType_themed:active,input[type=submit]:enabled.button_primary:active,input[type=reset]:enabled.buttonType_themed:active,input[type=reset]:enabled.button_primary:active{background-color:#3A96DD;border-color:#3A96DD}@media (-ms-high-contrast){.control-button:enabled.buttonType_themed:active,.control-button:enabled.button_primary:active,button:enabled.buttonType_themed:active,button:enabled.button_primary:active,input[type=button]:enabled.buttonType_themed:active,input[type=button]:enabled.button_primary:active,input[type=submit]:enabled.buttonType_themed:active,input[type=submit]:enabled.button_primary:active,input[type=reset]:enabled.buttonType_themed:active,input[type=reset]:enabled.button_primary:active{background-color:ButtonText;color:ButtonFace}}.control-chrome-bar,body{background-color:#005a9e}@media (-ms-high-contrast:active){.control-button:enabled.buttonType_themed:active:focus,.control-button:enabled.button_primary:active:focus,button:enabled.buttonType_themed:active:focus,button:enabled.button_primary:active:focus,input[type=button]:enabled.buttonType_themed:active:focus,input[type=button]:enabled.button_primary:active:focus,input[type=submit]:enabled.buttonType_themed:active:focus,input[type=submit]:enabled.button_primary:active:focus,input[type=reset]:enabled.buttonType_themed:active:focus,input[type=reset]:enabled.button_primary:active:focus{border-color:Highlight}}a.control-button:link,a.control-button:link.buttonType_themed,a.control-button:link.button_primary,a.control-button:visited,a.control-button:visited.buttonType_themed,a.control-button:visited.button_primary{color:#FFF}input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select{width:100%;margin-top:0;margin-bottom:0}input[type=color]:disabled,input[type=date]:disabled,input[type=datetime]:disabled,input[type=datetime-local]:disabled,input[type=email]:disabled,input[type=month]:disabled,input[type=number]:disabled,input[type=password]:disabled,input[type=search]:disabled,input[type=tel]:disabled,input[type=text]:disabled,input[type=time]:disabled,input[type=url]:disabled,input[type=week]:disabled,select:disabled{border-color:rgba(255,255,255,.2)!important;background-color:rgba(204,204,204,.2)!important;color:rgba(255,255,255,.2)!important}:disabled+label{color:rgba(255,255,255,.2)!important}@media (-ms-high-contrast){input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select{border-color:ButtonText}:disabled+label{color:GrayText}}:disabled::-ms-input-placeholder{color:rgba(255,255,255,.2)!important}.control-progress{padding:32px 0 36px;text-align:center;color:#FFF}.control-progress progress{margin:0 auto}.control-progress progress.win-ring.win-large{color:#FFF;width:64px;height:64px}.control-progress h4{margin:16px 0 0}.control-actionLinks{margin:0;padding:0;list-style:none}.control-actionLinks li{margin:12px 0 0;padding:.0141875rem 0;font-size:.9375rem;line-height:1.25rem;font-weight:400}.control-chrome-bar-grid{display:-ms-grid;-ms-grid-column:2;-ms-grid-row:3;-ms-grid-columns:12px 1fr 12px;-ms-grid-rows:4px auto 4px}@media (min-width:480px){.control-actionLinks li{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.control-chrome-bar-grid{-ms-grid-columns:32px 1fr 32px}}.control-chrome-bar-grid .chrome-bar-buttons{margin:8px 0;-ms-grid-column:2;-ms-grid-row:2}.control-chrome-bar{color:#FFF;padding:1em}.removeFromDisplay{display:none}body,html{height:100%;-moz-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;-html-user-select:none;-ms-user-select:none}html{overflow:auto}.control-app{display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr auto;height:100%;overflow:hidden}.control-page,.control-page .page-body{overflow-x:hidden;overflow-y:auto;display:-ms-grid}.control-app>.control-progress{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}@media (min-width:480px){.control-app{-ms-grid-rows:1fr minmax(600px,85%) 1fr}}.control-app .app-content{-ms-grid-column:1;-ms-grid-row:2;height:100%;width:100%;min-width:320px;max-width:1024px;max-height:864px;margin:0 auto;position:relative}.control-page{-ms-grid-columns:12px 1fr;-ms-grid-rows:24px 1fr auto;height:100%;width:100%;position:absolute;top:0}@media (min-width:480px){.control-page{-ms-grid-columns:64px 1fr 32px;-ms-grid-rows:32px 1fr 80px;margin:0}}.control-page .page-body{-ms-grid-column:2;-ms-grid-row:2;max-height:752px;-ms-grid-columns:1fr 16px;-ms-grid-rows:minmax(116px,max-content) 1fr 1px}@media (min-width:480px){.control-page .page-body{-ms-grid-columns:1fr 32px}}.control-page .page-body .body-header{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-row-align:end;display:-ms-grid;-ms-grid-columns:1fr auto;-ms-grid-rows:1fr;margin-bottom:28px}.control-page .page-body .body-header h1,.control-page .page-body .body-header h2,.control-page .page-body .body-header h3,.control-page .page-body .body-header h4,.control-page .page-body .body-header h5{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-row-align:end;margin:0;font-size:2.125rem;line-height:2.5rem;padding-bottom:.198825rem;padding-top:.198825rem;font-weight:200;color:#FFF}.control-page .page-body .body-header h1.textType_maxLinesOne,.control-page .page-body .body-header h2.textType_maxLinesOne,.control-page .page-body .body-header h3.textType_maxLinesOne,.control-page .page-body .body-header h4.textType_maxLinesOne,.control-page .page-body .body-header h5.textType_maxLinesOne{max-height:40px;max-height:2.5rem}.control-page .page-body .body-header h1.textType_maxLinesTwo,.control-page .page-body .body-header h2.textType_maxLinesTwo,.control-page .page-body .body-header h3.textType_maxLinesTwo,.control-page .page-body .body-header h4.textType_maxLinesTwo,.control-page .page-body .body-header h5.textType_maxLinesTwo{max-height:80px;max-height:5rem}.control-page .page-body .body-header h1.textType_maxLinesThree,.control-page .page-body .body-header h2.textType_maxLinesThree,.control-page .page-body .body-header h3.textType_maxLinesThree,.control-page .page-body .body-header h4.textType_maxLinesThree,.control-page .page-body .body-header h5.textType_maxLinesThree{max-height:120px;max-height:7.5rem}.control-page .page-body .body-header h1.textType_maxLinesFour,.control-page .page-body .body-header h2.textType_maxLinesFour,.control-page .page-body .body-header h3.textType_maxLinesFour,.control-page .page-body .body-header h4.textType_maxLinesFour,.control-page .page-body .body-header h5.textType_maxLinesFour{max-height:160px;max-height:10rem}.control-page .page-body .body-header .img-brand{-ms-grid-column:2;-ms-grid-column-align:end;-ms-grid-row:1;-ms-grid-row-align:center;height:80px}@media (min-width:480px){html[dir=ltr] .control-page .page-body .body-header .img-brand{margin-right:16px}html[dir=rtl] .control-page .page-body .body-header .img-brand{margin-left:16px}.control-page .page-body .body-container .container-content .win-listview{max-width:672px}}.control-page .page-body .body-container{-ms-grid-column:1;-ms-grid-row:2;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr}.control-page .page-body .body-container .container-content{-ms-grid-column:1;-ms-grid-row:1}.control-page .page-body .body-container .container-content p:first-child{margin-top:0}.control-page .page-body .body-container .container-content p.content-lead{margin-bottom:28px}.control-page .page-body .body-container .container-content p.content-compact{margin-bottom:8px}.control-page .page-body .body-container .container-content .win-listview{margin-bottom:28px}.control-page .page-body .body-container .container-content .win-listview>.win-vertical .win-container{margin:0}.control-page .page-body .body-container .container-footer{-ms-grid-column:1;-ms-grid-row:2;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 8px auto}@media (min-width:480px){.control-page .page-body .body-container .container-footer{-ms-grid-rows:1fr 8px auto}}.control-page .page-body .body-container .container-footer .footer-content{-ms-grid-column:1;-ms-grid-row:3}.control-page .page-footer{display:-ms-grid;-ms-grid-column:2;-ms-grid-row:3;-ms-grid-columns:auto 1fr 12px;-ms-grid-rows:16px auto 4px}.control-page .page-footer .footer-icons{display:none;-ms-grid-column:1;-ms-grid-row:2}@media (min-width:480px){.control-page .page-footer{-ms-grid-columns:auto 1fr 32px}.control-page .page-footer .footer-icons{display:flex}}.control-page .page-footer .footer-icons .icon{display:block;width:48px;height:48px;line-height:48px;font-size:32px;text-align:center;background:0 0;border:none;padding:0;min-width:0;color:#FFF}html[dir=ltr] .control-page .page-footer .footer-icons .icon{margin-right:12px}html[dir=rtl] .control-page .page-footer .footer-icons .icon{margin-left:12px}@media (-ms-high-contrast){.control-page .page-footer .footer-icons .icon{color:ButtonText;background-color:ButtonFace}}.control-page .page-footer .footer-icons .icon:hover{background-color:rgba(255,255,255,.2)}@media (-ms-high-contrast){.control-page .page-footer .footer-icons .icon:hover{background-color:Highlight;color:HighlightText}}.control-page .page-footer .footer-icons .icon:active{color:#000;background-color:#FFF}@media (-ms-high-contrast){.control-page .page-footer .footer-icons .icon:active{color:ButtonFace;background-color:ButtonText}.control-page .page-footer .footer-icons .icon:focus{background-color:WindowText;color:HighlightText;border-color:Highlight}}.control-page .page-footer .footer-icons .icon:disabled{color:rgba(255,255,255,.2);background-color:transparent}@media (-ms-high-contrast){.control-page .page-footer .footer-icons .icon:disabled{color:GrayText;background-color:ButtonFace}}.control-page .page-footer .footer-buttons{margin:8px 0;-ms-grid-column:2;-ms-grid-row:2}.control-page.page_centered{-ms-grid-columns:1fr;-ms-grid-rows:1fr}.control-page.page_centered .page-body{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-columns:1fr auto 1fr;-ms-grid-rows:1fr auto 1fr}.control-page.page_centered .page-body .body-container{-ms-grid-column:2;-ms-grid-row:2;display:block}.template-buttonGroup{margin:4px 0;display:-ms-grid;-ms-grid-columns:1fr 4px 1fr}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset],html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-left:0}.template-buttonGroup .control-button{-ms-grid-column:1}.template-buttonGroup .control-button.button_primary{-ms-grid-column:3}.template-buttonGroup.buttonGroup_fullWidth{-ms-grid-columns:1fr}.template-buttonGroup.buttonGroup_fullWidth .control-button.button_primary{-ms-grid-column:1}.template-buttonGroup .control-button+.control-button{margin-top:0}.template-buttonGroup .control-button,.template-buttonGroup button,.template-buttonGroup input[type=button],.template-buttonGroup input[type=submit],.template-buttonGroup input[type=reset]{-ms-grid-row:1;margin-top:0;margin-bottom:0}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset],html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-right:0}@media (min-width:480px){.template-buttonGroup{-ms-grid-columns:1fr auto auto}.template-buttonGroup .control-button{-ms-grid-column:2}.template-buttonGroup .control-button.button_primary{-ms-grid-column:3}.template-buttonGroup .control-button,.template-buttonGroup button,.template-buttonGroup input[type=button],.template-buttonGroup input[type=submit],.template-buttonGroup input[type=reset]{width:auto;min-width:120px}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset]{margin-left:12px}html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-right:12px}}.template-tooltip{background:0 0;border:0 transparent;padding:12px 0}.template-tooltip p{margin:8px 0}.template-tooltip p:first-child{margin-top:0}.template-tooltip p:last-child{margin-bottom:0}.template-tooltip.tooltipType_error{color:#FF0}@media (-ms-high-contrast){.template-tooltip.tooltipType_error{color:GrayText}}.template-tooltip.tooltipType_success{color:rgba(255,255,255,.6)}@media (-ms-high-contrast){.template-tooltip.tooltipType_success{color:-ms-hotlight}}.template-input+.template-tooltip,.template-tooltip+.template-tooltip{padding-top:0}.template-input .template-tooltip:last-of-type{padding-bottom:0}.template-input{margin-top:12px;margin-bottom:12px}.template-input .text-captionAlt{color:rgba(255,255,255,.6)}.template-input .input-errorDialog{position:static;display:inline-block;margin-top:0;margin-bottom:0}.template-input .input-errorDialog.errorDialogType_above{margin-top:0;margin-bottom:0}.template-input.inputType_checkbox,.template-input.inputType_radio{display:-ms-grid;-ms-grid-columns:auto 1fr;padding:2px 0}.template-input.inputType_checkbox input,.template-input.inputType_radio input{-ms-grid-column:1;float:none}.template-input.inputType_checkbox input+label,.template-input.inputType_radio input+label{display:block}.template-input.inputType_checkbox label,.template-input.inputType_radio label{-ms-grid-column:2;margin-top:0;margin-bottom:0}.template-input.inputType_twoFields{display:-ms-grid;-ms-grid-rows:auto;-ms-grid-columns:1fr 12px 1fr;width:100%}.template-input.inputType_twoFields .field-one{-ms-grid-column:1}.template-input.inputType_twoFields .field-two{-ms-grid-column:3}.template-input.inputType_twoFields .template-tooltip{-ms-grid-row:3;-ms-grid-column-span:3}.template-input select{min-width:inherit;max-width:100%}.template-input label{display:block;margin-top:12px;margin-bottom:12px}.template-input label.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-input label.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-input label.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-input label.textType_maxLinesFour{max-height:80px;max-height:5rem}.template-datePicker{display:flex;height:28px;margin:0 -6px}.template-datePicker .day,.template-datePicker .month,.template-datePicker .year{margin:0 6px}.template-datePicker .month{flex:0 2 100%}.template-datePicker .day,.template-datePicker .year{flex:0 3 100%}.template-datePicker .template-input{min-width:0;width:100%}.template-datePicker .template-tooltip{display:none}.template-datePicker.inputType_checkbox{padding:2px 0}.scrollable-div:hover{background:rgba(0,0,0,.4)}.template-listViewItem{padding:8px 12px;height:auto;min-height:84px;box-sizing:border-box}.template-listViewItem .listViewItem-icon{font-size:32px}.template-listViewItem .listViewItem-text,.template-listViewItem .listViewItem-title{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.template-listViewItem .listViewItem-title{font-weight:500;margin-bottom:4px}.template-listViewItem .listViewItem-title.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-listViewItem .listViewItem-title.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-listViewItem .listViewItem-title.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-listViewItem .listViewItem-title.textType_maxLinesFour{max-height:80px;max-height:5rem}.template-listViewItem .listViewItem-text{font-weight:400}.template-listViewItem .listViewItem-text.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-listViewItem .listViewItem-text.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-listViewItem .listViewItem-text.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-listViewItem .listViewItem-text.textType_maxLinesFour{max-height:80px;max-height:5rem}progress.template-progressTop{margin-top:0;position:absolute;top:0;width:100%;color:#FFF}@media (min-width:480px){.template-input{max-width:296px}.template-input.inputType_checkbox,.template-input.inputType_radio{max-width:672px}.template-input.inputType_large,.template-input.inputType_large input,.template-input.inputType_large select{max-width:384px}.template-input.inputType_med,.template-input.inputType_med input,.template-input.inputType_med select{max-width:256px}.template-input.inputType_small,.template-input.inputType_small input,.template-input.inputType_small select{max-width:128px;min-width:0}.template-input .inputType_large select,.template-input .inputType_med select,.template-input .inputType_small select{min-width:0}.template-datePicker .template-input{max-width:100%}progress.template-progressTop{margin-top:12px}.layout-twoColumn{display:-ms-grid;-ms-grid-rows:auto;-ms-grid-columns:minmax(1fr,296px) minmax(32px,1fr) minmax(1fr,296px);max-width:672px}.layout-twoColumn .gridcol-one+.gridcol-two{margin-top:0}.layout-twoColumnText{column-count:2;column-gap:32px}}.gridcol-one{-ms-grid-column:1}.gridcol-two{-ms-grid-column:3}.gridrow-one{-ms-grid-row:1}.gridrow-two{-ms-grid-row:2}.gridrow-three{-ms-grid-row:3}.gridrow-four{-ms-grid-row:4}.gridrow-five{-ms-grid-row:5}.gridcolspan-one_wide.gridcol-one{-ms-grid-column-span:2}.gridcolspan-one_wide .template-input input,.gridcolspan-one_wide .template-input select{width:100%}.gridcolspan-two{-ms-grid-column-span:3}.gridrowspan-two{-ms-grid-row-span:2}.gridrowspan-three{-ms-grid-row-span:3}.gridrowspan-four{-ms-grid-row-span:4}.gridrowspan-five{-ms-grid-row-span:5}.gridgutter{height:32px}.gridcol-one+.gridcol-two{margin-top:32px}html{background-color:#005a9e;color:#FFF}
/*! Copyright (C) Microsoft Corporation. All rights reserved. Version 1.2.6 */::selection .win-dropdown option{-ms-high-contrast-adjust:none}.win-button,.icon,.template-listViewItem{-ms-high-contrast-adjust:none}@media (-ms-high-contrast){.win-button:disabled{background-color:ButtonFace;color:GrayText}}@media (-ms-high-contrast){button:enabled .button_primary,input[type="button"]:enabled .button_primary,input[type="submit"]:enabled .button_primary,input[type="reset"]:enabled .button_primary,select:enabled .button_primary,button:enabled .buttonType_themed,input[type="button"]:enabled .buttonType_themed,input[type="submit"]:enabled .buttonType_themed,input[type="reset"]:enabled .buttonType_themed,select:enabled .buttonType_themed{border-color:WindowText}}@media (-ms-high-contrast){button:enabled .button_primary:hover,input[type="button"]:enabled .button_primary:hover,input[type="submit"]:enabled .button_primary:hover,input[type="reset"]:enabled .button_primary:hover,select:enabled .button_primary:hover,button:enabled .buttonType_themed:hover,input[type="button"]:enabled .buttonType_themed:hover,input[type="submit"]:enabled .buttonType_themed:hover,input[type="reset"]:enabled .buttonType_themed:hover,select:enabled .buttonType_themed:hover,button:enabled .button_primary:focus,input[type="button"]:enabled .button_primary:focus,input[type="submit"]:enabled .button_primary:focus,input[type="reset"]:enabled .button_primary:focus,select:enabled .button_primary:focus,button:enabled .buttonType_themed:focus,input[type="button"]:enabled .buttonType_themed:focus,input[type="submit"]:enabled .buttonType_themed:focus,input[type="reset"]:enabled .buttonType_themed:focus,select:enabled .buttonType_themed:focus{border-color:Highlight}}@media (-ms-high-contrast){.template-tooltip.tooltipType_error{color:GrayText}}@media (-ms-high-contrast){.win-dropdown option:checked,select[multiple].win-dropdown option:checked{background-color:Highlight;color:HighlightText}}@media (-ms-high-contrast){.win-dropdown option:hover,select[multiple].win-dropdown option:hover{background-color:Highlight;color:HighlightText}}@media (-ms-high-contrast){.win-dropdown option:active{background-color:ButtonFace;color:Highlight}}@media (-ms-high-contrast){.template-buttonGroup button:enabled:focus,input[type="button"]:enabled:focus,input[type="submit"]:enabled:focus,input[type="reset"]:enabled:focus,.control-button:enabled:focus{background-color:ButtonText;color:ButtonFace}}@media (-ms-high-contrast){.template-buttonGroup button:enabled:focus,input[type="button"]:enabled:focus,input[type="submit"]:enabled:focus,input[type="reset"]:enabled:focus,.control-button:enabled:focus{border-color:Highlight}}@media (-ms-high-contrast){html .control-page .page-footer .footer-icons .icon:enabled:focus,input[type="button"]:enabled:focus,input[type="submit"]:enabled:focus,input[type="reset"]:enabled:focus{background-color:ButtonText;color:ButtonFace}}@media (-ms-high-contrast){html .control-page .page-footer .footer-icons .icon:enabled:focus,input[type="button"]:enabled:focus,input[type="submit"]:enabled:focus,input[type="reset"]:enabled:focus{border-color:Highlight}}@media (-ms-high-contrast){html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,.win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox{background-color:ButtonText;color:ButtonFace}}@media (-ms-high-contrast){html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,.win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox{background-color:ButtonText;color:ButtonFace}}@media (-ms-high-contrast){.win-textbox::-ms-input-placeholder,.win-textarea::-ms-input-placeholder{color:Graytext}}@media (-ms-high-contrast){.win-listview.win-selectionstylefilled .win-selected.win-pressed .win-selectionbackground,.win-itemcontainer.win-selectionstylefilled.win-selected.win-pressed .win-selectionbackground{background-color:ButtonText !important}a:focus{color:-ms-hotlight !important;outline:1px dashed #fff}}@media (-ms-high-contrast){body a:hover{color:Highlight}}fieldset{margin:4px 0;padding:0;border:none}fieldset:last-child{margin-bottom:0}fieldset p{margin:16px 0}legend{margin-bottom:12px;max-width:100%;color:#000000}@media (-ms-high-contrast){legend{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}}button,input[type="button"],input[type="submit"],input[type="reset"],.control-button{height:108px;font:inherit;line-height:22px;margin:0;overflow:hidden;color:#000000}@media (-ms-high-contrast){button,input[type="button"],input[type="submit"],input[type="reset"],.control-button{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}}@media (-ms-high-contrast){button:enabled:hover,input[type="button"]:enabled:hover,input[type="submit"]:enabled:hover,input[type="reset"]:enabled:hover,.control-button:enabled:hover{background-color:Highlight;color:HighlightText}}@media (-ms-high-contrast){button:enabled:active,input[type="button"]:enabled:active,input[type="submit"]:enabled:active,input[type="reset"]:enabled:active,.control-button:enabled:active{background-color:ButtonText;color:ButtonFace}}@media (-ms-high-contrast){button:enabled:focus,input[type="button"]:enabled:focus,input[type="submit"]:enabled:focus,input[type="reset"]:enabled:focus,.control-button:enabled:focus{background-color:WindowText;color:HighlightText;border-color:Highlight}}button:enabled.button_primary,input[type="button"]:enabled.button_primary,input[type="submit"]:enabled.button_primary,input[type="reset"]:enabled.button_primary,.control-button:enabled.button_primary,button:enabled.buttonType_themed,input[type="button"]:enabled.buttonType_themed,input[type="submit"]:enabled.buttonType_themed,input[type="reset"]:enabled.buttonType_themed,.control-button:enabled.buttonType_themed{background-color:#0078D7;color:#000000}@media (-ms-high-contrast){button:enabled.button_primary,input[type="button"]:enabled.button_primary,input[type="submit"]:enabled.button_primary,input[type="reset"]:enabled.button_primary,.control-button:enabled.button_primary,button:enabled.buttonType_themed,input[type="button"]:enabled.buttonType_themed,input[type="submit"]:enabled.buttonType_themed,input[type="reset"]:enabled.buttonType_themed,.control-button:enabled.buttonType_themed{background-color:Highlight;color:HighlightText}}button:enabled.button_primary:hover,input[type="button"]:enabled.button_primary:hover,input[type="submit"]:enabled.button_primary:hover,input[type="reset"]:enabled.button_primary:hover,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed:hover,input[type="button"]:enabled.buttonType_themed:hover,input[type="submit"]:enabled.buttonType_themed:hover,input[type="reset"]:enabled.buttonType_themed:hover,.control-button:enabled.buttonType_themed:hover,button:enabled.button_primary:focus,input[type="button"]:enabled.button_primary:focus,input[type="submit"]:enabled.button_primary:focus,input[type="reset"]:enabled.button_primary:focus,.control-button:enabled.button_primary:focus,button:enabled.buttonType_themed:focus,input[type="button"]:enabled.buttonType_themed:focus,input[type="submit"]:enabled.buttonType_themed:focus,input[type="reset"]:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:focus{border-color:#004E8C}@media (-ms-high-contrast){button:enabled.button_primary:hover,input[type="button"]:enabled.button_primary:hover,input[type="submit"]:enabled.button_primary:hover,input[type="reset"]:enabled.button_primary:hover,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed:hover,input[type="button"]:enabled.buttonType_themed:hover,input[type="submit"]:enabled.buttonType_themed:hover,input[type="reset"]:enabled.buttonType_themed:hover,.control-button:enabled.buttonType_themed:hover,button:enabled.button_primary:focus,input[type="button"]:enabled.button_primary:focus,input[type="submit"]:enabled.button_primary:focus,input[type="reset"]:enabled.button_primary:focus,.control-button:enabled.button_primary:focus,button:enabled.buttonType_themed:focus,input[type="button"]:enabled.buttonType_themed:focus,input[type="submit"]:enabled.buttonType_themed:focus,input[type="reset"]:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:focus{background-color:Highlight;color:HighlightText}}@media (-ms-high-contrast:active){button:enabled.button_primary:hover,input[type="button"]:enabled.button_primary:hover,input[type="submit"]:enabled.button_primary:hover,input[type="reset"]:enabled.button_primary:hover,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed:hover,input[type="button"]:enabled.buttonType_themed:hover,input[type="submit"]:enabled.buttonType_themed:hover,input[type="reset"]:enabled.buttonType_themed:hover,.control-button:enabled.buttonType_themed:hover,button:enabled.button_primary:focus,input[type="button"]:enabled.button_primary:focus,input[type="submit"]:enabled.button_primary:focus,input[type="reset"]:enabled.button_primary:focus,.control-button:enabled.button_primary:focus,button:enabled.buttonType_themed:focus,input[type="button"]:enabled.buttonType_themed:focus,input[type="submit"]:enabled.buttonType_themed:focus,input[type="reset"]:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:focus{border-color:Highlight}}button:enabled.button_primary:active,input[type="button"]:enabled.button_primary:active,input[type="submit"]:enabled.button_primary:active,input[type="reset"]:enabled.button_primary:active,.control-button:enabled.button_primary:active,button:enabled.buttonType_themed:active,input[type="button"]:enabled.buttonType_themed:active,input[type="submit"]:enabled.buttonType_themed:active,input[type="reset"]:enabled.buttonType_themed:active,.control-button:enabled.buttonType_themed:active{background-color:#004E8C;border-color:#004E8C}@media (-ms-high-contrast){button:enabled.button_primary:active,input[type="button"]:enabled.button_primary:active,input[type="submit"]:enabled.button_primary:active,input[type="reset"]:enabled.button_primary:active,.control-button:enabled.button_primary:active,button:enabled.buttonType_themed:active,input[type="button"]:enabled.buttonType_themed:active,input[type="submit"]:enabled.buttonType_themed:active,input[type="reset"]:enabled.buttonType_themed:active,.control-button:enabled.buttonType_themed:active{background-color:ButtonText;color:ButtonFace}}@media (-ms-high-contrast:active){button:enabled.button_primary:active:focus,input[type="button"]:enabled.button_primary:active:focus,input[type="submit"]:enabled.button_primary:active:focus,input[type="reset"]:enabled.button_primary:active:focus,.control-button:enabled.button_primary:active:focus,button:enabled.buttonType_themed:active:focus,input[type="button"]:enabled.buttonType_themed:active:focus,input[type="submit"]:enabled.buttonType_themed:active:focus,input[type="reset"]:enabled.buttonType_themed:active:focus,.control-button:enabled.buttonType_themed:active:focus{border-color:Highlight}}a.control-button:link,a.control-button:visited{color:#000000}a.control-button:link.button_primary,a.control-button:visited.button_primary,a.control-button:link.buttonType_themed,a.control-button:visited.buttonType_themed{color:#000000}input[type="color"],input[type="date"],input[type="datetime"],input[type="datetime-local"],input[type="email"],input[type="month"],input[type="number"],input[type="password"],input[type="search"],input[type="tel"],input[type="text"],input[type="time"],input[type="url"],input[type="week"],select{width:100%;margin-top:0;margin-bottom:0}@media (-ms-high-contrast){input[type="color"],input[type="date"],input[type="datetime"],input[type="datetime-local"],input[type="email"],input[type="month"],input[type="number"],input[type="password"],input[type="search"],input[type="tel"],input[type="text"],input[type="time"],input[type="url"],input[type="week"],select{border-color:ButtonText}}input[type="color"]:disabled,input[type="date"]:disabled,input[type="datetime"]:disabled,input[type="datetime-local"]:disabled,input[type="email"]:disabled,input[type="month"]:disabled,input[type="number"]:disabled,input[type="password"]:disabled,input[type="search"]:disabled,input[type="tel"]:disabled,input[type="text"]:disabled,input[type="time"]:disabled,input[type="url"]:disabled,input[type="week"]:disabled,select:disabled{border-color:#949494 !important;background-color:rgba(204,204,204,0.2) !important;color:rgba(0,0,0,0.3) !important}:disabled+label{color:rgba(0,0,0,0.3) !important}@media (-ms-high-contrast){:disabled+label{color:GrayText}}:disabled::-ms-input-placeholder{color:rgba(0,0,0,0.3) !important}body{font-size:15px;line-height:20px;font-size:.9375rem;line-height:1.25rem;padding-bottom:.227px;padding-top:.227px;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:400;font-family:"Segoe UI","Selawik",Tahoma,Verdana,Arial,sans-serif}a{text-decoration:none;color:#ccc}a:link{color:#0078D7}a:visited{color:#0078D7}a:hover{color:#d2d2d2}a:focus{color:#0078D7}a:active{color:#FFFFFF}@media (-ms-high-contrast){a{color:GrayText}}a:link{color:#0078D7}@media (-ms-high-contrast){a:link{color:-ms-hotlight}}a:visited{color:#0078D7}@media (-ms-high-contrast){a:visited{color:-ms-hotlight}}a:hover,a:hover:focus{color:#d2d2d2}@media (-ms-high-contrast){a:hover,a:hover:focus{color:WindowText}}a:focus{color:#0078D7}@media (-ms-high-contrast){a:focus{color:WindowText}}a:active,a:active:hover{color:#FFFFFF}@media (-ms-high-contrast){a:active,a:active:hover{color:WindowText}}h1,h2,h3,h4,h5,h6,.text-headline,.text-header,.text-subheader,.text-title,.text-subtitle,.text-body,.text-base,.text-caption,.text-captionAlt,.text-subcaption,.text-display1,.text-display2,.text-display3,.text-title1,.text-title2,.text-title3,.text-caption1,p,.control-page .page-body .body-header h2{margin-bottom:1.25rem;margin-top:1.25rem}.text-display1,.text-headline{font-size:62px;line-height:80px;font-size:3.875rem;line-height:5rem;padding-bottom:2.2716px;padding-top:2.2716px;padding-bottom:.141975rem;padding-top:.141975rem;font-weight:200}.text-display1.textType_maxLinesOne,.text-headline.textType_maxLinesOne{max-height:80px;max-height:5rem}.text-display1.textType_maxLinesTwo,.text-headline.textType_maxLinesTwo{max-height:160px;max-height:10rem}.text-display1.textType_maxLinesThree,.text-headline.textType_maxLinesThree{max-height:240px;max-height:15rem}.text-display1.textType_maxLinesFour,.text-headline.textType_maxLinesFour{max-height:320px;max-height:20rem}.text-display2,.text-header,h1,.control-page .page-body .body-header h2{font-size:46px;line-height:56px;font-size:2.875rem;line-height:3.5rem;padding-bottom:3.3628px;padding-top:3.3628px;padding-bottom:.210175rem;padding-top:.210175rem;font-weight:200}.text-display2.textType_maxLinesOne,.text-header.textType_maxLinesOne,h1.textType_maxLinesOne{max-height:56px;max-height:3.5rem}.text-display2.textType_maxLinesTwo,.text-header.textType_maxLinesTwo,h1.textType_maxLinesTwo{max-height:112px;max-height:7rem}.text-display2.textType_maxLinesThree,.text-header.textType_maxLinesThree,h1.textType_maxLinesThree{max-height:168px;max-height:10.5rem}.text-display2.textType_maxLinesFour,.text-header.textType_maxLinesFour,h1.textType_maxLinesFour{max-height:224px;max-height:14rem}.text-display3,.text-subheader,h2{font-size:34px;line-height:40px;font-size:2.125rem;line-height:2.5rem;padding-bottom:3.1812px;padding-top:3.1812px;padding-bottom:.198825rem;padding-top:.198825rem;font-weight:200}.text-display3.textType_maxLinesOne,.text-subheader.textType_maxLinesOne,h2.textType_maxLinesOne{max-height:40px;max-height:2.5rem}.text-display3.textType_maxLinesTwo,.text-subheader.textType_maxLinesTwo,h2.textType_maxLinesTwo{max-height:80px;max-height:5rem}.text-display3.textType_maxLinesThree,.text-subheader.textType_maxLinesThree,h2.textType_maxLinesThree{max-height:120px;max-height:7.5rem}.text-display3.textType_maxLinesFour,.text-subheader.textType_maxLinesFour,h2.textType_maxLinesFour{max-height:160px;max-height:10rem}.text-title,h3{font-size:24px;line-height:28px;font-size:1.5rem;line-height:1.75rem;padding-bottom:2.3632px;padding-top:2.3632px;padding-bottom:.1477rem;padding-top:.1477rem;font-weight:300}.text-title.textType_maxLinesOne,h3.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title.textType_maxLinesTwo,h3.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title.textType_maxLinesThree,h3.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title.textType_maxLinesFour,h3.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title1{font-size:24px;line-height:28px;font-size:1.5rem;line-height:1.75rem;padding-bottom:2.3632px;padding-top:2.3632px;padding-bottom:.1477rem;padding-top:.1477rem;font-weight:400}.text-title1.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title1.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title1.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title1.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title2{font-size:24px;line-height:28px;font-size:1.5rem;line-height:1.75rem;padding-bottom:2.3632px;padding-top:2.3632px;padding-bottom:.1477rem;padding-top:.1477rem;font-weight:200}.text-title2.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title2.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title2.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title2.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title3,.text-subtitle,h4{font-size:20px;line-height:24px;font-size:1.25rem;line-height:1.5rem;padding-bottom:1.636px;padding-top:1.636px;padding-bottom:.10225rem;padding-top:.10225rem;font-weight:400}.text-title3.textType_maxLinesOne,.text-subtitle.textType_maxLinesOne,h4.textType_maxLinesOne{max-height:24px;max-height:1.5rem}.text-title3.textType_maxLinesTwo,.text-subtitle.textType_maxLinesTwo,h4.textType_maxLinesTwo{max-height:48px;max-height:3rem}.text-title3.textType_maxLinesThree,.text-subtitle.textType_maxLinesThree,h4.textType_maxLinesThree{max-height:72px;max-height:4.5rem}.text-title3.textType_maxLinesFour,.text-subtitle.textType_maxLinesFour,h4.textType_maxLinesFour{max-height:96px;max-height:6rem}.text-caption1,.text-caption,h5{font-size:13px;line-height:14px;font-size:.8125rem;line-height:.875rem;padding-bottom:1.8634px;padding-top:1.8634px;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.text-caption1.textType_maxLinesOne,.text-caption.textType_maxLinesOne,h5.textType_maxLinesOne{max-height:14px;max-height:.875rem}.text-caption1.textType_maxLinesTwo,.text-caption.textType_maxLinesTwo,h5.textType_maxLinesTwo{max-height:28px;max-height:1.75rem}.text-caption1.textType_maxLinesThree,.text-caption.textType_maxLinesThree,h5.textType_maxLinesThree{max-height:42px;max-height:2.625rem}.text-caption1.textType_maxLinesFour,.text-caption.textType_maxLinesFour,h5.textType_maxLinesFour{max-height:56px;max-height:3.5rem}.text-caption2,.text-captionAlt,h6{font-size:10px;line-height:12px;font-size:.625rem;line-height:.75rem;padding-bottom:.818px;padding-top:.818px;padding-bottom:.051125rem;padding-top:.051125rem;font-weight:400}.text-caption2.textType_maxLinesOne,.text-captionAlt.textType_maxLinesOne,h6.textType_maxLinesOne{max-height:12px;max-height:.75rem}.text-caption2.textType_maxLinesTwo,.text-captionAlt.textType_maxLinesTwo,h6.textType_maxLinesTwo{max-height:24px;max-height:1.5rem}.text-caption2.textType_maxLinesThree,.text-captionAlt.textType_maxLinesThree,h6.textType_maxLinesThree{max-height:36px;max-height:2.25rem}.text-caption2.textType_maxLinesFour,.text-captionAlt.textType_maxLinesFour,h6.textType_maxLinesFour{max-height:48px;max-height:3rem}.text-caption3,.text-subcaption{font-size:8px;line-height:10px;font-size:.5rem;line-height:.625rem;padding-bottom:.4544px;padding-top:.4544px;padding-bottom:.0284rem;padding-top:.0284rem;font-weight:400}.text-caption3.textType_maxLinesOne,.text-subcaption.textType_maxLinesOne{max-height:10px;max-height:.625rem}.text-caption3.textType_maxLinesTwo,.text-subcaption.textType_maxLinesTwo{max-height:20px;max-height:1.25rem}.text-caption3.textType_maxLinesThree,.text-subcaption.textType_maxLinesThree{max-height:30px;max-height:1.875rem}.text-caption3.textType_maxLinesFour,.text-subcaption.textType_maxLinesFour{max-height:40px;max-height:2.5rem}.text-body1,.text-body,p{font-size:15px;line-height:20px;font-size:.9375rem;line-height:1.25rem;padding-bottom:.227px;padding-top:.227px;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:400}.text-body1.textType_maxLinesOne,.text-body.textType_maxLinesOne,p.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-body1.textType_maxLinesTwo,.text-body.textType_maxLinesTwo,p.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-body1.textType_maxLinesThree,.text-body.textType_maxLinesThree,p.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-body1.textType_maxLinesFour,.text-body.textType_maxLinesFour,p.textType_maxLinesFour{max-height:80px;max-height:5rem}.text-body2,.text-base{font-size:15px;line-height:20px;font-size:.9375rem;line-height:1.25rem;padding-bottom:.227px;padding-top:.227px;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:500}.text-body2.textType_maxLinesOne,.text-base.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-body2.textType_maxLinesTwo,.text-base.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-body2.textType_maxLinesThree,.text-base.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-body2.textType_maxLinesFour,.text-base.textType_maxLinesFour{max-height:80px;max-height:5rem}[class*="textType_maxLines"]{overflow:hidden}a,a:link,a:visited{color:#0078D7}a:hover,a:link:hover,a:visited:hover{color:#d2d2d2}a:active,a:link:active,a:visited:active{color:#FFFFFF}legend{font-size:15px;line-height:20px;font-size:.9375rem;line-height:1.25rem;padding-bottom:.227px;padding-top:.227px;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:500}p,li{font-size:15px;line-height:20px;font-size:.9375rem;line-height:1.25rem;padding-bottom:.227px;padding-top:.227px;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:400;max-width:672px}.action-link{font-size:13px;line-height:14px;font-size:.8125rem;line-height:.875rem;padding-bottom:1.8634px;padding-top:1.8634px;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.secondaryText{color:rgba(0,0,0,0.6)}.icon{font-family:"Segoe MDL2 Assets"}.icon-win-easeOfAccess:before{content:"\E776"}.icon-win-keyboardStandard:before{content:"\E765";transform:translatex(1px)}.icon-win-chevronDown:before{content: "\E70D";}.icon-win-chevronUp:before{content: "\E70E";}.template-legend-icon{width:20px;height:20px}html[dir="ltr"] .template-legend-icon{padding-right:8px}html[dir="rtl"] .template-legend-icon{padding-left:8px}html[dir="ltr"] .template-legend-icon{float:left}html[dir="rtl"] .template-legend-icon{float:right}html{background-color:#FFF;color:#000000}.template-input{margin-top:24px;margin-bottom:24px;position:relative}.template-input label{display:block;margin-top:8px;margin-bottom:8px}html[dir="ltr"] .template-input input,html[dir="ltr"] .template-input label{margin-right:8px}html[dir="rtl"] .template-input input,html[dir="rtl"] .template-input label{margin-left:8px}html[dir="ltr"] .template-input.inputType_radio input,html[dir="ltr"] .template-input.inputType_checkbox input{float:left}html[dir="rtl"] .template-input.inputType_radio input,html[dir="rtl"] .template-input.inputType_checkbox input{float:right}.template-input.inputType_radio input+label,.template-input.inputType_checkbox input+label{display:table-cell}.template-input.inputType_radio input:disabled+label,.template-input.inputType_checkbox input:disabled+label{color:#ccc}.template-input .input-errorDialog{margin-top:12px;margin-bottom:12px;*zoom:1}.template-input .input-errorDialog:before,.template-input .input-errorDialog:after{content:" ";display:table}.template-input .input-errorDialog:after{clear:both}html[dir="ltr"] .template-input .input-errorDialog .errorDialog-dialogRoot{float:left}html[dir="rtl"] .template-input .input-errorDialog .errorDialog-dialogRoot{float:right}.template-buttonGroup{margin-top:24px;margin-bottom:24px}.template-buttonGroup .control-button,.template-buttonGroup button,.template-buttonGroup input[type="submit"],.template-buttonGroup input[type="button"],.template-buttonGroup input[type="reset"]{margin-bottom:4px;margin-top:4px}html[dir="ltr"] .template-buttonGroup .control-button,html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="reset"]{margin-right:4px}html[dir="rtl"] .template-buttonGroup .control-button,html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="reset"]{margin-left:4px}.template-tooltip{color:#000;padding:12px 0}.template-tooltip *:first-child{margin-top:0}.template-tooltip *:last-child{margin-bottom:0}html[dir="rtl"]{direction:rtl}a:hover:focus{color:#d2d2d2}a:hover:active{color:#FFFFFF}a,button,input[type="button"],input[type="submit"],input[type="reset"],.control-button,a:hover,button:hover,input[type="button"]:hover,input[type="submit"]:hover,input[type="reset"]:hover,.control-button:hover{cursor:default}input[type="checkbox"],input[type="radio"]{margin-top:0;margin-bottom:0}html[dir="ltr"] input[type="checkbox"],html[dir="ltr"] input[type="radio"]{margin-left:0}html[dir="rtl"] input[type="checkbox"],html[dir="rtl"] input[type="radio"]{margin-right:0}html[dir="ltr"] input[type="checkbox"],html[dir="ltr"] input[type="radio"]{margin-right:8px}html[dir="rtl"] input[type="checkbox"],html[dir="rtl"] input[type="radio"]{margin-left:8px}input[type="checkbox"]:hover:active::-ms-check{color:#FFFFFF;background-color:#767676;border-color:#333}.win-dropdown,.win-dropdown:enabled,.win-dropdown:focus::-ms-value,.win-dropdown:enabled:focus::-ms-value{color:#000000;border-color:transparent;background-color:#d2d2d2}.win-dropdown:hover,.win-dropdown:enabled:hover,.win-dropdown:focus,.win-dropdown:enabled:focus{border-color:#0078D7;background-color:#d2d2d2}.win-dropdown:active,.win-dropdown:enabled:active{border-color:#0078D7}.win-dropdown:disabled::-ms-expand{color:rgba(0,0,0,0.3)}.win-dropdown option{color:#000000;background-color:#d2d2d2}input::-ms-clear,input::-ms-reveal,input.win-textbox::-ms-clear,input.win-textbox::-ms-reveal{width:auto;height:auto}input::-ms-clear:hover:active,input::-ms-reveal:hover:active,input.win-textbox::-ms-clear:hover:active,input.win-textbox::-ms-reveal:hover:active{background-color:#0078D7}progress,progress:indeterminate{color:#0078D7}.win-textbox{padding:4px 8px}.win-flyout,.win-flyout.win-ui-light,.win-flyout.win-ui-dark{margin-bottom:7px;padding-top:6px;color:#000;background-color:#F2F2F2;border-color:#CCCCCC}.win-flyout h4{margin-top:0;margin-bottom:4px}.win-flyout p{margin-bottom:0}.win-flyout h4+p{margin-top:0}.win-listview .win-gridlayout .win-container{margin:0}html.win-hoverable .win-listview .win-itembox:hover::before,html.win-hoverable .win-itemcontainer .win-itembox:hover::before,.win-listview .win-pressed .win-itembox::before,.win-itemcontainer .win-pressed .win-itembox::before{position:absolute;left:0;top:0;content:"";width:calc(100% - 8px);height:calc(100% - 8px);pointer-events:none;border-style:solid;border-width:4px;z-index:3}.win-listview .win-itembox,.win-itemcontainer .win-itembox{background-color:transparent}html.win-hoverable .win-listview .win-itembox:hover::before,html.win-hoverable .win-itemcontainer .win-itembox:hover::before,.win-listview .win-itembox:focus::before,.win-itemcontainer .win-itembox:focus::before{border-color:#0078D7}.win-listview .win-pressed,.win-itemcontainer .win-pressed{transform:scale(1) !important}.win-listview .win-pressed .win-itembox::before,.win-itemcontainer .win-pressed .win-itembox::before,html.win-hoverable .win-listview .win-pressed .win-itembox:hover::before,html.win-hoverable .win-itemcontainer .win-pressed .win-itembox:hover::before{border-color:#d2d2d2}.win-listview .win-container.win-selected .win-selectionborder,.win-itemcontainer.win-container.win-selected .win-selectionborder,html.win-hoverable .win-listview .win-container.win-selected:hover .win-selectionborder,html.win-hoverable .win-itemcontainer.win-container.win-selected:hover .win-selectionborder,html.win-hoverable .win-listview .win-itembox:hover::before,html.win-hoverable .win-itemcontainer .win-itembox:hover::before,html.win-hoverable .win-listview .win-pressed .win-itembox:hover::before,html.win-hoverable .win-itemcontainer .win-pressed .win-itembox:hover::before,html.win-hoverable .win-listview .win-pressed.win-itembox:hover::before,html.win-hoverable .win-itemcontainer .win-pressed.win-itembox:hover::before{opacity:1;border-width:4px}@keyframes WinJS-enterContent{from{transform:translateX(40px)}to{transform:none}}@keyframes WinJS-enterContent-rtl{from{transform:translateX(-40px)}to{transform:none}}body,p,.text-body,.text-base{font-size:20px;line-height:24px;font-size:1.25rem;line-height:1.5rem;padding-bottom:1.636px;padding-top:1.636px;padding-bottom:.10225rem;padding-top:.10225rem;font-weight:400}body.textType_maxLinesOne,p.textType_maxLinesOne,.text-body.textType_maxLinesOne,.text-base.textType_maxLinesOne{max-height:24px;max-height:1.5rem}body.textType_maxLinesTwo,p.textType_maxLinesTwo,.text-body.textType_maxLinesTwo,.text-base.textType_maxLinesTwo{max-height:48px;max-height:3rem}body.textType_maxLinesThree,p.textType_maxLinesThree,.text-body.textType_maxLinesThree,.text-base.textType_maxLinesThree{max-height:72px;max-height:4.5rem}body.textType_maxLinesFour,p.textType_maxLinesFour,.text-body.textType_maxLinesFour,.text-base.textType_maxLinesFour{max-height:96px;max-height:6rem}body{padding:0}a{font-size:18px;line-height:20px;font-weight:500}button,input[type="button"],input[type="submit"],input[type="reset"],.control-button{font-size:20px;line-height:24px;font-size:1.25rem;line-height:1.5rem;padding-bottom:1.636px;padding-top:1.636px;padding-bottom:.10225rem;padding-top:.10225rem;font-weight:400;font-weight:500}button.textType_maxLinesOne,input[type="button"].textType_maxLinesOne,input[type="submit"].textType_maxLinesOne,input[type="reset"].textType_maxLinesOne,.control-button.textType_maxLinesOne{max-height:24px;max-height:1.5rem}button.textType_maxLinesTwo,input[type="button"].textType_maxLinesTwo,input[type="submit"].textType_maxLinesTwo,input[type="reset"].textType_maxLinesTwo,.control-button.textType_maxLinesTwo{max-height:48px;max-height:3rem}button.textType_maxLinesThree,input[type="button"].textType_maxLinesThree,input[type="submit"].textType_maxLinesThree,input[type="reset"].textType_maxLinesThree,.control-button.textType_maxLinesThree{max-height:72px;max-height:4.5rem}button.textType_maxLinesFour,input[type="button"].textType_maxLinesFour,input[type="submit"].textType_maxLinesFour,input[type="reset"].textType_maxLinesFour,.control-button.textType_maxLinesFour{max-height:96px;max-height:6rem}p{margin-bottom:26px;margin-top:26px}input[type="color"],input[type="date"],input[type="datetime"],input[type="datetime-local"],input[type="email"],input[type="month"],input[type="number"],input[type="password"],input[type="search"],input[type="tel"],input[type="text"],input[type="time"],input[type="url"],input[type="week"],select,.win-dropdown,.win-dropdown option{font-size:28px}p,li{max-width:100%}.icon{font-family:"Segoe MDL2 Assets"}fieldset{margin:4px 0;padding:0;border:none}fieldset:last-child{margin-bottom:0}fieldset p{margin-top:26px;margin-bottom:26px}legend{margin-bottom:12px;max-width:100%}a{display:block;width:auto;height:76px;line-height:76px;text-align:center}button,input[type="button"],input[type="submit"],input[type="reset"],.control-button,.win-button,.win-button-primary{width:480px;height:108px;margin-top:0;margin-bottom:0}html[dir="ltr"] button,html[dir="ltr"] input[type="button"],html[dir="ltr"] input[type="submit"],html[dir="ltr"] input[type="reset"],html[dir="ltr"] .control-button,html[dir="ltr"] .win-button,html[dir="ltr"] .win-button-primary{margin-left:0}html[dir="rtl"] button,html[dir="rtl"] input[type="button"],html[dir="rtl"] input[type="submit"],html[dir="rtl"] input[type="reset"],html[dir="rtl"] .control-button,html[dir="rtl"] .win-button,html[dir="rtl"] .win-button-primary{margin-right:0}html[dir="ltr"] button,html[dir="ltr"] input[type="button"],html[dir="ltr"] input[type="submit"],html[dir="ltr"] input[type="reset"],html[dir="ltr"] .control-button,html[dir="ltr"] .win-button,html[dir="ltr"] .win-button-primary{margin-right:0}html[dir="rtl"] button,html[dir="rtl"] input[type="button"],html[dir="rtl"] input[type="submit"],html[dir="rtl"] input[type="reset"],html[dir="rtl"] .control-button,html[dir="rtl"] .win-button,html[dir="rtl"] .win-button-primary{margin-left:0}button,input[type="button"],input[type="submit"],input[type="reset"],.control-button,.win-button,.win-button-primary,button.button_primary,input[type="button"].button_primary,input[type="submit"].button_primary,input[type="reset"].button_primary,.control-button.button_primary,.win-button.button_primary,.win-button-primary.button_primary,button.buttonType_themed,input[type="button"].buttonType_themed,input[type="submit"].buttonType_themed,input[type="reset"].buttonType_themed,.control-button.buttonType_themed,.win-button.buttonType_themed,.win-button-primary.buttonType_themed{border-width:1px;border-color:#949494}@media (-ms-high-contrast){button,input[type="button"],input[type="submit"],input[type="reset"],.control-button,.win-button,.win-button-primary,button.button_primary,input[type="button"].button_primary,input[type="submit"].button_primary,input[type="reset"].button_primary,.control-button.button_primary,.win-button.button_primary,.win-button-primary.button_primary,button.buttonType_themed,input[type="button"].buttonType_themed,input[type="submit"].buttonType_themed,input[type="reset"].buttonType_themed,.control-button.buttonType_themed,.win-button.buttonType_themed,.win-button-primary.buttonType_themed{border-color:WindowText}}button:enabled,input[type="button"]:enabled,input[type="submit"]:enabled,input[type="reset"]:enabled,.control-button:enabled,.win-button:enabled,.win-button-primary:enabled,button.button_primary:enabled,input[type="button"].button_primary:enabled,input[type="submit"].button_primary:enabled,input[type="reset"].button_primary:enabled,.control-button.button_primary:enabled,.win-button.button_primary:enabled,.win-button-primary.button_primary:enabled,button.buttonType_themed:enabled,input[type="button"].buttonType_themed:enabled,input[type="submit"].buttonType_themed:enabled,input[type="reset"].buttonType_themed:enabled,.control-button.buttonType_themed:enabled,.win-button.buttonType_themed:enabled,.win-button-primary.buttonType_themed:enabled,button:enabled:active,input[type="button"]:enabled:active,input[type="submit"]:enabled:active,input[type="reset"]:enabled:active,.control-button:enabled:active,.win-button:enabled:active,.win-button-primary:enabled:active,button.button_primary:enabled:active,input[type="button"].button_primary:enabled:active,input[type="submit"].button_primary:enabled:active,input[type="reset"].button_primary:enabled:active,.control-button.button_primary:enabled:active,.win-button.button_primary:enabled:active,.win-button-primary.button_primary:enabled:active,button.buttonType_themed:enabled:active,input[type="button"].buttonType_themed:enabled:active,input[type="submit"].buttonType_themed:enabled:active,input[type="reset"].buttonType_themed:enabled:active,.control-button.buttonType_themed:enabled:active,.win-button.buttonType_themed:enabled:active,.win-button-primary.buttonType_themed:enabled:active{background-color:transparent}button:enabled:hover,input[type="button"]:enabled:hover,input[type="submit"]:enabled:hover,input[type="reset"]:enabled:hover,.control-button:enabled:hover,.win-button:enabled:hover,.win-button-primary:enabled:hover,button.button_primary:enabled:hover,input[type="button"].button_primary:enabled:hover,input[type="submit"].button_primary:enabled:hover,input[type="reset"].button_primary:enabled:hover,.control-button.button_primary:enabled:hover,.win-button.button_primary:enabled:hover,.win-button-primary.button_primary:enabled:hover,button.buttonType_themed:enabled:hover,input[type="button"].buttonType_themed:enabled:hover,input[type="submit"].buttonType_themed:enabled:hover,input[type="reset"].buttonType_themed:enabled:hover,.control-button.buttonType_themed:enabled:hover,.win-button.buttonType_themed:enabled:hover,.win-button-primary.buttonType_themed:enabled:hover,button:enabled:focus,input[type="button"]:enabled:focus,input[type="submit"]:enabled:focus,input[type="reset"]:enabled:focus,.control-button:enabled:focus,.win-button:enabled:focus,.win-button-primary:enabled:focus,button.button_primary:enabled:focus,input[type="button"].button_primary:enabled:focus,input[type="submit"].button_primary:enabled:focus,input[type="reset"].button_primary:enabled:focus,.control-button.button_primary:enabled:focus,.win-button.button_primary:enabled:focus,.win-button-primary.button_primary:enabled:focus,button.buttonType_themed:enabled:focus,input[type="button"].buttonType_themed:enabled:focus,input[type="submit"].buttonType_themed:enabled:focus,input[type="reset"].buttonType_themed:enabled:focus,.control-button.buttonType_themed:enabled:focus,.win-button.buttonType_themed:enabled:focus,.win-button-primary.buttonType_themed:enabled:focus{border-width:4px;border-color:#0078D7}button:enabled:active,input[type="button"]:enabled:active,input[type="submit"]:enabled:active,input[type="reset"]:enabled:active,.control-button:enabled:active,.win-button:enabled:active,.win-button-primary:enabled:active,button.button_primary:enabled:active,input[type="button"].button_primary:enabled:active,input[type="submit"].button_primary:enabled:active,input[type="reset"].button_primary:enabled:active,.control-button.button_primary:enabled:active,.win-button.button_primary:enabled:active,.win-button-primary.button_primary:enabled:active,button.buttonType_themed:enabled:active,input[type="button"].buttonType_themed:enabled:active,input[type="submit"].buttonType_themed:enabled:active,input[type="reset"].buttonType_themed:enabled:active,.control-button.buttonType_themed:enabled:active,.win-button.buttonType_themed:enabled:active,.win-button-primary.buttonType_themed:enabled:active,button:enabled:active:hover,input[type="button"]:enabled:active:hover,input[type="submit"]:enabled:active:hover,input[type="reset"]:enabled:active:hover,.control-button:enabled:active:hover,.win-button:enabled:active:hover,.win-button-primary:enabled:active:hover,button.button_primary:enabled:active:hover,input[type="button"].button_primary:enabled:active:hover,input[type="submit"].button_primary:enabled:active:hover,input[type="reset"].button_primary:enabled:active:hover,.control-button.button_primary:enabled:active:hover,.win-button.button_primary:enabled:active:hover,.win-button-primary.button_primary:enabled:active:hover,button.buttonType_themed:enabled:active:hover,input[type="button"].buttonType_themed:enabled:active:hover,input[type="submit"].buttonType_themed:enabled:active:hover,input[type="reset"].buttonType_themed:enabled:active:hover,.control-button.buttonType_themed:enabled:active:hover,.win-button.buttonType_themed:enabled:active:hover,.win-button-primary.buttonType_themed:enabled:active:hover{border-color:#d2d2d2}button:disabled,input[type="button"]:disabled,input[type="submit"]:disabled,input[type="reset"]:disabled,.control-button:disabled,.win-button:disabled,.win-button-primary:disabled,button.button_primary:disabled,input[type="button"].button_primary:disabled,input[type="submit"].button_primary:disabled,input[type="reset"].button_primary:disabled,.control-button.button_primary:disabled,.win-button.button_primary:disabled,.win-button-primary.button_primary:disabled,button.buttonType_themed:disabled,input[type="button"].buttonType_themed:disabled,input[type="submit"].buttonType_themed:disabled,input[type="reset"].buttonType_themed:disabled,.control-button.buttonType_themed:disabled,.win-button.buttonType_themed:disabled,.win-button-primary.buttonType_themed:disabled{cursor:default;outline:none;color:rgba(0,0,0,0.3);border-color:#949494;background-color:transparent}@media (-ms-high-contrast){button.button_primary:enabled,input[type="button"].button_primary:enabled,input[type="submit"].button_primary:enabled,input[type="reset"].button_primary:enabled,.control-button.button_primary:enabled,.win-button.button_primary:enabled,.win-button-primary.button_primary:enabled{background-color:Highlight}}a.control-button:link.button_primary,a.control-button:visited.button_primary,a.control-button:link.buttonType_themed,a.control-button:visited.buttonType_themed{color:#000000}input[type=text],input[type=password],input[type=email],input[type=number],input[type=tel],input[type=url],input[type=search]{width:648px;height:84px}input[type=text]::-ms-value,input[type=password]::-ms-value,input[type=email]::-ms-value,input[type=number]::-ms-value,input[type=tel]::-ms-value,input[type=url]::-ms-value,input[type=search]::-ms-value{margin:0;padding:0 11px 2px}input[type=text],input[type=password],input[type=email],input[type=number],input[type=tel],input[type=url],input[type=search],textarea,.win-textarea{margin-top:0;margin-bottom:0;border-width:4px;border-color:transparent;border-style:solid;background-color:#d2d2d2}input[type=text]:hover,input[type=password]:hover,input[type=email]:hover,input[type=number]:hover,input[type=tel]:hover,input[type=url]:hover,input[type=search]:hover,textarea:hover,.win-textarea:hover{border-color:#0078D7}input[type=text]:active,input[type=password]:active,input[type=email]:active,input[type=number]:active,input[type=tel]:active,input[type=url]:active,input[type=search]:active,textarea:active,.win-textarea:active,input[type=text]:focus,input[type=password]:focus,input[type=email]:focus,input[type=number]:focus,input[type=tel]:focus,input[type=url]:focus,input[type=search]:focus,textarea:focus,.win-textarea:focus{border-color:#0078D7}input[type=text]::-webkit-input-placeholder,input[type=password]::-webkit-input-placeholder,input[type=email]::-webkit-input-placeholder,input[type=number]::-webkit-input-placeholder,input[type=tel]::-webkit-input-placeholder,input[type=url]::-webkit-input-placeholder,input[type=search]::-webkit-input-placeholder,textarea::-webkit-input-placeholder,.win-textarea::-webkit-input-placeholder,input[type=text]:-ms-input-placeholder,input[type=password]:-ms-input-placeholder,input[type=email]:-ms-input-placeholder,input[type=number]:-ms-input-placeholder,input[type=tel]:-ms-input-placeholder,input[type=url]:-ms-input-placeholder,input[type=search]:-ms-input-placeholder,textarea:-ms-input-placeholder,.win-textarea:-ms-input-placeholder{color:#a5a5a5}.win-dropdown{width:648px;max-width:648px;height:84px;margin-top:0;margin-bottom:0;border-width:4px}.win-dropdown:disabled{border-width:2px}.win-dropdown::-ms-value{padding-top:0;padding-bottom:2px}html[dir="ltr"] .win-dropdown::-ms-value{padding-left:18px}html[dir="rtl"] .win-dropdown::-ms-value{padding-right:18px}.win-dropdown::-ms-expand{margin:0;width:24px;background-color:transparent}html[dir="ltr"] .win-dropdown::-ms-expand{padding-right:16px}html[dir="rtl"] .win-dropdown::-ms-expand{padding-left:16px}.win-textbox:disabled{border-width:2px}.control-progress{width:320px;padding:32px 0 36px 0;text-align:center;color:#0078D7;position:absolute;z-index:1;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.control-progress progress{margin:0 auto}.control-progress progress.win-ring.win-large{color:#0078D7;width:64px;height:64px}.control-progress h4{margin:16px 0 0}.control-actionLinks{margin-top:0;margin-bottom:0;padding:0;list-style:none}html[dir="ltr"] .control-actionLinks{margin-left:4px}html[dir="rtl"] .control-actionLinks{margin-right:4px}html[dir="ltr"] .control-actionLinks{margin-right:0}html[dir="rtl"] .control-actionLinks{margin-left:0}.control-actionLinks a{padding:0 44px;overflow:hidden;outline:4px solid transparent}.control-actionLinks a,.control-actionLinks a:active{background-color:transparent}.control-actionLinks a:hover,.control-actionLinks a:focus{outline-color:#0078D7}.control-actionLinks a:active,.control-actionLinks a:active:hover{outline-color:#d2d2d2}@media (-ms-high-contrast:active){.control-actionLinks a{outline:2px solid WindowText}}.control-actionLinks li{display:inline-block}html,body{height:100%;margin:0;-moz-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;-html-user-select:none;-ms-user-select:none;background-color:#a5a5a5}.control-app{display:block;min-width:480px;min-height:480px;height:100%;overflow:hidden}.control-app .app-content{height:100%;width:100%;margin:0 auto}.control-page{display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:1fr 108px;height:100%;width:100%;position:absolute;top:0;overflow-x:hidden;overflow-y:auto;background-color:#a5a5a5}.control-page .page-body{-ms-grid-column:1;-ms-grid-row:1;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr;-ms-overflow-style:-ms-autohiding-scrollbar;overflow-x:hidden;overflow-y:auto}.control-page .page-body .body-header{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-row-align:end;display:-ms-grid;-ms-grid-columns:48px 1fr auto 48px;-ms-grid-rows:30px 1fr;margin-bottom:10px}.control-page .page-body .body-header h1,.control-page .page-body .body-header h2{-ms-grid-column:2;-ms-grid-row:2;-ms-grid-row-align:center;margin:0;color:#0078D7}.control-page .page-body .body-header .img-brand{-ms-grid-column:3;-ms-grid-row:1;-ms-grid-row-span:2;height:80px;margin-top:24px;margin-bottom:-80px}.control-page .page-body .body-container{-ms-grid-column:1;-ms-grid-row:2}.control-page .page-body .body-container,.control-page .page-body .body-container form{display:-ms-grid;-ms-grid-columns:48px 1fr 48px;-ms-grid-rows:1fr auto;overflow:hidden}.control-page .page-body .body-container form{-ms-grid-column-span:3;-ms-grid-row-span:2}.control-page .page-body .body-container .container-content{-ms-grid-column:2;-ms-grid-row:1}.control-page .page-body .body-container .container-content .content-fullWidth{margin:0 -48px}.control-page .page-body .body-container .container-content .scrollable-div{height:100%;width:100%;overflow:hidden;overflow-y:auto;padding-right:24px}.control-page .page-body .body-container .container-content p:first-child{margin-top:8px}.control-page .page-body .body-container .container-content p.content-lead{margin-top:8px;margin-bottom:50px}.control-page .page-body .body-container .container-footer{-ms-grid-column:1;-ms-grid-column-span:3;-ms-grid-row:2}.control-page .page-footer{-ms-grid-column:1;-ms-grid-row:2}.control-page .page-footer .footer-icons{display:none}.control-page.page_centered{-ms-grid-columns:1fr;-ms-grid-rows:1fr}.control-page.page_centered .page-body{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-columns:1fr auto 1fr;-ms-grid-rows:1fr auto 1fr}.control-page.page_centered .page-body .body-container{-ms-grid-column:2;-ms-grid-row:2;display:block}.template-buttonGroup{display:-ms-grid;-ms-grid-columns:1fr 1fr;margin:0}.template-buttonGroup button,.template-buttonGroup input[type="button"],.template-buttonGroup input[type="submit"],.template-buttonGroup input[type="reset"],.template-buttonGroup .control-button{-ms-grid-column:1;-ms-grid-row:1;width:auto;border-bottom-color:transparent;bottom:2px;margin-top:0;margin-bottom:0;border-top-width:2px;border-bottom-width:2px}html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="reset"],html[dir="ltr"] .template-buttonGroup .control-button{margin-left:0}html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="reset"],html[dir="rtl"] .template-buttonGroup .control-button{margin-right:0}html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="reset"],html[dir="ltr"] .template-buttonGroup .control-button{margin-right:0}html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="reset"],html[dir="rtl"] .template-buttonGroup .control-button{margin-left:0}html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="reset"],html[dir="ltr"] .template-buttonGroup .control-button{border-left-width:1px}html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="reset"],html[dir="rtl"] .template-buttonGroup .control-button{border-right-width:1px}html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="reset"],html[dir="ltr"] .template-buttonGroup .control-button{border-right-width:1px}html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="reset"],html[dir="rtl"] .template-buttonGroup .control-button{border-left-width:1px}html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="reset"],html[dir="ltr"] .template-buttonGroup .control-button{border-left-color:transparent}html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="reset"],html[dir="rtl"] .template-buttonGroup .control-button{border-left-color:#949494}html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="reset"],html[dir="ltr"] .template-buttonGroup .control-button{border-right-color:#949494}html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="reset"],html[dir="rtl"] .template-buttonGroup .control-button{border-right-color:transparent}@media (-ms-high-contrast:active){html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="reset"],html[dir="ltr"] .template-buttonGroup .control-button{border-left-color:transparent}html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="reset"],html[dir="rtl"] .template-buttonGroup .control-button{border-left-color:WindowText}html[dir="ltr"] .template-buttonGroup button,html[dir="ltr"] .template-buttonGroup input[type="button"],html[dir="ltr"] .template-buttonGroup input[type="submit"],html[dir="ltr"] .template-buttonGroup input[type="reset"],html[dir="ltr"] .template-buttonGroup .control-button{border-right-color:WindowText}html[dir="rtl"] .template-buttonGroup button,html[dir="rtl"] .template-buttonGroup input[type="button"],html[dir="rtl"] .template-buttonGroup input[type="submit"],html[dir="rtl"] .template-buttonGroup input[type="reset"],html[dir="rtl"] .template-buttonGroup .control-button{border-right-color:transparent}}.template-buttonGroup button:hover,.template-buttonGroup input[type="button"]:hover,.template-buttonGroup input[type="submit"]:hover,.template-buttonGroup input[type="reset"]:hover,.template-buttonGroup .control-button:hover,.template-buttonGroup button.button_primary:hover,.template-buttonGroup input[type="button"].button_primary:hover,.template-buttonGroup input[type="submit"].button_primary:hover,.template-buttonGroup input[type="reset"].button_primary:hover,.template-buttonGroup .control-button.button_primary:hover{border-color:#0078D7;border-style:solid}html[dir="ltr"] .template-buttonGroup button:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:hover,html[dir="ltr"] .template-buttonGroup .control-button:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:hover{border-left-color:#0078D7}html[dir="rtl"] .template-buttonGroup button:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:hover,html[dir="rtl"] .template-buttonGroup .control-button:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:hover{border-left-color:#0078D7}html[dir="ltr"] .template-buttonGroup button:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:hover,html[dir="ltr"] .template-buttonGroup .control-button:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:hover{border-right-color:#0078D7}html[dir="rtl"] .template-buttonGroup button:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:hover,html[dir="rtl"] .template-buttonGroup .control-button:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:hover{border-right-color:#0078D7}@media (-ms-high-contrast:active){.template-buttonGroup button:hover,.template-buttonGroup input[type="button"]:hover,.template-buttonGroup input[type="submit"]:hover,.template-buttonGroup input[type="reset"]:hover,.template-buttonGroup .control-button:hover,.template-buttonGroup button.button_primary:hover,.template-buttonGroup input[type="button"].button_primary:hover,.template-buttonGroup input[type="submit"].button_primary:hover,.template-buttonGroup input[type="reset"].button_primary:hover,.template-buttonGroup .control-button.button_primary:hover{border-color:Highlight;border-style:solid}html[dir="ltr"] .template-buttonGroup button:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:hover,html[dir="ltr"] .template-buttonGroup .control-button:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:hover{border-left-color:Highlight}html[dir="rtl"] .template-buttonGroup button:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:hover,html[dir="rtl"] .template-buttonGroup .control-button:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:hover{border-left-color:Highlight}html[dir="ltr"] .template-buttonGroup button:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:hover,html[dir="ltr"] .template-buttonGroup .control-button:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:hover{border-right-color:Highlight}html[dir="rtl"] .template-buttonGroup button:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:hover,html[dir="rtl"] .template-buttonGroup .control-button:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:hover{border-right-color:Highlight}}.template-buttonGroup button:active,.template-buttonGroup input[type="button"]:active,.template-buttonGroup input[type="submit"]:active,.template-buttonGroup input[type="reset"]:active,.template-buttonGroup .control-button:active,.template-buttonGroup button.button_primary:active,.template-buttonGroup input[type="button"].button_primary:active,.template-buttonGroup input[type="submit"].button_primary:active,.template-buttonGroup input[type="reset"].button_primary:active,.template-buttonGroup .control-button.button_primary:active,.template-buttonGroup button:active:focus,.template-buttonGroup input[type="button"]:active:focus,.template-buttonGroup input[type="submit"]:active:focus,.template-buttonGroup input[type="reset"]:active:focus,.template-buttonGroup .control-button:active:focus,.template-buttonGroup button.button_primary:active:focus,.template-buttonGroup input[type="button"].button_primary:active:focus,.template-buttonGroup input[type="submit"].button_primary:active:focus,.template-buttonGroup input[type="reset"].button_primary:active:focus,.template-buttonGroup .control-button.button_primary:active:focus{border-color:#d2d2d2;border-style:solid}html[dir="ltr"] .template-buttonGroup button:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active,html[dir="ltr"] .template-buttonGroup .control-button:active,html[dir="ltr"] .template-buttonGroup button.button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active,html[dir="ltr"] .template-buttonGroup button:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active:focus{border-left-color:#d2d2d2}html[dir="rtl"] .template-buttonGroup button:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active,html[dir="rtl"] .template-buttonGroup .control-button:active,html[dir="rtl"] .template-buttonGroup button.button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active,html[dir="rtl"] .template-buttonGroup button:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active:focus{border-left-color:#d2d2d2}html[dir="ltr"] .template-buttonGroup button:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active,html[dir="ltr"] .template-buttonGroup .control-button:active,html[dir="ltr"] .template-buttonGroup button.button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active,html[dir="ltr"] .template-buttonGroup button:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active:focus{border-right-color:#d2d2d2}html[dir="rtl"] .template-buttonGroup button:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active,html[dir="rtl"] .template-buttonGroup .control-button:active,html[dir="rtl"] .template-buttonGroup button.button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active,html[dir="rtl"] .template-buttonGroup button:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active:focus{border-right-color:#d2d2d2}@media (-ms-high-contrast){.template-buttonGroup button:active,.template-buttonGroup input[type="button"]:active,.template-buttonGroup input[type="submit"]:active,.template-buttonGroup input[type="reset"]:active,.template-buttonGroup .control-button:active,.template-buttonGroup button.button_primary:active,.template-buttonGroup input[type="button"].button_primary:active,.template-buttonGroup input[type="submit"].button_primary:active,.template-buttonGroup input[type="reset"].button_primary:active,.template-buttonGroup .control-button.button_primary:active,.template-buttonGroup button:active:focus,.template-buttonGroup input[type="button"]:active:focus,.template-buttonGroup input[type="submit"]:active:focus,.template-buttonGroup input[type="reset"]:active:focus,.template-buttonGroup .control-button:active:focus,.template-buttonGroup button.button_primary:active:focus,.template-buttonGroup input[type="button"].button_primary:active:focus,.template-buttonGroup input[type="submit"].button_primary:active:focus,.template-buttonGroup input[type="reset"].button_primary:active:focus,.template-buttonGroup .control-button.button_primary:active:focus{background-color:WindowText;color:HighlightText;border-color:Highlight}}@media (-ms-high-contrast:active){.template-buttonGroup button:active,.template-buttonGroup input[type="button"]:active,.template-buttonGroup input[type="submit"]:active,.template-buttonGroup input[type="reset"]:active,.template-buttonGroup .control-button:active,.template-buttonGroup button.button_primary:active,.template-buttonGroup input[type="button"].button_primary:active,.template-buttonGroup input[type="submit"].button_primary:active,.template-buttonGroup input[type="reset"].button_primary:active,.template-buttonGroup .control-button.button_primary:active,.template-buttonGroup button:active:focus,.template-buttonGroup input[type="button"]:active:focus,.template-buttonGroup input[type="submit"]:active:focus,.template-buttonGroup input[type="reset"]:active:focus,.template-buttonGroup .control-button:active:focus,.template-buttonGroup button.button_primary:active:focus,.template-buttonGroup input[type="button"].button_primary:active:focus,.template-buttonGroup input[type="submit"].button_primary:active:focus,.template-buttonGroup input[type="reset"].button_primary:active:focus,.template-buttonGroup .control-button.button_primary:active:focus{border-color:Highlight;border-style:solid}html[dir="ltr"] .template-buttonGroup button:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active,html[dir="ltr"] .template-buttonGroup .control-button:active,html[dir="ltr"] .template-buttonGroup button.button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active,html[dir="ltr"] .template-buttonGroup button:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active:focus{border-left-color:Highlight}html[dir="rtl"] .template-buttonGroup button:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active,html[dir="rtl"] .template-buttonGroup .control-button:active,html[dir="rtl"] .template-buttonGroup button.button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active,html[dir="rtl"] .template-buttonGroup button:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active:focus{border-left-color:Highlight}html[dir="ltr"] .template-buttonGroup button:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active,html[dir="ltr"] .template-buttonGroup .control-button:active,html[dir="ltr"] .template-buttonGroup button.button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active,html[dir="ltr"] .template-buttonGroup button:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active:focus{border-right-color:Highlight}html[dir="rtl"] .template-buttonGroup button:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active,html[dir="rtl"] .template-buttonGroup .control-button:active,html[dir="rtl"] .template-buttonGroup button.button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active,html[dir="rtl"] .template-buttonGroup button:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active:focus{border-right-color:Highlight}}.template-buttonGroup button:focus,.template-buttonGroup input[type="button"]:focus,.template-buttonGroup input[type="submit"]:focus,.template-buttonGroup input[type="reset"]:focus,.template-buttonGroup .control-button:focus,.template-buttonGroup button.button_primary:focus,.template-buttonGroup input[type="button"].button_primary:focus,.template-buttonGroup input[type="submit"].button_primary:focus,.template-buttonGroup input[type="reset"].button_primary:focus,.template-buttonGroup .control-button.button_primary:focus{border-color:#0078D7;border-style:solid}html[dir="ltr"] .template-buttonGroup button:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:focus,html[dir="ltr"] .template-buttonGroup .control-button:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:focus{border-left-color:#0078D7}html[dir="rtl"] .template-buttonGroup button:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:focus,html[dir="rtl"] .template-buttonGroup .control-button:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:focus{border-left-color:#0078D7}html[dir="ltr"] .template-buttonGroup button:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:focus,html[dir="ltr"] .template-buttonGroup .control-button:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:focus{border-right-color:#0078D7}html[dir="rtl"] .template-buttonGroup button:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:focus,html[dir="rtl"] .template-buttonGroup .control-button:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:focus{border-right-color:#0078D7}@media (-ms-high-contrast:active){.template-buttonGroup button:focus,.template-buttonGroup input[type="button"]:focus,.template-buttonGroup input[type="submit"]:focus,.template-buttonGroup input[type="reset"]:focus,.template-buttonGroup .control-button:focus,.template-buttonGroup button.button_primary:focus,.template-buttonGroup input[type="button"].button_primary:focus,.template-buttonGroup input[type="submit"].button_primary:focus,.template-buttonGroup input[type="reset"].button_primary:focus,.template-buttonGroup .control-button.button_primary:focus{border-color:Highlight;border-style:solid}html[dir="ltr"] .template-buttonGroup button:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:focus,html[dir="ltr"] .template-buttonGroup .control-button:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:focus{border-left-color:Highlight}html[dir="rtl"] .template-buttonGroup button:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:focus,html[dir="rtl"] .template-buttonGroup .control-button:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:focus{border-left-color:Highlight}html[dir="ltr"] .template-buttonGroup button:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:focus,html[dir="ltr"] .template-buttonGroup .control-button:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:focus{border-right-color:Highlight}html[dir="rtl"] .template-buttonGroup button:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:focus,html[dir="rtl"] .template-buttonGroup .control-button:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:focus{border-right-color:Highlight}}.template-buttonGroup button:disabled,.template-buttonGroup input[type="button"]:disabled,.template-buttonGroup input[type="submit"]:disabled,.template-buttonGroup input[type="reset"]:disabled,.template-buttonGroup .control-button:disabled,.template-buttonGroup button.button_primary:disabled,.template-buttonGroup input[type="button"].button_primary:disabled,.template-buttonGroup input[type="submit"].button_primary:disabled,.template-buttonGroup input[type="reset"].button_primary:disabled,.template-buttonGroup .control-button.button_primary:disabled{border-color:#949494;border-bottom-color:transparent}@media (-ms-high-contrast:active){.template-buttonGroup button:disabled,.template-buttonGroup input[type="button"]:disabled,.template-buttonGroup input[type="submit"]:disabled,.template-buttonGroup input[type="reset"]:disabled,.template-buttonGroup .control-button:disabled,.template-buttonGroup button.button_primary:disabled,.template-buttonGroup input[type="button"].button_primary:disabled,.template-buttonGroup input[type="submit"].button_primary:disabled,.template-buttonGroup input[type="reset"].button_primary:disabled,.template-buttonGroup .control-button.button_primary:disabled{border-bottom-color:transparent !important}html[dir="ltr"] .template-buttonGroup button:disabled,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled,html[dir="ltr"] .template-buttonGroup .control-button:disabled,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled{border-left-color:transparent}html[dir="rtl"] .template-buttonGroup button:disabled,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled,html[dir="rtl"] .template-buttonGroup .control-button:disabled,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled{border-left-color:GrayText}html[dir="ltr"] .template-buttonGroup button:disabled,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled,html[dir="ltr"] .template-buttonGroup .control-button:disabled,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled{border-right-color:GrayText}html[dir="rtl"] .template-buttonGroup button:disabled,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled,html[dir="rtl"] .template-buttonGroup .control-button:disabled,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled{border-right-color:transparent}}@media (-ms-high-contrast:active) and (-ms-high-contrast){.template-buttonGroup button:disabled,.template-buttonGroup input[type="button"]:disabled,.template-buttonGroup input[type="submit"]:disabled,.template-buttonGroup input[type="reset"]:disabled,.template-buttonGroup .control-button:disabled,.template-buttonGroup button.button_primary:disabled,.template-buttonGroup input[type="button"].button_primary:disabled,.template-buttonGroup input[type="submit"].button_primary:disabled,.template-buttonGroup input[type="reset"].button_primary:disabled,.template-buttonGroup .control-button.button_primary:disabled{background-color:ButtonFace;color:GrayText;border-color:GrayText}}.template-buttonGroup button:disabled:hover,.template-buttonGroup input[type="button"]:disabled:hover,.template-buttonGroup input[type="submit"]:disabled:hover,.template-buttonGroup input[type="reset"]:disabled:hover,.template-buttonGroup .control-button:disabled:hover,.template-buttonGroup button.button_primary:disabled:hover,.template-buttonGroup input[type="button"].button_primary:disabled:hover,.template-buttonGroup input[type="submit"].button_primary:disabled:hover,.template-buttonGroup input[type="reset"].button_primary:disabled:hover,.template-buttonGroup .control-button.button_primary:disabled:hover{border-bottom-color:#949494}html[dir="ltr"] .template-buttonGroup button:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:hover,html[dir="ltr"] .template-buttonGroup .control-button:disabled:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:hover{border-left-color:#949494}html[dir="rtl"] .template-buttonGroup button:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:hover,html[dir="rtl"] .template-buttonGroup .control-button:disabled:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:hover{border-left-color:#949494}html[dir="ltr"] .template-buttonGroup button:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:hover,html[dir="ltr"] .template-buttonGroup .control-button:disabled:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:hover{border-right-color:#949494}html[dir="rtl"] .template-buttonGroup button:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:hover,html[dir="rtl"] .template-buttonGroup .control-button:disabled:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:hover{border-right-color:#949494}@media (-ms-high-contrast:active){.template-buttonGroup button:disabled:hover,.template-buttonGroup input[type="button"]:disabled:hover,.template-buttonGroup input[type="submit"]:disabled:hover,.template-buttonGroup input[type="reset"]:disabled:hover,.template-buttonGroup .control-button:disabled:hover,.template-buttonGroup button.button_primary:disabled:hover,.template-buttonGroup input[type="button"].button_primary:disabled:hover,.template-buttonGroup input[type="submit"].button_primary:disabled:hover,.template-buttonGroup input[type="reset"].button_primary:disabled:hover,.template-buttonGroup .control-button.button_primary:disabled:hover{border-bottom-color:GrayText !important}html[dir="ltr"] .template-buttonGroup button:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:hover,html[dir="ltr"] .template-buttonGroup .control-button:disabled:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:hover{border-left-color:GrayText}html[dir="rtl"] .template-buttonGroup button:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:hover,html[dir="rtl"] .template-buttonGroup .control-button:disabled:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:hover{border-left-color:GrayText}html[dir="ltr"] .template-buttonGroup button:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:hover,html[dir="ltr"] .template-buttonGroup .control-button:disabled:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:hover{border-right-color:GrayText}html[dir="rtl"] .template-buttonGroup button:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:hover,html[dir="rtl"] .template-buttonGroup .control-button:disabled:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:hover{border-right-color:GrayText}}.template-buttonGroup button:disabled:active,.template-buttonGroup input[type="button"]:disabled:active,.template-buttonGroup input[type="submit"]:disabled:active,.template-buttonGroup input[type="reset"]:disabled:active,.template-buttonGroup .control-button:disabled:active,.template-buttonGroup button.button_primary:disabled:active,.template-buttonGroup input[type="button"].button_primary:disabled:active,.template-buttonGroup input[type="submit"].button_primary:disabled:active,.template-buttonGroup input[type="reset"].button_primary:disabled:active,.template-buttonGroup .control-button.button_primary:disabled:active,.template-buttonGroup button:disabled:active:focus,.template-buttonGroup input[type="button"]:disabled:active:focus,.template-buttonGroup input[type="submit"]:disabled:active:focus,.template-buttonGroup input[type="reset"]:disabled:active:focus,.template-buttonGroup .control-button:disabled:active:focus,.template-buttonGroup button.button_primary:disabled:active:focus,.template-buttonGroup input[type="button"].button_primary:disabled:active:focus,.template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,.template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,.template-buttonGroup .control-button.button_primary:disabled:active:focus{border-color:#949494}html[dir="ltr"] .template-buttonGroup button:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:active,html[dir="ltr"] .template-buttonGroup .control-button:disabled:active,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup button:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:disabled:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:active:focus{border-left-color:#949494}html[dir="rtl"] .template-buttonGroup button:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:active,html[dir="rtl"] .template-buttonGroup .control-button:disabled:active,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup button:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:disabled:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:active:focus{border-left-color:#949494}html[dir="ltr"] .template-buttonGroup button:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:active,html[dir="ltr"] .template-buttonGroup .control-button:disabled:active,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup button:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:disabled:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:active:focus{border-right-color:#949494}html[dir="rtl"] .template-buttonGroup button:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:active,html[dir="rtl"] .template-buttonGroup .control-button:disabled:active,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup button:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:disabled:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:active:focus{border-right-color:#949494}@media (-ms-high-contrast:active){.template-buttonGroup button:disabled:active,.template-buttonGroup input[type="button"]:disabled:active,.template-buttonGroup input[type="submit"]:disabled:active,.template-buttonGroup input[type="reset"]:disabled:active,.template-buttonGroup .control-button:disabled:active,.template-buttonGroup button.button_primary:disabled:active,.template-buttonGroup input[type="button"].button_primary:disabled:active,.template-buttonGroup input[type="submit"].button_primary:disabled:active,.template-buttonGroup input[type="reset"].button_primary:disabled:active,.template-buttonGroup .control-button.button_primary:disabled:active,.template-buttonGroup button:disabled:active:focus,.template-buttonGroup input[type="button"]:disabled:active:focus,.template-buttonGroup input[type="submit"]:disabled:active:focus,.template-buttonGroup input[type="reset"]:disabled:active:focus,.template-buttonGroup .control-button:disabled:active:focus,.template-buttonGroup button.button_primary:disabled:active:focus,.template-buttonGroup input[type="button"].button_primary:disabled:active:focus,.template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,.template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,.template-buttonGroup .control-button.button_primary:disabled:active:focus{border-style:solid;border-color:GrayText !important}html[dir="ltr"] .template-buttonGroup button:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:active,html[dir="ltr"] .template-buttonGroup .control-button:disabled:active,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup button:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:disabled:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:active:focus{border-left-color:GrayText}html[dir="rtl"] .template-buttonGroup button:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:active,html[dir="rtl"] .template-buttonGroup .control-button:disabled:active,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup button:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:disabled:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:active:focus{border-left-color:GrayText}html[dir="ltr"] .template-buttonGroup button:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:active,html[dir="ltr"] .template-buttonGroup .control-button:disabled:active,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:active,html[dir="ltr"] .template-buttonGroup button:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:disabled:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:active:focus{border-right-color:GrayText}html[dir="rtl"] .template-buttonGroup button:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:active,html[dir="rtl"] .template-buttonGroup .control-button:disabled:active,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:active,html[dir="rtl"] .template-buttonGroup button:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:disabled:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:active:focus{border-right-color:GrayText}}.template-buttonGroup button:disabled:focus,.template-buttonGroup input[type="button"]:disabled:focus,.template-buttonGroup input[type="submit"]:disabled:focus,.template-buttonGroup input[type="reset"]:disabled:focus,.template-buttonGroup .control-button:disabled:focus,.template-buttonGroup button.button_primary:disabled:focus,.template-buttonGroup input[type="button"].button_primary:disabled:focus,.template-buttonGroup input[type="submit"].button_primary:disabled:focus,.template-buttonGroup input[type="reset"].button_primary:disabled:focus,.template-buttonGroup .control-button.button_primary:disabled:focus{border-style:solid;border-color:#949494}html[dir="ltr"] .template-buttonGroup button:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:focus,html[dir="ltr"] .template-buttonGroup .control-button:disabled:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:focus{border-left-color:#949494}html[dir="rtl"] .template-buttonGroup button:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:focus,html[dir="rtl"] .template-buttonGroup .control-button:disabled:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:focus{border-left-color:#949494}html[dir="ltr"] .template-buttonGroup button:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:focus,html[dir="ltr"] .template-buttonGroup .control-button:disabled:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:focus{border-right-color:#949494}html[dir="rtl"] .template-buttonGroup button:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:focus,html[dir="rtl"] .template-buttonGroup .control-button:disabled:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:focus{border-right-color:#949494}@media (-ms-high-contrast:active){.template-buttonGroup button:disabled:focus,.template-buttonGroup input[type="button"]:disabled:focus,.template-buttonGroup input[type="submit"]:disabled:focus,.template-buttonGroup input[type="reset"]:disabled:focus,.template-buttonGroup .control-button:disabled:focus,.template-buttonGroup button.button_primary:disabled:focus,.template-buttonGroup input[type="button"].button_primary:disabled:focus,.template-buttonGroup input[type="submit"].button_primary:disabled:focus,.template-buttonGroup input[type="reset"].button_primary:disabled:focus,.template-buttonGroup .control-button.button_primary:disabled:focus{border-style:solid;border-color:GrayText !important}html[dir="ltr"] .template-buttonGroup button:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:focus,html[dir="ltr"] .template-buttonGroup .control-button:disabled:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:focus{border-left-color:GrayText}html[dir="rtl"] .template-buttonGroup button:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:focus,html[dir="rtl"] .template-buttonGroup .control-button:disabled:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:focus{border-left-color:GrayText}html[dir="ltr"] .template-buttonGroup button:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:disabled:focus,html[dir="ltr"] .template-buttonGroup .control-button:disabled:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:disabled:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:disabled:focus{border-right-color:GrayText}html[dir="rtl"] .template-buttonGroup button:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:disabled:focus,html[dir="rtl"] .template-buttonGroup .control-button:disabled:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:disabled:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:disabled:focus{border-right-color:GrayText}}.template-buttonGroup button:hover,.template-buttonGroup input[type="button"]:hover,.template-buttonGroup input[type="submit"]:hover,.template-buttonGroup input[type="reset"]:hover,.template-buttonGroup .control-button:hover,.template-buttonGroup button.button_primary:hover,.template-buttonGroup input[type="button"].button_primary:hover,.template-buttonGroup input[type="submit"].button_primary:hover,.template-buttonGroup input[type="reset"].button_primary:hover,.template-buttonGroup .control-button.button_primary:hover,.template-buttonGroup button:focus,.template-buttonGroup input[type="button"]:focus,.template-buttonGroup input[type="submit"]:focus,.template-buttonGroup input[type="reset"]:focus,.template-buttonGroup .control-button:focus,.template-buttonGroup button.button_primary:focus,.template-buttonGroup input[type="button"].button_primary:focus,.template-buttonGroup input[type="submit"].button_primary:focus,.template-buttonGroup input[type="reset"].button_primary:focus,.template-buttonGroup .control-button.button_primary:focus,.template-buttonGroup button:active:focus,.template-buttonGroup input[type="button"]:active:focus,.template-buttonGroup input[type="submit"]:active:focus,.template-buttonGroup input[type="reset"]:active:focus,.template-buttonGroup .control-button:active:focus,.template-buttonGroup button.button_primary:active:focus,.template-buttonGroup input[type="button"].button_primary:active:focus,.template-buttonGroup input[type="submit"].button_primary:active:focus,.template-buttonGroup input[type="reset"].button_primary:active:focus,.template-buttonGroup .control-button.button_primary:active:focus,.template-buttonGroup button:active,.template-buttonGroup input[type="button"]:active,.template-buttonGroup input[type="submit"]:active,.template-buttonGroup input[type="reset"]:active,.template-buttonGroup .control-button:active,.template-buttonGroup button.button_primary:active,.template-buttonGroup input[type="button"].button_primary:active,.template-buttonGroup input[type="submit"].button_primary:active,.template-buttonGroup input[type="reset"].button_primary:active,.template-buttonGroup .control-button.button_primary:active{border-top-width:4px;border-bottom-width:4px}html[dir="ltr"] .template-buttonGroup button:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:hover,html[dir="ltr"] .template-buttonGroup .control-button:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:hover,html[dir="ltr"] .template-buttonGroup button:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:focus,html[dir="ltr"] .template-buttonGroup .control-button:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:focus,html[dir="ltr"] .template-buttonGroup button:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active:focus,html[dir="ltr"] .template-buttonGroup button:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active,html[dir="ltr"] .template-buttonGroup .control-button:active,html[dir="ltr"] .template-buttonGroup button.button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active{border-left-width:4px}html[dir="rtl"] .template-buttonGroup button:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:hover,html[dir="rtl"] .template-buttonGroup .control-button:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:hover,html[dir="rtl"] .template-buttonGroup button:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:focus,html[dir="rtl"] .template-buttonGroup .control-button:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:focus,html[dir="rtl"] .template-buttonGroup button:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active:focus,html[dir="rtl"] .template-buttonGroup button:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active,html[dir="rtl"] .template-buttonGroup .control-button:active,html[dir="rtl"] .template-buttonGroup button.button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active{border-right-width:4px}html[dir="ltr"] .template-buttonGroup button:hover,html[dir="ltr"] .template-buttonGroup input[type="button"]:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"]:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"]:hover,html[dir="ltr"] .template-buttonGroup .control-button:hover,html[dir="ltr"] .template-buttonGroup button.button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:hover,html[dir="ltr"] .template-buttonGroup button:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:focus,html[dir="ltr"] .template-buttonGroup .control-button:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:focus,html[dir="ltr"] .template-buttonGroup button:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="ltr"] .template-buttonGroup .control-button:active:focus,html[dir="ltr"] .template-buttonGroup button.button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active:focus,html[dir="ltr"] .template-buttonGroup button:active,html[dir="ltr"] .template-buttonGroup input[type="button"]:active,html[dir="ltr"] .template-buttonGroup input[type="submit"]:active,html[dir="ltr"] .template-buttonGroup input[type="reset"]:active,html[dir="ltr"] .template-buttonGroup .control-button:active,html[dir="ltr"] .template-buttonGroup button.button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="ltr"] .template-buttonGroup .control-button.button_primary:active{border-right-width:4px}html[dir="rtl"] .template-buttonGroup button:hover,html[dir="rtl"] .template-buttonGroup input[type="button"]:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"]:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"]:hover,html[dir="rtl"] .template-buttonGroup .control-button:hover,html[dir="rtl"] .template-buttonGroup button.button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:hover,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:hover,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:hover,html[dir="rtl"] .template-buttonGroup button:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:focus,html[dir="rtl"] .template-buttonGroup .control-button:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:focus,html[dir="rtl"] .template-buttonGroup button:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active:focus,html[dir="rtl"] .template-buttonGroup .control-button:active:focus,html[dir="rtl"] .template-buttonGroup button.button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active:focus,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active:focus,html[dir="rtl"] .template-buttonGroup button:active,html[dir="rtl"] .template-buttonGroup input[type="button"]:active,html[dir="rtl"] .template-buttonGroup input[type="submit"]:active,html[dir="rtl"] .template-buttonGroup input[type="reset"]:active,html[dir="rtl"] .template-buttonGroup .control-button:active,html[dir="rtl"] .template-buttonGroup button.button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary:active,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary:active,html[dir="rtl"] .template-buttonGroup .control-button.button_primary:active{border-left-width:4px}.template-buttonGroup button.button_primary,.template-buttonGroup input[type="button"].button_primary,.template-buttonGroup input[type="submit"].button_primary,.template-buttonGroup input[type="reset"].button_primary,.template-buttonGroup .control-button.button_primary{-ms-grid-column:2;border-top-width:2px;border-bottom-width:2px}html[dir="ltr"] .template-buttonGroup button.button_primary,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary,html[dir="ltr"] .template-buttonGroup .control-button.button_primary{border-left-width:1px}html[dir="rtl"] .template-buttonGroup button.button_primary,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary,html[dir="rtl"] .template-buttonGroup .control-button.button_primary{border-right-width:1px}html[dir="ltr"] .template-buttonGroup button.button_primary,html[dir="ltr"] .template-buttonGroup input[type="button"].button_primary,html[dir="ltr"] .template-buttonGroup input[type="submit"].button_primary,html[dir="ltr"] .template-buttonGroup input[type="reset"].button_primary,html[dir="ltr"] .template-buttonGroup .control-button.button_primary{border-right-width:1px}html[dir="rtl"] .template-buttonGroup button.button_primary,html[dir="rtl"] .template-buttonGroup input[type="button"].button_primary,html[dir="rtl"] .template-buttonGroup input[type="submit"].button_primary,html[dir="rtl"] .template-buttonGroup input[type="reset"].button_primary,html[dir="rtl"] .template-buttonGroup .control-button.button_primary{border-left-width:1px}.template-buttonGroup button.button-one,.template-buttonGroup input[type="button"].button-one,.template-buttonGroup input[type="submit"].button-one,.template-buttonGroup input[type="reset"].button-one,.template-buttonGroup .control-button.button-one{-ms-grid-column:1}.template-buttonGroup button.button-two,.template-buttonGroup input[type="button"].button-two,.template-buttonGroup input[type="submit"].button-two,.template-buttonGroup input[type="reset"].button-two,.template-buttonGroup .control-button.button-two{-ms-grid-column:2}html[dir="ltr"] .template-buttonGroup .control-button.button_primary{border-left-color:transparent}html[dir="rtl"] .template-buttonGroup .control-button.button_primary{border-left-color:transparent}html[dir="ltr"] .template-buttonGroup .control-button.button_primary{border-right-color:transparent}html[dir="rtl"] .template-buttonGroup .control-button.button_primary{border-right-color:transparent}html[dir="ltr"] .template-buttonGroup .control-button+.control-button.button_primary{border-left-color:#949494}html[dir="rtl"] .template-buttonGroup .control-button+.control-button.button_primary{border-left-color:transparent}html[dir="ltr"] .template-buttonGroup .control-button+.control-button.button_primary{border-right-color:transparent}html[dir="rtl"] .template-buttonGroup .control-button+.control-button.button_primary{border-right-color:transparent}@media (-ms-high-contrast:active){html[dir="ltr"] .template-buttonGroup .control-button+.control-button.button_primary:disabled{border-left-color:GrayText}html[dir="rtl"] .template-buttonGroup .control-button+.control-button.button_primary:disabled{border-left-color:transparent}html[dir="ltr"] .template-buttonGroup .control-button+.control-button.button_primary:disabled{border-right-color:transparent}html[dir="rtl"] .template-buttonGroup .control-button+.control-button.button_primary:disabled{border-right-color:GrayText}}@media (-ms-high-contrast:active){html[dir="ltr"] .template-buttonGroup .control-button+.control-button.button_primary{border-left-color:WindowText}html[dir="rtl"] .template-buttonGroup .control-button+.control-button.button_primary{border-left-color:transparent}html[dir="ltr"] .template-buttonGroup .control-button+.control-button.button_primary{border-right-color:transparent}html[dir="rtl"] .template-buttonGroup .control-button+.control-button.button_primary{border-right-color:WindowText}html[dir="ltr"] .template-buttonGroup .control-button+.control-button.button_primary:first-child{border-left-color:transparent}html[dir="rtl"] .template-buttonGroup .control-button+.control-button.button_primary:first-child{border-left-color:transparent}html[dir="ltr"] .template-buttonGroup .control-button+.control-button.button_primary:first-child{border-right-color:transparent}html[dir="rtl"] .template-buttonGroup .control-button+.control-button.button_primary:first-child{border-right-color:transparent}}.template-buttonGroup.buttonGroup_fullWidth button,.template-buttonGroup.buttonGroup_fullWidth input[type="button"],.template-buttonGroup.buttonGroup_fullWidth input[type="submit"],.template-buttonGroup.buttonGroup_fullWidth input[type="reset"],.template-buttonGroup.buttonGroup_fullWidth .control-button{-ms-grid-column-span:2;width:100%}.template-buttonGroup.buttonGroup_fullWidth button,.template-buttonGroup.buttonGroup_fullWidth input[type="button"],.template-buttonGroup.buttonGroup_fullWidth input[type="submit"],.template-buttonGroup.buttonGroup_fullWidth input[type="reset"],.template-buttonGroup.buttonGroup_fullWidth .control-button,.template-buttonGroup.buttonGroup_fullWidth button.button_primary,.template-buttonGroup.buttonGroup_fullWidth input[type="button"].button_primary,.template-buttonGroup.buttonGroup_fullWidth input[type="submit"].button_primary,.template-buttonGroup.buttonGroup_fullWidth input[type="reset"].button_primary,.template-buttonGroup.buttonGroup_fullWidth .control-button.button_primary{-ms-grid-column:1}.template-tooltip{background:transparent;border:0 none transparent}.template-tooltip p:first-child{margin-top:0}.template-tooltip p:last-child{margin-bottom:0}.template-tooltip.tooltipType_error{color:#C50500}.template-tooltip.tooltipType_success{color:rgba(0,0,0,0.6)}.template-input+.template-tooltip{margin-top:-12px}.template-input{margin-top:26px;margin-bottom:26px}.template-input .input-errorDialog{position:static;display:inline-block;margin-top:0;margin-bottom:0}.template-input .input-errorDialog.errorDialogType_above{margin-top:0;margin-bottom:0}.template-input.inputType_checkbox{padding:2px 0}.template-input select{min-width:inherit}.listView{width:100%;height:160px}.template-listViewItem{width:480px;height:160px;text-align:center;padding:0 4px;display:-ms-grid;-ms-grid-rows:1fr auto 2px 1fr;-ms-grid-columns:1fr auto 1fr}.template-listViewItem .listViewItem-icon{-ms-grid-row:2;-ms-grid-column:2;-ms-grid-row-align:end;-ms-grid-column-align:center;font-size:48px;line-height:48px}.template-listViewItem .listViewItem-title{-ms-grid-row:4;-ms-grid-column:2;-ms-grid-column-align:center}.control-page .page-body .body-container.scrollable-container{-ms-grid-columns: auto 1fr auto 94px;}.control-page .page-body .body-container.scrollable-container .container-content .scrollable-content{height: 100%;width: 100%;}.control-page .page-body .body-container.scrollable-container .scrollbar{-ms-grid-column: 4;-ms-grid-row: 1;display: -ms-grid;-ms-grid-columns: 1fr;-ms-grid-rows: 1fr auto 94px auto;-ms-grid-row-align: end;height: 100%;}.control-page .page-body .body-container.scrollable-container .scrollbar button{font-size: 26px;width: 94px;min-width: 94px;height: 94px;}.control-page .page-body .body-container.scrollable-container .scrollbar button.scrollbar-up{-ms-grid-row: 2;}.control-page .page-body .body-container.scrollable-container .scrollbar button.scrollbar-down{-ms-grid-row: 4;}.button-group{width:100%;max-width:100%;display:flex;flex-wrap:nowrap;flex-direction:row;}.button-group button{font-size:20px;}
.template-input.inputType_checkbox,
.template-input.inputType_radio {
.template-input.inputType_checkbox input,
.template-input.inputType_radio input {
.template-input.inputType_checkbox input + label,
.template-input.inputType_radio input + label {
.template-input.inputType_checkbox label,
.template-input.inputType_radio label {
.template-input.inputType_twoFields {
.template-input.inputType_twoFields .field-one {
.template-input.inputType_twoFields .field-two {
.template-input.inputType_twoFields .template-tooltip {
  .template-input.inputType_checkbox,
  .template-input.inputType_radio {
  .template-input.inputType_large,
  .template-input.inputType_large input,
  .template-input.inputType_large select {
  .template-input.inputType_med,
  .template-input.inputType_med input,
  .template-input.inputType_med select {
  .template-input.inputType_small,
  .template-input.inputType_small input,
  .template-input.inputType_small select {
  .template-input .inputType_small select,
  .template-input .inputType_med select,
  .template-input .inputType_large select {
.template-datePicker.inputType_checkbox {
/*! Copyright (C) Microsoft Corporation. All rights reserved. Version 1.2.6 */.control-app .app-content,.control-chrome-bar-grid .external-title{-ms-grid-row-align:center}::selection .win-dropdown option{-ms-high-contrast-adjust:none}.icon,.template-listViewItem,.win-button{-ms-high-contrast-adjust:none}@media (-ms-high-contrast){.win-button:disabled{background-color:ButtonFace;color:GrayText}button:enabled .buttonType_themed,button:enabled .button_primary,input[type=button]:enabled .buttonType_themed,input[type=button]:enabled .button_primary,input[type=submit]:enabled .buttonType_themed,input[type=submit]:enabled .button_primary,input[type=reset]:enabled .buttonType_themed,input[type=reset]:enabled .button_primary,select:enabled .buttonType_themed,select:enabled .button_primary{border-color:WindowText}button:enabled .buttonType_themed:focus,button:enabled .buttonType_themed:hover,button:enabled .button_primary:focus,button:enabled .button_primary:hover,input[type=button]:enabled .buttonType_themed:focus,input[type=button]:enabled .buttonType_themed:hover,input[type=button]:enabled .button_primary:focus,input[type=button]:enabled .button_primary:hover,input[type=submit]:enabled .buttonType_themed:focus,input[type=submit]:enabled .buttonType_themed:hover,input[type=submit]:enabled .button_primary:focus,input[type=submit]:enabled .button_primary:hover,input[type=reset]:enabled .buttonType_themed:focus,input[type=reset]:enabled .buttonType_themed:hover,input[type=reset]:enabled .button_primary:focus,input[type=reset]:enabled .button_primary:hover,select:enabled .buttonType_themed:focus,select:enabled .buttonType_themed:hover,select:enabled .button_primary:focus,select:enabled .button_primary:hover{border-color:Highlight}.win-dropdown option:checked,.win-dropdown option:hover,select[multiple].win-dropdown option:checked,select[multiple].win-dropdown option:hover{background-color:Highlight;color:HighlightText}.win-dropdown option:active{background-color:ButtonFace;color:Highlight}.control-button:enabled:focus,.template-buttonGroup button:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:ButtonText;color:ButtonFace;border-color:Highlight}html .control-page .page-footer .footer-icons .icon:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:ButtonText;color:ButtonFace;border-color:Highlight}.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,.win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,.win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox{background-color:ButtonText;color:ButtonFace}.win-textarea::-ms-input-placeholder,.win-textbox::-ms-input-placeholder{color:Graytext}.win-itemcontainer.win-selectionstylefilled.win-selected.win-pressed .win-selectionbackground,.win-listview.win-selectionstylefilled .win-selected.win-pressed .win-selectionbackground{background-color:ButtonText!important}a:focus{color:-ms-hotlight!important;outline:#fff dashed 1px}body a:hover{color:Highlight}}html[dir=rtl]{direction:rtl}img{border-style:none}form{margin:0;padding:0}legend{margin:0 0 10px;padding:0}code,pre,samp{font-family:Consolas,Menlo,Monaco,"Courier New",monospace;font-size:15px;font-weight:400;line-height:1.333}.win-button,button,button[type=submit],input[type=button],input[type=reset],input[type=submit]{padding-top:2px}input[type=radio],input[type=checkbox]{margin-top:0;margin-bottom:0}html[dir=ltr] input[type=radio],html[dir=ltr] input[type=checkbox]{margin-left:0;margin-right:8px}html[dir=rtl] input[type=radio],html[dir=rtl] input[type=checkbox]{margin-right:0;margin-left:8px}input[type=checkbox]:hover:active::-ms-check,input[type=checkbox]:not:disabled::-ms-check{color:#FFF;background-color:#ccc;border-color:#ccc}select,select:enabled{color:rgba(255,255,255,.6);border-color:rgba(255,255,255,.4);background-color:rgba(0,0,0,.4)}select:enabled:hover,select:hover{border-color:#999;background-color:rgba(0,0,0,.6)}select:active,select:enabled:active,select:enabled:focus,select:focus{border-color:#999}select::-ms-value{padding:4px 8px;margin:0}progress{height:4px}.win-dropdown{margin:0}.win-dropdown:disabled::-ms-expand{color:rgba(255,255,255,.2)}.win-dropdown::-ms-value{padding:0 12px 0 8px;margin:0}input::-ms-clear,input::-ms-reveal{width:auto;height:auto}input::-ms-clear:hover:active,input::-ms-reveal:hover:active{background-color:#0078D7}.win-textarea:focus::-ms-input-placeholder,input[type=email]:focus::-ms-input-placeholder,input[type=number]:focus::-ms-input-placeholder,input[type=password]:focus::-ms-input-placeholder,input[type=search]:focus::-ms-input-placeholder,input[type=tel]:focus::-ms-input-placeholder,input[type=text]:focus::-ms-input-placeholder,input[type=url]:focus::-ms-input-placeholder,textarea:focus::-ms-input-placeholder{color:rgba(0,0,0,.6)}progress,progress:indeterminate{color:#0078D7}.win-flyout,.win-flyout.win-ui-dark,.win-flyout.win-ui-light{margin-bottom:7px;padding-top:6px;color:#FFF;background-color:#2B2B2B;border-color:#767676}.win-flyout h4{margin-top:0;margin-bottom:4px}.win-flyout p{margin-bottom:0}.win-flyout h4+p{margin-top:0}.win-flyout.flyout_iframe{padding:0;font-size:0}.text-body,.text-body1,body,p{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.win-flyout.flyout_iframe,.win-flyout.flyout_iframe iframe{width:100%;height:100%}.win-listview{height:auto}.win-container,.win-itemscontainer{height:auto!important}@keyframes WinJS-enterContent{from{transform:translateX(40px)}to{transform:none}}@keyframes WinJS-enterContent-rtl{from{transform:translateX(-40px)}to{transform:none}}body{font-weight:400;font-family:"Segoe UI",Selawik,Tahoma,Verdana,Arial,sans-serif}a{cursor:pointer;touch-action:manipulation;color:#333}a:hover,a:hover:focus{color:#999}a:active,a:active:hover{color:#666}a:focus,a:link,a:visited{color:#0078D7}@media (-ms-high-contrast){a{color:GrayText}a:link,a:visited{color:-ms-hotlight}a:active,a:active:hover,a:focus,a:hover,a:hover:focus{color:WindowText}}.text-base,.text-body,.text-caption,.text-caption1,.text-captionAlt,.text-display1,.text-display2,.text-display3,.text-header,.text-headline,.text-subcaption,.text-subheader,.text-subtitle,.text-title,.text-title1,.text-title2,.text-title3,h1,h2,h3,h4,h5,h6,p{margin-bottom:1.25rem;margin-top:1.25rem}.text-display1,.text-headline{font-size:3.875rem;line-height:5rem;padding-bottom:.141975rem;padding-top:.141975rem;font-weight:200}.text-display1.textType_maxLinesOne,.text-headline.textType_maxLinesOne{max-height:80px;max-height:5rem}.text-display1.textType_maxLinesTwo,.text-headline.textType_maxLinesTwo{max-height:160px;max-height:10rem}.text-display1.textType_maxLinesThree,.text-headline.textType_maxLinesThree{max-height:240px;max-height:15rem}.text-display1.textType_maxLinesFour,.text-headline.textType_maxLinesFour{max-height:320px;max-height:20rem}.text-display2,.text-header,h1{font-size:2.875rem;line-height:3.5rem;padding-bottom:.210175rem;padding-top:.210175rem;font-weight:200}.text-display2.textType_maxLinesOne,.text-header.textType_maxLinesOne,h1.textType_maxLinesOne{max-height:56px;max-height:3.5rem}.text-display2.textType_maxLinesTwo,.text-header.textType_maxLinesTwo,h1.textType_maxLinesTwo{max-height:112px;max-height:7rem}.text-display2.textType_maxLinesThree,.text-header.textType_maxLinesThree,h1.textType_maxLinesThree{max-height:168px;max-height:10.5rem}.text-display2.textType_maxLinesFour,.text-header.textType_maxLinesFour,h1.textType_maxLinesFour{max-height:224px;max-height:14rem}.text-display3,.text-subheader,h2{font-size:2.125rem;line-height:2.5rem;padding-bottom:.198825rem;padding-top:.198825rem;font-weight:200}.text-title,.text-title1,.text-title2,h3{font-size:1.5rem;line-height:1.75rem;padding-bottom:.1477rem;padding-top:.1477rem}.text-display3.textType_maxLinesOne,.text-subheader.textType_maxLinesOne,h2.textType_maxLinesOne{max-height:40px;max-height:2.5rem}.text-display3.textType_maxLinesTwo,.text-subheader.textType_maxLinesTwo,h2.textType_maxLinesTwo{max-height:80px;max-height:5rem}.text-display3.textType_maxLinesThree,.text-subheader.textType_maxLinesThree,h2.textType_maxLinesThree{max-height:120px;max-height:7.5rem}.text-display3.textType_maxLinesFour,.text-subheader.textType_maxLinesFour,h2.textType_maxLinesFour{max-height:160px;max-height:10rem}.text-title,h3{font-weight:300}.text-title.textType_maxLinesOne,h3.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title.textType_maxLinesTwo,h3.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title.textType_maxLinesThree,h3.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title.textType_maxLinesFour,h3.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title1{font-weight:400}.text-title1.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title1.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title1.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title1.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title2{font-weight:200}.text-title2.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title2.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title2.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title2.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-subtitle,.text-title3,h4{font-size:1.25rem;line-height:1.5rem;padding-bottom:.10225rem;padding-top:.10225rem;font-weight:400}.text-subtitle.textType_maxLinesOne,.text-title3.textType_maxLinesOne,h4.textType_maxLinesOne{max-height:24px;max-height:1.5rem}.text-subtitle.textType_maxLinesTwo,.text-title3.textType_maxLinesTwo,h4.textType_maxLinesTwo{max-height:48px;max-height:3rem}.text-subtitle.textType_maxLinesThree,.text-title3.textType_maxLinesThree,h4.textType_maxLinesThree{max-height:72px;max-height:4.5rem}.text-subtitle.textType_maxLinesFour,.text-title3.textType_maxLinesFour,h4.textType_maxLinesFour{max-height:96px;max-height:6rem}.text-caption,.text-caption1,h5{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.text-caption.textType_maxLinesOne,.text-caption1.textType_maxLinesOne,h5.textType_maxLinesOne{max-height:14px;max-height:.875rem}.text-caption.textType_maxLinesTwo,.text-caption1.textType_maxLinesTwo,h5.textType_maxLinesTwo{max-height:28px;max-height:1.75rem}.text-caption.textType_maxLinesThree,.text-caption1.textType_maxLinesThree,h5.textType_maxLinesThree{max-height:42px;max-height:2.625rem}.text-caption.textType_maxLinesFour,.text-caption1.textType_maxLinesFour,h5.textType_maxLinesFour{max-height:56px;max-height:3.5rem}.text-caption2,.text-captionAlt,h6{font-size:.625rem;line-height:.75rem;padding-bottom:.051125rem;padding-top:.051125rem;font-weight:400}.text-caption2.textType_maxLinesOne,.text-captionAlt.textType_maxLinesOne,h6.textType_maxLinesOne{max-height:12px;max-height:.75rem}.text-caption2.textType_maxLinesTwo,.text-captionAlt.textType_maxLinesTwo,h6.textType_maxLinesTwo{max-height:24px;max-height:1.5rem}.text-caption2.textType_maxLinesThree,.text-captionAlt.textType_maxLinesThree,h6.textType_maxLinesThree{max-height:36px;max-height:2.25rem}.text-caption2.textType_maxLinesFour,.text-captionAlt.textType_maxLinesFour,h6.textType_maxLinesFour{max-height:48px;max-height:3rem}.text-caption3,.text-subcaption{font-size:.5rem;line-height:.625rem;padding-bottom:.0284rem;padding-top:.0284rem;font-weight:400}.text-caption3.textType_maxLinesOne,.text-subcaption.textType_maxLinesOne{max-height:10px;max-height:.625rem}.text-caption3.textType_maxLinesTwo,.text-subcaption.textType_maxLinesTwo{max-height:20px;max-height:1.25rem}.text-caption3.textType_maxLinesThree,.text-subcaption.textType_maxLinesThree{max-height:30px;max-height:1.875rem}.text-caption3.textType_maxLinesFour,.text-subcaption.textType_maxLinesFour{max-height:40px;max-height:2.5rem}.text-body,.text-body1,p{font-weight:400}.text-base,.text-body2,legend{font-weight:500;font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.text-body.textType_maxLinesOne,.text-body1.textType_maxLinesOne,p.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-body.textType_maxLinesTwo,.text-body1.textType_maxLinesTwo,p.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-body.textType_maxLinesThree,.text-body1.textType_maxLinesThree,p.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-body.textType_maxLinesFour,.text-body1.textType_maxLinesFour,p.textType_maxLinesFour{max-height:80px;max-height:5rem}.text-base.textType_maxLinesOne,.text-body2.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-base.textType_maxLinesTwo,.text-body2.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-base.textType_maxLinesThree,.text-body2.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-base.textType_maxLinesFour,.text-body2.textType_maxLinesFour{max-height:80px;max-height:5rem}[class*=textType_maxLines]{overflow:hidden}a,a:link,a:visited{text-decoration:underline;color:rgba(255,255,255,.6)}a:hover,a:link:hover,a:visited:hover{color:rgba(255,255,255,.5)}a:active,a:link:active,a:visited:active{color:rgba(255,255,255,.4)}li,p{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:400;max-width:672px}.action-link{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.secondaryText{color:rgba(255,255,255,.6)}.icon{font-family:"Segoe MDL2 Assets"}.icon-win-easeOfAccess:before{content:"\E776"}.icon-win-keyboardStandard:before{content:"\E765";transform:translatex(1px)}.template-legend-icon{width:20px;height:20px}html[dir=ltr] .template-legend-icon{padding-right:8px;float:left}html[dir=rtl] .template-legend-icon{padding-left:8px;float:right}fieldset{margin:4px 0;padding:0;border:none}fieldset:last-child{margin-bottom:0}fieldset p{margin:16px 0}legend{margin-bottom:12px;max-width:100%;color:#FFF}@media (-ms-high-contrast){legend{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}}.control-button,button,input[type=button],input[type=submit],input[type=reset]{height:32px;font:inherit;line-height:22px;margin:0;overflow:hidden;color:#FFF}@media (-ms-high-contrast){.control-button,button,input[type=button],input[type=submit],input[type=reset]{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}.control-button:enabled:hover,button:enabled:hover,input[type=button]:enabled:hover,input[type=submit]:enabled:hover,input[type=reset]:enabled:hover{background-color:Highlight;color:HighlightText}.control-button:enabled:active,button:enabled:active,input[type=button]:enabled:active,input[type=submit]:enabled:active,input[type=reset]:enabled:active{background-color:ButtonText;color:ButtonFace}.control-button:enabled:focus,button:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:WindowText;color:HighlightText;border-color:Highlight}input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select{border-color:ButtonText}}a.control-button:link,a.control-button:visited{color:#FFF}input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select{width:100%;margin-top:0;margin-bottom:0}input[type=color]:disabled,input[type=date]:disabled,input[type=datetime]:disabled,input[type=datetime-local]:disabled,input[type=email]:disabled,input[type=month]:disabled,input[type=number]:disabled,input[type=password]:disabled,input[type=search]:disabled,input[type=tel]:disabled,input[type=text]:disabled,input[type=time]:disabled,input[type=url]:disabled,input[type=week]:disabled,select:disabled{border-color:rgba(255,255,255,.2)!important;background-color:rgba(204,204,204,.2)!important;color:rgba(255,255,255,.2)!important}:disabled+label{color:rgba(255,255,255,.2)!important}@media (-ms-high-contrast){:disabled+label{color:GrayText}}:disabled::-ms-input-placeholder{color:rgba(255,255,255,.2)!important}.control-progress{padding:32px 0 36px;text-align:center;color:#FFF}.control-progress progress{margin:0 auto}.control-progress progress.win-ring.win-large{color:#FFF;width:64px;height:64px}.control-progress h4{margin:16px 0 0}.control-actionLinks{margin:0;padding:0;list-style:none}.control-actionLinks li{margin:12px 0 0;padding:.0141875rem 0;font-size:.9375rem;line-height:1.25rem;font-weight:400}.control-chrome-bar-grid{display:-ms-grid;-ms-grid-column:1;-ms-grid-column-span:2;-ms-grid-row:3;-ms-grid-columns:8px 1fr 8px;-ms-grid-rows:8px auto 8px}.control-chrome-bar-grid .chrome-bar-buttons{margin:0;-ms-grid-column:2;-ms-grid-row:2}.control-chrome-bar{background-color:#191919;color:#FFF}.removeFromDisplay{display:none}body,html{height:100%;-moz-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;-html-user-select:none;-ms-user-select:none}html{overflow:auto}.control-app{display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr auto;height:100%;overflow:hidden}.control-page,.control-page .page-body{overflow-x:hidden;overflow-y:auto;display:-ms-grid}.control-app>.control-progress{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}.control-app .app-content{-ms-grid-column:1;-ms-grid-row:2;height:100%;width:100%;min-width:320px;max-width:1024px;max-height:864px;margin:0 auto;position:relative}.control-page{-ms-grid-columns:12px 1fr;-ms-grid-rows:24px 1fr auto;height:100%;width:100%;position:absolute;top:0}.control-page .page-body{-ms-grid-column:2;-ms-grid-row:2;max-height:752px;-ms-grid-columns:1fr 12px;-ms-grid-rows:auto 1fr}.control-page .page-body .body-header{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-row-align:end;display:-ms-grid;-ms-grid-columns:1fr auto;-ms-grid-rows:1fr;margin-bottom:28px}.control-page .page-body .body-header h1,.control-page .page-body .body-header h2,.control-page .page-body .body-header h3,.control-page .page-body .body-header h4,.control-page .page-body .body-header h5{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-row-align:end;margin:0;font-size:2.125rem;line-height:2.5rem;padding-bottom:.198825rem;padding-top:.198825rem;font-weight:200;color:#FFF}.control-page .page-body .body-header h1.textType_maxLinesOne,.control-page .page-body .body-header h2.textType_maxLinesOne,.control-page .page-body .body-header h3.textType_maxLinesOne,.control-page .page-body .body-header h4.textType_maxLinesOne,.control-page .page-body .body-header h5.textType_maxLinesOne{max-height:40px;max-height:2.5rem}.control-page .page-body .body-header h1.textType_maxLinesTwo,.control-page .page-body .body-header h2.textType_maxLinesTwo,.control-page .page-body .body-header h3.textType_maxLinesTwo,.control-page .page-body .body-header h4.textType_maxLinesTwo,.control-page .page-body .body-header h5.textType_maxLinesTwo{max-height:80px;max-height:5rem}.control-page .page-body .body-header h1.textType_maxLinesThree,.control-page .page-body .body-header h2.textType_maxLinesThree,.control-page .page-body .body-header h3.textType_maxLinesThree,.control-page .page-body .body-header h4.textType_maxLinesThree,.control-page .page-body .body-header h5.textType_maxLinesThree{max-height:120px;max-height:7.5rem}.control-page .page-body .body-header h1.textType_maxLinesFour,.control-page .page-body .body-header h2.textType_maxLinesFour,.control-page .page-body .body-header h3.textType_maxLinesFour,.control-page .page-body .body-header h4.textType_maxLinesFour,.control-page .page-body .body-header h5.textType_maxLinesFour{max-height:160px;max-height:10rem}.control-page .page-body .body-header .img-brand{-ms-grid-column:2;-ms-grid-column-align:end;-ms-grid-row:1;-ms-grid-row-align:center;height:80px}.control-page .page-body .body-container{-ms-grid-column:1;-ms-grid-row:2;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr}.control-page .page-body .body-container .container-content{-ms-grid-column:1;-ms-grid-row:1}.control-page .page-body .body-container .container-content p:first-child{margin-top:0}.control-page .page-body .body-container .container-content p.content-lead{margin-bottom:28px}.control-page .page-body .body-container .container-content p.content-compact{margin-bottom:8px}.control-page .page-body .body-container .container-content .win-listview{margin-bottom:28px}.control-page .page-body .body-container .container-content .win-listview>.win-vertical .win-container{margin:0}.control-page .page-body .body-container .container-footer{-ms-grid-column:1;-ms-grid-row:2;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 8px auto}.control-page .page-body .body-container .container-footer .footer-content{-ms-grid-column:1;-ms-grid-row:3;padding-bottom:8px}.control-page .page-footer{display:-ms-grid;-ms-grid-column:1;-ms-grid-column-span:2;-ms-grid-row:3;-ms-grid-columns:8px 1fr 8px;-ms-grid-rows:8px auto 8px}.control-page .page-footer .footer-icons{display:none}.control-page .page-footer .footer-buttons{margin:0;-ms-grid-column:2;-ms-grid-row:2}.control-page.page_centered{-ms-grid-columns:1fr;-ms-grid-rows:1fr}.control-page.page_centered .page-body{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-columns:1fr auto 1fr;-ms-grid-rows:1fr auto 1fr}.control-page.page_centered .page-body .body-container{-ms-grid-column:2;-ms-grid-row:2;display:block}.template-buttonGroup{margin:4px 0;display:-ms-grid;-ms-grid-columns:1fr 4px 1fr}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset],html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-left:0}.template-buttonGroup .control-button{-ms-grid-column:1}.template-buttonGroup .control-button.button_primary{-ms-grid-column:3}.template-buttonGroup.buttonGroup_fullWidth{-ms-grid-columns:1fr}.template-buttonGroup.buttonGroup_fullWidth .control-button.button_primary{-ms-grid-column:1}.template-buttonGroup .control-button+.control-button{margin-top:0}.template-buttonGroup .control-button,.template-buttonGroup button,.template-buttonGroup input[type=button],.template-buttonGroup input[type=submit],.template-buttonGroup input[type=reset]{-ms-grid-row:1;margin-top:0;margin-bottom:0}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset],html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-right:0}.template-tooltip{background:0 0;border:0 transparent;padding:12px 0}.template-tooltip p{margin:8px 0}.template-tooltip p:first-child{margin-top:0}.template-tooltip p:last-child{margin-bottom:0}.template-tooltip.tooltipType_error{color:#FF0}@media (-ms-high-contrast){.template-tooltip.tooltipType_error{color:GrayText}}.template-tooltip.tooltipType_success{color:rgba(255,255,255,.6)}@media (-ms-high-contrast){.template-tooltip.tooltipType_success{color:-ms-hotlight}}.template-input+.template-tooltip,.template-tooltip+.template-tooltip{padding-top:0}.template-input .template-tooltip:last-of-type{padding-bottom:0}.template-input{margin-top:12px;margin-bottom:12px}.template-input .text-captionAlt{color:rgba(255,255,255,.6)}.template-input .input-errorDialog{position:static;display:inline-block;margin-top:0;margin-bottom:0}.template-input .input-errorDialog.errorDialogType_above{margin-top:0;margin-bottom:0}.template-input.inputType_checkbox,.template-input.inputType_radio{display:-ms-grid;-ms-grid-columns:auto 1fr;padding:2px 0}.template-input.inputType_checkbox input,.template-input.inputType_radio input{-ms-grid-column:1;float:none}.template-input.inputType_checkbox input+label,.template-input.inputType_radio input+label{display:block}.template-input.inputType_checkbox label,.template-input.inputType_radio label{-ms-grid-column:2;margin-top:0;margin-bottom:0}.template-input.inputType_twoFields{display:-ms-grid;-ms-grid-rows:auto;-ms-grid-columns:1fr 12px 1fr;width:100%}.template-input.inputType_twoFields .field-one{-ms-grid-column:1}.template-input.inputType_twoFields .field-two{-ms-grid-column:3}.template-input.inputType_twoFields .template-tooltip{-ms-grid-row:3;-ms-grid-column-span:3}.template-input select{min-width:inherit;max-width:100%}.template-input label{display:block;margin-top:12px;margin-bottom:12px}.template-input label.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-input label.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-input label.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-input label.textType_maxLinesFour{max-height:80px;max-height:5rem}.template-datePicker{display:flex;height:28px;margin:0 -6px}.template-datePicker .day,.template-datePicker .month,.template-datePicker .year{margin:0 6px}.template-datePicker .month{flex:0 2 100%}.template-datePicker .day,.template-datePicker .year{flex:0 3 100%}.template-datePicker .template-input{min-width:0;width:100%}.template-datePicker .template-tooltip{display:none}.template-datePicker.inputType_checkbox{padding:2px 0}.scrollable-div:hover{background:rgba(0,0,0,.4)}.template-listViewItem{padding:8px 12px;height:auto;min-height:84px;box-sizing:border-box}.template-listViewItem .listViewItem-icon{font-size:32px}.template-listViewItem .listViewItem-text,.template-listViewItem .listViewItem-title{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.template-listViewItem .listViewItem-title{font-weight:500;margin-bottom:4px}.template-listViewItem .listViewItem-title.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-listViewItem .listViewItem-title.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-listViewItem .listViewItem-title.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-listViewItem .listViewItem-title.textType_maxLinesFour{max-height:80px;max-height:5rem}.template-listViewItem .listViewItem-text{font-weight:400}.template-listViewItem .listViewItem-text.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-listViewItem .listViewItem-text.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-listViewItem .listViewItem-text.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-listViewItem .listViewItem-text.textType_maxLinesFour{max-height:80px;max-height:5rem}progress.template-progressTop{margin-top:0;position:absolute;top:0;width:100%}.gridcol-one{-ms-grid-column:1}.gridcol-two{-ms-grid-column:3}.gridrow-one{-ms-grid-row:1}.gridrow-two{-ms-grid-row:2}.gridrow-three{-ms-grid-row:3}.gridrow-four{-ms-grid-row:4}.gridrow-five{-ms-grid-row:5}.gridcolspan-one_wide.gridcol-one{-ms-grid-column-span:2}.gridcolspan-one_wide .template-input input,.gridcolspan-one_wide .template-input select{width:100%}.gridcolspan-two{-ms-grid-column-span:3}.gridrowspan-two{-ms-grid-row-span:2}.gridrowspan-three{-ms-grid-row-span:3}.gridrowspan-four{-ms-grid-row-span:4}.gridrowspan-five{-ms-grid-row-span:5}.gridgutter{height:32px}.gridcol-one+.gridcol-two{margin-top:32px}html{background-color:#000;color:#FFF}
/*! Copyright (C) Microsoft Corporation. All rights reserved. Version 1.2.6 */.control-app .app-content,.control-chrome-bar-grid .external-title{-ms-grid-row-align:center}::selection .win-dropdown option{-ms-high-contrast-adjust:none}.icon,.template-listViewItem,.win-button{-ms-high-contrast-adjust:none}@media (-ms-high-contrast){.win-button:disabled{background-color:ButtonFace;color:GrayText}button:enabled .buttonType_themed,button:enabled .button_primary,input[type=button]:enabled .buttonType_themed,input[type=button]:enabled .button_primary,input[type=submit]:enabled .buttonType_themed,input[type=submit]:enabled .button_primary,input[type=reset]:enabled .buttonType_themed,input[type=reset]:enabled .button_primary,select:enabled .buttonType_themed,select:enabled .button_primary{border-color:WindowText}button:enabled .buttonType_themed:focus,button:enabled .buttonType_themed:hover,button:enabled .button_primary:focus,button:enabled .button_primary:hover,input[type=button]:enabled .buttonType_themed:focus,input[type=button]:enabled .buttonType_themed:hover,input[type=button]:enabled .button_primary:focus,input[type=button]:enabled .button_primary:hover,input[type=submit]:enabled .buttonType_themed:focus,input[type=submit]:enabled .buttonType_themed:hover,input[type=submit]:enabled .button_primary:focus,input[type=submit]:enabled .button_primary:hover,input[type=reset]:enabled .buttonType_themed:focus,input[type=reset]:enabled .buttonType_themed:hover,input[type=reset]:enabled .button_primary:focus,input[type=reset]:enabled .button_primary:hover,select:enabled .buttonType_themed:focus,select:enabled .buttonType_themed:hover,select:enabled .button_primary:focus,select:enabled .button_primary:hover{border-color:Highlight}.win-dropdown option:checked,.win-dropdown option:hover,select[multiple].win-dropdown option:checked,select[multiple].win-dropdown option:hover{background-color:Highlight;color:HighlightText}.win-dropdown option:active{background-color:ButtonFace;color:Highlight}.control-button:enabled:focus,.template-buttonGroup button:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:ButtonText;color:ButtonFace;border-color:Highlight}html .control-page .page-footer .footer-icons .icon:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:ButtonText;color:ButtonFace;border-color:Highlight}.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,.win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,.win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox{background-color:ButtonText;color:ButtonFace}.win-textarea::-ms-input-placeholder,.win-textbox::-ms-input-placeholder{color:Graytext}.win-itemcontainer.win-selectionstylefilled.win-selected.win-pressed .win-selectionbackground,.win-listview.win-selectionstylefilled .win-selected.win-pressed .win-selectionbackground{background-color:ButtonText!important}a:focus{color:-ms-hotlight!important;outline:#fff dashed 1px}body a:hover{color:Highlight}}html[dir=rtl]{direction:rtl}img{border-style:none}form{margin:0;padding:0}legend{margin:0 0 10px;padding:0}code,pre,samp{font-family:Consolas,Menlo,Monaco,"Courier New",monospace;font-size:15px;font-weight:400;line-height:1.333}.win-button,button,button[type=submit],input[type=button],input[type=reset],input[type=submit]{padding-top:2px}input[type=radio],input[type=checkbox]{margin-top:0;margin-bottom:0}html[dir=ltr] input[type=radio],html[dir=ltr] input[type=checkbox]{margin-left:0;margin-right:8px}html[dir=rtl] input[type=radio],html[dir=rtl] input[type=checkbox]{margin-right:0;margin-left:8px}input[type=checkbox]:hover:active::-ms-check,input[type=checkbox]:not:disabled::-ms-check{color:#FFF;background-color:#767676;border-color:#333}select,select:enabled{color:rgba(0,0,0,.6);border-color:rgba(0,0,0,.4);background-color:rgba(255,255,255,.4)}select:enabled:hover,select:hover{border-color:#999;background-color:rgba(255,255,255,.6)}select:active,select:enabled:active,select:enabled:focus,select:focus{border-color:#999}select::-ms-value{padding:4px 8px;margin:0}progress{height:4px}.win-dropdown{margin:0}.win-dropdown:disabled::-ms-expand{color:rgba(255,255,255,.2)}.win-dropdown::-ms-value{padding:0 12px 0 8px;margin:0}input::-ms-clear,input::-ms-reveal{width:auto;height:auto}input::-ms-clear:hover:active,input::-ms-reveal:hover:active{background-color:#0078D7}progress,progress:indeterminate{color:#0078D7}.win-flyout,.win-flyout.win-ui-dark,.win-flyout.win-ui-light{margin-bottom:7px;padding-top:6px;color:#000;background-color:#F2F2F2;border-color:#CCC}.win-flyout h4{margin-top:0;margin-bottom:4px}.win-flyout p{margin-bottom:0}.win-flyout h4+p{margin-top:0}.win-flyout.flyout_iframe{padding:0;font-size:0}.text-body,.text-body1,body,p{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.win-flyout.flyout_iframe,.win-flyout.flyout_iframe iframe{width:100%;height:100%}.win-listview{height:auto}.win-container,.win-itemscontainer{height:auto!important}@keyframes WinJS-enterContent{from{transform:translateX(40px)}to{transform:none}}@keyframes WinJS-enterContent-rtl{from{transform:translateX(-40px)}to{transform:none}}body{font-weight:400;font-family:"Segoe UI",Selawik,Tahoma,Verdana,Arial,sans-serif}a{cursor:pointer;touch-action:manipulation;text-decoration:none;color:#ccc}a:hover,a:hover:focus{color:#666}a:active,a:active:hover{color:#999}a:focus,a:link,a:visited{color:#0078D7}@media (-ms-high-contrast){a{color:GrayText}a:link,a:visited{color:-ms-hotlight}a:active,a:active:hover,a:focus,a:hover,a:hover:focus{color:WindowText}}.text-base,.text-body,.text-caption,.text-caption1,.text-captionAlt,.text-display1,.text-display2,.text-display3,.text-header,.text-headline,.text-subcaption,.text-subheader,.text-subtitle,.text-title,.text-title1,.text-title2,.text-title3,h1,h2,h3,h4,h5,h6,p{margin-bottom:1.25rem;margin-top:1.25rem}.text-display1,.text-headline{font-size:3.875rem;line-height:5rem;padding-bottom:.141975rem;padding-top:.141975rem;font-weight:200}.text-display1.textType_maxLinesOne,.text-headline.textType_maxLinesOne{max-height:80px;max-height:5rem}.text-display1.textType_maxLinesTwo,.text-headline.textType_maxLinesTwo{max-height:160px;max-height:10rem}.text-display1.textType_maxLinesThree,.text-headline.textType_maxLinesThree{max-height:240px;max-height:15rem}.text-display1.textType_maxLinesFour,.text-headline.textType_maxLinesFour{max-height:320px;max-height:20rem}.text-display2,.text-header,h1{font-size:2.875rem;line-height:3.5rem;padding-bottom:.210175rem;padding-top:.210175rem;font-weight:200}.text-display2.textType_maxLinesOne,.text-header.textType_maxLinesOne,h1.textType_maxLinesOne{max-height:56px;max-height:3.5rem}.text-display2.textType_maxLinesTwo,.text-header.textType_maxLinesTwo,h1.textType_maxLinesTwo{max-height:112px;max-height:7rem}.text-display2.textType_maxLinesThree,.text-header.textType_maxLinesThree,h1.textType_maxLinesThree{max-height:168px;max-height:10.5rem}.text-display2.textType_maxLinesFour,.text-header.textType_maxLinesFour,h1.textType_maxLinesFour{max-height:224px;max-height:14rem}.text-display3,.text-subheader,h2{font-size:2.125rem;line-height:2.5rem;padding-bottom:.198825rem;padding-top:.198825rem;font-weight:200}.text-title,.text-title1,.text-title2,h3{font-size:1.5rem;line-height:1.75rem;padding-bottom:.1477rem;padding-top:.1477rem}.text-display3.textType_maxLinesOne,.text-subheader.textType_maxLinesOne,h2.textType_maxLinesOne{max-height:40px;max-height:2.5rem}.text-display3.textType_maxLinesTwo,.text-subheader.textType_maxLinesTwo,h2.textType_maxLinesTwo{max-height:80px;max-height:5rem}.text-display3.textType_maxLinesThree,.text-subheader.textType_maxLinesThree,h2.textType_maxLinesThree{max-height:120px;max-height:7.5rem}.text-display3.textType_maxLinesFour,.text-subheader.textType_maxLinesFour,h2.textType_maxLinesFour{max-height:160px;max-height:10rem}.text-title,h3{font-weight:300}.text-title.textType_maxLinesOne,h3.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title.textType_maxLinesTwo,h3.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title.textType_maxLinesThree,h3.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title.textType_maxLinesFour,h3.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title1{font-weight:400}.text-title1.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title1.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title1.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title1.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title2{font-weight:200}.text-title2.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title2.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title2.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title2.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-subtitle,.text-title3,h4{font-size:1.25rem;line-height:1.5rem;padding-bottom:.10225rem;padding-top:.10225rem;font-weight:400}.text-subtitle.textType_maxLinesOne,.text-title3.textType_maxLinesOne,h4.textType_maxLinesOne{max-height:24px;max-height:1.5rem}.text-subtitle.textType_maxLinesTwo,.text-title3.textType_maxLinesTwo,h4.textType_maxLinesTwo{max-height:48px;max-height:3rem}.text-subtitle.textType_maxLinesThree,.text-title3.textType_maxLinesThree,h4.textType_maxLinesThree{max-height:72px;max-height:4.5rem}.text-subtitle.textType_maxLinesFour,.text-title3.textType_maxLinesFour,h4.textType_maxLinesFour{max-height:96px;max-height:6rem}.text-caption,.text-caption1,h5{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.text-caption.textType_maxLinesOne,.text-caption1.textType_maxLinesOne,h5.textType_maxLinesOne{max-height:14px;max-height:.875rem}.text-caption.textType_maxLinesTwo,.text-caption1.textType_maxLinesTwo,h5.textType_maxLinesTwo{max-height:28px;max-height:1.75rem}.text-caption.textType_maxLinesThree,.text-caption1.textType_maxLinesThree,h5.textType_maxLinesThree{max-height:42px;max-height:2.625rem}.text-caption.textType_maxLinesFour,.text-caption1.textType_maxLinesFour,h5.textType_maxLinesFour{max-height:56px;max-height:3.5rem}.text-caption2,.text-captionAlt,h6{font-size:.625rem;line-height:.75rem;padding-bottom:.051125rem;padding-top:.051125rem;font-weight:400}.text-caption2.textType_maxLinesOne,.text-captionAlt.textType_maxLinesOne,h6.textType_maxLinesOne{max-height:12px;max-height:.75rem}.text-caption2.textType_maxLinesTwo,.text-captionAlt.textType_maxLinesTwo,h6.textType_maxLinesTwo{max-height:24px;max-height:1.5rem}.text-caption2.textType_maxLinesThree,.text-captionAlt.textType_maxLinesThree,h6.textType_maxLinesThree{max-height:36px;max-height:2.25rem}.text-caption2.textType_maxLinesFour,.text-captionAlt.textType_maxLinesFour,h6.textType_maxLinesFour{max-height:48px;max-height:3rem}.text-caption3,.text-subcaption{font-size:.5rem;line-height:.625rem;padding-bottom:.0284rem;padding-top:.0284rem;font-weight:400}.text-caption3.textType_maxLinesOne,.text-subcaption.textType_maxLinesOne{max-height:10px;max-height:.625rem}.text-caption3.textType_maxLinesTwo,.text-subcaption.textType_maxLinesTwo{max-height:20px;max-height:1.25rem}.text-caption3.textType_maxLinesThree,.text-subcaption.textType_maxLinesThree{max-height:30px;max-height:1.875rem}.text-caption3.textType_maxLinesFour,.text-subcaption.textType_maxLinesFour{max-height:40px;max-height:2.5rem}.text-body,.text-body1,p{font-weight:400}.text-base,.text-body2,legend{font-weight:500;font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.text-body.textType_maxLinesOne,.text-body1.textType_maxLinesOne,p.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-body.textType_maxLinesTwo,.text-body1.textType_maxLinesTwo,p.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-body.textType_maxLinesThree,.text-body1.textType_maxLinesThree,p.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-body.textType_maxLinesFour,.text-body1.textType_maxLinesFour,p.textType_maxLinesFour{max-height:80px;max-height:5rem}.text-base.textType_maxLinesOne,.text-body2.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-base.textType_maxLinesTwo,.text-body2.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-base.textType_maxLinesThree,.text-body2.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-base.textType_maxLinesFour,.text-body2.textType_maxLinesFour{max-height:80px;max-height:5rem}[class*=textType_maxLines]{overflow:hidden}li,p{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:400;max-width:672px}.action-link{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.secondaryText{color:rgba(0,0,0,.6)}.icon{font-family:"Segoe MDL2 Assets"}.icon-win-easeOfAccess:before{content:"\E776"}.icon-win-keyboardStandard:before{content:"\E765";transform:translatex(1px)}.template-legend-icon{width:20px;height:20px}html[dir=ltr] .template-legend-icon{padding-right:8px;float:left}html[dir=rtl] .template-legend-icon{padding-left:8px;float:right}fieldset{margin:4px 0;padding:0;border:none}fieldset:last-child{margin-bottom:0}fieldset p{margin:16px 0}legend{margin-bottom:12px;max-width:100%;color:#000}@media (-ms-high-contrast){legend{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}}.control-button,button,input[type=button],input[type=submit],input[type=reset]{height:32px;font:inherit;line-height:22px;margin:0;overflow:hidden;color:#000}@media (-ms-high-contrast){.control-button,button,input[type=button],input[type=submit],input[type=reset]{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}.control-button:enabled:hover,button:enabled:hover,input[type=button]:enabled:hover,input[type=submit]:enabled:hover,input[type=reset]:enabled:hover{background-color:Highlight;color:HighlightText}.control-button:enabled:active,button:enabled:active,input[type=button]:enabled:active,input[type=submit]:enabled:active,input[type=reset]:enabled:active{background-color:ButtonText;color:ButtonFace}.control-button:enabled:focus,button:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:WindowText;color:HighlightText;border-color:Highlight}}.control-button:enabled.buttonType_themed,.control-button:enabled.button_primary,button:enabled.buttonType_themed,button:enabled.button_primary,input[type=button]:enabled.buttonType_themed,input[type=button]:enabled.button_primary,input[type=submit]:enabled.buttonType_themed,input[type=submit]:enabled.button_primary,input[type=reset]:enabled.buttonType_themed,input[type=reset]:enabled.button_primary{background-color:#0078D7;color:#FFF}.control-button:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:hover,.control-button:enabled.button_primary:focus,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed:focus,button:enabled.buttonType_themed:hover,button:enabled.button_primary:focus,button:enabled.button_primary:hover,input[type=button]:enabled.buttonType_themed:focus,input[type=button]:enabled.buttonType_themed:hover,input[type=button]:enabled.button_primary:focus,input[type=button]:enabled.button_primary:hover,input[type=submit]:enabled.buttonType_themed:focus,input[type=submit]:enabled.buttonType_themed:hover,input[type=submit]:enabled.button_primary:focus,input[type=submit]:enabled.button_primary:hover,input[type=reset]:enabled.buttonType_themed:focus,input[type=reset]:enabled.buttonType_themed:hover,input[type=reset]:enabled.button_primary:focus,input[type=reset]:enabled.button_primary:hover{border-color:#004E8C}@media (-ms-high-contrast){.control-button:enabled.buttonType_themed,.control-button:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:hover,.control-button:enabled.button_primary,.control-button:enabled.button_primary:focus,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed,button:enabled.buttonType_themed:focus,button:enabled.buttonType_themed:hover,button:enabled.button_primary,button:enabled.button_primary:focus,button:enabled.button_primary:hover,input[type=button]:enabled.buttonType_themed,input[type=button]:enabled.buttonType_themed:focus,input[type=button]:enabled.buttonType_themed:hover,input[type=button]:enabled.button_primary,input[type=button]:enabled.button_primary:focus,input[type=button]:enabled.button_primary:hover,input[type=submit]:enabled.buttonType_themed,input[type=submit]:enabled.buttonType_themed:focus,input[type=submit]:enabled.buttonType_themed:hover,input[type=submit]:enabled.button_primary,input[type=submit]:enabled.button_primary:focus,input[type=submit]:enabled.button_primary:hover,input[type=reset]:enabled.buttonType_themed,input[type=reset]:enabled.buttonType_themed:focus,input[type=reset]:enabled.buttonType_themed:hover,input[type=reset]:enabled.button_primary,input[type=reset]:enabled.button_primary:focus,input[type=reset]:enabled.button_primary:hover{background-color:Highlight;color:HighlightText}}@media (-ms-high-contrast:active){.control-button:enabled.buttonType_themed:focus,.control-button:enabled.buttonType_themed:hover,.control-button:enabled.button_primary:focus,.control-button:enabled.button_primary:hover,button:enabled.buttonType_themed:focus,button:enabled.buttonType_themed:hover,button:enabled.button_primary:focus,button:enabled.button_primary:hover,input[type=button]:enabled.buttonType_themed:focus,input[type=button]:enabled.buttonType_themed:hover,input[type=button]:enabled.button_primary:focus,input[type=button]:enabled.button_primary:hover,input[type=submit]:enabled.buttonType_themed:focus,input[type=submit]:enabled.buttonType_themed:hover,input[type=submit]:enabled.button_primary:focus,input[type=submit]:enabled.button_primary:hover,input[type=reset]:enabled.buttonType_themed:focus,input[type=reset]:enabled.buttonType_themed:hover,input[type=reset]:enabled.button_primary:focus,input[type=reset]:enabled.button_primary:hover{border-color:Highlight}}.control-button:enabled.buttonType_themed:active,.control-button:enabled.button_primary:active,button:enabled.buttonType_themed:active,button:enabled.button_primary:active,input[type=button]:enabled.buttonType_themed:active,input[type=button]:enabled.button_primary:active,input[type=submit]:enabled.buttonType_themed:active,input[type=submit]:enabled.button_primary:active,input[type=reset]:enabled.buttonType_themed:active,input[type=reset]:enabled.button_primary:active{background-color:#004E8C;border-color:#004E8C}@media (-ms-high-contrast){.control-button:enabled.buttonType_themed:active,.control-button:enabled.button_primary:active,button:enabled.buttonType_themed:active,button:enabled.button_primary:active,input[type=button]:enabled.buttonType_themed:active,input[type=button]:enabled.button_primary:active,input[type=submit]:enabled.buttonType_themed:active,input[type=submit]:enabled.button_primary:active,input[type=reset]:enabled.buttonType_themed:active,input[type=reset]:enabled.button_primary:active{background-color:ButtonText;color:ButtonFace}}.control-chrome-bar,body{background-color:#FFF}@media (-ms-high-contrast:active){.control-button:enabled.buttonType_themed:active:focus,.control-button:enabled.button_primary:active:focus,button:enabled.buttonType_themed:active:focus,button:enabled.button_primary:active:focus,input[type=button]:enabled.buttonType_themed:active:focus,input[type=button]:enabled.button_primary:active:focus,input[type=submit]:enabled.buttonType_themed:active:focus,input[type=submit]:enabled.button_primary:active:focus,input[type=reset]:enabled.buttonType_themed:active:focus,input[type=reset]:enabled.button_primary:active:focus{border-color:Highlight}}a.control-button:link,a.control-button:visited{color:#000}a.control-button:link.buttonType_themed,a.control-button:link.button_primary,a.control-button:visited.buttonType_themed,a.control-button:visited.button_primary{color:#FFF}input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select{width:100%;margin-top:0;margin-bottom:0}input[type=color]:disabled,input[type=date]:disabled,input[type=datetime]:disabled,input[type=datetime-local]:disabled,input[type=email]:disabled,input[type=month]:disabled,input[type=number]:disabled,input[type=password]:disabled,input[type=search]:disabled,input[type=tel]:disabled,input[type=text]:disabled,input[type=time]:disabled,input[type=url]:disabled,input[type=week]:disabled,select:disabled{border-color:rgba(255,255,255,.2)!important;background-color:rgba(204,204,204,.2)!important;color:rgba(255,255,255,.2)!important}:disabled+label{color:rgba(255,255,255,.2)!important}@media (-ms-high-contrast){input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select{border-color:ButtonText}:disabled+label{color:GrayText}}:disabled::-ms-input-placeholder{color:rgba(255,255,255,.2)!important}.control-progress{padding:32px 0 36px;text-align:center;color:#0078D7}.control-progress progress{margin:0 auto}.control-progress progress.win-ring.win-large{color:#0078D7;width:64px;height:64px}.control-progress h4{margin:16px 0 0}.control-actionLinks{margin:0;padding:0;list-style:none}.control-actionLinks li{margin:8px 0 0;padding:.0141875rem 0;font-size:.9375rem;line-height:1.25rem;font-weight:400}.control-chrome-bar-grid{display:-ms-grid;-ms-grid-column:2;-ms-grid-row:3;-ms-grid-columns:12px 1fr 12px;-ms-grid-rows:4px auto 4px}@media (min-width:480px){.control-chrome-bar-grid{-ms-grid-columns:32px 1fr 32px}}.control-chrome-bar-grid .chrome-bar-buttons{margin:8px 0;-ms-grid-column:2;-ms-grid-row:2}.removeFromDisplay{display:none}body,html{height:100%;-moz-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;-html-user-select:none;-ms-user-select:none}html{overflow:auto}.control-app{display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr auto;height:100%;overflow:hidden}.control-page,.control-page .page-body{overflow-x:hidden;overflow-y:auto;display:-ms-grid}.control-app>.control-progress{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}.control-app .app-content{-ms-grid-column:1;-ms-grid-row:2;height:100%;width:100%;min-width:320px;max-width:1024px;max-height:864px;margin:0 auto;position:relative}.control-page{-ms-grid-columns:12px 1fr;height:100%;width:100%;position:absolute;top:0;-ms-grid-rows:0 1fr auto 4px}@media (min-width:480px){.control-page{-ms-grid-columns:36px 1fr 36px;-ms-grid-rows:28px 1fr 92px}}.control-page .page-body{-ms-grid-column:2;-ms-grid-row:2;max-height:752px;-ms-grid-columns:1fr 16px;-ms-grid-rows:auto 1fr}@media (min-width:480px){.control-page .page-body{-ms-grid-columns:1fr 0}}.control-page .page-body .body-header{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-row-align:end;display:-ms-grid;-ms-grid-columns:1fr auto;-ms-grid-rows:1fr;margin-bottom:22px;margin-top:24px}.control-page .page-body .body-header h1,.control-page .page-body .body-header h2,.control-page .page-body .body-header h3,.control-page .page-body .body-header h4,.control-page .page-body .body-header h5{-ms-grid-column:1;-ms-grid-row:1;margin:0;-ms-grid-row-align:center;font-size:1.5rem;line-height:1.75rem;padding-bottom:.1477rem;padding-top:.1477rem;font-weight:300;color:#000}.control-page .page-body .body-header h1.textType_maxLinesOne,.control-page .page-body .body-header h2.textType_maxLinesOne,.control-page .page-body .body-header h3.textType_maxLinesOne,.control-page .page-body .body-header h4.textType_maxLinesOne,.control-page .page-body .body-header h5.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.control-page .page-body .body-header h1.textType_maxLinesTwo,.control-page .page-body .body-header h2.textType_maxLinesTwo,.control-page .page-body .body-header h3.textType_maxLinesTwo,.control-page .page-body .body-header h4.textType_maxLinesTwo,.control-page .page-body .body-header h5.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.control-page .page-body .body-header h1.textType_maxLinesThree,.control-page .page-body .body-header h2.textType_maxLinesThree,.control-page .page-body .body-header h3.textType_maxLinesThree,.control-page .page-body .body-header h4.textType_maxLinesThree,.control-page .page-body .body-header h5.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.control-page .page-body .body-header h1.textType_maxLinesFour,.control-page .page-body .body-header h2.textType_maxLinesFour,.control-page .page-body .body-header h3.textType_maxLinesFour,.control-page .page-body .body-header h4.textType_maxLinesFour,.control-page .page-body .body-header h5.textType_maxLinesFour{max-height:112px;max-height:7rem}.control-page .page-body .body-header .img-brand{-ms-grid-column:2;-ms-grid-column-align:end;-ms-grid-row:1;-ms-grid-row-align:center;height:80px;height:40px;margin:0 0 0 12px}.control-page .page-body .body-container{-ms-grid-column:1;-ms-grid-row:2;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr}.control-page .page-body .body-container .container-content{-ms-grid-column:1;-ms-grid-row:1}.control-page .page-body .body-container .container-content p:first-child{margin-top:0}.control-page .page-body .body-container .container-content p.content-lead{margin-bottom:28px}.control-page .page-body .body-container .container-content p.content-compact{margin-bottom:8px}.control-page .page-body .body-container .container-content .win-listview{margin-bottom:28px}.control-page .page-body .body-container .container-content .win-listview>.win-vertical .win-container{margin:0}.control-page .page-body .body-container .container-footer{-ms-grid-column:1;-ms-grid-row:2;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 8px auto}@media (min-width:480px){.control-page .page-body .body-container .container-footer{-ms-grid-rows:1fr 8px auto}}.control-page .page-body .body-container .container-footer .footer-content{-ms-grid-column:1;-ms-grid-row:3}.control-page .page-footer{display:-ms-grid;-ms-grid-column:2;-ms-grid-row:3;-ms-grid-rows:16px auto 4px;-ms-grid-columns:auto 1fr 12px}.control-page .page-footer .footer-icons{display:none;-ms-grid-column:1;-ms-grid-row:2}.control-page .page-footer .footer-icons .icon{display:block;width:48px;height:48px;line-height:48px;font-size:32px;text-align:center;background:0 0;border:none;padding:0;min-width:0;color:#000}html[dir=ltr] .control-page .page-footer .footer-icons .icon{margin-right:12px}html[dir=rtl] .control-page .page-footer .footer-icons .icon{margin-left:12px}@media (-ms-high-contrast){.control-page .page-footer .footer-icons .icon{color:ButtonText;background-color:ButtonFace}}.control-page .page-footer .footer-icons .icon:hover{background-color:rgba(0,0,0,.2)}@media (-ms-high-contrast){.control-page .page-footer .footer-icons .icon:hover{background-color:Highlight;color:HighlightText}}.control-page .page-footer .footer-icons .icon:active{color:#FFF;background-color:#000}@media (-ms-high-contrast){.control-page .page-footer .footer-icons .icon:active{color:ButtonFace;background-color:ButtonText}.control-page .page-footer .footer-icons .icon:focus{background-color:WindowText;color:HighlightText;border-color:Highlight}}.control-page .page-footer .footer-icons .icon:disabled{color:rgba(255,255,255,.2);background-color:transparent}@media (-ms-high-contrast){.control-page .page-footer .footer-icons .icon:disabled{color:GrayText;background-color:ButtonFace}}.control-page .page-footer .footer-buttons{margin:8px 0;-ms-grid-column:2;-ms-grid-row:2}@media (min-width:480px){.control-page .page-footer{-ms-grid-columns:auto 1fr 0}}.control-page.page_centered{-ms-grid-columns:1fr;-ms-grid-rows:1fr}.control-page.page_centered .page-body{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-columns:1fr auto 1fr;-ms-grid-rows:1fr auto 1fr}.control-page.page_centered .page-body .body-container{-ms-grid-column:2;-ms-grid-row:2;display:block}.template-buttonGroup{margin:4px 0;display:-ms-grid;-ms-grid-columns:1fr 4px 1fr}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset],html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-left:0}.template-buttonGroup.buttonGroup_fullWidth{-ms-grid-columns:1fr}.template-buttonGroup.buttonGroup_fullWidth .control-button.button_primary{-ms-grid-column:1}.template-buttonGroup .control-button{-ms-grid-column:3}.template-buttonGroup .control-button.button_primary{-ms-grid-column:1}.template-buttonGroup .control-button+.control-button{margin-top:0}.template-buttonGroup .control-button,.template-buttonGroup button,.template-buttonGroup input[type=button],.template-buttonGroup input[type=submit],.template-buttonGroup input[type=reset]{-ms-grid-row:1;margin-top:0;margin-bottom:0}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset],html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-right:0}@media (min-width:480px){.template-buttonGroup{-ms-grid-columns:1fr auto auto}.template-buttonGroup .control-button{-ms-grid-column:3}.template-buttonGroup .control-button.button_primary{-ms-grid-column:2}.template-buttonGroup .control-button,.template-buttonGroup button,.template-buttonGroup input[type=button],.template-buttonGroup input[type=submit],.template-buttonGroup input[type=reset]{width:auto;min-width:120px}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset]{margin-left:12px}html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-right:12px}}.template-tooltip{background:0 0;border:0 transparent;padding:12px 0}.template-tooltip p{margin:8px 0}.template-tooltip p:first-child{margin-top:0}.template-tooltip p:last-child{margin-bottom:0}.template-tooltip.tooltipType_error{color:#C50500}@media (-ms-high-contrast){.template-tooltip.tooltipType_error{color:GrayText}}.template-tooltip.tooltipType_success{color:rgba(0,0,0,.6)}@media (-ms-high-contrast){.template-tooltip.tooltipType_success{color:-ms-hotlight}}.template-input+.template-tooltip,.template-tooltip+.template-tooltip{padding-top:0}.template-input .template-tooltip:last-of-type{padding-bottom:0}.template-input{margin-top:12px;margin-bottom:12px}.template-input .text-captionAlt{color:rgba(0,0,0,.6)}.template-input .input-errorDialog{position:static;display:inline-block;margin-top:0;margin-bottom:0}.template-input .input-errorDialog.errorDialogType_above{margin-top:0;margin-bottom:0}.template-input.inputType_checkbox,.template-input.inputType_radio{display:-ms-grid;-ms-grid-columns:auto 1fr;padding:2px 0}.template-input.inputType_checkbox input,.template-input.inputType_radio input{-ms-grid-column:1;float:none}.template-input.inputType_checkbox input+label,.template-input.inputType_radio input+label{display:block}.template-input.inputType_checkbox label,.template-input.inputType_radio label{-ms-grid-column:2;margin-top:0;margin-bottom:0}.template-input.inputType_twoFields{display:-ms-grid;-ms-grid-rows:auto;-ms-grid-columns:1fr 12px 1fr;width:100%}.template-input.inputType_twoFields .field-one{-ms-grid-column:1}.template-input.inputType_twoFields .field-two{-ms-grid-column:3}.template-input.inputType_twoFields .template-tooltip{-ms-grid-row:3;-ms-grid-column-span:3}.template-input select{min-width:inherit;max-width:100%}.template-input label{display:block;margin-top:12px;margin-bottom:12px}.template-input label.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-input label.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-input label.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-input label.textType_maxLinesFour{max-height:80px;max-height:5rem}@media (min-width:480px){.template-input{max-width:384px}.template-input.inputType_checkbox,.template-input.inputType_radio{max-width:672px}}.template-datePicker{display:flex;height:28px;margin:0 -6px}.template-datePicker .day,.template-datePicker .month,.template-datePicker .year{margin:0 6px}.template-datePicker .month{flex:0 2 100%}.template-datePicker .day,.template-datePicker .year{flex:0 3 100%}.template-datePicker .template-input{min-width:0;width:100%}.template-datePicker .template-tooltip{display:none}.template-datePicker.inputType_checkbox{padding:2px 0}.scrollable-div:hover{background:rgba(0,0,0,.4)}.template-listViewItem{padding:8px 12px;height:auto;min-height:84px;box-sizing:border-box}.template-listViewItem .listViewItem-icon{font-size:32px}.template-listViewItem .listViewItem-text,.template-listViewItem .listViewItem-title{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.template-listViewItem .listViewItem-title{font-weight:500;margin-bottom:4px}.template-listViewItem .listViewItem-title.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-listViewItem .listViewItem-title.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-listViewItem .listViewItem-title.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-listViewItem .listViewItem-title.textType_maxLinesFour{max-height:80px;max-height:5rem}.template-listViewItem .listViewItem-text{font-weight:400}.template-listViewItem .listViewItem-text.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-listViewItem .listViewItem-text.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-listViewItem .listViewItem-text.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-listViewItem .listViewItem-text.textType_maxLinesFour{max-height:80px;max-height:5rem}progress.template-progressTop{margin-top:0;position:absolute;top:0;width:100%}.gridcol-one{-ms-grid-column:1}.gridcol-two{-ms-grid-column:3}.gridrow-one{-ms-grid-row:1}.gridrow-two{-ms-grid-row:2}.gridrow-three{-ms-grid-row:3}.gridrow-four{-ms-grid-row:4}.gridrow-five{-ms-grid-row:5}.gridcolspan-one_wide.gridcol-one{-ms-grid-column-span:2}.gridcolspan-one_wide .template-input input,.gridcolspan-one_wide .template-input select{width:100%}.gridcolspan-two{-ms-grid-column-span:3}.gridrowspan-two{-ms-grid-row-span:2}.gridrowspan-three{-ms-grid-row-span:3}.gridrowspan-four{-ms-grid-row-span:4}.gridrowspan-five{-ms-grid-row-span:5}.gridgutter{height:32px}.gridcol-one+.gridcol-two{margin-top:32px}
/*! Copyright (C) Microsoft Corporation. All rights reserved. Version 1.2.6 */.control-app .app-content,.control-chrome-bar-grid .external-title{-ms-grid-row-align:center}::selection .win-dropdown option{-ms-high-contrast-adjust:none}.icon,.template-listViewItem,.win-button{-ms-high-contrast-adjust:none}@media (-ms-high-contrast){.win-button:disabled{background-color:ButtonFace;color:GrayText}button:enabled .buttonType_themed,button:enabled .button_primary,input[type=button]:enabled .buttonType_themed,input[type=button]:enabled .button_primary,input[type=submit]:enabled .buttonType_themed,input[type=submit]:enabled .button_primary,input[type=reset]:enabled .buttonType_themed,input[type=reset]:enabled .button_primary,select:enabled .buttonType_themed,select:enabled .button_primary{border-color:WindowText}button:enabled .buttonType_themed:focus,button:enabled .buttonType_themed:hover,button:enabled .button_primary:focus,button:enabled .button_primary:hover,input[type=button]:enabled .buttonType_themed:focus,input[type=button]:enabled .buttonType_themed:hover,input[type=button]:enabled .button_primary:focus,input[type=button]:enabled .button_primary:hover,input[type=submit]:enabled .buttonType_themed:focus,input[type=submit]:enabled .buttonType_themed:hover,input[type=submit]:enabled .button_primary:focus,input[type=submit]:enabled .button_primary:hover,input[type=reset]:enabled .buttonType_themed:focus,input[type=reset]:enabled .buttonType_themed:hover,input[type=reset]:enabled .button_primary:focus,input[type=reset]:enabled .button_primary:hover,select:enabled .buttonType_themed:focus,select:enabled .buttonType_themed:hover,select:enabled .button_primary:focus,select:enabled .button_primary:hover{border-color:Highlight}.win-dropdown option:checked,.win-dropdown option:hover,select[multiple].win-dropdown option:checked,select[multiple].win-dropdown option:hover{background-color:Highlight;color:HighlightText}.win-dropdown option:active{background-color:ButtonFace;color:Highlight}.control-button:enabled:focus,.template-buttonGroup button:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:ButtonText;color:ButtonFace;border-color:Highlight}html .control-page .page-footer .footer-icons .icon:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:ButtonText;color:ButtonFace;border-color:Highlight}.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,.win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,.win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,.win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,.win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed .win-itembox,html.win-hoverable .win-itemcontainer.win-selectionstylefilled.win-container.win-pressed.win-selected .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed,html.win-hoverable .win-listview.win-selectionstylefilled .win-container .win-itembox.win-pressed.win-selected,html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed .win-itembox,html.win-hoverable .win-listview.win-selectionstylefilled .win-container.win-pressed.win-selected .win-itembox{background-color:ButtonText;color:ButtonFace}.win-textarea::-ms-input-placeholder,.win-textbox::-ms-input-placeholder{color:Graytext}.win-itemcontainer.win-selectionstylefilled.win-selected.win-pressed .win-selectionbackground,.win-listview.win-selectionstylefilled .win-selected.win-pressed .win-selectionbackground{background-color:ButtonText!important}a:focus{color:-ms-hotlight!important;outline:#fff dashed 1px}body a:hover{color:Highlight}}html[dir=rtl]{direction:rtl}img{border-style:none}form{margin:0;padding:0}legend{margin:0 0 10px;padding:0}code,pre,samp{font-family:Consolas,Menlo,Monaco,"Courier New",monospace;font-size:15px;font-weight:400;line-height:1.333}.win-button,button,button[type=submit],input[type=button],input[type=reset],input[type=submit]{padding-top:2px}input[type=radio],input[type=checkbox]{margin-top:0;margin-bottom:0}html[dir=ltr] input[type=radio],html[dir=ltr] input[type=checkbox]{margin-left:0;margin-right:8px}html[dir=rtl] input[type=radio],html[dir=rtl] input[type=checkbox]{margin-right:0;margin-left:8px}input[type=checkbox]:hover:active::-ms-check,input[type=checkbox]:not:disabled::-ms-check{color:#FFF;background-color:#ccc;border-color:#ccc}select,select:enabled{color:rgba(255,255,255,.6);border-color:rgba(255,255,255,.4);background-color:rgba(0,0,0,.4)}select:enabled:hover,select:hover{border-color:#999;background-color:rgba(0,0,0,.6)}select:active,select:enabled:active,select:enabled:focus,select:focus{border-color:#999}select::-ms-value{padding:4px 8px;margin:0}progress{height:4px}.win-dropdown{margin:0}.win-dropdown:disabled::-ms-expand{color:rgba(255,255,255,.2)}.win-dropdown::-ms-value{padding:0 12px 0 8px;margin:0}input::-ms-clear,input::-ms-reveal{width:auto;height:auto}input::-ms-clear:hover:active,input::-ms-reveal:hover:active{background-color:#0078D7}.win-textarea:focus::-ms-input-placeholder,input[type=email]:focus::-ms-input-placeholder,input[type=number]:focus::-ms-input-placeholder,input[type=password]:focus::-ms-input-placeholder,input[type=search]:focus::-ms-input-placeholder,input[type=tel]:focus::-ms-input-placeholder,input[type=text]:focus::-ms-input-placeholder,input[type=url]:focus::-ms-input-placeholder,textarea:focus::-ms-input-placeholder{color:rgba(0,0,0,.6)}progress,progress:indeterminate{color:#0078D7}.win-flyout,.win-flyout.win-ui-dark,.win-flyout.win-ui-light{margin-bottom:7px;padding-top:6px;color:#FFF;background-color:#2B2B2B;border-color:#767676}.win-flyout h4{margin-top:0;margin-bottom:4px}.win-flyout p{margin-bottom:0}.win-flyout h4+p{margin-top:0}.win-flyout.flyout_iframe{padding:0;font-size:0}.text-body,.text-body1,body,p{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.win-flyout.flyout_iframe,.win-flyout.flyout_iframe iframe{width:100%;height:100%}.win-listview{height:auto}.win-container,.win-itemscontainer{height:auto!important}@keyframes WinJS-enterContent{from{transform:translateX(40px)}to{transform:none}}@keyframes WinJS-enterContent-rtl{from{transform:translateX(-40px)}to{transform:none}}body{font-weight:400;font-family:"Segoe UI",Selawik,Tahoma,Verdana,Arial,sans-serif}a{cursor:pointer;touch-action:manipulation;color:#333}a:hover,a:hover:focus{color:#999}a:active,a:active:hover{color:#666}a:focus,a:link,a:visited{color:#0078D7}@media (-ms-high-contrast){a{color:GrayText}a:link,a:visited{color:-ms-hotlight}a:active,a:active:hover,a:focus,a:hover,a:hover:focus{color:WindowText}}.text-base,.text-body,.text-caption,.text-caption1,.text-captionAlt,.text-display1,.text-display2,.text-display3,.text-header,.text-headline,.text-subcaption,.text-subheader,.text-subtitle,.text-title,.text-title1,.text-title2,.text-title3,h1,h2,h3,h4,h5,h6,p{margin-bottom:1.25rem;margin-top:1.25rem}.text-display1,.text-headline{font-size:3.875rem;line-height:5rem;padding-bottom:.141975rem;padding-top:.141975rem;font-weight:200}.text-display1.textType_maxLinesOne,.text-headline.textType_maxLinesOne{max-height:80px;max-height:5rem}.text-display1.textType_maxLinesTwo,.text-headline.textType_maxLinesTwo{max-height:160px;max-height:10rem}.text-display1.textType_maxLinesThree,.text-headline.textType_maxLinesThree{max-height:240px;max-height:15rem}.text-display1.textType_maxLinesFour,.text-headline.textType_maxLinesFour{max-height:320px;max-height:20rem}.text-display2,.text-header,h1{font-size:2.875rem;line-height:3.5rem;padding-bottom:.210175rem;padding-top:.210175rem;font-weight:200}.text-display2.textType_maxLinesOne,.text-header.textType_maxLinesOne,h1.textType_maxLinesOne{max-height:56px;max-height:3.5rem}.text-display2.textType_maxLinesTwo,.text-header.textType_maxLinesTwo,h1.textType_maxLinesTwo{max-height:112px;max-height:7rem}.text-display2.textType_maxLinesThree,.text-header.textType_maxLinesThree,h1.textType_maxLinesThree{max-height:168px;max-height:10.5rem}.text-display2.textType_maxLinesFour,.text-header.textType_maxLinesFour,h1.textType_maxLinesFour{max-height:224px;max-height:14rem}.text-display3,.text-subheader,h2{font-size:2.125rem;line-height:2.5rem;padding-bottom:.198825rem;padding-top:.198825rem;font-weight:200}.text-title,.text-title1,.text-title2,h3{font-size:1.5rem;line-height:1.75rem;padding-bottom:.1477rem;padding-top:.1477rem}.text-display3.textType_maxLinesOne,.text-subheader.textType_maxLinesOne,h2.textType_maxLinesOne{max-height:40px;max-height:2.5rem}.text-display3.textType_maxLinesTwo,.text-subheader.textType_maxLinesTwo,h2.textType_maxLinesTwo{max-height:80px;max-height:5rem}.text-display3.textType_maxLinesThree,.text-subheader.textType_maxLinesThree,h2.textType_maxLinesThree{max-height:120px;max-height:7.5rem}.text-display3.textType_maxLinesFour,.text-subheader.textType_maxLinesFour,h2.textType_maxLinesFour{max-height:160px;max-height:10rem}.text-title,h3{font-weight:300}.text-title.textType_maxLinesOne,h3.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title.textType_maxLinesTwo,h3.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title.textType_maxLinesThree,h3.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title.textType_maxLinesFour,h3.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title1{font-weight:400}.text-title1.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title1.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title1.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title1.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-title2{font-weight:200}.text-title2.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.text-title2.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.text-title2.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.text-title2.textType_maxLinesFour{max-height:112px;max-height:7rem}.text-subtitle,.text-title3,h4{font-size:1.25rem;line-height:1.5rem;padding-bottom:.10225rem;padding-top:.10225rem;font-weight:400}.text-subtitle.textType_maxLinesOne,.text-title3.textType_maxLinesOne,h4.textType_maxLinesOne{max-height:24px;max-height:1.5rem}.text-subtitle.textType_maxLinesTwo,.text-title3.textType_maxLinesTwo,h4.textType_maxLinesTwo{max-height:48px;max-height:3rem}.text-subtitle.textType_maxLinesThree,.text-title3.textType_maxLinesThree,h4.textType_maxLinesThree{max-height:72px;max-height:4.5rem}.text-subtitle.textType_maxLinesFour,.text-title3.textType_maxLinesFour,h4.textType_maxLinesFour{max-height:96px;max-height:6rem}.text-caption,.text-caption1,h5{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.text-caption.textType_maxLinesOne,.text-caption1.textType_maxLinesOne,h5.textType_maxLinesOne{max-height:14px;max-height:.875rem}.text-caption.textType_maxLinesTwo,.text-caption1.textType_maxLinesTwo,h5.textType_maxLinesTwo{max-height:28px;max-height:1.75rem}.text-caption.textType_maxLinesThree,.text-caption1.textType_maxLinesThree,h5.textType_maxLinesThree{max-height:42px;max-height:2.625rem}.text-caption.textType_maxLinesFour,.text-caption1.textType_maxLinesFour,h5.textType_maxLinesFour{max-height:56px;max-height:3.5rem}.text-caption2,.text-captionAlt,h6{font-size:.625rem;line-height:.75rem;padding-bottom:.051125rem;padding-top:.051125rem;font-weight:400}.text-caption2.textType_maxLinesOne,.text-captionAlt.textType_maxLinesOne,h6.textType_maxLinesOne{max-height:12px;max-height:.75rem}.text-caption2.textType_maxLinesTwo,.text-captionAlt.textType_maxLinesTwo,h6.textType_maxLinesTwo{max-height:24px;max-height:1.5rem}.text-caption2.textType_maxLinesThree,.text-captionAlt.textType_maxLinesThree,h6.textType_maxLinesThree{max-height:36px;max-height:2.25rem}.text-caption2.textType_maxLinesFour,.text-captionAlt.textType_maxLinesFour,h6.textType_maxLinesFour{max-height:48px;max-height:3rem}.text-caption3,.text-subcaption{font-size:.5rem;line-height:.625rem;padding-bottom:.0284rem;padding-top:.0284rem;font-weight:400}.text-caption3.textType_maxLinesOne,.text-subcaption.textType_maxLinesOne{max-height:10px;max-height:.625rem}.text-caption3.textType_maxLinesTwo,.text-subcaption.textType_maxLinesTwo{max-height:20px;max-height:1.25rem}.text-caption3.textType_maxLinesThree,.text-subcaption.textType_maxLinesThree{max-height:30px;max-height:1.875rem}.text-caption3.textType_maxLinesFour,.text-subcaption.textType_maxLinesFour{max-height:40px;max-height:2.5rem}.text-body,.text-body1,p{font-weight:400}.text-base,.text-body2,legend{font-weight:500;font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.text-body.textType_maxLinesOne,.text-body1.textType_maxLinesOne,p.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-body.textType_maxLinesTwo,.text-body1.textType_maxLinesTwo,p.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-body.textType_maxLinesThree,.text-body1.textType_maxLinesThree,p.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-body.textType_maxLinesFour,.text-body1.textType_maxLinesFour,p.textType_maxLinesFour{max-height:80px;max-height:5rem}.text-base.textType_maxLinesOne,.text-body2.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.text-base.textType_maxLinesTwo,.text-body2.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.text-base.textType_maxLinesThree,.text-body2.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.text-base.textType_maxLinesFour,.text-body2.textType_maxLinesFour{max-height:80px;max-height:5rem}[class*=textType_maxLines]{overflow:hidden}a,a:link,a:visited{text-decoration:underline;color:rgba(255,255,255,.6)}a:hover,a:link:hover,a:visited:hover{color:rgba(255,255,255,.5)}a:active,a:link:active,a:visited:active{color:rgba(255,255,255,.4)}li,p{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem;font-weight:400;max-width:672px}.action-link{font-size:.8125rem;line-height:.875rem;padding-bottom:.1164625rem;padding-top:.1164625rem;font-weight:400}.secondaryText{color:rgba(255,255,255,.6)}.icon{font-family:"Segoe MDL2 Assets"}.icon-win-easeOfAccess:before{content:"\E776"}.icon-win-keyboardStandard:before{content:"\E765";transform:translatex(1px)}.template-legend-icon{width:20px;height:20px}html[dir=ltr] .template-legend-icon{padding-right:8px;float:left}html[dir=rtl] .template-legend-icon{padding-left:8px;float:right}fieldset{margin:4px 0;padding:0;border:none}fieldset:last-child{margin-bottom:0}fieldset p{margin:16px 0}legend{margin-bottom:12px;max-width:100%;color:#FFF}@media (-ms-high-contrast){legend{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}}.control-button,button,input[type=button],input[type=submit],input[type=reset]{height:32px;font:inherit;line-height:22px;margin:0;overflow:hidden;color:#FFF}@media (-ms-high-contrast){.control-button,button,input[type=button],input[type=submit],input[type=reset]{background-color:ButtonFace;color:ButtonText;border-color:ButtonText}.control-button:enabled:hover,button:enabled:hover,input[type=button]:enabled:hover,input[type=submit]:enabled:hover,input[type=reset]:enabled:hover{background-color:Highlight;color:HighlightText}.control-button:enabled:active,button:enabled:active,input[type=button]:enabled:active,input[type=submit]:enabled:active,input[type=reset]:enabled:active{background-color:ButtonText;color:ButtonFace}.control-button:enabled:focus,button:enabled:focus,input[type=button]:enabled:focus,input[type=submit]:enabled:focus,input[type=reset]:enabled:focus{background-color:WindowText;color:HighlightText;border-color:Highlight}input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select{border-color:ButtonText}}a.control-button:link,a.control-button:visited{color:#FFF}input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select{width:100%;margin-top:0;margin-bottom:0}input[type=color]:disabled,input[type=date]:disabled,input[type=datetime]:disabled,input[type=datetime-local]:disabled,input[type=email]:disabled,input[type=month]:disabled,input[type=number]:disabled,input[type=password]:disabled,input[type=search]:disabled,input[type=tel]:disabled,input[type=text]:disabled,input[type=time]:disabled,input[type=url]:disabled,input[type=week]:disabled,select:disabled{border-color:rgba(255,255,255,.2)!important;background-color:rgba(204,204,204,.2)!important;color:rgba(255,255,255,.2)!important}:disabled+label{color:rgba(255,255,255,.2)!important}@media (-ms-high-contrast){:disabled+label{color:GrayText}}:disabled::-ms-input-placeholder{color:rgba(255,255,255,.2)!important}.control-progress{padding:32px 0 36px;text-align:center;color:#FFF}.control-progress progress{margin:0 auto}.control-progress progress.win-ring.win-large{color:#FFF;width:64px;height:64px}.control-progress h4{margin:16px 0 0}.control-actionLinks{margin:0;padding:0;list-style:none}.control-actionLinks li{margin:12px 0 0;padding:.0141875rem 0;font-size:.9375rem;line-height:1.25rem;font-weight:400}.control-chrome-bar-grid{display:-ms-grid;-ms-grid-column:1;-ms-grid-column-span:2;-ms-grid-row:3;-ms-grid-columns:8px 1fr 8px;-ms-grid-rows:8px auto 8px}.control-chrome-bar-grid .chrome-bar-buttons{margin:0;-ms-grid-column:2;-ms-grid-row:2}.removeFromDisplay{display:none}body,html{height:100%;-moz-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;-html-user-select:none;-ms-user-select:none}html{overflow:auto}.control-app{display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr auto;height:100%;overflow:hidden}.control-page,.control-page .page-body{overflow-x:hidden;overflow-y:auto;display:-ms-grid}.control-app>.control-progress{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}.control-app .app-content{-ms-grid-column:1;-ms-grid-row:2;height:100%;width:100%;min-width:320px;max-width:1024px;max-height:864px;margin:0 auto;position:relative}.control-page{-ms-grid-columns:12px 1fr;height:100%;width:100%;position:absolute;top:0;-ms-grid-rows:0 1fr auto 4px}.control-page .page-body{-ms-grid-row:2;max-height:752px;-ms-grid-column:1;-ms-grid-column-span:3;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr;padding:0 12px}.control-page .page-body .body-header{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-row-align:end;display:-ms-grid;-ms-grid-columns:1fr auto;-ms-grid-rows:1fr;margin:0 -12px 12px;padding:8px 12px;background-color:#1F1F1F}.control-page .page-body .body-header h1,.control-page .page-body .body-header h2,.control-page .page-body .body-header h3,.control-page .page-body .body-header h4,.control-page .page-body .body-header h5{-ms-grid-column:1;-ms-grid-row:1;margin:0;-ms-grid-row-align:center;font-size:1.5rem;line-height:1.75rem;padding-bottom:.1477rem;padding-top:.1477rem;font-weight:300;color:#FFF;transform:translateY(-3px)}.control-page .page-body .body-header h1.textType_maxLinesOne,.control-page .page-body .body-header h2.textType_maxLinesOne,.control-page .page-body .body-header h3.textType_maxLinesOne,.control-page .page-body .body-header h4.textType_maxLinesOne,.control-page .page-body .body-header h5.textType_maxLinesOne{max-height:28px;max-height:1.75rem}.control-page .page-body .body-header h1.textType_maxLinesTwo,.control-page .page-body .body-header h2.textType_maxLinesTwo,.control-page .page-body .body-header h3.textType_maxLinesTwo,.control-page .page-body .body-header h4.textType_maxLinesTwo,.control-page .page-body .body-header h5.textType_maxLinesTwo{max-height:56px;max-height:3.5rem}.control-page .page-body .body-header h1.textType_maxLinesThree,.control-page .page-body .body-header h2.textType_maxLinesThree,.control-page .page-body .body-header h3.textType_maxLinesThree,.control-page .page-body .body-header h4.textType_maxLinesThree,.control-page .page-body .body-header h5.textType_maxLinesThree{max-height:84px;max-height:5.25rem}.control-page .page-body .body-header h1.textType_maxLinesFour,.control-page .page-body .body-header h2.textType_maxLinesFour,.control-page .page-body .body-header h3.textType_maxLinesFour,.control-page .page-body .body-header h4.textType_maxLinesFour,.control-page .page-body .body-header h5.textType_maxLinesFour{max-height:112px;max-height:7rem}.control-page .page-body .body-header .img-brand{-ms-grid-column:2;-ms-grid-column-align:end;-ms-grid-row:1;-ms-grid-row-align:center;height:80px;display:none}.control-page .page-body .body-container{-ms-grid-column:1;-ms-grid-row:2;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 1fr}.control-page .page-body .body-container .container-content{-ms-grid-column:1;-ms-grid-row:1}.control-page .page-body .body-container .container-content p:first-child{margin-top:0}.control-page .page-body .body-container .container-content p.content-lead{margin-bottom:28px}.control-page .page-body .body-container .container-content p.content-compact{margin-bottom:8px}.control-page .page-body .body-container .container-content .win-listview{margin-bottom:28px}.control-page .page-body .body-container .container-content .win-listview>.win-vertical .win-container{margin:0}.control-page .page-body .body-container .container-footer{-ms-grid-column:1;-ms-grid-row:2;display:-ms-grid;-ms-grid-columns:1fr;-ms-grid-rows:auto 8px auto}.control-page .page-body .body-container .container-footer .footer-content,.control-page .page-footer{-ms-grid-column:1;-ms-grid-row:3}.control-page .page-footer{display:-ms-grid;-ms-grid-column-span:2;-ms-grid-columns:8px 1fr 8px;-ms-grid-rows:8px auto 8px}.control-page .page-footer .footer-icons{display:none}.control-page .page-footer .footer-buttons{margin:0;-ms-grid-column:2;-ms-grid-row:2}.control-page.page_centered{-ms-grid-columns:1fr;-ms-grid-rows:1fr}.control-page.page_centered .page-body{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-columns:1fr auto 1fr;-ms-grid-rows:1fr auto 1fr}.control-page.page_centered .page-body .body-container{-ms-grid-column:2;-ms-grid-row:2;display:block}.template-buttonGroup{margin:4px 0;display:-ms-grid;-ms-grid-columns:1fr 4px 1fr}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset],html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-left:0}.template-buttonGroup.buttonGroup_fullWidth{-ms-grid-columns:1fr}.template-buttonGroup.buttonGroup_fullWidth .control-button.button_primary{-ms-grid-column:1}.template-buttonGroup .control-button{-ms-grid-column:3}.template-buttonGroup .control-button.button_primary{-ms-grid-column:1}.template-buttonGroup .control-button+.control-button{margin-top:0}.template-buttonGroup .control-button,.template-buttonGroup button,.template-buttonGroup input[type=button],.template-buttonGroup input[type=submit],.template-buttonGroup input[type=reset]{-ms-grid-row:1;margin-top:0;margin-bottom:0}html[dir=ltr] .template-buttonGroup .control-button,html[dir=ltr] .template-buttonGroup button,html[dir=ltr] .template-buttonGroup input[type=button],html[dir=ltr] .template-buttonGroup input[type=submit],html[dir=ltr] .template-buttonGroup input[type=reset],html[dir=rtl] .template-buttonGroup .control-button,html[dir=rtl] .template-buttonGroup button,html[dir=rtl] .template-buttonGroup input[type=button],html[dir=rtl] .template-buttonGroup input[type=submit],html[dir=rtl] .template-buttonGroup input[type=reset]{margin-right:0}.template-tooltip{background:0 0;border:0 transparent;padding:12px 0}.template-tooltip p{margin:8px 0}.template-tooltip p:first-child{margin-top:0}.template-tooltip p:last-child{margin-bottom:0}.template-tooltip.tooltipType_error{color:#FF0}@media (-ms-high-contrast){.template-tooltip.tooltipType_error{color:GrayText}}.template-tooltip.tooltipType_success{color:rgba(255,255,255,.6)}@media (-ms-high-contrast){.template-tooltip.tooltipType_success{color:-ms-hotlight}}.template-input+.template-tooltip,.template-tooltip+.template-tooltip{padding-top:0}.template-input .template-tooltip:last-of-type{padding-bottom:0}.template-input{margin-top:12px;margin-bottom:12px}.template-input .text-captionAlt{color:rgba(255,255,255,.6)}.template-input .input-errorDialog{position:static;display:inline-block;margin-top:0;margin-bottom:0}.template-input .input-errorDialog.errorDialogType_above{margin-top:0;margin-bottom:0}.template-input.inputType_checkbox,.template-input.inputType_radio{display:-ms-grid;-ms-grid-columns:auto 1fr;padding:2px 0}.template-input.inputType_checkbox input,.template-input.inputType_radio input{-ms-grid-column:1;float:none}.template-input.inputType_checkbox input+label,.template-input.inputType_radio input+label{display:block}.template-input.inputType_checkbox label,.template-input.inputType_radio label{-ms-grid-column:2;margin-top:0;margin-bottom:0}.template-input.inputType_twoFields{display:-ms-grid;-ms-grid-rows:auto;-ms-grid-columns:1fr 12px 1fr;width:100%}.template-input.inputType_twoFields .field-one{-ms-grid-column:1}.template-input.inputType_twoFields .field-two{-ms-grid-column:3}.template-input.inputType_twoFields .template-tooltip{-ms-grid-row:3;-ms-grid-column-span:3}.template-input select{min-width:inherit;max-width:100%}.template-input label{display:block;margin-top:12px;margin-bottom:12px}.template-input label.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-input label.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-input label.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-input label.textType_maxLinesFour{max-height:80px;max-height:5rem}.template-datePicker{display:flex;height:28px;margin:0 -6px}.template-datePicker .day,.template-datePicker .month,.template-datePicker .year{margin:0 6px}.template-datePicker .month{flex:0 2 100%}.template-datePicker .day,.template-datePicker .year{flex:0 3 100%}.template-datePicker .template-input{min-width:0;width:100%}.template-datePicker .template-tooltip{display:none}.template-datePicker.inputType_checkbox{padding:2px 0}.scrollable-div:hover{background:rgba(0,0,0,.4)}.template-listViewItem{padding:8px 12px;height:auto;min-height:84px;box-sizing:border-box}.template-listViewItem .listViewItem-icon{font-size:32px}.template-listViewItem .listViewItem-text,.template-listViewItem .listViewItem-title{font-size:.9375rem;line-height:1.25rem;padding-bottom:.0141875rem;padding-top:.0141875rem}.template-listViewItem .listViewItem-title{font-weight:500;margin-bottom:4px}.template-listViewItem .listViewItem-title.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-listViewItem .listViewItem-title.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-listViewItem .listViewItem-title.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-listViewItem .listViewItem-title.textType_maxLinesFour{max-height:80px;max-height:5rem}.template-listViewItem .listViewItem-text{font-weight:400}.template-listViewItem .listViewItem-text.textType_maxLinesOne{max-height:20px;max-height:1.25rem}.template-listViewItem .listViewItem-text.textType_maxLinesTwo{max-height:40px;max-height:2.5rem}.template-listViewItem .listViewItem-text.textType_maxLinesThree{max-height:60px;max-height:3.75rem}.template-listViewItem .listViewItem-text.textType_maxLinesFour{max-height:80px;max-height:5rem}progress.template-progressTop{margin-top:0;position:absolute;top:0;width:100%}.gridcol-one{-ms-grid-column:1}.gridcol-two{-ms-grid-column:3}.gridrow-one{-ms-grid-row:1}.gridrow-two{-ms-grid-row:2}.gridrow-three{-ms-grid-row:3}.gridrow-four{-ms-grid-row:4}.gridrow-five{-ms-grid-row:5}.gridcolspan-one_wide.gridcol-one{-ms-grid-column-span:2}.gridcolspan-one_wide .template-input input,.gridcolspan-one_wide .template-input select{width:100%}.gridcolspan-two{-ms-grid-column-span:3}.gridrowspan-two{-ms-grid-row-span:2}.gridrowspan-three{-ms-grid-row-span:3}.gridrowspan-four{-ms-grid-row-span:4}.gridrowspan-five{-ms-grid-row-span:5}.gridgutter{height:32px}.gridcol-one+.gridcol-two{margin-top:32px}
    .template-input.inputType_checkbox, .template-input.inputType_radio {
        .template-input.inputType_checkbox input, .template-input.inputType_radio input {
            .template-input.inputType_checkbox input + label, .template-input.inputType_radio input + label {
        .template-input.inputType_checkbox label, .template-input.inputType_radio label {
    .template-input.inputType_twoFields {
        .template-input.inputType_twoFields .field-one {
        .template-input.inputType_twoFields .field-two {
        .template-input.inputType_twoFields .template-tooltip {
    .template-datePicker.inputType_checkbox {
    .template-input.inputType_checkbox, .template-input.inputType_radio {
        .template-input.inputType_checkbox input, .template-input.inputType_radio input {
            .template-input.inputType_checkbox input + label, .template-input.inputType_radio input + label {
        .template-input.inputType_checkbox label, .template-input.inputType_radio label {
    .template-input.inputType_twoFields {
        .template-input.inputType_twoFields .field-one {
        .template-input.inputType_twoFields .field-two {
        .template-input.inputType_twoFields .template-tooltip {
    .template-datePicker.inputType_checkbox {
        var FIELDCLASS = { text: 'inputType_text', email: 'inputType_email', select: 'inputType_select' };
                                parentElement.classList.add('inputType_checkbox');
",c._LISTVIEW_PROGRESS_DELAY=2e3;var d={uninitialized:0,low:1,medium:2,high:3},e={rebuild:0,remeasure:1,relayout:2,realize:3};c._ScrollToPriority=d,c._ViewChange=e,b.Namespace._moduleDefine(a,"WinJS.UI",c)}),d("WinJS/Controls/ItemContainer/_ItemEventsHandler",["exports","../../Core/_Global","../../Core/_WinRT","../../Core/_Base","../../Core/_BaseUtils","../../Core/_WriteProfilerMark","../../Animations","../../Animations/_TransitionAnimation","../../Promise","../../Utilities/_ElementUtilities","../../Utilities/_UI","./_Constants"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=e._browserStyleEquivalents.transform;d.Namespace._moduleDefine(a,"WinJS.UI",{_ItemEventsHandler:d.Namespace._lazy(function(){function a(a,c){var d=b.document.createElement("div");return d.className=a,c||d.setAttribute("aria-hidden",!0),d}var g=j._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",h=d.Class.define(function(a){this._site=a,this._work=[],this._animations={}},{dispose:function(){this._disposed||(this._disposed=!0,j._removeEventListener(b,"pointerup",this._resetPointerDownStateBound),j._removeEventListener(b,"pointercancel",this._resetPointerDownStateBound))},onPointerDown:function(a){f("WinJS.UI._ItemEventsHandler:MSPointerDown,StartTM");var d,h,i=this._site,m=a.pointerType===g;if(i.pressedElement=a.target,c.Windows.UI.Input.PointerPoint){var n=this._getCurrentPoint(a),o=n.properties;m||o.isInverted||o.isEraser||o.isMiddleButtonPressed?d=h=!1:(h=o.isRightButtonPressed,d=!h&&o.isLeftButtonPressed)}else d=a.button===l._LEFT_MSPOINTER_BUTTON,h=a.button===l._RIGHT_MSPOINTER_BUTTON;this._DragStartBound=this._DragStartBound||this.onDragStart.bind(this),this._PointerEnterBound=this._PointerEnterBound||this.onPointerEnter.bind(this),this._PointerLeaveBound=this._PointerLeaveBound||this.onPointerLeave.bind(this);var p=this._isInteractive(a.target),q=i.indexForItemElement(a.target),r=i.indexForHeaderElement(a.target),s=!p&&q!==l._INVALID_INDEX;if((m||d)&&this._site.pressedEntity.index===l._INVALID_INDEX&&!p&&(r===l._INVALID_INDEX?this._site.pressedEntity={type:k.ObjectType.item,index:q}:this._site.pressedEntity={type:k.ObjectType.groupHeader,index:r},this._site.pressedEntity.index!==l._INVALID_INDEX)){this._site.pressedPosition=j._getCursorPos(a);var t=i.verifySelectionAllowed(this._site.pressedEntity);this._canSelect=t.canSelect,this._canTapSelect=t.canTapSelect,this._site.pressedEntity.type===k.ObjectType.item?(this._site.pressedItemBox=i.itemBoxAtIndex(this._site.pressedEntity.index),this._site.pressedContainer=i.containerAtIndex(this._site.pressedEntity.index),this._site.animatedElement=this._site.pressedContainer,this._site.pressedHeader=null,this._togglePressed(!0,a),this._site.pressedContainer.addEventListener("dragstart",this._DragStartBound),m||(j._addEventListener(this._site.pressedContainer,"pointerenter",this._PointerEnterBound,!1),j._addEventListener(this._site.pressedContainer,"pointerleave",this._PointerLeaveBound,!1))):(this._site.pressedHeader=this._site.headerFromElement(a.target),e.isPhone?(this._site.animatedElement=this._site.pressedHeader,this._togglePressed(!0,a)):(this._site.pressedItemBox=null,this._site.pressedContainer=null,this._site.animatedElement=null)),this._resetPointerDownStateBound||(this._resetPointerDownStateBound=this._resetPointerDownStateForPointerId.bind(this)),m||(j._addEventListener(b,"pointerup",this._resetPointerDownStateBound,!1),j._addEventListener(b,"pointercancel",this._resetPointerDownStateBound,!1)),this._pointerId=a.pointerId,this._pointerRightButton=h}if(s&&m)try{j._setPointerCapture(i.canvasProxy,a.pointerId)}catch(a){return void f("WinJS.UI._ItemEventsHandler:MSPointerDown,StopTM")}this._site.pressedEntity.type===k.ObjectType.item&&this._selectionAllowed()&&this._multiSelection()&&this._site.pressedEntity.index!==l._INVALID_INDEX&&i.selection._getFocused().index!==l._INVALID_INDEX&&i.selection._pivot===l._INVALID_INDEX&&(i.selection._pivot=i.selection._getFocused().index),f("WinJS.UI._ItemEventsHandler:MSPointerDown,StopTM")},onPointerEnter:function(a){this._site.pressedContainer&&this._pointerId===a.pointerId&&this._togglePressed(!0,a)},onPointerLeave:function(a){this._site.pressedContainer&&this._pointerId===a.pointerId&&this._togglePressed(!1,a)},onDragStart:function(){this._resetPressedContainer()},_resetPressedContainer:function(){(this._site.pressedContainer||this._site.pressedHeader)&&this._site.animatedElement&&(this._togglePressed(!1),this._site.pressedContainer&&(this._site.pressedContainer.style[m.scriptName]="",this._site.pressedContainer.removeEventListener("dragstart",this._DragStartBound),j._removeEventListener(this._site.pressedContainer,"pointerenter",this._PointerEnterBound,!1),j._removeEventListener(this._site.pressedContainer,"pointerleave",this._PointerLeaveBound,!1)))},onClick:function(a){if(!this._skipClick){var b={type:k.ObjectType.item,index:this._site.indexForItemElement(a.target)};if(b.index===l._INVALID_INDEX&&(b.index=this._site.indexForHeaderElement(a.target),b.index!==l._INVALID_INDEX&&(b.type=k.ObjectType.groupHeader)),b.index!==l._INVALID_INDEX&&(j.hasClass(a.target,this._site.accessibleItemClass)||j.hasClass(a.target,l._headerClass))){this._site.verifySelectionAllowed(b).canTapSelect&&this.handleTap(b),this._site.fireInvokeEvent(b,a.target)}}},onPointerUp:function(a){f("WinJS.UI._ItemEventsHandler:MSPointerUp,StartTM");var b=this._site;this._skipClick=!0;var c=this;e._yieldForEvents(function(){c._skipClick=!1});try{j._releasePointerCapture(b.canvasProxy,a.pointerId)}catch(a){}var d=a.pointerType===g,h=this._releasedElement(a),i=b.indexForItemElement(h),m=h&&j.hasClass(h,l._headerContainerClass)?b.indexForHeaderElement(b.pressedHeader):b.indexForHeaderElement(h);if(this._pointerId===a.pointerId){var n;if(n=m===l._INVALID_INDEX?{type:k.ObjectType.item,index:i}:{type:k.ObjectType.groupHeader,index:m},this._resetPressedContainer(),this._site.pressedEntity.type===k.ObjectType.item&&n.type===k.ObjectType.item&&this._site.pressedContainer&&this._site.pressedEntity.index===n.index)if(a.shiftKey||(b.selection._pivot=l._INVALID_INDEX),a.shiftKey){if(this._selectionAllowed()&&this._multiSelection()&&b.selection._pivot!==l._INVALID_INDEX){var o=Math.min(this._site.pressedEntity.index,b.selection._pivot),p=Math.max(this._site.pressedEntity.index,b.selection._pivot),q=this._pointerRightButton||a.ctrlKey||b.tapBehavior===k.TapBehavior.toggleSelect;b.selectRange(o,p,q)}}else a.ctrlKey&&this.toggleSelectionIfAllowed(this._site.pressedEntity.index);if(this._site.pressedHeader||this._site.pressedContainer){var r=j._getCursorPos(a),s=Math.abs(r.left-this._site.pressedPosition.left)<=l._TAP_END_THRESHOLD&&Math.abs(r.top-this._site.pressedPosition.top)<=l._TAP_END_THRESHOLD;this._pointerRightButton||a.ctrlKey||a.shiftKey||!(d&&s||!d&&this._site.pressedEntity.index===n.index&&this._site.pressedEntity.type===n.type)||(n.type===k.ObjectType.groupHeader?(this._site.pressedHeader=b.headerAtIndex(n.index),this._site.pressedItemBox=null,this._site.pressedContainer=null):(this._site.pressedItemBox=b.itemBoxAtIndex(n.index),this._site.pressedContainer=b.containerAtIndex(n.index),this._site.pressedHeader=null),this._canTapSelect&&this.handleTap(this._site.pressedEntity),this._site.fireInvokeEvent(this._site.pressedEntity,this._site.pressedItemBox||this._site.pressedHeader))}this._site.pressedEntity.index!==l._INVALID_INDEX&&b.changeFocus(this._site.pressedEntity,!0,!1,!0),this.resetPointerDownState()}f("WinJS.UI._ItemEventsHandler:MSPointerUp,StopTM")},onPointerCancel:function(a){this._pointerId===a.pointerId&&(f("WinJS.UI._ItemEventsHandler:MSPointerCancel,info"),this.resetPointerDownState())},onLostPointerCapture:function(a){this._pointerId===a.pointerId&&(f("WinJS.UI._ItemEventsHandler:MSLostPointerCapture,info"),this.resetPointerDownState())},onContextMenu:function(a){this._shouldSuppressContextMenu(a.target)&&a.preventDefault()},onMSHoldVisual:function(a){this._shouldSuppressContextMenu(a.target)&&a.preventDefault()},onDataChanged:function(){this.resetPointerDownState()},toggleSelectionIfAllowed:function(a){this._selectionAllowed(a)&&this._toggleItemSelection(a)},handleTap:function(a){if(a.type!==k.ObjectType.groupHeader){var b=this._site,c=b.selection;this._selectionAllowed(a.index)&&this._selectOnTap()&&(b.tapBehavior===k.TapBehavior.toggleSelect?this._toggleItemSelection(a.index):b.selectionMode!==k.SelectionMode.multi&&c._isIncluded(a.index)||c.set(a.index))}},_toggleItemSelection:function(a){var b=this._site,c=b.selection,d=c._isIncluded(a);b.selectionMode===k.SelectionMode.single?d?c.clear():c.set(a):d?c.remove(a):c.add(a)},_getCurrentPoint:function(a){return c.Windows.UI.Input.PointerPoint.getCurrentPoint(a.pointerId)},_containedInElementWithClass:function(a,b){if(a.parentNode)for(var c=a.parentNode.querySelectorAll("."+b+", ."+b+" *"),d=0,e=c.length;d<e;d++)if(c[d]===a)return!0;return!1},_isSelected:function(a){return this._site.selection._isIncluded(a)},_isInteractive:function(a){return this._containedInElementWithClass(a,"win-interactive")},_shouldSuppressContextMenu:function(a){var b=this._site.containerFromElement(a);return this._selectionAllowed()&&b&&!this._isInteractive(a)},_togglePressed:function(a,b){var c=this._site.pressedEntity.type===k.ObjectType.groupHeader;!c&&j.hasClass(this._site.pressedItemBox,l._nonSelectableClass)||this._staticMode(c)||(a?j.addClass(this._site.animatedElement,l._pressedClass):j.removeClass(this._site.animatedElement,l._pressedClass))},_resetPointerDownStateForPointerId:function(a){this._pointerId===a.pointerId&&this.resetPointerDownState()},resetPointerDownState:function(){this._site.pressedElement=null,this._resetPointerDownStateBound&&(j._removeEventListener(b,"pointerup",this._resetPointerDownStateBound),j._removeEventListener(b,"pointercancel",this._resetPointerDownStateBound)),this._resetPressedContainer(),this._site.pressedContainer=null,this._site.animatedElement=null,this._site.pressedHeader=null,this._site.pressedItemBox=null,this._site.pressedEntity={type:k.ObjectType.item,index:l._INVALID_INDEX},this._pointerId=null},_releasedElement:function(a){return b.document.elementFromPoint(a.clientX,a.clientY)},_applyUIInBatches:function(a){function b(){c._work.length>0?(c._flushUIBatches(),c._paintedThisFrame=e._requestAnimationFrame(b.bind(c))):c._paintedThisFrame=null}var c=this;this._work.push(a),this._paintedThisFrame||b()},_flushUIBatches:function(){if(this._work.length>0){var a=this._work;this._work=[];for(var b=0;b<a.length;b++)a[b]()}},_selectionAllowed:function(a){var b=void 0!==a?this._site.itemAtIndex(a):null;return!(b&&j.hasClass(b,l._nonSelectableClass))&&this._site.selectionMode!==k.SelectionMode.none},_multiSelection:function(){return this._site.selectionMode===k.SelectionMode.multi},_selectOnTap:function(){return this._site.tapBehavior===k.TapBehavior.toggleSelect||this._site.tapBehavior===k.TapBehavior.directSelect},_staticMode:function(a){return a?this._site.headerTapBehavior===k.GroupHeaderTapBehavior.none:this._site.tapBehavior===k.TapBehavior.none&&this._site.selectionMode===k.SelectionMode.none}},{setAriaSelected:function(a,b){b!==("true"===a.getAttribute("aria-selected"))&&a.setAttribute("aria-selected",b)},renderSelection:function(b,c,d,e,f){if(!h._selectionTemplate){h._selectionTemplate=[],h._selectionTemplate.push(a(l._selectionBackgroundClass)),h._selectionTemplate.push(a(l._selectionBorderClass)),h._selectionTemplate.push(a(l._selectionCheckmarkBackgroundClass));var g=a(l._selectionCheckmarkClass);g.textContent=l._SELECTION_CHECKMARK,h._selectionTemplate.push(g)}if(d!==j._isSelectionRendered(b)){if(d){b.insertBefore(h._selectionTemplate[0].cloneNode(!0),b.firstElementChild);for(var i=1,k=h._selectionTemplate.length;i<k;i++)b.appendChild(h._selectionTemplate[i].cloneNode(!0))}else for(var m=b.querySelectorAll(j._selectionPartsSelector),i=0,k=m.length;i<k;i++)b.removeChild(m[i]);j[d?"addClass":"removeClass"](b,l._selectedClass),f&&j[d?"addClass":"removeClass"](f,l._selectedClass)}e&&h.setAriaSelected(c,d)}});return h})})}),d("WinJS/Controls/ListView/_SelectionManager",["exports","../../Core/_Global","../../Core/_Base","../../Promise","../../_Signal","../../Utilities/_UI","../ItemContainer/_Constants"],function(a,b,c,d,e,f,g){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{_ItemSet:c.Namespace._lazy(function(){var b=c.Class.define(function(a,b,c){this._listView=a,this._ranges=b,this._itemsCount=c});return b.prototype={getRanges:function(){for(var a=[],b=0,c=this._ranges.length;b<c;b++){var d=this._ranges[b];a.push({firstIndex:d.firstIndex,lastIndex:d.lastIndex,firstKey:d.firstKey,lastKey:d.lastKey})}return a},getItems:function(){return a.getItemsFromRanges(this._listView._itemsManager.dataSource,this._ranges)},isEverything:function(){return this.count()===this._itemsCount},count:function(){for(var a=0,b=0,c=this._ranges.length;b<c;b++){var d=this._ranges[b];a+=d.lastIndex-d.firstIndex+1}return a},getIndices:function(){for(var a=[],b=0,c=this._ranges.length;b<c;b++)for(var d=this._ranges[b],e=d.firstIndex;e<=d.lastIndex;e++)a.push(e);return a}},b}),getItemsFromRanges:function(a,b){function c(){for(var a=[],c=0,e=b.length;c<e;c++)for(var f=b[c],g=f.firstIndex;g<=f.lastIndex;g++)a.push(g);return d.wrap(a)}var e=a.createListBinding(),f=[];return c().then(function(a){for(var b=0;b<a.length;b++)f.push(e.fromIndex(a[b]));return d.join(f).then(function(a){return e.release(),a})})},_Selection:c.Namespace._lazy(function(){function b(a){return a&&0===a.firstIndex&&a.lastIndex===Number.MAX_VALUE}return c.Class.derive(a._ItemSet,function(a,b){this._listView=a,this._itemsCount=-1,this._ranges=[],b&&this.set(b)},{clear:function(){return this._releaseRanges(this._ranges),this._ranges=[],d.wrap()},set:function(a){if(b(a))return this.selectAll();this._releaseRanges(this._ranges),this._ranges=[];var c=this;return this._execute("_set",a).then(function(){return c._ranges.sort(function(a,b){return a.firstIndex-b.firstIndex}),c._ensureKeys()}).then(function(){return c._ensureCount()})},add:function(a){if(b(a))return this.selectAll();var c=this;return this._execute("_add",a).then(function(){return c._ensureKeys()}).then(function(){return c._ensureCount()})},remove:function(a){var b=this;return this._execute("_remove",a).then(function(){return b._ensureKeys()})},selectAll:function(){var a=this;return a._ensureCount().then(function(){if(a._itemsCount){var b={firstIndex:0,lastIndex:a._itemsCount-1};return a._retainRange(b),a._releaseRanges(a._ranges),a._ranges=[b],a._ensureKeys()}})},_execute:function(a,b){function c(a,b,c){var d={};return d["first"+a]=b,d["last"+a]=c,d}function e(b){var c=f._getListBinding(),e=d.join([c.fromKey(b.firstKey),c.fromKey(b.lastKey)]).then(function(c){return c[0]&&c[1]&&(b.firstIndex=c[0].index,b.lastIndex=c[1].index,f[a](b)),b});i.push(e)}for(var f=this,g=!!f._getListBinding().fromKey,h=Array.isArray(b)?b:[b],i=[d.wrap()],j=0,k=h.length;j<k;j++){var l=h[j];"number"==typeof l?this[a](c("Index",l,l)):l&&(g&&void 0!==l.key?e(c("Key",l.key,l.key)):g&&void 0!==l.firstKey&&void 0!==l.lastKey?e(c("Key",l.firstKey,l.lastKey)):void 0!==l.index&&"number"==typeof l.index?this[a](c("Index",l.index,l.index)):void 0!==l.firstIndex&&void 0!==l.lastIndex&&"number"==typeof l.firstIndex&&"number"==typeof l.lastIndex&&this[a](c("Index",l.firstIndex,l.lastIndex)))}return d.join(i)},_set:function(a){this._retainRange(a),this._ranges.push(a)},_add:function(a){for(var b,c,d,e=this,f=null,g=function(a,b){b.lastIndex>a.lastIndex&&(a.lastIndex=b.lastIndex,a.lastKey=b.lastKey,a.lastPromise&&a.lastPromise.release(),a.lastPromise=e._getListBinding().fromIndex(a.lastIndex).retain())},h=0,i=this._ranges.length;h<i;h++){if(b=this._ranges[h],a.firstIndex<b.firstIndex){d=f&&a.firstIndex<f.lastIndex+1,d?(c=h-1,g(f,a)):(this._insertRange(h,a),c=h);break}if(a.firstIndex===b.firstIndex){g(b,a),c=h;break}f=b}if(void 0===c){var j=this._ranges.length?this._ranges[this._ranges.length-1]:null;j&&a.firstIndex<j.lastIndex+1?g(j,a):(this._retainRange(a),this._ranges.push(a))}else{for(f=null,h=c+1,i=this._ranges.length;h<i;h++){if(b=this._ranges[h],a.lastIndex<b.firstIndex){d=f&&f.lastIndex>a.lastIndex,d&&g(this._ranges[c],f),this._removeRanges(c+1,h-c-1);break}if(a.lastIndex===b.firstIndex){g(this._ranges[c],b),this._removeRanges(c+1,h-c);break}f=b}h>=i&&(g(this._ranges[c],this._ranges[i-1]),this._removeRanges(c+1,i-c-1))}},_remove:function(a){function b(a){return c._getListBinding().fromIndex(a).retain()}for(var c=this,d=[],e=0,f=this._ranges.length;e<f;e++){var g=this._ranges[e];g.lastIndex<a.firstIndex||g.firstIndex>a.lastIndex?d.push(g):g.firstIndex<a.firstIndex&&g.lastIndex>=a.firstIndex&&g.lastIndex<=a.lastIndex?(d.push({firstIndex:g.firstIndex,firstKey:g.firstKey,firstPromise:g.firstPromise,lastIndex:a.firstIndex-1,lastPromise:b(a.firstIndex-1)}),g.lastPromise.release()):g.lastIndex>a.lastIndex&&g.firstIndex>=a.firstIndex&&g.firstIndex<=a.lastIndex?(d.push({firstIndex:a.lastIndex+1,firstPromise:b(a.lastIndex+1),lastIndex:g.lastIndex,lastKey:g.lastKey,lastPromise:g.lastPromise}),g.firstPromise.release()):g.firstIndex<a.firstIndex&&g.lastIndex>a.lastIndex?(d.push({firstIndex:g.firstIndex,firstKey:g.firstKey,firstPromise:g.firstPromise,lastIndex:a.firstIndex-1,lastPromise:b(a.firstIndex-1)}),d.push({firstIndex:a.lastIndex+1,firstPromise:b(a.lastIndex+1),lastIndex:g.lastIndex,lastKey:g.lastKey,lastPromise:g.lastPromise})):(g.firstPromise.release(),g.lastPromise.release())}this._ranges=d},_ensureKeys:function(){for(var a=[d.wrap()],b=this,c=function(a,b){var c=a+"Key";if(b[c])return d.wrap();var e=b[a+"Promise"];return e.then(function(a){a&&(b[c]=a.key)}),e},e=0,f=this._ranges.length;e<f;e++){var g=this._ranges[e];a.push(c("first",g)),a.push(c("last",g))}return d.join(a).then(function(){b._ranges=b._ranges.filter(function(a){return a.firstKey&&a.lastKey})}),d.join(a)},_mergeRanges:function(a,b){a.lastIndex=b.lastIndex,a.lastKey=b.lastKey},_isIncluded:function(a){if(this.isEverything())return!0;for(var b=0,c=this._ranges.length;b<c;b++){var d=this._ranges[b];if(d.firstIndex<=a&&a<=d.lastIndex)return!0}return!1},_ensureCount:function(){var a=this;return this._listView._itemsCount().then(function(b){a._itemsCount=b})},_insertRange:function(a,b){this._retainRange(b),this._ranges.splice(a,0,b)},_removeRanges:function(a,b){for(var c=0;c<b;c++)this._releaseRange(this._ranges[a+c]);this._ranges.splice(a,b)},_retainRange:function(a){a.firstPromise||(a.firstPromise=this._getListBinding().fromIndex(a.firstIndex).retain()),a.lastPromise||(a.lastPromise=this._getListBinding().fromIndex(a.lastIndex).retain())},_retainRanges:function(){for(var a=0,b=this._ranges.length;a<b;a++)this._retainRange(this._ranges[a])},_releaseRange:function(a){a.firstPromise.release(),a.lastPromise.release()},_releaseRanges:function(a){for(var b=0,c=a.length;b<c;++b)this._releaseRange(a[b])},_getListBinding:function(){return this._listView._itemsManager._listBinding}},{supportedForProcessing:!1})}),_SelectionManager:c.Namespace._lazy(function(){var c=function(b){this._listView=b,this._selected=new a._Selection(this._listView),this._pivot=g._INVALID_INDEX,this._focused={type:f.ObjectType.item,index:0},this._pendingChange=d.wrap()};return c.prototype={count:function(){return this._selected.count()},getIndices:function(){return this._selected.getIndices()},getItems:function(){return this._selected.getItems()},getRanges:function(){return this._selected.getRanges()},isEverything:function(){return this._selected.isEverything()},set:function(b){var c=this,f=new e;return this._synchronize(f).then(function(){var e=new a._Selection(c._listView);return e.set(b).then(function(){c._set(e),f.complete()},function(a){return e.clear(),f.complete(),d.wrapError(a)})})},clear:function(){var b=this,c=new e;return this._synchronize(c).then(function(){var e=new a._Selection(b._listView);return e.clear().then(function(){b._set(e),c.complete()},function(a){return e.clear(),c.complete(),d.wrapError(a)})})},add:function(a){var b=this,c=new e;return this._synchronize(c).then(function(){var e=b._cloneSelection();return e.add(a).then(function(){b._set(e),c.complete()},function(a){return e.clear(),c.complete(),d.wrapError(a)})})},remove:function(a){var b=this,c=new e;return this._synchronize(c).then(function(){var e=b._cloneSelection();return e.remove(a).then(function(){b._set(e),c.complete()},function(a){return e.clear(),c.complete(),d.wrapError(a)})})},selectAll:function(){var b=this,c=new e;return this._synchronize(c).then(function(){var e=new a._Selection(b._listView);return e.selectAll().then(function(){b._set(e),c.complete()},function(a){return e.clear(),c.complete(),d.wrapError(a)})})},_synchronize:function(a){var b=this;return this._listView._versionManager.unlocked.then(function(){var c=b._pendingChange;return b._pendingChange=d.join([c,a.promise]).then(function(){}),c})},_reset:function(){this._pivot=g._INVALID_INDEX,this._setFocused({type:f.ObjectType.item,index:0},this._keyboardFocused()),this._pendingChange.cancel(),this._pendingChange=d.wrap(),this._selected.clear(),this._selected=new a._Selection(this._listView)},_dispose:function(){this._selected.clear(),this._selected=null,this._listView=null},_set:function(a){var b=this;return this._fireSelectionChanging(a).then(function(c){return c?(b._selected.clear(),b._selected=a,b._listView._updateSelection(),b._fireSelectionChanged()):a.clear(),c})},_fireSelectionChanging:function(a){var c=b.document.createEvent("CustomEvent"),e=d.wrap();c.initCustomEvent("selectionchanging",!0,!0,{newSelection:a,preventTapBehavior:function(){},setPromise:function(a){e=a}});var f=this._listView._element.dispatchEvent(c);return e.then(function(){return f})},_fireSelectionChanged:function(){var a=b.document.createEvent("CustomEvent");a.initCustomEvent("selectionchanged",!0,!1,null),this._listView._element.dispatchEvent(a)},_getFocused:function(){return{type:this._focused.type,index:this._focused.index}},_setFocused:function(a,b){this._focused={type:a.type,index:a.index},this._focusedByKeyboard=b},_keyboardFocused:function(){return this._focusedByKeyboard},_updateCount:function(a){this._selected._itemsCount=a},_isIncluded:function(a){return this._selected._isIncluded(a)},_cloneSelection:function(){var b=new a._Selection(this._listView);return b._ranges=this._selected.getRanges(),b._itemsCount=this._selected._itemsCount,b._retainRanges(),b}},c.supportedForProcessing=!1,c})})}),d("WinJS/Controls/ListView/_BrowseMode",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Animations","../../Promise","../../Utilities/_ElementUtilities","../../Utilities/_UI","../ItemContainer/_Constants","../ItemContainer/_ItemEventsHandler","./_SelectionManager"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d._browserStyleEquivalents.transform.scriptName;c.Namespace._moduleDefine(a,"WinJS.UI",{_SelectionMode:c.Namespace._lazy(function(){function a(a,b,c){return Math.max(a,Math.min(b,c))}function e(a,c,d){var e=b.document.createEvent("CustomEvent");return e.initCustomEvent("keyboardnavigating",!0,!0,{oldFocus:c.index,oldFocusType:c.type,newFocus:d.index,newFocusType:d.type}),a.dispatchEvent(e)}return c.Class.define(function(a){this.inboundFocusHandled=!1,this._pressedContainer=null,this._pressedItemBox=null,this._pressedHeader=null,this._pressedEntity={type:h.ObjectType.item,index:i._INVALID_INDEX},this._pressedPosition=null,this.initialize(a)},{_dispose:function(){this._itemEventsHandler&&this._itemEventsHandler.dispose(),this._setNewFocusItemOffsetPromise&&this._setNewFocusItemOffsetPromise.cancel()},initialize:function(a){function b(b,c){var d=function(c){return a._view.getAdjacent(c,b)};return d.clampToBounds=c,d}this.site=a,this._keyboardNavigationHandlers={},this._keyboardAcceleratorHandlers={};var c=this.site,d=this;this._itemEventsHandler=new j._ItemEventsHandler(Object.create({containerFromElement:function(a){return c._view.items.containerFrom(a)},indexForItemElement:function(a){return c._view.items.index(a)},indexForHeaderElement:function(a){return c._groups.index(a)},itemBoxAtIndex:function(a){return c._view.items.itemBoxAt(a)},itemAtIndex:function(a){return c._view.items.itemAt(a)},headerAtIndex:function(a){return c._groups.group(a).header},headerFromElement:function(a){return c._groups.headerFrom(a)},containerAtIndex:function(a){return c._view.items.containerAt(a)},isZombie:function(){return c._isZombie()},getItemPosition:function(a){return c._getItemPosition(a)},rtl:function(){return c._rtl()},fireInvokeEvent:function(a,b){return d._fireInvokeEvent(a,b)},verifySelectionAllowed:function(a){return d._verifySelectionAllowed(a)},changeFocus:function(a,b,d,e,f){return c._changeFocus(a,b,d,e,f)},selectRange:function(a,b,c){return d._selectRange(a,b,c)}},{pressedEntity:{enumerable:!0,get:function(){return d._pressedEntity},set:function(a){d._pressedEntity=a}},pressedContainerScaleTransform:{enumerable:!0,get:function(){return d._pressedContainerScaleTransform},set:function(a){d._pressedContainerScaleTransform=a}},pressedContainer:{enumerable:!0,get:function(){return d._pressedContainer},set:function(a){d._pressedContainer=a}},pressedItemBox:{enumerable:!0,get:function(){return d._pressedItemBox},set:function(a){d._pressedItemBox=a}},pressedHeader:{enumerable:!0,get:function(){return d._pressedHeader},set:function(a){return d._pressedHeader=a}},pressedPosition:{enumerable:!0,get:function(){return d._pressedPosition},set:function(a){d._pressedPosition=a}},pressedElement:{enumerable:!0,set:function(a){d._pressedElement=a}},eventHandlerRoot:{enumerable:!0,get:function(){return c._viewport}},selectionMode:{enumerable:!0,get:function(){return c._selectionMode}},accessibleItemClass:{enumerable:!0,get:function(){return i._itemClass}},canvasProxy:{enumerable:!0,get:function(){return c._canvasProxy}},tapBehavior:{enumerable:!0,get:function(){return c._tap}},headerTapBehavior:{enumerable:!0,get:function(){return c._groupHeaderTap}},draggable:{enumerable:!0,get:function(){return c.itemsDraggable||c.itemsReorderable}},selection:{enumerable:!0,get:function(){return c._selection}},customFootprintParent:{enumerable:!0,get:function(){return null}}}));var e=g.Key;this._keyboardNavigationHandlers[e.upArrow]=b(e.upArrow),this._keyboardNavigationHandlers[e.downArrow]=b(e.downArrow),this._keyboardNavigationHandlers[e.leftArrow]=b(e.leftArrow),this._keyboardNavigationHandlers[e.rightArrow]=b(e.rightArrow),this._keyboardNavigationHandlers[e.pageUp]=b(e.pageUp,!0),this._keyboardNavigationHandlers[e.pageDown]=b(e.pageDown,!0),this._keyboardNavigationHandlers[e.home]=function(a){return!d.site._header||a.type!==h.ObjectType.groupHeader&&a.type!==h.ObjectType.footer?f.wrap({type:a.type!==h.ObjectType.footer?a.type:h.ObjectType.groupHeader,index:0}):f.wrap({type:h.ObjectType.header,index:0})},this._keyboardNavigationHandlers[e.end]=function(a){if(!d.site._footer||a.type!==h.ObjectType.groupHeader&&a.type!==h.ObjectType.header){if(a.type===h.ObjectType.groupHeader||a.type===h.ObjectType.header)return f.wrap({type:h.ObjectType.groupHeader,index:c._groups.length()-1});var b=d.site._view.lastItemIndex();return b>=0?f.wrap({type:a.type,index:b}):f.cancel}return f.wrap({type:h.ObjectType.footer,index:0})},this._keyboardAcceleratorHandlers[e.a]=function(){d.site._multiSelection()&&d._selectAll()}},staticMode:function(){return this.site._tap===h.TapBehavior.none&&this.site._selectionMode===h.SelectionMode.none},itemUnrealized:function(a,b){if(this._pressedEntity.type!==h.ObjectType.groupHeader&&(this._pressedEntity.index===a&&this._resetPointerDownState(),this._itemBeingDragged(a)))for(var c=this._draggedItemBoxes.length-1;c>=0;c--)this._draggedItemBoxes[c]===b&&(g.removeClass(b,i._dragSourceClass),this._draggedItemBoxes.splice(c,1))},_fireInvokeEvent:function(a,c){function d(d,f){var g=d.createListBinding(),h=g.fromIndex(a.index),i=f?"groupheaderinvoked":"iteminvoked";h.done(function(){g.release()});var j=b.document.createEvent("CustomEvent");j.initCustomEvent(i,!0,!0,f?{groupHeaderPromise:h,groupHeaderIndex:a.index}:{itemPromise:h,itemIndex:a.index}),c.dispatchEvent(j)&&e.site._defaultInvoke(a)}if(c){var e=this;a.type===h.ObjectType.groupHeader?this.site._groupHeaderTap===h.GroupHeaderTapBehavior.invoke&&a.index!==i._INVALID_INDEX&&d(this.site.groupDataSource,!0):this.site._tap===h.TapBehavior.none||a.index===i._INVALID_INDEX||this.site._isInSelectionMode()||d(this.site.itemDataSource,!1)}},_verifySelectionAllowed:function(a){if(a.type===h.ObjectType.groupHeader)return{canSelect:!1,canTapSelect:!1};var c=a.index,d=this.site,e=this.site._view.items.itemAt(c);if(!d._selectionAllowed()||!d._selectOnTap()||e&&g.hasClass(e,i._nonSelectableClass))return{canSelect:!1,canTapSelect:!1};var j=d._selection._isIncluded(c),k=!d._multiSelection(),l=d._selection._cloneSelection();j?k?l.clear():l.remove(c):k?l.set(c):l.add(c);var m,n=b.document.createEvent("CustomEvent"),o=f.wrap(),p=!1,q=!1;n.initCustomEvent("selectionchanging",!0,!0,{newSelection:l,preventTapBehavior:function(){q=!0},setPromise:function(a){o=a}});var r=d._element.dispatchEvent(n);o.then(function(){p=!0,m=l._isIncluded(c),l.clear()});var s=r&&p&&(j||m);return{canSelect:s,canTapSelect:s&&!q}},_containedInElementWithClass:function(a,b){if(a.parentNode)for(var c=a.parentNode.querySelectorAll("."+b+", ."+b+" *"),d=0,e=c.length;d<e;d++)if(c[d]===a)return!0;return!1},_isDraggable:function(a){return!this._containedInElementWithClass(a,i._nonDraggableClass)},_isInteractive:function(a){return this._containedInElementWithClass(a,"win-interactive")},_resetPointerDownState:function(){this._itemEventsHandler.resetPointerDownState()},onPointerDown:function(a){this._itemEventsHandler.onPointerDown(a)},onclick:function(a){this._itemEventsHandler.onClick(a)},onPointerUp:function(a){this._itemEventsHandler.onPointerUp(a)},onPointerCancel:function(a){this._itemEventsHandler.onPointerCancel(a)},onLostPointerCapture:function(a){this._itemEventsHandler.onLostPointerCapture(a)},onContextMenu:function(a){this._itemEventsHandler.onContextMenu(a)},onMSHoldVisual:function(a){this._itemEventsHandler.onMSHoldVisual(a)},onDataChanged:function(a){this._itemEventsHandler.onDataChanged(a)},_removeTransform:function(a,b){b&&-1!==a.style[l].indexOf(b)&&(a.style[l]=a.style[l].replace(b,""))},_selectAll:function(){var a=[];this.site._view.items.each(function(b,c){c&&g.hasClass(c,i._nonSelectableClass)&&a.push(b)}),this.site._selection.selectAll(),a.length>0&&this.site._selection.remove(a)},_selectRange:function(a,b,c){for(var d=[],e=-1,f=a;f<=b;f++){var h=this.site._view.items.itemAt(f);h&&g.hasClass(h,i._nonSelectableClass)?-1!==e&&(d.push({firstIndex:e,lastIndex:f-1}),e=-1):-1===e&&(e=f)}-1!==e&&d.push({firstIndex:e,lastIndex:b}),d.length>0&&this.site._selection[c?"add":"set"](d)},onDragStart:function(a){if(this._pressedEntity={type:h.ObjectType.item,index:this.site._view.items.index(a.target)},this.site._selection._pivot=i._INVALID_INDEX,this._pressedEntity.index===i._INVALID_INDEX||!this.site.itemsDraggable&&!this.site.itemsReorderable||this.site._view.animating||!this._isDraggable(a.target)||this._pressedElement&&this._isInteractive(this._pressedElement))a.preventDefault();else{this._dragging=!0,this._dragDataTransfer=a.dataTransfer,this._pressedPosition=g._getCursorPos(a),this._dragInfo=null,this._lastEnteredElement=a.target,this.site._selection._isIncluded(this._pressedEntity.index)?this._dragInfo=this.site.selection:(this._draggingUnselectedItem=!0,this._dragInfo=new k._Selection(this.site,[{firstIndex:this._pressedEntity.index,lastIndex:this._pressedEntity.index}]));var c=this.site.itemsReorderable,e=b.document.createEvent("CustomEvent");if(e.initCustomEvent("itemdragstart",!0,!1,{dataTransfer:a.dataTransfer,dragInfo:this._dragInfo}),a.dataTransfer.setData("text",""),a.dataTransfer.setDragImage){var f=this.site._view.items.itemDataAt(this._pressedEntity.index);if(f&&f.container){var j=f.container.getBoundingClientRect();a.dataTransfer.setDragImage(f.container,a.clientX-j.left,a.clientY-j.top)}}this.site.element.dispatchEvent(e),this.site.itemsDraggable&&!this.site.itemsReorderable&&(this._firedDragEnter||this._fireDragEnterEvent(a.dataTransfer)&&(c=!0,this._dragUnderstood=!0)),c&&(this._addedDragOverClass=!0,g.addClass(this.site._element,i._dragOverClass)),this._draggedItemBoxes=[];var l=this,m=a.target;m.addEventListener("dragend",function a(b){m.removeEventListener("dragend",a),l.onDragEnd(b)}),d._yieldForDomModification(function(){if(l._dragging)for(var a=l._dragInfo.getIndices(),b=0,c=a.length;b<c;b++){var d=l.site._view.items.itemDataAt(a[b]);d&&d.itemBox&&l._addDragSourceClass(d.itemBox)}})}},onDragEnter:function(a){var c=this._dragUnderstood;this._lastEnteredElement=a.target,this._exitEventTimer&&(b.clearTimeout(this._exitEventTimer),this._exitEventTimer=0),this._firedDragEnter||this._fireDragEnterEvent(a.dataTransfer)&&(c=!0),(c||this._dragging&&this.site.itemsReorderable)&&(a.preventDefault(),this._dragUnderstood=!0,this._addedDragOverClass||(this._addedDragOverClass=!0,g.addClass(this.site._element,i._dragOverClass))),this._pointerLeftRegion=!1},onDragLeave:function(a){a.target===this._lastEnteredElement&&(this._pointerLeftRegion=!0,this._handleExitEvent())},fireDragUpdateEvent:function(){var a=b.document.createEvent("CustomEvent");a.initCustomEvent("itemdragchanged",!0,!1,{dataTransfer:this._dragDataTransfer,dragInfo:this._dragInfo}),this.site.element.dispatchEvent(a)},_fireDragEnterEvent:function(a){var c=b.document.createEvent("CustomEvent");c.initCustomEvent("itemdragenter",!0,!0,{dataTransfer:a});var d=!this.site.element.dispatchEvent(c);return this._firedDragEnter=!0,d},_fireDragBetweenEvent:function(a,c,d){var e=b.document.createEvent("CustomEvent");return e.initCustomEvent("itemdragbetween",!0,!0,{index:a,insertAfterIndex:c,dataTransfer:d}),this.site.element.dispatchEvent(e)},_fireDropEvent:function(a,c,d){var e=b.document.createEvent("CustomEvent");return e.initCustomEvent("itemdragdrop",!0,!0,{index:a,insertAfterIndex:c,dataTransfer:d}),this.site.element.dispatchEvent(e)},_handleExitEvent:function(){this._exitEventTimer&&(b.clearTimeout(this._exitEventTimer),this._exitEventTimer=0);var a=this;this._exitEventTimer=b.setTimeout(function(){if(!a.site._disposed&&a._pointerLeftRegion){if(a.site._layout.dragLeave&&a.site._layout.dragLeave(),a._pointerLeftRegion=!1,a._dragUnderstood=!1,a._lastEnteredElement=null,a._lastInsertPoint=null,a._dragBetweenDisabled=!1,a._firedDragEnter){var c=b.document.createEvent("CustomEvent");c.initCustomEvent("itemdragleave",!0,!1,{}),a.site.element.dispatchEvent(c),a._firedDragEnter=!1}a._addedDragOverClass&&(a._addedDragOverClass=!1,g.removeClass(a.site._element,i._dragOverClass)),a._exitEventTimer=0,a._stopAutoScroll()}},40)},_getEventPositionInElementSpace:function(a,b){var c={left:0,top:0};try{c=a.getBoundingClientRect()}catch(a){}var d=g._getComputedStyle(a,null),e=parseInt(d.paddingLeft),f=parseInt(d.paddingTop),h=parseInt(d.borderLeftWidth),i=parseInt(d.borderTopWidth),j=b.clientX,k=b.clientY,l={x:+j===j?j-c.left-e-h:0,y:+k===k?k-c.top-f-i:0};return this.site._rtl()&&(l.x=c.right-c.left-l.x),l},_getPositionInCanvasSpace:function(a){var b=this.site._horizontal()?this.site.scrollPosition:0,c=this.site._horizontal()?0:this.site.scrollPosition,d=this._getEventPositionInElementSpace(this.site.element,a);return{x:d.x+b,y:d.y+c}},_itemBeingDragged:function(a){return!!this._dragging&&(this._draggingUnselectedItem&&this._dragInfo._isIncluded(a)||!this._draggingUnselectedItem&&this.site._isSelected(a))},_addDragSourceClass:function(a){this._draggedItemBoxes.push(a),g.addClass(a,i._dragSourceClass),a.parentNode&&g.addClass(a.parentNode,i._footprintClass)},renderDragSourceOnRealizedItem:function(a,b){this._itemBeingDragged(a)&&this._addDragSourceClass(b)},onDragOver:function(b){if(this._dragUnderstood){this._pointerLeftRegion=!1,b.preventDefault();var c=this._getPositionInCanvasSpace(b),d=this._getEventPositionInElementSpace(this.site.element,b);if(this._checkAutoScroll(d.x,d.y),this.site._layout.hitTest)if(this._autoScrollFrame)this._lastInsertPoint&&(this.site._layout.dragLeave(),this._lastInsertPoint=null);else{var e=this.site._view.hitTest(c.x,c.y);e.insertAfterIndex=a(-1,this.site._cachedCount-1,e.insertAfterIndex),this._lastInsertPoint&&this._lastInsertPoint.insertAfterIndex===e.insertAfterIndex&&this._lastInsertPoint.index===e.index||(this._dragBetweenDisabled=!this._fireDragBetweenEvent(e.index,e.insertAfterIndex,b.dataTransfer),this._dragBetweenDisabled?this.site._layout.dragLeave():this.site._layout.dragOver(c.x,c.y,this._dragInfo)),this._lastInsertPoint=e}}},_clearDragProperties:function(){if(this._addedDragOverClass&&(this._addedDragOverClass=!1,g.removeClass(this.site._element,i._dragOverClass)),this._draggedItemBoxes){for(var a=0,b=this._draggedItemBoxes.length;a<b;a++)g.removeClass(this._draggedItemBoxes[a],i._dragSourceClass),this._draggedItemBoxes[a].parentNode&&g.removeClass(this._draggedItemBoxes[a].parentNode,i._footprintClass);this._draggedItemBoxes=[]}this.site._layout.dragLeave(),this._dragging=!1,this._dragInfo=null,this._draggingUnselectedItem=!1,this._dragDataTransfer=null,this._lastInsertPoint=null,this._resetPointerDownState(),this._lastEnteredElement=null,this._dragBetweenDisabled=!1,this._firedDragEnter=!1,this._dragUnderstood=!1,this._stopAutoScroll()},onDragEnd:function(){var a=b.document.createEvent("CustomEvent");a.initCustomEvent("itemdragend",!0,!1,{}),this.site.element.dispatchEvent(a),this._clearDragProperties()},_findFirstAvailableInsertPoint:function(a,b,c){for(var d=a.getIndices(),e=-1,f=this.site._cachedCount,g=d.length,h=-1,i=b,j=0;j<g;j++)if(d[j]===i){e=j,h=j;break}for(;e>=0&&i>=0;)c?(i++,e<g&&d[e+1]===i&&i<f?e++:i>=f?(c=!1,i=b,e=h):e=-1):(i--,e>0&&d[e-1]===i?e--:e=-1);return i},_reorderItems:function(a,b,c,d,e){var f=this.site,g=function(a){c?f._selection.remove({key:a[0].key}):f._selection.set({firstKey:a[0].key,lastKey:a[a.length-1].key}),e&&f.ensureVisible(f._selection._getFocused())};b.getItems().then(function(b){var c=f.itemDataSource;if(-1===a){c.beginEdits();for(var e=b.length-1;e>=0;e--)c.moveToStart(b[e].key);c.endEdits(),g(b)}else{var h=c.createListBinding();h.fromIndex(a).then(function(a){if(h.release(),c.beginEdits(),d)for(var e=0,f=b.length;e<f;e++)c.moveBefore(b[e].key,a.key);else for(var e=b.length-1;e>=0;e--)c.moveAfter(b[e].key,a.key);c.endEdits(),g(b)})}})},onDrop:function(b){if(this._draggedItemBoxes)for(var c=0,d=this._draggedItemBoxes.length;c<d;c++)this._draggedItemBoxes[c].parentNode&&g.removeClass(this._draggedItemBoxes[c].parentNode,i._footprintClass);if(!this._dragBetweenDisabled){var e=this._getPositionInCanvasSpace(b),f=this.site._view.hitTest(e.x,e.y),h=a(-1,this.site._cachedCount-1,f.insertAfterIndex),j=!0;if(this._lastInsertPoint&&this._lastInsertPoint.insertAfterIndex===h&&this._lastInsertPoint.index===f.index||(j=this._fireDragBetweenEvent(f.index,h,b.dataTransfer)),j&&(this._lastInsertPoint=null,this.site._layout.dragLeave(),this._fireDropEvent(f.index,h,b.dataTransfer)&&this._dragging&&this.site.itemsReorderable)){if(this._dragInfo.isEverything()||this.site._groupsEnabled())return;h=this._findFirstAvailableInsertPoint(this._dragInfo,h,!1),this._reorderItems(h,this._dragInfo,this._draggingUnselectedItem)}}this._clearDragProperties(),b.preventDefault()},_checkAutoScroll:function(a,c){var e=this.site._getViewportLength(),f=this.site._horizontal(),h=f?a:c,j=this.site._viewport[f?"scrollWidth":"scrollHeight"],k=Math.floor(this.site.scrollPosition),l=0;if(h<i._AUTOSCROLL_THRESHOLD?l=h-i._AUTOSCROLL_THRESHOLD:h>e-i._AUTOSCROLL_THRESHOLD&&(l=h-(e-i._AUTOSCROLL_THRESHOLD)),l=Math.round(l/i._AUTOSCROLL_THRESHOLD*(i._MAX_AUTOSCROLL_RATE-i._MIN_AUTOSCROLL_RATE)),(0===k&&l<0||k>=j-e&&l>0)&&(l=0),0===l)this._autoScrollDelay&&(b.clearTimeout(this._autoScrollDelay),this._autoScrollDelay=0);else if(!this._autoScrollDelay&&!this._autoScrollFrame){var m=this;this._autoScrollDelay=b.setTimeout(function(){if(m._autoScrollRate){m._lastDragTimeout=d._now();var a=function(){if(!m._autoScrollRate&&m._autoScrollFrame||m.site._disposed)m._stopAutoScroll();else{var b=d._now(),c=m._autoScrollRate*((b-m._lastDragTimeout)/1e3);c=c<0?Math.min(-1,c):Math.max(1,c);var e={};e[m.site._scrollProperty]=m.site._viewportScrollPosition+c,g.setScrollPosition(m.site._viewport,e),m._lastDragTimeout=b,m._autoScrollFrame=d._requestAnimationFrame(a)}};m._autoScrollFrame=d._requestAnimationFrame(a)}},i._AUTOSCROLL_DELAY)}this._autoScrollRate=l},_stopAutoScroll:function(){this._autoScrollDelay&&(b.clearTimeout(this._autoScrollDelay),this._autoScrollDelay=0),this._autoScrollRate=0,this._autoScrollFrame=0},onKeyDown:function(a){function b(a,b,g){function k(j){var k=!0,m=!1;if(g?a.index=Math.max(0,Math.min(j,a.index)):(a.index<0||a.index>j)&&(m=!0),!m&&(l.index!==a.index||l.type!==a.type)){e(d._element,l,a)&&(k=!1,c._setNewFocusItemOffsetPromise&&c._setNewFocusItemOffsetPromise.cancel(),d._batchViewUpdates(i._ViewChange.realize,i._ScrollToPriority.high,function(){return c._setNewFocusItemOffsetPromise=d._getItemOffset(l,!0).then(function(e){e=d._convertFromCanvasCoordinates(e);var g=e.end<=d.scrollPosition||e.begin>=d.scrollPosition+d._getViewportLength()-1;return c._setNewFocusItemOffsetPromise=d._getItemOffset(a).then(function(e){c._setNewFocusItemOffsetPromise=null;var h={position:d.scrollPosition,direction:"right"};return g&&(d._selection._setFocused(a,!0),e=d._convertFromCanvasCoordinates(e),a.index>l.index?(h.direction="right",h.position=e.end-d._getViewportLength()):(h.direction="left",h.position=e.begin)),d._changeFocus(a,b,n,g,!0),g?h:f.cancel},function(c){return d._changeFocus(a,b,n,!0,!0),f.wrapError(c)}),c._setNewFocusItemOffsetPromise},function(c){return d._changeFocus(a,b,n,!0,!0),f.wrapError(c)}),c._setNewFocusItemOffsetPromise},!0))}return k&&(d._selection._setFocused(l,!0),d.ensureVisible(l)),m?{type:h.ObjectType.item,index:i._INVALID_INDEX}:a}return a.type===h.ObjectType.item?f.wrap(j.lastItemIndex()).then(k):a.type===h.ObjectType.groupHeader?f.wrap(d._groups.length()-1).then(k):f.wrap(0).then(k)}var c=this,d=this.site,j=d._view,l=d._selection._getFocused(),m=!0,n=a.ctrlKey,o=g.Key,p=a.keyCode,q=d._rtl();if(!this._isInteractive(a.target)){if(a.ctrlKey&&!a.altKey&&!a.shiftKey&&this._keyboardAcceleratorHandlers[p]&&this._keyboardAcceleratorHandlers[p](),d.itemsReorderable&&!a.ctrlKey&&a.altKey&&a.shiftKey&&l.type===h.ObjectType.item&&(p===o.leftArrow||p===o.rightArrow||p===o.upArrow||p===o.downArrow)){var r=d._selection,s=l.index,t=!1,u=!0;if(!r.isEverything()){if(!r._isIncluded(s)){var v=d._view.items.itemAt(s);v&&g.hasClass(v,i._nonDraggableClass)?u=!1:(t=!0,r=new k._Selection(this.site,[{firstIndex:s,lastIndex:s}]))}if(u){var w=s;p===o.rightArrow?w+=q?-1:1:p===o.leftArrow?w+=q?1:-1:p===o.upArrow?w--:w++;var x=w>s,y=x;x&&w>=this.site._cachedCount&&(y=!1,w=this.site._cachedCount-1),w=this._findFirstAvailableInsertPoint(r,w,y),w=Math.min(Math.max(-1,w),this.site._cachedCount-1);var z=w-(x||-1===w?0:1),A=w,B=this.site._groupsEnabled();if(B){var C=this.site._groups,D=w>-1?C.groupFromItem(w):0;x?C.group(D).startIndex===w&&z--:D<C.length()-1&&w===C.group(D+1).startIndex-1&&z++}if(this._fireDragBetweenEvent(A,z,null)&&this._fireDropEvent(A,z,null)){if(B)return;this._reorderItems(w,r,t,!x,!0)}}}}else if(a.altKey)m=!1;else if(this._keyboardNavigationHandlers[p])this._keyboardNavigationHandlers[p](l).then(function(e){if(e.index!==l.index||e.type!==l.type){var f=c._keyboardNavigationHandlers[p].clampToBounds;e.type!==h.ObjectType.groupHeader&&a.shiftKey&&d._selectionAllowed()&&d._multiSelection()?(d._selection._pivot===i._INVALID_INDEX&&(d._selection._pivot=l.index),b(e,!0,f).then(function(b){if(b.index!==i._INVALID_INDEX){var e=Math.min(b.index,d._selection._pivot),f=Math.max(b.index,d._selection._pivot),g=a.ctrlKey||d._tap===h.TapBehavior.toggleSelect;c._selectRange(e,f,g)}})):(d._selection._pivot=i._INVALID_INDEX,b(e,!1,f))}else m=!1});else if(a.ctrlKey||p!==o.enter)l.type!==h.ObjectType.groupHeader&&(a.ctrlKey&&p===o.enter||p===o.space)?(this._itemEventsHandler.toggleSelectionIfAllowed(l.index),d._changeFocus(l,!0,n,!1,!0)):p===o.escape&&d._selection.count()>0?(d._selection._pivot=i._INVALID_INDEX,d._selection.clear()):m=!1;else{var E=l.type===h.ObjectType.groupHeader?d._groups.group(l.index).header:d._view.items.itemBoxAt(l.index);if(E){l.type===h.ObjectType.groupHeader?(this._pressedHeader=E,this._pressedItemBox=null,this._pressedContainer=null):(this._pressedItemBox=E,this._pressedContainer=d._view.items.containerAt(l.index),this._pressedHeader=null);var F=this._verifySelectionAllowed(l);F.canTapSelect&&this._itemEventsHandler.handleTap(l),this._fireInvokeEvent(l,E)}}this._keyDownHandled=m,m&&(a.stopPropagation(),a.preventDefault())}p===o.tab&&(this.site._keyboardFocusInbound=!0)},onKeyUp:function(a){this._keyDownHandled&&(a.stopPropagation(),a.preventDefault())},onTabEntered:function(a){if(0!==this.site._groups.length()||this.site._hasHeaderOrFooter){var b=this.site,c=b._selection._getFocused(),d=a.detail;if(!b._hasKeyboardFocus||a.target===b._viewport)if(this.inboundFocusHandled=!0,c.index=c.index===i._INVALID_INDEX?0:c.index,d||!this.site._supportsGroupHeaderKeyboarding&&!this.site._hasHeaderOrFooter){var f={type:h.ObjectType.item};c.type===h.ObjectType.groupHeader?(f.index=b._groupFocusCache.getIndexForGroup(c.index),e(b._element,c,f)?b._changeFocus(f,!0,!1,!1,!0):b._changeFocus(c,!0,!1,!1,!0)):(f.index=c.type!==h.ObjectType.item?b._groupFocusCache.getLastFocusedItemIndex():c.index,b._changeFocus(f,!0,!1,!1,!0)),a.preventDefault()}else{var f={type:h.ObjectType.groupHeader};this.site._hasHeaderOrFooter?this.site._lastFocusedElementInGroupTrack.type===h.ObjectType.groupHeader&&this.site._supportsGroupHeaderKeyboarding?(f.index=b._groups.groupFromItem(c.index),e(b._element,c,f)?b._changeFocus(f,!0,!1,!1,!0):b._changeFocus(c,!0,!1,!1,!0)):(f.type=this.site._lastFocusedElementInGroupTrack.type,f.index=0,b._changeFocus(f,!0,!1,!1,!0)):c.type!==h.ObjectType.groupHeader&&this.site._supportsGroupHeaderKeyboarding?(f.index=b._groups.groupFromItem(c.index),e(b._element,c,f)?b._changeFocus(f,!0,!1,!1,!0):b._changeFocus(c,!0,!1,!1,!0)):(f.index=c.index,b._changeFocus(f,!0,!1,!1,!0)),a.preventDefault()}}},onTabExiting:function(a){if(this.site._hasHeaderOrFooter||this.site._supportsGroupHeaderKeyboarding&&0!==this.site._groups.length()){var b=this.site,c=b._selection._getFocused(),d=a.detail;if(d){var f=null;if(c.type===h.ObjectType.item){var g=this.site._lastFocusedElementInGroupTrack.type;if(g!==h.ObjectType.header&&g!==h.ObjectType.footer&&this.site._supportsGroupHeaderKeyboarding)var f={type:h.ObjectType.groupHeader,index:b._groups.groupFromItem(c.index)};else var f={type:g===h.ObjectType.item?h.ObjectType.header:g,index:0}}f&&e(b._element,c,f)&&(b._changeFocus(f,!0,!1,!1,!0),a.preventDefault())}else if(!d&&c.type!==h.ObjectType.item){var i=0;i=c.type===h.ObjectType.groupHeader?b._groupFocusCache.getIndexForGroup(c.index):c.type===h.ObjectType.header?0:b._view.lastItemIndex();var f={type:h.ObjectType.item,index:i};e(b._element,c,f)&&(b._changeFocus(f,!0,!1,!1,!0),a.preventDefault())}}}})})})}),d("WinJS/Controls/ListView/_ErrorMessages",["exports","../../Core/_Base","../../Core/_Resources"],function(a,b,c){"use strict";b.Namespace._moduleDefine(a,null,{modeIsInvalid:{get:function(){return"Invalid argument: mode must be one of following values: 'none', 'single' or 'multi'."}},loadingBehaviorIsDeprecated:{get:function(){return"Invalid configuration: loadingBehavior is deprecated. The control will default this property to 'randomAccess'. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},pagesToLoadIsDeprecated:{get:function(){return"Invalid configuration: pagesToLoad is deprecated. The control will not use this property. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},pagesToLoadThresholdIsDeprecated:{get:function(){return"Invalid configuration: pagesToLoadThreshold is deprecated.  The control will not use this property. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},automaticallyLoadPagesIsDeprecated:{get:function(){return"Invalid configuration: automaticallyLoadPages is deprecated. The control will default this property to false. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},invalidTemplate:{get:function(){return"Invalid template: Templates must be created before being passed to the ListView, and must contain a valid tree of elements."}},loadMorePagesIsDeprecated:{get:function(){return"loadMorePages is deprecated. Invoking this function will not have any effect. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},disableBackdropIsDeprecated:{get:function(){return"Invalid configuration: disableBackdrop is deprecated. Style: .win-listview .win-container.win-backdrop { background-color:transparent; } instead."}},backdropColorIsDeprecated:{get:function(){return"Invalid configuration: backdropColor is deprecated. Style: .win-listview .win-container.win-backdrop { rgba(155,155,155,0.23); } instead."}},itemInfoIsDeprecated:{get:function(){return"GridLayout.itemInfo may be altered or unavailable in future versions. Instead, use CellSpanningLayout."}},groupInfoIsDeprecated:{get:function(){return"GridLayout.groupInfo may be altered or unavailable in future versions. Instead, use CellSpanningLayout."}},resetItemIsDeprecated:{get:function(){return"resetItem may be altered or unavailable in future versions. Instead, mark the element as disposable using WinJS.Utilities.markDisposable."}},resetGroupHeaderIsDeprecated:{get:function(){return"resetGroupHeader may be altered or unavailable in future versions. Instead, mark the header element as disposable using WinJS.Utilities.markDisposable."}},maxRowsIsDeprecated:{get:function(){return"GridLayout.maxRows may be altered or unavailable in future versions. Instead, use the maximumRowsOrColumns property."}},swipeOrientationDeprecated:{get:function(){return"Invalid configuration: swipeOrientation is deprecated. The control will default this property to 'none'"}},swipeBehaviorDeprecated:{get:function(){return"Invalid configuration: swipeBehavior is deprecated. The control will default this property to 'none'"}}})}),d("WinJS/Controls/ListView/_GroupFocusCache",["exports","../../Core/_Base"],function(a,b){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_GroupFocusCache:b.Namespace._lazy(function(){return b.Class.define(function(a){this._listView=a,this.clear()},{updateCache:function(a,b,c){this._lastFocusedItemKey=b,this._lastFocusedItemIndex=c,c=""+c,this._itemToIndex[b]=c,this._groupToItem[a]=b},deleteItem:function(a){if(a===this._lastFocusedItemKey&&(this._lastFocusedItemKey=null,this._lastFocusedItemIndex=0),this._itemToIndex[a])for(var b=this,c=Object.keys(this._groupToItem),d=0,e=c.length;d<e;d++){var f=c[d];if(b._groupToItem[f]===a){b.deleteGroup(f);break}}},deleteGroup:function(a){var b=this._groupToItem[a];b&&delete this._itemToIndex[b],delete this._groupToItem[a]},updateItemIndex:function(a,b){a===this._lastFocusedItemKey&&(this._lastFocusedItemIndex=b),this._itemToIndex[a]&&(this._itemToIndex[a]=""+b)},getIndexForGroup:function(a){var b=this._listView._groups.group(a).key,c=this._groupToItem[b];return c&&this._itemToIndex[c]?+this._itemToIndex[c]:this._listView._groups.fromKey(b).group.startIndex},clear:function(){this._groupToItem={},this._itemToIndex={},this._lastFocusedItemIndex=0,this._lastFocusedItemKey=null},getLastFocusedItemIndex:function(){return this._lastFocusedItemIndex}})}),_UnsupportedGroupFocusCache:b.Namespace._lazy(function(){return b.Class.define(null,{updateCache:function(a,b,c){this._lastFocusedItemKey=b,this._lastFocusedItemIndex=c},deleteItem:function(a){a===this._lastFocusedItemKey&&(this._lastFocusedItemKey=null,this._lastFocusedItemIndex=0)},deleteGroup:function(){},updateItemIndex:function(a,b){a===this._lastFocusedItemKey&&(this._lastFocusedItemIndex=b)},getIndexForGroup:function(){return 0},clear:function(){this._lastFocusedItemIndex=0,this._lastFocusedItemKey=null},getLastFocusedItemIndex:function(){return this._lastFocusedItemIndex}})})})}),d("WinJS/Controls/ListView/_GroupsContainer",["exports","../../Core/_Base","../../Promise","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_ItemsManager","../../Utilities/_UI","../ItemContainer/_Constants"],function(a,b,c,d,e,f,g,h){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_GroupsContainerBase:b.Namespace._lazy(function(){return b.Class.define(function(){},{index:function(a){var b=this.headerFrom(a);if(b)for(var c=0,d=this.groups.length;c<d;c++)if(b===this.groups[c].header)return c;return h._INVALID_INDEX},headerFrom:function(a){for(;a&&!e.hasClass(a,h._headerClass);)a=a.parentNode;return a},requestHeader:function(a){this._waitingHeaderRequests=this._waitingHeaderRequests||{},this._waitingHeaderRequests[a]||(this._waitingHeaderRequests[a]=[]);var b=this;return new c(function(c){var d=b.groups[a];d&&d.header?c(d.header):b._waitingHeaderRequests[a].push(c)})},notify:function(a,b){if(this._waitingHeaderRequests&&this._waitingHeaderRequests[a]){for(var c=this._waitingHeaderRequests[a],d=0,e=c.length;d<e;d++)c[d](b);this._waitingHeaderRequests[a]=[]}},groupFromImpl:function(a,b,c){if(b<a)return null;var d=a+Math.floor((b-a)/2);return c(this.groups[d],d)?this.groupFromImpl(a,d-1,c):d<b&&!c(this.groups[d+1],d+1)?this.groupFromImpl(d+1,b,c):d},groupFrom:function(a){if(this.groups.length>0){var b=this.groups.length-1;return a(this.groups[b],b)?this.groupFromImpl(0,this.groups.length-1,a):b}return null},groupFromItem:function(a){return this.groupFrom(function(b){return a<b.startIndex})},groupFromOffset:function(a){return this.groupFrom(function(b){return a<b.offset})},group:function(a){return this.groups[a]},length:function(){return this.groups.length},cleanUp:function(){if(this.listBinding){for(var a=0,b=this.groups.length;a<b;a++){var c=this.groups[a];c.userData&&this.listBinding.releaseItem(c.userData)}this.listBinding.release()}},_dispose:function(){this.cleanUp()},synchronizeGroups:function(){var a=this;return this.pendingChanges=[],this.ignoreChanges=!0,this.groupDataSource.invalidateAll().then(function(){return c.join(a.pendingChanges)}).then(function(){if(a._listView._ifZombieDispose())return c.cancel}).then(function(){a.ignoreChanges=!1},function(b){return a.ignoreChanges=!1,c.wrapError(b)})},fromKey:function(a){for(var b=0,c=this.groups.length;b<c;b++){var d=this.groups[b];if(d.key===a)return{group:d,index:b}}return null},fromHandle:function(a){for(var b=0,c=this.groups.length;b<c;b++){var d=this.groups[b];if(d.handle===a)return{group:d,index:b}}return null}})}),_UnvirtualizedGroupsContainer:b.Namespace._lazy(function(){return b.Class.derive(a._GroupsContainerBase,function(a,b){this._listView=a,this.groupDataSource=b,this.groups=[],this.pendingChanges=[],this.dirty=!0;var c=this,f={beginNotifications:function(){c._listView._versionManager.beginNotifications()},endNotifications:function(){c._listView._versionManager.endNotifications(),c._listView._ifZombieDispose()||!c.ignoreChanges&&c._listView._groupsChanged&&c._listView._scheduleUpdate()},indexChanged:function(){c._listView._versionManager.receivedNotification(),c._listView._ifZombieDispose()||this.scheduleUpdate()},itemAvailable:function(){},countChanged:function(a){c._listView._versionManager.receivedNotification(),c._listView._writeProfilerMark("groupCountChanged("+a+"),info"),c._listView._ifZombieDispose()||this.scheduleUpdate()},changed:function(a){if(c._listView._versionManager.receivedNotification(),!c._listView._ifZombieDispose()){var b=c.fromKey(a.key);b&&(c._listView._writeProfilerMark("groupChanged("+b.index+"),info"),b.group.userData=a,b.group.startIndex=a.firstItemIndexHint,this.markToRemove(b.group)),this.scheduleUpdate()}},removed:function(a){if(c._listView._versionManager.receivedNotification(),c._listView._groupRemoved(a),!c._listView._ifZombieDispose()){var b=c.fromHandle(a);if(b){c._listView._writeProfilerMark("groupRemoved("+b.index+"),info"),c.groups.splice(b.index,1);var d=c.groups.indexOf(b.group,b.index);d>-1&&c.groups.splice(d,1),this.markToRemove(b.group)}this.scheduleUpdate()}},inserted:function(a,b,d){if(c._listView._versionManager.receivedNotification(),!c._listView._ifZombieDispose()){c._listView._writeProfilerMark("groupInserted,info");var e=this;a.retain().then(function(f){var g;if(-1!==(g=b||d||c.groups.length?e.findIndex(b,d):0)){var h={key:f.key,startIndex:f.firstItemIndexHint,userData:f,handle:a.handle};c.groups.splice(g,0,h)}e.scheduleUpdate()}),c.pendingChanges.push(a)}},moved:function(a,b,d){if(c._listView._versionManager.receivedNotification(),!c._listView._ifZombieDispose()){c._listView._writeProfilerMark("groupMoved,info");var e=this;a.then(function(f){var g=e.findIndex(b,d),h=c.fromKey(f.key);if(h)c.groups.splice(h.index,1),-1!==g&&(h.index<g&&g--,h.group.key=f.key,h.group.userData=f,h.group.startIndex=f.firstItemIndexHint,c.groups.splice(g,0,h.group));else if(-1!==g){var i={key:f.key,startIndex:f.firstItemIndexHint,userData:f,handle:a.handle};c.groups.splice(g,0,i),a.retain()}e.scheduleUpdate()}),c.pendingChanges.push(a)}},reload:function(){c._listView._versionManager.receivedNotification(),c._listView._ifZombieDispose()||c._listView._processReload()},markToRemove:function(a){if(a.header){var b=a.header;a.header=null,a.left=-1,a.width=-1,a.decorator=null,a.tabIndex=-1,b.tabIndex=-1,c._listView._groupsToRemove[e._uniqueID(b)]={group:a,header:b}}},scheduleUpdate:function(){c.dirty=!0,c.ignoreChanges||(c._listView._groupsChanged=!0)},findIndex:function(a,b){var d,e=-1;return a&&(d=c.fromHandle(a))&&(e=d.index+1),-1===e&&b&&(d=c.fromHandle(b))&&(e=d.index),e},removeElements:function(a){if(a.header){var b=a.header.parentNode;b&&(d.disposeSubTree(a.header),b.removeChild(a.header)),a.header=null,a.left=-1,a.width=-1}}};this.listBinding=this.groupDataSource.createListBinding(f)},{initialize:function(){this.initializePromise&&this.initializePromise.cancel(),this._listView._writeProfilerMark("GroupsContainer_initialize,StartTM");var a=this;return this.initializePromise=this.groupDataSource.getCount().then(function(b){for(var d=[],e=0;e<b;e++)d.push(a.listBinding.fromIndex(e).retain());return c.join(d)}).then(function(b){a.groups=[];for(var c=0,d=b.length;c<d;c++){var e=b[c];a.groups.push({key:e.key,startIndex:e.firstItemIndexHint,handle:e.handle,userData:e})}a._listView._writeProfilerMark("GroupsContainer_initialize groups("+b.length+"),info"),a._listView._writeProfilerMark("GroupsContainer_initialize,StopTM")},function(b){return a._listView._writeProfilerMark("GroupsContainer_initialize,StopTM"),c.wrapError(b)}),this.initializePromise},renderGroup:function(a){if(this._listView.groupHeaderTemplate){var b=this.groups[a];return c.wrap(this._listView._groupHeaderRenderer(c.wrap(b.userData))).then(f._normalizeRendererReturn)}return c.wrap(null)},setDomElement:function(a,b){this.groups[a].header=b,this.notify(a,b)},removeElements:function(){for(var a=this._listView._groupsToRemove||{},b=Object.keys(a),c=!1,e=this._listView._selection._getFocused(),f=0,h=b.length;f<h;f++){var i=a[b[f]],j=i.header,k=i.group;if(c||e.type!==g.ObjectType.groupHeader||k.userData.index!==e.index||(this._listView._unsetFocusOnItem(),c=!0),j){var l=j.parentNode;l&&(d._disposeElement(j),l.removeChild(j))}}c&&this._listView._setFocusOnItem(e),this._listView._groupsToRemove={}},resetGroups:function(){for(var a=this.groups.slice(0),b=0,c=a.length;b<c;b++){var d=a[b];this.listBinding&&d.userData&&this.listBinding.releaseItem(d.userData)}this.groups.length=0,this.dirty=!0}})}),_NoGroups:b.Namespace._lazy(function(){return b.Class.derive(a._GroupsContainerBase,function(a){this._listView=a,this.groups=[{startIndex:0}],this.dirty=!0},{synchronizeGroups:function(){return c.wrap()},addItem:function(){return c.wrap(this.groups[0])},resetGroups:function(){this.groups=[{startIndex:0}],delete this.pinnedItem,delete this.pinnedOffset,this.dirty=!0},renderGroup:function(){return c.wrap(null)},ensureFirstGroup:function(){return c.wrap(this.groups[0])},groupOf:function(){return c.wrap(this.groups[0])},removeElements:function(){}})})})}),d("WinJS/Controls/ListView/_Helpers",["exports","../../Core/_Base","../ItemContainer/_Constants"],function(a,b,c){"use strict";function d(a){return Array.prototype.slice.call(a)}function e(a,b){if("string"==typeof a)return e([a],b);var c=new Array(Math.floor(b/a.length)+1).join(a.join(""));return c+=a.slice(0,b%a.length).join("")}function f(a,b){var d=c._containerEvenClass,f=c._containerOddClass,g=b%2==0?[d,f]:[f,d];return e(["<div class='win-container "+g[0]+" win-backdrop'></div>","<div class='win-container "+g[1]+" win-backdrop'></div>"],a)}b.Namespace._moduleDefine(a,"WinJS.UI",{_nodeListToArray:d,_repeat:e,_stripedContainers:f})}),d("WinJS/Controls/ListView/_ItemsContainer",["exports","../../Core/_Base","../../Promise","../../Utilities/_ElementUtilities","../ItemContainer/_Constants"],function(a,b,c,d,e){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_ItemsContainer:b.Namespace._lazy(function(){var a=function(a){this.site=a,this._itemData={},this.waitingItemRequests={}};return a.prototype={requestItem:function(a){this.waitingItemRequests[a]||(this.waitingItemRequests[a]=[]);var b=this;return new c(function(c){var d=b._itemData[a];d&&!d.detached&&d.element?c(d.element):b.waitingItemRequests[a].push(c)})},removeItem:function(a){delete this._itemData[a]},removeItems:function(){this._itemData={},this.waitingItemRequests={}},setItemAt:function(a,b){this._itemData[a]=b,b.detached||this.notify(a,b)},notify:function(a,b){if(this.waitingItemRequests[a]){for(var c=this.waitingItemRequests[a],d=0;d<c.length;d++)c[d](b.element);this.waitingItemRequests[a]=[]}},elementAvailable:function(a){var b=this._itemData[a];b.detached=!1,this.notify(a,b)},itemAt:function(a){var b=this._itemData[a];return b?b.element:null},itemDataAt:function(a){return this._itemData[a]},containerAt:function(a){var b=this._itemData[a];return b?b.container:null},itemBoxAt:function(a){var b=this._itemData[a];return b?b.itemBox:null},itemBoxFrom:function(a){for(;a&&!d.hasClass(a,e._itemBoxClass);)a=a.parentNode;return a},containerFrom:function(a){for(;a&&!d.hasClass(a,e._containerClass);)a=a.parentNode;return a},index:function(a){var b=this.containerFrom(a);if(b)for(var c in this._itemData)if(this._itemData[c].container===b)return parseInt(c,10);return e._INVALID_INDEX},each:function(a){for(var b in this._itemData)if(this._itemData.hasOwnProperty(b)){var c=this._itemData[b];a(parseInt(b,10),c.element,c)}},eachIndex:function(a){for(var b in this._itemData)if(a(parseInt(b,10)))break},count:function(){return Object.keys(this._itemData).length}},a})})}),d("WinJS/Controls/ListView/_Layouts",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Animations/_TransitionAnimation","../../Promise","../../Scheduler","../../_Signal","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_SafeHtml","../../Utilities/_UI","../ItemContainer/_Constants","./_ErrorMessages"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";function r(a){return"_win-dynamic-"+a+"-"+L++}function s(){var a,b,c,d=K.sheet.cssRules,e=M.length;for(a=0;a<e;a++)for(c="."+M[a]+" ",b=d.length-1;b>=0;b--)-1!==d[b].selectorText.indexOf(c)&&K.sheet.deleteRule(b);M=[]}function t(a,b,c,d){s();var e="."+p._listViewClass+" ."+a+" "+c+" { "+d+"}",f="_addDynamicCssRule:"+a+",info";b?b._writeProfilerMark(f):g("WinJS.UI.ListView:Layout"+f),K.sheet.insertRule(e,0)}function u(a){M.push(a)}function v(a,b,c){return Math.max(a,Math.min(b,c))}function w(a,b){return m.convertToPixels(a,m._getComputedStyle(a,null)[b])}function x(a,b){return w(b,"margin"+a)+w(b,"border"+a+"Width")+w(b,"padding"+a)}function y(a){return x("Top",a)+x("Bottom",a)}function z(a){return x("Left",a)+x("Right",a)}function A(a,b){if(a.items)for(var c=0,d=a.items.length;c<d;c++)b(a.items[c],c);else for(var e=0,f=0;e<a.itemsBlocks.length;e++)for(var g=a.itemsBlocks[e],c=0,d=g.items.length;c<d;c++)b(g.items[c],f++)}function B(a,b){if(b<0)return null;if(a.items)return b<a.items.length?a.items[b]:null;var c=a.itemsBlocks[0].items.length,d=Math.floor(b/c),e=b%c;return d<a.itemsBlocks.length&&e<a.itemsBlocks[d].items.length?a.itemsBlocks[d].items[e]:null}function C(a,b){for(var c,d=0,e=b.length;d<e;d++)if(b[d].itemsContainer.element===a){c=b[d].itemsContainer;break}return c}function D(a){var b,c;return a.itemsBlocks?(b=a.itemsBlocks.length,c=b>0?a.itemsBlocks[0].items.length*(b-1)+a.itemsBlocks[b-1].items.length:0):c=a.items.length,c}function E(a){if(!S){var c=b.document.createElement("div");c.style.width="500px",c.style.visibility="hidden";var d=b.document.createElement("div");d.style.cssText+="width: 500px; height: 200px; display: -webkit-flex; display: flex",n.setInnerHTMLUnsafe(d,"<div style='height: 100%; display: -webkit-flex; display: flex; flex-flow: column wrap; align-content: flex-start; -webkit-flex-flow: column wrap; -webkit-align-content: flex-start'><div style='width: 100px; height: 100px'></div><div style='width: 100px; height: 100px'></div><div style='width: 100px; height: 100px'></div></div>"),c.appendChild(d),a.viewport.insertBefore(c,a.viewport.firstChild);var e=c.offsetWidth>0,f=200;e&&(S={supportsCSSGrid:!!("-ms-grid-row"in b.document.documentElement.style),nestedFlexTooLarge:d.firstElementChild.offsetWidth>f,nestedFlexTooSmall:d.firstElementChild.offsetWidth<f}),a.readyToMeasure(),a.viewport.removeChild(c)}return S}function F(a){return i.is(a)?{realizedRangeComplete:a,layoutComplete:a}:"object"==typeof a&&a&&a.layoutComplete?a:{realizedRangeComplete:i.wrap(),layoutComplete:i.wrap()}}function G(a){return{left:w(a,"marginLeft"),right:w(a,"marginRight"),top:w(a,"marginTop"),bottom:w(a,"marginBottom")}}var H=m.Key,I=m._uniqueID,J={get itemInfoIsInvalid(){return"Invalid argument: An itemInfo function must be provided which returns an object with numeric width and height properties."},get groupInfoResultIsInvalid(){return"Invalid result: groupInfo result for cell spanning groups must include the following numeric properties: cellWidth and cellHeight."}},K=b.document.createElement("style");b.document.head.appendChild(K);var L=0,M=[],N=d._browserStyleEquivalents,O=N.transform,P=d._browserStyleEquivalents.transition.scriptName,Q=O.cssName+" cubic-bezier(0.1, 0.9, 0.2, 1) 167ms",R=12,S=null;c.Namespace._moduleDefine(a,"WinJS.UI",{Layout:c.Class.define(function(){}),_LayoutCommon:c.Namespace._lazy(function(){return c.Class.derive(a.Layout,null,{groupHeaderPosition:{enumerable:!0,get:function(){return this._groupHeaderPosition},set:function(a){this._groupHeaderPosition=a,this._invalidateLayout()}},initialize:function(a,b){a._writeProfilerMark("Layout:initialize,info"),this._inListMode||m.addClass(a.surface,p._gridLayoutClass),this._backdropColorClassName&&m.addClass(a.surface,this._backdropColorClassName),this._disableBackdropClassName&&m.addClass(a.surface,this._disableBackdropClassName),this._groups=[],this._groupMap={},this._oldGroupHeaderPosition=null,this._usingStructuralNodes=!1,this._site=a,this._groupsEnabled=b,this._resetAnimationCaches(!0)},orientation:{enumerable:!0,get:function(){return this._orientation},set:function(a){this._orientation=a,this._horizontal="horizontal"===a,this._invalidateLayout()}},uninitialize:function(){function a(a){var b,c=a.length;for(b=0;b<c;b++)a[b].cleanUp(!0)}var b="Layout:uninitialize,info";this._elementsToMeasure={},this._site?(this._site._writeProfilerMark(b),m.removeClass(this._site.surface,p._gridLayoutClass),m.removeClass(this._site.surface,p._headerPositionTopClass),m.removeClass(this._site.surface,p._headerPositionLeftClass),m.removeClass(this._site.surface,p._structuralNodesClass),m.removeClass(this._site.surface,p._singleItemsBlockClass),m.removeClass(this._site.surface,p._noCSSGrid),this._site.surface.style.cssText="",this._groups&&(a(this._groups),this._groups=null,this._groupMap=null),this._layoutPromise&&(this._layoutPromise.cancel(),this._layoutPromise=null),this._resetMeasurements(),this._oldGroupHeaderPosition=null,this._usingStructuralNodes=!1,this._envInfo=null,this._backdropColorClassName&&(m.removeClass(this._site.surface,this._backdropColorClassName),u(this._backdropColorClassName),this._backdropColorClassName=null),this._disableBackdropClassName&&(m.removeClass(this._site.surface,this._disableBackdropClassName),u(this._disableBackdropClassName),this._disableBackdropClassName=null),this._site=null,this._groupsEnabled=null,this._animationsRunning&&this._animationsRunning.cancel(),this._animatingItemsBlocks={}):g("WinJS.UI.ListView:"+b)},numberOfItemsPerItemsBlock:{get:function(){function b(){var a,b=c._site.groupCount;for(a=0;a<b;a++)if(c._isCellSpanning(a))return!1;return!0}var c=this;return c._measureItem(0).then(function(){return c._sizes.viewportContentSize!==c._getViewportCrossSize()&&c._viewportSizeChanged(c._getViewportCrossSize()),b()?c._envInfo.nestedFlexTooLarge||c._envInfo.nestedFlexTooSmall?(c._usingStructuralNodes=!0,Number.MAX_VALUE):(c._usingStructuralNodes=a._LayoutCommon._barsPerItemsBlock>0,a._LayoutCommon._barsPerItemsBlock*c._itemsPerBar):(c._usingStructuralNodes=!1,null)})}},layout:function(a,b,c,d){function e(a){function b(a){if(l._usingStructuralNodes){var b=[];return a.itemsBlocks.forEach(function(a){b=b.concat(a.items.slice(0))}),b}return a.items.slice(0)}return{element:a.element,items:b(a)}}function f(){function c(a,b){return new(a.enableCellSpanning?T.CellSpanningGroup:T.UniformGroup)(l,b)}var d,f=l._groups.length>0?l._getRealizationRange():null,g=[],h=[],j={},k={},m=0,n=a.length;for(d=0;d<n;d++){var o=null,p=l._getGroupInfo(d),q=l._site.groupFromIndex(d).key,r=l._groupMap[q],s=r instanceof T.CellSpanningGroup,t=p.enableCellSpanning;if(r)if(s!==t)j[q]=!0;else{var u=Math.max(0,b.firstIndex-r.startIndex),v=l._rangeForGroup(r,f);v&&u<=v.lastIndex&&(o={firstIndex:Math.max(u,v.firstIndex),lastIndex:v.lastIndex})}var w,x=c(p,a[d].itemsContainer.element);w=x.prepareLayoutWithCopyOfTree?x.prepareLayoutWithCopyOfTree(e(a[d].itemsContainer),o,r,{groupInfo:p,startIndex:m}):x.prepareLayout(D(a[d].itemsContainer),o,r,{groupInfo:p,startIndex:m}),h.push(w),m+=x.count,g.push(x),k[q]=x}return i.join(h).then(function(){for(var a=0,b=0,c=g.length;b<c;b++){var d=g[b];d.offset=a,a+=l._getGroupSize(d)}Object.keys(l._groupMap).forEach(function(a){var b=!j[a];l._groupMap[a].cleanUp(b)}),l._groups=g,l._groupMap=k})}function g(a,c,d){var e,f=l._groups[a],g=Math.max(0,b.firstIndex-f.startIndex),h=l._rangeForGroup(f,c);if(!d)return h||(e=f.startIndex+f.count-1<c.firstIndex),f.layoutUnrealizedRange(g,h,e);f.layoutRealizedRange(g,h)}function h(){if(0!==l._groups.length){var c,d=l._getRealizationRange(),e=a.length,f=n.groupIndexFromItemIndex(b.firstIndex);for(c=f;c<e;c++)g(c,d,!0),l._layoutGroup(c)}}function j(){if(0===l._groups.length)return i.wrap();var a=l._getRealizationRange(),c=n.groupIndexFromItemIndex(a.firstIndex-1),d=n.groupIndexFromItemIndex(a.lastIndex+1),e=n.groupIndexFromItemIndex(b.firstIndex),f=[],h=l._groups.length,j=!1,k=c,m=Math.max(e,d);for(m=Math.max(k+1,m);!j;)j=!0,k>=e&&(f.push(g(k,a,!1)),j=!1,k--),m<h&&(f.push(g(m,a,!1)),j=!1,m++);return i.join(f)}var k,l=this,n=l._site,o="Layout.layout",q=o+":realizedRange";return l._site._writeProfilerMark(o+",StartTM"),l._site._writeProfilerMark(q+",StartTM"),k=l._measureItem(0).then(function(){return m[l._usingStructuralNodes?"addClass":"removeClass"](l._site.surface,p._structuralNodesClass),m[l._envInfo.nestedFlexTooLarge||l._envInfo.nestedFlexTooSmall?"addClass":"removeClass"](l._site.surface,p._singleItemsBlockClass),l._sizes.viewportContentSize!==l._getViewportCrossSize()&&l._viewportSizeChanged(l._getViewportCrossSize()),l._cacheRemovedElements(c,l._cachedItemRecords,l._cachedInsertedItemRecords,l._cachedRemovedItems,!1),l._cacheRemovedElements(d,l._cachedHeaderRecords,l._cachedInsertedHeaderRecords,l._cachedRemovedHeaders,!0),f()}).then(function(){l._syncDomWithGroupHeaderPosition(a);var b=0;if(l._groups.length>0){var e=l._groups[l._groups.length-1];b=e.offset+l._getGroupSize(e)}l._horizontal?(l._groupsEnabled&&l._groupHeaderPosition===U.left?n.surface.style.cssText+=";height:"+l._sizes.surfaceContentSize+"px;-ms-grid-columns: ("+l._sizes.headerContainerWidth+"px auto)["+a.length+"]":n.surface.style.height=l._sizes.surfaceContentSize+"px",(l._envInfo.nestedFlexTooLarge||l._envInfo.nestedFlexTooSmall)&&(n.surface.style.width=b+"px")):(l._groupsEnabled&&l._groupHeaderPosition===U.top?n.surface.style.cssText+=";width:"+l._sizes.surfaceContentSize+"px;-ms-grid-rows: ("+l._sizes.headerContainerHeight+"px auto)["+a.length+"]":n.surface.style.width=l._sizes.surfaceContentSize+"px",(l._envInfo.nestedFlexTooLarge||l._envInfo.nestedFlexTooSmall)&&(n.surface.style.height=b+"px")),h(),l._layoutAnimations(c,d),l._site._writeProfilerMark(q+":complete,info"),l._site._writeProfilerMark(q+",StopTM")},function(a){return l._site._writeProfilerMark(q+":canceled,info"),l._site._writeProfilerMark(q+",StopTM"),i.wrapError(a)}),l._layoutPromise=k.then(function(){return j().then(function(){l._site._writeProfilerMark(o+":complete,info"),l._site._writeProfilerMark(o+",StopTM")},function(a){return l._site._writeProfilerMark(o+":canceled,info"),l._site._writeProfilerMark(o+",StopTM"),i.wrapError(a)})}),{realizedRangeComplete:k,layoutComplete:l._layoutPromise}},itemsFromRange:function(a,b){return this._rangeContainsItems(a,b)?{firstIndex:this._firstItemFromRange(a),lastIndex:this._lastItemFromRange(b)}:{firstIndex:0,lastIndex:-1}},getAdjacent:function(b,c){function d(){var a={type:b.type,index:b.index-g.startIndex},c=g.getAdjacent(a,h);if("boundary"===c){var d=e._groups[f-1],i=e._groups[f+1],j=e._groups.length-1;if(h===H.leftArrow){if(0===f)return b;if(d instanceof T.UniformGroup&&g instanceof T.UniformGroup){var k=e._indexToCoordinate(a.index),l=e._horizontal?k.row:k.column,m=Math.floor((d.count-1)/e._itemsPerBar),n=m*e._itemsPerBar;return{type:o.ObjectType.item,index:d.startIndex+Math.min(d.count-1,n+l)}}return{type:o.ObjectType.item,index:g.startIndex-1}}if(h===H.rightArrow){if(f===j)return b;if(g instanceof T.UniformGroup&&i instanceof T.UniformGroup){var k=e._indexToCoordinate(a.index),l=e._horizontal?k.row:k.column;return{type:o.ObjectType.item,index:i.startIndex+Math.min(i.count-1,l)}}return{type:o.ObjectType.item,index:i.startIndex}}return b}return c.index+=g.startIndex,c}var e=this,f=e._site.groupIndexFromItemIndex(b.index),g=e._groups[f],h=e._adjustedKeyForOrientationAndBars(e._adjustedKeyForRTL(c),g instanceof T.CellSpanningGroup);if(b.type||(b.type=o.ObjectType.item),b.type===o.ObjectType.item||c!==H.pageUp&&c!==H.pageDown){if(b.type===o.ObjectType.header&&h===H.rightArrow)return{type:e._groupsEnabled?o.ObjectType.groupHeader:o.ObjectType.footer,index:0};if(b.type===o.ObjectType.footer&&h===H.leftArrow)return{type:e._groupsEnabled?o.ObjectType.groupHeader:o.ObjectType.header,index:0};if(b.type===o.ObjectType.groupHeader){if(h===H.leftArrow){var i=b.index-1;return i=e._site.header?i:Math.max(0,i),{type:i>-1?o.ObjectType.groupHeader:o.ObjectType.header,index:i>-1?i:0}}if(h===H.rightArrow){var i=b.index+1;return i=e._site.header?i:Math.min(e._groups.length-1,b.index+1),{type:i>=e._groups.length?o.ObjectType.header:o.ObjectType.groupHeader,index:i>=e._groups.length?0:i}}return b}}else{var j=0;j=b.type===o.ObjectType.groupHeader?e._groups[b.index].startIndex:b.type===o.ObjectType.header?0:e._groups[e._groups.length-1].count-1,b={type:o.ObjectType.item,index:j}}switch(e._adjustedKeyForRTL(c)){case H.upArrow:case H.leftArrow:case H.downArrow:case H.rightArrow:return d();default:return a._LayoutCommon.prototype._getAdjacentForPageKeys.call(e,b,c)}},hitTest:function(a,b){var c,d=this._sizes;a-=d.layoutOriginX,b-=d.layoutOriginY;var e=this._groupFromOffset(this._horizontal?a:b),f=this._groups[e];return this._horizontal?a-=f.offset:b-=f.offset,this._groupsEnabled&&(this._groupHeaderPosition===U.left?a-=d.headerContainerWidth:b-=d.headerContainerHeight),c=f.hitTest(a,b),c.index+=f.startIndex,c.insertAfterIndex+=f.startIndex,c},setupAnimations:function(){if(0===this._groups.length)return void this._resetAnimationCaches();if(!Object.keys(this._cachedItemRecords).length){this._site._writeProfilerMark("Animation:setupAnimations,StartTM");for(var a=this._getRealizationRange(),b=this._site.tree,c=0,d="horizontal"===this.orientation,e=0,f=b.length;e<f;e++){var g=b[e],h=!1,i=this._groups[e],j=i instanceof T.CellSpanningGroup,k=i?i.offset:0;if(A(g.itemsContainer,function(b,d){if(a.firstIndex<=c&&a.lastIndex>=c&&(h=!0,!this._cachedItemRecords[c])){var f=this._getItemPositionForAnimations(c,e,d),g=f.row,i=f.column,k=f.left,l=f.top;this._cachedItemRecords[c]={oldRow:g,oldColumn:i,oldLeft:k,oldTop:l,width:f.width,height:f.height,element:b,inCellSpanningGroup:j}}c++}.bind(this)),h){var l=e;if(!this._cachedHeaderRecords[l]){var m=this._getHeaderPositionForAnimations(l);this._cachedHeaderRecords[l]={oldLeft:m.left,oldTop:m.top,width:m.width,height:m.height,element:g.header}}this._cachedGroupRecords[I(g.itemsContainer.element)]||(this._cachedGroupRecords[I(g.itemsContainer.element)]={oldLeft:d?k:0,left:d?k:0,oldTop:d?0:k,top:d?0:k,element:g.itemsContainer.element})}}this._site._writeProfilerMark("Animation:setupAnimations,StopTM")}},_layoutAnimations:function(a,b){if(Object.keys(this._cachedItemRecords).length||Object.keys(this._cachedGroupRecords).length||Object.keys(this._cachedHeaderRecords).length){this._site._writeProfilerMark("Animation:layoutAnimation,StartTM"),this._updateAnimationCache(a,b);for(var c=this._getRealizationRange(),d=this._site.tree,e=0,f="horizontal"===this.orientation,g=0,h=d.length;g<h;g++){var i=d[g],j=this._groups[g],k=j instanceof T.CellSpanningGroup,l=j?j.offset:0,n=0,o=0,q=this._cachedGroupRecords[I(i.itemsContainer.element)];q&&(f?n=q.oldLeft-l:o=q.oldTop-l),A(i.itemsContainer,function(a,b){if(c.firstIndex<=e&&c.lastIndex>=e){var d=this._cachedItemRecords[e];if(d){var f=this._getItemPositionForAnimations(e,g,b),h=f.row,i=f.column,j=f.left,l=f.top;if(d.inCellSpanningGroup=d.inCellSpanningGroup||k,d.oldRow!==h||d.oldColumn!==i||d.oldTop!==l||d.oldLeft!==j){d.row=h,d.column=i,d.left=j,d.top=l;var q=d.oldLeft-d.left-n,r=d.oldTop-d.top-o;if(q=(this._site.rtl?-1:1)*q,d.xOffset=q,d.yOffset=r,0!==q||0!==r){var s=d.element;d.needsToResetTransform=!0,s.style[P]="",s.style[O.scriptName]="translate("+q+"px,"+r+"px)"}var t=a.parentNode;m.hasClass(t,p._itemsBlockClass)&&(this._animatingItemsBlocks[I(t)]=t)}}else this._cachedInsertedItemRecords[e]=a,a.style[P]="",a.style.opacity=0}e++}.bind(this));var r=g,s=this._cachedHeaderRecords[r];if(s){var t=this._getHeaderPositionForAnimations(r);if(s.height=t.height,s.width=t.width,s.oldLeft!==t.left||s.oldTop!==t.top){s.left=t.left,s.top=t.top;var u=s.oldLeft-s.left,v=s.oldTop-s.top;if(0!==(u=(this._site.rtl?-1:1)*u)||0!==v){s.needsToResetTransform=!0;var w=s.element;w.style[P]="",w.style[O.scriptName]="translate("+u+"px,"+v+"px)"}}}if(q&&(f&&q.left!==l||!f&&q.top!==l)){var x=q.element;if(0===n&&0===o)q.needsToResetTransform&&(q.needsToResetTransform=!1,x.style[O.scriptName]="");else{var y=(this._site.rtl?-1:1)*n,z=o;q.needsToResetTransform=!0,x.style[P]="",x.style[O.scriptName]="translate("+y+"px, "+z+"px)"}}}if(this._inListMode||1===this._itemsPerBar)for(var B=Object.keys(this._animatingItemsBlocks),C=0,D=B.length;C<D;C++)this._animatingItemsBlocks[B[C]].style.overflow="visible";this._site._writeProfilerMark("Animation:layoutAnimation,StopTM")}},executeAnimations:function(){function b(){if(e(),H)f();else{if(aa._itemsPerBar>1)for(var a=aa._itemsPerBar*aa._sizes.containerCrossSize+aa._getHeaderSizeContentAdjustment()+aa._sizes.containerMargins[U?"top":v.rtl?"right":"left"]+(U?aa._sizes.layoutOriginY:aa._sizes.layoutOriginX),b=0,c=y.length;b<c;b++){var d=y[b];d[V]>d[W]?(N=Math.max(N,d[X]+d[U?"height":"width"]),R=Math.max(R,a-d[Y]),J=!0,T.push(d)):d[V]<d[W]&&(Q=Math.max(Q,a-d[X]),S=Math.max(S,d[Y]+d[U?"height":"width"]),T.push(d),J=!0)}v.rtl&&!U&&(N*=-1,R*=-1,Q*=-1,S*=-1),J?j(aa._itemsPerBar):q()}}function c(b){F=i.join(G),F.done(function(){G=[],t&&(a.Layout._debugAnimations?d._requestAnimationFrame(function(){b()}):b())})}function e(){if(x.length){v._writeProfilerMark("Animation:setupRemoveAnimation,StartTM"),B+=60,E+=60;var a=120;u&&(a*=10),G.push(h.executeTransition(x,[{property:"opacity",delay:A,duration:a,timing:"linear",to:0,skipStylesReset:!0}])),v._writeProfilerMark("Animation:setupRemoveAnimation,StopTM")}}function f(){v._writeProfilerMark("Animation:cellSpanningFadeOutMove,StartTM");for(var a=[],b=0,d=y.length;b<d;b++){var e=y[b],f=e.element;a.push(f)}for(var b=0,d=z.length;b<d;b++){var e=z[b],f=e.element;a.push(f)}var i=120;u&&(i*=10),G.push(h.executeTransition(a,{property:"opacity",delay:A,duration:i,timing:"linear",to:0})),c(g),v._writeProfilerMark("Animation:cellSpanningFadeOutMove,StopTM")}function g(){v._writeProfilerMark("Animation:cellSpanningFadeInMove,StartTM"),E=0;for(var a=[],b=0,c=y.length;b<c;b++){var d=y[b],e=d.element;e.style[O.scriptName]="",a.push(e)}for(var b=0,c=z.length;b<c;b++){var d=z[b],e=d.element;e.style[O.scriptName]="",a.push(e)}var f=120;u&&(f*=10),G.push(h.executeTransition(a,{property:"opacity",delay:E,duration:f,timing:"linear",to:1})),v._writeProfilerMark("Animation:cellSpanningFadeInMove,StopTM"),r()}function j(a){v._writeProfilerMark("Animation:setupReflowAnimation,StartTM");for(var b={},d=0,e=T.length;d<e;d++){var f=T[d],g=f.xOffset,i=f.yOffset;f[V]>f[W]?U?i-=N:g-=N:f[V]<f[W]&&(U?i+=Q:g+=Q);var j=f.element;K=Math.min(K,U?g:i),L=Math.max(L,U?g:i);var k=j.parentNode;m.hasClass(k,"win-itemscontainer")||(k=k.parentNode);var l=b[I(k)];if(!l){var n=D(C(k,v.tree));b[I(k)]=l=Math.ceil(n/a)-1}T[d][U?"column":"row"]===l&&(M[I(k)]=k);var q=80;u&&(q*=10),G.push(h.executeTransition(j,{property:O.cssName,delay:B,duration:q,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"translate("+g+"px,"+i+"px)"}))}for(var r=Object.keys(M),d=0,e=r.length;d<e;d++){var s=M[r[d]];v.rtl&&U?(s.style.paddingLeft=-1*K+"px",s.style.marginLeft=K+"px"):(s.style[U?"paddingRight":"paddingBottom"]=L+"px",s.style[U?"marginRight":"marginBottom"]="-"+L+"px")}for(var t=Object.keys(Z),d=0,e=t.length;d<e;d++)Z[t[d]].classList.add(p._clipClass);c(o),v._writeProfilerMark("Animation:setupReflowAnimation,StopTM")}function n(){for(var a=Object.keys(M),b=0,c=a.length;b<c;b++){var d=M[a[b]];v.rtl&&U?(d.style.paddingLeft="",d.style.marginLeft=""):(d.style[U?"paddingRight":"paddingBottom"]="",d.style[U?"marginRight":"marginBottom"]="")}M={};for(var e=Object.keys(Z),b=0,c=e.length;b<c;b++){var f=Z[e[b]];f.style.overflow="",f.classList.remove(p._clipClass)}}function o(){v._writeProfilerMark("Animation:prepareReflowedItems,StartTM");for(var b=0,c=T.length;b<c;b++){var e=T[b],f=0,g=0;e[V]>e[W]?U?g=R:f=R:e[V]<e[W]&&(U?g=-1*S:f=-1*S),e.element.style[P]="",e.element.style[O.scriptName]="translate("+f+"px,"+g+"px)"}v._writeProfilerMark("Animation:prepareReflowedItems,StopTM"),a.Layout._debugAnimations?d._requestAnimationFrame(function(){q(!0)}):q(!0)}function q(a){var b=200;if(a&&(b=150,B=0,E=0),u&&(b*=10),y.length>0||z.length>0){v._writeProfilerMark("Animation:setupMoveAnimation,StartTM");for(var c=[],d=0,e=z.length;d<e;d++){var f=z[d].element;c.push(f)}for(var d=0,e=y.length;d<e;d++){var f=y[d].element;c.push(f)}G.push(h.executeTransition(c,{property:O.cssName,delay:B,duration:b,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""})),E+=80,v._writeProfilerMark("Animation:setupMoveAnimation,StopTM")}r()}function r(){if(w.length>0){v._writeProfilerMark("Animation:setupInsertAnimation,StartTM");var a=120;u&&(a*=10),G.push(h.executeTransition(w,[{property:"opacity",delay:E,duration:a,timing:"linear",to:1}])),v._writeProfilerMark("Animation:setupInsertAnimation,StopTM")}c(s)}function s(){v._writeProfilerMark("Animation:cleanupAnimations,StartTM"),n();for(var a=0,b=x.length;a<b;a++){var c=x[a];c.parentNode&&(l._disposeElement(c),c.parentNode.removeChild(c))}v._writeProfilerMark("Animation:cleanupAnimations,StopTM"),aa._animationsRunning=null,t.complete()}var t=new k;if(this._filterInsertedElements(),this._filterMovedElements(),this._filterRemovedElements(),0===this._insertedElements.length&&0===this._removedElements.length&&0===this._itemMoveRecords.length&&0===this._moveRecords.length)return this._resetAnimationCaches(!0),t.complete(),t.promise;this._animationsRunning=t.promise;for(var u=a.Layout._debugAnimations||a.Layout._slowAnimations,v=this._site,w=this._insertedElements,x=this._removedElements,y=this._itemMoveRecords,z=this._moveRecords,A=0,B=0,E=0,F=null,G=[],H=!1,J=!1,K=0,L=0,M={},N=0,Q=0,R=0,S=0,T=[],U="horizontal"===this.orientation,V=U?"oldColumn":"oldRow",W=U?"column":"row",X=U?"oldTop":"oldLeft",Y=U?"top":"left",Z=this._animatingItemsBlocks,$=0,_=y.length;$<_;$++){if(y[$].inCellSpanningGroup){H=!0;break}}var aa=this;return a.Layout._debugAnimations?d._requestAnimationFrame(function(){b()}):b(),this._resetAnimationCaches(!0),t.promise.then(null,function(){n();for(var a=0,b=z.length;a<b;a++){var c=z[a].element;c.style[O.scriptName]="",c.style.opacity=1}for(var a=0,b=y.length;a<b;a++){var c=y[a].element;c.style[O.scriptName]="",c.style.opacity=1}for(var a=0,b=w.length;a<b;a++)w[a].style.opacity=1;for(var a=0,b=x.length;a<b;a++){var c=x[a];c.parentNode&&(l._disposeElement(c),c.parentNode.removeChild(c))}this._animationsRunning=null,t=null,F&&F.cancel()}.bind(this)),t.promise},dragOver:function(a,b,c){var d=this.hitTest(a,b),e=this._groups?this._site.groupIndexFromItemIndex(d.index):0,f=this._site.tree[e].itemsContainer,g=D(f),h=this._groups?this._groups[e].startIndex:0,i=this._getVisibleRange();d.index-=h,d.insertAfterIndex-=h,i.firstIndex=Math.max(i.firstIndex-h-1,0),i.lastIndex=Math.min(i.lastIndex-h+1,g);var j=Math.max(Math.min(g-1,d.insertAfterIndex),-1),k=Math.min(j+1,g);if(c){for(var l=j;l>=i.firstIndex;l--){if(!c._isIncluded(l+h)){j=l;break}l===i.firstIndex&&(j=-1)}for(var l=k;l<i.lastIndex;l++){if(!c._isIncluded(l+h)){k=l;break}l===i.lastIndex-1&&(k=g)}}var m=B(f,k),n=B(f,j);if(this._animatedDragItems)for(var l=0,o=this._animatedDragItems.length;l<o;l++){var p=this._animatedDragItems[l];p&&(p.style[P]=this._site.animationsDisabled?"":Q,p.style[O.scriptName]="")}this._animatedDragItems=[];var q="horizontal"===this.orientation,r=this._inListMode||1===this._itemsPerBar;this._groups&&this._groups[e]instanceof T.CellSpanningGroup&&(r=1===this._groups[e]._slotsPerColumn);var s=0,t=0;!q&&!r||q&&r?s=this._site.rtl?-R:R:t=R,m&&(m.style[P]=this._site.animationsDisabled?"":Q,m.style[O.scriptName]="translate("+s+"px, "+t+"px)",this._animatedDragItems.push(m)),n&&(n.style[P]=this._site.animationsDisabled?"":Q,n.style[O.scriptName]="translate("+-s+"px, -"+t+"px)",this._animatedDragItems.push(n))},dragLeave:function(){if(this._animatedDragItems)for(var a=0,b=this._animatedDragItems.length;a<b;a++)this._animatedDragItems[a].style[P]=this._site.animationsDisabled?"":Q,this._animatedDragItems[a].style[O.scriptName]="";this._animatedDragItems=[]},_setMaxRowsOrColumns:function(a){a===this._maxRowsOrColumns||this._inListMode||(this._sizes&&this._sizes.containerSizeLoaded&&(this._itemsPerBar=Math.floor(this._sizes.maxItemsContainerContentSize/this._sizes.containerCrossSize),a&&(this._itemsPerBar=Math.min(this._itemsPerBar,a)),this._itemsPerBar=Math.max(1,this._itemsPerBar)),this._maxRowsOrColumns=a,this._invalidateLayout())},_getItemPosition:function(a){if(this._groupsEnabled){var b=Math.min(this._groups.length-1,this._site.groupIndexFromItemIndex(a)),c=this._groups[b],d=a-c.startIndex;return this._getItemPositionForAnimations(a,b,d)}return this._getItemPositionForAnimations(a,0,a)},_getRealizationRange:function(){var a=this._site.realizedRange;return{firstIndex:this._firstItemFromRange(a.firstPixel),lastIndex:this._lastItemFromRange(a.lastPixel)}},_getVisibleRange:function(){var a=this._site.visibleRange;return{firstIndex:this._firstItemFromRange(a.firstPixel),lastIndex:this._lastItemFromRange(a.lastPixel)}},_resetAnimationCaches:function(a){if(!a){this._resetStylesForRecords(this._cachedGroupRecords),this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords),this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords),this._resetStylesForRemovedRecords(this._cachedRemovedItems),this._resetStylesForRemovedRecords(this._cachedRemovedHeaders);for(var b=Object.keys(this._animatingItemsBlocks),c=0,d=b.length;c<d;c++){var e=this._animatingItemsBlocks[b[c]];e.style.overflow="",e.classList.remove(p._clipClass)}}this._cachedGroupRecords={},this._cachedItemRecords={},this._cachedHeaderRecords={},this._cachedInsertedItemRecords={},this._cachedInsertedHeaderRecords={},this._cachedRemovedItems=[],this._cachedRemovedHeaders=[],this._animatingItemsBlocks={}},_cacheRemovedElements:function(a,b,c,d,e){var f="left";this._site.rtl&&(f="right");var g,h;e?(g=this._sizes.headerContainerOuterX,h=this._sizes.headerContainerOuterY):(g=this._sizes.containerMargins[f],h=this._sizes.containerMargins.top);for(var i=0,j=a.length;i<j;i++){var k=a[i];if(-1===k.newIndex){var l=k.element,m=b[k.oldIndex];m&&(m.element=l,delete b[k.oldIndex],l.style.position="absolute",l.style[P]="",l.style.top=m.oldTop-h+"px",l.style[f]=m.oldLeft-g+"px",l.style.width=m.width+"px",l.style.height=m.height+"px",l.style[O.scriptName]="",this._site.surface.appendChild(l),d.push(m)),c[k.oldIndex]&&delete c[k.oldIndex]}}},_cacheInsertedElements:function(a,b,c){for(var d={},e=0,f=a.length;e<f;e++){var g=a[e],h=b[g.oldIndex];if(h&&delete b[g.oldIndex],h||-1===g.oldIndex||g.moved){c[g.newIndex]&&delete c[g.newIndex];var i=g.element;d[g.newIndex]=i,i.style[P]="",i.style[O.scriptName]="",i.style.opacity=0}}for(var j=Object.keys(b),e=0,f=j.length;e<f;e++)d[j[e]]=b[j[e]];return d},_resetStylesForRecords:function(a){for(var b=Object.keys(a),c=0,d=b.length;c<d;c++){var e=a[b[c]];e.needsToResetTransform&&(e.element.style[O.scriptName]="",e.needsToResetTransform=!1)}},_resetStylesForInsertedRecords:function(a){for(var b=Object.keys(a),c=0,d=b.length;c<d;c++){a[b[c]].style.opacity=1}},_resetStylesForRemovedRecords:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b].element;d.parentNode&&(l._disposeElement(d),d.parentNode.removeChild(d))}},_updateAnimationCache:function(a,b){function c(a,b){for(var c={},e=0,f=a.length;e<f;e++){var g=a[e],h=b[g.oldIndex];h&&(c[g.newIndex]=h,h.element=g.element,delete b[g.oldIndex])}for(var i=Object.keys(b),e=0,f=i.length;e<f;e++){var j=i[e],k=b[j];k.element&&!d[I(k.element)]||(c[j]=k)}return c}this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords),this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords);for(var d={},e=this._getRealizationRange(),f=this._site.tree,g=0,h=0,i=f.length;g<i;g++)A(f[g].itemsContainer,function(a){e.firstIndex<=h&&e.lastIndex>=h&&(d[I(a)]=!0),h++});this._cachedItemRecords=c(a,this._cachedItemRecords),this._cachedHeaderRecords=c(b,this._cachedHeaderRecords),this._cachedInsertedItemRecords=this._cacheInsertedElements(a,this._cachedInsertedItemRecords,this._cachedItemRecords),this._cachedInsertedHeaderRecords=this._cacheInsertedElements(b,this._cachedInsertedHeaderRecords,this._cachedHeaderRecords)},_filterRemovedElements:function(){function a(a,g){for(var h=0,i=a.length;h<i;h++){var j=a[h],k=j.element;j[c]+j[d]-1<e||j[c]>f||!b._site.viewport.contains(k)?k.parentNode&&(l._disposeElement(k),k.parentNode.removeChild(k)):g.push(k)}}if(this._removedElements=[],this._site.animationsDisabled)return this._resetStylesForRemovedRecords(this._cachedRemovedItems),void this._resetStylesForRemovedRecords(this._cachedRemovedHeaders);var b=this,c="horizontal"===this.orientation?"oldLeft":"oldTop",d="horizontal"===this.orientation?"width":"height",e=this._site.scrollbarPos,f=e+this._site.viewportSize[d]-1;a(this._cachedRemovedItems,this._removedElements),a(this._cachedRemovedHeaders,this._removedElements)},_filterInsertedElements:function(){function a(a,d){for(var e=Object.keys(a),f=0,g=e.length;f<g;f++){var h=e[f],i=a[h];h<c.firstIndex||h>c.lastIndex||b._site.viewport.contains(i.element)?i.style.opacity=1:d.push(i)}}if(this._insertedElements=[],this._site.animationsDisabled)return this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),void this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords);var b=this,c=this._getVisibleRange();a(this._cachedInsertedItemRecords,this._insertedElements),a(this._cachedInsertedHeaderRecords,this._insertedElements)},_filterMovedElements:function(){var a=this,b="horizontal"===this.orientation?"oldLeft":"oldTop",c="horizontal"===this.orientation?"left":"top",d="horizontal"===this.orientation?"width":"height",e=this._getRealizationRange(),f=this._site.scrollbarPos,g=f+this._site.viewportSize[d]-1;if(this._itemMoveRecords=[],this._moveRecords=[],!this._site.animationsDisabled)for(var h=this._site.tree,i=0,j=0,k=h.length;j<k;j++){var l=h[j],m=!1;A(l.itemsContainer,function(){if(e.firstIndex<=i&&e.lastIndex>=i){var h=this._cachedItemRecords[i];if(h){(h[b]+h[d]-1>=f&&h[b]<=g||h[c]+h[d]-1>=f&&h[c]<=g)&&a._site.viewport.contains(h.element)&&(m=!0,h.needsToResetTransform&&(this._itemMoveRecords.push(h),delete this._cachedItemRecords[i]))}}i++}.bind(this));var n=j,o=this._cachedHeaderRecords[n];o&&m&&o.needsToResetTransform&&(this._moveRecords.push(o),delete this._cachedHeaderRecords[n]);var p=this._cachedGroupRecords[I(l.itemsContainer.element)];p&&m&&p.needsToResetTransform&&(this._moveRecords.push(p),delete this._cachedGroupRecords[I(l.itemsContainer.element)])}this._resetStylesForRecords(this._cachedGroupRecords),this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords)},_getItemPositionForAnimations:function(a,b,c){var d=this._groups[b],e=d.getItemPositionForAnimations(c),f=this._groups[b]?this._groups[b].offset:0,g=this._groupsEnabled&&this._groupHeaderPosition===U.left?this._sizes.headerContainerWidth:0,h=this._groupsEnabled&&this._groupHeaderPosition===U.top?this._sizes.headerContainerHeight:0;return e.left+=this._sizes.layoutOriginX+g+this._sizes.itemsContainerOuterX,e.top+=this._sizes.layoutOriginY+h+this._sizes.itemsContainerOuterY,e[this._horizontal?"left":"top"]+=f,e},_getHeaderPositionForAnimations:function(a){var b;if(this._groupsEnabled){var c=this._sizes.headerContainerWidth-this._sizes.headerContainerOuterWidth,d=this._sizes.headerContainerHeight-this._sizes.headerContainerOuterHeight;this._groupHeaderPosition!==U.left||this._horizontal?this._groupHeaderPosition===U.top&&this._horizontal&&(c=this._groups[a].getItemsContainerSize()-this._sizes.headerContainerOuterWidth):d=this._groups[a].getItemsContainerSize()-this._sizes.headerContainerOuterHeight;var e=this._horizontal?this._groups[a].offset:0,f=this._horizontal?0:this._groups[a].offset;b={top:this._sizes.layoutOriginY+f+this._sizes.headerContainerOuterY,left:this._sizes.layoutOriginX+e+this._sizes.headerContainerOuterX,height:d,width:c}}else b={top:0,left:0,height:0,width:0};return b},_rangeContainsItems:function(a,b){if(0===this._groups.length)return!1;var c=this._groups[this._groups.length-1],d=this._sizes.layoutOrigin+c.offset+this._getGroupSize(c)-1;return b>=0&&a<=d},_itemFromOffset:function(a,b){function c(a){if(!b.wholeItem){var c=e._horizontal?e._site.rtl?"right":"left":"top",d=e._horizontal?e._site.rtl?"left":"right":"bottom";return b.last?a-e._sizes.containerMargins[c]:a+e._sizes.containerMargins[d]}return a}function d(a){return b.last?a-e._getHeaderSizeGroupAdjustment()-e._sizes.itemsContainerOuterStart:a}var e=this;if(0===this._groups.length)return 0;b=b||{},a-=this._sizes.layoutOrigin,a=c(a);var f=this._groupFromOffset(d(a)),g=this._groups[f];return a-=g.offset,a-=this._getHeaderSizeGroupAdjustment(),g.startIndex+g.itemFromOffset(a,b)},_firstItemFromRange:function(a,b){return b=b||{},b.last=0,this._itemFromOffset(a,b)},_lastItemFromRange:function(a,b){return b=b||{},b.last=1,this._itemFromOffset(a,b)},_adjustedKeyForRTL:function(a){return this._site.rtl&&(a===H.leftArrow?a=H.rightArrow:a===H.rightArrow&&(a=H.leftArrow)),a},_adjustedKeyForOrientationAndBars:function(a,b){var c=a;if(b)return a;if(!this._horizontal)switch(c){case H.leftArrow:c=H.upArrow;break;case H.rightArrow:c=H.downArrow;break;case H.upArrow:c=H.leftArrow;break;case H.downArrow:c=H.rightArrow}return 1===this._itemsPerBar&&(c===H.upArrow?c=H.leftArrow:c===H.downArrow&&(c=H.rightArrow)),c},_getAdjacentForPageKeys:function(a,b){var c,d=this._sizes.containerMargins,e="horizontal"===this.orientation?d.left+d.right:d.top+d.bottom,f=this._site.viewportSize["horizontal"===this.orientation?"width":"height"],g=this._site.scrollbarPos,h=g+f-1-d["horizontal"===this.orientation?"right":"bottom"],i=this._firstItemFromRange(g,{wholeItem:!0}),j=this._lastItemFromRange(h,{wholeItem:!1}),k=this._getItemPosition(a.index),l=!1;if((a.index<i||a.index>j)&&(l=!0,g="horizontal"===this.orientation?k.left-e:k.top-e,h=g+f-1,i=this._firstItemFromRange(g,{wholeItem:!0}),j=this._lastItemFromRange(h,{wholeItem:!1})),b===H.pageUp){if(!l&&i!==a.index)return{type:o.ObjectType.item,index:i};var m;m="horizontal"===this.orientation?k.left+k.width+e+d.left:k.top+k.height+e+d.bottom;var n=this._firstItemFromRange(m-f,{wholeItem:!0});c=a.index===n?Math.max(0,a.index-this._itemsPerBar):n}else{if(!l&&j!==a.index)return{type:o.ObjectType.item,index:j};var p;p="horizontal"===this.orientation?k.left-e-d.right:k.top-e-d.bottom;var q=Math.max(0,this._lastItemFromRange(p+f-1,{wholeItem:!0}));c=a.index===q?a.index+this._itemsPerBar:q}return{type:o.ObjectType.item,index:c}},_isCellSpanning:function(a){var b=this._site.groupFromIndex(a),c=this._groupInfo;return!!c&&!!("function"==typeof c?c(b):c).enableCellSpanning},_getGroupInfo:function(a){var b=this._site.groupFromIndex(a),c=this._groupInfo,d=this._sizes.containerMargins,f={enableCellSpanning:!1};if(c="function"==typeof c?c(b):c){if(c.enableCellSpanning&&(+c.cellWidth!==c.cellWidth||+c.cellHeight!==c.cellHeight))throw new e("WinJS.UI.GridLayout.GroupInfoResultIsInvalid",J.groupInfoResultIsInvalid);f={enableCellSpanning:!!c.enableCellSpanning,cellWidth:c.cellWidth+d.left+d.right,cellHeight:c.cellHeight+d.top+d.bottom}}return f},_getItemInfo:function(a){var b;if(this._itemInfo&&"function"==typeof this._itemInfo)b=this._itemInfo(a);else{if(!this._useDefaultItemInfo)throw new e("WinJS.UI.GridLayout.ItemInfoIsInvalid",J.itemInfoIsInvalid);b=this._defaultItemInfo(a)}return i.as(b).then(function(a){if(!a||+a.width!==a.width||+a.height!==a.height)throw new e("WinJS.UI.GridLayout.ItemInfoIsInvalid",J.itemInfoIsInvalid);return a})},_defaultItemInfo:function(a){var b=this;return this._site.renderItem(this._site.itemFromIndex(a)).then(function(c){return b._elementsToMeasure[a]={element:c},b._measureElements()}).then(function(){var c=b._elementsToMeasure[a],d={width:c.width,height:c.height};return delete b._elementsToMeasure[a],d},function(c){return delete b._elementsToMeasure[a],i.wrapError(c)})},_getGroupSize:function(a){var b=0;return this._groupsEnabled&&(this._horizontal&&this._groupHeaderPosition===U.top?b=this._sizes.headerContainerMinWidth:this._horizontal||this._groupHeaderPosition!==U.left||(b=this._sizes.headerContainerMinHeight)),Math.max(b,a.getItemsContainerSize()+this._getHeaderSizeGroupAdjustment())},_groupFromOffset:function(a){return a<this._groups[0].offset?0:this._groupFrom(function(b){return a<b.offset})},_groupFromImpl:function(a,b,c){if(b<a)return null;var d=a+Math.floor((b-a)/2);return c(this._groups[d],d)?this._groupFromImpl(a,d-1,c):d<b&&!c(this._groups[d+1],d+1)?this._groupFromImpl(d+1,b,c):d},_groupFrom:function(a){if(this._groups.length>0){var b=this._groups.length-1;return a(this._groups[b],b)?this._groupFromImpl(0,this._groups.length-1,a):b}return null},_invalidateLayout:function(){this._site&&this._site.invalidateLayout()},_resetMeasurements:function(){this._measuringPromise&&(this._measuringPromise.cancel(),this._measuringPromise=null),this._containerSizeClassName&&(m.removeClass(this._site.surface,this._containerSizeClassName),u(this._containerSizeClassName),this._containerSizeClassName=null),this._sizes=null,this._resetAnimationCaches()},_measureElements:function(){if(!this._measuringElements){var a=this;a._measuringElements=j.schedulePromiseHigh(null,"WinJS.UI.GridLayout._measuringElements").then(function(){a._site._writeProfilerMark("_measureElements,StartTM");var c=a._createMeasuringSurface(),d=b.document.createElement("div"),e=a._site,f=a._measuringElements,g=a._elementsToMeasure,h=!1;d.className=p._itemsContainerClass+" "+p._laidOutClass,d.style.cssText+=";display: -ms-grid;-ms-grid-column: 1;-ms-grid-row: 1";var i,j,k=Object.keys(g);for(j=0,i=k.length;j<i;j++){var l=g[k[j]].element;l.style["-ms-grid-column"]=j+1,l.style["-ms-grid-row"]=j+1,d.appendChild(l)}for(c.appendChild(d),e.viewport.insertBefore(c,e.viewport.firstChild),f.then(null,function(){h=!0}),j=0,i=k.length;j<i&&!h;j++){var n=g[k[j]],o=n.element.querySelector("."+p._itemClass);n.width=m.getTotalWidth(o),n.height=m.getTotalHeight(o)}c.parentNode&&c.parentNode.removeChild(c),f===a._measuringElements&&(a._measuringElements=null),e._writeProfilerMark("_measureElements,StopTM")},function(b){return a._measuringElements=null,i.wrapError(b)})}return this._measuringElements},_ensureEnvInfo:function(){return this._envInfo||(this._envInfo=E(this._site),this._envInfo&&!this._envInfo.supportsCSSGrid&&m.addClass(this._site.surface,p._noCSSGrid)),!!this._envInfo},_createMeasuringSurface:function(){var a=b.document.createElement("div");return a.style.cssText="visibility: hidden;-ms-grid-columns: auto;-ms-grid-rows: auto;-ms-flex-align: start;-webkit-align-items: flex-start;align-items: flex-start",a.className=p._scrollableClass+" "+(this._inListMode?p._listLayoutClass:p._gridLayoutClass),this._envInfo.supportsCSSGrid||m.addClass(a,p._noCSSGrid),this._groupsEnabled&&(this._groupHeaderPosition===U.top?m.addClass(a,p._headerPositionTopClass):m.addClass(a,p._headerPositionLeftClass)),a},_measureItem:function(a){function c(a,e){var e,h=!!e,j={},k=f.rtl?"right":"left";return f.itemCount.then(function(b){return!b||d._groupsEnabled&&!f.groupCount?i.cancel:(e=e||f.itemFromIndex(a),j.container=f.renderItem(e),d._groupsEnabled&&(j.headerContainer=f.renderHeader(d._site.groupFromIndex(f.groupIndexFromItemIndex(a)))),i.join(j))}).then(function(j){function l(){var a=d._horizontal,b=d._groupsEnabled,c=!1;g.then(null,function(){c=!0});var e=G(C),h=f.rtl?f.viewport.offsetWidth-(C.offsetLeft+C.offsetWidth):C.offsetLeft,i=C.offsetTop,l={viewportContentSize:0,surfaceContentSize:0,maxItemsContainerContentSize:0,surfaceOuterHeight:y(o),surfaceOuterWidth:z(o),layoutOriginX:h-e[k],layoutOriginY:i-e.top,itemsContainerOuterHeight:y(q),itemsContainerOuterWidth:z(q),itemsContainerOuterX:x(f.rtl?"Right":"Left",q),itemsContainerOuterY:x("Top",q),itemsContainerMargins:G(q),itemBoxOuterHeight:y(s),itemBoxOuterWidth:z(s),containerOuterHeight:y(j.container),containerOuterWidth:z(j.container),emptyContainerContentHeight:m.getContentHeight(r),emptyContainerContentWidth:m.getContentWidth(r),containerMargins:G(j.container),containerWidth:0,containerHeight:0,containerSizeLoaded:!1};f.header&&(l[a?"layoutOriginX":"layoutOriginY"]+=m[a?"getTotalWidth":"getTotalHeight"](f.header)),b&&(l.headerContainerOuterX=x(f.rtl?"Right":"Left",j.headerContainer),l.headerContainerOuterY=x("Top",j.headerContainer),l.headerContainerOuterWidth=z(j.headerContainer),l.headerContainerOuterHeight=y(j.headerContainer),l.headerContainerWidth=m.getTotalWidth(j.headerContainer),l.headerContainerHeight=m.getTotalHeight(j.headerContainer),l.headerContainerMinWidth=w(j.headerContainer,"minWidth")+l.headerContainerOuterWidth,l.headerContainerMinHeight=w(j.headerContainer,"minHeight")+l.headerContainerOuterHeight);var n={sizes:l,viewportContentWidth:m.getContentWidth(f.viewport),viewportContentHeight:m.getContentHeight(f.viewport),containerContentWidth:m.getContentWidth(j.container),containerContentHeight:m.getContentHeight(j.container),containerWidth:m.getTotalWidth(j.container),containerHeight:m.getTotalHeight(j.container)};return n.viewportCrossSize=n[a?"viewportContentHeight":"viewportContentWidth"],f.readyToMeasure(),c?null:n}function n(){o.parentNode&&o.parentNode.removeChild(o)}var o=d._createMeasuringSurface(),q=b.document.createElement("div"),r=b.document.createElement("div"),s=j.container.querySelector("."+p._itemBoxClass),t=f.groupIndexFromItemIndex(a);r.className=p._containerClass,q.className=p._itemsContainerClass+" "+p._laidOutClass;var u=1,v=1,A=2,B=2,C=q,D=!1;d._inListMode&&d._groupsEnabled&&(d._horizontal&&d._groupHeaderPosition===U.top?(u=2,B=1,A=1,C=j.headerContainer,D=!0):d._horizontal||d._groupHeaderPosition!==U.left||(v=2,B=1,A=1,C=j.headerContainer,D=!0)),q.style.cssText+=";display: "+(d._inListMode?(d._horizontal?"flex":"block")+"; overflow: hidden":"inline-block")+";vertical-align:top;-ms-grid-column: "+v+";-ms-grid-row: "+u,d._inListMode||(j.container.style.display="inline-block"),d._groupsEnabled&&(j.headerContainer.style.cssText+=";display: inline-block;-ms-grid-column: "+B+";-ms-grid-row: "+A,m.addClass(j.headerContainer,p._laidOutClass+" "+p._groupLeaderClass),(d._groupHeaderPosition===U.top&&d._horizontal||d._groupHeaderPosition===U.left&&!d._horizontal)&&m.addClass(q,p._groupLeaderClass)),D&&o.appendChild(j.headerContainer),q.appendChild(j.container),q.appendChild(r),o.appendChild(q),!D&&d._groupsEnabled&&o.appendChild(j.headerContainer),f.viewport.insertBefore(o,f.viewport.firstChild);var E=l();if(!E)return n(),i.cancel;if(d._horizontal&&0===E.viewportContentHeight||!d._horizontal&&0===E.viewportContentWidth)return n(),i.cancel;if(!(h||d._isCellSpanning(t)||0!==E.containerContentWidth&&0!==E.containerContentHeight))return n(),e.then(function(){return c(a,e)});var F=d._sizes=E.sizes;if(Object.defineProperties(F,{surfaceOuterCrossSize:{get:function(){return d._horizontal?F.surfaceOuterHeight:F.surfaceOuterWidth},enumerable:!0},layoutOrigin:{get:function(){return d._horizontal?F.layoutOriginX:F.layoutOriginY},enumerable:!0},itemsContainerOuterSize:{get:function(){return d._horizontal?F.itemsContainerOuterWidth:F.itemsContainerOuterHeight},enumerable:!0},itemsContainerOuterCrossSize:{get:function(){return d._horizontal?F.itemsContainerOuterHeight:F.itemsContainerOuterWidth},enumerable:!0},itemsContainerOuterStart:{get:function(){return d._horizontal?F.itemsContainerOuterX:F.itemsContainerOuterY},enumerable:!0},itemsContainerOuterCrossStart:{get:function(){return d._horizontal?F.itemsContainerOuterY:F.itemsContainerOuterX},enumerable:!0},containerCrossSize:{get:function(){return d._horizontal?F.containerHeight:F.containerWidth},enumerable:!0},containerSize:{get:function(){return d._horizontal?F.containerWidth:F.containerHeight},enumerable:!0}}),!d._isCellSpanning(t)){if(d._inListMode){var H=E.viewportCrossSize-F.surfaceOuterCrossSize-d._getHeaderSizeContentAdjustment()-F.itemsContainerOuterCrossSize;d._horizontal?(F.containerHeight=H,F.containerWidth=E.containerWidth):(F.containerHeight=E.containerHeight,F.containerWidth=H)}else F.containerWidth=E.containerWidth,F.containerHeight=E.containerHeight;F.containerSizeLoaded=!0}d._createContainerStyleRule(),d._viewportSizeChanged(E.viewportCrossSize),n()})}var d=this,e="Layout:measureItem",f=d._site,g=d._measuringPromise;if(!g){f._writeProfilerMark(e+",StartTM");var h=new k;d._measuringPromise=g=h.promise.then(function(){return d._ensureEnvInfo()?c(a):i.cancel}).then(function(){f._writeProfilerMark(e+":complete,info"),f._writeProfilerMark(e+",StopTM")},function(a){return d._measuringPromise=null,f._writeProfilerMark(e+":canceled,info"),f._writeProfilerMark(e+",StopTM"),i.wrapError(a)}),h.complete()}return g},_getHeaderSizeGroupAdjustment:function(){if(this._groupsEnabled){if(this._horizontal&&this._groupHeaderPosition===U.left)return this._sizes.headerContainerWidth;if(!this._horizontal&&this._groupHeaderPosition===U.top)return this._sizes.headerContainerHeight}return 0},_getHeaderSizeContentAdjustment:function(){if(this._groupsEnabled){if(this._horizontal&&this._groupHeaderPosition===U.top)return this._sizes.headerContainerHeight;if(!this._horizontal&&this._groupHeaderPosition===U.left)return this._sizes.headerContainerWidth}return 0},_getViewportCrossSize:function(){return this._site.viewportSize[this._horizontal?"height":"width"]},_viewportSizeChanged:function(a){var b=this._sizes;b.viewportContentSize=a,b.surfaceContentSize=a-b.surfaceOuterCrossSize,b.maxItemsContainerContentSize=b.surfaceContentSize-b.itemsContainerOuterCrossSize-this._getHeaderSizeContentAdjustment(),b.containerSizeLoaded&&!this._inListMode?(this._itemsPerBar=Math.floor(b.maxItemsContainerContentSize/b.containerCrossSize),this.maximumRowsOrColumns&&(this._itemsPerBar=Math.min(this._itemsPerBar,this.maximumRowsOrColumns)),this._itemsPerBar=Math.max(1,this._itemsPerBar)):(this._inListMode&&(b[this._horizontal?"containerHeight":"containerWidth"]=b.maxItemsContainerContentSize),this._itemsPerBar=1),this._resetAnimationCaches()},_createContainerStyleRule:function(){var a=this._sizes;if(!this._containerSizeClassName&&a.containerSizeLoaded&&(0===a.emptyContainerContentHeight||0===a.emptyContainerContentWidth)){var b=a.containerWidth-a.containerOuterWidth+"px",c=a.containerHeight-a.containerOuterHeight+"px";this._inListMode&&(this._horizontal?c="calc(100% - "+(a.containerMargins.top+a.containerMargins.bottom)+"px)":b="auto"),this._containerSizeClassName||(this._containerSizeClassName=r("containersize"),m.addClass(this._site.surface,this._containerSizeClassName));var d="."+p._containerClass,e="width:"+b+";height:"+c+";";t(this._containerSizeClassName,this._site,d,e)}},_ensureContainerSize:function(a){var b=this._sizes;if(b.containerSizeLoaded||this._ensuringContainerSize)return this._ensuringContainerSize?this._ensuringContainerSize:i.wrap();var c;if(this._itemInfo&&"function"==typeof this._itemInfo||!this._useDefaultItemInfo)c=this._getItemInfo();else{var d=b.containerMargins;c=i.wrap({width:a.groupInfo.cellWidth-d.left-d.right,height:a.groupInfo.cellHeight-d.top-d.bottom})}var e=this;return this._ensuringContainerSize=c.then(function(a){b.containerSizeLoaded=!0,b.containerWidth=a.width+b.itemBoxOuterWidth+b.containerOuterWidth,b.containerHeight=a.height+b.itemBoxOuterHeight+b.containerOuterHeight,e._inListMode?e._itemsPerBar=1:(e._itemsPerBar=Math.floor(b.maxItemsContainerContentSize/b.containerCrossSize),e.maximumRowsOrColumns&&(e._itemsPerBar=Math.min(e._itemsPerBar,e.maximumRowsOrColumns)),e._itemsPerBar=Math.max(1,e._itemsPerBar)),e._createContainerStyleRule()}),c.done(function(){e._ensuringContainerSize=null},function(){e._ensuringContainerSize=null}),c},_indexToCoordinate:function(a,b){b=b||this._itemsPerBar;var c=Math.floor(a/b);return this._horizontal?{column:c,row:a-c*b}:{row:c,column:a-c*b}},_rangeForGroup:function(a,b){var c=a.startIndex,d=c+a.count-1;return!b||b.firstIndex>d||b.lastIndex<c?null:{firstIndex:Math.max(0,b.firstIndex-c),lastIndex:Math.min(a.count-1,b.lastIndex-c)}},_syncDomWithGroupHeaderPosition:function(a){if(this._groupsEnabled&&this._oldGroupHeaderPosition!==this._groupHeaderPosition){var b,c=a.length;if(this._oldGroupHeaderPosition===U.top)if(m.removeClass(this._site.surface,p._headerPositionTopClass),this._horizontal)for(b=0;b<c;b++)a[b].header.style.maxWidth="",m.removeClass(a[b].itemsContainer.element,p._groupLeaderClass);else this._site.surface.style.msGridRows="";else if(this._oldGroupHeaderPosition===U.left){if(m.removeClass(this._site.surface,p._headerPositionLeftClass),!this._horizontal)for(b=0;b<c;b++)a[b].header.style.maxHeight="",m.removeClass(a[b].itemsContainer.element,p._groupLeaderClass);this._site.surface.style.msGridColumns=""}if(this._groupHeaderPosition===U.top){if(m.addClass(this._site.surface,p._headerPositionTopClass),this._horizontal)for(b=0;b<c;b++)m.addClass(a[b].itemsContainer.element,p._groupLeaderClass)}else if(m.addClass(this._site.surface,p._headerPositionLeftClass),!this._horizontal)for(b=0;b<c;b++)m.addClass(a[b].itemsContainer.element,p._groupLeaderClass);this._oldGroupHeaderPosition=this._groupHeaderPosition}},_layoutGroup:function(a){var b=this._groups[a],c=this._site.tree[a],d=c.header,e=c.itemsContainer.element,f=this._sizes,g=b.getItemsContainerCrossSize();if(this._groupsEnabled){if(this._horizontal)if(this._groupHeaderPosition===U.top){var h=f.headerContainerMinWidth-f.headerContainerOuterWidth,i=b.getItemsContainerSize()-f.headerContainerOuterWidth;d.style.maxWidth=Math.max(h,i)+"px",this._envInfo.supportsCSSGrid?(d.style.msGridColumn=a+1,e.style.msGridColumn=a+1):(d.style.height=f.headerContainerHeight-f.headerContainerOuterHeight+"px",e.style.height=g-f.itemsContainerOuterHeight+"px",e.style.marginBottom=f.itemsContainerMargins.bottom+(f.maxItemsContainerContentSize-g+f.itemsContainerOuterHeight)+"px"),m.addClass(e,p._groupLeaderClass)}else this._envInfo.supportsCSSGrid?(d.style.msGridColumn=2*a+1,e.style.msGridColumn=2*a+2):(d.style.width=f.headerContainerWidth-f.headerContainerOuterWidth+"px",d.style.height=g-f.headerContainerOuterHeight+"px",e.style.height=g-f.itemsContainerOuterHeight+"px");else if(this._groupHeaderPosition===U.left){var j=f.headerContainerMinHeight-f.headerContainerOuterHeight,k=b.getItemsContainerSize()-f.headerContainerOuterHeight;d.style.maxHeight=Math.max(j,k)+"px",this._envInfo.supportsCSSGrid?(d.style.msGridRow=a+1,e.style.msGridRow=a+1):(d.style.width=f.headerContainerWidth-f.headerContainerOuterWidth+"px",e.style.width=g-f.itemsContainerOuterWidth+"px",e.style["margin"+(this._site.rtl?"Left":"Right")]=f.itemsContainerMargins[this._site.rtl?"left":"right"]+(f.maxItemsContainerContentSize-g+f.itemsContainerOuterWidth)+"px"),m.addClass(e,p._groupLeaderClass)}else d.style.msGridRow=2*a+1,this._inListMode?d.style.height=f.headerContainerHeight-f.headerContainerOuterHeight+"px":this._envInfo.supportsCSSGrid?e.style.msGridRow=2*a+2:(d.style.height=f.headerContainerHeight-f.headerContainerOuterHeight+"px",d.style.width=g-f.headerContainerOuterWidth+"px",e.style.width=g-f.itemsContainerOuterWidth+"px");m.addClass(d,p._laidOutClass+" "+p._groupLeaderClass)}m.addClass(e,p._laidOutClass)}},{_barsPerItemsBlock:4})}),_LegacyLayout:c.Namespace._lazy(function(){return c.Class.derive(a._LayoutCommon,null,{disableBackdrop:{get:function(){return this._backdropDisabled||!1},set:function(a){if(m._deprecated(q.disableBackdropIsDeprecated),a=!!a,this._backdropDisabled!==a&&(this._backdropDisabled=a,this._disableBackdropClassName&&(u(this._disableBackdropClassName),this._site&&m.removeClass(this._site.surface,this._disableBackdropClassName),this._disableBackdropClassName=null),this._disableBackdropClassName=r("disablebackdrop"),this._site&&m.addClass(this._site.surface,this._disableBackdropClassName),a)){t(this._disableBackdropClassName,this._site,".win-container.win-backdrop","background-color:transparent;")}}},backdropColor:{get:function(){return this._backdropColor||"rgba(155,155,155,0.23)"},set:function(a){if(m._deprecated(q.backdropColorIsDeprecated),a&&this._backdropColor!==a){this._backdropColor=a,this._backdropColorClassName&&(u(this._backdropColorClassName),this._site&&m.removeClass(this._site.surface,this._backdropColorClassName),this._backdropColorClassName=null),this._backdropColorClassName=r("backdropcolor"),this._site&&m.addClass(this._site.surface,this._backdropColorClassName);var b="background-color:"+a+";";t(this._backdropColorClassName,this._site,".win-container.win-backdrop",b)}}}})}),GridLayout:c.Namespace._lazy(function(){return c.Class.derive(a._LegacyLayout,function(a){a=a||{},this.itemInfo=a.itemInfo,this.groupInfo=a.groupInfo,this._maxRowsOrColumns=0,this._useDefaultItemInfo=!0,this._elementsToMeasure={},this._groupHeaderPosition=a.groupHeaderPosition||U.top,this.orientation=a.orientation||"horizontal",a.maxRows&&(this.maxRows=+a.maxRows),a.maximumRowsOrColumns&&(this.maximumRowsOrColumns=+a.maximumRowsOrColumns)},{maximumRowsOrColumns:{get:function(){return this._maxRowsOrColumns},set:function(a){this._setMaxRowsOrColumns(a)}},maxRows:{get:function(){return this.maximumRowsOrColumns},set:function(a){m._deprecated(q.maxRowsIsDeprecated),this.maximumRowsOrColumns=a}},itemInfo:{enumerable:!0,get:function(){return this._itemInfo},set:function(a){a&&m._deprecated(q.itemInfoIsDeprecated),this._itemInfo=a,this._invalidateLayout()}},groupInfo:{enumerable:!0,get:function(){return this._groupInfo},set:function(a){a&&m._deprecated(q.groupInfoIsDeprecated),this._groupInfo=a,this._invalidateLayout()}}})})});var T=c.Namespace.defineWithParent(null,null,{UniformGroupBase:c.Namespace._lazy(function(){return c.Class.define(null,{cleanUp:function(){},itemFromOffset:function(a,b){b=b||{};var c=this._layout._sizes;a-=c.itemsContainerOuterStart,b.wholeItem&&(a+=(b.last?-1:1)*(c.containerSize-1));var d=this.count-1,e=Math.floor(d/this._layout._itemsPerBar),f=v(0,e,Math.floor(a/c.containerSize)),g=(f+b.last)*this._layout._itemsPerBar-b.last;return v(0,this.count-1,g)},hitTest:function(a,b){var c=this._layout._horizontal,d=this._layout._itemsPerBar,e=this._layout._inListMode||1===d,f=c?a:b,g=c?b:a,h=this._layout._sizes;f-=h.itemsContainerOuterStart,g-=h.itemsContainerOuterCrossStart;var i,j=Math.floor(f/h.containerSize),k=v(0,d-1,Math.floor(g/h.containerCrossSize)),l=Math.max(-1,j*d+k);if(i=!c&&e||c&&!e?(b-h.containerHeight/2)/h.containerHeight:(a-h.containerWidth/2)/h.containerWidth,e)return i=Math.floor(i),{index:l,insertAfterIndex:i>=0&&l>=0?i:-1};i=v(-1,d-1,i);var m;return m=i<0?j*d-1:j*d+Math.floor(i),{index:v(-1,this.count-1,l),insertAfterIndex:v(-1,this.count-1,m)}},getAdjacent:function(a,b){var c,d=a.index,e=Math.floor(d/this._layout._itemsPerBar),f=d%this._layout._itemsPerBar;switch(b){case H.upArrow:c=0===f?"boundary":d-1;break;case H.downArrow:var g=d===this.count-1,h=this._layout._itemsPerBar>1&&f===this._layout._itemsPerBar-1;c=g||h?"boundary":d+1;break;case H.leftArrow:c=0===e&&this._layout._itemsPerBar>1?"boundary":d-this._layout._itemsPerBar;break;case H.rightArrow:var i=this.count-1;c=e===Math.floor(i/this._layout._itemsPerBar)?"boundary":Math.min(d+this._layout._itemsPerBar,this.count-1)}return"boundary"===c?c:{type:o.ObjectType.item,index:c}},getItemsContainerSize:function(){var a=this._layout._sizes;return Math.ceil(this.count/this._layout._itemsPerBar)*a.containerSize+a.itemsContainerOuterSize},getItemsContainerCrossSize:function(){var a=this._layout._sizes;return this._layout._itemsPerBar*a.containerCrossSize+a.itemsContainerOuterCrossSize},getItemPositionForAnimations:function(a){var b=this._layout._sizes,c=this._layout._site.rtl?"right":"left",d=this._layout._sizes.containerMargins,e=this._layout._indexToCoordinate(a);return{row:e.row,column:e.column,top:d.top+e.row*b.containerHeight,left:d[c]+e.column*b.containerWidth,height:b.containerHeight-b.containerMargins.top-b.containerMargins.bottom,width:b.containerWidth-b.containerMargins.left-b.containerMargins.right}}})}),UniformGroup:c.Namespace._lazy(function(){return c.Class.derive(T.UniformGroupBase,function(a,b){this._layout=a,this._itemsContainer=b,m.addClass(this._itemsContainer,a._inListMode?p._uniformListLayoutClass:p._uniformGridLayoutClass)},{cleanUp:function(a){a||(m.removeClass(this._itemsContainer,p._uniformGridLayoutClass),m.removeClass(this._itemsContainer,p._uniformListLayoutClass),this._itemsContainer.style.height=this._itemsContainer.style.width=""),this._itemsContainer=null,this._layout=null,this.groupInfo=null,this.startIndex=null,this.offset=null,this.count=null},prepareLayout:function(a,b,c,d){return this.groupInfo=d.groupInfo,this.startIndex=d.startIndex,this.count=a,this._layout._ensureContainerSize(this)},layoutRealizedRange:function(){var a=this._layout._sizes;this._itemsContainer.style[this._layout._horizontal?"width":"height"]=this.getItemsContainerSize()-a.itemsContainerOuterSize+"px",this._itemsContainer.style[this._layout._horizontal?"height":"width"]=this._layout._inListMode?a.maxItemsContainerContentSize+"px":this._layout._itemsPerBar*a.containerCrossSize+"px"},layoutUnrealizedRange:function(){return i.wrap()}})}),UniformFlowGroup:c.Namespace._lazy(function(){return c.Class.derive(T.UniformGroupBase,function(a,b){this._layout=a,this._itemsContainer=b.element,m.addClass(this._itemsContainer,a._inListMode?p._uniformListLayoutClass:p._uniformGridLayoutClass)},{cleanUp:function(a){a||(m.removeClass(this._itemsContainer,p._uniformListLayoutClass),m.removeClass(this._itemsContainer,p._uniformGridLayoutClass),this._itemsContainer.style.height="")},layout:function(){this._layout._site._writeProfilerMark("Layout:_UniformFlowGroup:setItemsContainerHeight,info"),this._itemsContainer.style.height=this.count*this._layout._sizes.containerHeight+"px"}})}),CellSpanningGroup:c.Namespace._lazy(function(){return c.Class.define(function(a,b){this._layout=a,this._itemsContainer=b,m.addClass(this._itemsContainer,p._cellSpanningGridLayoutClass),this.resetMap()},{cleanUp:function(a){a||(this._cleanContainers(),m.removeClass(this._itemsContainer,p._cellSpanningGridLayoutClass),this._itemsContainer.style.cssText=""),this._itemsContainer=null,this._layoutPromise&&(this._layoutPromise.cancel(),this._layoutPromise=null),this.resetMap(),this._slotsPerColumn=null,this._offScreenSlotsPerColumn=null,this._items=null,this._layout=null,this._containersToHide=null,this.groupInfo=null,this.startIndex=null,this.offset=null,this.count=null},prepareLayoutWithCopyOfTree:function(a,b,c,d){var e,f=this;if(this._containersToHide={},b)for(e=b.firstIndex;e<=b.lastIndex;e++)this._containersToHide[I(c._items[e])]=c._items[e];this.groupInfo=d.groupInfo,this.startIndex=d.startIndex,this.count=a.items.length,this._items=a.items,this._slotsPerColumn=Math.floor(this._layout._sizes.maxItemsContainerContentSize/this.groupInfo.cellHeight),this._layout.maximumRowsOrColumns&&(this._slotsPerColumn=Math.min(this._slotsPerColumn,this._layout.maximumRowsOrColumns)),this._slotsPerColumn=Math.max(this._slotsPerColumn,1),this.resetMap();var g=new Array(this.count);for(e=0;e<this.count;e++)g[e]=this._layout._getItemInfo(this.startIndex+e);return i.join(g).then(function(a){a.forEach(function(a,b){f.addItemToMap(b,a)})})},layoutRealizedRange:function(a,b){if(b){var c,d=Math.max(a,b.firstIndex);for(c=d;c<=b.lastIndex;c++)this._layoutItem(c),delete this._containersToHide[I(this._items[c])]}Object.keys(this._containersToHide).forEach(function(a){m.removeClass(this._containersToHide[a],p._laidOutClass)}.bind(this)),this._containersToHide={},this._itemsContainer.style.cssText+=";width:"+(this.getItemsContainerSize()-this._layout._sizes.itemsContainerOuterSize)+"px;height:"+this._layout._sizes.maxItemsContainerContentSize+"px;-ms-grid-columns: ("+this.groupInfo.cellWidth+"px)["+this.getColumnCount()+"];-ms-grid-rows: ("+this.groupInfo.cellHeight+"px)["+(this._slotsPerColumn+this._offScreenSlotsPerColumn)+"]"},layoutUnrealizedRange:function(a,b,c){var d,e=this;return e._layoutPromise=new i(function(f){function g(){d=null,f()}function h(a){return j.schedule(a,j.Priority.normal,null,"WinJS.UI.GridLayout.CellSpanningGroup.LayoutUnrealizedRange")}if(b){var i=!1,k=b.firstIndex-1,l=Math.max(a,b.lastIndex+1);l=Math.max(k+1,l),d=h(function b(c){for(;!i;){if(c.shouldYield)return void c.setWork(b);i=!0,k>=a&&(e._layoutItem(k),k--,i=!1),l<e.count&&(e._layoutItem(l),l++,i=!1)}g()})}else if(c){var m=e.count-1;d=h(function b(c){for(;m>=a;m--){if(c.shouldYield)return void c.setWork(b);e._layoutItem(m)}g()})}else{var m=a;d=h(function a(b){for(;m<e.count;m++){if(b.shouldYield)return void b.setWork(a);e._layoutItem(m)}g()})}},function(){d&&d.cancel(),d=null}),e._layoutPromise},itemFromOffset:function(a,b){b=b||{};var c=this._layout._sizes,d=c.containerMargins;a-=c.itemsContainerOuterX,a-=(b.last?1:-1)*d[b.last?"left":"right"];var e=this.indexFromOffset(a,b.wholeItem,b.last).item;return v(0,this.count-1,e)},getAdjacent:function(a,b){var c,d;c=d=a.index;var e,f,g;g=this.lastAdjacent===c?this.lastInMapIndex:this.findItem(c);do{var h=Math.floor(g/this._slotsPerColumn),i=g-h*this._slotsPerColumn,j=Math.floor((this.occupancyMap.length-1)/this._slotsPerColumn);switch(b){case H.upArrow:if(!(i>0))return{type:o.ObjectType.item,index:d};g--;break;case H.downArrow:if(!(i+1<this._slotsPerColumn))return{type:o.ObjectType.item,index:d};g++;break;case H.leftArrow:g=h>0?g-this._slotsPerColumn:-1;break;case H.rightArrow:g=h<j?g+this._slotsPerColumn:this.occupancyMap.length}f=g>=0&&g<this.occupancyMap.length,f&&(e=this.occupancyMap[g]?this.occupancyMap[g].index:void 0)}while(f&&(c===e||void 0===e));return this.lastAdjacent=e,this.lastInMapIndex=g,f?{type:o.ObjectType.item,index:e}:"boundary"},hitTest:function(a,b){var c=this._layout._sizes,d=0;if(a-=c.itemsContainerOuterX,b-=c.itemsContainerOuterY,this.occupancyMap.length>0){for(var e=this.indexFromOffset(a,!1,0),f=Math.min(this._slotsPerColumn-1,Math.floor(b/this.groupInfo.cellHeight)),g=e.index,h=g;f-- >0;)g++,this.occupancyMap[g]&&(h=g);this.occupancyMap[h]||h--,d=this.occupancyMap[h].index}var i=this.getItemSize(d),j=i.column*this.groupInfo.cellWidth,k=i.row*this.groupInfo.cellHeight,l=1===this._slotsPerColumn,m=d;return(l&&a<j+i.contentWidth/2||!l&&b<k+i.contentHeight/2)&&m--,{type:o.ObjectType.item,index:v(0,this.count-1,d),insertAfterIndex:v(-1,this.count-1,m)}},getItemsContainerSize:function(){var a=this._layout._sizes;return this.getColumnCount()*this.groupInfo.cellWidth+a.itemsContainerOuterSize},getItemsContainerCrossSize:function(){var a=this._layout._sizes;return a.maxItemsContainerContentSize+a.itemsContainerOuterCrossSize},getItemPositionForAnimations:function(a){var b=this._layout._site.rtl?"right":"left",c=this._layout._sizes.containerMargins,d=this.getItemSize(a),e=this.groupInfo;return{row:d.row,column:d.column,top:c.top+d.row*e.cellHeight,left:c[b]+d.column*e.cellWidth,height:d.contentHeight,width:d.contentWidth}},_layoutItem:function(a){var b=this.getItemSize(a);return this._items[a].style.cssText+=";-ms-grid-row:"+(b.row+1)+";-ms-grid-column:"+(b.column+1)+";-ms-grid-row-span:"+b.rows+";-ms-grid-column-span:"+b.columns+";height:"+b.contentHeight+"px;width:"+b.contentWidth+"px",m.addClass(this._items[a],p._laidOutClass),this._items[a]},_cleanContainers:function(){var a,b=this._items,c=b.length;for(a=0;a<c;a++)b[a].style.cssText="",m.removeClass(b[a],p._laidOutClass)},getColumnCount:function(){return Math.ceil(this.occupancyMap.length/this._slotsPerColumn)},getOccupancyMapItemCount:function(){var a=-1;return this.occupancyMap.forEach(function(b){b.index>a&&(a=b.index)}),a+1},coordinateToIndex:function(a,b){return a*this._slotsPerColumn+b},markSlotAsFull:function(a,b){for(var c=this._layout._indexToCoordinate(a,this._slotsPerColumn),d=c.row+b.rows,e=c.row;e<d&&e<this._slotsPerColumn;e++)for(var f=c.column,g=c.column+b.columns;f<g;f++)this.occupancyMap[this.coordinateToIndex(f,e)]=b;this._offScreenSlotsPerColumn=Math.max(this._offScreenSlotsPerColumn,d-this._slotsPerColumn)},isSlotEmpty:function(a,b,c){for(var d=b,e=b+a.rows;d<e;d++)for(var f=c,g=c+a.columns;f<g;f++)if(d>=this._slotsPerColumn||void 0!==this.occupancyMap[this.coordinateToIndex(f,d)])return!1;return!0},findEmptySlot:function(a,b,c){var d=this._layout._indexToCoordinate(a,this._slotsPerColumn),e=d.row,f=Math.floor((this.occupancyMap.length-1)/this._slotsPerColumn);if(c){for(var g=d.column+1;g<=f;g++)if(this.isSlotEmpty(b,0,g))return this.coordinateToIndex(g,0)}else for(var g=d.column;g<=f;g++){for(var h=e;h<this._slotsPerColumn;h++)if(this.isSlotEmpty(b,h,g))return this.coordinateToIndex(g,h);e=0}return(f+1)*this._slotsPerColumn},findItem:function(a){for(var b=a,c=this.occupancyMap.length;b<c;b++){var d=this.occupancyMap[b];if(d&&d.index===a)return b}return b},getItemSize:function(a){var b=this.findItem(a),c=this.occupancyMap[b],d=this._layout._indexToCoordinate(b,this._slotsPerColumn);return a===c.index?{row:d.row,column:d.column,contentWidth:c.contentWidth,contentHeight:c.contentHeight,columns:c.columns,rows:c.rows}:null},resetMap:function(){this.occupancyMap=[],this.lastAdded=0,this._offScreenSlotsPerColumn=0},addItemToMap:function(a,b){function c(a,b){var c=d.findEmptySlot(d.lastAdded,a,b);d.lastAdded=c,d.markSlotAsFull(c,a)}var d=this,e=d.groupInfo,f=d._layout._sizes.containerMargins;c({index:a,contentWidth:b.width,contentHeight:b.height,columns:Math.max(1,Math.ceil((b.width+f.left+f.right)/e.cellWidth)),rows:Math.max(1,Math.ceil((b.height+f.top+f.bottom)/e.cellHeight))},b.newColumn)},indexFromOffset:function(a,b,c){var d=0,e=0,f=this.groupInfo,g=0;if(this.occupancyMap.length>0){if(e=this.getOccupancyMapItemCount()-1,d=Math.ceil((this.occupancyMap.length-1)/this._slotsPerColumn)*f.cellWidth,a<d){for(var h=this._slotsPerColumn,g=(Math.max(0,Math.floor(a/f.cellWidth))+c)*this._slotsPerColumn-c;!this.occupancyMap[g]&&h-- >0;)g+=c>0?-1:1;return{index:g,item:this.occupancyMap[g].index}}g=this.occupancyMap.length-1}return{index:g,item:e+(Math.max(0,Math.floor((a-d)/f.cellWidth))+c)*this._slotsPerColumn-c}}})})});c.Namespace._moduleDefine(a,"WinJS.UI",{ListLayout:c.Namespace._lazy(function(){return c.Class.derive(a._LegacyLayout,function(a){a=a||{},this._itemInfo={},this._groupInfo={},this._groupHeaderPosition=a.groupHeaderPosition||U.top,this._inListMode=!0,this.orientation=a.orientation||"vertical"},{initialize:function(b,c){m.addClass(b.surface,p._listLayoutClass),a._LegacyLayout.prototype.initialize.call(this,b,c)},uninitialize:function(){this._site&&m.removeClass(this._site.surface,p._listLayoutClass),a._LegacyLayout.prototype.uninitialize.call(this)},layout:function(b,c,d,e){return this._groupsEnabled||this._horizontal?a._LegacyLayout.prototype.layout.call(this,b,c,d,e):this._layoutNonGroupedVerticalList(b,c,d,e)},_layoutNonGroupedVerticalList:function(a,b,c,d){var e=this,f="Layout:_layoutNonGroupedVerticalList";return e._site._writeProfilerMark(f+",StartTM"),this._layoutPromise=e._measureItem(0).then(function(){m[e._usingStructuralNodes?"addClass":"removeClass"](e._site.surface,p._structuralNodesClass),m[e._envInfo.nestedFlexTooLarge||e._envInfo.nestedFlexTooSmall?"addClass":"removeClass"](e._site.surface,p._singleItemsBlockClass),e._sizes.viewportContentSize!==e._getViewportCrossSize()&&e._viewportSizeChanged(e._getViewportCrossSize()),e._cacheRemovedElements(c,e._cachedItemRecords,e._cachedInsertedItemRecords,e._cachedRemovedItems,!1),e._cacheRemovedElements(d,e._cachedHeaderRecords,e._cachedInsertedHeaderRecords,e._cachedRemovedHeaders,!0);var b=a[0].itemsContainer,g=new T.UniformFlowGroup(e,b);e._groups=[g],g.groupInfo={enableCellSpanning:!1},g.startIndex=0,g.count=D(b),g.offset=0,g.layout(),e._site._writeProfilerMark(f+":setSurfaceWidth,info"),e._site.surface.style.width=e._sizes.surfaceContentSize+"px",e._layoutAnimations(c,d),e._site._writeProfilerMark(f+":complete,info"),e._site._writeProfilerMark(f+",StopTM")},function(a){return e._site._writeProfilerMark(f+":canceled,info"),e._site._writeProfilerMark(f+",StopTM"),i.wrapError(a)}),{realizedRangeComplete:this._layoutPromise,layoutComplete:this._layoutPromise}},numberOfItemsPerItemsBlock:{get:function(){var b=this;return this._measureItem(0).then(function(){return b._envInfo.nestedFlexTooLarge||b._envInfo.nestedFlexTooSmall?(b._usingStructuralNodes=!0,Number.MAX_VALUE):(b._usingStructuralNodes=a.ListLayout._numberOfItemsPerItemsBlock>0,a.ListLayout._numberOfItemsPerItemsBlock)})}}},{_numberOfItemsPerItemsBlock:10})}),CellSpanningLayout:c.Namespace._lazy(function(){return c.Class.derive(a._LayoutCommon,function(a){a=a||{},this._itemInfo=a.itemInfo,this._groupInfo=a.groupInfo,this._groupHeaderPosition=a.groupHeaderPosition||U.top,this._horizontal=!0,this._cellSpanning=!0},{maximumRowsOrColumns:{get:function(){return this._maxRowsOrColumns},set:function(a){this._setMaxRowsOrColumns(a)}},itemInfo:{enumerable:!0,get:function(){return this._itemInfo},set:function(a){this._itemInfo=a,this._invalidateLayout()}},groupInfo:{enumerable:!0,get:function(){return this._groupInfo},set:function(a){this._groupInfo=a,this._invalidateLayout()}},orientation:{enumerable:!0,get:function(){return"horizontal"}}})}),_LayoutWrapper:c.Namespace._lazy(function(){return c.Class.define(function(a){this.defaultAnimations=!0,this.initialize=function(b,c){a.initialize(b,c)},this.hitTest=function(b,c){return a.hitTest(b,c)},a.uninitialize&&(this.uninitialize=function(){a.uninitialize()}),"numberOfItemsPerItemsBlock"in a&&Object.defineProperty(this,"numberOfItemsPerItemsBlock",{get:function(){return a.numberOfItemsPerItemsBlock}}),a._getItemPosition&&(this._getItemPosition=function(b){return a._getItemPosition(b)}),a.itemsFromRange&&(this.itemsFromRange=function(b,c){return a.itemsFromRange(b,c)}),a.getAdjacent&&(this.getAdjacent=function(b,c){return a.getAdjacent(b,c)}),a.dragOver&&(this.dragOver=function(b,c,d){return a.dragOver(b,c,d)}),a.dragLeave&&(this.dragLeave=function(){return a.dragLeave()});var b={enumerable:!0,get:function(){return"vertical"}};if(void 0!==a.orientation&&(b.get=function(){return a.orientation},b.set=function(b){a.orientation=b}),Object.defineProperty(this,"orientation",b),(a.setupAnimations||a.executeAnimations)&&(this.defaultAnimations=!1,this.setupAnimations=function(){return a.setupAnimations()},this.executeAnimations=function(){return a.executeAnimations()}),a.layout)if(this.defaultAnimations){var c=this;this.layout=function(b,d,e,f){var g,h=F(a.layout(b,d,[],[]));return h.realizedRangeComplete.then(function(){g=!0}),g&&c._layoutAnimations(e,f),h}}else this.layout=function(b,c,d,e){return F(a.layout(b,c,d,e))}},{uninitialize:function(){},numberOfItemsPerItemsBlock:{get:function(){}},layout:function(a,b,c,d){return this.defaultAnimations&&this._layoutAnimations(c,d),F()},itemsFromRange:function(){return{firstIndex:0,lastIndex:Number.MAX_VALUE}},getAdjacent:function(a,b){switch(b){case H.pageUp:case H.upArrow:case H.leftArrow:return{type:a.type,index:a.index-1};case H.downArrow:case H.rightArrow:case H.pageDown:return{type:a.type,index:a.index+1}}},dragOver:function(){},dragLeave:function(){},setupAnimations:function(){},executeAnimations:function(){},_getItemPosition:function(){},_layoutAnimations:function(){}})})});var U={left:"left",top:"top"};c.Namespace._moduleDefine(a,"WinJS.UI",{HeaderPosition:U,_getMargins:G})}),d("WinJS/Controls/ListView/_VirtualizeContentsView",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Promise","../../_Signal","../../Scheduler","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_SafeHtml","../../Utilities/_UI","../ItemContainer/_Constants","../ItemContainer/_ItemEventsHandler","./_Helpers","./_ItemsContainer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";function p(a,b){i._setAttribute(a,"aria-flowto",b.id),i._setAttribute(b,"x-ms-aria-flowfrom",a.id)}c.Namespace._moduleDefine(a,"WinJS.UI",{_VirtualizeContentsView:c.Namespace._lazy(function(){function a(b){for(var c=b.job._workItems;c.length&&!b.shouldYield;)c.shift()();b.setWork(a),c.length||b.job.pause()}function q(b,c){var d=g.schedule(a,b,null,c);return d._workItems=[],d.addWork=function(a,b){b?this._workItems.unshift(a):this._workItems.push(a),this.resume()},d.clearWork=function(){this._workItems.length=0},d.dispose=function(){this.cancel(),this._workItems.length=0},d}function r(a){return a._zooming||a._pinching}function s(a,b){return a._isZombie()?e.wrap():r(a)?(+b!==b&&(b=v._waitForSeZoTimeoutDuration),e.timeout(v._waitForSeZoIntervalDuration).then(function(){return(b-=v._waitForSeZoIntervalDuration)<=0||s(a,b)})):e.wrap()}function t(a){if("number"==typeof a){var b=a;a=function(){return{position:b,direction:"right"}}}return a}function u(){}var v=c.Class.define(function(a){this._listView=a,this._forceRelayout=!1,this.maxLeadingPages=d._isiOS?v._iOSMaxLeadingPages:v._defaultPagesToPrefetch,this.maxTrailingPages=d._isiOS?v._iOSMaxTrailingPages:v._defaultPagesToPrefetch,this.items=new o._ItemsContainer(a),this.firstIndexDisplayed=-1,this.lastIndexDisplayed=-1,this.begin=0,this.end=0,this._realizePass=1,this._firstLayoutPass=!0,this._runningAnimations=null,this._renderCompletePromise=e.wrap(),this._state=new w(this),this._createLayoutSignal(),this._createTreeBuildingSignal(),this._layoutWork=null,this._onscreenJob=q(g.Priority.aboveNormal,"on-screen items"),this._frontOffscreenJob=q(g.Priority.normal,"front off-screen items"),this._backOffscreenJob=q(g.Priority.belowNormal,"back off-screen items"),this._scrollbarPos=0,this._direction="right",this._scrollToFunctor=t(0)},{_dispose:function(){this.cleanUp(),this.items=null,this._renderCompletePromise&&this._renderCompletePromise.cancel(),this._renderCompletePromise=null,this._onscreenJob.dispose(),this._frontOffscreenJob.dispose(),this._backOffscreenJob.dispose()},_createItem:function(a,b,c,d){this._listView._writeProfilerMark("createItem("+a+") "+this._getBoundingRectString(a)+",info");var f=this;f._listView._itemsManager._itemFromItemPromiseThrottled(b).done(function(b){b?c(a,b,f._listView._itemsManager._recordFromElement(b)):d(a)},function(b){return d(a),e.wrapError(b)})},_addItem:function(a,b,c,d){if(this._realizePass===d){var e=this._listView._itemsManager._recordFromElement(c);delete this._pendingItemPromises[e.itemPromise.handle],this.items.setItemAt(b,{itemBox:null,container:null,element:c,detached:!0,itemsManagerRecord:e})}},lastItemIndex:function(){return this.containers?this.containers.length-1:-1},_setSkipRealizationForChange:function(a){a?this._realizationLevel!==v._realizationLevel.realize&&(this._realizationLevel=v._realizationLevel.skip):this._realizationLevel=v._realizationLevel.realize},_realizeItems:function(a,b,c,d,h,j,k,n,o,p){function q(a,b){C.push(e._cancelBlocker(b.renderComplete)),u(a)}function r(a,b){function c(a,b){a.updatedDraggableAttribute||!G._listView.itemsDraggable&&!G._listView.itemsReorderable||a.itemsManagerRecord.renderComplete.done(function(){G._realizePass===h&&(i.hasClass(b,l._nonDraggableClass)||(a.itemBox.draggable=!0),a.updatedDraggableAttribute=!0)})}if(G._listView._writeProfilerMark("_realizeItems_appendedItemsToDom,StartTM"),!G._listView._isZombie()){var d,e=0,f=-1,g=-1;for(d=a;d<=b;d++){var j=G.items.itemDataAt(d);if(j){var n=j.element,o=j.itemBox;o||(o=G._listView._itemBoxTemplate.cloneNode(!0),j.itemBox=o,o.appendChild(n),i.addClass(n,l._itemClass),G._listView._setupAriaSelectionObserver(n),G._listView._isSelected(d)&&m._ItemEventsHandler.renderSelection(o,n,!0,!0),G._listView._currentMode().renderDragSourceOnRealizedItem(d,o)),c(j,n);var p=G.getContainer(d);o.parentNode!==p&&(j.container=p,G._appendAndRestoreFocus(p,o),e++,f<0&&(f=d),g=d,G._listView._isSelected(d)&&i.addClass(p,l._selectedClass),i.removeClass(p,l._backdropClass),G.items.elementAvailable(d))}}G._listView._writeProfilerMark("_realizeItems_appendedItemsToDom,StopTM"),e>0&&(G._listView._writeProfilerMark("_realizeItems_appendedItemsToDom:"+e+" ("+f+"-"+g+"),info"),G._reportElementsLevel(k))}}function s(a,b,c,d){function e(a,b){var c=G.items.itemDataAt(a);if(c){var d=c.itemBox;return!d||!d.parentNode||!!b&&(i.addClass(d.parentNode,l._backdropClass),d.parentNode.removeChild(d),!0)}return!0}if(!p){for(var f=!1;a>=c;)f=e(a,f),a--;for(f=!1;b<=d;)f=e(b,f),b++}}function t(a,b,c,d,f){function g(a){var b=G.items.itemDataAt(a);if(b){var d=b.itemsManagerRecord;d.readyComplete||G._realizePass!==h||c.addWork(function(){G._listView._isZombie()||d.pendingReady&&G._realizePass===h&&(G._listView._writeProfilerMark("pendingReady("+a+"),info"),d.pendingReady())},f)}}for(var i=[],j=a;j<=b;j++){var k=G.items.itemDataAt(j);k&&i.push(k.itemsManagerRecord.itemPromise)}e.join(i).then(function(){if("right"===d)for(var c=a;c<=b;c++)g(c);else for(var c=b;c>=a;c--)g(c)})}function u(a){if(G._realizePass===h){if(a>=n&&a<=o){if(0==--z){if(r(n,o),s(n,o,b,c),G._firstLayoutPass){t(n,o,G._frontOffscreenJob,"right"===k?"left":"right",!0);var d=g.schedulePromiseHigh(null,"WinJS.UI.ListView.entranceAnimation").then(function(){if(!G._listView._isZombie()){G._listView._writeProfilerMark("entranceAnimation,StartTM");var a=G._listView._animateListEntrance(!G._firstEntranceAnimated);return G._firstEntranceAnimated=!0,a}});G._runningAnimations=e.join([G._runningAnimations,d]),G._runningAnimations.done(function(){G._listView._writeProfilerMark("entranceAnimation,StopTM"),G._realizePass===h&&(G._runningAnimations=null,D.complete())}),G._firstLayoutPass=!1,G._listView._isCurrentZoomView&&g.requestDrain(G._onscreenJob.priority)}else t(n,o,G._frontOffscreenJob,k),D.complete();G._updateHeaders(G._listView._canvas,n,o+1).done(function(){E.complete()})}}else a<n?(--B,B%y==0&&r(b,n-1),B||(G._updateHeaders(G._listView._canvas,b,n).done(function(){"right"!==k&&F.complete()}),t(b,n-1,"right"!==k?G._frontOffscreenJob:G._backOffscreenJob,"left"))):a>o&&(--A,A%y==0&&r(o+1,c-1),A||(G._updateHeaders(G._listView._canvas,o+1,c).then(function(){"right"===k&&F.complete()}),t(o+1,c-1,"right"===k?G._frontOffscreenJob:G._backOffscreenJob,"right")));x--,0===x&&(G._renderCompletePromise=e.join(C).then(null,function(a){if(Array.isArray(a)&&a.some(function(a){return a&&!(a instanceof Error&&"Canceled"===a.name)}))return e.wrapError(a)}),(G._headerRenderPromises||e.wrap()).done(function(){g.schedule(function(){G._listView._isZombie()?L.cancel():L.complete()},Math.min(G._onscreenJob.priority,G._backOffscreenJob.priority),null,"WinJS.UI.ListView._allItemsRealized")}))}}function v(b,c,d){if(G._realizePass===h){var c=d.element;G._addItem(a,b,c,h),q(b,d)}}var w="_realizeItems("+b+"-"+(c-1)+") visible("+n+"-"+o+")";this._listView._writeProfilerMark(w+",StartTM"),k=k||"right";var x=c-b,y=o-n+1,z=y,A=c-o-1,B=n-b,C=[],D=new f,E=new f,F=new f,G=this;if(x>0){var H=0,I=0,J=0;G.firstIndexDisplayed=n,G.lastIndexDisplayed=o;var K=G._listView._isCurrentZoomView;G._highPriorityRealize&&(G._firstLayoutPass||G._hasAnimationInViewportPending)?(G._highPriorityRealize=!1,G._onscreenJob.priority=g.Priority.high,G._frontOffscreenJob.priority=g.Priority.normal,G._backOffscreenJob.priority=g.Priority.belowNormal):G._highPriorityRealize?(G._highPriorityRealize=!1,G._onscreenJob.priority=g.Priority.high,G._frontOffscreenJob.priority=g.Priority.high-1,G._backOffscreenJob.priority=g.Priority.high-1):K?(G._onscreenJob.priority=g.Priority.aboveNormal,G._frontOffscreenJob.priority=g.Priority.normal,G._backOffscreenJob.priority=g.Priority.belowNormal):(G._onscreenJob.priority=g.Priority.belowNormal,G._frontOffscreenJob.priority=g.Priority.idle,G._backOffscreenJob.priority=g.Priority.idle);var L=new f,M=G._listView._versionManager.cancelOnNotification(L.promise),N=function(a,b){b.startStage1&&b.stage0.then(function(){G._realizePass===h&&b.startStage1&&a.addWork(b.startStage1)})},O=function(a,b){if(!G.items.itemDataAt(b)){var c=G._listView._itemsManager._itemPromiseAtIndex(b);G._pendingItemPromises[c.handle]=c,delete G._previousRealizationPendingItemPromises[c.handle],a.addWork(function(){if(!G._listView._isZombie()&&(H++,G._createItem(b,c,v,u),!G._listView._isZombie()&&G._realizePass===h&&c.handle)){var d=G._listView._itemsManager._recordFromHandle(c.handle);N(a,d)}})}},P=function(a,b,c){for(var d=b;d<=c;d++)O(a,d)},Q=function(a,b,c){for(var d=c;d>=b;d--)O(a,d)},R=function(a,b,c){for(var d=b;d<=c;d++){var e=G.items.itemDataAt(d);if(e){var f=e.itemsManagerRecord;q(d,f),I++,N(a,f)}}};this._previousRealizationPendingItemPromises=this._pendingItemPromises||{},this._pendingItemPromises={};var S;"left"===k?(Q(G._onscreenJob,n,o),Q(G._frontOffscreenJob,b,n-1),S=b>n-1):(P(G._onscreenJob,n,o),P(G._frontOffscreenJob,o+1,c-1),S=o+1>c-1);for(var T=0,U=Object.keys(this._previousRealizationPendingItemPromises),V=U.length;T<V;T++){var W=U[T];G._listView._itemsManager.releaseItemPromise(this._previousRealizationPendingItemPromises[W])}this._previousRealizationPendingItemPromises={},R(G._onscreenJob,n,o),"left"===k?R(G._frontOffscreenJob,b,n-1):R(G._frontOffscreenJob,o+1,c-1);var X=z===o-n+1;return G._firstLayoutPass?G._listView._canvas.style.opacity=0:X?G._listView._showProgressBar(G._listView._element,"50%","50%"):G._listView._hideProgressBar(),G._frontOffscreenJob.pause(),G._backOffscreenJob.pause(),E.promise.done(function(){G._frontOffscreenJob.resume(),S&&F.complete()},function(){L.cancel()}),F.promise.done(function(){G._listView._writeProfilerMark("frontItemsRealized,info"),"left"===k?(P(G._backOffscreenJob,o+1,c-1),R(G._backOffscreenJob,o+1,c-1)):(Q(G._backOffscreenJob,b,n-1),R(G._backOffscreenJob,b,n-1)),G._backOffscreenJob.resume()}),L.promise.done(function(){G._listView._versionManager.clearCancelOnNotification(M),G._listView._writeProfilerMark(w+" complete(created:"+H+" updated:"+I+"),info")},function(a){return G._listView._versionManager.clearCancelOnNotification(M),G._onscreenJob.clearWork(),G._frontOffscreenJob.clearWork(),G._backOffscreenJob.clearWork(),D.cancel(),E.cancel(),G._listView._writeProfilerMark(w+" canceled(created:"+H+" updated:"+I+" clean:"+J+"),info"),e.wrapError(a)}),G._listView._writeProfilerMark(w+",StopTM"),{viewportItemsRealized:E.promise,allItemsRealized:L.promise,loadingCompleted:e.join([L.promise,D.promise]).then(function(){for(var a=[],d=b;d<c;d++){var f=G.items.itemDataAt(d);f&&a.push(f.itemsManagerRecord.itemReadyPromise)}return e._cancelBlocker(e.join(a))})}}return G._listView._writeProfilerMark(w+",StopTM"),{viewportItemsRealized:e.wrap(),allItemsRealized:e.wrap(),loadingCompleted:e.wrap()}},_setAnimationInViewportState:function(a){if(this._hasAnimationInViewportPending=!1,a&&a.length>0)for(var b=this._listView._getViewportLength(),c=this._listView._layout.itemsFromRange(this._scrollbarPos,this._scrollbarPos+b-1),d=0,e=a.length;d<e;d++){var f=a[d];if(f.newIndex>=c.firstIndex&&f.newIndex<=c.lastIndex&&f.newIndex!==f.oldIndex){this._hasAnimationInViewportPending=!0;break}}},_addHeader:function(a,b){var c=this;return this._listView._groups.renderGroup(b).then(function(a){if(a){a.element.tabIndex=0;var d=c._getHeaderContainer(b);a.element.parentNode!==d&&(d.appendChild(a.element),i.addClass(a.element,l._headerClass)),c._listView._groups.setDomElement(b,a.element)}})},_updateHeaders:function(a,b,c){function d(b){var c=g._listView._groups.group(b);if(c&&!c.header){var d=c.headerPromise;return d||(d=c.headerPromise=g._addHeader(a,b),d.done(function(){c.headerPromise=null},function(){c.headerPromise=null})),d}return e.wrap()}function f(){g._headerRenderPromises=null}var g=this;this._listView._groups.removeElements();var h=this._listView._groups.groupFromItem(b),i=h,j=this._listView._groups.groupFromItem(c-1),k=[];if(null!==i)for(;i<=j;i++)k.push(d(i));return this._headerRenderPromises=e.join(k,this._headerRenderPromises).then(f,f),this._headerRenderPromises||e.wrap()},_unrealizeItem:function(a){var b,c=this._listView;this._listView._writeProfilerMark("_unrealizeItem("+a+"),info");var d=c._selection._getFocused();d.type===k.ObjectType.item&&d.index===a&&(c._unsetFocusOnItem(),b=!0);var e=this.items.itemDataAt(a),f=e.element,g=e.itemBox;g&&g.parentNode&&(i.removeClass(g.parentNode,l._selectedClass),i.removeClass(g.parentNode,l._footprintClass),i.addClass(g.parentNode,l._backdropClass),g.parentNode.removeChild(g)),e.container=null,c._currentMode().itemUnrealized&&c._currentMode().itemUnrealized(a,g),this.items.removeItem(a),e.removed||c._itemsManager.releaseItem(f),h._disposeElement(f),b&&c._setFocusOnItem(c._selection._getFocused())},_unrealizeGroup:function(a){var b,c=a.header,d=this._listView._selection._getFocused();d.type===k.ObjectType.groupHeader&&this._listView._groups.group(d.index)===a&&(this._listView._unsetFocusOnItem(),b=!0),c.parentNode&&c.parentNode.removeChild(c),h._disposeElement(c),a.header=null,a.left=-1,a.top=-1,b&&this._listView._setFocusOnItem(this._listView._selection._getFocused())},_unrealizeItems:function(a){var b=this,c=0;this.items.eachIndex(function(d){if(d<b.begin||d>=b.end)return b._unrealizeItem(d),a&&++c>=a});var d=this._listView._groups,e=d.groupFromItem(this.begin);if(null!==e)for(var f=d.groupFromItem(this.end-1),g=0,h=d.length();g<h;g++){var i=d.group(g);(g<e||g>f)&&i.header&&this._unrealizeGroup(i)}},_unrealizeExcessiveItems:function(){var a=this.items.count(),b=this.end-this.begin,c=b+this._listView._maxDeferredItemCleanup;this._listView._writeProfilerMark("_unrealizeExcessiveItems realized("+a+") approved("+c+"),info"),a>c&&this._unrealizeItems(a-c)},_lazilyUnrealizeItems:function(){this._listView._writeProfilerMark("_lazilyUnrealizeItems,StartTM");var a=this;return s(this._listView).then(function(){function b(){a._listView._writeProfilerMark("_lazilyUnrealizeItems,StopTM")}if(a._listView._isZombie())return void b();var c=[];a.items.eachIndex(function(b){(b<a.begin||b>=a.end)&&c.push(b)}),a._listView._writeProfilerMark("_lazilyUnrealizeItems itemsToUnrealize("+c.length+"),info");var d=[],f=a._listView._groups,h=f.groupFromItem(a.begin);if(null!==h)for(var i=f.groupFromItem(a.end-1),j=0,k=f.length();j<k;j++){var l=f.group(j);(j<h||j>i)&&l.header&&d.push(l)}if(c.length||d.length){var m;return new e(function(b){function e(f){if(!a._listView._isZombie()){for(var g=-1,h=-1,i=0,j=r(a._listView);c.length&&!j&&!f.shouldYield;){var k=c.shift();a._unrealizeItem(k),i++,g<0&&(g=k),h=k}for(a._listView._writeProfilerMark("unrealizeWorker removeItems:"+i+" ("+g+"-"+h+"),info");d.length&&!j&&!f.shouldYield;)a._unrealizeGroup(d.shift());c.length||d.length?j?f.setPromise(s(a._listView).then(function(){return e})):f.setWork(e):b()}}m=g.schedule(e,g.Priority.belowNormal,null,"WinJS.UI.ListView._lazilyUnrealizeItems")}).then(b,function(b){return m.cancel(),a._listView._writeProfilerMark("_lazilyUnrealizeItems canceled,info"),a._listView._writeProfilerMark("_lazilyUnrealizeItems,StopTM"),e.wrapError(b)})}return b(),e.wrap()})},_getBoundingRectString:function(a){var b;if(a>=0&&a<this.containers.length){var c=this._listView._layout._getItemPosition(a);c&&(b="["+c.left+"; "+c.top+"; "+c.width+"; "+c.height+" ]")}return b||""},_clearDeferTimeout:function(){this.deferTimeout&&(this.deferTimeout.cancel(),this.deferTimeout=null),-1!==this.deferredActionCancelToken&&(this._listView._versionManager.clearCancelOnNotification(this.deferredActionCancelToken),this.deferredActionCancelToken=-1)},_setupAria:function(a){function b(){d._listView._writeProfilerMark("aria work,StopTM")}function c(a){var b=d._listView._groups,c=b.group(a+1);return c?Math.min(c.startIndex-1,d.end-1):d.end-1}if(!this._listView._isZombie()){var d=this;return this._listView._createAriaMarkers(),this._listView._itemsCount().then(function(f){if(!(f>0&&-1!==d.firstIndexDisplayed&&-1!==d.lastIndexDisplayed))return e.wrap();d._listView._writeProfilerMark("aria work,StartTM");var h,j,k,l,m,n,o=d._listView._ariaStartMarker,q=d._listView._ariaEndMarker,t=d.begin,u=d.items.itemAt(d.begin);if(u)return i._ensureId(u),d._listView._groupsEnabled()?(j=d._listView._groups,k=l=j.groupFromItem(d.begin),m=j.group(l),n=c(l),i._ensureId(m.header),i._setAttribute(m.header,"role",d._listView._headerRole),i._setAttribute(m.header,"x-ms-aria-flowfrom",o.id),p(m.header,u),i._setAttribute(m.header,"tabindex",d._listView._tabIndex)):i._setAttribute(u,"x-ms-aria-flowfrom",o.id),new e(function(e){var o=a;h=g.schedule(function a(g){if(d._listView._isZombie())return void b();for(;t<d.end;t++){if(!o&&r(d._listView))return void g.setPromise(s(d._listView).then(function(b){return o=b,a}));if(g.shouldYield)return void g.setWork(a);u=d.items.itemAt(t);var h=d.items.itemAt(t+1);if(h&&i._ensureId(h),i._setAttribute(u,"role",d._listView._itemRole),i._setAttribute(u,"aria-setsize",f),i._setAttribute(u,"aria-posinset",t+1),i._setAttribute(u,"tabindex",d._listView._tabIndex),d._listView._groupsEnabled())if(t!==n&&h)p(u,h);else{var v=j.group(l+1);v&&v.header&&h?(i._setAttribute(v.header,"tabindex",d._listView._tabIndex),i._setAttribute(v.header,"role",d._listView._headerRole),i._ensureId(v.header),p(u,v.header),p(v.header,h)):i._setAttribute(u,"aria-flowto",q.id),l++,m=v,n=c(l)}else h?p(u,h):i._setAttribute(u,"aria-flowto",q.id);if(!h)break}d._listView._fireAccessibilityAnnotationCompleteEvent(d.begin,t,k,l-1),b(),e()},g.Priority.belowNormal,null,"WinJS.UI.ListView._setupAria")},function(){h.cancel(),b()});b()})}},_setupDeferredActions:function(){function a(){b._listView._isZombie()||(b.deferTimeout=null,b._listView._versionManager.clearCancelOnNotification(b.deferredActionCancelToken),b.deferredActionCancelToken=-1)}this._listView._writeProfilerMark("_setupDeferredActions,StartTM");var b=this;this._clearDeferTimeout(),this.deferTimeout=this._lazilyRemoveRedundantItemsBlocks().then(function(){return e.timeout(l._DEFERRED_ACTION)}).then(function(){return s(b._listView)}).then(function(a){return b._setupAria(a)}).then(a,function(b){return a(),e.wrapError(b)}),this.deferredActionCancelToken=this._listView._versionManager.cancelOnNotification(this.deferTimeout),this._listView._writeProfilerMark("_setupDeferredActions,StopTM")},_updateAriaMarkers:function(a,b,c){function d(){return f.items.itemAt(b)}function e(){for(var a=c;a>=b;a--)if(f.items.itemAt(a))return f.items.itemAt(a);return null}var f=this;if(!this._listView._isZombie()){this._listView._createAriaMarkers();var g,h,j=this._listView._ariaStartMarker,k=this._listView._ariaEndMarker;if(-1!==b&&-1!==c&&b<=c&&(g=d(),h=e()),!a&&g&&h){if(i._ensureId(g),i._ensureId(h),this._listView._groupsEnabled()){var l=this._listView._groups,m=l.group(l.groupFromItem(b));m.header&&(i._ensureId(m.header),b===m.startIndex?i._setAttribute(j,"aria-flowto",m.header.id):i._setAttribute(j,"aria-flowto",g.id))}else i._setAttribute(j,"aria-flowto",g.id);i._setAttribute(k,"x-ms-aria-flowfrom",h.id)}else p(j,k),this._listView._fireAccessibilityAnnotationCompleteEvent(-1,-1)}},updateAriaForAnnouncement:function(a,b){if(a!==this._listView.header&&a!==this._listView.footer){var c=-1,d=k.ObjectType.item;i.hasClass(a,l._headerClass)?(c=this._listView._groups.index(a),d=k.ObjectType.groupHeader,i._setAttribute(a,"role",this._listView._headerRole),i._setAttribute(a,"tabindex",this._listView._tabIndex)):(c=this.items.index(a),i._setAttribute(a,"aria-setsize",b),i._setAttribute(a,"aria-posinset",c+1),i._setAttribute(a,"role",this._listView._itemRole),i._setAttribute(a,"tabindex",this._listView._tabIndex)),d===k.ObjectType.groupHeader?this._listView._fireAccessibilityAnnotationCompleteEvent(-1,-1,c,c):this._listView._fireAccessibilityAnnotationCompleteEvent(c,c,-1,-1)}},_reportElementsLevel:function(a){function b(a,b){for(var c=0,e=a;e<=b;e++){var f=d.itemDataAt(e);f&&f.container&&c++}return c}var c,d=this.items;c="right"===a?Math.floor(100*b(this.firstIndexDisplayed,this.end-1)/(this.end-this.firstIndexDisplayed)):Math.floor(100*b(this.begin,this.lastIndexDisplayed)/(this.lastIndexDisplayed-this.begin+1)),this._listView._writeProfilerMark("elementsLevel level("+c+"),info")},_createHeaderContainer:function(a){return this._createSurfaceChild(l._headerContainerClass,a)},_createItemsContainer:function(a){var c=this._createSurfaceChild(l._itemsContainerClass,a),d=b.document.createElement("div");return d.className=l._padderClass,c.appendChild(d),c},_ensureContainerInDOM:function(a){var b=this.containers[a];return!(!b||this._listView._canvas.contains(b))&&(this._forceItemsBlocksInDOM(a,a+1),!0)},_ensureItemsBlocksInDOM:function(a,b){if(this._expandedRange){var c=this._expandedRange.first.index,d=this._expandedRange.last.index+1;a<=c&&b>c?b=Math.max(b,d):a<d&&b>=d&&(a=Math.min(a,c))}this._forceItemsBlocksInDOM(a,b)},_removeRedundantItemsBlocks:function(){-1!==this.begin&&-1!==this.end&&this._forceItemsBlocksInDOM(this.begin,this.end)},_lazilyRemoveRedundantItemsBlocks:function(){this._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StartTM");var a=this;return s(this._listView).then(function(){function b(){a._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StopTM")}if(a._listView._isZombie())return void b();if(a._expandedRange&&-1!==a.begin&&-1!==a.end&&(a._expandedRange.first.index<a.begin||a._expandedRange.last.index+1>a.end)){var c;return new e(function(b){function d(c){if(!a._listView._isZombie()){for(var e=r(a._listView);a._expandedRange.first.index<a.begin&&!e&&!c.shouldYield;){var f=Math.min(a.begin,a._expandedRange.first.index+a._blockSize*v._blocksToRelease);a._forceItemsBlocksInDOM(f,a.end)}for(;a._expandedRange.last.index+1>a.end&&!e&&!c.shouldYield;){var g=Math.max(a.end,a._expandedRange.last.index-a._blockSize*v._blocksToRelease);a._forceItemsBlocksInDOM(a.begin,g)}a._expandedRange.first.index<a.begin||a._expandedRange.last.index+1>a.end?e?c.setPromise(s(a._listView).then(function(){return d})):c.setWork(d):b()}}c=g.schedule(d,g.Priority.belowNormal,null,"WinJS.UI.ListView._lazilyRemoveRedundantItemsBlocks")}).then(b,function(b){return c.cancel(),a._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks canceled,info"),a._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StopTM"),e.wrapError(b)})}return b(),e.wrap()})},_forceItemsBlocksInDOM:function(a,b){function c(a,b){a.element.firstElementChild.style[q]=b}function d(a){for(var b=0;b<n.tree.length;b++)for(var c=n.tree[b].itemsContainer,d=0,e=c.itemsBlocks.length;d<e;d++)if(a(c,c.itemsBlocks[d]))return}function e(a){n._listView._writeProfilerMark("_itemsBlockExtent,StartTM"),n._listView._itemsBlockExtent=i[n._listView._horizontal()?"getTotalWidth":"getTotalHeight"](a.element),n._listView._writeProfilerMark("_itemsBlockExtent("+n._listView._itemsBlockExtent+"),info"),n._listView._writeProfilerMark("_itemsBlockExtent,StopTM")}function f(){return-1===n._listView._itemsBlockExtent&&d(function(a,b){return b.items.length===n._blockSize&&b.element.parentNode===a.element&&(e(b),!0)}),-1===n._listView._itemsBlockExtent&&d(function(a,b){return b.items.length===n._blockSize&&(a.element.appendChild(b.element),e(b),a.element.removeChild(b.element),!0)}),n._listView._itemsBlockExtent}function g(a,b,c){function d(b){var c=a.itemsBlocks[b];c&&c.element.parentNode===a.element&&(a.element.removeChild(c.element),p++)}if(Array.isArray(b))b.forEach(d);else for(var e=b;e<c;e++)d(e)}function h(a,b,c){for(var d=a.element.firstElementChild,e=d,f=b;f<c;f++){var g=a.itemsBlocks[f];g&&(g.element.parentNode!==a.element&&(a.element.insertBefore(g.element,e.nextElementSibling),o++),e=g.element)}}function j(a){if(a<n.tree.length){n._listView._writeProfilerMark("collapseGroup("+a+"),info");var b=n.tree[a].itemsContainer;g(b,0,b.itemsBlocks.length),c(b,"")}}function k(a){if(a<n.tree.length){n._listView._writeProfilerMark("expandGroup("+a+"),info");var b=n.tree[a].itemsContainer;h(b,0,b.itemsBlocks.length),c(b,"")}}function l(a,b){function c(a,b){for(var c=[],d=a;d<=b;d++)c.push(d);return c}var d=b[0],e=b[1],f=a[0],g=a[1];return e<f||d>g?c(f,g):d>f&&e<g?c(f,d-1).concat(c(e+1,g)):f<d?c(f,d-1):g>e?c(e+1,g):null}if(this._blockSize){var m="_forceItemsBlocksInDOM begin("+a+") end("+b+"),";this._listView._writeProfilerMark(m+"StartTM");var n=this,o=0,p=0,q="padding"+(this._listView._horizontal()?"Left":"Top"),r=this._listView._groups.groupFromItem(a),s=this._listView._groups.groupFromItem(b-1),t=this._listView._groups.group(r),u=n.tree[r].itemsContainer,v=Math.floor((a-t.startIndex)/this._blockSize),w=this._listView._groups.group(s),x=n.tree[s].itemsContainer,y=Math.floor((b-1-w.startIndex)/this._blockSize);v&&-1===n._listView._itemsBlockExtent&&d(function(a,b){return b.items.length===n._blockSize&&b.element.parentNode===a.element&&(e(b),!0)});var z=this._expandedRange?l([this._expandedRange.first.groupIndex,this._expandedRange.last.groupIndex],[r,s]):null;if(z&&z.forEach(j),this._expandedRange&&this._expandedRange.first.groupKey===t.key){var A=l([this._expandedRange.first.block,Number.MAX_VALUE],[v,Number.MAX_VALUE]);A&&g(u,A)}else this._expandedRange&&r>=this._expandedRange.first.groupIndex&&r<=this._expandedRange.last.groupIndex&&g(u,0,v);if(r!==s?(h(u,v,u.itemsBlocks.length),h(x,0,y+1)):h(u,v,y+1),this._expandedRange&&this._expandedRange.last.groupKey===w.key){var A=l([0,this._expandedRange.last.block],[0,y]);A&&g(x,A)}else this._expandedRange&&s>=this._expandedRange.first.groupIndex&&s<=this._expandedRange.last.groupIndex&&g(x,y+1,x.itemsBlocks.length);c(u,v?v*f()+"px":""),r!==s&&c(x,"");for(var B=r+1;B<s;B++)k(B);this._expandedRange={first:{index:a,groupIndex:r,groupKey:t.key,block:v},last:{index:b-1,groupIndex:s,groupKey:w.key,block:y}},this._listView._writeProfilerMark("_forceItemsBlocksInDOM groups("+r+"-"+s+") blocks("+v+"-"+y+") added("+o+") removed("+p+"),info"),this._listView._writeProfilerMark(m+"StopTM")}},_realizePageImpl:function(){var a=this,b="realizePage(scrollPosition:"+this._scrollbarPos+" forceLayout:"+this._forceRelayout+")";return this._listView._writeProfilerMark(b+",StartTM"),this._listView._versionManager.locked?(this._listView._versionManager.unlocked.done(function(){a._listView._isZombie()||a._listView._batchViewUpdates(l._ViewChange.realize,l._ScrollToPriority.low,a._listView.scrollPosition)}),this._listView._writeProfilerMark(b+",StopTM"),e.cancel):new e(function(c){function d(){c(),k.complete()}function g(){a._listView._hideProgressBar(),a._state.setLoadingState(a._listView._LoadingState.viewPortLoaded),a._executeAnimations&&a._setState(F,k.promise)}function h(b){a._updateAriaMarkers(0===b,a.firstIndexDisplayed,a.lastIndexDisplayed),a._state.setLoadingState&&a._state.setLoadingState(a._listView._LoadingState.itemsLoaded)}function j(b){a._listView._clearInsertedItems(),a._listView._groups.removeElements(),g(),h(b),d()}var k=new f;a._state.setLoadingState(a._listView._LoadingState.itemsLoading),a._firstLayoutPass&&a._listView._showProgressBar(a._listView._element,"50%","50%");var l=a.containers.length;if(l){var m,n,o=a.maxLeadingPages,p=a.maxTrailingPages,q=a._listView._getViewportLength();if(a._listView._zooming)m=n=0;else if(v._disableCustomPagesPrefetch)m=n=v._defaultPagesToPrefetch;else{m="left"===a._direction?o:p;var r=Math.max(0,m-a._scrollbarPos/q);n=Math.min(o,r+("right"===a._direction?o:p))}var s=Math.max(0,a._scrollbarPos-m*q),t=a._scrollbarPos+(1+n)*q,u=a._listView._layout.itemsFromRange(s,t-1);if((u.firstIndex<0||u.firstIndex>=l)&&(u.lastIndex<0||u.lastIndex>=l))a.begin=-1,a.end=-1,a.firstIndexDisplayed=-1,a.lastIndexDisplayed=-1,j(l);else{var w=i._clamp(u.firstIndex,0,l-1),x=i._clamp(u.lastIndex+1,0,l),y=a._listView._layout.itemsFromRange(a._scrollbarPos,a._scrollbarPos+q-1),z=i._clamp(y.firstIndex,0,l-1),A=i._clamp(y.lastIndex,0,l-1);if(a._realizationLevel!==v._realizationLevel.skip||a.lastRealizePass||z!==a.firstIndexDisplayed||A!==a.lastIndexDisplayed)if((a._forceRelayout||w!==a.begin||x!==a.end||z!==a.firstIndexDisplayed||A!==a.lastIndexDisplayed)&&w<x&&s<t){a._listView._writeProfilerMark("realizePage currentInView("+z+"-"+A+") previousInView("+a.firstIndexDisplayed+"-"+a.lastIndexDisplayed+") change("+(z-a.firstIndexDisplayed)+"),info"),a._cancelRealize();var B=a._realizePass;a.begin=w,a.end=x,a.firstIndexDisplayed=z,a.lastIndexDisplayed=A,a.deletesWithoutRealize=0,a._ensureItemsBlocksInDOM(a.begin,a.end);var C=a._realizeItems(a._listView._itemCanvas,a.begin,a.end,l,B,a._scrollbarPos,a._direction,z,A,a._forceRelayout);a._forceRelayout=!1;var D=C.viewportItemsRealized.then(function(){return g(),C.allItemsRealized}).then(function(){if(a._realizePass===B)return a._updateHeaders(a._listView._canvas,a.begin,a.end).then(function(){h(l)})}).then(function(){return C.loadingCompleted}).then(function(){a._unrealizeExcessiveItems(),a.lastRealizePass=null,d()},function(b){return a._realizePass===B&&(a.lastRealizePass=null,a.begin=-1,a.end=-1),e.wrapError(b)});a.lastRealizePass=e.join([C.viewportItemsRealized,C.allItemsRealized,C.loadingCompleted,D]),a._unrealizeExcessiveItems()}else a.lastRealizePass?a.lastRealizePass.then(d):j(l);else a.begin=w,a.end=w+Object.keys(a.items._itemData).length,a._updateHeaders(a._listView._canvas,a.begin,a.end).done(function(){a.lastRealizePass=null,j(l)})}}else a.begin=-1,a.end=-1,a.firstIndexDisplayed=-1,a.lastIndexDisplayed=-1,j(l);a._reportElementsLevel(a._direction),a._listView._writeProfilerMark(b+",StopTM")})},realizePage:function(a,b,c,d){this._scrollToFunctor=t(a),this._forceRelayout=this._forceRelayout||b,this._scrollEndPromise=c,this._listView._writeProfilerMark(this._state.name+"_realizePage,info"),this._state.realizePage(d||A)},onScroll:function(a,b){this.realizePage(a,!1,b,C)},reload:function(a,b){this._listView._isZombie()||(this._scrollToFunctor=t(a),this._forceRelayout=!0,this._highPriorityRealize=!!b,this.stopWork(!0),this._listView._writeProfilerMark(this._state.name+"_rebuildTree,info"),this._state.rebuildTree())},refresh:function(a){this._listView._isZombie()||(this._scrollToFunctor=t(a),this._forceRelayout=!0,this._highPriorityRealize=!0,this.stopWork(),this._listView._writeProfilerMark(this._state.name+"_relayout,info"),this._state.relayout())},waitForValidScrollPosition:function(a){var b=this,c=this._listView._viewport[this._listView._scrollLength]-this._listView._getViewportLength();return a>c?b._listView._itemsCount().then(function(c){return b.containers.length<c?e._cancelBlocker(b._creatingContainersWork&&b._creatingContainersWork.promise).then(function(){return b._getLayoutCompleted()}).then(function(){return a}):a}):e.wrap(a)},waitForEntityPosition:function(a){var b=this;return a.type===k.ObjectType.header||a.type===k.ObjectType.footer?e.wrap():(this._listView._writeProfilerMark(this._state.name+"_waitForEntityPosition("+a.type+": "+a.index+"),info"),e._cancelBlocker(this._state.waitForEntityPosition(a).then(function(){if(a.type!==k.ObjectType.groupHeader&&a.index>=b.containers.length||a.type===k.ObjectType.groupHeader&&b._listView._groups.group(a.index).startIndex>=b.containers.length)return b._creatingContainersWork&&b._creatingContainersWork.promise}).then(function(){return b._getLayoutCompleted()})))},stopWork:function(a){this._listView._writeProfilerMark(this._state.name+"_stop,info"),this._state.stop(a),this._layoutWork&&this._layoutWork.cancel(),a&&this._creatingContainersWork&&this._creatingContainersWork.cancel(),a&&(this._state=new w(this))},_cancelRealize:function(){this._listView._writeProfilerMark("_cancelRealize,StartTM"),(this.lastRealizePass||this.deferTimeout)&&(this._forceRelayout=!0),this._clearDeferTimeout(),this._realizePass++,this._headerRenderPromises&&(this._headerRenderPromises.cancel(),this._headerRenderPromises=null);var a=this.lastRealizePass;a&&(this.lastRealizePass=null,this.begin=-1,this.end=-1,a.cancel()),this._listView._writeProfilerMark("_cancelRealize,StopTM")},resetItems:function(a){if(!this._listView._isZombie()){this.firstIndexDisplayed=-1,this.lastIndexDisplayed=-1,this._runningAnimations=null,this._executeAnimations=!1;var b=this._listView;this._firstLayoutPass=!0,b._unsetFocusOnItem(),b._currentMode().onDataChanged&&b._currentMode().onDataChanged(),this.items.each(function(c,d){a&&d.parentNode&&d.parentNode.parentNode&&d.parentNode.parentNode.removeChild(d.parentNode),b._itemsManager.releaseItem(d),h._disposeElement(d)}),this.items.removeItems(),this._deferredReparenting=[],a&&b._groups.removeElements(),b._clearInsertedItems()}},reset:function(){if(this.stopWork(!0),this._state=new w(this),this.resetItems(),!this._listView._isZombie()){var a=this._listView;a._groups.resetGroups(),a._resetCanvas(),this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null}},cleanUp:function(){this.stopWork(!0),this._runningAnimations&&this._runningAnimations.cancel();var a=this._listView._itemsManager;this.items.each(function(b,c){a.releaseItem(c),h._disposeElement(c)}),this._listView._unsetFocusOnItem(),this.items.removeItems(),this._deferredReparenting=[],this._listView._groups.resetGroups(),this._listView._resetCanvas(),this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null,this.destroyed=!0},getContainer:function(a){return this.containers[a]},_getHeaderContainer:function(a){return this.tree[a].header},_getGroups:function(a){if(this._listView._groupDataSource){var b=this._listView._groups.groups,c=[];if(a)for(var d=0,e=b.length;d<e;d++){var f=b[d],g=d+1<e?b[d+1].startIndex:a;c.push({key:f.key,size:g-f.startIndex})}return c}return[{key:"-1",size:a}]},_createChunk:function(a,b,c){function d(a,b){var d=a.element.children,e=d.length,g=Math.min(b-a.items.length,c);j.insertAdjacentHTMLUnsafe(a.element,"beforeend",n._repeat("<div class='win-container win-backdrop'></div>",g));for(var h=0;h<g;h++){var i=d[e+h];a.items.push(i),f.containers.push(i)}}function e(a){var b={header:f._listView._groupDataSource?f._createHeaderContainer():null,itemsContainer:{element:f._createItemsContainer(),items:[]}};f.tree.push(b),f.keyToGroupIndex[a.key]=f.tree.length-1,d(b.itemsContainer,a.size)}var f=this;if(this._listView._writeProfilerMark("createChunk,StartTM"),this.tree.length&&this.tree.length<=a.length){var g=this.tree[this.tree.length-1],h=a[this.tree.length-1].size;if(g.itemsContainer.items.length<h)return d(g.itemsContainer,h),void this._listView._writeProfilerMark("createChunk,StopTM")}this.tree.length<a.length&&e(a[this.tree.length]),this._listView._writeProfilerMark("createChunk,StopTM")},_createChunkWithBlocks:function(a,c,d,e){function f(a,c){var f,g=a.itemsBlocks.length?a.itemsBlocks[a.itemsBlocks.length-1]:null;if(c=Math.min(c,e),g&&g.items.length<d){var i=Math.min(c,d-g.items.length),k=g.items.length,f=(a.itemsBlocks.length-1)*d+k,l=n._stripedContainers(i,f);j.insertAdjacentHTMLUnsafe(g.element,"beforeend",l),w=g.element.children;for(var m=0;m<i;m++){var o=w[k+m];g.items.push(o),h.containers.push(o)}c-=i}f=a.itemsBlocks.length*d;var p=Math.floor(c/d),q="",r=f,s=f+d;if(p>0){var t=["<div class='win-itemsblock'>"+n._stripedContainers(d,r)+"</div>","<div class='win-itemsblock'>"+n._stripedContainers(d,s)+"</div>"];q=n._repeat(t,p),f+=p*d}var u=c%d;u>0&&(q+="<div class='win-itemsblock'>"+n._stripedContainers(u,f)+"</div>",f+=u,p++);var v=b.document.createElement("div");j.setInnerHTMLUnsafe(v,q);for(var w=v.children,x=0;x<p;x++){var y=w[x],z={element:y,items:n._nodeListToArray(y.children)};a.itemsBlocks.push(z);for(var A=0;A<z.items.length;A++)h.containers.push(z.items[A])}}function g(a){var b={header:h._listView._groupDataSource?h._createHeaderContainer():null,itemsContainer:{element:h._createItemsContainer(),itemsBlocks:[]}};h.tree.push(b),h.keyToGroupIndex[a.key]=h.tree.length-1,f(b.itemsContainer,a.size)}var h=this;if(this._listView._writeProfilerMark("createChunk,StartTM"),this.tree.length&&this.tree.length<=a.length){var i=this.tree[this.tree.length-1].itemsContainer,k=a[this.tree.length-1].size,l=0;if(i.itemsBlocks.length&&(l=(i.itemsBlocks.length-1)*d+i.itemsBlocks[i.itemsBlocks.length-1].items.length),l<k)return f(i,k-l),void this._listView._writeProfilerMark("createChunk,StopTM")}this.tree.length<a.length&&g(a[this.tree.length]),this._listView._writeProfilerMark("createChunk,StopTM")},_generateCreateContainersWorker:function(){var a=this,b=0,c=!1;return function e(f){a._listView._versionManager.locked?f.setPromise(a._listView._versionManager.unlocked.then(function(){return e})):a._listView._itemsCount().then(function(g){if(!c&&r(a._listView))f.setPromise(s(a._listView).then(function(a){return c=a,e}));else{if(a._listView._isZombie())return;c=!1;var h=d._now()+v._createContainersJobTimeslice,i=a._getGroups(g),j=a.containers.length,k=a.end===a.containers.length,l=v._chunkSize;do{a._blockSize?a._createChunkWithBlocks(i,g,a._blockSize,l):a._createChunk(i,g,l),b++}while(a.containers.length<g&&d._now()<h);a._listView._writeProfilerMark("createContainers yields containers("+a.containers.length+"),info"),a._listView._affectedRange.add({start:j,end:a.containers.length},g),k?(a.stopWork(),a._listView._writeProfilerMark(a._state.name+"_relayout,info"),a._state.relayout()):(a._listView._writeProfilerMark(a._state.name+"_layoutNewContainers,info"),a._state.layoutNewContainers()),a.containers.length<g?f.setWork(e):(a._listView._writeProfilerMark("createContainers completed steps("+b+"),info"),a._creatingContainersWork.complete())}})}},_scheduleLazyTreeCreation:function(){return g.schedule(this._generateCreateContainersWorker(),g.Priority.idle,this,"WinJS.UI.ListView.LazyTreeCreation")},_createContainers:function(){this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null;var a,b=this;return this._listView._itemsCount().then(function(c){if(0===c&&b._listView._hideProgressBar(),a=c,b._listView._writeProfilerMark("createContainers("+a+"),StartTM"),b._listView._groupDataSource)return b._listView._groups.initialize()}).then(function(){return b._listView._writeProfilerMark("numberOfItemsPerItemsBlock,StartTM"),a&&b._listView._groups.length()?b._listView._layout.numberOfItemsPerItemsBlock:null}).then(function(c){b._listView._writeProfilerMark("numberOfItemsPerItemsBlock("+c+"),info"),b._listView._writeProfilerMark("numberOfItemsPerItemsBlock,StopTM"),b._listView._resetCanvas(),b.tree=[],b.keyToGroupIndex={},b.containers=[],b._blockSize=c;var e,f=b._getGroups(a),g=d._now()+v._maxTimePerCreateContainers,h=Math.min(v._startupChunkSize,v._chunkSize);do{e=c?b._createChunkWithBlocks(f,a,c,h):b._createChunk(f,a,h)}while(d._now()<g&&b.containers.length<a&&!e);if(b._listView._writeProfilerMark("createContainers created("+b.containers.length+"),info"),b._listView._affectedRange.add({start:0,end:b.containers.length},a),b.containers.length<a){var i=b._scheduleLazyTreeCreation();b._creatingContainersWork.promise.done(null,function(){i.cancel()})}else b._listView._writeProfilerMark("createContainers completed synchronously,info"),b._creatingContainersWork.complete();b._listView._writeProfilerMark("createContainers("+a+"),StopTM")})},_updateItemsBlocks:function(a){function c(){var a=b.document.createElement("div");return a.className=l._itemsBlockClass,a}function d(b,d){function g(){b.itemsBlocks=null,b.items=[];for(var a=0;a<k;a++){var c=e.containers[d+a];b.element.appendChild(c),b.items.push(c)}}function h(){b.itemsBlocks=[{element:j.length?j.shift():c(),items:[]}];for(var f=b.itemsBlocks[0],g=0;g<k;g++){if(f.items.length===a){var h=j.length?j.shift():c();b.itemsBlocks.push({element:h,items:[]}),f=b.itemsBlocks[b.itemsBlocks.length-1]}var i=e.containers[d+g];f.element.appendChild(i),f.items.push(i)}b.items=null}var i,j=[],k=0,l=b.itemsBlocks;if(l)for(i=0;i<l.length;i++)k+=l[i].items.length,j.push(l[i].element);else k=b.items.length;for(f?h():g(),i=0;i<j.length;i++){var m=j[i];m.parentNode===b.element&&b.element.removeChild(m)}return k}for(var e=this,f=!!a,g=0,h=0;g<this.tree.length;g++)h+=d(this.tree[g].itemsContainer,h);e._blockSize=a},_layoutItems:function(){var a=this;return this._listView._itemsCount().then(function(){return e.as(a._listView._layout.numberOfItemsPerItemsBlock).then(function(b){a._listView._writeProfilerMark("numberOfItemsPerItemsBlock("+b+"),info"),b!==a._blockSize&&(a._updateItemsBlocks(b),a._listView._itemsBlockExtent=-1);var c,d=a._listView._affectedRange.get();return d&&(c={firstIndex:Math.max(d.start-1,0),lastIndex:Math.min(a.containers.length-1,d.end)},c.firstIndex<a.containers.length||0===a.containers.length)?a._listView._layout.layout(a.tree,c,a._modifiedElements||[],a._modifiedGroups||[]):(a._listView._affectedRange.clear(),{realizedRangeComplete:e.wrap(),layoutComplete:e.wrap()})})})},updateTree:function(a,b,c){return this._listView._writeProfilerMark(this._state.name+"_updateTree,info"),this._state.updateTree(a,b,c)},_updateTreeImpl:function(a,c,d,e){function f(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];d.parentNode.removeChild(d)}}if(this._executeAnimations=!0,this._modifiedElements=d,!d.handled){d.handled=!0,this._listView._writeProfilerMark("_updateTreeImpl,StartTM");var g,h=this;e||this._unrealizeItems();for(var g=0,j=d.length;g<j;g++)d[g]._itemBox&&d[g]._itemBox.parentNode&&i.removeClass(d[g]._itemBox.parentNode,l._selectedClass);this.items.each(function(a,b,c){c.container&&i.removeClass(c.container,l._selectedClass),c.container&&i.addClass(c.container,l._backdropClass)});var k=this._listView._updateContainers(this._getGroups(a),a,c,d);f(k.removedHeaders),f(k.removedItemsContainers);for(var g=0,j=d.length;g<j;g++){var n=d[g];if(-1!==n.newIndex){if(n.element=this.getContainer(n.newIndex),!n.element)throw"Container missing after updateContainers."}else i.removeClass(n.element,l._backdropClass)}var o=b.document.activeElement;this._listView._canvas.contains(o)&&(this._requireFocusRestore=o),this._deferredReparenting=[],this.items.each(function(a,b,c){var d=h.getContainer(a),e=c.itemBox;e&&d&&(c.container=d,e.parentNode!==d&&(a>=h.firstIndexDisplayed&&a<=h.lastIndexDisplayed?h._appendAndRestoreFocus(d,e):h._deferredReparenting.push({itemBox:e,container:d})),i.removeClass(d,l._backdropClass),i[h._listView.selection._isIncluded(a)?"addClass":"removeClass"](d,l._selectedClass),!h._listView.selection._isIncluded(a)&&i.hasClass(e,l._selectedClass)&&m._ItemEventsHandler.renderSelection(e,c.element,!1,!0))}),this._listView._writeProfilerMark("_updateTreeImpl,StopTM")}},_completeUpdateTree:function(){if(this._deferredReparenting){var a=this._deferredReparenting.length;if(a>0){var b="_completeReparenting("+a+")";this._listView._writeProfilerMark(b+",StartTM");for(var c,d=0;d<a;d++)c=this._deferredReparenting[d],this._appendAndRestoreFocus(c.container,c.itemBox);this._deferredReparenting=[],this._listView._writeProfilerMark(b+",StopTM")}}this._requireFocusRestore=null},_appendAndRestoreFocus:function(a,c){if(c.parentNode!==a){var d;if(this._requireFocusRestore&&(d=b.document.activeElement),this._requireFocusRestore&&this._requireFocusRestore===d&&(a.contains(d)||c.contains(d))&&(this._listView._unsetFocusOnItem(),d=b.document.activeElement),i.empty(a),a.appendChild(c),this._requireFocusRestore&&d===this._listView._keyboardEventsHelper){var e=this._listView._selection._getFocused();e.type===k.ObjectType.item&&this.items.itemBoxAt(e.index)===c&&(i._setActive(this._requireFocusRestore),this._requireFocusRestore=null)}}},_startAnimations:function(){this._listView._writeProfilerMark("startAnimations,StartTM");var a=this;return this._hasAnimationInViewportPending=!1,e.as(this._listView._layout.executeAnimations()).then(function(){a._listView._writeProfilerMark("startAnimations,StopTM")})},_setState:function(a,b){if(!this._listView._isZombie()){var c=this._state.name;this._state=new a(this,b),this._listView._writeProfilerMark(this._state.name+"_enter from("+c+"),info"),this._state.enter()}},getAdjacent:function(a,b){var c=this;return this.waitForEntityPosition(a).then(function(){return c._listView._layout.getAdjacent(a,b)})},hitTest:function(a,b){if(this._realizedRangeLaidOut)return{index:-1,insertAfterIndex:-1};var c=this._listView._layout.hitTest(a,b);return c.index=i._clamp(c.index,-1,this._listView._cachedCount-1,0),c.insertAfterIndex=i._clamp(c.insertAfterIndex,-1,this._listView._cachedCount-1,0),c},_createTreeBuildingSignal:function(){if(!this._creatingContainersWork){this._creatingContainersWork=new f;var a=this;this._creatingContainersWork.promise.done(function(){a._creatingContainersWork=null},function(){a._creatingContainersWork=null})}},_createLayoutSignal:function(){var a=this;this._layoutCompleted||(this._layoutCompleted=new f,this._layoutCompleted.promise.done(function(){a._layoutCompleted=null},function(){a._layoutCompleted=null})),this._realizedRangeLaidOut||(this._realizedRangeLaidOut=new f,this._realizedRangeLaidOut.promise.done(function(){a._realizedRangeLaidOut=null},function(){a._realizedRangeLaidOut=null}))},_getLayoutCompleted:function(){return this._layoutCompleted?e._cancelBlocker(this._layoutCompleted.promise):e.wrap()},_createSurfaceChild:function(a,c){var d=b.document.createElement("div");return d.className=a,this._listView._canvas.insertBefore(d,c?c.nextElementSibling:null),d},_executeScrollToFunctor:function(){var a=this;return e.as(this._scrollToFunctor?this._scrollToFunctor():null).then(function(b){a._scrollToFunctor=null,b=b||{},+b.position===b.position&&(a._scrollbarPos=b.position),a._direction=b.direction||"right"})}},{_defaultPagesToPrefetch:2,_iOSMaxLeadingPages:6,_iOSMaxTrailingPages:2,_disableCustomPagesPrefetch:!1,_waitForSeZoIntervalDuration:100,_waitForSeZoTimeoutDuration:500,_chunkSize:500,_startupChunkSize:100,_maxTimePerCreateContainers:5,_createContainersJobTimeslice:15,_blocksToRelease:10,_realizationLevel:{skip:"skip",realize:"realize",normal:"normal"}}),w=c.Class.define(function(a){this.view=a,this.view._createTreeBuildingSignal(),this.view._createLayoutSignal()},{name:"CreatedState",enter:function(){this.view._createTreeBuildingSignal(),this.view._createLayoutSignal()},stop:u,realizePage:u,rebuildTree:function(){this.view._setState(x)},relayout:function(){this.view._setState(x)},layoutNewContainers:u,waitForEntityPosition:function(){return this.view._setState(x),this.view._getLayoutCompleted()},updateTree:u}),x=c.Class.define(function(a){this.view=a},{name:"BuildingState",enter:function(){this.canceling=!1,this.view._createTreeBuildingSignal(),this.view._createLayoutSignal();var a=this,b=new f;this.promise=b.promise.then(function(){return a.view._createContainers()}).then(function(){a.view._setState(y)},function(b){return a.canceling||(a.view._setState(w),a.view._listView._raiseViewComplete()),e.wrapError(b)}),b.complete()},stop:function(){this.canceling=!0,this.promise.cancel(),this.view._setState(w)},realizePage:u,rebuildTree:function(){this.canceling=!0,this.promise.cancel(),this.enter()},relayout:u,layoutNewContainers:u,waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:u}),y=c.Class.define(function(a,b){this.view=a,this.nextStateType=b||A},{name:"LayingoutState",enter:function(){var a=this;this.canceling=!1,this.view._createLayoutSignal(),this.view._listView._writeProfilerMark(this.name+"_enter_layoutItems,StartTM");var b=new f;this.promise=b.promise.then(function(){return a.view._layoutItems()}).then(function(b){return a.view._layoutWork=b.layoutComplete,b.realizedRangeComplete}).then(function(){a.view._listView._writeProfilerMark(a.name+"_enter_layoutItems,StopTM"),a.view._listView._clearInsertedItems(),a.view._setAnimationInViewportState(a.view._modifiedElements),a.view._modifiedElements=[],a.view._modifiedGroups=[],a.view._realizedRangeLaidOut.complete(),a.view._layoutWork.then(function(){a.view._listView._writeProfilerMark(a.name+"_enter_layoutCompleted,info"),a.view._listView._affectedRange.clear(),a.view._layoutCompleted.complete()}),a.canceling||a.view._setState(a.nextStateType)},function(b){return a.view._listView._writeProfilerMark(a.name+"_enter_layoutCanceled,info"),a.canceling||(a.view.firstIndexDisplayed=a.view.lastIndexDisplayed=-1,a.view._updateAriaMarkers(!0,a.view.firstIndexDisplayed,a.view.lastIndexDisplayed),a.view._setState(G)),e.wrapError(b)}),b.complete(),this.canceling&&this.promise.cancel()},cancelLayout:function(a){this.view._listView._writeProfilerMark(this.name+"_cancelLayout,info"),this.canceling=!0,this.promise&&this.promise.cancel(),a&&this.view._setState(z)},stop:function(){this.cancelLayout(!0)},realizePage:u,rebuildTree:function(){this.cancelLayout(!1),this.view._setState(x)},relayout:function(){this.cancelLayout(!1),this.enter()},layoutNewContainers:function(){this.relayout()},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)}}),z=c.Class.define(function(a){this.view=a},{name:"LayoutCanceledState",enter:u,stop:u,realizePage:function(){this.relayout()},rebuildTree:function(){this.view._setState(x)},relayout:function(){this.view._setState(y)},layoutNewContainers:function(){this.relayout()},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)}}),A=c.Class.define(function(a){this.view=a,this.nextState=E,this.relayoutNewContainers=!0},{name:"RealizingState",enter:function(){var a=this,b=new f;this.promise=b.promise.then(function(){return a.view._executeScrollToFunctor()}).then(function(){return a.relayoutNewContainers=!1,e._cancelBlocker(a.view._realizePageImpl())}).then(function(){a.view._state===a&&(a.view._completeUpdateTree(),a.view._listView._writeProfilerMark("RealizingState_to_UnrealizingState"),a.view._setState(a.nextState))},function(b){return a.view._state!==a||a.canceling||(a.view._listView._writeProfilerMark("RealizingState_to_CanceledState"),a.view._setState(B)),e.wrapError(b)}),b.complete()},stop:function(){this.canceling=!0,this.promise.cancel(),this.view._cancelRealize(),this.view._setState(B)},realizePage:function(){this.canceling=!0,this.promise.cancel(),this.enter()},rebuildTree:function(){this.stop(),this.view._setState(x)},relayout:function(){this.stop(),this.view._setState(y)},layoutNewContainers:function(){this.relayoutNewContainers?this.relayout():(this.view._createLayoutSignal(),this.view._relayoutInComplete=!0)},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)},setLoadingState:function(a){this.view._listView._setViewState(a)}}),B=c.Class.define(function(a){this.view=a},{name:"CanceledState",enter:u,stop:function(){this.view._cancelRealize()},realizePage:function(a){this.stop(),this.view._setState(a)},rebuildTree:function(){this.stop(),this.view._setState(x)},relayout:function(a){this.stop(),this.view._setState(y,a)},layoutNewContainers:function(){this.relayout(B)},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)}}),C=c.Class.derive(A,function(a){this.view=a,this.nextState=D,this.relayoutNewContainers=!0},{name:"ScrollingState",setLoadingState:function(){}}),D=c.Class.derive(B,function(a){this.view=a},{name:"ScrollingPausedState",enter:function(){var a=this;this.promise=e._cancelBlocker(this.view._scrollEndPromise).then(function(){a.view._setState(E)})},stop:function(){this.promise.cancel(),this.view._cancelRealize()}}),E=c.Class.define(function(a){this.view=a},{name:"UnrealizingState",enter:function(){var a=this;this.promise=this.view._lazilyUnrealizeItems().then(function(){return a.view._listView._writeProfilerMark("_renderCompletePromise wait starts,info"),a.view._renderCompletePromise}).then(function(){a.view._setState(G)})},stop:function(){this.view._cancelRealize(),this.promise.cancel(),this.view._setState(B)},realizePage:function(a){this.promise.cancel(),this.view._setState(a)},rebuildTree:function(){this.view._setState(x)},relayout:function(){this.view._setState(y)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._relayoutInComplete=!0},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)}}),F=c.Class.define(function(a,b){this.view=a,this.realizePromise=b,this.realizeId=1},{name:"RealizingAnimatingState",enter:function(){var a=this;this.animating=!0,this.animatePromise=this.view._startAnimations(),this.animateSignal=new f,this.view._executeAnimations=!1,this.animatePromise.done(function(){a.animating=!1,a.modifiedElements?(a.view._updateTreeImpl(a.count,a.delta,a.modifiedElements),a.modifiedElements=null,a.view._setState(B)):a.animateSignal.complete()},function(b){return a.animating=!1,e.wrapError(b)}),this._waitForRealize()},_waitForRealize:function(){var a=this;this.realizing=!0,this.realizePromise.done(function(){a.realizing=!1});var b=++this.realizeId;e.join([this.realizePromise,this.animateSignal.promise]).done(function(){b===a.realizeId&&(a.view._completeUpdateTree(),a.view._listView._writeProfilerMark("RealizingAnimatingState_to_UnrealizingState"),a.view._setState(E))})},stop:function(a){this.realizePromise.cancel(),this.view._cancelRealize(),a&&(this.animatePromise.cancel(),this.view._setState(B))},realizePage:function(){if(!this.modifiedElements){var a=this;this.realizePromise=this.view._executeScrollToFunctor().then(function(){return e._cancelBlocker(a.view._realizePageImpl())}),this._waitForRealize()}},rebuildTree:function(){this.stop(!0),this.view._setState(x)},relayout:function(){this.stop(!0),this.modifiedElements&&(this.view._updateTreeImpl(this.count,this.delta,this.modifiedElements),this.modifiedElements=null),this.view._setState(y)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._relayoutInComplete=!0},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){if(this.animating){var d=this.modifiedElements;return this.count=a,this.delta=b,this.modifiedElements=c,d?e.cancel:this.animatePromise}return this.view._updateTreeImpl(a,b,c)},setLoadingState:function(a){this.view._listView._setViewState(a)}}),G=c.Class.derive(B,function(a){this.view=a},{name:"CompletedState",enter:function(){this._stopped=!1,this.view._setupDeferredActions(),this.view._realizationLevel=v._realizationLevel.normal,this.view._listView._raiseViewComplete(),this.view._state===this&&this.view._relayoutInComplete&&!this._stopped&&this.view._setState(H)},stop:function(){this._stopped=!0,B.prototype.stop.call(this)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._setState(H)},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c,!0)}}),H=c.Class.derive(B,function(a){this.view=a},{name:"LayingoutNewContainersState",enter:function(){var a=this;this.promise=e.join([this.view.deferTimeout,this.view._layoutWork]),this.promise.then(function(){a.view._relayoutInComplete=!1,a.relayout(B)})},stop:function(){this.promise.cancel(),this.view._cancelRealize()},realizePage:function(a){this.stop(),this.view._setState(y,a)},layoutNewContainers:function(){this.view._createLayoutSignal()}});return v})})}),d("require-style!less/styles-listview",[],function(){}),d("require-style!less/colors-listview",[],function(){}),d("WinJS/Controls/ListView",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../_Accents","../Animations","../Animations/_TransitionAnimation","../BindingList","../Promise","../Scheduler","../_Signal","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_ItemsManager","../Utilities/_SafeHtml","../Utilities/_TabContainer","../Utilities/_UI","../Utilities/_VersionManager","./ElementResizeInstrument","./ItemContainer/_Constants","./ItemContainer/_ItemEventsHandler","./ListView/_BrowseMode","./ListView/_ErrorMessages","./ListView/_GroupFocusCache","./ListView/_GroupsContainer","./ListView/_Helpers","./ListView/_ItemsContainer","./ListView/_Layouts","./ListView/_SelectionManager","./ListView/_VirtualizeContentsView","require-style!less/styles-listview","require-style!less/colors-listview"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J){"use strict";function K(){var a=Q;Q=[],a=a.filter(function(a){return!a._isZombie()||(a._dispose(),!1)}),Q=Q.concat(a)}function L(a){Q.push(a),N&&N.cancel(),N=m.timeout(P).then(K)}function M(a){return a.offsetParent?a.offsetParent.offsetWidth-a.offsetLeft-a.offsetWidth:0}i.createAccentRule(".win-listview:not(.win-selectionstylefilled) .win-selectioncheckmarkbackground,         .win-itemcontainer:not(.win-selectionstylefilled) .win-selectioncheckmarkbackground",[{name:"border-color",value:i.ColorTypes.accent},{name:"background-color",value:i.ColorTypes.accent}]),i.createAccentRule(".win-listview:not(.win-selectionstylefilled) .win-container.win-selected .win-selectionborder,         .win-itemcontainer:not(.win-selectionstylefilled).win-container.win-selected .win-selectionborder",[{name:"border-color",value:i.ColorTypes.accent}]),i.createAccentRule(".win-listview.win-selectionstylefilled .win-selected .win-selectionbackground,         .win-itemcontainer.win-selectionstylefilled.win-selected .win-selectionbackground",[{name:"background-color",value:i.ColorTypes.accent}]);var N,O=c._browserStyleEquivalents.transform,P=1e3,Q=[],R=r._uniqueID,S={get notCompatibleWithSemanticZoom(){return"ListView can only be used with SemanticZoom if randomAccess loading behavior is specified."},get listViewInvalidItem(){return"Item must provide index, key or description of corresponding item."},get listViewViewportAriaLabel(){return g._getWinJSString("ui/listViewViewportAriaLabel").value}},T=c.requireSupportedForProcessing,U={entrance:"entrance",contentTransition:"contentTransition"};b.Namespace.define("WinJS.UI",{ListViewAnimationType:U,ListView:b.Namespace._lazy(function(){var g=b.Class.define(function(){this.clear()},{add:function(a,b){if(a._lastKnownSizeOfData=b,this._range){this._range.start=Math.min(this._range.start,a.start);var c=this._range._lastKnownSizeOfData-this._range.end,d=a._lastKnownSizeOfData-a.end,e=Math.min(c,d);this._range._lastKnownSizeOfData=a._lastKnownSizeOfData,this._range.end=this._range._lastKnownSizeOfData-e}else this._range=a},addAll:function(){this.add({start:0,end:Number.MAX_VALUE},Number.MAX_VALUE)},clear:function(){this._range=null},get:function(){return this._range}}),i=b.Class.define(function(a){this._listView=a},{getPanAxis:function(){return this._listView._getPanAxis()},configureForZoom:function(a,b,c,d){this._listView._configureForZoom(a,b,c,d)},setCurrentItem:function(a,b){this._listView._setCurrentItem(a,b)},getCurrentItem:function(){return this._listView._getCurrentItem()},beginZoom:function(){return this._listView._beginZoom()},positionItem:function(a,b){return this._listView._positionItem(a,b)},endZoom:function(a){this._listView._endZoom(a)},pinching:{get:function(){return this._listView._pinching},set:function(a){this._listView._pinching=a}}}),s=b.Class.define(function(b,c){if(b=b||a.document.createElement("div"),this._id=b.id||"",this._writeProfilerMark("constructor,StartTM"),c=c||{},b.winControl=this,r.addClass(b,"win-disposable"),this._affectedRange=new g,this._mutationObserver=new r._MutationObserver(this._itemPropertyChange.bind(this)),this._versionManager=null,this._insertedItems={},this._element=b,this._startProperty=null,this._scrollProperty=null,this._scrollLength=null,this._scrolling=!1,this._zooming=!1,this._pinching=!1,this._itemsManager=null,this._canvas=null,this._cachedCount=z._UNINITIALIZED,this._loadingState=this._LoadingState.complete,this._firstTimeDisplayed=!0,this._currentScrollPosition=0,this._lastScrollPosition=0,this._notificationHandlers=[],this._itemsBlockExtent=-1,this._lastFocusedElementInGroupTrack={type:w.ObjectType.item,index:-1},this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1},this._viewportWidth=z._UNINITIALIZED,this._viewportHeight=z._UNINITIALIZED,this._manipulationState=r._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED,this._maxDeferredItemCleanup=Number.MAX_VALUE,this._groupsToRemove={},this._setupInternalTree(),this._isCurrentZoomView=!0,this._dragSource=!1,this._reorderable=!1,this._groupFocusCache=new D._UnsupportedGroupFocusCache,this._viewChange=z._ViewChange.rebuild,this._scrollToFunctor=null,this._setScrollbarPosition=!1,this._view=new J._VirtualizeContentsView(this),this._selection=new I._SelectionManager(this),this._createTemplates(),this._groupHeaderRenderer=t._trivialHtmlRenderer,this._itemRenderer=t._trivialHtmlRenderer,this._groupHeaderRelease=null,this._itemRelease=null,c.itemDataSource)this._dataSource=c.itemDataSource;else{var d=new l.List;this._dataSource=d.dataSource}this._selectionMode=w.SelectionMode.multi,this._tap=w.TapBehavior.invokeOnly,this._groupHeaderTap=w.GroupHeaderTapBehavior.invoke,this._mode=new B._SelectionMode(this),this._groups=new E._NoGroups(this),this._updateItemsAriaRoles(),this._updateGroupHeadersAriaRoles(),this._element.setAttribute("aria-multiselectable",this._multiSelection()),this._element.tabIndex=-1,this._tabManager.tabIndex=this._tabIndex,"absolute"!==this._element.style.position&&"relative"!==this._element.style.position&&(this._element.style.position="relative"),this._updateItemsManager(),c.layout||this._updateLayout(new H.GridLayout),this._attachEvents(),this._runningInit=!0,p.setOptions(this,c),this._runningInit=!1,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},layout:{get:function(){return this._layoutImpl},set:function(a){this._updateLayout(a),this._runningInit||(this._view.reset(),this._updateItemsManager(),this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},maxLeadingPages:{get:function(){return this._view.maxLeadingPages},set:function(a){this._view.maxLeadingPages=Math.max(0,Math.floor(a))}},maxTrailingPages:{get:function(){return this._view.maxTrailingPages},set:function(a){this._view.maxTrailingPages=Math.max(0,Math.floor(a))}},pagesToLoad:{get:function(){return 2*J._VirtualizeContentsView._defaultPagesToPrefetch+1},set:function(){r._deprecated(C.pagesToLoadIsDeprecated)}},pagesToLoadThreshold:{get:function(){return 0},set:function(){r._deprecated(C.pagesToLoadThresholdIsDeprecated)}},groupDataSource:{get:function(){return this._groupDataSource},set:function(a){function b(a){a.detail===w.DataSourceStatus.failure&&(c.itemDataSource=null,c.groupDataSource=null)}this._writeProfilerMark("set_groupDataSource,info");var c=this;this._groupDataSource&&this._groupDataSource.removeEventListener&&this._groupDataSource.removeEventListener("statuschanged",b,!1),this._groupDataSource=a,this._groupFocusCache=a&&this._supportsGroupHeaderKeyboarding?new D._GroupFocusCache(this):new D._UnsupportedGroupFocusCache,this._groupDataSource&&this._groupDataSource.addEventListener&&this._groupDataSource.addEventListener("statuschanged",b,!1),this._createGroupsContainer(),this._runningInit?(this._updateGroupWork(),this._resetLayout()):(this._view.reset(),this._pendingLayoutReset=!0,this._pendingGroupWork=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},_updateGroupWork:function(){this._pendingGroupWork=!1,this._groupDataSource?r.addClass(this._element,z._groupsClass):r.removeClass(this._element,z._groupsClass),this._resetLayout()},automaticallyLoadPages:{get:function(){return!1},set:function(){r._deprecated(C.automaticallyLoadPagesIsDeprecated)}},loadingBehavior:{get:function(){return"randomAccess"},set:function(){r._deprecated(C.loadingBehaviorIsDeprecated)}},selectionMode:{get:function(){return this._selectionMode},set:function(a){if("string"==typeof a&&a.match(/^(none|single|multi)$/)){if(c.isPhone&&a===w.SelectionMode.single)return;return this._selectionMode=a,this._element.setAttribute("aria-multiselectable",this._multiSelection()),this._updateItemsAriaRoles(),void this._configureSelectionMode()}throw new d("WinJS.UI.ListView.ModeIsInvalid",C.modeIsInvalid)}},tapBehavior:{get:function(){return this._tap},set:function(a){c.isPhone&&a===w.TapBehavior.directSelect||(this._tap=a,this._updateItemsAriaRoles(),this._configureSelectionMode())}},groupHeaderTapBehavior:{get:function(){return this._groupHeaderTap},set:function(a){this._groupHeaderTap=a,this._updateGroupHeadersAriaRoles()}},swipeBehavior:{get:function(){return"none"},set:function(a){r._deprecated(C.swipeBehaviorDeprecated)}},itemDataSource:{get:function(){return this._itemsManager.dataSource},set:function(a){this._writeProfilerMark("set_itemDataSource,info"),this._dataSource=a||(new l.List).dataSource,this._groupFocusCache.clear(),this._runningInit||(this._selection._reset(),this._cancelAsyncViewWork(!0),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},itemTemplate:{get:function(){return this._itemRenderer},set:function(a){this._setRenderer(a,!1),this._runningInit||(this._cancelAsyncViewWork(!0),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},resetItem:{get:function(){return this._itemRelease},set:function(a){r._deprecated(C.resetItemIsDeprecated),this._itemRelease=a}},groupHeaderTemplate:{get:function(){return this._groupHeaderRenderer},set:function(a){this._setRenderer(a,!0),this._runningInit||(this._cancelAsyncViewWork(!0),this._pendingLayoutReset=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},resetGroupHeader:{get:function(){return this._groupHeaderRelease},set:function(a){r._deprecated(C.resetGroupHeaderIsDeprecated),this._groupHeaderRelease=a}},header:{get:function(){return this._header},set:function(a){r.empty(this._headerContainer),this._header=a,a&&(this._header.tabIndex=this._tabIndex,this._headerContainer.appendChild(a));var b=this._selection._getFocused();if(b.type===w.ObjectType.header){var c=b;a||(c={type:w.ObjectType.item,index:0}),this._hasKeyboardFocus?this._changeFocus(c,!0,!1,!0):this._changeFocusPassively(c)}this.recalculateItemPosition(),this._raiseHeaderFooterVisibilityEvent()}},footer:{get:function(){return this._footer},set:function(a){r.empty(this._footerContainer),this._footer=a,a&&(this._footer.tabIndex=this._tabIndex,this._footerContainer.appendChild(a));var b=this._selection._getFocused();if(b.type===w.ObjectType.footer){var c=b;a||(c={type:w.ObjectType.item,index:0}),this._hasKeyboardFocus?this._changeFocus(c,!0,!1,!0):this._changeFocusPassively(c)}this.recalculateItemPosition(),this._raiseHeaderFooterVisibilityEvent()}},loadingState:{get:function(){return this._loadingState}},selection:{get:function(){return this._selection}},indexOfFirstVisible:{get:function(){return this._view.firstIndexDisplayed},set:function(a){if(!(a<0)){this._writeProfilerMark("set_indexOfFirstVisible("+a+"),info"),this._raiseViewLoading(!0);var b=this;this._batchViewUpdates(z._ViewChange.realize,z._ScrollToPriority.high,function(){var c;return b._entityInRange({type:w.ObjectType.item,index:a}).then(function(a){return a.inRange?b._getItemOffset({type:w.ObjectType.item,index:a.index}).then(function(a){return c=a,b._ensureFirstColumnRange(w.ObjectType.item)}).then(function(){return c=b._correctRangeInFirstColumn(c,w.ObjectType.item),c=b._convertFromCanvasCoordinates(c),b._view.waitForValidScrollPosition(c.begin)}).then(function(a){var c=a<b._lastScrollPosition?"left":"right",d=b._viewport[b._scrollLength]-b._getViewportLength();return a=r._clamp(a,0,d),{position:a,direction:c}}):{position:0,direction:"left"}})},!0)}}},indexOfLastVisible:{get:function(){return this._view.lastIndexDisplayed}},currentItem:{get:function(){var a=this._selection._getFocused(),b={index:a.index,type:a.type,key:null,hasFocus:!!this._hasKeyboardFocus,showFocus:!1};if(a.type===w.ObjectType.groupHeader){var c=this._groups.group(a.index);c&&(b.key=c.key,b.showFocus=!(!c.header||!r.hasClass(c.header,z._itemFocusClass)))}else if(a.type===w.ObjectType.item){var d=this._view.items.itemAt(a.index);if(d){var e=this._itemsManager._recordFromElement(d);b.key=e.item&&e.item.key,b.showFocus=!!d.parentNode.querySelector("."+z._itemFocusOutlineClass)}}return b},set:function(a){function b(b,d,e){var f=!!a.showFocus&&c._hasKeyboardFocus;c._unsetFocusOnItem(d),c._selection._setFocused(e,f),c._hasKeyboardFocus?(c._keyboardFocusInbound=f,c._setFocusOnItem(e)):c._tabManager.childFocus=d?b:null,e.type!==w.ObjectType.groupHeader&&(c._updateFocusCache(e.index),c._updater&&(c._updater.newSelectionPivot=e.index,c._updater.oldSelectionPivot=-1),c._selection._pivot=e.index)}this._hasKeyboardFocus=a.hasFocus||this._hasKeyboardFocus,a.type||(a.type=w.ObjectType.item);var c=this;if(a.key&&(a.type===w.ObjectType.item&&this._dataSource.itemFromKey||a.type===w.ObjectType.groupHeader&&this._groupDataSource&&this._groupDataSource.itemFromKey)){this.oldCurrentItemKeyFetch&&this.oldCurrentItemKeyFetch.cancel();var d=a.type===w.ObjectType.groupHeader?this._groupDataSource:this._dataSource;this.oldCurrentItemKeyFetch=d.itemFromKey(a.key).then(function(d){if(c.oldCurrentItemKeyFetch=null,d){var e=a.type===w.ObjectType.groupHeader?c._groups.group(d.index).header:c._view.items.itemAt(d.index);b(e,!!e,{type:a.type,index:d.index})}})}else{var e;if(a.type===w.ObjectType.header||a.type===w.ObjectType.footer)e=a.type===w.ObjectType.header?this._header:this._footer,b(e,!!e,{type:a.type,index:a.index});else if(void 0!==a.index){if(a.type===w.ObjectType.groupHeader){var f=c._groups.group(a.index);e=f&&f.header}else e=c._view.items.itemAt(a.index);b(e,!!e,{type:a.type,index:a.index})}}}},zoomableView:{get:function(){return this._zoomableView||(this._zoomableView=new i(this)),this._zoomableView}},itemsDraggable:{get:function(){return this._dragSource},set:function(a){c.isPhone||this._dragSource!==a&&(this._dragSource=a,this._setDraggable())}},itemsReorderable:{get:function(){return this._reorderable},set:function(a){c.isPhone||this._reorderable!==a&&(this._reorderable=a,this._setDraggable())}},maxDeferredItemCleanup:{get:function(){return this._maxDeferredItemCleanup},set:function(a){this._maxDeferredItemCleanup=Math.max(0,+a||0)}},dispose:function(){this._dispose()},elementFromIndex:function(a){return this._view.items.itemAt(a)},indexOfElement:function(a){return this._view.items.index(a)},ensureVisible:function(a){var b=w.ObjectType.item,c=a;if(+a!==a&&(b=a.type,c=a.index),this._writeProfilerMark("ensureVisible("+b+": "+c+"),info"),!(c<0)){this._raiseViewLoading(!0);var d=this;this._batchViewUpdates(z._ViewChange.realize,z._ScrollToPriority.high,function(){var a;return d._entityInRange({type:b,index:c}).then(function(c){return c.inRange?d._getItemOffset({type:b,index:c.index}).then(function(c){return a=c,d._ensureFirstColumnRange(b)}).then(function(){a=d._correctRangeInFirstColumn(a,b);var e=d._getViewportLength(),f=d._viewportScrollPosition,g=f+e,h=d._viewportScrollPosition,i=a.end-a.begin;a=d._convertFromCanvasCoordinates(a);var j=!1;if(b===w.ObjectType.groupHeader&&f<=a.begin){var k=d._groups.group(c.index).header;if(k){var l,m=H._getMargins(k);if(d._horizontalLayout){var n=d._rtl();l=(n?M(k)-m.right:k.offsetLeft-m.left)+k.offsetWidth+(n?m.left:m.right)}else l=k.offsetTop+k.offsetHeight+m.top;j=l<=g}}j||(i>=g-f?h=a.begin:a.begin<f?h=a.begin:a.end>g&&(h=a.end-e));var o=h<d._lastScrollPosition?"left":"right",p=d._viewport[d._scrollLength]-e;return h=r._clamp(h,0,p),{position:h,direction:o}}):{position:0,direction:"left"}})},!0)}},loadMorePages:function(){r._deprecated(C.loadMorePagesIsDeprecated)},recalculateItemPosition:function(){this._writeProfilerMark("recalculateItemPosition,info"),this._forceLayoutImpl(z._ViewChange.relayout)},forceLayout:function(){this._writeProfilerMark("forceLayout,info"),this._forceLayoutImpl(z._ViewChange.remeasure)},_entityInRange:function(a){if(a.type===w.ObjectType.item)return this._itemsCount().then(function(b){var c=r._clamp(a.index,0,b-1);return{inRange:c>=0&&c<b,index:c}});if(a.type===w.ObjectType.groupHeader){var b=r._clamp(a.index,0,this._groups.length()-1);return m.wrap({inRange:b>=0&&b<this._groups.length(),index:b})}return m.wrap({inRange:!0,index:0})},_forceLayoutImpl:function(a){var b=this;this._versionManager&&this._versionManager.unlocked.then(function(){b._writeProfilerMark("_forceLayoutImpl viewChange("+a+"),info"),b._cancelAsyncViewWork(),b._pendingLayoutReset=!0,b._resizeViewport(),b._batchViewUpdates(a,z._ScrollToPriority.low,function(){return{position:b._lastScrollPosition,direction:"right"}},!0,!0)})},_configureSelectionMode:function(){var b=z._selectionModeClass,c=z._hidingSelectionMode;if(this._isInSelectionMode())r.addClass(this._canvas,b),r.removeClass(this._canvas,c);else{if(r.hasClass(this._canvas,b)){var d=this;a.setTimeout(function(){a.setTimeout(function(){r.removeClass(d._canvas,c)},z._hidingSelectionModeAnimationTimeout)},50),r.addClass(this._canvas,c)}r.removeClass(this._canvas,b)}},_lastScrollPosition:{get:function(){return this._lastScrollPositionValue},set:function(a){if(0===a)this._lastDirection="right",this._direction="right",this._lastScrollPositionValue=0;else{var b=a<this._lastScrollPositionValue?"left":"right";this._direction=this._scrollDirection(a),this._lastDirection=b,this._lastScrollPositionValue=a}}},_hasHeaderOrFooter:{get:function(){return!(!this._header&&!this._footer)}},_getHeaderOrFooterFromElement:function(a){return this._header&&this._header.contains(a)?this._header:this._footer&&this._footer.contains(a)?this._footer:null},_supportsGroupHeaderKeyboarding:{get:function(){return this._groupDataSource}},_viewportScrollPosition:{get:function(){return this._currentScrollPosition=r.getScrollPosition(this._viewport)[this._scrollProperty],this._currentScrollPosition},set:function(a){var b={};b[this._scrollProperty]=a,r.setScrollPosition(this._viewport,b),this._currentScrollPosition=a}},_canvasStart:{get:function(){return this._canvasStartValue||0},set:function(a){var b=this._horizontal()?this._rtl()?-a:a:0,c=this._horizontal()?0:a;this._canvas.style[O.scriptName]=0!==a?"translate( "+b+"px, "+c+"px)":"",this._canvasStartValue=a}},scrollPosition:{get:function(){return this._viewportScrollPosition},set:function(a){var b=this;this._batchViewUpdates(z._ViewChange.realize,z._ScrollToPriority.high,function(){return b._view.waitForValidScrollPosition(a).then(function(){var c=b._viewport[b._scrollLength]-b._getViewportLength();a=r._clamp(a,0,c);var d=a<b._lastScrollPosition?"left":"right";return{position:a,direction:d}})},!0)}},_setRenderer:function(a,b){var e;if(a){if("function"==typeof a)e=a;else if("object"==typeof a){if(c.validation&&!a.renderItem)throw new d("WinJS.UI.ListView.invalidTemplate",C.invalidTemplate);e=a.renderItem}}else{if(c.validation)throw new d("WinJS.UI.ListView.invalidTemplate",C.invalidTemplate);e=t.trivialHtmlRenderer}e&&(b?this._groupHeaderRenderer=e:this._itemRenderer=e)},_renderWithoutReuse:function(a,b){b&&q._disposeElement(b);var c=this._itemRenderer(a);return c.then?c.then(function(a){return a.tabIndex=0,a}):((c.element||c).tabIndex=0,c)},_isInsertedItem:function(a){return!!this._insertedItems[a.handle]},_clearInsertedItems:function(){for(var a=Object.keys(this._insertedItems),b=0,c=a.length;b<c;b++)this._insertedItems[a[b]].release();this._insertedItems={},this._modifiedElements=[],this._countDifference=0},_cancelAsyncViewWork:function(a){this._view.stopWork(a)},_updateView:function(){function a(){c._itemsBlockExtent=-1,c._firstItemRange=null,c._firstHeaderRange=null,c._itemMargins=null,c._headerMargins=null,c._canvasMargins=null,c._cachedRTL=null,c._rtl()}function b(){c._scrollToPriority=z._ScrollToPriority.uninitialized;var a=c._setScrollbarPosition;c._setScrollbarPosition=!1;var b="number"==typeof c._scrollToFunctor?{position:c._scrollToFunctor}:c._scrollToFunctor();return m.as(b).then(function(b){return b=b||{},a&&+b.position===b.position&&(c._lastScrollPosition=b.position,c._viewportScrollPosition=b.position),b},function(b){return c._setScrollbarPosition|=a,m.wrapError(b)})}if(!this._isZombie()){var c=this,d=this._viewChange;this._viewChange=z._ViewChange.realize,d===z._ViewChange.rebuild?(this._pendingGroupWork&&this._updateGroupWork(),this._pendingLayoutReset&&this._resetLayout(),a(),this._firstTimeDisplayed||this._view.reset(),this._view.reload(b,!0),this._setFocusOnItem(this._selection._getFocused()),this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1}):d===z._ViewChange.remeasure?(this._view.resetItems(!0),this._resetLayout(),a(),this._view.refresh(b),this._setFocusOnItem(this._selection._getFocused()),this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1}):d===z._ViewChange.relayout?(this._pendingLayoutReset&&(this._resetLayout(),a()),this._view.refresh(b)):(this._view.onScroll(b),this._raiseHeaderFooterVisibilityEvent())}},_batchViewUpdates:function(a,b,c,d,e){if(this._viewChange=Math.min(this._viewChange,a),(null===this._scrollToFunctor||b>=this._scrollToPriority)&&(this._scrollToPriority=b,this._scrollToFunctor=c),this._setScrollbarPosition|=!!d,!this._batchingViewUpdates){this._raiseViewLoading();var f=this;this._batchingViewUpdatesSignal=new o,this._batchingViewUpdates=m.any([this._batchingViewUpdatesSignal.promise,n.schedulePromiseHigh(null,"WinJS.UI.ListView._updateView")]).then(function(){if(!f._isZombie())return f._viewChange!==z._ViewChange.rebuild||f._firstTimeDisplayed||0===Object.keys(f._view.items._itemData).length||e?void 0:f._fadeOutViewport()}).then(function(){f._batchingViewUpdates=null,f._batchingViewUpdatesSignal=null,f._updateView(),f._firstTimeDisplayed=!1},function(){f._batchingViewUpdates=null,f._batchingViewUpdatesSignal=null})}return this._batchingViewUpdatesSignal},_resetCanvas:function(){if(!this._disposed){var b=a.document.createElement("div");b.className=this._canvas.className,this._viewport.replaceChild(b,this._canvas),this._canvas=b,this._groupsToRemove={},this._canvas.appendChild(this._canvasProxy)}},_setupInternalTree:function(){r.addClass(this._element,z._listViewClass),r[this._rtl()?"addClass":"removeClass"](this._element,z._rtlListViewClass),this._element.innerHTML='<div tabIndex="-1" role="group" class="'+z._viewportClass+" "+z._horizontalClass+'"><div></div><div class="'+z._scrollableClass+'"><div class="'+z._proxyClass+'"></div></div><div></div><div></div></div><div aria-hidden="true" style="position:absolute;left:50%;top:50%;width:0px;height:0px;" tabindex="-1"></div>',this._viewport=this._element.firstElementChild,this._headerContainer=this._viewport.firstElementChild,r.addClass(this._headerContainer,z._listHeaderContainerClass),this._canvas=this._headerContainer.nextElementSibling,this._footerContainer=this._canvas.nextElementSibling,r.addClass(this._footerContainer,z._listFooterContainerClass),this._canvasProxy=this._canvas.firstElementChild,this._deleteWrapper=this._canvas.nextElementSibling,this._keyboardEventsHelper=this._viewport.nextElementSibling,this._tabIndex=r.getTabIndex(this._element),this._tabIndex<0&&(this._tabIndex=0),this._tabManager=new v.TabContainer(this._viewport),this._tabManager.tabIndex=this._tabIndex,this._progressBar=a.document.createElement("progress"),r.addClass(this._progressBar,z._progressClass),r.addClass(this._progressBar,"win-progress-ring"),this._progressBar.style.position="absolute",this._progressBar.max=100},_unsetFocusOnItem:function(b){this._tabManager.childFocus&&this._clearFocusRectangle(this._tabManager.childFocus),this._isZombie()||(b||(this._tabManager.childFocus&&(this._tabManager.childFocus=null),this._keyboardEventsHelper._shouldHaveFocus=!1,a.document.activeElement!==this._viewport&&this._hasKeyboardFocus&&(this._keyboardEventsHelper._shouldHaveFocus=!0,r._setActive(this._keyboardEventsHelper))),this._itemFocused=!1)},_setFocusOnItem:function(a){if(this._writeProfilerMark("_setFocusOnItem,info"),this._focusRequest&&this._focusRequest.cancel(),!this._isZombie()){var b=this,c=function(c){b._isZombie()||(b._tabManager.childFocus!==c&&(b._tabManager.childFocus=c),b._focusRequest=null,b._hasKeyboardFocus&&!b._itemFocused&&(b._selection._keyboardFocused()&&b._drawFocusRectangle(c),a.type!==w.ObjectType.groupHeader&&a.type!==w.ObjectType.item||b._view.updateAriaForAnnouncement(c,a.type===w.ObjectType.groupHeader?b._groups.length():b._cachedCount),b._itemFocused=!0,r._setActive(c)))};a.type===w.ObjectType.item?this._focusRequest=this._view.items.requestItem(a.index):a.type===w.ObjectType.groupHeader?this._focusRequest=this._groups.requestHeader(a.index):this._focusRequest=m.wrap(a.type===w.ObjectType.header?this._header:this._footer),this._focusRequest.then(c)}},_attachEvents:function(){function a(a,b,c){return{name:b?a:a.toLowerCase(),handler:function(b){d["_on"+a](b)},capture:c}}function b(a,b,c){return{capture:c,name:b?a:a.toLowerCase(),handler:function(b){var c=d._mode,e="on"+a;!d._disposed&&c[e]&&c[e](b)}}}function c(a,b){return{handler:function(b){d["_on"+a](b)},filter:b}}var d=this,e=[c("PropertyChange",["dir","style","tabindex"])];this._cachedStyleDir=this._element.style.direction,e.forEach(function(a){new r._MutationObserver(a.handler).observe(d._element,{attributes:!0,attributeFilter:a.filter})}),[b("PointerDown"),b("click",!1),b("PointerUp"),b("LostPointerCapture"),b("MSHoldVisual",!0),b("PointerCancel"),b("DragStart"),b("DragOver"),b("DragEnter"),b("DragLeave"),b("Drop"),b("ContextMenu")].forEach(function(a){r._addEventListener(d._viewport,a.name,a.handler,!!a.capture)}),[a("FocusIn",!1,!1),a("FocusOut",!1,!1),b("KeyDown"),b("KeyUp")].forEach(function(a){r._addEventListener(d._element,a.name,a.handler,!!a.capture)}),this._onElementResizeBound=this._onElementResize.bind(this),r._resizeNotifier.subscribe(this._element,this._onElementResizeBound),this._elementResizeInstrument=new y._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._onElementResizeBound),r._inDom(this.element).then(function(){d._disposed||d._elementResizeInstrument.addedToDom()}),[a("MSManipulationStateChanged",!0),a("Scroll")].forEach(function(a){d._viewport.addEventListener(a.name,a.handler,!1)}),this._viewport.addEventListener("onTabEnter",this._onTabEnter.bind(this)),this._viewport.addEventListener("onTabExit",this._onTabExit.bind(this)),this._viewport.addEventListener("onTabEntered",function(a){d._mode.onTabEntered(a)}),this._viewport.addEventListener("onTabExiting",function(a){d._mode.onTabExiting(a)})},_updateItemsManager:function(){function a(a){a.detail===w.DataSourceStatus.failure&&(b.itemDataSource=null,b.groupDataSource=null)}var b=this,c={beginNotifications:function(){},changed:function(a,c){if(!b._ifZombieDispose()){b._createUpdater();var d=b._updater.elements[R(c)];if(d){var e=b.selection._isIncluded(d.index);if(e&&(b._updater.updateDrag=!0),c!==a){if(b._tabManager.childFocus!==c&&b._updater.newFocusedItem!==c||(b._updater.newFocusedItem=a,b._tabManager.childFocus=null),d.itemBox){r.addClass(a,z._itemClass),b._setupAriaSelectionObserver(a);var f=c.nextElementSibling;d.itemBox.removeChild(c),d.itemBox.insertBefore(a,f)}b._setAriaSelected(a,e),b._view.items.setItemAt(d.newIndex,{element:a,itemBox:d.itemBox,container:d.container,itemsManagerRecord:d.itemsManagerRecord}),delete b._updater.elements[R(c)],q._disposeElement(c),b._updater.elements[R(a)]={item:a,container:d.container,itemBox:d.itemBox,index:d.index,newIndex:d.newIndex,itemsManagerRecord:d.itemsManagerRecord}}else d.itemBox&&d.container&&(A._ItemEventsHandler.renderSelection(d.itemBox,a,e,!0),r[e?"addClass":"removeClass"](d.container,z._selectedClass));b._updater.changed=!0}for(var g=0,h=b._notificationHandlers.length;g<h;g++)b._notificationHandlers[g].changed(a,c);b._writeProfilerMark("changed,info")}},removed:function(a,c,d){function e(a){b._updater.updateDrag=!0,b._currentMode()._dragging&&b._currentMode()._draggingUnselectedItem&&b._currentMode()._dragInfo._isIncluded(a)&&(b._updater.newDragInfo=new I._Selection(b,[]));var c=b._updater.selectionFirst[a],d=b._updater.selectionLast[a],e=c||d;e&&(delete b._updater.selectionFirst[e.oldFirstIndex],delete b._updater.selectionLast[e.oldLastIndex],b._updater.selectionChanged=!0)}if(!b._ifZombieDispose()){b._createUpdater();b._insertedItems[d]&&delete b._insertedItems[d];var f;if(a){var g=b._updater.elements[R(a)],h=b._itemsManager.itemObject(a);if(h&&b._groupFocusCache.deleteItem(h.key),g){if(f=g.index,g.itemBox){var i=g.itemBox,j=z._containerOddClass,k=z._containerEvenClass,l=r.hasClass(i.parentElement,k)?k:j;b._updater.removed.push({index:f,itemBox:i,containerStripe:l})}b._updater.deletesCount++;b._view.items.itemDataAt(f).removed=!0,delete b._updater.elements[R(a)]}else f=h&&h.index;b._updater.oldFocus.type!==w.ObjectType.groupHeader&&b._updater.oldFocus.index===f&&(b._updater.newFocus.index=f,b._updater.focusedItemRemoved=!0),e(f)}else(f=b._updater.selectionHandles[d])===+f&&e(f);b._writeProfilerMark("removed("+f+"),info"),b._updater.changed=!0}},updateAffectedRange:function(a){b._itemsCount().then(function(c){var d=b._view.containers?b._view.containers.length:0;a.start=Math.min(a.start,d),b._affectedRange.add(a,c)}),b._createUpdater(),b._updater.changed=!0},indexChanged:function(a,c,d){if(!b._ifZombieDispose()){if(b._createUpdater(),a){var e=b._itemsManager.itemObject(a);e&&b._groupFocusCache.updateItemIndex(e.key,c);var f=b._updater.elements[R(a)];f&&(f.newIndex=c,b._updater.changed=!0),b._updater.itemsMoved=!0}b._currentMode()._dragging&&b._currentMode()._draggingUnselectedItem&&b._currentMode()._dragInfo._isIncluded(d)&&(b._updater.newDragInfo=new I._Selection(b,[{firstIndex:c,lastIndex:c}]),b._updater.updateDrag=!0),b._updater.oldFocus.type!==w.ObjectType.groupHeader&&b._updater.oldFocus.index===d&&(b._updater.newFocus.index=c,b._updater.changed=!0),b._updater.oldSelectionPivot===d&&(b._updater.newSelectionPivot=c,b._updater.changed=!0);var g=b._updater.selectionFirst[d];g&&(g.newFirstIndex=c,b._updater.changed=!0,b._updater.selectionChanged=!0,b._updater.updateDrag=!0),g=b._updater.selectionLast[d],g&&(g.newLastIndex=c,b._updater.changed=!0,b._updater.selectionChanged=!0,b._updater.updateDrag=!0)}},endNotifications:function(){b._update()},inserted:function(a){b._ifZombieDispose()||(b._writeProfilerMark("inserted,info"),b._createUpdater(),b._updater.changed=!0,a.retain(),b._updater.insertsCount++,b._insertedItems[a.handle]=a)},moved:function(a,c,d,e){if(!b._ifZombieDispose()){if(b._createUpdater(),b._updater.movesCount++,a){b._updater.itemsMoved=!0;var f=b._updater.elements[R(a)];f&&(f.moved=!0)}var g=b._updater.selectionHandles[e.handle];if(g===+g){b._updater.updateDrag=!0,b._updater.selectionChanged=!0,b._updater.changed=!0;var h=b._updater.selectionFirst[g],i=b._updater.selectionLast[g],j=h||i;j&&j.oldFirstIndex!==j.oldLastIndex&&(delete b._updater.selectionFirst[j.oldFirstIndex],delete b._updater.selectionLast[j.oldLastIndex])}b._writeProfilerMark("moved("+g+"),info")}},countChanged:function(a,c){b._ifZombieDispose()||(b._writeProfilerMark("countChanged("+a+"),info"),b._cachedCount=a,b._createUpdater(),b._view.lastIndexDisplayed+1===c&&(b._updater.changed=!0),b._updater.countDifference+=a-c)},reload:function(){b._ifZombieDispose()||(b._writeProfilerMark("reload,info"),b._processReload())}};this._versionManager&&this._versionManager._dispose(),this._versionManager=new x._VersionManager,this._updater=null;var d=this._selection.getRanges();this._selection._selected.clear(),this._itemsManager&&(this._itemsManager.dataSource&&this._itemsManager.dataSource.removeEventListener&&this._itemsManager.dataSource.removeEventListener("statuschanged",a,!1),this._clearInsertedItems(),this._itemsManager.release()),this._itemsCountPromise&&(this._itemsCountPromise.cancel(),this._itemsCountPromise=null),this._cachedCount=z._UNINITIALIZED,this._itemsManager=t._createItemsManager(this._dataSource,this._renderWithoutReuse.bind(this),c,{ownerElement:this._element,versionManager:this._versionManager,indexInView:function(a){return a>=b.indexOfFirstVisible&&a<=b.indexOfLastVisible},viewCallsReady:!0,profilerId:this._id}),this._dataSource.addEventListener&&this._dataSource.addEventListener("statuschanged",a,!1),this._selection._selected.set(d)},_processReload:function(){this._affectedRange.addAll(),this._cancelAsyncViewWork(!0),this._currentMode()._dragging&&this._currentMode()._clearDragProperties(),this._groupFocusCache.clear(),this._selection._reset(),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.low,this.scrollPosition)},_createUpdater:function(){if(!this._updater){this.itemDataSource._isVirtualizedDataSource&&this._affectedRange.addAll(),this._versionManager.beginUpdating(),this._cancelAsyncViewWork();var a={changed:!1,elements:{},selectionFirst:{},selectionLast:{},selectionHandles:{},oldSelectionPivot:{type:w.ObjectType.item,index:z._INVALID_INDEX},newSelectionPivot:{type:w.ObjectType.item,index:z._INVALID_INDEX},removed:[],selectionChanged:!1,oldFocus:{type:w.ObjectType.item,index:z._INVALID_INDEX},newFocus:{type:w.ObjectType.item,index:z._INVALID_INDEX},hadKeyboardFocus:this._hasKeyboardFocus,itemsMoved:!1,lastVisible:this.indexOfLastVisible,updateDrag:!1,movesCount:0,insertsCount:0,deletesCount:0,countDifference:0};this._view.items.each(function(b,c,d){a.elements[R(c)]={item:c,container:d.container,itemBox:d.itemBox,index:b,newIndex:b,itemsManagerRecord:d.itemsManagerRecord,detached:d.detached}});for(var b=this._selection._selected._ranges,c=0,d=b.length;c<d;c++){var e=b[c],f={newFirstIndex:b[c].firstIndex,oldFirstIndex:b[c].firstIndex,newLastIndex:b[c].lastIndex,oldLastIndex:b[c].lastIndex};a.selectionFirst[f.oldFirstIndex]=f,a.selectionLast[f.oldLastIndex]=f,a.selectionHandles[e.firstPromise.handle]=f.oldFirstIndex,a.selectionHandles[e.lastPromise.handle]=f.oldLastIndex}a.oldSelectionPivot=this._selection._pivot,a.newSelectionPivot=a.oldSelectionPivot,a.oldFocus=this._selection._getFocused(),a.newFocus=this._selection._getFocused(),this._updater=a}},_synchronize:function(){var a=this._updater;if(this._updater=null,this._groupsChanged=!1,this._countDifference=this._countDifference||0,a&&a.changed){a.itemsMoved&&this._layout.itemsMoved&&this._layout.itemsMoved(),a.removed.length&&this._layout.itemsRemoved&&this._layout.itemsRemoved(a.removed.map(function(a){return a.itemBox})),(a.itemsMoved||a.removed.length||Object.keys(this._insertedItems).length)&&this._layout.setupAnimations&&this._layout.setupAnimations(),this._currentMode().onDataChanged&&this._currentMode().onDataChanged();var b=[];for(var c in a.selectionFirst)if(a.selectionFirst.hasOwnProperty(c)){var d=a.selectionFirst[c];a.selectionChanged=a.selectionChanged||d.newLastIndex-d.newFirstIndex!=d.oldLastIndex-d.oldFirstIndex,d.newFirstIndex<=d.newLastIndex&&b.push({firstIndex:d.newFirstIndex,lastIndex:d.newLastIndex})}if(a.selectionChanged){var e=new I._Selection(this,b);this._selection._fireSelectionChanging(e),this._selection._selected.set(b),this._selection._fireSelectionChanged(),e.clear()}else this._selection._selected.set(b);this._selection._updateCount(this._cachedCount),a.newSelectionPivot=Math.min(this._cachedCount-1,a.newSelectionPivot),this._selection._pivot=a.newSelectionPivot>=0?a.newSelectionPivot:z._INVALID_INDEX,a.newFocus.type!==w.ObjectType.groupHeader&&(a.newFocus.index=Math.max(0,Math.min(this._cachedCount-1,a.newFocus.index))),this._selection._setFocused(a.newFocus,this._selection._keyboardFocused());var f=this._modifiedElements||[],g={};for(this._modifiedElements=[],this._countDifference+=a.countDifference,c=0;c<f.length;c++){var h=f[c];-1===h.newIndex?this._modifiedElements.push(h):g[h.newIndex]=h}for(c=0;c<a.removed.length;c++){var i=a.removed[c],h=g[i.index];h?delete g[i.index]:h={oldIndex:i.index},h.newIndex=-1,h._removalHandled||(h._itemBox=i.itemBox,h._containerStripe=i.containerStripe),this._modifiedElements.push(h)}var j=Object.keys(this._insertedItems);for(c=0;c<j.length;c++)this._modifiedElements.push({oldIndex:-1,newIndex:this._insertedItems[j[c]].index});this._writeProfilerMark("_synchronize:update_modifiedElements,StartTM");var k={};for(c in a.elements)if(a.elements.hasOwnProperty(c)){var l=a.elements[c];k[l.newIndex]={element:l.item,container:l.container,itemBox:l.itemBox,itemsManagerRecord:l.itemsManagerRecord,detached:l.detached};var h=g[l.index];h?(delete g[l.index],h.newIndex=l.newIndex):h={oldIndex:l.index,newIndex:l.newIndex},h.moved=l.moved,this._modifiedElements.push(h)}this._writeProfilerMark("_synchronize:update_modifiedElements,StopTM");var m=Object.keys(g);for(c=0;c<m.length;c++){var n=m[c],h=g[n];-1!==h.oldIndex&&this._modifiedElements.push(h)}this._view.items._itemData=k,a.updateDrag&&this._currentMode()._dragging&&(this._currentMode()._draggingUnselectedItem?a.newDragInfo&&(this._currentMode()._dragInfo=a.newDragInfo):this._currentMode()._dragInfo=this._selection,this._currentMode().fireDragUpdateEvent()),a.focusedItemRemoved||this._focusRequest&&a.oldFocus.index!==a.newFocus.index||a.oldFocus.type!==a.newFocus.type?(this._itemFocused=!1,this._setFocusOnItem(this._selection._getFocused())):a.newFocusedItem&&(this._hasKeyboardFocus=a.hadKeyboardFocus,this._itemFocused=!1,this._setFocusOnItem(this._selection._getFocused()));var o=this;return this._groups.synchronizeGroups().then(function(){return a.newFocus.type===w.ObjectType.groupHeader&&(a.newFocus.index=Math.min(o._groups.length()-1,a.newFocus.index),a.newFocus.index<0&&(a.newFocus={type:w.ObjectType.item,index:0}),o._selection._setFocused(a.newFocus,o._selection._keyboardFocused())),o._versionManager.endUpdating(),a.deletesCount>0&&o._updateDeleteWrapperSize(),o._view.updateTree(o._cachedCount,o._countDifference,o._modifiedElements)}).then(function(){return o._lastScrollPosition})}this._countDifference+=a?a.countDifference:0;var o=this;return this._groups.synchronizeGroups().then(function(){return a&&o._versionManager.endUpdating(),o._view.updateTree(o._cachedCount,o._countDifference,o._modifiedElements)}).then(function(){return o.scrollPosition})},_updateDeleteWrapperSize:function(a){var b=this._horizontal()?"width":"height";this._deleteWrapper.style["min-"+b]=(a?0:this.scrollPosition+this._getViewportSize()[b])+"px"},_verifyRealizationNeededForChange:function(){var a=!1,b=(this._view.lastIndexDisplayed||0)-(this._view.firstIndexDisplayed||0),c=this._updater&&0===this._updater.movesCount&&0===this._updater.insertsCount&&this._updater.deletesCount>0&&this._updater.deletesCount===Math.abs(this._updater.countDifference);if(c&&this._updater.elements)for(var d=Object.keys(this._updater.elements),e=0,f=d.length;e<f;e++){var g=this._updater.elements[d[e]],h=g.index-g.newIndex;if(h<0||h>this._updater.deletesCount){c=!1;break}}this._view.deletesWithoutRealize=this._view.deletesWithoutRealize||0,c&&this._view.lastIndexDisplayed<this._view.end-b&&this._updater.deletesCount+this._view.deletesWithoutRealize<b?(a=!0,this._view.deletesWithoutRealize+=Math.abs(this._updater.countDifference),this._writeProfilerMark("skipping realization on delete,info")):this._view.deletesWithoutRealize=0,this._view._setSkipRealizationForChange(a)},_update:function(){if(this._writeProfilerMark("update,StartTM"),!this._ifZombieDispose()){this._updateJob=null;var a=this;this._versionManager.noOutstandingNotifications&&(this._updater||this._groupsChanged?(this._cancelAsyncViewWork(),this._verifyRealizationNeededForChange(),this._synchronize().then(function(b){a._writeProfilerMark("update,StopTM"),a._batchViewUpdates(z._ViewChange.relayout,z._ScrollToPriority.low,b).complete()})):this._batchViewUpdates(z._ViewChange.relayout,z._ScrollToPriority.low,this._lastScrollPosition).complete())}},_scheduleUpdate:function(){if(!this._updateJob){var a=this;this._updateJob=n.schedulePromiseHigh(null,"WinJS.UI.ListView._update").then(function(){a._updateJob&&a._update()}),this._raiseViewLoading()}},_createGroupsContainer:function(){this._groups&&this._groups.cleanUp(),this._groupDataSource?this._groups=new E._UnvirtualizedGroupsContainer(this,this._groupDataSource):this._groups=new E._NoGroups(this)},_createLayoutSite:function(){var b=this;return Object.create({invalidateLayout:function(){b._pendingLayoutReset=!0;var a="horizontal"===b._layout.orientation!==b._horizontalLayout;b._affectedRange.addAll(),b._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.low,a?0:b.scrollPosition,!1,!0)},itemFromIndex:function(a){return b._itemsManager._itemPromiseAtIndex(a)},groupFromIndex:function(a){return b._groupsEnabled()?a<b._groups.length()?b._groups.group(a).userData:null:{key:"-1"}},groupIndexFromItemIndex:function(a){return a=Math.max(0,a),b._groups.groupFromItem(a)},renderItem:function(c){return m._cancelBlocker(b._itemsManager._itemFromItemPromise(c)).then(function(c){if(c){var d=b._itemsManager._recordFromElement(c);d.pendingReady&&d.pendingReady(),c=c.cloneNode(!0),r.addClass(c,z._itemClass);var e=a.document.createElement("div");r.addClass(e,z._itemBoxClass),e.appendChild(c);var f=a.document.createElement("div");return r.addClass(f,z._containerClass),f.appendChild(e),f}return m.cancel})},renderHeader:function(c){return t._normalizeRendererReturn(b.groupHeaderTemplate(m.wrap(c))).then(function(b){r.addClass(b.element,z._headerClass);var c=a.document.createElement("div");return r.addClass(c,z._headerContainerClass),c.appendChild(b.element),c})},readyToMeasure:function(){b._getViewportLength(),b._getCanvasMargins()},_isZombie:function(){return b._isZombie()},_writeProfilerMark:function(a){b._writeProfilerMark(a)}},{_itemsManager:{enumerable:!0,get:function(){return b._itemsManager}},rtl:{enumerable:!0,get:function(){return b._rtl()}},surface:{enumerable:!0,get:function(){return b._canvas}},viewport:{enumerable:!0,get:function(){return b._viewport}},scrollbarPos:{enumerable:!0,get:function(){return b.scrollPosition}},viewportSize:{enumerable:!0,get:function(){return b._getViewportSize()}},loadingBehavior:{enumerable:!0,get:function(){return b.loadingBehavior}},animationsDisabled:{enumerable:!0,get:function(){return b._animationsDisabled()}},tree:{enumerable:!0,get:function(){return b._view.tree}},realizedRange:{enumerable:!0,get:function(){return{firstPixel:Math.max(0,b.scrollPosition-2*b._getViewportLength()),lastPixel:b.scrollPosition+3*b._getViewportLength()-1}}},visibleRange:{enumerable:!0,get:function(){return{firstPixel:b.scrollPosition,lastPixel:b.scrollPosition+b._getViewportLength()-1}}},itemCount:{enumerable:!0,get:function(){return b._itemsCount()}},groupCount:{enumerable:!0,get:function(){return b._groups.length()}},header:{enumerable:!0,get:function(){return b.header}},footer:{enumerable:!0,get:function(){return b.footer}}})},_initializeLayout:function(){this._affectedRange.addAll();var a=this._createLayoutSite();return this._layout.initialize(a,this._groupsEnabled()),"horizontal"===this._layout.orientation},_resetLayoutOrientation:function(a){this._horizontalLayout?(this._startProperty="left",this._scrollProperty="scrollLeft",this._scrollLength="scrollWidth",this._deleteWrapper.style.minHeight="",r.addClass(this._viewport,z._horizontalClass),r.removeClass(this._viewport,z._verticalClass),a&&(this._viewport.scrollTop=0)):(this._startProperty="top",this._scrollProperty="scrollTop",this._scrollLength="scrollHeight",this._deleteWrapper.style.minWidth="",r.addClass(this._viewport,z._verticalClass),r.removeClass(this._viewport,z._horizontalClass),a&&r.setScrollPosition(this._viewport,{scrollLeft:0}))},_resetLayout:function(){this._pendingLayoutReset=!1,this._affectedRange.addAll(),this._layout&&(this._layout.uninitialize(),this._horizontalLayout=this._initializeLayout(),this._resetLayoutOrientation())},_updateLayout:function(a){var b=!1;this._layout&&(this._cancelAsyncViewWork(!0),this._layout.uninitialize(),b=!0);var c;if(a&&"function"==typeof a.type){c=new(T(a.type))(a)}else c=a&&a.initialize?a:new H.GridLayout(a);b&&this._resetCanvas(),this._layoutImpl=c,this._layout=new H._LayoutWrapper(c),b&&this._unsetFocusOnItem(),this._setFocusOnItem({type:w.ObjectType.item,index:0}),this._selection._setFocused({type:w.ObjectType.item,index:0}),this._lastFocusedElementInGroupTrack={type:w.ObjectType.item,index:-1},this._headerContainer.style.opacity=0,this._footerContainer.style.opacity=0,this._horizontalLayout=this._initializeLayout(),this._resetLayoutOrientation(b),b&&(this._canvas.style.width=this._canvas.style.height="")},_currentMode:function(){return this._mode},_setDraggable:function(){var a=this.itemsDraggable||this.itemsReorderable;this._view.items.each(function(b,c,d){d.itemBox&&(d.itemBox.draggable=a&&!r.hasClass(c,z._nonDraggableClass))})},_resizeViewport:function(){this._viewportWidth=z._UNINITIALIZED,this._viewportHeight=z._UNINITIALIZED},_onElementResize:function(){this._writeProfilerMark("_onElementResize,info"),n.schedule(function(){if(!this._isZombie()&&this._viewportWidth!==z._UNINITIALIZED&&this._viewportHeight!==z._UNINITIALIZED){var a=this._element.offsetWidth,b=this._element.offsetHeight;if(this._previousWidth!==a||this._previousHeight!==b){this._writeProfilerMark("resize ("+this._previousWidth+"x"+this._previousHeight+") => ("+a+"x"+b+"),info"),this._previousWidth=a,this._previousHeight=b,this._resizeViewport();var c=this;this._affectedRange.addAll(),this._batchViewUpdates(z._ViewChange.relayout,z._ScrollToPriority.low,function(){return{position:c.scrollPosition,direction:"right"}})}}},n.Priority.max,this,"WinJS.UI.ListView._onElementResize")},_onFocusIn:function(a){function b(a){c._changeFocus(c._selection._getFocused(),!0,!1,!1,a)}this._hasKeyboardFocus=!0;var c=this;if(a.target===this._keyboardEventsHelper)!this._keyboardEventsHelper._shouldHaveFocus&&this._keyboardFocusInbound?b(!0):this._keyboardEventsHelper._shouldHaveFocus=!1;else if(a.target===this._element)b();else{if(this._mode.inboundFocusHandled)return void(this._mode.inboundFocusHandled=!1);var d=this._view.items,e={},f=this._getHeaderOrFooterFromElement(a.target),g=null;if(f?(e.index=0,e.type=f===this._header?w.ObjectType.header:w.ObjectType.footer,this._lastFocusedElementInGroupTrack=e):(f=this._groups.headerFrom(a.target),f?(e.type=w.ObjectType.groupHeader,e.index=this._groups.index(f),this._lastFocusedElementInGroupTrack=e):(e.index=d.index(a.target),e.type=w.ObjectType.item,f=d.itemBoxAt(e.index),g=d.itemAt(e.index))),e.index!==z._INVALID_INDEX&&((this._keyboardFocusInbound||this._selection._keyboardFocused())&&(e.type===w.ObjectType.groupHeader&&a.target===f||e.type===w.ObjectType.item&&a.target.parentNode===f)&&this._drawFocusRectangle(f),this._tabManager.childFocus!==f&&this._tabManager.childFocus!==g&&(this._selection._setFocused(e,this._keyboardFocusInbound||this._selection._keyboardFocused()),this._keyboardFocusInbound=!1,e.type===w.ObjectType.item&&(f=d.itemAt(e.index)),this._tabManager.childFocus=f,c._updater))){var h=c._updater.elements[R(f)],i=e.index;h&&h.newIndex&&(i=h.newIndex),c._updater.oldFocus={type:e.type,index:i},c._updater.newFocus={type:e.type,index:i}}}},_onFocusOut:function(a){if(!this._disposed){this._hasKeyboardFocus=!1,this._itemFocused=!1;var b=this._view.items.itemBoxFrom(a.target)||this._groups.headerFrom(a.target);b&&this._clearFocusRectangle(b)}},_onMSManipulationStateChanged:function(a){function b(){c._manipulationEndSignal=null}var c=this;this._manipulationState=a.currentState,c._writeProfilerMark("_onMSManipulationStateChanged state("+a.currentState+"),info"),this._manipulationState===r._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED||this._manipulationEndSignal||(this._manipulationEndSignal=new o,this._manipulationEndSignal.promise.done(b,b)),this._manipulationState===r._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED&&this._manipulationEndSignal.complete()},_pendingScroll:!1,_onScroll:function(){this._zooming||this._pendingScroll||this._checkScroller()},_checkScroller:function(){if(!this._isZombie()){var a=this._viewportScrollPosition;if(a!==this._lastScrollPosition){this._pendingScroll=c._requestAnimationFrame(this._checkScroller.bind(this)),a=Math.max(0,a);var b=this._scrollDirection(a);this._lastScrollPosition=a,this._raiseViewLoading(!0),this._raiseHeaderFooterVisibilityEvent();var d=this;this._view.onScroll(function(){return{position:d._lastScrollPosition,direction:b}},this._manipulationEndSignal?this._manipulationEndSignal.promise:m.timeout(z._DEFERRED_SCROLL_END))}else this._pendingScroll=null}},_scrollDirection:function(a){var b=a<this._lastScrollPosition?"left":"right";return b===this._lastDirection?b:this._direction},_onTabEnter:function(){this._keyboardFocusInbound=!0},_onTabExit:function(){this._keyboardFocusInbound=!1},_onPropertyChange:function(a){var b=this;a.forEach(function(a){var c=!1;if("dir"===a.attributeName?c=!0:"style"===a.attributeName&&(c=b._cachedStyleDir!==a.target.style.direction),c&&(b._cachedStyleDir=a.target.style.direction,b._cachedRTL=null,r[b._rtl()?"addClass":"removeClass"](b._element,z._rtlListViewClass),b._lastScrollPosition=0,b._viewportScrollPosition=0,b.forceLayout()),"tabIndex"===a.attributeName){var d=b._element.tabIndex;d>=0&&(b._view.items.each(function(a,b){b.tabIndex=d}),b._header&&(b._header.tabIndex=d),b._footer&&(b._footer.tabIndex=d),b._tabIndex=d,b._tabManager.tabIndex=d,b._element.tabIndex=-1)}})},_getCanvasMargins:function(){return this._canvasMargins||(this._canvasMargins=H._getMargins(this._canvas)),this._canvasMargins},_convertCoordinatesByCanvasMargins:function(a,b){function c(c,d){void 0!==a[c]&&(a[c]=b(a[c],d))}var d;return this._horizontal()?(d=this._getCanvasMargins()[this._rtl()?"right":"left"],c("left",d)):(d=this._getCanvasMargins().top,c("top",d)),c("begin",d),c("end",d),a},_convertFromCanvasCoordinates:function(a){return this._convertCoordinatesByCanvasMargins(a,function(a,b){return a+b})},_convertToCanvasCoordinates:function(a){return this._convertCoordinatesByCanvasMargins(a,function(a,b){return a-b})},_getViewportSize:function(){return this._viewportWidth!==z._UNINITIALIZED&&this._viewportHeight!==z._UNINITIALIZED||(this._viewportWidth=Math.max(0,r.getContentWidth(this._element)),this._viewportHeight=Math.max(0,r.getContentHeight(this._element)),this._writeProfilerMark("viewportSizeDetected width:"+this._viewportWidth+" height:"+this._viewportHeight),this._previousWidth=this._element.offsetWidth,this._previousHeight=this._element.offsetHeight),{width:this._viewportWidth,height:this._viewportHeight}},_itemsCount:function(){function a(){b._itemsCountPromise=null}var b=this;if(this._cachedCount!==z._UNINITIALIZED)return m.wrap(this._cachedCount);var c;return this._itemsCountPromise?c=this._itemsCountPromise:(c=this._itemsCountPromise=this._itemsManager.dataSource.getCount().then(function(a){return a===w.CountResult.unknown&&(a=0),b._cachedCount=a,b._selection._updateCount(b._cachedCount),a},function(){return m.cancel}),this._itemsCountPromise.then(a,a)),c},_isSelected:function(a){return this._selection._isIncluded(a)},_LoadingState:{itemsLoading:"itemsLoading",viewPortLoaded:"viewPortLoaded",itemsLoaded:"itemsLoaded",complete:"complete"},_raiseViewLoading:function(a){this._loadingState!==this._LoadingState.itemsLoading&&(this._scrolling=!!a),this._setViewState(this._LoadingState.itemsLoading)},_raiseViewComplete:function(){this._disposed||this._view.animating||this._setViewState(this._LoadingState.complete)},_raiseHeaderFooterVisibilityEvent:function(){var b=this,c=function(a){if(!a)return!1;var c=b._lastScrollPosition,d=a[b._horizontal()?"offsetLeft":"offsetTop"];return d+a[b._horizontal()?"offsetWidth":"offsetHeight"]>c&&d<c+b._getViewportLength()},d=function(c,d){var e=a.document.createEvent("CustomEvent");e.initCustomEvent(c,!0,!0,{visible:d}),b._element.dispatchEvent(e)},e=!!this._header&&c(this._headerContainer),f=!!this._footer&&c(this._footerContainer);this._headerFooterVisibilityStatus.headerVisible!==e&&(this._headerFooterVisibilityStatus.headerVisible=e,d("headervisibilitychanged",e)),this._headerFooterVisibilityStatus.footerVisible!==f&&(this._headerFooterVisibilityStatus.footerVisible=f,d("footervisibilitychanged",f))},_setViewState:function(b){if(b!==this._loadingState){var c={scrolling:!1};switch(b){case this._LoadingState.viewPortLoaded:this._scheduledForDispose||(L(this),this._scheduledForDispose=!0),this._setViewState(this._LoadingState.itemsLoading);break;case this._LoadingState.itemsLoaded:c={scrolling:this._scrolling},this._setViewState(this._LoadingState.viewPortLoaded);break;case this._LoadingState.complete:this._setViewState(this._LoadingState.itemsLoaded),this._updateDeleteWrapperSize(!0)}this._writeProfilerMark("loadingStateChanged:"+b+",info"),this._loadingState=b;var d=a.document.createEvent("CustomEvent");d.initCustomEvent("loadingstatechanged",!0,!1,c),this._element.dispatchEvent(d)}},_createTemplates:function(){function b(b,c){var d=a.document.createElement("div");return d.className=b,c||d.setAttribute("aria-hidden",!0),d}this._itemBoxTemplate=b(z._itemBoxClass,!0)},_updateSelection:function(){var a=this._selection.getIndices(),b=this._selection.isEverything(),c={};if(!b)for(var d=0,e=a.length;d<e;d++){var f=a[d];c[f]=!0}this._view.items.each(function(a,d,e){if(e.itemBox){var f=b||!!c[a];A._ItemEventsHandler.renderSelection(e.itemBox,d,f,!0),e.container&&r[f?"addClass":"removeClass"](e.container,z._selectedClass)}})},_getViewportLength:function(){return this._getViewportSize()[this._horizontal()?"width":"height"]},_horizontal:function(){return this._horizontalLayout},_rtl:function(){return"boolean"!=typeof this._cachedRTL&&(this._cachedRTL="rtl"===r._getComputedStyle(this._element,null).direction),this._cachedRTL},_showProgressBar:function(a,b,c){var d=this._progressBar,e=d.style;if(!d.parentNode){this._fadingProgressBar=!1,this._progressIndicatorDelayTimer&&this._progressIndicatorDelayTimer.cancel();var f=this;this._progressIndicatorDelayTimer=m.timeout(z._LISTVIEW_PROGRESS_DELAY).then(function(){f._isZombie()||(a.appendChild(d),j.fadeIn(d),f._progressIndicatorDelayTimer=null)})}e[this._rtl()?"right":"left"]=b,e.top=c},_hideProgressBar:function(){this._progressIndicatorDelayTimer&&(this._progressIndicatorDelayTimer.cancel(),this._progressIndicatorDelayTimer=null);var a=this._progressBar;if(a.parentNode&&!this._fadingProgressBar){this._fadingProgressBar=!0;var b=this;j.fadeOut(a).then(function(){a.parentNode&&a.parentNode.removeChild(a),b._fadingProgressBar=!1})}},_getPanAxis:function(){return this._horizontal()?"horizontal":"vertical"},_configureForZoom:function(a,b,e){if(c.validation&&(!this._view.realizePage||"number"!=typeof this._view.begin))throw new d("WinJS.UI.ListView.NotCompatibleWithSemanticZoom",S.notCompatibleWithSemanticZoom);this._isZoomedOut=a,this._disableEntranceAnimation=!b,this._isCurrentZoomView=b,this._triggerZoom=e},_setCurrentItem:function(a,b){this._rtl()&&(a=this._viewportWidth-a),this._horizontal()?a+=this.scrollPosition:b+=this.scrollPosition;var c=this._view.hitTest(a,b),d={type:c.type?c.type:w.ObjectType.item,index:c.index};d.index>=0&&(this._hasKeyboardFocus?this._changeFocus(d,!0,!1,!0):this._changeFocusPassively(d))},_getCurrentItem:function(){var a=this._selection._getFocused();a.type===w.ObjectType.groupHeader?a={type:w.ObjectType.item,index:this._groups.group(a.index).startIndex}:a.type!==w.ObjectType.item&&(a={type:w.ObjectType.item,index:a.type===w.ObjectType.header?0:this._cachedCount}),"number"!=typeof a.index&&(this._setCurrentItem(.5*this._viewportWidth,.5*this._viewportHeight),a=this._selection._getFocused());var b=this,c=this._getItemOffsetPosition(a.index).then(function(a){var c=b._canvasStart;return a[b._startProperty]+=c,a});return m.join({item:this._dataSource.itemFromIndex(a.index),position:c})},_animateItemsForPhoneZoom:function(){function a(a,b,c){return function(d){return(b[d]-a)*c}}function b(){for(var a=0,b=c.length;a<b;a++)c[a].style[O.scriptName]=""}for(var c=[],d=[],e=[],f=Number.MAX_VALUE,g=this,h=this._view.firstIndexDisplayed,i=Math.min(this._cachedCount,this._view.lastIndexDisplayed+1);h<i;h++)e.push(this._view.waitForEntityPosition({type:w.ObjectType.item,index:h}).then(function(){c.push(g._view.items.containerAt(h));var a=0;if(g.layout._getItemPosition){var b=g.layout._getItemPosition(h);b.row&&(a=b.row)}d.push(a),f=Math.min(a,f)}));return m.join(e).then(function(){return(0===c.length?m.wrap():k.executeTransition(c,{property:O.cssName,delay:a(f,d,30),duration:100,timing:"ease-in-out",from:g._isCurrentZoomView?"rotateX(0deg)":"rotateX(-90deg)",to:g._isCurrentZoomView?"rotateX(90deg)":"rotateX(0deg)"})).then(b,b)}).then(b,b)},_beginZoom:function(){this._zooming=!0;var a=null;if(c.isPhone){if(this._isZoomedOut)if(this._zoomAnimationPromise&&this._zoomAnimationPromise.cancel(),this._isCurrentZoomView){var b=this,d=function(){b._zoomAnimationPromise=null};this._zoomAnimationPromise=a=this._animateItemsForPhoneZoom().then(d,d)}else this._zoomAnimationPromise=new o,a=this._zoomAnimationPromise.promise}else{var e=this._horizontal(),f=-this.scrollPosition;r.addClass(this._viewport,e?z._zoomingXClass:z._zoomingYClass),this._canvasStart=f,r.addClass(this._viewport,e?z._zoomingYClass:z._zoomingXClass)}return a},_positionItem:function(a,b){function e(a){return f._getItemOffsetPosition(a).then(function(d){var e,g=f._horizontal(),h=f._viewport[g?"scrollWidth":"scrollHeight"],i=g?f._viewportWidth:f._viewportHeight,j=g?"headerContainerWidth":"headerContainerHeight",k=f.layout._sizes,l=0;k&&k[j]&&(l=k[j]);var m=c.isPhone?l:b[f._startProperty],n=i-(g?d.width:d.height);m=Math.max(0,Math.min(n,m)),e=d[f._startProperty]-m;var o=Math.max(0,Math.min(h-i,e)),p=o-e;e=o;var q={type:w.ObjectType.item,index:a};if(f._hasKeyboardFocus?f._changeFocus(q,!0):f._changeFocusPassively(q),f._raiseViewLoading(!0),c.isPhone)f._viewportScrollPosition=e;else{var r=-e;f._canvasStart=r}if(f._view.realizePage(e,!0),c.isPhone&&f._isZoomedOut){var s=function(){f._zoomAnimationPromise&&f._zoomAnimationPromise.complete&&f._zoomAnimationPromise.complete(),f._zoomAnimationPromise=null};f._animateItemsForPhoneZoom().then(s,s)}return g?{x:p,y:0}:{x:0,y:p}})}var f=this,g=0;if(a&&(g=this._isZoomedOut?a.groupIndexHint:a.firstItemIndexHint),"number"==typeof g)return e(g);var h,i=this._isZoomedOut?a.groupKey:a.firstItemKey;if("string"==typeof i&&this._dataSource.itemFromKey)h=this._dataSource.itemFromKey(i,this._isZoomedOut?{groupMemberKey:a.key,groupMemberIndex:a.index}:null);else{var j=this._isZoomedOut?a.groupDescription:a.firstItemDescription;if(c.validation&&void 0===j)throw new d("WinJS.UI.ListView.InvalidItem",S.listViewInvalidItem);h=this._dataSource.itemFromDescription(j)}return h.then(function(a){return e(a.index)})},_endZoom:function(a){if(!this._isZombie()){if(!c.isPhone){var b=this._canvasStart;r.removeClass(this._viewport,z._zoomingYClass),r.removeClass(this._viewport,z._zoomingXClass),this._canvasStart=0,this._viewportScrollPosition=-b}this._disableEntranceAnimation=!a,this._isCurrentZoomView=a,this._zooming=!1,this._view.realizePage(this.scrollPosition,!1)}},_getItemOffsetPosition:function(a){var b=this;return this._getItemOffset({type:w.ObjectType.item,index:a}).then(function(a){return b._ensureFirstColumnRange(w.ObjectType.item).then(function(){return a=b._correctRangeInFirstColumn(a,w.ObjectType.item),a=b._convertFromCanvasCoordinates(a),b._horizontal()?(a.left=a.begin,a.width=a.end-a.begin,a.height=a.totalHeight):(a.top=a.begin,a.height=a.end-a.begin,a.width=a.totalWidth),a})})},_groupRemoved:function(a){this._groupFocusCache.deleteGroup(a)},_updateFocusCache:function(a){this._updateFocusCacheItemRequest&&this._updateFocusCacheItemRequest.cancel();var b=this;this._updateFocusCacheItemRequest=this._view.items.requestItem(a).then(function(){b._updateFocusCacheItemRequest=null;var c=b._view.items.itemDataAt(a),d=b._groups.groupFromItem(a),e=b._groups.group(d).key;c.itemsManagerRecord.item&&b._groupFocusCache.updateCache(e,c.itemsManagerRecord.item.key,a)})},_changeFocus:function(a,b,c,d,e){if(!this._isZombie()){var f;if(a.type===w.ObjectType.item)f=this._view.items.itemAt(a.index),!b&&f&&r.hasClass(f,z._nonSelectableClass)&&(b=!0),this._updateFocusCache(a.index);else if(a.type===w.ObjectType.groupHeader){this._lastFocusedElementInGroupTrack=a;var g=this._groups.group(a.index);f=g&&g.header}else this._lastFocusedElementInGroupTrack=a,f=a.type===w.ObjectType.footer?this._footer:this._header;this._unsetFocusOnItem(!!f),this._hasKeyboardFocus=!0,this._selection._setFocused(a,e),d||this.ensureVisible(a),!b&&this._selectFocused(c)&&this._selection.set(a.index),this._setFocusOnItem(a)}},_changeFocusPassively:function(a){var b;switch(a.type){case w.ObjectType.item:b=this._view.items.itemAt(a.index),this._updateFocusCache(a.index);break;case w.ObjectType.groupHeader:this._lastFocusedElementInGroupTrack=a;var c=this._groups.group(a.index);b=c&&c.header;break;case w.ObjectType.header:this._lastFocusedElementInGroupTrack=a,b=this._header;break;case w.ObjectType.footer:this._lastFocusedElementInGroupTrack=a,b=this._footer}this._unsetFocusOnItem(!!b),this._selection._setFocused(a),this._setFocusOnItem(a)},_drawFocusRectangle:function(b){if(b!==this._header&&b!==this._footer)if(r.hasClass(b,z._headerClass))r.addClass(b,z._itemFocusClass);else{var c=this._view.items.itemBoxFrom(b);if(c.querySelector("."+z._itemFocusOutlineClass))return;r.addClass(c,z._itemFocusClass);var d=a.document.createElement("div");d.className=z._itemFocusOutlineClass,c.appendChild(d)}},_clearFocusRectangle:function(a){if(a&&!this._isZombie()&&a!==this._header&&a!==this._footer){var b=this._view.items.itemBoxFrom(a);if(b){r.removeClass(b,z._itemFocusClass);var c=b.querySelector("."+z._itemFocusOutlineClass);c&&c.parentNode.removeChild(c)}else{var d=this._groups.headerFrom(a);d&&r.removeClass(d,z._itemFocusClass)}}},_defaultInvoke:function(a){(this._isZoomedOut||c.isPhone&&this._triggerZoom&&a.type===w.ObjectType.groupHeader)&&(this._changeFocusPassively(a),this._triggerZoom())},_selectionAllowed:function(a){var b=void 0!==a?this.elementFromIndex(a):null;return!(b&&r.hasClass(b,z._nonSelectableClass))&&this._selectionMode!==w.SelectionMode.none},_multiSelection:function(){return this._selectionMode===w.SelectionMode.multi},_isInSelectionMode:function(){return this.tapBehavior===w.TapBehavior.toggleSelect&&this.selectionMode===w.SelectionMode.multi},_selectOnTap:function(){return this._tap===w.TapBehavior.toggleSelect||this._tap===w.TapBehavior.directSelect},_selectFocused:function(a){return this._tap===w.TapBehavior.directSelect&&this._selectionMode===w.SelectionMode.multi&&!a},_dispose:function(){if(!this._disposed){this._disposed=!0;var a=function(a){a&&(a.textContent="")};r._resizeNotifier.unsubscribe(this._element,this._onElementResizeBound),this._elementResizeInstrument.dispose(),this._batchingViewUpdates&&this._batchingViewUpdates.cancel(),this._view&&this._view._dispose&&this._view._dispose(),this._mode&&this._mode._dispose&&this._mode._dispose(),this._groups&&this._groups._dispose&&this._groups._dispose(),this._selection&&this._selection._dispose&&this._selection._dispose(),this._layout&&this._layout.uninitialize&&this._layout.uninitialize(),this._itemsCountPromise&&this._itemsCountPromise.cancel(),this._versionManager&&this._versionManager._dispose(),this._clearInsertedItems(),this._itemsManager&&this._itemsManager.release(),this._zoomAnimationPromise&&this._zoomAnimationPromise.cancel(),a(this._viewport),a(this._canvas),a(this._canvasProxy),this._versionManager=null,this._view=null,this._mode=null,this._element=null,this._viewport=null,this._itemsManager=null,this._canvas=null,this._canvasProxy=null,this._itemsCountPromise=null,this._scrollToFunctor=null;var b=Q.indexOf(this);b>=0&&Q.splice(b,1)}},_isZombie:function(){return this._disposed||!(this.element.firstElementChild&&a.document.body.contains(this.element))},_ifZombieDispose:function(){var a=this._isZombie();return a&&!this._disposed&&L(this),a},_animationsDisabled:function(){return 0===this._viewportWidth||0===this._viewportHeight||!k.isAnimationEnabled()},_fadeOutViewport:function(){var a=this;return new m(function(b){if(a._animationsDisabled())return void b();if(!a._fadingViewportOut){a._waitingEntranceAnimationPromise&&(a._waitingEntranceAnimationPromise.cancel(),a._waitingEntranceAnimationPromise=null);var c=a._fireAnimationEvent(U.contentTransition);a._firedAnimationEvent=!0,c.prevented?(a._disableEntranceAnimation=!0,a._viewport.style.opacity=1,b()):(a._fadingViewportOut=!0,a._viewport.style.overflow="hidden",j.fadeOut(a._viewport).then(function(){a._isZombie()||(a._fadingViewportOut=!1,a._viewport.style.opacity=1,b())}))}})},_animateListEntrance:function(a){function b(){e._canvas.style.opacity=1,e._headerContainer.style.opacity=1,e._footerContainer.style.opacity=1,e._viewport.style.overflow="",e._raiseHeaderFooterVisibilityEvent()}var d={prevented:!1,animationPromise:m.wrap()},e=this;return this._raiseHeaderFooterVisibilityEvent(),this._disableEntranceAnimation||this._animationsDisabled()?(b(),this._waitingEntranceAnimationPromise&&(this._waitingEntranceAnimationPromise.cancel(),this._waitingEntranceAnimationPromise=null),m.wrap()):(this._firedAnimationEvent?this._firedAnimationEvent=!1:d=this._fireAnimationEvent(U.entrance),d.prevented||c.isPhone?(b(),m.wrap()):(this._waitingEntranceAnimationPromise&&this._waitingEntranceAnimationPromise.cancel(),this._canvas.style.opacity=0,this._viewport.style.overflow="hidden",this._headerContainer.style.opacity=1,this._footerContainer.style.opacity=1,this._waitingEntranceAnimationPromise=d.animationPromise.then(function(){if(!e._isZombie())return e._canvas.style.opacity=1,j.enterContent(e._viewport).then(function(){e._isZombie()||(e._waitingEntranceAnimationPromise=null,e._viewport.style.overflow="")})}),this._waitingEntranceAnimationPromise))},_fireAnimationEvent:function(b){var c=a.document.createEvent("CustomEvent"),d=m.wrap();return c.initCustomEvent("contentanimating",!0,!0,{type:b}),b===U.entrance&&(c.detail.setPromise=function(a){d=a}),{prevented:!this._element.dispatchEvent(c),animationPromise:d}},_createAriaMarkers:function(){this._viewport.getAttribute("aria-label")||this._viewport.setAttribute("aria-label",S.listViewViewportAriaLabel),this._ariaStartMarker||(this._ariaStartMarker=a.document.createElement("div"),this._ariaStartMarker.id=R(this._ariaStartMarker),this._viewport.insertBefore(this._ariaStartMarker,this._viewport.firstElementChild)),this._ariaEndMarker||(this._ariaEndMarker=a.document.createElement("div"),this._ariaEndMarker.id=R(this._ariaEndMarker),this._viewport.appendChild(this._ariaEndMarker))},_updateItemsAriaRoles:function(){var a,b,c=this,d=this._element.getAttribute("role");this._currentMode().staticMode()?(a="list",b="listitem"):(a="listbox",b="option"),d===a&&this._itemRole===b||(this._element.setAttribute("role",a),this._itemRole=b,this._view.items.each(function(a,b){b.setAttribute("role",c._itemRole)}))},_updateGroupHeadersAriaRoles:function(){var a=this.groupHeaderTapBehavior===w.GroupHeaderTapBehavior.none?"separator":"link";if(this._headerRole!==a){this._headerRole=a;for(var b=0,c=this._groups.length();b<c;b++){var d=this._groups.group(b).header;d&&d.setAttribute("role",this._headerRole)}}},_setAriaSelected:function(a,b){b!==("true"===a.getAttribute("aria-selected"))&&a.setAttribute("aria-selected",b)},_setupAriaSelectionObserver:function(a){a._mutationObserver||(this._mutationObserver.observe(a,{attributes:!0,attributeFilter:["aria-selected"]}),a._mutationObserver=!0)},_itemPropertyChange:function(a){function b(a){a.forEach(function(a){a.item.setAttribute("aria-selected",!a.selected)})}if(!this._isZombie()){for(var c=this,d=c._selectionMode===w.SelectionMode.single,e=[],f=[],g=0,h=a.length;g<h;g++){var i=a[g].target,j=c._view.items.itemBoxFrom(i),k="true"===i.getAttribute("aria-selected");if(j&&k!==r._isSelectionRendered(j)){var l=c._view.items.index(j),m={index:l,item:i,selected:k};(c._selectionAllowed(l)?e:f).push(m)}}if(e.length>0){var n=new o;c.selection._synchronize(n).then(function(){var a=c.selection._cloneSelection();return e.forEach(function(b){b.selected?a[d?"set":"add"](b.index):a.remove(b.index)}),c.selection._set(a)}).then(function(a){c._isZombie()||a||b(e),n.complete()})}b(f)}},_groupsEnabled:function(){return!!this._groups.groupDataSource},_getItemPosition:function(a,b){var c=this;return this._view.waitForEntityPosition(a).then(function(){var d,e=c._zooming&&0!==c._canvasStart;switch(a.type){case w.ObjectType.item:d=c._view.getContainer(a.index);break;case w.ObjectType.groupHeader:d=c._view._getHeaderContainer(a.index);break;case w.ObjectType.header:e=!0,d=c._headerContainer;break;case w.ObjectType.footer:e=!0,d=c._footerContainer}if(d){c._writeProfilerMark("WinJS.UI.ListView:getItemPosition,info");var f,g;c._view._expandedRange?(f=c._view._expandedRange.first.index,g=c._view._expandedRange.last.index):b=!1,a.type===w.ObjectType.item?(b=!!b,b&=c._view._ensureContainerInDOM(a.index)):b=!1;var h=c._getItemMargins(a.type),i={left:c._rtl()?M(d)-h.right:d.offsetLeft-h.left,top:d.offsetTop-h.top,totalWidth:r.getTotalWidth(d),totalHeight:r.getTotalHeight(d),contentWidth:r.getContentWidth(d),contentHeight:r.getContentHeight(d)};return b&&c._view._forceItemsBlocksInDOM(f,g+1),e?i:c._convertToCanvasCoordinates(i)}return m.cancel})},_getItemOffset:function(a,b){var c=this;return this._getItemPosition(a,b).then(function(b){var d=c._getItemMargins(a.type);if(c._horizontal()){var e=c._rtl();b.begin=b.left-d[e?"left":"right"],b.end=b.left+b.totalWidth+d[e?"right":"left"]}else b.begin=b.top-d.bottom,b.end=b.top+b.totalHeight+d.top;return b})},_getItemMargins:function(b){b=b||w.ObjectType.item;var c=this,d=function(b){var d,e=c._canvas.querySelector("."+b);e||(e=a.document.createElement("div"),r.addClass(e,b),c._viewport.appendChild(e),d=!0);var f=H._getMargins(e);return d&&c._viewport.removeChild(e),f};return b===w.ObjectType.item?this._itemMargins?this._itemMargins:this._itemMargins=d(z._containerClass):b===w.ObjectType.groupHeader?this._headerMargins?this._headerMargins:this._headerMargins=d(z._headerContainerClass):(this._headerFooterMargins||(this._headerFooterMargins={headerMargins:d(z._listHeaderContainerClass),footerMargins:d(z._listFooterContainerClass)}),this._headerFooterMargins[b===w.ObjectType.header?"headerMargins":"footerMargins"])},_fireAccessibilityAnnotationCompleteEvent:function(b,c,d,e){var f={firstIndex:b,lastIndex:c,firstHeaderIndex:+d||-1,lastHeaderIndex:+e||-1},g=a.document.createEvent("CustomEvent");g.initCustomEvent("accessibilityannotationcomplete",!0,!1,f),this._element.dispatchEvent(g)},_ensureFirstColumnRange:function(a){if(a===w.ObjectType.header||a===w.ObjectType.footer)return m.wrap();var b=a===w.ObjectType.item?"_firstItemRange":"_firstHeaderRange";if(this[b])return m.wrap();var c=this;return this._getItemOffset({type:a,index:0},!0).then(function(a){c[b]=a})},_correctRangeInFirstColumn:function(a,b){return b===w.ObjectType.header||b===w.ObjectType.footer?a:((b===w.ObjectType.groupHeader?this._firstHeaderRange:this._firstItemRange).begin===a.begin&&(this._horizontal()?a.begin=-this._getCanvasMargins()[this._rtl()?"right":"left"]:a.begin=-this._getCanvasMargins().top),a)},_updateContainers:function(b,c,d,e){function f(){var b=a.document.createElement("div");return b.className=z._containerClass,b}function g(b,c,d){c+d>m&&(d=m-c);var e,f=b.itemsContainer,g=f.itemsBlocks,h=n._view._blockSize,i=g.length?g[g.length-1]:null,j=g.length?(g.length-1)*h+i.items.length:0,k=d-j;if(k>0){var l,o=k;if(i&&i.items.length<h){var p=Math.min(o,h-i.items.length);l=i.items.length;var q=F._stripedContainers(p,j);u.insertAdjacentHTMLUnsafe(i.element,"beforeend",q),e=i.element.children;for(var r=0;r<p;r++)i.items.push(e[l+r]);o-=p}j=g.length*h;var s=Math.floor(o/h),t="",v=j,y=j+h;if(s>0){var z=["<div class='win-itemsblock'>"+F._stripedContainers(h,v)+"</div>","<div class='win-itemsblock'>"+F._stripedContainers(h,y)+"</div>"];t=F._repeat(z,s),j+=s*h}var A=o%h;A>0&&(t+="<div class='win-itemsblock'>"+F._stripedContainers(A,j)+"</div>",j+=A,s++);var B=a.document.createElement("div");u.setInnerHTMLUnsafe(B,t);for(var e=B.children,r=0;r<s;r++){var C=e[r],D={element:C,items:F._nodeListToArray(C.children)};g.push(D)}}else if(k<0)for(var E=k;E<0;E++){var G=i.items.pop();!n._view._requireFocusRestore&&G.contains(a.document.activeElement)&&(n._view._requireFocusRestore=a.document.activeElement,n._unsetFocusOnItem()),i.element.removeChild(G),x.push(G),i.items.length||(f.element===i.element.parentNode&&f.element.removeChild(i.element),g.pop(),i=g[g.length-1])}for(var r=0,H=g.length;r<H;r++)for(var C=g[r],E=0;E<C.items.length;E++)w.push(C.items[E])}function h(a,b,c){for(var d=e.filter(function(a){return-1===a.oldIndex&&a.newIndex>=b&&a.newIndex<b+c}).sort(function(a,b){return a.newIndex-b.newIndex}),g=a.itemsContainer,h=0,i=d.length;h<i;h++){var j=d[h],k=j.newIndex-b,l=f(),m=k<g.items.length?g.items[k]:null;g.items.splice(k,0,l),g.element.insertBefore(l,m)}}function i(a,b,c){b+c>m&&(c=m-b);var d=a.itemsContainer,e=c-d.items.length;if(e>0){var f=d.element.children,g=f.length;u.insertAdjacentHTMLUnsafe(d.element,"beforeend",F._repeat("<div class='win-container win-backdrop'></div>",e));for(var h=0;h<e;h++){var i=f[g+h];d.items.push(i)}}for(var h=e;h<0;h++){var i=d.items.pop();d.element.removeChild(i),x.push(i)}for(var h=0,j=d.items.length;h<j;h++)w.push(d.items[h])}function j(a,b){var c=n._view._createHeaderContainer(J),d={header:c,itemsContainer:{element:n._view._createItemsContainer(c)}};return d.itemsContainer[n._view._blockSize?"itemsBlocks":"items"]=[],n._view._blockSize?g(d,b,a.size):i(d,b,a.size),d}function k(a,b,d,f){for(var g,h,i=d+f-1,j=0,k=e.length;j<k;j++){var l=e[j];l.newIndex>=d&&l.newIndex<=i&&-1!==l.oldIndex&&(g!==+g||l.newIndex<g)&&(g=l.newIndex,h=l.newIndex-l.oldIndex)}if(g===+g){var m=0;for(j=0,k=e.length;j<k;j++){var l=e[j];l.newIndex>=d&&l.newIndex<g&&-1===l.oldIndex&&m++}var o=0,p=g-h;for(j=0,k=e.length;j<k;j++){var l=e[j];l.oldIndex>=b&&l.oldIndex<p&&-1===l.newIndex&&o++}h+=o,h-=m,h-=d-b;var q=a.itemsContainer;if(h>0){var r=q.element.children;u.insertAdjacentHTMLUnsafe(q.element,"afterBegin",F._repeat("<div class='win-container win-backdrop'></div>",h));for(var s=0;s<h;s++){var t=r[s];q.items.splice(s,0,t)}}for(var s=h;s<0;s++){var t=q.items.shift();q.element.removeChild(t)}h&&n._affectedRange.add({start:d,end:d+f},c)}}function l(a){for(var b=0,c=0,d=n._view.tree.length;c<d;c++){var e=n._view.tree[c],f=e.itemsContainer.items.length,g=b+f-1;if(a>=b&&a<=g)return{group:c,item:a-b};b+=f}}var m,n=this,o=this._view.containers.length+d,p=o<c;if(p){for(var q=0,s=0;s<e.length;s++)-1===e[s].oldIndex&&q++;m=this._view.containers.length+q}else m=c;var t=[],v={},w=[],x=[],y=[],A=0;if(!n._view._blockSize)for(var s=0,B=this._view.tree.length;s<B;s++)y.push(A),A+=this._view.tree[s].itemsContainer.items.length;if(!n._view._blockSize)for(var C=e.filter(function(a){return-1===a.newIndex&&!a._removalHandled}).sort(function(a,b){return b.oldIndex-a.oldIndex}),s=0,B=C.length;s<B;s++){var D=C[s];D._removalHandled=!0;var E=D._itemBox;D._itemBox=null;var G=l(D.oldIndex),H=this._view.tree[G.group],I=H.itemsContainer.items[G.item];I.parentNode.removeChild(I),r.hasClass(E,z._selectedClass)&&r.addClass(I,z._selectedClass),H.itemsContainer.items.splice(G.item,1),D.element=I}this._view._modifiedGroups=[];var J=this._canvasProxy;A=0;for(var s=0,B=b.length;s<B&&(!this._groupsEnabled()||A<m);s++){var K=b[s],L=this._view.keyToGroupIndex[K.key],M=this._view.tree[L];if(M)n._view._blockSize?g(M,A,K.size):(k(M,y[L],A,K.size),h(M,A,K.size),i(M,A,K.size)),t.push(M),v[K.key]=t.length-1,delete this._view.keyToGroupIndex[K.key],J=M.itemsContainer.element,this._view._modifiedGroups.push({oldIndex:L,newIndex:t.length-1,element:M.header});else{var N=j(K,A);t.push(N),v[K.key]=t.length-1,this._view._modifiedGroups.push({oldIndex:-1,newIndex:t.length-1,element:N.header}),J=N.itemsContainer.element}A+=K.size}for(var O=[],P=[],Q=this._view.keyToGroupIndex?Object.keys(this._view.keyToGroupIndex):[],s=0,B=Q.length;s<B;s++){var G=this._view.keyToGroupIndex[Q[s]],R=this._view.tree[G];if(P.push(R.header),O.push(R.itemsContainer.element),this._view._blockSize)for(var S=0;S<R.itemsContainer.itemsBlocks.length;S++)for(var T=R.itemsContainer.itemsBlocks[S],U=0;U<T.items.length;U++)x.push(T.items[U]);else for(var U=0;U<R.itemsContainer.items.length;U++)x.push(R.itemsContainer.items[U]);this._view._modifiedGroups.push({oldIndex:G,newIndex:-1,element:R.header})}for(var s=0,B=e.length;s<B;s++)if(-1===e[s].newIndex&&!e[s]._removalHandled){e[s]._removalHandled=!0;var E=e[s]._itemBox;e[s]._itemBox=null;var I;x.length?(I=x.pop(),r.empty(I)):I=f(),r.hasClass(E,z._selectedClass)&&r.addClass(I,z._selectedClass),e._containerStripe===z._containerEvenClass?(r.addClass(I,z._containerEvenClass),r.removeClass(I,z._containerOddClass)):(r.addClass(I,z._containerOddClass),r.removeClass(I,z._containerEvenClass)),I.appendChild(E),e[s].element=I}return this._view.tree=t,this._view.keyToGroupIndex=v,this._view.containers=w,{removedHeaders:P,removedItemsContainers:O}},_writeProfilerMark:function(a){var b="WinJS.UI.ListView:"+this._id+":"+a;h(b),f.log&&f.log(b,null,"listviewprofiler")}},{triggerDispose:function(){K()}});return b.Class.mix(s,e.createEventProperties("iteminvoked","groupheaderinvoked","selectionchanging","selectionchanged","loadingstatechanged","keyboardnavigating","contentanimating","itemdragstart","itemdragenter","itemdragend","itemdragbetween","itemdragleave","itemdragchanged","itemdragdrop","headervisibilitychanged","footervisibilitychanged","accessibilityannotationcomplete")),b.Class.mix(s,p.DOMEventMixin),s})})}),d("require-style!less/styles-datetimepicker",[],function(){}),d("WinJS/Controls/TimePicker",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_Select","require-style!less/styles-datetimepicker"],function(a,b,c,d,e,f,g,h,i,j){"use strict";c.Namespace.define("WinJS.UI",{TimePicker:c.Namespace._lazy(function(){var d="{minute.integer(2)}",i="{hour.integer(1)}",k="{period.abbreviated(2)}",l={get ariaLabel(){return f._getWinJSString("ui/timePicker").value},get selectHour(){return f._getWinJSString("ui/selectHour").value},get selectMinute(){return f._getWinJSString("ui/selectMinute").value},get selectAMPM(){return f._getWinJSString("ui/selectAMPM").value}},m=function(a,b){return a.getHours()===b.getHours()&&a.getMinutes()===b.getMinutes()},n=c.Class.define(function(b,c){this._currentTime=n._sentinelDate(),b=b||a.document.createElement("div"),h.addClass(b,"win-disposable"),b.winControl=this,b.getAttribute("aria-label")||b.setAttribute("aria-label",l.ariaLabel),this._timePatterns={minute:null,hour:null,period:null},this._init(b),g.setOptions(this,c)},{_currentTime:null,_clock:null,_disabled:!1,_hourElement:null,_hourControl:null,_minuteElement:null,_minuteControl:null,_ampmElement:null,_ampmControl:null,_minuteIncrement:1,_timePatterns:{minute:null,hour:null,period:null},_information:null,_addAccessibilityAttributes:function(){this._domElement.setAttribute("role","group"),this._hourElement.setAttribute("aria-label",l.selectHour),this._minuteElement.setAttribute("aria-label",l.selectMinute),this._ampmElement&&this._ampmElement.setAttribute("aria-label",l.selectAMPM)},_addControlsInOrder:function(a){var b=this;a.order.forEach(function(a,c){switch(a){case"hour":b._domElement.appendChild(b._hourElement),h.addClass(b._hourElement,"win-order"+c);break;case"minute":b._domElement.appendChild(b._minuteElement),h.addClass(b._minuteElement,"win-order"+c);break;case"period":b._ampmElement&&(b._domElement.appendChild(b._ampmElement),h.addClass(b._ampmElement,"win-order"+c))}})},dispose:function(){},clock:{get:function(){return this._clock},set:function(a){this._clock!==a&&(this._clock=a,this._init())}},current:{get:function(){var a=this._currentTime;if(a){var b=n._sentinelDate();return b.setHours(a.getHours()),b.setMinutes(this._getMinutesIndex(a)*this.minuteIncrement),b.setSeconds(0),b.setMilliseconds(0),b}return a},set:function(a){var b;"string"==typeof a?(b=n._sentinelDate(),b.setTime(Date.parse(b.toDateString()+" "+a))):(b=n._sentinelDate(),b.setHours(a.getHours()),b.setMinutes(a.getMinutes()));var c=this._currentTime;m(c,b)||(this._currentTime=b,this._updateDisplay())}},disabled:{get:function(){return this._disabled},set:function(a){this._disabled!==a&&(this._disabled=a,this._hourControl&&(this._hourControl.setDisabled(a),this._minuteControl.setDisabled(a)),this._ampmControl&&this._ampmControl.setDisabled(a))}},element:{get:function(){return this._domElement}},_init:function(a){this._setElement(a),this._updateDisplay()},hourPattern:{get:function(){return this._timePatterns.hour.pattern},set:function(a){this._timePatterns.hour!==a&&(this._timePatterns.hour=a,this._init())}},_getHoursAmpm:function(a){var b=a.getHours();return this._ampmElement?0===b?{hours:12,ampm:0}:b<12?{hours:b,ampm:0}:{hours:b-12,ampm:1}:{hours:b}},_getHoursIndex:function(a){return this._ampmElement&&12===a?0:a},_getMinutesIndex:function(a){return parseInt(a.getMinutes()/this.minuteIncrement)},minuteIncrement:{get:function(){return Math.max(1,Math.abs(0|this._minuteIncrement)%60)},set:function(a){this._minuteIncrement!==a&&(this._minuteIncrement=a,this._init())}},minutePattern:{get:function(){return this._timePatterns.minute.pattern},set:function(a){this._timePatterns.minute!==a&&(this._timePatterns.minute=a,this._init())}},periodPattern:{get:function(){return this._timePatterns.period.pattern},set:function(a){this._timePatterns.period!==a&&(this._timePatterns.period=a,this._init())}},_setElement:function(b){if(this._domElement=this._domElement||b,this._domElement){var c=n.getInformation(this.clock,this.minuteIncrement,this._timePatterns);this._information=c,c.forceLanguage&&(this._domElement.setAttribute("lang",c.forceLanguage),this._domElement.setAttribute("dir",c.isRTL?"rtl":"ltr")),h.empty(this._domElement),h.addClass(this._domElement,"win-timepicker"),this._hourElement=a.document.createElement("select"),h.addClass(this._hourElement,"win-timepicker-hour win-dropdown"),this._minuteElement=a.document.createElement("select"),h.addClass(this._minuteElement,"win-timepicker-minute win-dropdown"),this._ampmElement=null,"12HourClock"===c.clock&&(this._ampmElement=a.document.createElement("select"),h.addClass(this._ampmElement,"win-timepicker-period win-dropdown")),this._addControlsInOrder(c);var d=this._getHoursAmpm(this.current);this._hourControl=new j._Select(this._hourElement,{dataSource:this._getInfoHours(),disabled:this.disabled,index:this._getHoursIndex(d.hours)}),this._minuteControl=new j._Select(this._minuteElement,{dataSource:c.minutes,disabled:this.disabled,index:this._getMinutesIndex(this.current)}),this._ampmControl=null,this._ampmElement&&(this._ampmControl=new j._Select(this._ampmElement,{dataSource:c.periods,disabled:this.disabled,index:d.ampm})),this._wireupEvents(),this._updateValues(),this._addAccessibilityAttributes()}},_getInfoHours:function(){return this._information.hours},_updateLayout:function(){this._domElement&&this._updateValues()},_updateValues:function(){if(this._hourControl){var a=this._getHoursAmpm(this.current);this._ampmControl&&(this._ampmControl.index=a.ampm),this._hourControl.index=this._getHoursIndex(a.hours),this._minuteControl.index=this._getMinutesIndex(this.current)}},_updateDisplay:function(){var a=this._getHoursAmpm(this.current);this._ampmControl&&(this._ampmControl.index=a.ampm),this._hourControl&&(this._hourControl.index=this._getHoursIndex(a.hours),this._minuteControl.index=this._getMinutesIndex(this.current))},_wireupEvents:function(){var a=this,b=function(){var b=a._hourControl.index;return a._ampmElement&&1===a._ampmControl.index&&12!==b&&(b+=12),b},c=function(){var c=b();a._currentTime.setHours(c),a._currentTime.setMinutes(a._minuteControl.index*a.minuteIncrement)};this._hourElement.addEventListener("change",c,!1),this._minuteElement.addEventListener("change",c,!1),this._ampmElement&&this._ampmElement.addEventListener("change",c,!1)}},{_sentinelDate:function(){var a=new Date;return new Date(2011,6,15,a.getHours(),a.getMinutes())},_getInformationWinRT:function(a,c,e){var f=function(c,d){var e=b.Windows.Globalization.DateTimeFormatting;c=c||d;var f=new e.DateTimeFormatter(c);return a&&(f=e.DateTimeFormatter(c,f.languages,f.geographicRegion,f.calendar,a)),f},g=b.Windows.Globalization,h=new g.Calendar;a&&(h=new g.Calendar(h.languages,h.getCalendarSystem(),a)),h.setDateTime(n._sentinelDate());var j=h.getClock(),l=24;l=h.numberOfHoursInThisPeriod;var m=function(){var a=f(e.period,k);return{getLength:function(){return 2},getValue:function(b){var c=n._sentinelDate();if(0===b){c.setHours(1);return a.format(c)}if(1===b){c.setHours(13);return a.format(c)}return null}}}(),o=function(){var a=f(e.minute,d),b=n._sentinelDate();return{getLength:function(){return 60/c},getValue:function(d){var e=d*c;return b.setMinutes(e),a.format(b)}}}(),p=function(){var a=f(e.hour,i),b=n._sentinelDate();return{getLength:function(){return l},getValue:function(c){return b.setHours(c),a.format(b)}}}(),q=f("hour minute"),r=q.patterns[0],s=["hour","minute"],t={period:r.indexOf("{period"),hour:r.indexOf("{hour"),minute:r.indexOf("{minute")};t.period>-1&&s.push("period");var u=b.Windows.Globalization.DateTimeFormatting.DateTimeFormatter,v=new u("month.full",b.Windows.Globalization.ApplicationLanguages.languages,"ZZ","GregorianCalendar","24HourClock"),w=v.patterns[0],x=8207===w.charCodeAt(0);if(x){var y=t.hour;t.hour=t.minute,t.minute=y}return s.sort(function(a,b){return t[a]<t[b]?-1:t[a]>t[b]?1:0}),{minutes:o,hours:p,clock:j,periods:m,order:s,forceLanguage:q.resolvedLanguage,isRTL:x}},_getInformationJS:function(a,b){var c=[12,1,2,3,4,5,6,7,8,9,10,11],d={};d.getLength=function(){return 60/b},d.getValue=function(a){var c=a*b;return c<10?"0"+c.toString():c.toString()};var e=["hour","minute","period"];return"24HourClock"===a&&(c=["00","01","02","03","04","05","06","07","08","09",10,11,12,13,14,15,16,17,18,19,20,21,22,23],e=["hour","minute"]),{minutes:d,hours:c,clock:a||"12HourClock",periods:["AM","PM"],order:e}}});return b.Windows.Globalization.DateTimeFormatting&&b.Windows.Globalization.Calendar&&b.Windows.Globalization.ApplicationLanguages?n.getInformation=n._getInformationWinRT:n.getInformation=n._getInformationJS,c.Class.mix(n,e.createEventProperties("change")),c.Class.mix(n,g.DOMEventMixin),n})})}),d("require-style!less/styles-toggleswitch",[],function(){}),d("require-style!less/colors-toggleswitch",[],function(){}),d("WinJS/Controls/ToggleSwitch",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_Resources","../_Accents","../Utilities/_Control","../Utilities/_ElementUtilities","require-style!less/styles-toggleswitch","require-style!less/colors-toggleswitch"],function(a,b,c,d,e,f,g,h){"use strict";f.createAccentRule(".win-toggleswitch-on .win-toggleswitch-track",[{name:"background-color",value:f.ColorTypes.accent}]),f.createAccentRule("html.win-hoverable .win-toggleswitch-on:not(.win-toggleswitch-disabled):not(.win-toggleswitch-pressed) .win-toggleswitch-clickregion:hover .win-toggleswitch-track",[{name:"background-color",value:f.ColorTypes.listSelectPress}]),b.Namespace.define("WinJS.UI",{ToggleSwitch:b.Namespace._lazy(function(){var c="win-toggleswitch",f="win-toggleswitch-header",i="win-toggleswitch-clickregion",j="win-toggleswitch-track",k="win-toggleswitch-thumb",l="win-toggleswitch-values",m="win-toggleswitch-value",n="win-toggleswitch-value-on",o="win-toggleswitch-value-off",p="win-toggleswitch-description",q="win-toggleswitch-on",r="win-toggleswitch-off",s="win-toggleswitch-disabled",t="win-toggleswitch-enabled",u="win-toggleswitch-dragging",v="win-toggleswitch-pressed",w={get on(){return e._getWinJSString("ui/on").value},get off(){return e._getWinJSString("ui/off").value}},x=b.Class.define(function(b,d){b=b||a.document.createElement("div"),this._domElement=b,h.addClass(this._domElement,c),this._domElement.innerHTML=['<div class="'+f+'"></div>','<div class="'+i+'">','   <div class="'+j+'">','       <div class="'+k+'"></div>',"   </div>",'   <div class="'+l+'">','      <div class="'+m+" "+n+'"></div>','      <div class="'+m+" "+o+'"></div>',"   </div>","</div>",'<div class="'+p+'"></div>'].join("\n"),this._headerElement=this._domElement.firstElementChild,this._clickElement=this._headerElement.nextElementSibling,this._trackElement=this._clickElement.firstElementChild,this._thumbElement=this._trackElement.firstElementChild,this._labelsElement=this._trackElement.nextElementSibling,this._labelOnElement=this._labelsElement.firstElementChild,this._labelOffElement=this._labelOnElement.nextElementSibling,this._descriptionElement=this._clickElement.nextElementSibling,this._headerElement.setAttribute("aria-hidden",!0),this._labelsElement.setAttribute("aria-hidden",!0),this._headerElement.setAttribute("id",h._uniqueID(this._headerElement)),this._domElement.setAttribute("aria-labelledby",this._headerElement.id),this._domElement.setAttribute("role","checkbox"),this._domElement.winControl=this,h.addClass(this._domElement,"win-disposable"),this._domElement.addEventListener("keydown",this._keyDownHandler.bind(this)),h._addEventListener(this._clickElement,"pointerdown",this._pointerDownHandler.bind(this)),h._addEventListener(this._clickElement,"pointercancel",this._pointerCancelHandler.bind(this)),this._boundPointerMove=this._pointerMoveHandler.bind(this),this._boundPointerUp=this._pointerUpHandler.bind(this),this._mutationObserver=new h._MutationObserver(this._ariaChangedHandler.bind(this)),this._mutationObserver.observe(this._domElement,{attributes:!0,attributeFilter:["aria-checked"]}),this._dragX=0,this._dragging=!1,this.checked=!1,this.disabled=!1,this.labelOn=w.on,this.labelOff=w.off,g.setOptions(this,d)},{element:{get:function(){return this._domElement}},checked:{get:function(){return this._checked},set:function(a){(a=!!a)!==this.checked&&(this._checked=a,this._domElement.setAttribute("aria-checked",a),a?(h.addClass(this._domElement,q),h.removeClass(this._domElement,r)):(h.addClass(this._domElement,r),h.removeClass(this._domElement,q)),this.dispatchEvent("change"))}},disabled:{get:function(){return this._disabled},set:function(a){(a=!!a)!==this._disabled&&(a?(h.addClass(this._domElement,s),h.removeClass(this._domElement,t)):(h.removeClass(this._domElement,s),h.addClass(this._domElement,t)),this._disabled=a,this._domElement.setAttribute("aria-disabled",a),this._domElement.setAttribute("tabIndex",a?-1:0))}},labelOn:{get:function(){return this._labelOnElement.innerHTML},set:function(a){this._labelOnElement.innerHTML=a}},labelOff:{get:function(){return this._labelOffElement.innerHTML},set:function(a){this._labelOffElement.innerHTML=a}},title:{get:function(){return this._headerElement.innerHTML},set:function(a){this._headerElement.innerHTML=a}},onchange:d._createEventProperty("change"),dispose:function(){this._disposed||(this._disposed=!0)},_ariaChangedHandler:function(){var a=this._domElement.getAttribute("aria-checked");a="true"===a,this.checked=a},_keyDownHandler:function(a){this.disabled||(a.keyCode===h.Key.space&&(a.preventDefault(),this.checked=!this.checked),a.keyCode!==h.Key.rightArrow&&a.keyCode!==h.Key.upArrow||(a.preventDefault(),this.checked=!0),a.keyCode!==h.Key.leftArrow&&a.keyCode!==h.Key.downArrow||(a.preventDefault(),this.checked=!1))},_pointerDownHandler:function(a){this.disabled||this._mousedown||(a.preventDefault(),this._mousedown=!0,this._dragXStart=a.pageX-this._trackElement.getBoundingClientRect().left,this._dragX=this._dragXStart,this._dragging=!1,h.addClass(this._domElement,v),h._globalListener.addEventListener(this._domElement,"pointermove",this._boundPointerMove,!0),h._globalListener.addEventListener(this._domElement,"pointerup",this._boundPointerUp,!0),a.pointerType===h._MSPointerEvent.MSPOINTER_TYPE_TOUCH&&h._setPointerCapture(this._domElement,a.pointerId))},_pointerCancelHandler:function(a){this._resetPressedState(),a.pointerType===h._MSPointerEvent.MSPOINTER_TYPE_TOUCH&&h._releasePointerCapture(this._domElement,a.pointerId)},_pointerUpHandler:function(a){if(!this.disabled&&this._mousedown){a=a.detail.originalEvent,a.preventDefault();var b=this._trackElement.getBoundingClientRect(),c=this._thumbElement.getBoundingClientRect(),d="rtl"===h._getComputedStyle(this._domElement).direction;if(this._dragging){var e=b.width-c.width;this.checked=d?this._dragX<e/2:this._dragX>=e/2,this._dragging=!1,h.removeClass(this._domElement,u)}else this.checked=!this.checked;this._resetPressedState()}},_pointerMoveHandler:function(a){if(!this.disabled&&this._mousedown){a=a.detail.originalEvent,a.preventDefault();var b=this._trackElement.getBoundingClientRect(),c=a.pageX-b.left;if(!(c>b.width)){var d=this._thumbElement.getBoundingClientRect(),e=b.width-d.width-6;this._dragX=Math.min(e,c-d.width/2),this._dragX=Math.max(2,this._dragX),!this._dragging&&Math.abs(c-this._dragXStart)>3&&(this._dragging=!0,h.addClass(this._domElement,u)),this._thumbElement.style.left=this._dragX+"px"}}},_resetPressedState:function(){this._mousedown=!1,this._thumbElement.style.left="",h.removeClass(this._domElement,v),h._globalListener.removeEventListener(this._domElement,"pointermove",this._boundPointerMove,!0),h._globalListener.removeEventListener(this._domElement,"pointerup",this._boundPointerUp,!0)}});return b.Class.mix(x,g.DOMEventMixin),x})})}),d("WinJS/Utilities/_KeyboardBehavior",["exports","../Core/_Global","../Core/_Base","./_Control","./_ElementUtilities","./_TabContainer"],function(a,b,c,d,e,f){"use strict";if(b.document){var g={touch:"touch",pen:"pen",mouse:"mouse",keyboard:"keyboard"},h=g.mouse,i={2:g.touch,3:g.pen,4:g.mouse,touch:g.touch,pen:g.pen,mouse:g.mouse};e._addEventListener(b,"pointerdown",function(a){h=i[a.pointerType]||g.mouse},!0),b.addEventListener("keydown",function(){h=g.keyboard},!0),c.Namespace._moduleDefine(a,"WinJS.UI",{_keyboardSeenLast:{get:function(){return h===g.keyboard},set:function(a){h=a?g.keyboard:g.mouse}},_lastInputType:{get:function(){return h},set:function(a){g[a]&&(h=a)}},_InputTypes:g,_WinKeyboard:function(b){e._addEventListener(b,"pointerdown",function(a){e.removeClass(a.target,"win-keyboard")},!0),b.addEventListener("keydown",function(a){e.addClass(a.target,"win-keyboard")},!0),e._addEventListener(b,"focusin",function(b){a._keyboardSeenLast&&e.addClass(b.target,"win-keyboard")},!1),e._addEventListener(b,"focusout",function(a){e.removeClass(a.target,"win-keyboard")},!1)},_KeyboardBehavior:c.Namespace._lazy(function(){var a=e.Key,g=c.Class.define(function(a,c){a=a||b.document.createElement("DIV"),c=c||{},a._keyboardBehavior=this,this._element=a,this._fixedDirection=g.FixedDirection.width,this._fixedSize=1,this._currentIndex=0,d.setOptions(this,c),this._tabContainer=new f.TabContainer(this.scroller||this._element),this._tabContainer.tabIndex=0,this._element.children.length>0&&(this._tabContainer.childFocus=this._getFocusInto(this._element.children[0])),this._element.addEventListener("keydown",this._keyDownHandler.bind(this)),e._addEventListener(this._element,"pointerdown",this._MSPointerDownHandler.bind(this))},{element:{get:function(){return this._element}},fixedDirection:{get:function(){return this._fixedDirection},set:function(a){this._fixedDirection=a}},fixedSize:{get:function(){return this._fixedSize},set:function(a){+a===a&&(a=Math.max(1,a),this._fixedSize=a)}},currentIndex:{get:function(){return this._element.children.length>0?this._currentIndex:-1},set:function(a){if(+a===a){var b=this._element.children.length;a=Math.max(0,Math.min(b-1,a)),this._currentIndex=a,this._tabContainer.childFocus=this._getFocusInto(this._element.children[a])}}},getAdjacent:{get:function(){return this._getAdjacent},set:function(a){this._getAdjacent=a}},scroller:{get:function(){return this._scroller},set:function(a){this._scroller=a}},_keyDownHandler:function(b){if(!b.altKey){if(e._matchesSelector(b.target,".win-interactive, .win-interactive *"))return;var c=this.currentIndex,d=this._element.children.length-1,f="rtl"===e._getComputedStyle(this._element).direction,h=f?a.rightArrow:a.leftArrow,i=f?a.leftArrow:a.rightArrow,j=this.getAdjacent&&this.getAdjacent(c,b.keyCode);if(+j===j)c=j;else{var k=c%this.fixedSize;b.keyCode===h?this.fixedDirection===g.FixedDirection.width?0!==k&&c--:c>=this.fixedSize&&(c-=this.fixedSize):b.keyCode===i?this.fixedDirection===g.FixedDirection.width?k!==this.fixedSize-1&&c++:c+this.fixedSize-k<=d&&(c+=this.fixedSize):b.keyCode===a.upArrow?this.fixedDirection===g.FixedDirection.height?0!==k&&c--:c>=this.fixedSize&&(c-=this.fixedSize):b.keyCode===a.downArrow?this.fixedDirection===g.FixedDirection.height?k!==this.fixedSize-1&&c++:c+this.fixedSize-k<=d&&(c+=this.fixedSize):b.keyCode===a.home?c=0:b.keyCode===a.end&&(c=this._element.children.length-1)}c=Math.max(0,Math.min(this._element.children.length-1,c)),c!==this.currentIndex&&(this._focus(c,b.keyCode),b.keyCode!==h&&b.keyCode!==i&&b.keyCode!==a.upArrow&&b.keyCode!==a.downArrow||b.stopPropagation(),b.preventDefault())}},_getFocusInto:function(a,b){return a&&a.winControl&&a.winControl._getFocusInto?a.winControl._getFocusInto(b):a},_focus:function(a,b){a=+a===a?a:this.currentIndex;var c=this._element.children[a];c&&(c=this._getFocusInto(c,b),this.currentIndex=a,e._setActive(c,this.scroller))},_MSPointerDownHandler:function(a){var b=a.target;if(b!==this.element){for(;b.parentNode!==this.element;)b=b.parentNode;for(var c=-1;b;)c++,b=b.previousElementSibling;this.currentIndex=c}}},{FixedDirection:{height:"height",width:"width"}});return g})})}}),d("require-style!less/styles-lightdismissservice",[],function(){});var e=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};return d("WinJS/_LightDismissService",["require","exports","./Application","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities","./Core/_Global","./Utilities/_KeyboardBehavior","./Core/_Log","./Core/_Resources"],function(a,b,c,d,f,g,h,i,j,k){a(["require-style!less/styles-lightdismissservice"]);var l=1e3,m={get closeOverlay(){return k._getWinJSString("ui/closeOverlay").value}};b._ClassNames={_clickEater:"win-clickeater"};b.LightDismissalReasons={tap:"tap",lostFocus:"lostFocus",escape:"escape",hardwareBackButton:"hardwareBackButton",windowResize:"windowResize",windowBlur:"windowBlur"},b.DismissalPolicies={light:function(a){switch(a.reason){case b.LightDismissalReasons.tap:case b.LightDismissalReasons.escape:return!!a.active||(a.stopPropagation(),!1);case b.LightDismissalReasons.hardwareBackButton:return a.active?(a.preventDefault(),!0):(a.stopPropagation(),!1);case b.LightDismissalReasons.lostFocus:case b.LightDismissalReasons.windowResize:case b.LightDismissalReasons.windowBlur:return!0}},modal:function(a){switch(a.stopPropagation(),a.reason){case b.LightDismissalReasons.tap:case b.LightDismissalReasons.lostFocus:case b.LightDismissalReasons.windowResize:case b.LightDismissalReasons.windowBlur:return!1;case b.LightDismissalReasons.escape:return a.active;case b.LightDismissalReasons.hardwareBackButton:return a.preventDefault(),a.active}},sticky:function(a){return a.stopPropagation(),!1}};var n={keyDown:"keyDown",keyUp:"keyUp",keyPress:"keyPress"},o=function(){function a(a){this.element=a.element,this.element.tabIndex=a.tabIndex,this.onLightDismiss=a.onLightDismiss,a.onTakeFocus&&(this.onTakeFocus=a.onTakeFocus),a.onShouldLightDismiss&&(this.onShouldLightDismiss=a.onShouldLightDismiss),this._ldeOnKeyDownBound=this._ldeOnKeyDown.bind(this),this._ldeOnKeyUpBound=this._ldeOnKeyUp.bind(this),this._ldeOnKeyPressBound=this._ldeOnKeyPress.bind(this)}return a.prototype.restoreFocus=function(){var a=h.document.activeElement;if(a&&this.containsElement(a))return this._ldeCurrentFocus=a,!0;var b=!i._keyboardSeenLast;return this._ldeCurrentFocus&&this.containsElement(this._ldeCurrentFocus)&&g._tryFocusOnAnyElement(this._ldeCurrentFocus,b)},a.prototype._ldeOnKeyDown=function(a){this._ldeService.keyDown(this,a)},a.prototype._ldeOnKeyUp=function(a){this._ldeService.keyUp(this,a)},a.prototype._ldeOnKeyPress=function(a){this._ldeService.keyPress(this,a)},a.prototype.setZIndex=function(a){this.element.style.zIndex=a},a.prototype.getZIndexCount=function(){return 1},a.prototype.containsElement=function(a){return this.element.contains(a)},a.prototype.onTakeFocus=function(a){this.restoreFocus()||g._focusFirstFocusableElement(this.element,a)||g._tryFocusOnAnyElement(this.element,a)},a.prototype.onFocus=function(a){this._ldeCurrentFocus=a},a.prototype.onShow=function(a){this._ldeService=a,this.element.addEventListener("keydown",this._ldeOnKeyDownBound),this.element.addEventListener("keyup",this._ldeOnKeyUpBound),this.element.addEventListener("keypress",this._ldeOnKeyPressBound)},a.prototype.onHide=function(){this._ldeCurrentFocus=null,this._ldeService=null,this.element.removeEventListener("keydown",this._ldeOnKeyDownBound),this.element.removeEventListener("keyup",this._ldeOnKeyUpBound),this.element.removeEventListener("keypress",this._ldeOnKeyPressBound)},a.prototype.onKeyInStack=function(a){},a.prototype.onShouldLightDismiss=function(a){return!1},a.prototype.onLightDismiss=function(a){},a}(),p=function(a){function c(){a.apply(this,arguments)}return e(c,a),c.prototype.onKeyInStack=function(a){},c.prototype.onShouldLightDismiss=function(a){return b.DismissalPolicies.light(a)},c}(o);b.LightDismissableElement=p;var q=function(a){function c(){a.apply(this,arguments)}return e(c,a),c.prototype.onKeyInStack=function(a){a.stopPropagation()},c.prototype.onShouldLightDismiss=function(a){return b.DismissalPolicies.modal(a)},c}(o);b.ModalElement=q;var r=function(){function a(){}return a.prototype.setZIndex=function(a){},a.prototype.getZIndexCount=function(){return 1},a.prototype.containsElement=function(a){return h.document.body.contains(a)},a.prototype.onTakeFocus=function(a){this.currentFocus&&this.containsElement(this.currentFocus)&&g._tryFocusOnAnyElement(this.currentFocus,a)},a.prototype.onFocus=function(a){this.currentFocus=a},a.prototype.onShow=function(a){},a.prototype.onHide=function(){this.currentFocus=null},a.prototype.onKeyInStack=function(a){},a.prototype.onShouldLightDismiss=function(a){return!1},a.prototype.onLightDismiss=function(a){},a}(),s=function(){function a(){this._debug=!1,this._clients=[],this._notifying=!1,this._bodyClient=new r,this._updateDom_rendered={serviceActive:!1},this._clickEaterEl=this._createClickEater(),this._onBeforeRequestingFocusOnKeyboardInputBound=this._onBeforeRequestingFocusOnKeyboardInput.bind(this),this._onFocusInBound=this._onFocusIn.bind(this),this._onKeyDownBound=this._onKeyDown.bind(this),this._onWindowResizeBound=this._onWindowResize.bind(this),this._onClickEaterPointerUpBound=this._onClickEaterPointerUp.bind(this),this._onClickEaterPointerCancelBound=this._onClickEaterPointerCancel.bind(this),c.addEventListener("backclick",this._onBackClick.bind(this)),h.window.addEventListener("blur",this._onWindowBlur.bind(this)),this.shown(this._bodyClient)}return a.prototype.shown=function(a){-1===this._clients.indexOf(a)&&(this._clients.push(a),a.onShow(this),this._updateDom())},a.prototype.hidden=function(a){var b=this._clients.indexOf(a);-1!==b&&(this._clients.splice(b,1),a.setZIndex(""),a.onHide(),this._updateDom())},a.prototype.updated=function(a){this._updateDom()},a.prototype.keyDown=function(a,b){b.keyCode===g.Key.escape?this._escapePressed(b):this._dispatchKeyboardEvent(a,n.keyDown,b)},a.prototype.keyUp=function(a,b){this._dispatchKeyboardEvent(a,n.keyUp,b)},a.prototype.keyPress=function(a,b){this._dispatchKeyboardEvent(a,n.keyPress,b)},a.prototype.isShown=function(a){return-1!==this._clients.indexOf(a)},a.prototype.isTopmost=function(a){return a===this._clients[this._clients.length-1]},a.prototype._setDebug=function(a){this._debug=a},a.prototype._updateDom=function(a){a=a||{};var b=!!a.activeDismissableNeedsFocus,d=this._updateDom_rendered;if(!this._notifying){var e=this._clients.length>1;if(e!==d.serviceActive){if(e)c.addEventListener("beforerequestingfocusonkeyboardinput",this._onBeforeRequestingFocusOnKeyboardInputBound),g._addEventListener(h.document.documentElement,"focusin",this._onFocusInBound),h.document.documentElement.addEventListener("keydown",this._onKeyDownBound),h.window.addEventListener("resize",this._onWindowResizeBound),this._bodyClient.currentFocus=h.document.activeElement,h.document.body.appendChild(this._clickEaterEl);else{c.removeEventListener("beforerequestingfocusonkeyboardinput",this._onBeforeRequestingFocusOnKeyboardInputBound),g._removeEventListener(h.document.documentElement,"focusin",this._onFocusInBound),h.document.documentElement.removeEventListener("keydown",this._onKeyDownBound),h.window.removeEventListener("resize",this._onWindowResizeBound);var f=this._clickEaterEl.parentNode;f&&f.removeChild(this._clickEaterEl)}d.serviceActive=e}var j=0,k=l+1;this._clients.forEach(function(a,b){var c=parseInt(k.toString())+parseInt(j.toString());a.setZIndex(""+c),k=c,j=parseInt(a.getZIndexCount().toString())+1}),e&&(this._clickEaterEl.style.zIndex=""+(k-1));var m=this._clients.length>0?this._clients[this._clients.length-1]:null;if(this._activeDismissable!==m&&(this._activeDismissable=m,b=!0),b){var n=!i._keyboardSeenLast;this._activeDismissable&&this._activeDismissable.onTakeFocus(n)}}},a.prototype._dispatchKeyboardEvent=function(a,b,c){var d=this._clients.indexOf(a);if(-1!==d)for(var e={type:b,keyCode:c.keyCode,propagationStopped:!1,stopPropagation:function(){this.propagationStopped=!0,c.stopPropagation()}},f=this._clients.slice(0,d+1),g=f.length-1;g>=0&&!e.propagationStopped;g--)f[g].onKeyInStack(e)},a.prototype._dispatchLightDismiss=function(a,b,c){if(this._notifying)return void(j.log&&j.log('_LightDismissService ignored dismiss trigger to avoid re-entrancy: "'+a+'"',"winjs _LightDismissService","warning"));if(b=b||this._clients.slice(0),0!==b.length){this._notifying=!0;for(var d={reason:a,active:!1,_stop:!1,stopPropagation:function(){this._stop=!0},_doDefault:!0,preventDefault:function(){this._doDefault=!1}},e=b.length-1;e>=0&&!d._stop;e--)d.active=this._activeDismissable===b[e],b[e].onShouldLightDismiss(d)&&b[e].onLightDismiss(d);return this._notifying=!1,this._updateDom(c),d._doDefault}},a.prototype._onBeforeRequestingFocusOnKeyboardInput=function(a){return!0},a.prototype._clickEaterTapped=function(){this._dispatchLightDismiss(b.LightDismissalReasons.tap)},a.prototype._onFocusIn=function(a){for(var c=a.target,d=this._clients.length-1;d>=0&&!this._clients[d].containsElement(c);d--);-1!==d&&this._clients[d].onFocus(c),d+1<this._clients.length&&this._dispatchLightDismiss(b.LightDismissalReasons.lostFocus,this._clients.slice(d+1),{activeDismissableNeedsFocus:!0})},a.prototype._onKeyDown=function(a){a.keyCode===g.Key.escape&&this._escapePressed(a)},a.prototype._escapePressed=function(a){a.preventDefault(),a.stopPropagation(),this._dispatchLightDismiss(b.LightDismissalReasons.escape)},a.prototype._onBackClick=function(a){return!this._dispatchLightDismiss(b.LightDismissalReasons.hardwareBackButton)},a.prototype._onWindowResize=function(a){this._dispatchLightDismiss(b.LightDismissalReasons.windowResize)},a.prototype._onWindowBlur=function(a){if(!this._debug)if(h.document.hasFocus()){var c=h.document.activeElement;c&&"IFRAME"===c.tagName&&!c.msLightDismissBlur&&(c.addEventListener("blur",this._onWindowBlur.bind(this),!1),c.msLightDismissBlur=!0)}else this._dispatchLightDismiss(b.LightDismissalReasons.windowBlur)},a.prototype._createClickEater=function(){var a=h.document.createElement("section");return a.className=b._ClassNames._clickEater,g._addEventListener(a,"pointerdown",this._onClickEaterPointerDown.bind(this),!0),a.addEventListener("click",this._onClickEaterClick.bind(this),!0),a.setAttribute("role","menuitem"),a.setAttribute("aria-label",m.closeOverlay),a.setAttribute("unselectable","on"),a},a.prototype._onClickEaterPointerDown=function(a){a.stopPropagation(),a.preventDefault(),this._clickEaterPointerId=a.pointerId,this._registeredClickEaterCleanUp||(g._addEventListener(h.window,"pointerup",this._onClickEaterPointerUpBound),g._addEventListener(h.window,"pointercancel",this._onClickEaterPointerCancelBound),this._registeredClickEaterCleanUp=!0)},a.prototype._onClickEaterPointerUp=function(a){var b=this;if(a.stopPropagation(),a.preventDefault(),a.pointerId===this._clickEaterPointerId){this._resetClickEaterPointerState();h.document.elementFromPoint(a.clientX,a.clientY)===this._clickEaterEl&&(this._skipClickEaterClick=!0,f._yieldForEvents(function(){b._skipClickEaterClick=!1}),this._clickEaterTapped())}},a.prototype._onClickEaterClick=function(a){a.stopPropagation(),a.preventDefault(),this._skipClickEaterClick||this._clickEaterTapped()},a.prototype._onClickEaterPointerCancel=function(a){a.pointerId===this._clickEaterPointerId&&this._resetClickEaterPointerState()},a.prototype._resetClickEaterPointerState=function(){this._registeredClickEaterCleanUp&&(g._removeEventListener(h.window,"pointerup",this._onClickEaterPointerUpBound),g._removeEventListener(h.window,"pointercancel",this._onClickEaterPointerCancelBound)),this._clickEaterPointerId=null,this._registeredClickEaterCleanUp=!1},a}(),t=new s;b.shown=t.shown.bind(t),b.hidden=t.hidden.bind(t),b.updated=t.updated.bind(t),b.isShown=t.isShown.bind(t),b.isTopmost=t.isTopmost.bind(t),b.keyDown=t.keyDown.bind(t),b.keyUp=t.keyUp.bind(t),b.keyPress=t.keyPress.bind(t),b._clickEaterTapped=t._clickEaterTapped.bind(t),b._onBackClick=t._onBackClick.bind(t),b._setDebug=t._setDebug.bind(t),d.Namespace.define("WinJS.UI._LightDismissService",{shown:b.shown,hidden:b.hidden,updated:b.updated,isShown:b.isShown,isTopmost:b.isTopmost,keyDown:b.keyDown,keyUp:b.keyUp,keyPress:b.keyPress,_clickEaterTapped:b._clickEaterTapped,_onBackClick:b._onBackClick,_setDebug:b._setDebug,LightDismissableElement:p,DismissalPolicies:b.DismissalPolicies,LightDismissalReasons:b.LightDismissalReasons,_ClassNames:b._ClassNames,_service:t})}),d("WinJS/Controls/_LegacyAppBar/_Constants",["exports","../../Core/_Base"],function(a,b){"use strict";b.Namespace._moduleDefine(a,null,{appBarClass:"win-navbar",firstDivClass:"win-firstdiv",finalDivClass:"win-finaldiv",invokeButtonClass:"win-navbar-invokebutton",ellipsisClass:"win-navbar-ellipsis",primaryCommandsClass:"win-primarygroup",secondaryCommandsClass:"win-secondarygroup",commandLayoutClass:"win-commandlayout",menuLayoutClass:"win-menulayout",topClass:"win-top",bottomClass:"win-bottom",showingClass:"win-navbar-opening",shownClass:"win-navbar-opened",hidingClass:"win-navbar-closing",hiddenClass:"win-navbar-closed",compactClass:"win-navbar-compact",minimalClass:"win-navbar-minimal",menuContainerClass:"win-navbar-menu",appBarPlacementTop:"top",appBarPlacementBottom:"bottom",appBarLayoutCustom:"custom",appBarLayoutCommands:"commands",appBarLayoutMenu:"menu",appBarInvokeButtonWidth:32,typeSeparator:"separator",typeContent:"content",typeButton:"button",typeToggle:"toggle",typeFlyout:"flyout",appBarCommandClass:"win-command",appBarCommandGlobalClass:"win-global",appBarCommandSelectionClass:"win-selection",commandHiddenClass:"win-command-hidden",sectionSelection:"selection",sectionGlobal:"global",sectionPrimary:"primary",sectionSecondary:"secondary",menuCommandClass:"win-command",menuCommandButtonClass:"win-command-button",menuCommandToggleClass:"win-command-toggle",menuCommandFlyoutClass:"win-command-flyout",menuCommandFlyoutActivatedClass:"win-command-flyout-activated",menuCommandSeparatorClass:"win-command-separator",_menuCommandInvokedEvent:"_invoked",menuClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",menuContainsFlyoutCommandClass:"win-menu-containsflyoutcommand",menuMouseSpacingClass:"win-menu-mousespacing",menuTouchSpacingClass:"win-menu-touchspacing",menuCommandHoverDelay:400,overlayClass:"win-overlay",flyoutClass:"win-flyout",flyoutLightClass:"win-ui-light",settingsFlyoutClass:"win-settingsflyout",scrollsClass:"win-scrolls",pinToRightEdge:-1,pinToBottomEdge:-1,separatorWidth:34,buttonWidth:68,narrowClass:"win-narrow",wideClass:"win-wide",_visualViewportClass:"win-visualviewport-space",commandPropertyMutated:"_commandpropertymutated",commandVisibilityChanged:"commandvisibilitychanged"})}),d("WinJS/Utilities/_KeyboardInfo",["require","exports","../Core/_BaseCoreUtils","../Core/_Global","../Core/_WinRT"],function(a,b,c,d,e){"use strict";var f={visualViewportClass:"win-visualviewport-space",scrollTimeout:150};b._KeyboardInfo,b._KeyboardInfo={get _visible(){try{return e.Windows.UI.ViewManagement.InputPane&&e.Windows.UI.ViewManagement.InputPane.getForCurrentView().occludedRect.height>0}catch(a){return!1}},get _extraOccluded(){var a=0;return!b._KeyboardInfo._isResized&&e.Windows.UI.ViewManagement.InputPane&&(a=e.Windows.UI.ViewManagement.InputPane.getForCurrentView().occludedRect.height),a},get _isResized(){var a=d.document.documentElement.clientHeight/d.innerHeight;return d.document.documentElement.clientWidth/d.innerWidth/a<.99},get _visibleDocBottom(){return b._KeyboardInfo._visibleDocTop+b._KeyboardInfo._visibleDocHeight},get _visibleDocHeight(){return b._KeyboardInfo._visualViewportHeight-b._KeyboardInfo._extraOccluded},get _visibleDocTop(){return 0},get _visibleDocBottomOffset(){return b._KeyboardInfo._extraOccluded},get _visualViewportHeight(){return b._KeyboardInfo._visualViewportSpace.height},get _visualViewportWidth(){return b._KeyboardInfo._visualViewportSpace.width},get _visualViewportSpace(){var a=d.document.body.querySelector("."+f.visualViewportClass);return a||(a=d.document.createElement("DIV"),a.className=f.visualViewportClass,d.document.body.appendChild(a)),a.getBoundingClientRect()},get _animationShowLength(){if(c.hasWinRT){if(e.Windows.UI.Core.AnimationMetrics){for(var a=e.Windows.UI.Core.AnimationMetrics,b=new a.AnimationDescription(a.AnimationEffect.showPanel,a.AnimationEffectTarget.primary),d=b.animations,f=0,g=0;g<d.size;g++){var h=d[g];f=Math.max(f,h.delay+h.duration)}return f}return 50+300}return 0},get _scrollTimeout(){return f.scrollTimeout},get _layoutViewportCoords(){var a=d.window.pageYOffset-d.document.documentElement.scrollTop;return{visibleDocTop:a,visibleDocBottom:d.document.documentElement.clientHeight-(a+this._visibleDocHeight)}}}}),d("require-style!less/styles-overlay",[],function(){}),d("require-style!less/colors-overlay",[],function(){}),d("WinJS/Controls/Flyout/_Overlay",["exports","../../Core/_Global","../../Core/_WinRT","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Resources","../../Core/_WriteProfilerMark","../../_Accents","../../Animations","../../Application","../../ControlProcessor","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardInfo","../_LegacyAppBar/_Constants","require-style!less/styles-overlay","require-style!less/colors-overlay"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";j.createAccentRule("button[aria-checked=true].win-command:before,         .win-menu-containsflyoutcommand button.win-command-flyout-activated:before",[{name:"background-color",value:j.ColorTypes.accent},{name:"border-color",value:j.ColorTypes.accent}]),j.createAccentRule(".win-flyout, .win-settingsflyout",[{name:"border-color",value:j.ColorTypes.accent}]),d.Namespace._moduleDefine(a,"WinJS.UI",{_Overlay:d.Namespace._lazy(function(){function a(a,c,d){var e=b.document.querySelectorAll("."+s.overlayClass);if(e)for(var f=e.length,g=0;g<f;g++){var h=e[g],i=h.winControl;if(!i._disposed&&i){var j=i[c](a);if(d&&j)return j}}}function e(a){if(!a)return[];"string"!=typeof a&&a&&a.length||(a=[a]);var c,d=[];for(c=0;c<a.length;c++)if(a[c])if("string"==typeof a[c]){var e=b.document.getElementById(a[c]);e&&d.push(e)}else a[c].element?d.push(a[c].element):d.push(a[c]);return d}var g=d.Class.define(function(){this._currentState=g.states.off,this._inputPaneShowing=this._inputPaneShowing.bind(this),this._inputPaneHiding=this._inputPaneHiding.bind(this),this._documentScroll=this._documentScroll.bind(this),this._windowResized=this._windowResized.bind(this)},{initialize:function(){this._toggleListeners(g.states.on)},reset:function(){this._toggleListeners(g.states.off),this._toggleListeners(g.states.on)},_inputPaneShowing:function(b){i(g.profilerString+"_showingKeyboard,StartTM"),a(b,"_showingKeyboard"),i(g.profilerString+"_showingKeyboard,StopTM")},_inputPaneHiding:function(b){i(g.profilerString+"_hidingKeyboard,StartTM"),a(b,"_hidingKeyboard"),i(g.profilerString+"_hidingKeyboard,StopTM")},_documentScroll:function(b){i(g.profilerString+"_checkScrollPosition,StartTM"),a(b,"_checkScrollPosition"),i(g.profilerString+"_checkScrollPosition,StopTM")},_windowResized:function(b){i(g.profilerString+"_baseResize,StartTM"),a(b,"_baseResize"),i(g.profilerString+"_baseResize,StopTM")},_toggleListeners:function(a){var d;if(this._currentState!==a){if(a===g.states.on?d="addEventListener":a===g.states.off&&(d="removeEventListener"),c.Windows.UI.ViewManagement.InputPane){var e=c.Windows.UI.ViewManagement.InputPane.getForCurrentView();e[d]("showing",this._inputPaneShowing,!1),e[d]("hiding",this._inputPaneHiding,!1),b.document[d]("scroll",this._documentScroll,!1)}b.addEventListener("resize",this._windowResized,!1),this._currentState=a}}},{profilerString:{get:function(){return"WinJS.UI._Overlay Global Listener:"}},states:{get:function(){return{off:0,on:1}}}}),j={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get mustContainCommands(){return"Invalid HTML: AppBars/Menus must contain only AppBarCommands/MenuCommands"},get closeOverlay(){return h._getWinJSString("ui/closeOverlay").value}},l=d.Class.define(function(a,b){this._baseOverlayConstructor(a,b)},{_baseOverlayConstructor:function(a,c){if(this._disposed=!1,a||(a=b.document.createElement("div")),a.winControl)throw new f("WinJS.UI._Overlay.DuplicateConstruction",j.duplicateConstruction);this._element||(this._element=a),this._element.hasAttribute("tabIndex")||(this._element.tabIndex=-1),this._sticky=!1,this._doNext="",this._element.style.visibility="hidden",this._element.style.opacity=0,a.winControl=this,q.addClass(this._element,s.overlayClass),q.addClass(this._element,"win-disposable");var d=this._element.getAttribute("unselectable");null!==d&&void 0!==d||this._element.setAttribute("unselectable","on"),this._currentAnimateIn=this._baseAnimateIn,this._currentAnimateOut=this._baseAnimateOut,this._animationPromise=n.as(),this._queuedToShow=[],this._queuedToHide=[],this._queuedCommandAnimation=!1,c&&p.setOptions(this,c),l._globalEventListeners.initialize()},element:{get:function(){return this._element}},dispose:function(){this._disposed||(this._disposed=!0,this._dispose())},_dispose:function(){},_show:function(){this._baseShow()},_hide:function(){this._baseHide()},hidden:{get:function(){return"hidden"===this._element.style.visibility||"hiding"===this._element.winAnimating||"hide"===this._doNext},set:function(a){var b=this.hidden;!a&&b?this.show():a&&!b&&this.hide()}},addEventListener:function(a,b,c){return this._element.addEventListener(a,b,c)},removeEventListener:function(a,b,c){return this._element.removeEventListener(a,b,c)},_baseShow:function(){if(this._animating||this._needToHandleHidingKeyboard)return this._doNext="show",!1;if("visible"!==this._element.style.visibility){this._element.winAnimating="showing",this._element.style.display="",this._element.style.visibility="hidden",this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),this._beforeShow(),this._sendEvent(l.beforeShow),this._ensurePosition();var a=this;return this._animationPromise=this._currentAnimateIn().then(function(){a._baseEndShow()},function(){a._baseEndShow()}),!0}return!1},_beforeShow:function(){},_ensurePosition:function(){},_baseEndShow:function(){this._disposed||(this._element.setAttribute("aria-hidden","false"),this._element.winAnimating="","show"===this._doNext&&(this._doNext=""),this._sendEvent(l.afterShow),this._writeProfilerMark("show,StopTM"),o.schedule(this._checkDoNext,o.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"))},_baseHide:function(){if(this._animating)return this._doNext="hide",!1;if(this._needToHandleHidingKeyboard&&(this._element.style.visibility=""),"hidden"!==this._element.style.visibility){if(this._element.winAnimating="hiding",this._element.setAttribute("aria-hidden","true"),this._sendEvent(l.beforeHide),""===this._element.style.visibility)this._element.style.opacity=0,this._baseEndHide();else{var a=this;this._animationPromise=this._currentAnimateOut().then(function(){a._baseEndHide()},function(){a._baseEndHide()})}return!0}return!1},_baseEndHide:function(){this._disposed||(this._beforeEndHide(),this._element.style.visibility="hidden",this._element.style.display="none",this._element.winAnimating="",this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),"hide"===this._doNext&&(this._doNext=""),this._afterHide(),this._sendEvent(l.afterHide),this._writeProfilerMark("hide,StopTM"),o.schedule(this._checkDoNext,o.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"))},_beforeEndHide:function(){},_afterHide:function(){},_checkDoNext:function(){this._animating||this._needToHandleHidingKeyboard||this._disposed||("hide"===this._doNext?(this._hide(),this._doNext=""):this._queuedCommandAnimation?this._showAndHideQueue():"show"===this._doNext&&(this._show(),this._doNext=""))},_baseAnimateIn:function(){return this._element.style.opacity=0,this._element.style.visibility="visible",q._getComputedStyle(this._element,null).opacity,k.fadeIn(this._element)},_baseAnimateOut:function(){return this._element.style.opacity=1,q._getComputedStyle(this._element,null).opacity,k.fadeOut(this._element)},_animating:{get:function(){return!!this._element.winAnimating}},_sendEvent:function(a,c){if(!this._disposed){var d=b.document.createEvent("CustomEvent");d.initEvent(a,!0,!0,c||{}),this._element.dispatchEvent(d)}},_showCommands:function(a,b){var c=this._resolveCommands(a);this._showAndHideCommands(c.commands,[],b)},_hideCommands:function(a,b){var c=this._resolveCommands(a);this._showAndHideCommands([],c.commands,b)},_showOnlyCommands:function(a,b){var c=this._resolveCommands(a);this._showAndHideCommands(c.commands,c.others,b)},_showAndHideCommands:function(a,b,c){c||this.hidden&&!this._animating?(this._showAndHideFast(a,b),this._removeFromQueue(a,this._queuedToShow),this._removeFromQueue(b,this._queuedToHide)):(this._updateAnimateQueue(a,this._queuedToShow,this._queuedToHide),this._updateAnimateQueue(b,this._queuedToHide,this._queuedToShow))},_removeFromQueue:function(a,b){var c;for(c=0;c<a.length;c++){var d;for(d=0;d<b.length;d++)if(b[d]===a[c]){b.splice(d,1);break}}},_updateAnimateQueue:function(a,b,c){if(!this._disposed){var d;for(d=0;d<a.length;d++){var e;for(e=0;e<b.length&&b[e]!==a[d];e++);for(e===b.length&&(b[e]=a[d]),e=0;e<c.length;e++)if(c[e]===a[d]){c.splice(e,1);break}}this._queuedCommandAnimation||(this._animating||o.schedule(this._checkDoNext,o.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"),this._queuedCommandAnimation=!0)}},_showAndHideFast:function(a,b){var c,d;for(c=0;c<a.length;c++)(d=a[c])&&d.style&&(d.style.visibility="",d.style.display="");for(c=0;c<b.length;c++)(d=b[c])&&d.style&&(d.style.visibility="hidden",d.style.display="none");this._commandsUpdated()},_showAndHideQueue:function(){if(this._queuedCommandAnimation=!1,this.hidden)this._showAndHideFast(this._queuedToShow,this._queuedToHide),o.schedule(this._checkDoNext,o.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext");else{var a,c=this._queuedToShow,d=this._queuedToHide,e=this._findSiblings(c.concat(d));for(a=0;a<c.length;a++)c[a]&&c[a].style&&b.document.body.contains(c[a])?"hidden"!==c[a].style.visibility&&"0"!==c[a].style.opacity&&(e.push(c[a]),c.splice(a,1),a--):(c.splice(a,1),a--);for(a=0;a<d.length;a++)d[a]&&d[a].style&&b.document.body.contains(d[a])&&"hidden"!==d[a].style.visibility&&"0"!==d[a].style.opacity||(d.splice(a,1),a--);var f=this._baseBeginAnimateCommands(c,d,e),g=this;f?f.done(function(){g._baseEndAnimateCommands(d)},function(){g._baseEndAnimateCommands(d)}):o.schedule(function(){g._baseEndAnimateCommands([])},o.Priority.normal,null,"WinJS.UI._Overlay._endAnimateCommandsWithoutAnimation")}this._queuedToShow=[],this._queuedToHide=[]},_baseBeginAnimateCommands:function(a,b,c){this._beginAnimateCommands(a,b,this._getVisibleCommands(c));var d=null,e=null;b.length>0&&(e=k.createDeleteFromListAnimation(b,0===a.length?c:void 0)),a.length>0&&(d=k.createAddToListAnimation(a,c));for(var f=0,g=b.length;f<g;f++){var h=b[f].getBoundingClientRect(),i=q._getComputedStyle(b[f]);b[f].style.top=h.top-parseFloat(i.marginTop)+"px",b[f].style.left=h.left-parseFloat(i.marginLeft)+"px",b[f].style.opacity=0,b[f].style.position="fixed"}this._element.winAnimating="rearranging";var j=null;for(e&&(j=e.execute()),f=0;f<a.length;f++)a[f].style.visibility="",a[f].style.display="",a[f].style.opacity=1;if(d){var l=d.execute();j=j?n.join([j,l]):l}return j},_beginAnimateCommands:function(){},_getVisibleCommands:function(a){var b,c=a,d=[];c||(c=this.element.querySelectorAll(".win-command"));for(var e=0,f=c.length;e<f;e++)b=c[e].winControl||c[e],b.hidden||d.push(b);return d},_baseEndAnimateCommands:function(a){if(!this._disposed){var b;for(b=0;b<a.length;b++)a[b].style.position="",a[b].style.top="",a[b].style.left="",a[b].getBoundingClientRect(),a[b].style.visibility="hidden",a[b].style.display="none",a[b].style.opacity=1;this._element.winAnimating="",this._endAnimateCommands(),this._checkDoNext()}},_endAnimateCommands:function(){},_resolveCommands:function(a){a=e(a);var b={};b.commands=[],b.others=[];var c,d,f=this.element.querySelectorAll(".win-command");for(c=0;c<f.length;c++){var g=!1;for(d=0;d<a.length;d++)if(a[d]===f[c]){b.commands.push(f[c]),a.splice(d,1),g=!0;break}g||b.others.push(f[c])}return b},_findSiblings:function(a){var b,c,d=[],e=this.element.querySelectorAll(".win-command");for(b=0;b<e.length;b++){var f=!1;for(c=0;c<a.length;c++)if(a[c]===e[b]){a.splice(c,1),f=!0;break}f||d.push(e[b])}return d},_baseResize:function(a){this._resize(a)},_hideOrDismiss:function(){var a=this._element;a&&q.hasClass(a,s.settingsFlyoutClass)?this._dismiss():a&&q.hasClass(a,s.appBarClass)?this.close():this.hide()},_resize:function(){},_commandsUpdated:function(){},_checkScrollPosition:function(){},_showingKeyboard:function(){},_hidingKeyboard:function(){},_verifyCommandsOnly:function(a,b){for(var c=a.children,d=new Array(c.length),e=0;e<c.length;e++){if(!q.hasClass(c[e],"win-command")&&c[e].getAttribute("data-win-control")!==b)throw new f("WinJS.UI._Overlay.MustContainCommands",j.mustContainCommands);m.processAll(c[e]),d[e]=c[e].winControl}return d},_focusOnLastFocusableElementOrThis:function(){this._focusOnLastFocusableElement()||l._trySetActive(this._element)},_focusOnLastFocusableElement:function(){if(this._element.firstElementChild){var a=this._element.firstElementChild.tabIndex,c=this._element.lastElementChild.tabIndex;this._element.firstElementChild.tabIndex=-1,this._element.lastElementChild.tabIndex=-1;var d=q._focusLastFocusableElement(this._element);return d&&l._trySelect(b.document.activeElement),this._element.firstElementChild.tabIndex=a,this._element.lastElementChild.tabIndex=c,d}return!1},_focusOnFirstFocusableElementOrThis:function(){this._focusOnFirstFocusableElement()||l._trySetActive(this._element)},_focusOnFirstFocusableElement:function(a,c){if(this._element.firstElementChild){var d=this._element.firstElementChild.tabIndex,e=this._element.lastElementChild.tabIndex;this._element.firstElementChild.tabIndex=-1,this._element.lastElementChild.tabIndex=-1;var f=q._focusFirstFocusableElement(this._element,a,c);return f&&l._trySelect(b.document.activeElement),this._element.firstElementChild.tabIndex=d,this._element.lastElementChild.tabIndex=e,f}return!1},_writeProfilerMark:function(a){i("WinJS.UI._Overlay:"+this._id+":"+a)}},{_isFlyoutVisible:function(){for(var a=b.document.querySelectorAll("."+s.flyoutClass),c=0;c<a.length;c++){var d=a[c].winControl;if(d&&!d.hidden)return!0}return!1},_trySetActive:function(a,c){return!!(a&&b.document.body&&b.document.body.contains(a))&&(!!q._setActive(a,c)&&a===b.document.activeElement)},_trySelect:function(a){try{a&&a.select&&a.select()}catch(a){}},_sizeOfDocument:function(){return{width:b.document.documentElement.offsetWidth,height:b.document.documentElement.offsetHeight}},_getParentControlUsingClassName:function(a,c){for(;a&&a!==b.document.body;){if(q.hasClass(a,c))return a.winControl;a=a.parentNode}return null},_globalEventListeners:new g,_hideAppBars:function(a,b){var c=a.map(function(a){return a.close(),a._animationPromise});return n.join(c)},_showAppBars:function(a,b){var c=a.map(function(a){return a._show(),a._animationPromise});return n.join(c)},_keyboardInfo:r._KeyboardInfo,_scrollTimeout:r._KeyboardInfo._scrollTimeout,beforeShow:"beforeshow",beforeHide:"beforehide",afterShow:"aftershow",afterHide:"afterhide",commonstrings:{get cannotChangeCommandsWhenVisible(){return"Invalid argument: You must call hide() before changing {0} commands"},get cannotChangeHiddenProperty(){return"Unable to set hidden property while parent {0} is visible."}}});return d.Class.mix(l,p.DOMEventMixin),l})})}),d("WinJS/Controls/Flyout",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../_Signal","../_LightDismissService","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_KeyboardBehavior","../Utilities/_Hoverable","./_LegacyAppBar/_Constants","./Flyout/_Overlay"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{Flyout:c.Namespace._lazy(function(){function a(a,b){return n.convertToPixels(a,n._getComputedStyle(a,null)[b])}function p(b){return{marginTop:a(b,"marginTop"),marginBottom:a(b,"marginBottom"),marginLeft:a(b,"marginLeft"),marginRight:a(b,"marginRight"),totalWidth:n.getTotalWidth(b),totalHeight:n.getTotalHeight(b),contentWidth:n.getContentWidth(b),contentHeight:n.getContentHeight(b)}}var s=n.Key,t={get ariaLabel(){return h._getWinJSString("ui/flyoutAriaLabel").value},get noAnchor(){return"Invalid argument: Flyout anchor element not found in DOM."},get badPlacement(){return"Invalid argument: Flyout placement should be 'top' (default), 'bottom', 'left', 'right', 'auto', 'autohorizontal', or 'autovertical'."},get badAlignment(){return"Invalid argument: Flyout alignment should be 'center' (default), 'left', or 'right'."},get noCoordinates(){return"Invalid argument: Flyout coordinates must contain a valid x,y pair."}},u=f._createEventProperty,v=c.Class.define(function(a){this._onLightDismiss=a,this._currentlyFocusedClient=null,this._clients=[]},{shown:function(a){a._focusable=!0,-1===this._clients.indexOf(a)&&(this._clients.push(a),a.onShow(this),l.isShown(this)?(l.updated(this),this._activateTopFocusableClientIfNeeded()):l.shown(this))},hiding:function(a){var b=this._clients.indexOf(a);-1!==b&&(this._clients[b]._focusable=!1,this._activateTopFocusableClientIfNeeded())},hidden:function(a){var b=this._clients.indexOf(a);-1!==b&&(this._clients.splice(b,1),a.setZIndex(""),a.onHide(),0===this._clients.length?l.hidden(this):(l.updated(this),this._activateTopFocusableClientIfNeeded()))},keyDown:function(a,b){l.keyDown(this,b)},keyUp:function(a,b){l.keyUp(this,b)},keyPress:function(a,b){l.keyPress(this,b)},clients:{get:function(){return this._clients}},_clientForElement:function(a){for(var b=this._clients.length-1;b>=0;b--)if(this._clients[b].containsElement(a))return this._clients[b];return null},_focusableClientForElement:function(a){for(var b=this._clients.length-1;b>=0;b--)if(this._clients[b]._focusable&&this._clients[b].containsElement(a))return this._clients[b];return null},_getTopmostFocusableClient:function(){for(var a=this._clients.length-1;a>=0;a--){var b=this._clients[a];if(b&&b._focusable)return b}return null},_activateTopFocusableClientIfNeeded:function(){var a=this._getTopmostFocusableClient();if(a&&l.isTopmost(this)){var b=!o._keyboardSeenLast;a.onTakeFocus(b)}},setZIndex:function(a){this._clients.forEach(function(b,c){b.setZIndex(a+c)},this)},getZIndexCount:function(){return this._clients.length},containsElement:function(a){return!!this._clientForElement(a)},onTakeFocus:function(a){var c=this._focusableClientForElement(b.document.activeElement);!c&&-1!==this._clients.indexOf(this._currentlyFocusedClient)&&this._currentlyFocusedClient._focusable&&(c=this._currentlyFocusedClient),c||(c=this._getTopmostFocusableClient()),this._currentlyFocusedClient=c,c&&c.onTakeFocus(a)},onFocus:function(a){this._currentlyFocusedClient=this._clientForElement(a),this._currentlyFocusedClient&&this._currentlyFocusedClient.onFocus(a)},onShow:function(a){},onHide:function(){this._currentlyFocusedClient=null},onKeyInStack:function(a){var b=this._clients.indexOf(this._currentlyFocusedClient);if(-1!==b)for(var c=this._clients.slice(0,b+1),d=c.length-1;d>=0&&!a.propagationStopped;d--)c[d]._focusable&&c[d].onKeyInStack(a)},onShouldLightDismiss:function(a){return l.DismissalPolicies.light(a)},onLightDismiss:function(a){this._onLightDismiss(a)}}),w=c.Class.define(function(){var a=this;this._dismissableLayer=new v(function(b){b.reason===l.LightDismissalReasons.escape?a.collapseFlyout(a.getAt(a.length-1)):a.collapseAll()}),this._cascadingStack=[],this._handleKeyDownInCascade_bound=this._handleKeyDownInCascade.bind(this),this._inputType=null},{appendFlyout:function(a){if(g.log&&this.reentrancyLock&&g.log("_CascadeManager is attempting to append a Flyout through reentrancy.","winjs _CascadeManager","error"),this.indexOf(a)<0){var b=this.collapseAll;if(a._positionRequest instanceof y.AnchorPositioning){var c=this.indexOfElement(a._positionRequest.anchor);c>=0&&(b=function(){this.collapseFlyout(this.getAt(c+1))})}b.call(this),a.element.addEventListener("keydown",this._handleKeyDownInCascade_bound,!1),this._cascadingStack.push(a)}},collapseFlyout:function(a){if(!this.reentrancyLock&&a&&this.indexOf(a)>=0){this.reentrancyLock=!0;var b=new k;this.unlocked=b.promise;for(var c;this.length&&a!==c;)c=this._cascadingStack.pop(),c.element.removeEventListener("keydown",this._handleKeyDownInCascade_bound,!1),c._hide();0===this._cascadingStack.length&&(this._inputType=null),this.reentrancyLock=!1,this.unlocked=null,b.complete()}},flyoutShown:function(a){this._dismissableLayer.shown(a._dismissable)},flyoutHiding:function(a){this._dismissableLayer.hiding(a._dismissable)},flyoutHidden:function(a){this._dismissableLayer.hidden(a._dismissable)},collapseAll:function(){var a=this.getAt(0);a&&this.collapseFlyout(a)},indexOf:function(a){return this._cascadingStack.indexOf(a)},indexOfElement:function(a){for(var b=-1,c=0,d=this.length;c<d;c++){if(this.getAt(c).element.contains(a)){b=c;break}}return b},length:{get:function(){return this._cascadingStack.length}},getAt:function(a){return this._cascadingStack[a]},handleFocusIntoFlyout:function(a){var b=this.indexOfElement(a.target);if(b>=0){var c=this.getAt(b+1);this.collapseFlyout(c)}},inputType:{get:function(){return this._inputType||(this._inputType=o._lastInputType),this._inputType}},dismissableLayer:{get:function(){return this._dismissableLayer}},_handleKeyDownInCascade:function(a){var b="rtl"===n._getComputedStyle(a.target).direction,c=b?s.rightArrow:s.leftArrow,d=a.target;if(a.keyCode===c){var e=this.indexOfElement(d);if(e>=1){var f=this.getAt(e);this.collapseFlyout(f),a.preventDefault()}}else a.keyCode!==s.alt&&a.keyCode!==s.F10||this.collapseAll()}}),x={top:{top:"50px",left:"0px",keyframe:"WinJS-showFlyoutTop"},bottom:{top:"-50px",left:"0px",keyframe:"WinJS-showFlyoutBottom"},left:{top:"0px",left:"50px",keyframe:"WinJS-showFlyoutLeft"},right:{top:"0px",left:"-50px",keyframe:"WinJS-showFlyoutRight"}},y={AnchorPositioning:c.Class.define(function(a,c,d){if("string"==typeof a?a=b.document.getElementById(a):a&&a.element&&(a=a.element),!a)throw new e("WinJS.UI.Flyout.NoAnchor",t.noAnchor);this.anchor=a,this.placement=c,this.alignment=d},{getTopLeft:function(a,b){function c(a){h(a)?(y=f(a)-w,s=r._Overlay._keyboardInfo._visibleDocTop,v=x.top):(y=g(a)-w,s=q.pinToBottomEdge,v=x.bottom),u=!0}function d(a,b){return(r._Overlay._keyboardInfo._visibleDocHeight-a.height)/2>=b.totalHeight}function f(a){return a.top-r._Overlay._keyboardInfo._visibleDocTop}function g(a){return r._Overlay._keyboardInfo._visibleDocBottom-a.bottom}function h(a){return f(a)>g(a)}function i(a,b){return s=a-b.totalHeight,v=x.top,s>=r._Overlay._keyboardInfo._visibleDocTop&&s+b.totalHeight<=r._Overlay._keyboardInfo._visibleDocBottom}function j(a,b){return s=a,v=x.bottom,s>=r._Overlay._keyboardInfo._visibleDocTop&&s+b.totalHeight<=r._Overlay._keyboardInfo._visibleDocBottom}function k(a,b){return p=a-b.totalWidth,v=x.left,p>=0&&p+b.totalWidth<=r._Overlay._keyboardInfo._visualViewportWidth}function l(a,b){return p=a,v=x.right,p>=0&&p+b.totalWidth<=r._Overlay._keyboardInfo._visualViewportWidth}function m(a,b){s=a.top+a.height/2-b.totalHeight/2,s<r._Overlay._keyboardInfo._visibleDocTop?s=r._Overlay._keyboardInfo._visibleDocTop:s+b.totalHeight>=r._Overlay._keyboardInfo._visibleDocBottom&&(s=q.pinToBottomEdge)}function n(a,b,c){if("center"===c)p=a.left+a.width/2-b.totalWidth/2;else if("left"===c)p=a.left;else{if("right"!==c)throw new e("WinJS.UI.Flyout.BadAlignment",t.badAlignment);p=a.right-b.totalWidth}p<0?p=0:p+b.totalWidth>=r._Overlay._keyboardInfo._visualViewportWidth&&(p=q.pinToRightEdge)}var o;try{o=this.anchor.getBoundingClientRect()}catch(a){throw new e("WinJS.UI.Flyout.NoAnchor",t.noAnchor)}var p,s,u,v,w=a.totalHeight-a.contentHeight,y=a.contentHeight,z=this.alignment;switch(this.placement){case"top":i(o.top,a)||(s=r._Overlay._keyboardInfo._visibleDocTop,u=!0,y=f(o)-w),n(o,a,z);break;case"bottom":j(o.bottom,a)||(s=q.pinToBottomEdge,u=!0,y=g(o)-w),n(o,a,z);break;case"left":k(o.left,a)||(p=0),m(o,a);break;case"right":l(o.right,a)||(p=q.pinToRightEdge),m(o,a);break;case"autovertical":i(o.top,a)||j(o.bottom,a)||c(o),n(o,a,z);break;case"autohorizontal":k(o.left,a)||l(o.right,a)||(p=q.pinToRightEdge),m(o,a);break;case"auto":d(o,a)?(i(o.top,a)||j(o.bottom,a),n(o,a,z)):k(o.left,a)||l(o.right,a)?m(o,a):(c(o),n(o,a,z));break;case"_cascade":j(o.top-a.marginTop,a)||i(o.bottom+a.marginBottom,a)||m(o,a);var A=3,B=o.right-a.marginLeft-A,C=o.left+a.marginRight+A;b?k(C,a)||l(B,a)||(p=0,v=x.left):l(B,a)||k(C,a)||(p=q.pinToRightEdge,v=x.right);break;default:throw new e("WinJS.UI.Flyout.BadPlacement",t.badPlacement)}return{left:p,top:s,animOffset:v,doesScroll:u,contentHeight:y,verticalMarginBorderPadding:w}}}),CoordinatePositioning:c.Class.define(function(a){if(a.clientX===+a.clientX&&a.clientY===+a.clientY){var b=a;a={x:b.clientX,y:b.clientY}}else if(a.x!==+a.x||a.y!==+a.y)throw new e("WinJS.UI.Flyout.NoCoordinates",t.noCoordinates);this.coordinates=a},{getTopLeft:function(a,b){var c=this.coordinates,d=a.totalWidth-a.marginLeft-a.marginRight,e=b?d:0,f=a.totalHeight-a.contentHeight,g=a.contentHeight,h=c.y-a.marginTop,i=c.x-a.marginLeft-e;return h<0?h=0:h+a.totalHeight>r._Overlay._keyboardInfo._visibleDocBottom&&(h=q.pinToBottomEdge),i<0?i=0:i+a.totalWidth>r._Overlay._keyboardInfo._visualViewportWidth&&(i=q.pinToRightEdge),{left:i,top:h,verticalMarginBorderPadding:f,contentHeight:g,doesScroll:!1,animOffset:x.top}}})},z=c.Class.derive(r._Overlay,function(a,c){c=c||{},this._element=a||b.document.createElement("div"),this._id=this._element.id||n._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),this._baseFlyoutConstructor(this._element,c);var d=this._element.getElementsByTagName("*");return this._addFirstDiv().tabIndex=n._getLowestTabIndexInList(d),this._addFinalDiv().tabIndex=n._getHighestTabIndexInList(d),this._element.addEventListener("keydown",this._handleKeyDown,!0),this._writeProfilerMark("constructor,StopTM"),this},{_lastMaxHeight:null,_baseFlyoutConstructor:function(a,b){this._placement="auto",this._alignment="center",this._baseOverlayConstructor(a,b),this._element.style.visibilty="hidden",this._element.style.display="none",n.addClass(this._element,q.flyoutClass);var c=this;this._dismissable=new l.LightDismissableElement({element:this._element,tabIndex:this._element.hasAttribute("tabIndex")?this._element.tabIndex:-1,onLightDismiss:function(){c.hide()},onTakeFocus:function(a){c._dismissable.restoreFocus()||(n.hasClass(c.element,q.menuClass)?r._Overlay._trySetActive(c._element):c._focusOnFirstFocusableElementOrThis())}});var d=this._element.getAttribute("role");null!==d&&""!==d&&void 0!==d||(n.hasClass(this._element,q.menuClass)?this._element.setAttribute("role","menu"):this._element.setAttribute("role","dialog"));var e=this._element.getAttribute("aria-label");null!==e&&""!==e&&void 0!==e||this._element.setAttribute("aria-label",t.ariaLabel),this._currentAnimateIn=this._flyoutAnimateIn,this._currentAnimateOut=this._flyoutAnimateOut,n._addEventListener(this.element,"focusin",this._handleFocusIn.bind(this),!1)},anchor:{get:function(){return this._anchor},set:function(a){this._anchor=a}},placement:{get:function(){return this._placement},set:function(a){if("top"!==a&&"bottom"!==a&&"left"!==a&&"right"!==a&&"auto"!==a&&"autohorizontal"!==a&&"autovertical"!==a)throw new e("WinJS.UI.Flyout.BadPlacement",t.badPlacement);this._placement=a}},alignment:{get:function(){return this._alignment},set:function(a){if("right"!==a&&"left"!==a&&"center"!==a)throw new e("WinJS.UI.Flyout.BadAlignment",t.badAlignment);this._alignment=a}},disabled:{get:function(){return!!this._element.disabled},set:function(a){a=!!a,!!this._element.disabled!==a&&(this._element.disabled=a,!this.hidden&&this._element.disabled&&this.hide())}},onbeforeshow:u(r._Overlay.beforeShow),onaftershow:u(r._Overlay.afterShow),onbeforehide:u(r._Overlay.beforeHide),onafterhide:u(r._Overlay.afterHide),_dispose:function(){m.disposeSubTree(this.element),this._hide(),z._cascadeManager.flyoutHidden(this),this.anchor=null},show:function(a,b,c){this._writeProfilerMark("show,StartTM"),this._positionRequest=new y.AnchorPositioning(a||this._anchor,b||this._placement,c||this._alignment),this._show()},_show:function(){this._baseFlyoutShow()},showAt:function(a){this._writeProfilerMark("show,StartTM"),this._positionRequest=new y.CoordinatePositioning(a),this._show()},hide:function(){this._writeProfilerMark("hide,StartTM"),this._hide()},_hide:function(){z._cascadeManager.collapseFlyout(this),this._baseHide()&&z._cascadeManager.flyoutHiding(this)},_beforeEndHide:function(){z._cascadeManager.flyoutHidden(this)},_baseFlyoutShow:function(){if(!this.disabled&&!this._disposed)if(z._cascadeManager.appendFlyout(this),this._element.winAnimating)this._doNext="show";else if(z._cascadeManager.reentrancyLock){this._doNext="show";var a=this;z._cascadeManager.unlocked.then(function(){a._checkDoNext()})}else if(this._baseShow()){if(!n.hasClass(this.element,"win-menu")){var b=this._element.getElementsByTagName("*"),c=this.element.querySelectorAll(".win-first");this.element.children.length&&!n.hasClass(this.element.children[0],q.firstDivClass)&&(c&&c.length>0&&c.item(0).parentNode.removeChild(c.item(0)),c=this._addFirstDiv()),c.tabIndex=n._getLowestTabIndexInList(b);var d=this.element.querySelectorAll(".win-final");n.hasClass(this.element.children[this.element.children.length-1],q.finalDivClass)||(d&&d.length>0&&d.item(0).parentNode.removeChild(d.item(0)),d=this._addFinalDiv()),d.tabIndex=n._getHighestTabIndexInList(b)}z._cascadeManager.flyoutShown(this)}},_lightDismiss:function(){z._cascadeManager.collapseAll()},_ensurePosition:function(){this._keyboardMovedUs=!1,this._clearAdjustedStyles(),this._setAlignment();var a=p(this._element),b="rtl"===n._getComputedStyle(this._element).direction;this._currentPosition=this._positionRequest.getTopLeft(a,b),this._currentPosition.top<0?(this._element.style.bottom=r._Overlay._keyboardInfo._visibleDocBottomOffset+"px",this._element.style.top="auto"):(this._element.style.top=this._currentPosition.top+"px",this._element.style.bottom="auto"),this._currentPosition.left<0?(this._element.style.right="0px",this._element.style.left="auto"):(this._element.style.left=this._currentPosition.left+"px",this._element.style.right="auto"),this._currentPosition.doesScroll&&(n.addClass(this._element,q.scrollsClass),this._lastMaxHeight=this._element.style.maxHeight,this._element.style.maxHeight=this._currentPosition.contentHeight+"px"),r._Overlay._keyboardInfo._visible&&(this._checkKeyboardFit(),this._keyboardMovedUs&&this._adjustForKeyboard())},_clearAdjustedStyles:function(){this._element.style.top="0px",this._element.style.bottom="auto",this._element.style.left="0px",this._element.style.right="auto",n.removeClass(this._element,q.scrollsClass),null!==this._lastMaxHeight&&(this._element.style.maxHeight=this._lastMaxHeight,this._lastMaxHeight=null),n.removeClass(this._element,"win-rightalign"),n.removeClass(this._element,"win-leftalign")},_setAlignment:function(){switch(this._positionRequest.alignment){case"left":n.addClass(this._element,"win-leftalign");break;case"right":n.addClass(this._element,"win-rightalign")}},_showingKeyboard:function(a){if(!this.hidden&&(a.ensuredFocusedElementInView=!0,this._checkKeyboardFit(),this._keyboardMovedUs)){this._element.style.opacity=0;var c=this;b.setTimeout(function(){c._adjustForKeyboard(),c._baseAnimateIn()},r._Overlay._keyboardInfo._animationShowLength)}},_resize:function(){if((!this.hidden||this._animating)&&this._needToHandleHidingKeyboard){var a=this;d._setImmediate(function(){a.hidden&&!a._animating||a._ensurePosition()}),this._needToHandleHidingKeyboard=!1}},_checkKeyboardFit:function(){var a=!1,b=r._Overlay._keyboardInfo._visibleDocHeight,c=this._currentPosition.contentHeight+this._currentPosition.verticalMarginBorderPadding;c>b?(a=!0,this._currentPosition.top=q.pinToBottomEdge,this._currentPosition.contentHeight=b-this._currentPosition.verticalMarginBorderPadding,this._currentPosition.doesScroll=!0):this._currentPosition.top>=0&&this._currentPosition.top+c>r._Overlay._keyboardInfo._visibleDocBottom?(this._currentPosition.top=q.pinToBottomEdge,a=!0):this._currentPosition.top===q.pinToBottomEdge&&(a=!0),this._keyboardMovedUs=a},_adjustForKeyboard:function(){this._currentPosition.doesScroll&&(this._lastMaxHeight||(n.addClass(this._element,q.scrollsClass),this._lastMaxHeight=this._element.style.maxHeight),this._element.style.maxHeight=this._currentPosition.contentHeight+"px"),this._checkScrollPosition(!0)},_hidingKeyboard:function(){if(!this.hidden||this._animating)if(r._Overlay._keyboardInfo._isResized)this._needToHandleHidingKeyboard=!0;else{var a=this;d._setImmediate(function(){a.hidden&&!a._animating||a._ensurePosition()})}},_checkScrollPosition:function(a){this.hidden&&!a||void 0!==this._currentPosition&&(this._currentPosition.top<0?(this._element.style.bottom=r._Overlay._keyboardInfo._visibleDocBottomOffset+"px",this._element.style.top="auto"):(this._element.style.top=this._currentPosition.top+"px",this._element.style.bottom="auto"))},_flyoutAnimateIn:function(){return this._keyboardMovedUs?this._baseAnimateIn():(this._element.style.opacity=1,this._element.style.visibility="visible",j.showPopup(this._element,void 0!==this._currentPosition?this._currentPosition.animOffset:0))},_flyoutAnimateOut:function(){return this._keyboardMovedUs?this._baseAnimateOut():(this._element.style.opacity=0,j.hidePopup(this._element,void 0!==this._currentPosition?this._currentPosition.animOffset:0))},_hideAllOtherFlyouts:function(a){for(var c=b.document.querySelectorAll("."+q.flyoutClass),d=0;d<c.length;d++){var e=c[d].winControl;e&&!e.hidden&&e!==a&&e.hide()}},_handleKeyDown:function(a){a.keyCode!==s.space&&a.keyCode!==s.enter||this!==b.document.activeElement?!a.shiftKey||a.keyCode!==s.tab||this!==b.document.activeElement||a.altKey||a.ctrlKey||a.metaKey||(a.preventDefault(),a.stopPropagation(),this.winControl._focusOnLastFocusableElementOrThis()):(a.preventDefault(),a.stopPropagation(),this.winControl.hide())},_handleFocusIn:function(a){this.element.contains(a.relatedTarget)||z._cascadeManager.handleFocusIntoFlyout(a)},_addFirstDiv:function(){var a=b.document.createElement("div");a.className=q.firstDivClass,a.style.display="inline",a.setAttribute("role","menuitem"),a.setAttribute("aria-hidden","true"),this._element.children[0]?this._element.insertBefore(a,this._element.children[0]):this._element.appendChild(a);var c=this;return n._addEventListener(a,"focusin",function(){c._focusOnLastFocusableElementOrThis()},!1),a},_addFinalDiv:function(){var a=b.document.createElement("div");a.className=q.finalDivClass,a.style.display="inline",a.setAttribute("role","menuitem"),a.setAttribute("aria-hidden","true"),this._element.appendChild(a);var c=this;return n._addEventListener(a,"focusin",function(){c._focusOnFirstFocusableElementOrThis()},!1),a},_writeProfilerMark:function(a){i("WinJS.UI.Flyout:"+this._id+":"+a)}},{_cascadeManager:new w});return z})})}),d("require-style!less/styles-contentdialog",[],function(){}),d("require-style!less/colors-contentdialog",[],function(){}),d("WinJS/Controls/ContentDialog",["../Application","../Utilities/_Dispose","../_Accents","../Promise","../_Signal","../_LightDismissService","../Core/_BaseUtils","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_Events","../Core/_ErrorFromName","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_KeyboardInfo","../Utilities/_Hoverable","../Animations","require-style!less/styles-contentdialog","require-style!less/colors-contentdialog"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";c.createAccentRule(".win-contentdialog-dialog",[{name:"outline-color",value:c.ColorTypes.accent}]),j.Namespace.define("WinJS.UI",{ContentDialog:j.Namespace._lazy(function(){function a(a){if(void 0===u){var b=h.document.createElement("div");b.style.position="-ms-device-fixed",u="-ms-device-fixed"===o._getComputedStyle(b).position}return u}function c(a){return d._cancelBlocker(a,function(){a.cancel()})}function i(a){a.ensuredFocusedElementInView=!0,this.dialog._renderForInputPane(a.occludedRect.height)}function m(){this.dialog._clearInputPaneRendering()}function q(){}function s(a,b){a._interruptibleWorkPromises=a._interruptibleWorkPromises||[];var c=new e;a._interruptibleWorkPromises.push(b(a,c.promise)),c.complete()}function t(){(this._interruptibleWorkPromises||[]).forEach(function(a){a.cancel()})}var u,v={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get controlDisposed(){return"Cannot interact with the control after it has been disposed"},get contentDialogAlreadyShowing(){return"Cannot show a ContentDialog if there is already a ContentDialog that is showing"}},w={none:"none",primary:"primary",secondary:"secondary"},x={contentDialog:"win-contentdialog",backgroundOverlay:"win-contentdialog-backgroundoverlay",dialog:"win-contentdialog-dialog",title:"win-contentdialog-title",content:"win-contentdialog-content",commands:"win-contentdialog-commands",primaryCommand:"win-contentdialog-primarycommand",secondaryCommand:"win-contentdialog-secondarycommand",_verticalAlignment:"win-contentdialog-verticalalignment",_scroller:"win-contentdialog-scroller",_column0or1:"win-contentdialog-column0or1",_visible:"win-contentdialog-visible",_tabStop:"win-contentdialog-tabstop",_commandSpacer:"win-contentdialog-commandspacer",_deviceFixedSupported:"win-contentdialog-devicefixedsupported"},y={beforeShow:"beforeshow",afterShow:"aftershow",beforeHide:"beforehide",afterHide:"afterhide"},z={Init:j.Class.define(null,{name:"Init",hidden:!0,enter:function(){var a=this.dialog;a._dismissable=new f.ModalElement({element:a._dom.root,tabIndex:a._dom.root.hasAttribute("tabIndex")?a._dom.root.tabIndex:-1,onLightDismiss:function(){a.hide(w.none)},onTakeFocus:function(b){a._dismissable.restoreFocus()||o._tryFocusOnAnyElement(a._dom.dialog,b)}}),this.dialog._dismissedSignal=null,this.dialog._setState(z.Hidden,!1)},exit:q,show:function(){throw"It's illegal to call show on the Init state"},hide:q,onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q}),Hidden:j.Class.define(null,{name:"Hidden",hidden:!0,enter:function(a){a&&this.show()},exit:q,show:function(){var a=this.dialog._dismissedSignal=new e;return this.dialog._setState(z.BeforeShow),a.promise},hide:q,onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q}),BeforeShow:j.Class.define(null,{name:"BeforeShow",hidden:!0,enter:function(){s(this,function(a,b){return b.then(function(){return a.dialog._fireBeforeShow()}).then(function(b){return b||a.dialog._cancelDismissalPromise(null),b}).then(function(b){b?a.dialog._setState(z.Showing):a.dialog._setState(z.Hidden,!1)})})},exit:t,show:function(){return d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing))},hide:q,onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q}),Showing:j.Class.define(null,{name:"Showing",hidden:{get:function(){return!!this._pendingHide}},enter:function(){s(this,function(a,b){return b.then(function(){return a._pendingHide=null,o.addClass(a.dialog._dom.root,x._visible),a.dialog._addExternalListeners(),p._KeyboardInfo._visible&&a.dialog._renderForInputPane(),f.shown(a.dialog._dismissable),a.dialog._playEntranceAnimation()}).then(function(){a.dialog._fireEvent(y.afterShow)}).then(function(){a.dialog._setState(z.Shown,a._pendingHide)})})},exit:t,show:function(){if(this._pendingHide){var a=this._pendingHide.dismissalResult;return this._pendingHide=null,this.dialog._resetDismissalPromise(a,new e).promise}return d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing))},hide:function(a){this._pendingHide={dismissalResult:a}},onCommandClicked:q,onInputPaneShown:i,onInputPaneHidden:m}),Shown:j.Class.define(null,{name:"Shown",hidden:!1,enter:function(a){a&&this.hide(a.dismissalResult)},exit:q,show:function(){return d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing))},hide:function(a){this.dialog._setState(z.BeforeHide,a)},onCommandClicked:function(a){this.hide(a)},onInputPaneShown:i,onInputPaneHidden:m}),BeforeHide:j.Class.define(null,{name:"BeforeHide",hidden:!1,enter:function(a){s(this,function(b,c){return c.then(function(){return b.dialog._fireBeforeHide(a)}).then(function(c){c?b.dialog._setState(z.Hiding,a):b.dialog._setState(z.Shown,null)})})},exit:t,show:function(){return d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing))},hide:q,onCommandClicked:q,onInputPaneShown:i,onInputPaneHidden:m}),Hiding:j.Class.define(null,{name:"Hiding",hidden:{get:function(){return!this._showIsPending}},enter:function(a){s(this,function(b,c){return c.then(function(){b._showIsPending=!1,b.dialog._resetDismissalPromise(a,null)}).then(function(){return b.dialog._playExitAnimation()}).then(function(){b.dialog._removeExternalListeners(),f.hidden(b.dialog._dismissable),o.removeClass(b.dialog._dom.root,x._visible),b.dialog._clearInputPaneRendering(),b.dialog._fireAfterHide(a)}).then(function(){b.dialog._setState(z.Hidden,b._showIsPending)})})},exit:t,show:function(){return this._showIsPending?d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing)):(this._showIsPending=!0,this.dialog._dismissedSignal=new e,this.dialog._dismissedSignal.promise)},hide:function(a){this._showIsPending&&(this._showIsPending=!1,this.dialog._resetDismissalPromise(a,null))},onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q}),Disposed:j.Class.define(null,{name:"Disposed",hidden:!0,enter:function(){f.hidden(this.dialog._dismissable),this.dialog._removeExternalListeners(),this.dialog._dismissedSignal&&this.dialog._dismissedSignal.error(new l("WinJS.UI.ContentDialog.ControlDisposed",v.controlDisposed))},exit:q,show:function(){return d.wrapError(new l("WinJS.UI.ContentDialog.ControlDisposed",v.controlDisposed))},hide:q,onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q})},A=j.Class.define(function(a,b){if(a&&a.winControl)throw new l("WinJS.UI.ContentDialog.DuplicateConstruction",v.duplicateConstruction);b=b||{},this._onInputPaneShownBound=this._onInputPaneShown.bind(this),this._onInputPaneHiddenBound=this._onInputPaneHidden.bind(this),this._onUpdateInputPaneRenderingBound=this._onUpdateInputPaneRendering.bind(this),this._disposed=!1,this._currentFocus=null,this._rendered={registeredForResize:!1,resizedForInputPane:!1,top:"",bottom:""},this._initializeDom(a||h.document.createElement("div")),this._setState(z.Init),this.title="",this.primaryCommandText="",this.primaryCommandDisabled=!1,this.secondaryCommandText="",this.secondaryCommandDisabled=!1,n.setOptions(this,b)},{element:{get:function(){return this._dom.root}},title:{get:function(){return this._title},set:function(a){a=a||"",this._title!==a&&(this._title=a,this._dom.title.textContent=a,this._dom.title.style.display=a?"":"none")}},primaryCommandText:{get:function(){return this._primaryCommandText},set:function(a){a=a||"",this._primaryCommandText!==a&&(this._primaryCommandText=a,this._dom.commands[0].textContent=a,this._updateCommandsUI())}},secondaryCommandText:{get:function(){return this._secondaryCommandText},set:function(a){a=a||"",this._secondaryCommandText!==a&&(this._secondaryCommandText=a,this._dom.commands[1].textContent=a,this._updateCommandsUI())}},primaryCommandDisabled:{get:function(){return this._primaryCommandDisabled},set:function(a){a=!!a,this._primaryCommandDisabled!==a&&(this._primaryCommandDisabled=a,this._dom.commands[0].disabled=a)}},secondaryCommandDisabled:{get:function(){return this._secondaryCommandDisabled},set:function(a){a=!!a,this._secondaryCommandDisabled!==a&&(this._secondaryCommandDisabled=a,this._dom.commands[1].disabled=a)}},hidden:{get:function(){return this._state.hidden},set:function(a){if(!a&&this._state.hidden){var b=function(){};this.show().done(b,b)}else a&&!this._state.hidden&&this.hide(w.none)}},dispose:function(){this._disposed||(this._setState(z.Disposed),this._disposed=!0,o._resizeNotifier.unsubscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),b._disposeElement(this._dom.content))},show:function(){return this._state.show()},hide:function(a){this._state.hide(void 0===a?w.none:a)},_initializeDom:function(b){var c=h.document.createElement("div");c.className=x.content,o._reparentChildren(b,c),b.winControl=this,o.addClass(b,x.contentDialog),o.addClass(b,x._verticalAlignment),o.addClass(b,"win-disposable"),b.innerHTML='<div class="'+x.backgroundOverlay+'"></div><div class="'+x._tabStop+'"></div><div tabindex="-1" role="dialog" class="'+x.dialog+'"><h2 class="'+x.title+'" role="heading"></h2><div class="'+x._scroller+'"></div><div class="'+x.commands+'"><button type="button" class="'+x._commandSpacer+' win-button"></button><button type="button" class="'+x.primaryCommand+' win-button"></button><button type="button" class="'+x.secondaryCommand+' win-button"></button></div></div><div class="'+x._tabStop+'"></div><div class="'+x._column0or1+'"></div>';var d={};d.root=b,d.backgroundOverlay=d.root.firstElementChild,d.startBodyTab=d.backgroundOverlay.nextElementSibling,d.dialog=d.startBodyTab.nextElementSibling,d.title=d.dialog.firstElementChild,d.scroller=d.title.nextElementSibling,d.commandContainer=d.scroller.nextElementSibling,d.commandSpacer=d.commandContainer.firstElementChild,d.commands=[],d.commands.push(d.commandSpacer.nextElementSibling),d.commands.push(d.commands[0].nextElementSibling),d.endBodyTab=d.dialog.nextElementSibling,d.content=c,this._dom=d,d.scroller.appendChild(d.content),o._ensureId(d.title),o._ensureId(d.startBodyTab),o._ensureId(d.endBodyTab),d.dialog.setAttribute("aria-labelledby",d.title.id),d.startBodyTab.setAttribute("x-ms-aria-flowfrom",d.endBodyTab.id),d.endBodyTab.setAttribute("aria-flowto",d.startBodyTab.id),this._updateTabIndices(),d.root.addEventListener("keydown",this._onKeyDownEnteringElement.bind(this),!0),o._addEventListener(d.root,"pointerdown",this._onPointerDown.bind(this)),o._addEventListener(d.root,"pointerup",this._onPointerUp.bind(this)),d.root.addEventListener("click",this._onClick.bind(this)),o._addEventListener(d.startBodyTab,"focusin",this._onStartBodyTabFocusIn.bind(this)),o._addEventListener(d.endBodyTab,"focusin",this._onEndBodyTabFocusIn.bind(this)),d.commands[0].addEventListener("click",this._onCommandClicked.bind(this,w.primary)),d.commands[1].addEventListener("click",this._onCommandClicked.bind(this,w.secondary)),a()&&o.addClass(d.root,x._deviceFixedSupported)},_updateCommandsUI:function(){this._dom.commands[0].style.display=this.primaryCommandText?"":"none",this._dom.commands[1].style.display=this.secondaryCommandText?"":"none",this._dom.commandSpacer.style.display=this.primaryCommandText&&!this.secondaryCommandText||!this.primaryCommandText&&this.secondaryCommandText?"":"none"},_updateTabIndices:function(){this._updateTabIndicesThrottled||(this._updateTabIndicesThrottled=g._throttledFunction(100,this._updateTabIndicesImpl.bind(this))),this._updateTabIndicesThrottled()},_updateTabIndicesImpl:function(){var a=o._getHighAndLowTabIndices(this._dom.content);this._dom.startBodyTab.tabIndex=a.lowest,this._dom.commands[0].tabIndex=a.highest,this._dom.commands[1].tabIndex=a.highest,this._dom.endBodyTab.tabIndex=a.highest},_elementInDialog:function(a){return this._dom.dialog.contains(a)||a===this._dom.startBodyTab||a===this._dom.endBodyTab},_onCommandClicked:function(a){this._state.onCommandClicked(a)},_onPointerDown:function(a){a.stopPropagation(),this._elementInDialog(a.target)||a.preventDefault()},_onPointerUp:function(a){a.stopPropagation(),this._elementInDialog(a.target)||a.preventDefault()},_onClick:function(a){a.stopPropagation(),this._elementInDialog(a.target)||a.preventDefault()},_onKeyDownEnteringElement:function(a){a.keyCode===o.Key.tab&&this._updateTabIndices()},_onStartBodyTabFocusIn:function(){o._focusLastFocusableElement(this._dom.dialog)},_onEndBodyTabFocusIn:function(){o._focusFirstFocusableElement(this._dom.dialog)},_onInputPaneShown:function(a){this._state.onInputPaneShown(a.detail.originalEvent)},_onInputPaneHidden:function(){this._state.onInputPaneHidden()},_onUpdateInputPaneRendering:function(){this._renderForInputPane()},_setState:function(a,b){this._disposed||(this._state&&this._state.exit(),this._state=new a,this._state.dialog=this,this._state.enter(b))},_resetDismissalPromise:function(a,b){var c=this._dismissedSignal,d=this._dismissedSignal=b;return c.complete({result:a}),d},_cancelDismissalPromise:function(a){var b=this._dismissedSignal,c=this._dismissedSignal=a;return b.cancel(),c},_fireEvent:function(a,b){b=b||{};var c=b.detail||null,d=!!b.cancelable,e=h.document.createEvent("CustomEvent");return e.initCustomEvent(a,!0,d,c),this._dom.root.dispatchEvent(e)},_fireBeforeShow:function(){return this._fireEvent(y.beforeShow,{cancelable:!0})},_fireBeforeHide:function(a){return this._fireEvent(y.beforeHide,{detail:{result:a},cancelable:!0})},_fireAfterHide:function(a){this._fireEvent(y.afterHide,{detail:{result:a}})},_playEntranceAnimation:function(){return c(r.fadeIn(this._dom.root))},_playExitAnimation:function(){return c(r.fadeOut(this._dom.root))},_addExternalListeners:function(){o._inputPaneListener.addEventListener(this._dom.root,"showing",this._onInputPaneShownBound),o._inputPaneListener.addEventListener(this._dom.root,"hiding",this._onInputPaneHiddenBound)},_removeExternalListeners:function(){o._inputPaneListener.removeEventListener(this._dom.root,"showing",this._onInputPaneShownBound),o._inputPaneListener.removeEventListener(this._dom.root,"hiding",this._onInputPaneHiddenBound)},_shouldResizeForInputPane:function(){if(this._rendered.resizedForInputPane)return!0;var a=this._dom.dialog.getBoundingClientRect();return p._KeyboardInfo._visibleDocTop>a.top||p._KeyboardInfo._visibleDocBottom<a.bottom},_renderForInputPane:function(){var a=this._rendered;if(a.registeredForResize||(o._resizeNotifier.subscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),a.registeredForResize=!0),this._shouldResizeForInputPane()){var b=p._KeyboardInfo._visibleDocTop+"px",c=p._KeyboardInfo._visibleDocBottomOffset+"px";if(a.top!==b&&(this._dom.root.style.top=b,a.top=b),a.bottom!==c&&(this._dom.root.style.bottom=c,a.bottom=c),!a.resizedForInputPane){this._dom.scroller.insertBefore(this._dom.title,this._dom.content),this._dom.root.style.height="auto";var d=h.document.activeElement;d&&this._dom.scroller.contains(d)&&d.scrollIntoView(),a.resizedForInputPane=!0}}},_clearInputPaneRendering:function(){var a=this._rendered;a.registeredForResize&&(o._resizeNotifier.unsubscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),a.registeredForResize=!1),""!==a.top&&(this._dom.root.style.top="",a.top=""),""!==a.bottom&&(this._dom.root.style.bottom="",a.bottom=""),a.resizedForInputPane&&(this._dom.dialog.insertBefore(this._dom.title,this._dom.scroller),this._dom.root.style.height="",a.resizedForInputPane=!1)}},{DismissalResult:w,_ClassNames:x});return j.Class.mix(A,k.createEventProperties("beforeshow","aftershow","beforehide","afterhide")),j.Class.mix(A,n.DOMEventMixin),A})})}),d("ui",["WinJS/Core/_WinJS","WinJS/Controls/IntrinsicControls","WinJS/Controls/ListView","WinJS/Controls/TimePicker","WinJS/Controls/ToggleSwitch","WinJS/Controls/Flyout","WinJS/Controls/ContentDialog"],function(a){"use strict";return a}),c(["WinJS/Core/_WinJS","ui"],function(b){a.WinJS=b,"undefined"!=typeof module&&(module.exports=b)}),a.WinJS})}();
            .template-input.inputType_checkbox,
        .haveMultipleChildren > .inputType_text {
        .haveMultipleChildren > .inputType_email {
        .haveMultipleChildren > .inputType_select {
            this.inputType = params.inputType || "text";
                        <div class="template-input inputType_checkbox" style="margin: 0 auto">
                            <div class="template-input inputType_checkbox" style="display: flex; min-width: 0; width: auto; margin: 0 auto">
                    <div class="template-input inputType_checkbox">
                    <div class="template-input inputType_checkbox">
                                        inputType: $data.inputType,
                                        inputType: $data.inputType,
                                                        placeholderResourceId: 'PasswordPlaceHolder', inputType: 'password',
                                                        placeholderResourceId: 'PasswordConfirmPlaceHolder', inputType: 'password',
                             type: inputType,
            this.inputType = params.inputType || "text";
           data-bind="attr:{'aria-label': ariaLabel, placeholder: placeHolder, maxLength: maxLength, type: inputType, autofocus: autoFocus, id: id}, textInput: inputText, hasFocus: hasFocus, disable: disable" />
"||t.RuntimeConfig.QfMode==2)&&(n.reformulate(""),b.setFocusInSearchBox("clear search box"),y.logClientInstEvent("Select","ClearSearchBox",null))}),n.bindScopeListRequiresUpdate(function(){b.init();b._currentQuery&&b.renderScopes(!0)}),n.bindOnFeedbackClosing(function(n){!n&&t.RuntimeConfig.AlwaysWide&&_ge(r).focus()}),this._substrateUpsellDismiss={action:function(){b._upsellGotDismissed=!0;w.setItem(u,"1");n.refreshCurrentPane()},icon:{content:"&#xE711",type:2}},l&&l.bindRewardsBadgeUpdated(function(){b._currentQuery&&b.renderScopes(!0)}))}return h.prototype.focusNextScopeTile=function(n,i){var r=[].slice.call(this._scopesHeaderElement.getElementsByClassName("scopeTile")),u=t.shouldSkipSelectedScope()?r.filter(function(n){return!n.classList.contains("selectedScope")}):r;this._currentScopeTileIndex=u.indexOf(n);i?this._currentScopeTileIndex!=u.length-1&&++this._currentScopeTileIndex:this._currentScopeTileIndex>0&&--this._currentScopeTileIndex;t.shouldSkipSelectedScope()&&(this._currentScopeTileIndex=r.indexOf(u[this._currentScopeTileIndex]));this._menuFactory.dismiss();r[this._currentScopeTileIndex].focus()},h.prototype.render=function(n,i,r,u,f){if(t.config.renderScopeBarOnAppShown||(this._currentQuery=n),n){var e=t.getEffectiveScope(n);this.innerRender(n.scope,e,n,i,r,u,f)}else this.cleanUp()},h.prototype.getScopeToolTip=function(n,i){var u=t.ScopeConfig[n],f=t.getScopeDisplayName(u,this._host),r;return r=i&&!this._allScopeButtonPresent?"RemovingScopeNarratorText2":n==t.Scope.All?"AddingScopeNarratorTextAll2":"AddingScopeNarratorText",this._host.getLocString(r,f.toLocaleLowerCase())},h.prototype.selectScope=function(n){var i,r,t;for(this._selectedScope&&(this._selectedScope.tooltip=this.getScopeToolTip(this._selectedScope.type,!1),this._selectedScope.enabled=!1,this._selectedScope=null),i=0,r=this._scopeTiles;i<r.length;i++)if(t=r[i],t.enabled=t.type==n,t.enabled){t.tooltip=this.getScopeToolTip(n,!0);this._selectedScope=t;break}},h.prototype.innerRender=function(n,i,r,u,f,e,o){this._topHitPresent=u;this._resultsPresent=f;this.renderTopHitHeader(n,i,r,f,e,o);t.RuntimeConfig.ScopesAvailable&&(this._scopeTiles||this.init(),this._scopeTiles&&(!this._selectedScope||this._selectedScope.type!=n)&&this.selectScope(n),this.renderScopes(!0))},h.prototype.renderTopHitHeader=function(n,i,r,u,f,e){var o=t.ScopeConfig[i],l=r.showProgressBar?e:!f,a=!r||!r.queryToFetch,v=this.getEmptyResultsMessage(u,l,a,i,o),s=v[0],h=v[1],c=l||a||u||!this._lastRenderedTopHitHeader||t.uses3lineTemplate(i)?this.getHeaderText(i,o):this._lastRenderedTopHitHeader.headerText,y;(this._advancedOptionsScope=t.RuntimeConfig.ScopesAvailable&&o.showUpsellOnSuggestionsList&&o.showUpsellOnSuggestionsList()?this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),0):[],t.RuntimeConfig.AlwaysWide&&(this._advancedOptionsScope=this._advancedOptionsScope.concat(this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),1))),this._lastRenderedTopHitHeader&&this._lastRenderedTopHitHeader.scope==n&&this._lastRenderedTopHitHeader.message==s&&this._lastRenderedTopHitHeader.subMessage==h&&this._lastRenderedTopHitHeader.headerText==c&&this._lastRenderedTopHitHeader.advancedOptions==this._advancedOptionsScope)||(this._lastRenderedTopHitHeader={scope:n,headerText:c,message:s,subMessage:h,advancedOptions:this._advancedOptionsScope,scopeForDisplay:i},y={headerText:c,message:s,subMessage:h,messageIcon:s?o.icon:null,advancedOptions:this._advancedOptionsScope},this._page.updateTopHitHeaderView(y))},h.prototype.updateTopHitHeader=function(){if(this._lastRenderedTopHitHeader){var n=t.ScopeConfig[this._lastRenderedTopHitHeader.scopeForDisplay],i={headerText:this._lastRenderedTopHitHeader.headerText,message:this._lastRenderedTopHitHeader.message,subMessage:this._lastRenderedTopHitHeader.subMessage,messageIcon:this._lastRenderedTopHitHeader.message?n.icon:null,advancedOptions:this._advancedOptionsScope};this._page.updateTopHitHeaderView(i)}},h.prototype.renderScopes=function(n){var i=this,r;if(n){var u=this.getScopeBarElements(),f=this.getHiddenScopeElements(u)||[],e=t.config.userProfileButtonEnabled?this.getUserProfileButtonData():[null,null],o=e[0],s=e[1];r={scopes:u,showFeedback:this.isFeedbackEnabled()?function(){return i.showFeedback()}:null,rewardsBadgeDataModel:this._msRewardsViewModel&&this._msRewardsViewModel.getDataModel(),moreMenuDataModel:f.length>0?{opened:this._moreMenuOpened,buttonClickHandler:function(){return i._moreMenuOpened?i.closeMoreMenuDropDown():i.openMoreMenuDropDown(f)}}:null,optionsMenuDataModel:{opened:this._optionsMenuOpened,buttonClickHandler:function(){return i._optionsMenuOpened?i.closeOptionsMenuDropDown():i.openOptionsMenuDropDown()}},userProfileButtonDataModel:t.config.userProfileButtonEnabled&&o?{opened:this._userProfileMenuOpened,buttonClickHandler:function(){return i._userProfileMenuOpened?i.closeUserProfileDropDown():i.openUserProfileDropDown()},icon:o,userName:s}:null,lockscreenMenuDataModel:{opened:this._lockscreenMenuOpened,buttonClickHandler:function(){return i._lockscreenMenuOpened?i.closeLockscreenMenuDropDown():i.openLockscreenMenuDropDown()}}}}this._page.updateScopesHeaderView(r)},h.prototype.openMoreMenuDropDown=function(t){var i=this;this._page.ensureWebViewHeightExpanded();this._menuFactory.showDropdownMenu(t,document.getElementById(this._moreButton.id),1,function(){n.safeSetTimeout(function(){return i.closeMoreMenuDropDown()},0,"closeMoreMenuDropDown")});this._moreMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeMoreMenuDropDown=function(){this._moreMenuOpened=!1;this.renderScopes(!0)},h.prototype.openOptionsMenuDropDown=function(){var u=this,i,r;this._page.ensureWebViewHeightExpanded();i=t.RuntimeConfig.AlwaysWide?1:2;r=this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),i);this._menuFactory.showDropdownMenu(r,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return u.closeOptionsMenuDropDown()},0,"closeOptionsMenuDropDown")});this._optionsMenuOpened=!0;this.renderScopes(!0)},h.prototype.openLockscreenMenuDropDown=function(){var r=this,t,i;this._page.ensureWebViewHeightExpanded();t=4;i=this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),t);this._menuFactory.showDropdownMenu(i,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return r.closeLockscreenMenuDropDown()},0,"closeLockscreenMenuDropDown")});this._lockscreenMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeOptionsMenuDropDown=function(){this._optionsMenuOpened=!1;this.renderScopes(!0)},h.prototype.closeLockscreenMenuDropDown=function(){this._lockscreenMenuOpened=!1;this.renderScopes(!0)},h.prototype.openUserProfileDropDown=function(){var t=this,i=this.getAccountOptionsForUserProfileButton(this._sequenceNumberReader.getSequenceNumber());this._menuFactory.showDropdownMenu(i,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return t.closeUserProfileDropDown()},0,"closeUserProfileDropDown")});this._userProfileMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeUserProfileDropDown=function(){this._userProfileMenuOpened=!1;this.renderScopes(!0)},h.prototype.cleanUp=function(){this._lastRenderedTopHitHeader=null;this._page.updateTopHitHeaderView(null);this._page.updateScopesHeaderView(null)},h.prototype.scopeNamesElements=function(n){var i=this;return n.map(function(n){return i._scopeTiles.find(function(i){return t.Scope[i.type]==n})}).filter(function(n){return!!n})},h.prototype.getEffectiveScopeOrder=function(){var i,r,o,n,u,s,e;if(!this._scopeTiles||this._scopeTiles.length==0)return[];if(this._effectiveScopeOrder&&!t.config.pathCompletionReplacesAll)return this._effectiveScopeOrder.slice(0);if(t.RuntimeConfig.AlwaysWide?(i=t.config.scopesOrderBeginAlwaysWide,r=t.config.scopesOrderLastAlwaysWide,o=t.config.numberOfScopesToRenderAlwaysWide):(i=t.config.scopesOrderBegin,r=t.config.scopesOrderLast,o=t.config.numberOfScopesToRender),n=[],i){if(t.config.pathCompletionReplacesAll&&(r=r.filter(function(n){return n!="PathCompletion"}),this._currentQuery&&this._currentQuery.canBePathCompletion&&(i=i.map(function(n){return n=="All"?"PathCompletion":n}))),u=r?this.scopeNamesElements(r):[],n=this.scopeNamesElements(i),t.RuntimeConfig.AlwaysWide){var f=0,h=10,c=26,l=t.config.scopeMenuWidth*this._scopesHeaderElement.clientWidth;for(s=0;s<u.length;s++)f+=u[s].text.length*h+c;for(l-=f,f=0,e=0;e<n.length;e++)if(f+=n[e].text.length*h+c,f>l)break;o=e+u.length}n=n.slice(0,o-u.length);n.push.apply(n,u)}return this._effectiveScopeOrder=n,n.slice(0)},h.prototype.getHiddenScopeElements=function(n){return this._moreScopeTiles?this._moreScopeTiles.filter(function(i){return n.find(function(n){return n.type==i.type})==undefined&&t.Scope[i.type]!="PathCompletion"&&t.Scope[i.type]!="All"}):[]},h.prototype.getScopeBarElements=function(){var u=this,n,i,r;return this._scopeTiles?(n=this.getEffectiveScopeOrder(),i=n.some(function(n){return n.enabled}),!i&&this._selectedScope&&(t.config.pathCompletionReplacesAll&&t.Scope[this._selectedScope.type]=="PathCompletion"||(r=this._scopeTiles.find(function(n){return n.type==u._selectedScope.type}),n.push(r),i=!0)),n):[]},h.prototype.isFeedbackEnabled=function(){return n.isBingEnabledByClient()},h.prototype.showFeedback=function(){this._page.ensureWebViewHeightExpanded();typeof WindowsFeedbackForm!="undefined"&&WindowsFeedbackForm.Show("")},h.prototype.getHeaderText=function(n,i){var r,u;if(t.RuntimeConfig.FlatListWithoutGroups||t.config.hideBestMatchTag)return null;if(r=t.getScopeDisplayName(i,this._host),r){if(this._topHitPresent)return n==t.Scope.All||n==t.Scope.PathCompletion?(u=t.config.quickMatchLabel?"QuickMatch":"BestMatch",this._host.getLocString(u)):(u=t.config.quickMatchLabel?"QuickMatchFor":"BestMatchFor",this._host.getLocString(u,r.toLocaleLowerCase()));if(this._resultsPresent)return null;if(n!=t.Scope.All)return r}return this._host.getLocString("BestMatch")},h.prototype.getEmptyResultsMessage=function(n,i,r,u,f){return t.RuntimeConfig.QfMode==5||n||!i&&!r||u!=t.Scope.Documents&&f.showUpsellOnSuggestionsList&&f.showUpsellOnSuggestionsList()?["",""]:r?f.getEmptyZIMessages(this._host):[this._host.getLocString("NoResults",this._currentQuery.queryToFetch),""]},h.prototype.init=function(){var u,f,r,i;if(t.initScopePrefixes(this._host),this._scopeTiles=[],this._moreScopeTiles=[],t.RuntimeConfig.ScopesAvailable){u=t.RuntimeConfig.AlwaysWide?t.config.scopesOrderBeginAlwaysWide:t.config.scopesOrderBegin;this._allScopeButtonPresent=n.contains(u,"All");for(f in t.ScopeConfig)(r=parseInt(f),i=t.ScopeConfig[r],(i.prefixes||i.prefixesLocString||i.scopeNameLocString)&&t.isScopeEnabled(r,i))&&((r!=t.Scope.All||this._allScopeButtonPresent)&&this._scopeTiles.push(this.createScopeElement(r,i,!1)),this._moreScopeTiles.push(this.createScopeElement(r,i,!0)));this._moreScopeTiles.sort(function(n,i){return n.type==t.Scope.All?-1:i.type==t.Scope.All?1:n.text.localeCompare(i.text)});this._selectedScope&&this.selectScope(this._selectedScope.type);this._effectiveScopeOrder=null}},h.prototype.createScopeElement=function(n,i,r){var u=this;return{isScopeElement:!0,id:(r?"scope":"l1scope")+n,type:n,enabled:!1,text:t.getScopeDisplayName(i,this._host),title:null,icon:n==t.Scope.All?{content:"&#xE8A9",type:1}:i.icon,click:function(){return u.clickHandler(n,"scopeBar")},selected:!1,tooltip:this.getScopeToolTip(n,!1),isSelectable:!0}},h.prototype.clickHandler=function(n,i,r){var h=t.getScopeDisplayName(t.ScopeConfig[n],this._host),e,u=this._currentQuery,f=u.scope,o,s,c;if(this._scopeTiles.some(function(n){return n.type==f})||(f=t.Scope.All),h&&f!=n)e=(n==t.Scope.All||n==t.Scope.PathCompletion?"":h.toLocaleLowerCase()+": ")+u.queryToFetch,this.innerRender(n,n,u,this._topHitPresent,this._resultsPresent,!0,!1),o={query:this._currentQuery,topResults:[],groups:[]},this._page.updateTopResultsView(o),this._page.updateGroupsView(o);else{if(f==t.Scope.All||this._allScopeButtonPresent){this._page.ensureWebViewHeightExpanded();this.setFocusInSearchBox("scope clickHandler noop");return}e=u.queryToFetch;n=t.Scope.All;this.innerRender(n,n,u,this._topHitPresent,this._resultsPresent,!0,!1)}s=t.Scope[n];c={Scope:s,Source:i,GroupSource:r&&r.source?r.source.toString():undefined};this._instHelper.logClientInstEvent("Select","ScopeChanged",null,c);f!=n&&this._host.reformulate(e,undefined,undefined,r);this.setFocusInSearchBox("scope clickHandler "+s)},h.prototype.setFocusInSearchBox=function(t){this._host.setFocusInSearchBox(null,t);var i=n.getCurrentActiveElement();i&&i.blur()},h.prototype.isScopeElement=function(t){return t&&this._scopeTiles&&(this.isScopeButton(t.id)||n.contains(this._scopeTiles,t))},h.prototype.isMenuElement=function(n){return n&&this.isMenuButton(n.id)},h.prototype.isScopeButton=function(n){return n==this._feedbackButton.id||n==this._rewardsBadgeButton.id||n==this._userProfileButton.id||this.isMenuButton(n)},h.prototype.isMenuButton=function(n){return n==this._moreButton.id||n==this._optionsButton.id},h.prototype.getSelectableItems=function(){var n=[],i;return t.RuntimeConfig.ScopesAvailable&&(n=n.concat(this.getScopeSelectableItems())),i=this._advancedOptionsScope.filter(function(n){return n.layout==0||n.layout==6}),i.length>0&&(n=n.concat(i)),n},h.prototype.getSelectableItemsByGroup=function(){var i=[],n=this.getScopeBarElements(),r,u,e,f;return t.shouldSkipSelectedScope()&&this._selectedScope==n[0]&&(n=n.slice(1)),i.push(n.slice(0,1)),r=n.findIndex(function(n){return n.selected}),r>0?i.push(n.slice(r,r+1)):t.shouldSkipSelectedScope()||(u=n.findIndex(function(n){return n.enabled}),u>0&&i.push(n.slice(u,u+1))),e=[this._moreButton,this._rewardsBadgeButton,this._userProfileButton,this._feedbackButton,this._optionsButton],e.forEach(function(n){_ge(n.id)&&i.push([n])}),f=this._advancedOptionsScope.filter(function(n){return n.layout==0||n.layout==6}),f.length>0&&i.push.apply(i,f.map(function(n){return[n]})),i},h.prototype.getScopeSelectableItems=function(){var u=this.getScopeBarElements(),i=this._currentScopeTileIndex,c=u.length,h;if(t.shouldSkipSelectedScope()&&this._selectedScope==u[0]&&(u=u.slice(1),--i,--c),i<0&&this._selectedScope&&!t.shouldSkipSelectedScope())return[this._selectedScope];if(h=n.getCurrentActiveElement(),h)switch(h.id){case f:return[this._moreButton];case r:return[this._feedbackButton];case e:return[this._optionsButton];case o:return[this._rewardsBadgeButton];case s:return[this._userProfileButton]}return(i<0||i>=c)&&(i=0),u.slice(i,i+1)},h.prototype.getSelectedItem=function(){return null},h.prototype.select=function(n){var i=[].slice.call(this._scopesHeaderElement.getElementsByClassName("scopeTile")),r=t.shouldSkipSelectedScope()?i.filter(function(n){return!n.classList.contains("selectedScope")}):i;this._currentScopeTileIndex=r.indexOf(_ge(n.id));t.shouldSkipSelectedScope()&&(this._currentScopeTileIndex=i.indexOf(r[this._currentScopeTileIndex]))},h.prototype.onAfterKeyDown=function(){return!1},h.prototype.getSubstrateUpsellClickHandler=function(n){var i=this,r=function(){i._host.refreshCurrentPane();i._host.setFocusInSearchBox(null,"SubstrateUpsell")};return function(){return i._accessTokenManager.promptAutheticateDialog(n,t.getSubstrateResourceOrScope(n),r,r)}},h.prototype.getSubstrateUpsell=function(n,i,r){var s=null,u="VerifyAccountToSearch",e=0,l="CloudSearch",a=["Verify"],o=null,h=[],f,c;if(r==0){f=t.getEffectiveScope(this._currentQuery);switch(f){case t.Scope.People:u+="Contacts";break;case t.Scope.Emails:u+="Emails";break;case t.Scope.Documents:u+="Documents";e=1;s={content:"&#xE9BE",type:2,needsAccentColor:!0};o=this._substrateUpsellDismiss}t.config.accountVerifyMessage&&(e=6,c=this._accessTokenManager?this._accessTokenManager.getCachedAccountInfo(n):null,c&&h.push(c.accountUserName),(f==t.Scope.People||f==t.Scope.Emails||f==t.Scope.Documents)&&(h.length>0&&(u="VerifyAccount"),o=this._substrateUpsellDismiss));l=""}else r==2&&(u=null,e=2,s={content:"&#xE9BE",type:2,needsAccentColor:!0},o=this._substrateUpsellDismiss,a=["VerifyAccountToSearch"]);return this.createAdvancedOption(n==1?"COFA":"COOA",i,l,u,a,this.getSubstrateUpsellClickHandler(n),e,o,s,null,h,"VerifyButton")},h.prototype.getOneDriveUpsell=function(n){var t=this;return this.createAdvancedOption("SDSC",n,null,null,["SeeResultsFromOneDrive"],function(){t._host.launchCortanaSignIn()},2,null,{content:"&#xE9BE",type:2,needsAccentColor:!1})},h.prototype.getIndexingOption=function(n){var i=this,r=t.config.controlPanelSearchSettings?function(){return i._host.launchSearchSettings()}:function(){return t.LocalDataProvider.launchIndexingOptions(i._host,!1)};return this.createAdvancedOption("OMIO",n,"",null,["OptionsMenuIndexing"],r,2,null,{type:2,content:"&#xED52"})},h.prototype.getAdvancedOptionCssClass=function(n){return n==4?"menuInfo":n==5?"menuLabel":null},h.prototype.createContextMenuGroup=function(n,t,i,r){var u=this.createAdvancedOption(n,t,null,i,null,null,5);return u.groupItems=r,u.narratorText=u.message,u},h.prototype.createBuildVersionOption=function(){var n=this._host.getLocString("Build");return{id:"advancedOption"+this._advancedOptionsIdCounter++,selected:!1,title:n,message:undefined,text:n+": "+t.config.snrVersion,instItem:undefined,click:undefined,layout:4,cssClass:this.getAdvancedOptionCssClass(4),isSelectable:!1,subItems:undefined,isExpanded:!1}},h.prototype.createCossOptInOption=function(n){var r=this,i=t.RuntimeConfig.QfMode==2?"CossOptOut":"CossOptIn";return this.createAdvancedOption(null,n,i,null,[i],function(){return r.onCossOptInOutClick()},2,null,{type:2,content:"&#xE8A7"})},h.prototype.createAdvancedOption=function(i,r,u,f,e,o,s,h,c,l,a,v){var k=this,w,y,b,p;return i&&(y=n.InstrumentedItem.getNonSuggestionInstrumentedItem(i,t.SyntheticQSCodesMaps.KValues),this._instHelper.instrumentSyntheticInstrumentedItem(r,i,y)),b="advancedOption"+this._advancedOptionsIdCounter++,l&&l.length==0&&(l=null),p={id:b,selected:!1,title:this._host.getLocString(u),message:f?(w=this._host).getLocString.apply(w,[f].concat(a)):null,text:this._host.getLocString.apply(this._host,e),instItem:y,click:undefined,layout:s,dismiss:h,icon:c,cssClass:this.getAdvancedOptionCssClass(s),isSelectable:!!o||!!l,subItems:l,buttonLabel:this._host.getLocString(v),isExpanded:!l?undefined:!1},p.click=o?function(n,t){y&&k._instHelper.instrumentItemClick(n,y,r,null,t,null);o(p)}:undefined,p},h.prototype.getAccountOptions=function(n){var u=this,r=[];if(!this._accessTokenManager)return r;var f=this._accessTokenManager.getCachedAccountInfo(0),e=this._accessTokenManager.getCachedAccountInfo(1),c=this._accessTokenManager.isMsaAvailable(),l=this._accessTokenManager.isAadAvailable(),o="menuItemWithButton focusable",s="removeHover",h="highlight",i;return(f||e)&&(i=this.createAdvancedOption(null,n,null,"ConnectedAccounts",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),f&&t.isCloudSearchEnabledMsaCache&&(i=this.createAdvancedOption(null,n,null,null,["MicrosoftAccount"],null,4),i.message=f.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),t.config.accountVerifyMessage&&!t.isSubstrateOutlookAccountConnected&&(i.cssClass+=" "+h),r.push(i),t.config.accountVerifyMessage&&!t.isSubstrateOutlookAccountConnected&&(i=this.createAdvancedOption(null,n,null,"VerifyAccountAttention",null,this.getSubstrateUpsellClickHandler(0),4),i.cssClass=s,i.icon={type:2,content:"&#xE946"},r.push(i),i=this.createAdvancedOption(null,n,null,"VerifyButton",null,this.getSubstrateUpsellClickHandler(0),2),i.cssClass=o,r.push(i))),e&&t.isCloudSearchEnabledAadCache&&(i=this.createAdvancedOption(null,n,null,null,["AadAccount"],null,4),i.message=e.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),r.push(i),t.config.accountVerifyMessage&&!t.isSubstrateO365AccountConnected&&(i.cssClass+=" "+h),t.config.accountVerifyMessage&&!t.isSubstrateO365AccountConnected&&(i=this.createAdvancedOption(null,n,null,"VerifyAccountAttention",null,this.getSubstrateUpsellClickHandler(1),4),i.cssClass=s,i.icon={type:2,content:"&#xE946"},r.push(i),i=this.createAdvancedOption(null,n,null,"VerifyButton",null,this.getSubstrateUpsellClickHandler(1),2),i.cssClass=o,r.push(i))),r.push(this.getMenuDividerOption()),i=this.createAdvancedOption(null,n,null,null,["ManageAccounts"],function(){return u._host.launchWindowsAccountSettings()},2,null,{type:2,content:"&#xE716"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),f&&(t.isCloudSearchEnabledMsaCache||!c)||(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledMsaCache?["AddMicrosoftAccount"]:["EnableMsaSearch"],t.isCloudSearchEnabledMsaCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),e&&(t.isCloudSearchEnabledAadCache||!l)||(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledAadCache?["AddAadAccount"]:["EnableAadSearch"],t.isCloudSearchEnabledAadCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),r},h.prototype.getUserProfileButtonData=function(){var i=this,r,t,n=this._accessTokenManager.getSelectedAccountInfo(),u;return n?(t=n.accountProviderAuthority=="consumers"?0:1,r=this._userProfilesCache[n.accountUserName],!r)?(u=this._substrateProfilePictureProvider.getPersonDefaultIcon(n.accountUserName),this._userProfilesCache[n.accountUserName]=u,this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(r){if(r&&r.Token){var u=i._substrateProfilePictureProvider.getProfilePictureIconForToken(t,r.Token,n.accountUserName);u&&u(1,function(t){t&&(i._userProfilesCache[n.accountUserName]=t,i.renderScopes(!0))})}},"Windows"),[u,n.accountUserName]):[r,n.accountUserName]:[null,null]},h.prototype.getAccountOptionsForUserProfileButton=function(n){var u=this,r,i,f,a,c,o,l,v;if(!this._accessTokenManager)return[];var s=this._accessTokenManager.getAllAvailableAccounts(0),h=this._accessTokenManager.getAllAvailableAccounts(1),e=s.concat(h);if(s.length+h.length==0)return[];if(r=[],f=this._accessTokenManager.getSelectedAccountInfo(),f&&(e=e.filter(function(n){return n.accountUserName!=f.accountUserName}),i=this.createAdvancedOption(null,n,null,"ConnectedAccount",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),i=this.createAdvancedOption(null,n,null,null,f.accountProviderAuthority=="consumers"?["MicrosoftAccount"]:["AadAccount"],null,4),i.message=f.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),r.push(i)),e.length>0)for(i=this.createAdvancedOption(null,n,null,"AvailableAccounts",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),a=function(t){i=c.createAdvancedOption(null,n,null,null,t.accountProviderAuthority=="consumers"?["MicrosoftAccount"]:["AadAccount"],function(){u._accessTokenManager.setSelectedAccount(t);u._host.notifyAccountSelected(t);u._menuFactory.dismiss()},0,null,{type:2,content:"&#xE77B"});i.message=t.accountUserName;i.cssClass=c.getAdvancedOptionCssClass(0);r.push(i)},c=this,o=0,l=e;o<l.length;o++)v=l[o],a(v);return r.push(this.getMenuDividerOption()),i=this.createAdvancedOption(null,n,null,null,["ManageAccounts"],function(){return u._host.launchWindowsAccountSettings()},2,null,{type:2,content:"&#xE716"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i),s.length==0&&(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledMsaCache?["AddMicrosoftAccount"]:["EnableMsaSearch"],t.isCloudSearchEnabledMsaCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),h.length==0&&(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledAadCache?["AddAadAccount"]:["EnableAadSearch"],t.isCloudSearchEnabledAadCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),r},h.prototype.getMenuDividerOption=function(){return{id:null,selected:!1,title:"",message:null,isSeparator:!0,text:"",instItem:null,click:null,layout:3,isSelectable:!1}},h.prototype.addZiCustomization=function(n,i,r){var s=this,f,l,u,h,o,c,v,y;if(r===void 0&&(r=!0),t.config.enableSearchHomeCustomization&&this._currentQuery.isSearchHomeZI&&this._currentQuery.scope==t.Scope.All){f={};for(l in this._currentQuery.availableDataSources)if(u=this._currentQuery.availableDataSources[l],u&&u.suggestionGroupToggler){if(typeof u.groupType!="number")throw new Error("missing groupType declaration for suggestionGroupToggler");f[u.groupType]||(f[u.groupType]=u.suggestionGroupToggler)}if(h=this._currentQuery.staticGroupOrder?this._currentQuery.staticGroupOrder.filter(function(n){return!!f[n]}):Object.keys(f).map(function(n){return+n}),h.length!=0){var a=[],p=function(n){var r=f[n],u=r.isHidden(),o=e.createAdvancedOption(null,i,null,null,[],function(){r.toggle(!u);s._menuFactory.dismiss();s._host.refreshCurrentPane()},2,null,null,null),h=t.getGroupTitleAndNarratorText(e._currentQuery,e._host,n,null,!1).title;o.text=e._host.getLocString(u?"ShowSomething":"HideSomething",h);a.push(o)},e=this;for(o=0,c=h;o<c.length;o++)v=c[o],p(v);y=this.createAdvancedOption(null,i,null,null,["CustomizeSearchHome"],function(n){return s._menuFactory.showSubMenu(n)},2,null,{type:2,content:"&#xE70F"},a);r&&n.push(this.getMenuDividerOption());n.push(y)}}},h.prototype.addSinglepPaneOptions=function(n,r){var e=this,o=this.getScopeBarElements(),s=this.getHiddenScopeElements(o).filter(function(n){return n.type!=t.Scope.All}).map(function(n){var t=n;return t.layout=0,t}),u,f;n.push(this.createContextMenuGroup(null,r,"MoreScopesListToolTip",s));n.push(this.getMenuDividerOption());u=[];i.authenticationManager.getAllSearchWebAccountsAsync?t.config.userProfileButtonEnabled||(f=this.getAccountOptions(r),u.push(this.createAdvancedOption(null,r,null,null,["ConnectedAccounts"],null,2,null,{type:2,content:"&#xE716"},f))):t.isCloudSearchEnabledCache&&this.addCloudSearchUpsells(u,r,2);u.push(this.getIndexingOption(r,1));this.addZiCustomization(u,r,!1);n.push(this.createContextMenuGroup(null,r,"OptionsButtonToolTip",u));this.isFeedbackEnabled()&&(n.push(this.getMenuDividerOption()),n.push(this.createAdvancedOption(null,r,null,null,["FeedbackButtonText"],function(){return e.showFeedback()},2,null,{type:2,content:"&#xE8F2"},null)))},h.prototype.getAdvancedOptions=function(n,r){var f=this,u=[],e,o;return r==1&&(i.authenticationManager.getAllSearchWebAccountsAsync&&(t.config.userProfileButtonEnabled||u.push.apply(u,this.getAccountOptions(n)),e=this.createAdvancedOption(null,n,null,null,["SearchSettings"],function(){return t.config.controlPanelSearchSettings?f._host.launchSearchPermissions():f._host.launchSearchSettings()},2,null,{type:2,content:"&#xE713"}),e.cssClass=this.getAdvancedOptionCssClass(2),u.push(e)),u.push(this.getIndexingOption(n,r)),this.addZiCustomization(u,n)),r==2&&this.addSinglepPaneOptions(u,n),r==0&&t.isCloudSearchEnabledCache&&this.addCloudSearchUpsells(u,n,r),r!=2&&t.config.troubleshootButton&&u.push(this.getMenuDividerOption()),t.config.troubleshootButton&&(r==1||r==2)&&u.push(this.createAdvancedOption(null,n,null,null,["Troubleshoot"],function(){return f._host.launchUri("https://aka.ms/fixsearch")},2,null,{type:2,content:"&#xE90F"},null)),t.config.cossOptIn&&(r==1||r==2)&&u.push(this.createCossOptInOption(n)),t.config.snrVersion&&(r==1||r==2)&&u.push(this.createBuildVersionOption()),r==4&&(o=this.createAdvancedOption(null,this._sequenceNumberReader.getSequenceNumber(),null,null,["LockScreenSettings"],function(){return f._host.launchLockscreenSettings()},2,null,{type:1,content:"&#xEE3F"}),o.cssClass=this.getAdvancedOptionCssClass(2),u.push(o)),u},h.prototype.addCloudSearchUpsells=function(i,r,u){var e=t.substrateProvidersEnabled(),f;if((u==0||u==2)&&(u!=0||!this._selectedScope||this._selectedScope.type==t.Scope.Emails||this._selectedScope.type==t.Scope.People||this._selectedScope.type==t.Scope.Documents))if(f=t.getAccountTypeForCloudContent(),e){if(this._upsellGotDismissed&&this._selectedScope&&(this._selectedScope.type==t.Scope.Documents||t.config.accountVerifyMessage&&(this._selectedScope.type==t.Scope.People||this._selectedScope.type==t.Scope.Emails))&&u==0)return;f!=1&&f!=4||t.isSubstrateO365AccountConnected||i.push(this.getSubstrateUpsell(1,r,u));f!=2&&f!=4||t.isSubstrateOutlookAccountConnected||i.push(this.getSubstrateUpsell(0,r,u))}else n.isBingEnabled()&&t.isCortanaEnabledCache&&!t.isCortanaPersonalized&&i.push(this.getOneDriveUpsell(r))},h.prototype.onCossOptInOutClick=function(){var r=this;n.safeSetTimeout(function(){t.RuntimeConfig.QfMode==2?i.disableCenterScreenAndRelaunch():i.enableCenterScreenAndRelaunch(!1);n.safeSetTimeout(function(){return r._host.reloadWebView()},0,"HeaderFooterViewModel.onCossOptInOutClick.reloadWebView")},0,"HeaderFooterViewModel.onCossOptInOutClick")},h}();t.HeaderFooterViewModel=h})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function i(n,t){var i=HitHighlightingParser.removeMarkers(n.text),r;!i.includes(t.queryToFetch)&&i.toLowerCase().startsWith(t.queryToFetch.toLowerCase())&&(r=t.queryToFetch+i.substr(t.queryToFetch.length),n.text=HitHighlightingParser.addMarkers(r,t.queryToFetch));!n.query.includes(t.queryToFetch)&&n.query.toLowerCase().startsWith(t.queryToFetch.toLowerCase())&&(n.query=t.queryToFetch+n.query.substr(t.queryToFetch.length))}function r(n,r,u,f,e,o,s,h){var l,c;if(n.actionUri=f,n.confidence=o,n.source=s,n.handoffType==4)if(l=n.query.toLowerCase()==r.queryToFetch.toLowerCase(),n.updateFromQuery=function(i){return l?(n.query=i.queryToFetch,n.text=HitHighlightingParser.addMarkers(n.query,i.queryToFetch),n.narratorText=t.getNarratorText(n),!0):!1},c=t.parseTaskFrame(e),c)n.isReformulation=!0,n.click=function(){return h.reformulate(n.query,c)};else return!1;else n.classNames.push("action"),n.click=function(){return h.launchCat1(n.query,f,e)};return n.icon={type:3},i(n,r),n.narratorText=t.getNarratorText(n),n.type!="CSK"&&(n.getMruData=function(){return{type:n.type,handoffType:n.handoffType,hc:n.hc,highConfidenceMetaSuggestionScore:n.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:n.prefetchConfidenceScore,query:n.query,textWithoutHH:HitHighlightingParser.removeMarkers(n.text),annotation:n.primaryMetadata,icon:n.getIcon?null:n.icon,actionUri:f,taskFrame:e,confidence:o,source:s,suggestionKey:t.getSuggestionKey(n)}}),!0}function o(n,r,u,e,o,s,h,c,l,a,v,y){if(n.isAnswer=!0,n.htmlContent=e&&e.Content?e.Content.HTML:null,n.baseSearchUrl=h,n.segments=c,n.htmlContent){var p=JsonInject.GetResourceKeys([e]);p&&(n.executeScript=function(){return JsonInject.WriteAfterContentResources(JsonInject.FilterResources(a,p))})}s&&(n.secondaryIcon={content:s,type:0});n.text.includes(HitHighlightingParser.startMarker)||(n.text=HitHighlightingParser.addMarkers(n.text,r.queryToFetch));n.htmlContent||o&&(n.primaryMetadata=o,n.additionalInfoText=" - "+o);n.handoffType==10?(n.classNames.push("action"),i(n,r),t.config.useCortanaLogoForAllCortanaSuggestions&&(n.icon={type:3}),n.click=function(){return v.launchCat2or3a(n.query,l)},n.allowedInGroups=!n.htmlContent):(f(n,v),n.click=function(){return v.launchSearch(n.query,y.getSearchUrl(r.fullPartialQuery,n.query,n.type,n.baseSearchUrl),!1)},n.allowedInGroups=n.secondaryIcon?!!n.additionalInfoText:!n.htmlContent);n.narratorText=t.getNarratorText(n)}function u(n,i,r,u,f){n.url=u;n.tooltip=i.isSearchHomeZI?n.text+"\n\n"+u:u+"\n\n"+HitHighlightingParser.removeMarkers(n.primaryMetadata);t.isValidIcon(n.icon)||(n.getIcon=f.getEdgeIcon);n.click=function(){return f.launchUri(u)};n.narratorText=t.getNarratorText(n,f.getLocString("DirectNavSuggestion"));n.getMruData=function(){return{type:n.type,handoffType:n.handoffType,hc:n.hc,highConfidenceMetaSuggestionScore:n.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:n.prefetchConfidenceScore,query:n.query,textWithoutHH:HitHighlightingParser.removeMarkers(n.text),title:n.primaryMetadata,icon:n.getIcon?null:n.icon,url:u,suggestionKey:t.getSuggestionKey(n)}}}function f(n,i){t.isValidIcon(n.icon)||(n.icon=n.type=="HS"?{content:"&#xE81C",type:2}:n.handoffType===13?{content:"&#xEB9F",type:2}:n.handoffType===14?{content:"&#xE714",type:1}:t.getSearchSuggestionIcon());n.primaryMetadata||n.secondaryIcon||n.htmlContent||n.additionalInfoText||(n.primaryMetadata=n.handoffType===13?i.getLocString("SearchForWebImages"):n.handoffType===14?i.getLocString("SearchForWebVideos"):t.getWebSuggestionAnnotation(i))}var e=function(){function i(n,t,i,r,u,f){this._host=n;this._instrumentationHelper=t;this._navigationHelper=i;this._temporaryMessageHandler=r;this._accessTokenManager=u;this._previousKeystrokeCache=f}return i.prototype.parse=function(n,t,i,r,u,f,e){this.parseOnlineSuggestions(n,t,r,u,f,e,i)},i.prototype.parseOnlineSuggestions=function(i,r,u,f,e,o,s){var a=this,h,l,k;if(!u){n.isDataSourceEnabled(n.WebDataSource,i)&&e(n.WebDataSource,[],null);n.isDataSourceEnabled("OSTMA",i)&&e("OSTMA",[],null);n.isDataSourceEnabled("QS",i)&&e("QS",[],null);return}u&&u.ELToken&&(this._host.setElToken(u.ELToken),u.LC==1&&this._host.sendElToken());var v=[],y=[],p=[],c=[],w=[],b=n.isDataSourceEnabled(n.WebDataSource,i);n.safeExecute(function(){for(var e,o=function(t){var o=t.Attributes,h=o.appId,f,e;if(h)return y.push(t),h.split(";").forEach(function(t){n.contains(c,t)||c.push(t)}),"continue";if(f=o.settingId,f)return p.push(t),w.push(f),"continue";b&&(e=n.safeExecute(function(){return a.parseOnlineSuggestion(i,t,r,u.Resources,s)},"parseOnlineSuggestion"),e&&v.push(e))},t=0,f=u.Suggestions;t<f.length;t++)e=f[t],o(e)},"parseOnlineSuggestions");b&&(h=null,l=null,u.RankingSignals&&(h=n.safeExecute(function(){return n.parseWebEngagementSignals(u.RankingSignals)},"parseWebEngagementSignals"),t.isL2(i)||(l=n.safeExecute(function(){return t.parseWebSuppressionSignals(u.RankingSignals,i)},"parseWebSuppressionSignals"))),this._previousKeystrokeCache&&this._previousKeystrokeCache.updateWebSignalsData(i.queryToFetch,h),k={rankingSignals:u.RankingSignals,engagementSignals:h,suppressedGroups:l,webTopResultRoutingType:u.PrefixRoutingType},e(n.WebDataSource,v,k));t.lookupById(i,"OSTMA",c,y,function(n){return n.Attributes.appId.split(";")},"QS",w,p,function(n){return n.Attributes.settingId},f,r,e,o,function(n,t,f,e){return a.parseIdLookupResponse(u,i,r,n,t,f,e)},null,null,null,null,this._instrumentationHelper,this._host)},i.prototype.parseIdLookupResponse=function(i,u,f,e,o,s,h){var c=this,l,a;if(e.Attributes.stype!="CS"||!(s.length>0)){if(s.length!=1){l=n.safeExecute(function(){return c.parseOnlineSuggestion(u,e,f,i.Resources,o)},"parseOnlineSuggestion "+o);l&&h.push(l);return}a=function(n){var i=e.Attributes;return c.compliesWithMinVersion(i.appMinVersion,n.deviceItem.version)?(n.appContext=i.appContext,c.setRankingSignals(n,e),e.Text&&i.query&&(!t.isApp(n.type)||n.appContext)&&(n.text=e.Text,n.query=i.query),e.SecondaryText&&(n.primaryMetadata=e.SecondaryText),n.handoffType==5)?r(n,u,f,i.actionUri,i.taskFrame,parseFloat(i.confidence),parseInt(i.source),c._host):!0:!1};n.safeExecute(function(){return t.parseLocalSuggestion(u,s[0],o,f,c._host,c._temporaryMessageHandler,e.Attributes.stype,c._instrumentationHelper,h,a)},"parseLocalSuggestion "+o)}},i.prototype.parseOnlineSuggestion=function(i,f,e,s,h){var d=this,c=f.Attributes,a=c.stype,y,l,v;if(c.appId&&a!="CS"||c.settingId)return null;if(y=c.isAnswer==="1"?c.url||c.vertical?n.verticalToHandoffType(c.vertical):10:c.taskFrame?c.actionUri.startsWith("action://FindMyStuff/")?4:5:a=="CS"?3:a=="MD"||a=="ML"?1:n.verticalToHandoffType(c.vertical),l=t.createSuggestion(i,f.Text,null,n.getIconFromOnlineResponse(f),a,c.query,n.InstrumentedItem.createInstrumentedItem(e,a),y,e,!1),l.primaryMetadata=f.SecondaryText,this.setRankingSignals(l,f),l.autoOpenPreviewPaneWhenOnTopHit=c.openPP==="1",c.isAnswer==="1"){if(!c.url&&!t.isCortanaEnabledCache)return null;l.signals=f.Signals;o(l,i,e,f.InstantAnswer,c.additionalInfoText,c.secondaryIconUrl,c.url,c.segments,c.taskFrame,s,this._host,this._navigationHelper);c.noHeightRestriction==="1"&&l.classNames.push("noHeightRestriction")}else if(c.taskFrame){if(!t.isCortanaEnabledCache||!r(l,i,e,c.actionUri,c.taskFrame,parseFloat(c.confidence),parseInt(c.source),this._host))return null}else if(l.type=="CS")this.setStoreSuggestionProperties(l,i,e,c);else{if(!c.url)return null;if(l.autoOpenPreviewPaneWhenOnTopHit=c.openPP==="1",l.type=="MD"||l.type=="ML")v=n.prettyPrintUrl(c.query,i.queryToFetch,!0),v!=l.query&&(l.query=v,l.text=i.queryToFetch?HitHighlightingParser.addMarkers(v,i.queryToFetch):v),l.primaryMetadata&&!l.primaryMetadata.includes(HitHighlightingParser.startMarker)&&(l.primaryMetadata=HitHighlightingParser.addMarkers(l.primaryMetadata,i.queryToFetch)),u(l,i,e,c.url,this._host);else{if(n.queryLooksLikeUrl(l.query))return null;this.setWebSearchSuggestionProperties(l,i,e,c.url)}}if(!t.isValidSuggestion(l,"parseOnlineSuggestion"))return null;var p=l.segments,w=p?p.split(","):[],b=w.some(function(i){return n.contains(t.config.relatedWebImageSupportedSegments,i)}),k=w.some(function(i){return n.contains(t.config.relatedWebVideoSupportedSegments,i)});return(f.ChildSuggestions||b||k)&&(l.calculateChildSuggestions=function(){return d.calculateRelatedSuggestions(l,i,f,h,b,k)}),l},i.prototype.setStoreSuggestionProperties=function(n,i,r,u){var e=this,f;n.icon.bgColor=u.bgColor=="transparent"?this._host.getAccentColor():u.bgColor;n.classNames.push("action");f=parseFloat(u.avgRating);n.stars=this.getStarsRating(f);n.starNarratorText=this._host.getLocString("StarRating",""+n.stars);n.catalogScore=parseFloat(u.catalogScore);n.avgRating=f;n.ratingCount=parseInt(u.ratingCount);n.packageFamilyName=u.appId;n.click=function(){return e._host.launchStorePdp(u.productId)};n.narratorText=t.getNarratorText(n)},i.prototype.getStarsRating=function(n){var t=Math.round(n*2)/2;return Math.max(0,Math.min(5,t))},i.prototype.setRankingSignals=function(n,t){var i=t.Attributes;n.hc=i.hc==="1";n.highConfidenceSuggestionScore=+i.hcs;n.highConfidenceMetaSuggestionScore=t.HighConfidenceMetaSuggestionScore;n.prefetchConfidenceScore=t.PrefetchConfidenceScore;n.suggestionLogMeta=i.lm},i.prototype.compliesWithMinVersion=function(n,t){var r,u,i,f,e;if(!n)return!0;if(!t)return!1;for(r=n.split("."),u=t.split(".");r.length>u.length;)u.push("0");for(i=0;i<r.length;++i){if(f=u[i],e=r[i],f<e)return!1;if(f>e)return!0}return!0},i.prototype.setWebSearchSuggestionProperties=function(n,i,r,u){var e=this;f(n,this._host);i.queryToFetch||(n.text=HitHighlightingParser.addMarkers(n.text));n.baseSearchUrl=u;n.click=function(){return e._host.launchSearch(n.query,e._navigationHelper.getSearchUrl(i.fullPartialQuery,n.query,n.type,n.baseSearchUrl,n.handoffType),n.useRaf)};n.narratorText=t.getNarratorText(n);n.type=="HS"&&t.setExtraVerbs(n,function(){var i=[{verb:"ManageSearchHistory",displayName:e._host.getLocString("ManageSearchHistory"),executeSync:function(){return e._host.launchPrivacyPortal()},icon:{content:"&#xE81C",type:2}}];return t.config.removeSuggUrl&&i.unshift({verb:"RemoveFromWebHistory",displayName:e._host.getLocString("RemoveFromWebHistory"),executeSync:function(){return e.removeBingHistorySuggestion(n.text)},icon:{content:"&#xE711",type:2}}),i},!0)},i.prototype.sendRemoveBingHistorySuggestionRequest=function(i,r){var u=this,f;i=HitHighlightingParser.removeMarkers(i);f=t.config.removeSuggUrl.replace("%7b0%7d",encodeURIComponent(i)).replace("%7bSID%7d",sj_cook.get("_SS","SID"));n.fetchUrlJson(f,r,null,function(t){t.success&&(u._host.refreshCurrentPane(),n.safeSetTimeout(function(){return u._temporaryMessageHandler.showTemporaryMessage(u._host.getLocString("RemoveFromWebHistoryConfirmation",i))},250,"removeBingHistorySuggestion"))})},i.prototype.removeBingHistorySuggestion=function(n){var i=this;this._accessTokenManager?this._accessTokenManager.getAccount(0,t.getBingResourceOrScope(0),!1,!0,function(t){if(t&&t.Token){var r={};r["X-Search-RPSToken"]=t.Token;i.sendRemoveBingHistorySuggestionRequest(n,r)}},t.getAuthAccountForCloudContent()):this.sendRemoveBingHistorySuggestionRequest(n,null)},i.prototype.addRelatedSuggestion=function(i,r,u,f,e,o,s){var h=t.createSuggestion(r,f,null,e,o,i?i.Query:u.query,n.InstrumentedItem.createInstrumentedItem(u.sequenceNumber,o),s,u.sequenceNumber,!1,null,null,!0);h.groupType=t.GroupType.Related;h.parent=u;h.tooltip=i?i.SecondaryText:null;h.rankingScore=i?i.RankingScore:0;h.category=i?i.Category:null;h.isAnswer=!0;this.setWebSearchSuggestionProperties(h,r,u.sequenceNumber,i?i.Url:null);h.primaryMetadata=null;t.isValidSuggestion(h,"calculateRelatedSuggestions")&&u.childSuggestions.push(h)},i.prototype.calculateRelatedSuggestions=function(t,i,r,u,f,e){var s,h,o;if(t.childSuggestions=[],r.ChildSuggestions)for(s=0,h=r.ChildSuggestions;s<h.length;s++)o=h[s],this.addRelatedSuggestion(o,i,t,o.Text,n.getIconFromOnlineResponse(o),o.Type,0);f&&this.addRelatedSuggestion(null,i,t,this._host.getLocString("Images"),null,"EIM",13);e&&this.addRelatedSuggestion(null,i,t,this._host.getLocString("Videos"),null,"EVI",14);t.childSuggestions.length>0&&this._instrumentationHelper.instrumentDataSource(t.sequenceNumber,u,t.childSuggestions,null)},i}();t.OnlineSuggestionsParser=e;t.adjustCasing=i;t.setCat1SuggestionProperties=r;t.setUrlSuggestionProperties=u})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function w(n){return n?[n]:[]}function et(n){if(n){var t=n.lastIndexOf(".");if(t>=0)return n.substring(t)}return""}function ot(t){var i=t?new Date(t):null;return n.isValidDate(i)?i:null}function st(i){if(i){var r=n.getCurrentDate();if(r.getDate()==i.getDate()&&r.getMonth()==i.getMonth()&&r.getFullYear()==i.getFullYear())return i.toLocaleTimeString(t.uiLanguageCache,{hour:"numeric",minute:"numeric"})}return null}function f(i,f,o,s,h,c){var k,v,tt,it,d,y,a,g,p,w,l,b,nt;for(c===void 0&&(c=!1),!c&&s.extensionLC&&r.hideFileExtensions&&!t.config.showFileExtn&&(k=s.extensionLC.length,v=s.query,v.toLocaleLowerCase().endsWith(s.extensionLC)&&(tt=HitHighlightingParser.addMarkers(v,f),tt.toLocaleLowerCase().endsWith(s.extensionLC)&&(s.query=v.substring(0,v.length-k),it=HitHighlightingParser.removeMarkers(s.text),v==it&&(d=s.text.toLocaleLowerCase().lastIndexOf(s.extensionLC),s.text=s.text.substring(0,d)+s.text.substr(d+k))))),s.lastModifiedDate&&(y=s.lastModifiedDate.toLocaleString(t.uiLanguageCache,{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})),a=s.path,s.tooltip=yt(s,a,y,h),s.primaryMetadata=s.sourceForGroup&&s.sourceForGroup!=1?t.getGroupSourceDisplayName(s.sourceForGroup,h):s.itemTypeDisplayName,(i.isSearchHomeZI||t.RuntimeConfig.QfMode==8)&&(s.additionalInfoText=a),s.classNames=[],s.match?(g=(pt(s.match.matchType)?h.getLocString(t.MatchType[s.match.matchType])+": ":"")+HitHighlightingParser.addMarkers(s.match.matchedText,f),s.additionalInfoText=g,s.secondaryMetadata=g,s.classNames.push("withMatchAnnotation","forceNoWrapOutsideTopResult")):y&&t.RuntimeConfig.QfMode!=5&&(s.secondaryMetadata=h.getLocString("LastModified")+": "+y),s.narratorText=t.getNarratorText(s),t.displayedInGridLayout(s.type)&&(o?s.classNames.push("bigIcon","biggerIcon"):s.classNames.push("bigIcon")),!c&&s.handoffType==2&&r.copyToClipboard&&u(s,function(){return[{verb:t.JumplistActionItemType[t.JumplistActionItemType.S_CopyFullPath],displayName:h.getLocString("CopyFullPath"),executeSync:function(){return r.copyToClipboard(s.path,"")},icon:{type:1,content:"&#xE8C8"}}]},!1),p={},a&&(w=a.lastIndexOf("/"),w<0&&(w=a.lastIndexOf("\\")),l=a.substring(0,w),l.endsWith(":")&&(l=l+"\\"),p[h.getLocString("Location")]=[{text:l,click:function(){return n.isUncOrLocalPath(l)?r.launcher.startLaunchFolder(l):s.locationUrl?r.launcher.launchUriAsync(decodeURI(s.locationUrl)):r.launcher.launchUriAsync(l)}}]),p[h.getLocString("LastModified")]=[{text:y}],b=0,nt=e;b<nt.length;b++){var rt=nt[b],ft=rt[0],et=rt[1],ut=s[et];ut&&(p[h.getLocString(t.MatchType[ft])]=[{text:ut}])}s.previewMetadata=p}function ht(n,i,r,u){var o,s;for(i.match||!r.match||i.parentFolderDisambig||(i.match=r.match,i.needsRefreshAfterDeduping=!0),o=0,s=e;o<s.length;o++){var l=s[o],h=l[1],c=r[h];c&&!i[h]&&(i[h]=c,i.needsRefreshAfterDeduping=!0)}t.RuntimeConfig.QfMode==5&&(i.needsRefreshAfterDeduping=!1);i.needsRefreshAfterDeduping&&f(n,t.getEffectiveQuery(n),t.isL2(n),i,u,!0)}function ct(n,i,u,f,e){return n?t.Promise.safeChainWithGlobalCaching("getImageWithLiveTokenAsync",function(){return r.getImageWithLiveTokenAsync(u)},function(){return e},function(n){return t.toIcon(n,"getImageWithLiveTokenAsync",i)},i,null,null,3):b(i,f)}function b(n,i){return t.Promise.safeChainWithGlobalCaching("getIconForTypeAsync",function(n){return r.queryFormulationView.deviceSearch.getIconForTypeAsync(i,t.getImageSizeValue(n))},function(n){return n+"_"+i},function(i){return t.toIcon(i,"getIconForTypeAsync",n)},n)}function k(n){return n!=null&&(n.type==3||!!n.content||!!n.className)}function o(n,t,i){i===void 0&&(i=!0);var r=n.mayContainPII;return n.text?n.query?!n.handoffType&&n.handoffType!==0?(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing handoff type")),!1):n.type?i&&!n.getIcon&&!k(n.icon)?(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing icon")),!1):!0:(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing suggestion type")),!1):(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing query")),!1):(SharedLogHelper.LogError(t,r?"":n.deviceItem?n.deviceItem.id:"",new Error("Missing text")),!1)}function u(n,i,r){var u=n.getExtraVerbs;n.getExtraVerbs=function(n){var f=u?u(n):[],e=i(n);return t.joinVerbs(f,e,r)}}function lt(n,i,r){var u=n.getExtraVerbsAsync;n.getExtraVerbsAsync=u?function(n){return ThresholdUtilities.createPromise(function(f){return u(n).then(function(u){return i(n).then(function(n){return f(t.joinVerbs(u,n,r))})})})}:i}function s(n,t){var r=n.propertyHits||[],i=r.indexOf(t);return typeof i=="object"&&i.returnValue!==undefined?i.returnValue:i>=0}function at(n){var i,t;if(n&&typeof n=="object"&&n.length){for(i="",t=0;t<n.length;t++)i+=n[t],t!=n.length-1&&(i+=", ");return i}return n}function i(t,i,r){return n.safeExecute(function(){return at(t.getProperty(i))},"get"+i,undefined,r)}function vt(n){for(var r,u,e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];for(r=0,u=e;r<u.length;r++){var f=u[r],h=f[0],o=f[1],c=f[2];if(o&&s(n,c))return t.createMatch(h,o)}return null}function yt(n,i,r,u){var f=i||"",s,h,o,c;for(n.textContentIfMatched&&(f+=(f?"\n\n":"")+n.textContentIfMatched),s=!!f,h=function(){f&&(f+="\n");s&&(f+="\n",s=!1)},r&&(h(),f+=u.getLocString("LastModified")+": "+r),o=0,c=e;o<c.length;o++){var l=c[o],v=l[0],a=l[1],y=n[a];y&&(h(),f+=u.getLocString(t.MatchType[v])+": "+n[a])}return f}function pt(n){switch(n){case t.MatchType.Author:case t.MatchType.LastModifiedBy:case t.MatchType.Tags:case t.MatchType.Genre:case t.MatchType.Album:case t.MatchType.Artist:return!0;case t.MatchType.Content:case t.MatchType.Location:return!1;default:throw new Error("Unknown match type: "+n);}}function wt(i,r,u,f,e,o,s,h,c,l,a,v,y,p,b,k,d,g,nt,tt){r&&n.isDataSourceEnabled(r,i)&&t.LocalDataProvider.getApps(u,function(t){var u,s,i,o,h;if(l()){for(nt.instrumentResponseReceived(a,r,null,0,!1),u=[],s=function(i){n.safeExecute(function(){return p(i,r,e(i).map(function(n){return t[n]}).filter(function(n){return!!n}),u)},"parseApp "+r)},i=0,o=f;i<o.length;i++)h=o[i],s(h);v(r,u,null)}},y,r,tt);o&&n.isDataSourceEnabled(o,i)&&t.LocalDataProvider.getSettings(s,function(t){var u,e,i,f,s;if(l()){for(nt.instrumentResponseReceived(a,o,null,0,!1),u=[],e=function(i){n.safeExecute(function(){return p(i,o,w(t[c(i)]),u)},"parseSetting "+r)},i=0,f=h;i<f.length;i++)s=f[i],e(s);v(o,u,null)}},y,o);b&&n.isDataSourceEnabled(b,i)&&t.LocalDataProvider.getFiles(k,function(t){var r,f,i,u,e;if(l()){for(nt.instrumentResponseReceived(a,b,null,0,!1),r=[],f=function(i){n.safeExecute(function(){return p(i,b,w(t[g(i)]),r)},"parseFile "+b)},i=0,u=d;i<u.length;i++)e=u[i],f(e);v(b,r,null)}},i,y,b)}function bt(n,i){return t.isMobileCache?null:n.id==t.EdgeAppId?i.getLocString("MicrosoftRecommendedBrowser"):i.getLocString("App")}function kt(n,i){return t.isModernSetting(n)?i.getLocString("SystemSettingsAnnotation"):i.getLocString("ControlPanelAnnotation")}function dt(i,r,u,e,o,s,h){var c=t.getAppItem(o),l,v,w,y,b,it,k,d,tt;if(c){e&&g(o,c);o.primaryMetadata=bt(c,h);o.narratorText=t.getNarratorText(o);o.tooltip=i.isSearchHomeZI?o.text:"";o.type=="IBA"&&(o.tooltip=c.id,o.path=c.id);return}if(t.isSetting(o.type)){o.primaryMetadata=kt(o.deviceItem,h);o.narratorText=t.getNarratorText(o);o.tooltip=i.isSearchHomeZI?o.text:"";return}if(o.type=="LURL"&&(c=o.deviceItem,c)){l=c.id;o.narratorText=t.getNarratorText(o,h.getLocString("DirectNavSuggestion"));o.tooltip=o.query+"\n\n"+l;o.url=l;return}if(v=t.getBrowsingHistoryItem(o),v){var l=v.url,p=n.prettyPrintUrl(l,r,!1),rt=r?HitHighlightingParser.addMarkers(p,r):p,a=v.title;a&&(o.primaryMetadata=r?HitHighlightingParser.addMarkers(a,r):a);o.text=rt;o.query=p;o.narratorText=t.getNarratorText(o,h.getLocString("DirectNavSuggestion"));o.template=1;o.tooltip=(a?a+"\n\n":"")+l;o.classNames.push("forceNoWrapOutsideTopResult");o.url=l;return}if(w=t.getFileItem(o),w){gt(i,r,u,e,s,o,w,h);return}if(o.type=="PT"||o.type=="CG"){if(y=o,o.type!="PT"&&o.deviceItem.launchArguments||(y.path=o.deviceItem.id),b=o.deviceItem,it=b.kind,it=="program"){nt(o,h);return}if(k=ni(b),k){y.itemTypeDisplayName=k;f(i,r,u,y,h);return}o.type=="CG"&&nt(o,h);return}if(o.type=="FEH"){o.narratorText=t.getNarratorText(o,h.getLocString("SearchHistorySuggestion"));r&&(o.text=HitHighlightingParser.addMarkers(o.text,r));return}if(d=t.getPowerBiItem(o),d){tt=d.modelDisplayName;o.primaryMetadata=tt;o.additionalInfoText=" - "+tt;o.narratorText=t.getNarratorText(o);return}throw new Error("Unexpected type: "+o.type);}function gt(r,u,e,o,h,c,l,a){var p,d,w,b,y,k,v,nt,tt;if(d=c.type=="LDOC"?t.resolveKnownFolderGUIDsInPath(l.id):t.indexerFilePathToRegularPath(l.id),c.path=d,c.itemTypeDisplayName=l.itemTypeDisplayName,o&&g(c,l),w=l.lastModifiedDate,n.isValidDate(w)&&(c.lastModifiedDate=w),b=l.extension,b&&(c.extensionLC=b.toLocaleLowerCase()),h!="MFF"||t.IndexerQueryGenerator){c.type=="MU"&&(c.artist=t.IndexerQueryGenerator?i(l,"System.Music.DisplayArtist",h):i(l,"System.Music.Artist",h),c.album=i(l,"System.Music.AlbumTitle",h));y=void 0;switch(h){case"MDOC":c.author=i(l,"System.Author",h);c.lastModifiedBy=i(l,"System.Document.LastAuthor",h);c.tags=i(l,"System.Keywords",h);s(l,"System.Search.Contents")&&(k=i(l,"System.Search.AutoSummary",h),k&&(p=t.tryGetTextContentMatch(k,u),c.textContentIfMatched=p[0],y=p[1]),l.propertyHits.length==1&&(c.matchedOnlyOnContent=!0));break;case"MPHO":c.tags=i(l,"System.Photo.TagViewAggregate",h);break;case"MVID":t.IndexerQueryGenerator&&(c.artist=i(l,"System.Music.DisplayArtist",h),c.genre=i(l,"System.Music.Genre",h));c.tags=i(l,"System.Keywords",h);break;case"MMUS":c.genre=i(l,"System.Music.Genre",h)}!c.text.includes(HitHighlightingParser.startMarker)&&u&&(v=void 0,nt=h!="LM"&&h!="FL",nt&&(h=="MFF"?(v=i(l,"System.Title",h),v&&!t.matchesOnPropertyHH(v,u)&&(v=undefined)):s(l,"System.Title")&&(v=i(l,"System.Title",h))),v?c.text=HitHighlightingParser.addMarkers(v,u):y?c.match=y:(tt=t.IndexerQueryGenerator?"System.Music.DisplayArtist":"System.Music.Artist",c.match=vt(l,h,[t.MatchType.Album,c.album,"System.Music.AlbumTitle"],[t.MatchType.Artist,c.artist,tt],[t.MatchType.Genre,c.genre,"System.Music.Genre"],[t.MatchType.Tags,c.tags,"System.Keywords"],[t.MatchType.Tags,c.tags,"System.Photo.TagViewAggregate"],[t.MatchType.Author,c.author,"System.Author"],[t.MatchType.LastModifiedBy,c.lastModifiedBy,"System.Document.LastAuthor"])))}f(r,u,e,c,a);ii(c,a)}function g(i,r){var u=n.safeExecute(function(){return r.getProperty("System.Link.TargetParsingPath")},"getTargetPath"),f,e,o;u&&(u=u.toLocaleLowerCase(),f=t.getKnownFolderPathLC(t.FOLDERID_Profile),f&&(e=t.getKnownFolderPathLC(t.FOLDERID_SystemX86),e&&u.startsWith(e+"\\config\\systemprofile")?u=f+u.substr(e.length+21):(o=t.getKnownFolderPathLC(t.FOLDERID_System),o&&u.startsWith(o+"\\config\\systemprofile")&&(u=f+u.substr(o.length+21)))),i.targetPathLC=u)}function ni(n){if(n.launchArguments)return null;var t=n.itemTypeDisplayName;return t&&t[0]!="."?t:null}function h(i,r){for(var o,y,h,c,a,u,l,f,v,s=[],e=0;e<i.length-1;++e)if(!t.displayedInGridLayout(i[e].type))for(o=e+1;o<i.length;++o)if(i[e].type==i[o].type&&i[e].text.toLocaleLowerCase()==i[o].text.toLocaleLowerCase()){s[e]=!0;s[o]=!0;break}if(s.length!=0)for(y=i.filter(function(n,t){return s[t]}),h=r.getLocString("InfoTextWithSource"),c=0,a=y;c<a.length;c++)if(u=a[c],u.path){if(l=u.path.lastIndexOf("\\"),l==-1)continue;if(f=u.path.slice(u.path.lastIndexOf("\\",l-1)+1,l),v=u.handoffType==2?null:u.primaryMetadata,v&&f.endsWith(":"))continue;u.type=="IBA"?(u.secondaryMetadata=u.primaryMetadata,u.primaryMetadata=f):u.primaryMetadata=u.primaryMetadata?v?n.formatString(h,[f,u.primaryMetadata]):n.formatString(h,[u.primaryMetadata,f]):f;u.additionalInfoText=n.formatString(h,[" -",f]);u.match&&(u.classNames=u.classNames.filter(function(n){return n!="withMatchAnnotation"&&n!="forceNoWrapOutsideTopResult"}));u.narratorText=t.getNarratorText(u);u.parentFolderDisambig=f}}function nt(n,i){n.primaryMetadata=i.getLocString("RunCommandPrompt");n.classNames.push("action");n.narratorText=t.getNarratorText(n)}function ti(n){return n=="EBH"}function tt(i,r,u,f,e,s,h,c,l,a){var d=t.localDataSourceMayContainPII(u),g,b,y,nt,tt,k,it;if(!h){g=r.deviceItem.kind;SharedLogHelper.LogError("parseLocalSuggestion"+u,d?"":r.deviceItem.displayName||r.deviceItem.id,new Error("Unrecognized kind: "+g));return}if(b=h=="LURL"||h=="EBH"?1:2,n.isSuggestionTypeEnabled(u,h,b,i)){var p=t.getEffectiveQuery(i),w=ti(h)?null:r.deviceItem.displayName,rt=w&&p?HitHighlightingParser.addMarkers(w,p):w,v=t.createSuggestion(i,rt,r.getIcon,r.icon,h,w,n.InstrumentedItem.createInstrumentedItem(f,h),b,f,d);v.uxHint=oi(r,p,e);r.deviceItem.isSimulated||(v.deviceItem=r.deviceItem);v.ciMetaData=r.ciMetaData;t.isApp(h)&&(v.pinnedToTaskbar=e.isPinnedToTaskbar(r.deviceItem.id));r.groupDisplayName&&(v.groupDisplayName=r.groupDisplayName);y=t.getAppItem(v);y?(v.click=function(){return e.launchAppItem(y,u,v.appContext)},t.config.maxJLcm&&ri(i,v,y,e,s,f,u,c)):v.type=="FEH"?v.click=function(){return e.submitFileExplorerTextSuggestion(v.query)}:v.type=="FD"&&t.RuntimeConfig.QfMode==5?v.click=function(){return e.submitFileExplorerFolderSuggestion(v.path)}:(nt=t.getBrowsingHistoryItem(v),nt?(tt=v.url,v.click=function(){return e.launchUri(tt)},v.getIcon=e.getEdgeIcon):v.click=function(){return e.launchDeviceItem(v.deviceItem,u)});y&&v.type!="IBA"||t.isSetting(v.type)||t.isFileOrFolder(v.type)&&v.type!="LDOC"?v.getMruData=function(){return{type:v.type,handoffType:v.handoffType,hc:v.hc,highConfidenceMetaSuggestionScore:v.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:v.prefetchConfidenceScore,id:r.deviceItem.id,suggestionKey:t.getSuggestionKey(v),appContextData:v.appContext?{appContext:v.appContext,query:v.query,textWithoutHH:HitHighlightingParser.removeMarkers(v.text)}:undefined}}:(k=t.getCommandLineItem(v),k?v.hc=t.isRealCommand(v,k):h=="PBI"&&(v.hc=r.deviceItem.rankScore>900));it=t.getGroupType(v);t.shouldSetThisPcGroupSource(it,i)&&(v.sourceForGroup=1);dt(i,p,t.isL2(i),t.supportsShortcuts(u,i),v,u,e);t.RuntimeConfig.QfMode==5&&(v.additionalInfoText=undefined,v.primaryMetadata=undefined,v.secondaryMetadata=undefined);o(v,"parseLocalSuggestion "+u)&&a(v)&&l.push(v)}}function ii(n,i){u(n,function(){var r,u;return n.duplicates&&(r=n.duplicates.find(function(n){return n.handoffType==7||n.handoffType==8}),r)?(u=[],u.push({verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenInBrowser],displayName:i.getLocString("OpenInBrowser"),executeSync:function(){return i.launchUri(r.url+(r.handoffType==8?"?web=1":""))},icon:{type:1,content:"&#xE774"}}),r.locationUrl&&u.push({verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:i.getLocString("OpenFileLocationIn",t.getGroupSourceDisplayName(r.sourceForGroup,i)),executeSync:function(){return i.launchUri(r.locationUrl)},icon:{type:2,content:"&#xE838"}}),u):[]},!0)}function it(i,r){return!t.config.enableFallbackIconsForJumpLists||!p[i]?!1:n.contains(p[i],r)}function ri(n,i,r,f,e,o,s,h){var l=r.id,p=r.filePath,v=t.config.enableJumplistRestrictions&&ut[l],b,w;if(!v&&p&&t.config.enableJumplistRestrictions){b=p.toLowerCase();for(w in y)if(b.includes(w)){v=y[w];break}}v&&v.length==0||(t.RuntimeConfig.AlwaysWide||!ft.find(function(n){return n==l}))&&(i.calculateChildSuggestions=function(){return ui(n,l,p,i,r,v,f,e,o,s,h)},t.config.maxJLcm&&u(i,function(n){var u=[],o,s;return n||(i.calculateChildSuggestions&&i.calculateChildSuggestions(),!i.childSuggestions||t.RuntimeConfig.AlwaysWide&&i.previewPaneType||(o=!1,i.childSuggestions.filter(function(n){return n.type=="JL"&&!n.displayed&&n.groupType==t.GroupType.JumpListTasks}).slice(0,t.config.maxJLcm).forEach(function(n){o=!0;var t=it(i.deviceItem.id,n.groupType)?i.getIcon:c(n.jumpListItem,n.parent,!1,l),s={verb:"JumpListTask_"+l+"_"+n.text,displayName:n.text,executeSync:function(){return a(r,n,f,e)},getIcon:t};u.push(s)}),s=!1,i.childSuggestions.filter(function(n){return n.type=="JL"&&!n.displayed&&n.groupType!=t.GroupType.JumpListTasks}).slice(0,t.config.maxJLcm).forEach(function(n,t){var i,h;o&&!s&&(i={},u.push(i));s=!0;h={verb:"JumpList_"+l+"_"+t,displayName:n.text,executeSync:function(){return a(r,n,f,e)},getIcon:c(n.jumpListItem,n.parent,!0,l)};u.push(h)}))),u},!0))}function ui(i,r,u,f,e,s,v,y,p,w,b){var nt,d,ot,k,tt,ft,g,ut,et,ct;if(f.calculateChildSuggestions=null,nt=e.jumpList,nt&&nt.length!=0){for(d=u||"",ot=d.indexOf("}"),d=d.substr(ot+1),k=[],tt=0,ft=nt;tt<ft.length;tt++)if(g=ft[tt],!s||n.contains(s,g.type)){var st=l(g.type),ht=st!=t.GroupType.JumpListTasks,lt=function(u){var w;if(rt(u))return"continue";var b=it(f.deviceItem.id,l(g.type))?f.getIcon:c(u,f,ht,r),h="JL",s=t.createSuggestion(i,u.displayName,b,null,h,u.displayName,n.InstrumentedItem.createInstrumentedItem(p,h),2,f.sequenceNumber,ht,null,null,!0);s.click=function(){return a(e,s,v,y)};s.jumpListItem=u;s.groupType=st;s.groupDisplayName=g.name;s.parent=f;s.tooltip=u.description;w=d&&u.path.endsWith(d);w||(s.path=u.path);o(s,"calculateJumpListSuggestions")&&(k.push(s),fi(e,s,v,y))};for(ut=0,et=g.items;ut<et.length;ut++)ct=et[ut],lt(ct)}k.length>0&&(f.childSuggestions=f.childSuggestions?f.childSuggestions.concat(k):k,h(k,v),b.instrumentDataSource(p,w,k,null))}}function c(n,i,r,u){return function(f,e){return t.getIcon(n,u+"_"+n.path+"_"+n.displayName,"jumpList",!r,!1)(f,function(n){n?e(n):i.getIcon(f,e)})}}function rt(i){return i.displayName?!t.RuntimeConfig.AlwaysWide&&n.olderThan2Weeks(i.lastAccessed)?!0:!1:!0}function l(n){switch(n){case 0:return t.GroupType.JumpListTasks;case 1:return t.GroupType.JumpListPinned;case 2:return t.GroupType.JumpListRecent;case 3:return t.GroupType.JumpListFrequent;default:return t.GroupType.JumpListCustom}}function a(n,i,r,u){t.Promise.safeChain("launchJumpList",function(){return i.jumpListItem.launchAsync()},null,function(){i.jumpListItem.deleteAsync&&t.DialogBox?t.DialogBox.show(r.getLocString("JumpListItemUnavailableDeleteConfirmation"),[{id:null,text:r.getLocString("Cancel"),selected:!0,action:function(){return r.setFocusInSearchBox(null,"jumpListItemDialogBoxCancel")}},{id:null,text:r.getLocString("Remove"),selected:!1,action:function(){v(n,i,r,u);r.setFocusInSearchBox(null,"jumpListItemUnavailable1")}}]):(u.showTemporaryMessage(r.getLocString("JumpListItemUnavailable")),v(n,i,r,u),r.setFocusInSearchBox(null,"jumpListItemUnavailable2"))})}function v(n,i,r,u){var f=function(){return ei(i)},e;i.jumpListItem.deleteAsync?(e=i.parent.childSuggestions.length==1,t.Promise.safeChain("deleteJumpList",function(){return i.jumpListItem.deleteAsync()},function(){n.getJumpListAsync&&t.Promise.safeChain("getJumpListAsync",function(){return n.getJumpListAsync()},function(n){e&&n.some(function(n){return l(n.type)==i.groupType&&n.items.some(function(n){return!rt(n)})})?f():(r.refreshCurrentPane(),u.showTemporaryMessage(r.getLocString("RemovedFromList",i.text)))},f)},f)):f()}function fi(n,t,i,r){t.jumpListItem.deleteAsync&&u(t,function(){var u={verb:"RemoveFromThisList",displayName:i.getLocString("RemoveFromThisList"),executeSync:function(){return v(n,t,i,r)},icon:{type:2,content:"&#xE711"}};return[u]},!0)}function ei(n){var i=_ge(n.id);t.setVisibility(i,!1);n.suppressed=!0}function oi(n,t,i){if(n&&n.uxHint){var r=t?HitHighlightingParser.addMarkers(n.uxHint,t):n.uxHint;return i.getLocString("RelatedSynonym",r)}return null}var r=SearchAppWrapper.CortanaApp,ut={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[0],"Microsoft.InternetExplorer.Default":[0],Chrome:[0],"360browser":[0]},y={skype:[],outlook:[0],"360browser":[0],chrome:[0],iexplore:[0],opera:[0],firefox:[0],safari:[0]},e=[[t.MatchType.LastModifiedBy,"lastModifiedBy"],[t.MatchType.Author,"author"],[t.MatchType.Artist,"artist"],[t.MatchType.Album,"album"],[t.MatchType.Genre,"genre"],[t.MatchType.Tags,"tags"],],p={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[t.GroupType.JumpListTasks],"Microsoft.MicrosoftStickyNotes_8wekyb3d8bbwe!App":[t.GroupType.JumpListTasks],"Microsoft.XboxApp_8wekyb3d8bbwe!Microsoft.XboxApp":[t.GroupType.JumpListCustom],"com.squirrel.Teams.Teams":[t.GroupType.JumpListTasks],"Microsoft.ScreenSketch_8wekyb3d8bbwe!App":[t.GroupType.JumpListTasks]},ft=["Microsoft.Windows.Explorer",],d;t.getFileExtension=et;t.toDate=ot;t.getTodayTimeString=st;t.setFileTemplate=f;t.enrichMetadataFromDuplicate=ht;t.getOneDriveSuggestionIcon=ct;t.getIconForTypeAsync=b;t.isValidIcon=k;t.isValidSuggestion=o;t.setExtraVerbs=u;t.setExtraVerbsAsync=lt;d=function(){function i(n,t,i){this._host=n;this._instrumentationHelper=t;this._temporaryMessageHandler=i}return i.prototype.parse=function(i,r,u,f,e,o){for(var v,y,s=this,c=[],p=function(t){n.safeExecute(function(){return tt(i,t,u,r,s._host,s._temporaryMessageHandler,t.suggestionType,s._instrumentationHelper,c,function(){return!0})},"parseLocalSuggestion "+u)},l=0,a=f.suggestions;l<a.length;l++)v=a[l],p(v);(t.isFileOrFolderLocalDataSource(u)||u=="IBA")&&h(c,this._host);y={maxedOut:f.maxedOut};o(u,c,y)},i}();t.SuggestionsParser=d;t.lookupById=wt;t.decorateSuggestionsWithParentFolder=h;t.parseLocalSuggestion=tt})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){i.currentCIVersion="-1";var r=function(){function r(u,f,e,o){var s=this;(this._ariaLogger=e,this._lightweightStorage=o,f.bindShown(function(){var n=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=n?String(n.version):"-1"}),f.hasFallbackHappened())||f.bindAppHidden(function(){var a,h,o;if(n.isBingEnabled()&&n.isBrowserOnline()){var w=n.getWindowHost().toLowerCase(),nt=w=="bing.com"||w.endsWith(".bing.com"),tt=typeof ClientTestHooks=="undefined";if(!nt&&(tt||!ClientTestHooks||!ClientTestHooks.isTesthookParamSet("isTest")))return;if(a=s._lightweightStorage.getItem(r.LastCIDownloadAttemptKey),h=null,a&&(h=new Date(a)),h&&(s.getTimeDiffInMins(h)<t.config.waitBetweenCIDownloadCallsInMins?t.config.waitBetweenCIDownloadCallsInMins:0))return;o=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=String(o.version);var v=t.getCurrentLanguage(),e=t.config.ciVersion,b=u.urlResult,f=s.parseUrlResult(b),k=i.currentCIVersion,d=s.getUrlForCiCab(e,v),g=n.contains(t.config.blacklistedCiVersions,o.version)&&e<o.version,it=e==f.version&&f.errorCode!="00000000";if(e>0&&t.config.supportedCiMarkets[v]&&(v!=o.language||e>o.version||g||it)&&(!f.url||g||u.lastUrl==f.url||f.errorCode!="00000000")){var y="cis_v"+e,p="ci_v"+e,c=s._lightweightStorage.getItem(y)?parseInt(s._lightweightStorage.getItem(y)):0,l=s._lightweightStorage.getItem(p)?parseInt(s._lightweightStorage.getItem(p)):0;s._lightweightStorage.setItem(r.LastCIDownloadAttemptKey,n.getCurrentDate().toString());t.Promise.safeChain("constraintIndexDownloader.tryDownloadFromUrlAsync",function(){return u.tryDownloadFromUrlAsync(d)},function(n){if(n){var t=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=String(t.version);c++;s._lightweightStorage.setItem(y,c.toString())}else SharedLogHelper.LogError("constraintIndexDownloader.tryDownloadFromUrlAsync","urlResult: "+b,"Download failed");l++;s._lightweightStorage.setItem(p,l.toString());s._ariaLogger&&(f=s.parseUrlResult(u.urlResult),s._ariaLogger.logCIDownloadStatus(i.currentCIVersion==String(e)&&n,!1,f.version==1?!0:!1,String(e),k,i.currentCIVersion,c.toString(),l.toString(),f.errorCode))},function(n){s._ariaLogger&&(f=s.parseUrlResult(u.urlResult),s._ariaLogger.logCIDownloadStatus(!1,!0,f.version==1?!0:!1,String(e),k,i.currentCIVersion,c.toString(),l.toString(),f.errorCode,n.message))},null,d)}}})}return r.prototype.parseUrlResult=function(n){var r=null,t=null,u=1,i,f;return n&&(i=n.split(":0x"),i.length>1?(r=i[0],t=i[1],t!="00000000"&&SharedLogHelper.LogError("constraintIndexDownloader.urlResult",t,"Download encountered problems"),f=this.getContstraintIndexInfo(r),u=f.version):SharedLogHelper.LogError("constraintIndexDownloader.parseUrlResult","urlResult: "+n,"Invalid URL")),{url:r,version:u,errorCode:t}},r.prototype.getContstraintIndexInfo=function(n){var r=-1,u="",t,i;return n&&(t=n.split("/"),t.length>1?(i=t[t.length-1].split("."),u=i.length==2?i[0]:"",r=+t[t.length-2]):SharedLogHelper.LogError("constraintIndexDownloader.getContstraintIndexInfo","url: "+n,"Invalid URL")),{version:r,language:u}},r.prototype.getUrlForCiCab=function(n,t){return"https://www.bing.com/bcs/ci/"+n+"/"+t+".cab"},r.prototype.getTimeDiffInMins=function(t){if(!n.isValidDate(t))return 0;var i=t.getTime(),r=n.getCurrentTime();return Math.round((r-i)%864e5%36e5/6e4)},r.LastCIDownloadAttemptKey="LastCIDownloadAttempt",r}();i.ConstraintIndexDataLoader=r})(i=t.ConstraintIndex||(t.ConstraintIndex={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var r="OneDrive provider called without {0}",u=function(i){function u(n){var t=i.call(this,"MODC")||this;return t._accessTokenManager=n,t}return __extends(u,i),u.prototype.getName=function(){return"MyStuffOneDriveDataProvider"},u.prototype.getAllAccountTokens=function(i){if(t.RuntimeConfig.QfMode==5){var u=SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootAccount;u?this._accessTokenManager.getAccountByUserName(!1,0,u,!1,!0,function(n){n&&n.Token?i([n.Token]):i(null,"AccountNotFound")},"Windows"):t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess?this._accessTokenManager.getAllSyncingAccounts(!1,0,!1,!0,function(n){n.length>0?i(n.map(function(n){return n.Token})):i(null,"NoAccountsFound")},"Windows"):(SharedLogHelper.LogError("MyStuffOneDriveParser","QfMode="+t.RuntimeConfig.QfMode,new Error(n.formatString(r,["currentSyncRootAccount"]))),i(null,"CurrentSyncRootAccount"))}else t.getAuthAccountForCloudContent()=="Windows"&&t.cortanaAccountType!=3&&t.getWindowsAndCortanaAccountIdentityDiff()!=1&&t.substrateProvidersEnabled()?this._accessTokenManager.getAccount(0,t.getBingResourceOrScope(0),!1,!0,function(n){n&&n.Token?i([n.Token]):i(null,"NoAccountsFound")},"Windows"):i(null)},u.prototype.getBaseUrl=function(){return t.config.myStuffOneDriveRootUrl},u.prototype.getPostBody=function(n){return n.taskFrame?n.taskFrame.raw:""},u.prototype.fetch=function(t,r,u,f,e,o,s){var l=this,h,c;n.isDataSourceEnabled(this._dataSource,t)&&(h={numOfPendingResponses:0},c=function(c){var v=Object.assign({},s),a;c&&(v["X-Search-RPSToken"]=c);a=Object.assign({},o);delete a[n.Service.QueryParams.ImpressionGuid];delete a[n.Service.QueryParams.RequestElToken];i.prototype.fetch.call(l,t,function(n,t,i,u,f){--h.numOfPendingResponses;r(n,t,i,u,f,h.numOfPendingResponses!=0)},u,f,e,a,v)},this.getAllAccountTokens(function(n,t){t?r(l._dataSource,null,t,null,null,!1):n?(h.numOfPendingResponses=n.length,n.forEach(function(n){return c(n)})):(h.numOfPendingResponses=1,c(null))}))},u}(n.JsonDataProvider),i;t.MyStuffOneDriveDataProvider=u;i=function(){function i(n){this._host=n}return i.prototype.parse=function(n,i,r,u,f,e){var o=[];u&&(u.Results?(this.addContent(n,o,u.Results.OneDriveDocuments,"FL",t.Scope.Documents,i),this.addContent(n,o,u.Results.OneDriveFolders,"FD",t.Scope.Folders,i),this.addContent(n,o,u.Results.OneDriveImages,"LI",t.Scope.Photos,i),this.addContent(n,o,u.Results.OneDriveVideos,"LV",t.Scope.Videos,i),this.addContent(n,o,u.Results.OneDriveAudio,"MU",t.Scope.Music,i)):SharedLogHelper.LogError("MyStuffOneDriveParser",null,new Error("Missing Results property")));t.decorateSuggestionsWithParentFolder(o,this._host);e("MODC",o,null)},i.prototype.addContent=function(i,r,u,f,e,o){var s=this,c,l,v,a;if(u&&n.isSuggestionTypeEnabled("MODC",f,7,i)){var h=t.Scope[e],y=function(u){var k,c,d,w,g,b;if(!u.Content)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing Content property")),{value:void 0};if(c=u.Content.OneDriveData,!c)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing OneDriveData property")),{value:void 0};if(d=c.propertyHits.length==1&&c.propertyHits[0]=="TextContent",d&&(!t.config.minLengthForContentMatch||i.queryToFetch.length<t.config.minLengthForContentMatch))return{value:void 0};if(w=c.SeeMore,!w)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing SeeMore property")),{value:void 0};var v=t.getEffectiveQuery(i),a=t.decodeHtml(c.Name),y=void 0;if(a.includes(HitHighlightingParser.startMarker)?y=HitHighlightingParser.removeMarkers(a):(y=a,a=HitHighlightingParser.addMarkers(y,v)),f=="FL"&&(g=c.FullPath.lastIndexOf("\\"),g!=-1)){var nt=c.FullPath.substr(g+1),tt=HitHighlightingParser.addMarkers(nt,v),rt=!tt.includes(HitHighlightingParser.startMarker)&&a.includes(HitHighlightingParser.startMarker);rt||(a=tt,y=nt)}var it=t.ScopeConfig[e].icon,ut=t.isMedia(f),ft=t.getOneDriveSuggestionIcon(ut,it,c.Thumbnail.replace(":Thumbnail",":Cropped176x176#h=176&w=176"),c.Extension,c.Id),l=t.createSuggestion(i,a,ft,it,f,y,n.InstrumentedItem.createInstrumentedItem(o,f),7,o,!0);l.url=w;l.path=c.FullPath;l.matchedOnlyOnContent=d;l.lastModifiedDate=t.toDate(c.DateModified);c.Extension&&(l.extensionLC=c.Extension.toLocaleLowerCase());b=void 0;f=="FL"&&c.TextContent&&n.contains(c.propertyHits,"TextContent")&&(k=t.tryGetTextContentMatch(c.TextContent,v),l.textContentIfMatched=k[0],b=k[1]);c.Artist&&(l.artist=HitHighlightingParser.removeMarkers(c.Artist));c.Album&&(l.album=HitHighlightingParser.removeMarkers(c.Album));a.includes(HitHighlightingParser.startMarker)||(b?l.match=b:c.Path&&n.contains(c.propertyHits,"Path")&&(l.match=t.tryGetLocationMatch(c.Path,v)));l.sourceForGroup=2;t.setFileTemplate(i,v,t.isL2(i),l,p._host);l.click=function(){return s._host.launchUri(w)};c.LocationUrl&&(l.locationUrl=c.LocationUrl,t.setExtraVerbs(l,function(){var n={verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:s._host.getLocString("OpenFileLocationIn",t.getGroupSourceDisplayName(2,s._host)),executeSync:function(){return s._host.launchUri(c.LocationUrl)},icon:{type:2,content:"&#xE838"}};return[n]},!0));t.isValidSuggestion(l,"MyStuffOneDriveParser "+h)&&r.push(l)},p=this;for(c=0,l=u;c<l.length;c++)if(v=l[c],a=y(v),typeof a=="object")return a.value}},i}();t.MyStuffOneDriveParser=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,r="AFC",u=864e5,f=t.config.activityFeedWindow||30,s=[1,7,f],e=4,h=32,c=32,l=function(){function o(n){var t=this;n.bindDismissed(function(){t._fetchContext&&(t._fetchContext.fetchInProgress=!1,t._fetchContext=null)});n.bindShown(function(){t._userActivityItemsCache=null})}return o.prototype.getName=function(){return"ActivityFeedDataProvider"},o.prototype.fetch=function(i,u,e,o,h){var l=this,c;i.enabledDataSources[r]&&(o.register(function(){l._callback=null},!1,"AFCfetch"),this._callback=u,this._userActivityItemsCache?(c=this._fetchContext&&this._fetchContext.fetchInProgress,n.invokeAsynchronously("ActivityFeedDataProvider.callback",function(){h()&&u(r,{items:l._userActivityItemsCache.slice(0)},undefined,c?3:1,undefined,c)})):this._fetchContext||(this._fetchContext={fetchInProgress:!0},this.fetchChunked(0,this.getUserActivityItemsCount(),0,t.config.chunkAFCReqs?s:[f],this._fetchContext)))},o.prototype.fetchChunked=function(t,i,r,f,e){var o=this;if(t>=i){SharedLogHelper.LogError("AFCfetchChunked",null,new Error("targetItemCount <= itemCount"));e.fetchInProgress=!1;return}var s=n.getCurrentTime(),h=new Date(s-r*u),c=new Date(s-f[0]*u);this.getUserActivityItemsWithOptionsAsync(function(n){if(e.fetchInProgress){t+=n.length;var r=t<i&&f.length>1&&f[1]>f[0];o.onChunkReceived(n,r);r?o.fetchChunked(t,i,f[0],f.slice(1),e):e.fetchInProgress=!1}},c,h,i-t)},o.prototype.onChunkReceived=function(n,t){var i;this._userActivityItemsCache||(this._userActivityItemsCache=[]);(i=this._userActivityItemsCache).push.apply(i,n);this._callback&&this._callback(r,{items:n},undefined,undefined,undefined,t)},o.prototype.getUserActivityItemsWithOptionsAsync=function(r,u,f,e){var s=i.userActivityForWebHelper,o;n.safeExecute(function(){o=s.createActivityQueryOptions();o.endTime=f;o.startTime=u;o.collapseOnActivityId=!0;o.activitySortAggregationType=4;o.activitySortByProperty="System.ActivityHistory.EndTime";o.activitySortOrder=0},"createActivityQueryOptions",undefined,undefined,function(){return o=null});o?t.Promise.safeChain("getUserActivityItemsWithOptionsAsync",function(){return s.getUserActivityItemsWithOptionsAsync(e,!!t.config.filterActivitiesToActivatableItems,o)},r,function(){return r([])}):r([])},o.prototype.getUserActivityItemsCount=function(){var n=i.textScaleFactor||1;return t.RuntimeConfig.AlwaysWide&&n==1?e:e-1},o}(),o;t.ActivityFeedDataProvider=l;o=function(){function r(n){var t=this;this._host=n;this._getEdgeIcon=n.getEdgeIcon;n.bindShown(function(){t._isInternetConnectionMetered=n.isInternetConnectionMetered()})}return r.prototype.parse=function(n,r,u,f,e,o,s){var c=this,h,l;t.config.backplateAllIconsInZI?this.innerParse(n,r,u,f,e,o,s):(h={},f.items.forEach(function(n){n&&n.appId&&(h[n.appId]=n.appId)}),l=Object.keys(h),t.Promise.safeChain("ActivityFeedSuggestionsParser parse",function(){return i.queryFormulationView.deviceSearch.findAppsAsync(l)},function(t){return c.innerParse(n,r,u,f,e,o,s,t)},function(){return c.innerParse(n,r,u,f,e,o,s)},s))},r.prototype.innerParse=function(i,r,u,f,e,o,s,h){for(var y,a=[],p=function(f){var y=!h||h[f.appId]&&h[f.appId].isImmersive,o=c.getGetIcon(f,y),s=c.getIcon(f,o),l="AFC",e=t.createSuggestion(i,f.activityDisplayText,s?undefined:o,s,l,f.activityDisplayText,n.InstrumentedItem.createInstrumentedItem(r,l),18,r,t.localDataSourceMayContainPII(u),f.id,function(){return f.launchActivity()}),v;e.additionalInfoText=f.description||f.contentUri;e.tooltip=f.activityDisplayText;e.additionalInfoText&&(e.tooltip+="\n\n"+e.additionalInfoText);f.deleteActivityAsync&&t.config.deleteActivity&&(v={verb:"RemoveFromActivityFeed",displayName:c._host.getLocString("RemoveFromActivityFeed"),executeSync:function(){return f.deleteActivityAsync()},icon:{content:"&#xE711",type:2}},n.WSB.setExtraVerbs(e,function(){return[v]},!1));a.push(e)},c=this,l=0,v=f.items;l<v.length;l++)y=v[l],p(y);o(u,a,undefined)},r.prototype.getIcon=function(n,t){return n.appImageUri&&!this._isInternetConnectionMetered?{content:n.appImageUri,type:0,canFail:!0,isValidSize:function(n,t){return n>=h&&t>=c},getFallbackIcon:t}:undefined},r.prototype.getGetIcon=function(n,i){return n.appId==t.EdgeAppId?this._getEdgeIcon:t.Promise.safeChainWithGlobalCaching("activityFeedClientIcon",function(r){return n.getActivityAppLogoAsync(t.getImageSizeValue(r)).then(function(r){return t.toIcon(r,"activityFeedClientIcon toIcon",null,i?n.logoBackgroundColor:undefined)})},function(i){return n.id+"_"+t.getImageSizeValue(i)+"px"})},r}();t.ActivityFeedSuggestionsParser=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function t(t){var i=this;t.bindQueryChangedOrInitialized(function(){(!n.config.keepLastKeystrokeCache||i._currentWebSignals)&&(i._previousWebSignals=i._currentWebSignals,i._currentWebSignals=null);(!n.config.enableCISpeller||i._currentSpellerTrigger)&&(i._previousSpellerTrigger=i._currentSpellerTrigger,i._currentSpellerTrigger=null)});t.bindConversationStart(function(){i._previousWebSignals=null;i._currentWebSignals=null;i._previousSpellerTrigger=null;i._currentSpellerTrigger=null;i._previousBestMatchSuggestion=null;i._previousQuery=null})}return t.prototype.setPreviousQuery=function(n){this._previousQuery=n},t.prototype.getPreviousQuery=function(){return this._previousQuery||""},t.prototype.updateWebSignalsData=function(n,t){this._currentWebSignals={query:n,signals:t}},t.prototype.setPreviousTopHit=function(n){this._previousBestMatchSuggestion=n},t.prototype.getPreviousTopHit=function(){return this._previousBestMatchSuggestion},t.prototype.updateSpellerTriggerData=function(n,t){this._currentSpellerTrigger={query:n,triggerSpeller:this.triggerSpellerOnTheNextKeyStroke(t,n)}},t.prototype.getPreviousEventWebSignalsData=function(n){return this._previousWebSignals&&this.isPreviousEventQuery(this._previousWebSignals.query,n)?this._previousWebSignals.signals:null},t.prototype.disableCISpeller=function(n){return this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.isPossibleFirstMisspelling(n,this._previousSpellerTrigger.query)?!0:!1},t.prototype.enableCISpeller=function(t){return n.config.enableCISpeller?this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.disableCISpeller(t)?!1:this._previousSpellerTrigger&&this.isPossibleFirstMisspelling(this._previousSpellerTrigger.query,t)?!0:this._previousSpellerTrigger&&(this.isTypedEventQuery(this._previousSpellerTrigger.query,t)||this.isBackspaceEventQuery(this._previousSpellerTrigger.query,t))&&this._previousSpellerTrigger.triggerSpeller:this._previousSpellerTrigger&&this.isPreviousEventQuery(this._previousSpellerTrigger.query,t)&&this._previousSpellerTrigger.triggerSpeller},t.prototype.triggerSpellerOnTheNextKeyStroke=function(t,i){return n.config.enableCISpeller==1?!0:t.every(function(n){return n.notAResult})?!0:t.length>0&&this.isWebSpellCorrectedSuggestion(t[0])&&t.every(function(n){return n.handoffType==0})?!0:n.config.enableCISpeller==2&&!t.some(function(t){return n.isApp(t.type)||n.isSetting(t.type)})?!0:this.enableCISpeller(i)?!0:!1},t.prototype.isWebSpellCorrectedSuggestion=function(n){return n.type=="SC"||n.type=="OS"},t.prototype.isPreviousEventQuery=function(n,t){return n&&t&&n.length==t.length-1&&t.startsWith(n)},t.prototype.isBackspaceEventQuery=function(n,t){return n&&t&&n.length==t.length+1&&n.startsWith(t)},t.prototype.isTypedEventQuery=function(n,t){return(n||n==="")&&t&&n.length<t.length&&t.startsWith(n)},t.prototype.isPossibleFirstMisspelling=function(t,i){if(n.config.firstMisspellingOnMatchedQuery&&this._previousBestMatchSuggestion){var r=this._previousBestMatchSuggestion.ciMatchedQuery||this._previousBestMatchSuggestion.query;return r.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!r.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1}return this._previousBestMatchSuggestion&&this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1},t}();t.PreviousKeystrokeCache=i})(t=n.Cache||(n.Cache={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(t){function c(n,t){e=n;var s=_ge("dialogBox");s&&(sj_be(s,"click",function(n){var r=n.target.id,t=i.filter(function(n){return n.id==r}).shift();t?(t.action&&t.action(),u()):r=="dialog_overlay"&&u();sj_sp(n)},!0),t.bindKeyDown(function(n){var e,o,t,s,u,i;if(r){e=void 0;switch(n){case 39:for(t=f(),o=!1,u=0,i=void 0;i=t[u];u++)if(o){e=i;break}else if(o=i.selected==!0,o&&u+1==t.length){e=t[0];break}break;case 37:for(t=f(),s=void 0,u=0,i=void 0;i=t[u];u++){if(i.selected==!0){e=s?s:t[t.length-1];break}s=i}}e&&h(e)}}),t.bindKeyEscape(function(n){o()&&(u(),n.handled=!0)}))}function l(t,u){var f,o;if(i=[],u.length==0)throw new Error("DialogBox: Empty buttons array");i=u.map(function(n,t){var i=n;return i.id="dialog_b"+t,i.narratorText=i.text,i.selected&&(f=i.id),i});o={isVisible:!0,messageText:t,buttons:i};e.updateDialogBox(o);f&&n.safeSetTimeout(function(){return _ge(f).focus()},0,"DialogBox.show");r=!0}function u(){if(r)e.updateDialogBox({isVisible:!1}),r=!1}function o(){return r}function f(){return i}function a(){return f().map(function(n){return[n]})}function s(){return f().filter(function(n){return n.selected}).shift()}function h(n){for(var r,t=0,u=i;t<u.length;t++)r=u[t],r.selected=r.id==n.id,r.selected&&_ge(n.id).focus()}function v(){if(o()){var n=s();n&&(n.action&&n.action(),u())}}function y(){return!1}var i=[],e,r=!1;t.init=c;t.show=l;t.hide=u;t.isVisible=o;t.getSelectableItems=f;t.getSelectableItemsByGroup=a;t.getSelectedItem=s;t.select=h;t.submit=v;t.onAfterKeyDown=y})(i=t.DialogBox||(t.DialogBox={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function l(n){return n.includes("form=vsranf")}function a(t){var i=n.tryParseUrl(t,!0);return!!i&&/[\?\&]q=/i.test(i.parameters)&&!/[\?\&]view=detail/i.test(i.parameters)}function vt(t){var i=n.tryParseUrl(t,!0);return!!i&&at.test(i.parameters)}function yt(n){switch(n){case 17:case 1:case 0:return 1;case 13:return 2;case 14:return 3;default:throw Error("Unsupported handoff type: "+n);}}function v(n){switch(n){case 1:return 1;case 2:return 7;case 3:return 8;default:throw Error("Unsupported vertical: "+n);}}function y(t){var i=n.tryGetBingPathLC(t);return i?n.contains(ct,i)?2:n.contains(lt,i)?3:n.contains(n.WebSearchPaths,i)?1:null:null}var s=t.PreviewPaneWidth-24,w="miniserp_focus",b="disableOutline",r=2,k=["tab-active","slide"],d=["aria-expanded"],g="videoPreview",nt=300,f=30,tt="IsSearchAppXYFocusEnabled",it="WinJS",rt="dFocusExit",i="win-xyfocus-suspended",h="MiniSerpContentLoaded",ut="Rewards.ReportActivity.Success",ft="Rewards.ReportActivity.Failure",p,o;t.MiniSerpFetchEvent="miniSERP.Fetch";var et=["/account/","/settings.aspx"],u=function(){var n={};return n[37]="left",n[39]="right",n[38]="up",n[40]="down",n}(),ot=1e4,c=800,st=100,ht=["&form=s00037&"],ct=["/images/search","/images"],lt=["/videos/search","/videos"],at=/[\?\&]FORM=HDRSC[1-3]/i,e="ClientInst";p=function(){function i(i,r,f,e,o,s,c){var l=this;this._page=i;this._host=r;this._navigationHelper=f;this._instrumentationHelper=e;this._sequenceNumberManager=o;this._msRewardsViewModel=s;this._latencyInstrumentation=c;this._deviceScale=1;this._previewRequestId=0;this._previousURLs=[];this.blockedMiniSERPUrls=[_w.location.origin+_w.location.pathname];this._root=_ge("qfPreviewPane");this._seeAllResults=_ge("seeAllResults");this._footer=_ge("footer");this._mask=_ge("previewMask");this._forceLoadScreen=_ge("forceLoadMessage");this._contentContainer=_ge("previewContainer");this._scrollArea=_ge("qfPreviewScrollArea");this._loadingScreen=_ge("loadingScreen");sj_be(this._scrollArea,"scroll",function(t){l._iframe&&n.contains([2,3],l._currentVertical)&&l._iframe.contentWindow.dispatchEvent(new Event(t.type,t));l._calculateIFrameHeight&&l._calculateIFrameHeight()});this._footer&&sj_be(this._footer,"keydown",function(i){l._iframe&&n.isUpOrDownKey(i.keyCode)?(i.keyCode==38?l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocusToEdgeFocusableElement(1)}):t.RuntimeConfig.AllowKeyboardNavCycling&&l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocusToEdgeFocusableElement(0)}),sj_pd(i),sj_sp(i)):i.keyCode==13&&l._footer.click()});this._mask&&t.RuntimeConfig.MiniSERPMode!=0&&sj_be(this._mask,"keydown",function(n){n.keyCode==13&&l._mask.click()});sj_be(_w,"message",function(n){var r=n.data?n.data.msWinJSXYFocusControlMessage:null,i,f;r&&r.type==rt&&(i=r.direction,f=r.keyCode,l._focusHelper&&!l._focusHelper.isL2Visible()&&l._focusHelper.getXYFocusRoot()!=l._originalMiniSerpXYFocusRoot?(l._focusHelper.setXYFocusRoot(l._originalMiniSerpXYFocusRoot),l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocus(i,f)})):(i!=u[t.getRtlAdjustedKey(39)]&&n.source.blur(),i==u[40]||i==u[38]&&t.RuntimeConfig.AllowKeyboardNavCycling?l._footer?l._footer.focus():l._focusHelper.moveFocusToEdgeFocusableElement(i==u[38]?1:0):i!=u[t.getRtlAdjustedKey(37)]||l._host.searchBoxHasFocus()||l._host.setFocusInSearchBox(f,"previewPaneUnfocus")))});r.bindShown(function(){ThresholdUtilities.getCortanaHeaders(function(n){n&&n["X-BM-DeviceScale"]&&(l._deviceScale=+n["X-BM-DeviceScale"]/100)});l.setVertical(1)});r.bindAppHidden(function(){l._seeAllResults&&(l._seeAllResults.innerText="");l._currentVertical=null});r.bindSearchBoxGotFocus(function(){l._focusHelper&&l._focusHelper.onSearchBoxFocusChanged()});sj_evt.bind(h,function(){l._onIFrameLoadedCallback&&(l._onIFrameLoadedCallback(),l._onIFrameLoadedCallback=null)});this._msRewardsViewModel&&(sj_evt.bind(ut,function(n){var t=n[1];l._msRewardsViewModel.notifyPointsRewarded(t)}),sj_evt.bind(ft,function(n){var t=n[1];SharedLogHelper.LogError("RewardsReportActivityFailureEvent",null,t?new Error(t):null)}))}return i.prototype.init=function(n){this._previewPaneViewModelParent=n},i.prototype.finalizeKeystroke=function(){},i.prototype.getSelectableItems=function(){return[]},i.prototype.getSelectableItemsByGroup=function(){return[]},i.prototype.getSelectedItem=function(){return null},i.prototype.select=function(){},i.prototype.onAfterKeyDown=function(){return!1},i.prototype.clear=function(){this._previewedSuggestion=null;this._previewedQuery=null;this._onPreviewPaneRendered=null;this._footer&&(t.setVisibility(this._footer,!1),this._footer.onclick=null);this._mask&&(t.setVisibility(this._mask,!1),this._mask.onclick=null);this._forceLoadScreen&&this.clearForceLoadPage();this.clearContent();this._previousURLs=[]},i.prototype.showForceLoad=function(n,i){var r=this;this._instrumentationHelper.logClientInstEvent("Select","ForceLoadOpened",this._sequenceNumberManager.getSequenceNumber(),{suggestionText:n});this.stopLoadingScreen();t.setVisibility(this._scrollArea,!1);t.setVisibility(this._footer,!1);t.setVisibility(this._mask,!1);t.setVisibility(this._forceLoadScreen,!0);this.formatForceLoadPage(n);this._forceLoadScreen.onclick=function(){r.clearForceLoadPage();r.startLoadingScreen();i()}},i.prototype.clearForceLoadPage=function(){for(t.setVisibility(this._forceLoadScreen,!1),t.setVisibility(this._scrollArea,!0),this._forceLoadScreen.onclick=null,this._forceLoadScreen.classList.remove("forceLoadContainer");this._forceLoadScreen.hasChildNodes();)this._forceLoadScreen.removeChild(this._forceLoadScreen.lastChild)},i.prototype.formatForceLoadPage=function(n){var s=this._host.getLocString("ForceLoadMessage"),h=this._host.getLocString("ForceLoadButton"),e=s.split("{0}"),o=sj_ce("div","","accentColor"),r,i,u,f,t;this._forceLoadScreen.appendChild(o);r=_d.createElement("span");r.id="forceLoadIcon";r.innerHTML="&#xE721";o.appendChild(r);i=sj_ce("div","forceLoadQueryText","");i.appendChild(_d.createTextNode(e[0]));u=_d.createElement("span");u.textContent=n;i.appendChild(u);i.appendChild(_d.createTextNode(e[1]));this._forceLoadScreen.appendChild(i);f=sj_ce("div","","");this._forceLoadScreen.appendChild(f);t=_d.createElement("button");t.className="c-button";t.id="forceLoadSubmit";t.type="submit";t.textContent=h;f.appendChild(t)},i.prototype.startLoadingScreen=function(){t.setVisibility(this._scrollArea,!1);t.setVisibility(this._footer,!1);t.setVisibility(this._mask,!1);t.setVisibility(this._loadingScreen,!0)},i.prototype.stopLoadingScreen=function(){t.setVisibility(this._loadingScreen,!1);t.setVisibility(this._scrollArea,!0)},i.prototype.clearContent=function(){for(this._previewRequestId+=1,this._focusHelper=null,this._onIFrameLoadedCallback=null;this._contentContainer.hasChildNodes();)this._contentContainer.removeChild(this._contentContainer.lastChild);this._contentContainer.classList.remove("miniSerpContainer");this._contentContainer.classList.remove("errorMessageContainer");this._iframe&&(this._iframe=null,this._calculateIFrameHeight=null);this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)},i.prototype.hasFocus=function(){if(this._host.searchBoxHasFocus())return!1;var t=n.getCurrentActiveElement();return t&&t!=this._iframe&&this._root.contains(t)},i.prototype.focus=function(){var t=this,n;this.hasFocus()||(this._iframe?(n=this.tryExecuteFocusOnMiniSerp(function(){return t._focusHelper.moveFocusToLastFocusedElement()}),n?this._host.setFocusInWebView("miniserp focus"):this._host.setFocusInSearchBox(null,"MiniSERP VM Focus failed")):this._previewPaneViewModelParent.focusPending=!0)},i.prototype.readyToBlur=function(){return!0},i.prototype.blur=function(){},i.prototype.setVertical=function(n){if(n!=this._currentVertical){if(this._seeAllResults)switch(n){case 1:this._seeAllResults.innerText=t.config.miniSerpPreview?this._host.getLocString("SeeResultsBrowser"):t.config.wsbTransferText?this._host.getLocString("OpenResultsBrowser"):this._host.getLocString("SeeAllResults");break;case 2:this._seeAllResults.innerText=this._host.getLocString("SeeAllImageResults");break;case 3:this._seeAllResults.innerText=this._host.getLocString("SeeAllVideoResults");break;default:throw new Error("Unsupported vertical type: "+n);}this._currentVertical=n}},i.prototype.update=function(i,r,u,f,e){var o=this,s,l,h,v,a,p;if(this._previewedSuggestion=i,this._previewedQuery=r,this._onPreviewPaneRendered=e,s=i.type=="MB"&&i.segments=="Organization"?null:i.baseSearchUrl,l=yt(i.handoffType),this.setVertical(l),this._footer&&(this._footer.onclick=function(t){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(t),3);o._host.launchSearch(i.query,o._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),this._mask&&(this._mask.onclick=function(t){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(t),3);o._host.launchSearch(i.query,o._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),h=l==2&&r.overrideAction==1,t.config.th&&ClientTestHooks.isTesthookParamSet("noSerp")){this.renderIframe(null,"<html><body><\/body><\/html>",{},undefined,h);v=n.getCurrentTime();this._previewPaneViewModelParent.onResponseReceived(v);return}var y=u==0,w=t.RuntimeConfig.QfMode==6?undefined:y?"WMSRPA":"WMSRPM",c=h?this._navigationHelper.getImageSearchUrl(t.config.enableSnipSearchV2):this._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType,w,!0,null,y);c+="&qfig="+this._instrumentationHelper.getImpressionGuid(this._sequenceNumberManager.getSequenceNumber());this._msRewardsViewModel&&this._msRewardsViewModel.isRewardsEnabled()&&(c+="&rewards=1");this._previousURLs=[];h?(a=function(){return o.renderErrorMessage(i.query)},p=r.overrideActionHandlerAsync,p(function(n){n?o.downloadAndDisplayMiniSerp(i,c,n,u,i.previewCallback):(o.miniSerpErrorInstrumentation("notHaveMultipartBody"),a())},function(){o.miniSerpErrorInstrumentation("bingImageSearchActionFailed");a()})):this.downloadAndDisplayMiniSerp(i,c,null,u,i.previewCallback)},i.prototype.miniSerpErrorInstrumentation=function(n,t,i){var r;r=i?{ErrorCause:n,ResponseRecievedTimeStamp:t.toString(),ResponseText:i.responseText,ContentType:i.contentType,ResponseStatusCode:i.status.toString(),RequestStatusCode:i.result.toString()}:{ErrorCause:n};this._instrumentationHelper.logClientInstEvent(e,"MiniSERPError",this._sequenceNumberManager.getSequenceNumber(),r)},i.prototype.renderErrorMessage=function(n){var t=this._host.getLocString("PreviewPaneErrorMessage"),i=t.split("{0}"),r={fullPartialQuery:n,textParts:i};this._page.updatePreviewErrorMessageView(r)},i.prototype.downloadAndDisplayMiniSerp=function(i,r,u,f,e){var h=this,c=!1,l,a,v,y,p,o;t.config.th&&(l=ClientTestHooks.getUrlValue("client"),c=l&&l.toLowerCase()=="windows",a=ClientTestHooks.getUrlValue("previewPaneUrlOverride"),r=a?decodeURIComponent(a):ClientTestHooks.CopyTestParameters(_w.location.search,r),c&&(r=ThresholdUtilities.setUrlParameter(r,"client","windowsMiniSerp")),v=ClientTestHooks.getUrlValue("miniSerpBag"),v&&(r=ThresholdUtilities.setUrlParameter(r,"bag",v)),y=ClientTestHooks.getUrlValue("dummyref"),y&&(r=ThresholdUtilities.setUrlParameter(r,"dummyref",y)));p=f==0;sj_evt.fire(t.MiniSerpFetchEvent,i,p);o=this._host.getCustomHeaders(null);o["X-BM-DeviceDimensionsLogical"]=s+"x"+this._root.clientHeight;o["X-BM-DeviceDimensions"]=String(Math.round(s*this._deviceScale))+"x"+this._root.clientHeight;c||(o["User-Agent"]=navigator.userAgent+" RestrictedAPI");u&&(o["Content-Type"]=u.contentType);(p||t.config.miniSerpStrictv2)&&(o["X-Search-SafeSearch"]="Strict");var w=++this._previewRequestId,b=n.getCurrentTime(),k=function(t){var f=n.getCurrentTime();h._previewPaneViewModelParent.onResponseReceived(f);t.status==200&&t.responseText?(h._latencyInstrumentation&&h._latencyInstrumentation.logMiniSERPRequestLatency(f-b),h._previousURLs.push(r),h.renderIframe(r,t.responseText,o,c,!!u,e)):(h.miniSerpErrorInstrumentation("renderErrorMessage",f,t),h.renderErrorMessage(i.query))};this.fetchMiniSerpUrl(r,u?u.data:null,o,k,w,u?0:t.config.miniSERPRequestRetries)},i.prototype.fetchMiniSerpUrl=function(i,r,u,f,o,s){var h=this,c=f;s>0&&(c=function(n){if(n.result==0&&n.responseText)f(n);else{var r={Url:i,StatusCode:n.status.toString(),Timeout:t.config.miniSERPRequestTimeout.toString(),RetriesRemaining:s.toString()};h._instrumentationHelper.logClientInstEvent(e,"MiniSERPRefetch",h._sequenceNumberManager.getSequenceNumber(),r);h.fetchMiniSerpUrl(i,null,u,f,o,s-1)}});n.fetchUrl(i,u,r,c,null,function(){return o==h._previewRequestId},!0,r?undefined:t.config.miniSERPRequestTimeout)},i.prototype.renderIframe=function(i,r,u,f,e,o){var s=this;this.clearContent();this._iframe=sj_ce("iframe","miniIframeSerp");this._iframe.setAttribute("scrolling","no");this._contentContainer.classList.add("miniSerpContainer");this._contentContainer.appendChild(this._iframe);var l=this._iframe.contentWindow,c=this._iframe.contentDocument,a=!1;this._footer&&(t.setVisibility(this._footer,!e),t.setVisibility(this._mask,!e));this.setIframeHeight(0);this._onIFrameLoadedCallback=function(){var r=c.body,e=0,t;s._calculateIFrameHeight=function(){var n=r.offsetHeight;n!=e&&n>0&&(e=s.setIframeHeight(n))};s._calculateIFrameHeight();s.overrideAjaxCalls(l,u,f);s.captureNavigationsAndSizeEvents(i,r,l,c);s._scrollArea.scrollTop=0;n.contains([2,3],s._currentVertical)&&(t={childList:!0,subtree:!0},s._mutationObserver=new MutationObserver(function(){s._calculateIFrameHeight&&s._calculateIFrameHeight()}),n.safeExecute(function(){s._currentVertical===2?s._mutationObserver.observe(c.getElementById("images"),t):s._currentVertical===3&&s._mutationObserver.observe(c.getElementById("video"),t)},"onIFrameLoadedCallback"));s._msRewardsViewModel&&s._msRewardsViewModel.isRewardsEnabled()&&l.sj_rra&&l.sj_rra(i);s._onPreviewPaneRendered&&(s._onPreviewPaneRendered(!0,!1,null),s._onPreviewPaneRendered=null)};this._iframe.onload=function(){if(a){s.tryLaunchUrl(i,l.location.href,0);return}a=!0;s.overrideAjaxCalls(l,u,f)};c.open();c.write(r);c.write("<base href='"+i+"' target='_parent' />");o&&o(this._iframe.contentWindow);c.write("<script>window.parent.sj_evt.fire('"+h+"')<\/script>");c.close()},i.prototype.setIframeHeight=function(n){return n<c&&(n=c),this._iframe.style.height=n+"px",n},i.prototype.overrideAjaxCalls=function(n,t,i){var r=this;n.sj_gx=function(){var n=sj_gx(),u=n.open;return n.open=function(f,e,o,s,h){if(r.blockedMiniSERPUrls.some(function(n){return e.startsWith(n)}))throw new Error("MiniSERP blocked URL request: iFrame URL: "+r._iframe.contentDocument.baseURI+" requestUrl: "+e);f=="GET"&&i&&(e=ThresholdUtilities.setUrlParameter(e,"client","windowsMiniSerp"));u(f,e,o,s,h);for(var c in t)n.setRequestHeader(c,t[c])},n}},i.prototype.captureNavigationsAndSizeEvents=function(i,r,u,f){var o=this,l;this._focusHelper=this.createFocusHelper(u,f);this._focusHelper&&(this._originalMiniSerpXYFocusRoot=this._focusHelper.getXYFocusRoot());this._previewPaneViewModelParent.focusPending&&(this._previewPaneViewModelParent.focusPending=!1,this.focus());this._iframe.contentWindow.overlay_onBeforeContentLoad=function(){o.setIframeHeight(ot)};this._iframe.contentWindow.overlay_onBeforeSuccess=function(n){o.setIframeHeight(n.clientHeight+st)};var s=function(){u.sj_lc=function(n){if(n)o.tryLaunchUrl(i,n,0);else{var t=o._previousURLs[o._previousURLs.length-2];o._previousURLs.splice(o._previousURLs.length-2,2);o.tryLaunchUrl(i,t,0)}};u.MiniSerp=!0;o._calculateIFrameHeight()},c=function(n){o._focusHelper.setXYFocusRoot(n);o._focusHelper.moveFocusToEdgeFocusableElement(0)},h=u.sj_evt;h?(l=["onP1","ajaxReady"],l.forEach(function(n){return h.bind(n,s)}),h.bind("l2_overlay_visible",function(n){s();var t=o._iframe.contentDocument.getElementById(n[1]);t&&(o._focusHelper.setIsL2Visible(!0),c(t))}),h.bind("l2_overlay_hidden",function(){s();o._focusHelper.setIsL2Visible(!1);c(o._iframe.contentDocument.body)})):s();u.open=function(n){return o.tryLaunchUrl(i,n,0),null};r.onclick=function(r){var u=r.target;if(u){if(u.id=="miniSERPToWeb"){o._instrumentationHelper.logClientInstEvent(e,"AdultExplicitLoad",o._sequenceNumberManager.getSequenceNumber(),{url:i,query:o._previewedSuggestion.query});t.config.miniSerpStrictv2?o._footer.click():(o.clearContent(),o.startLoadingScreen(),o.update(o._previewedSuggestion,o._previewedQuery,2,0,null));return}while(u&&!u.href)u=u.parentNode}u&&o.tryLaunchUrl(i,u.href,n.getInputType(r))==0&&r.preventDefault()}},i.prototype.navigateInPlace=function(n,t,i,r){var u=this,f=v(r),e,o;this._previewPaneViewModelParent.onBeforeItemLaunch(t,i,f);this._footer&&(this._footer.onclick=function(){return u._host.launchSearch(null,u.enrichBingSearchUrlParameters(n),!1)});this.clearContent();this._previewPaneViewModelParent.focusPending=!0;this._previewPaneViewModelParent.startLoadingScreen();e=this.enrichBingSearchUrlParameters(n,!0);this.setVertical(r);o={destinationVertical:r.toString(),url:n};this._instrumentationHelper.logClientInstEvent("Select","NavigateInPlace",this._sequenceNumberManager.getSequenceNumber(),o);this.downloadAndDisplayMiniSerp(this._previewedSuggestion,e,null,1);this._previewPaneViewModelParent.onAfterItemLaunch(f)},i.prototype.tryLaunchUrl=function(i,r,u){var s,f,h,e,c,o,p;if(!r)return 1;if(s=n.getCurrentTime(),r=r.trim(),f=r.toLowerCase(),h=y(r),h!==null&&a(r)&&!l(f)&&(t.config.navigateRequeriesInsideMiniSERP||vt(r))&&h!==this._currentVertical)return this.navigateInPlace(r,s,u,h),0;if(f.startsWith("javascript:location.reload"))return 0;if(r==i+"#"||f.startsWith("javascript:"))return 1;if(f=="/loading")return 0;if(r.startsWith(window.location.href))return SharedLogHelper.LogError("previewPane.tryLaunchUrl",i,new Error("Anchor navigation on PreviewPane")),0;if(r.startsWith("/")&&(r=n.getWindowProtocol()+"//"+n.getWindowHost()+r),e=y(r),e){if(e==this._currentVertical&&a(r)&&(t.config.navigateRequeriesInsideMiniSERP||ht.some(function(n){return f.includes(n)})))return this.navigateInPlace(r,s,u,e),0;r=this.enrichBingSearchUrlParameters(r)}c=e?v(e):2;this._previewPaneViewModelParent.onBeforeItemLaunch(s,u,c);o=n.tryGetBingPathLC(r);o?et.some(function(n){return o.startsWith(n)})||l(f)?this._host.launchUri(t.config.settingsUri):o.startsWith("/profile/interests")?this._host.launchCat1(null,"ms-cortana://navigate/Notebook",null):o.startsWith("/fd/auth/")?t.isCortanaPersonalized?SharedLogHelper.LogError("previewPane.tryLaunchUrl",i,new Error("Redirecting to sign in page when already signed in")):this._host.launchUri("ms-cortana://CapabilitiesPrompt/?RequestedCapabilities=Personalization"):this._host.launchUri(r):(t.config.openSearchTabMiniSerp&&(p=this._previewedSuggestion.baseSearchUrl,p&&this._host.launchUri(this.buildSearchUrl(p),!1)),this._host.launchUri(r));this._previewPaneViewModelParent.onAfterItemLaunch(c);return 0},i.prototype.enrichBingSearchUrlParameters=function(n,t){return t===void 0&&(t=!1),n=this._navigationHelper.enrichUrlWithMarketInfo(n),n=this._navigationHelper.enrichUrlWithDeviceInfo(n),n=this._navigationHelper.enrichUrlWithCvid(n),n=this._navigationHelper.enrichUrlWithSuggestionType(n,this._previewedSuggestion.type),t||(n=this._navigationHelper.enrichUrlWithMuidInfo(n),n=this._navigationHelper.enrichUrlWithSafeSearchInfo(n)),n},i.prototype.createFocusHelper=function(n,t){var i=this.getSearchAppWinJSXYFocus(n);return!i&&SearchAppWinJS&&SearchAppWinJS.initXYFocus&&(SearchAppWinJS.initXYFocus(n),i=this.getSearchAppWinJSXYFocus(n),n[tt]=i?!0:!1),i?new o(t,n,i,this._scrollArea,this._currentVertical):null},i.prototype.getSearchAppWinJSXYFocus=function(n){var i,t=n[it];return t&&t.UI&&(i=t.UI.XYFocus),i},i.prototype.tryExecuteFocusOnMiniSerp=function(n){var t=!1;return this._focusHelper&&(t=n()),t||this._footer&&(this._footer.focus(),t=!0),t},i.prototype.buildSearchUrl=function(t){return _w.location.protocol+"//"+_w.location.host+t+"&form=WSBBST&cvid="+n.encodeQueryParameter(this._host.getConversationId())},i}();t.MiniSerpViewModel=p;o=function(){function e(n,i,r,u,f,e){var o=this;this._targetDocument=n;this._targetWindow=i;this._searchAppXYFocus=r;this._scrollArea=u;this._verticalType=f;this._useStickyFocusOverride=e;this._isL2Visible=!1;this._useStickyFocus=!1;_w.ClientTestHooks&&ClientTestHooks.isTesthookParamSet("stickyFocus")===!0&&(this._useStickyFocus=!0);this._useStickyFocusOverride!=null&&(this._useStickyFocus=this._useStickyFocusOverride);var s="b_hide",h="acc-inactive",c=".b_slidebar";this._focusDiv=sj_ce("div",w,s);n.body.appendChild(this._focusDiv);sj_be(n,"blur",function(n){o._useStickyFocus?(!n.srcElement.offsetParent||n.srcElement.classList.contains("b_hide")||n.relatedTarget)&&t.setVisibility(o._focusDiv,!1):t.setVisibility(o._focusDiv,!1)},!0);sj_be(n,"focus",function(){return o.updateFocusedElementAndOutline(o._targetDocument.activeElement)},!0);sj_be(n,"scroll",function(n){o._lastElementFocused&&(n.srcElement==o._lastElementFocused||o._lastElementFocused.compareDocumentPosition(n.srcElement)&Node.DOCUMENT_POSITION_CONTAINS)&&o.updateFocusedElementAndOutline(o._lastElementFocused)},!0);sj_be(n,"transitionend",function(n){var t=o._targetDocument.activeElement;(n.propertyName=="height"||n.srcElement==t.closest(c))&&(o._focusOutlineTimeout?(o.clearFocusOutlineTimeout(),o.outlineElementAndScrollIntoView(t)):o._focusDiv.classList.contains(s)||o.outlineElementAndScrollIntoView(t),n.srcElement.style.height=="0px"?n.srcElement.classList.add(h):n.srcElement.classList.remove(h))});this._searchAppXYFocus.keyCodeMap.home.push(36);this._searchAppXYFocus.keyCodeMap.end.push(35)}return e.prototype.getXYFocusRoot=function(){return this._searchAppXYFocus.focusRoot},e.prototype.isL2Visible=function(){return this._isL2Visible},e.prototype.setIsL2Visible=function(n){this._isL2Visible=n},e.prototype.setXYFocusRoot=function(n){this._searchAppXYFocus.focusRoot=n},e.prototype.moveFocus=function(n,t){return this._searchAppXYFocus._xyFocus(n,t)},e.prototype.moveFocusToEdgeFocusableElement=function(n,t){var i,h;if(t===void 0&&(t=!1),this._targetWindow.focus(),t&&n==0)i=this.focusFirstSerpElement();else{var f=void 0,e=void 0,r=void 0,o=this._targetWindow.innerWidth,s=this._targetWindow.innerHeight;n==0?(f=-1,e=0,r=40):n==1&&(f=s,e=s+1,r=38);h={top:f,bottom:e,right:o,left:0,height:1,width:o};i=this._searchAppXYFocus._xyFocus(u[r],r,h)}return i&&(this.scrollTo(n),this.updateFocusedElementAndOutline(this._targetDocument.activeElement)),i},e.prototype.onSearchBoxFocusChanged=function(){this._targetDocument.hasFocus()?this.updateFocusedElementAndOutline(this._targetDocument.activeElement):this._useStickyFocus||t.setVisibility(this._focusDiv,!1)},e.prototype.isVisible=function(n){var t=_w.getComputedStyle(n);return!(t.visibility=="hidden"||t.display=="none"||n.offsetWidth===0&&n.offsetHeight===0)},e.prototype.moveFocusToLastFocusedElement=function(){return this._lastElementFocused&&this.isVisible(this._lastElementFocused)?(this._lastElementFocused.focus(),this.updateFocusedElementAndOutline(this._lastElementFocused),!0):this.moveFocusToEdgeFocusableElement(0,!0)},e.prototype.updateFocusedElementAndOutline=function(i){var r=this,u;i&&i!=this._targetDocument.body&&(this.processFocusedElement(i),u=this._lastElementFocused&&i.elementType&&i.elementType==this._lastElementFocused.elementType&&i.parentElement==this._lastElementFocused.parentElement?nt:0,u?(t.setVisibility(this._focusDiv,!1),this._focusOutlineTimeout=n.safeSetTimeout(function(){r._targetDocument.activeElement==i&&r.outlineElementAndScrollIntoView(i);r.clearFocusOutlineTimeout()},u,"updateFocusedElementAndOutline")):this.outlineElementAndScrollIntoView(i),this._lastElementFocused=i)},e.prototype.outlineElementAndScrollIntoView=function(n){var u,o,s;if(n!=this._targetDocument.body&&(this._useStickyFocus||this._targetDocument.hasFocus())){var i=n.getBoundingClientRect(),y=this._targetDocument.documentElement.scrollWidth-r*2,p=this._targetDocument.documentElement.scrollHeight-r*2,h=i.top+this._targetWindow.pageYOffset,e=i.left+this._targetWindow.pageXOffset,w=y-e,b=p-h,c=e<0?Math.floor(i.width+e-r):i.width;if(c<=0){t.setVisibility(this._focusDiv,!1);return}if(u=i.height,u<=0&&n.children.length>0)for(o=0;o<n.children.length;o++)s=n.children[o].getBoundingClientRect(),s.height>u&&(u=s.height,h=s.top);this._focusDiv.style.top=Math.max(r,h)+"px";this._focusDiv.style.left=Math.max(this.isL2Visible?r:r*4,e)+"px";this._focusDiv.style.width=Math.min(w,c)+"px";this._focusDiv.style.height=Math.min(b,u)+"px";t.setVisibility(this._focusDiv,!0);var l=n.getBoundingClientRect(),a=this._scrollArea.offsetHeight+this._scrollArea.scrollTop-l.bottom-f,v=l.top-this._scrollArea.scrollTop-f;a<0?this._scrollArea.scrollTop+=f-a:v<0&&(this._scrollArea.scrollTop+=v-f)}},e.prototype.scrollTo=function(n){var t=0;n==1&&(t=this._scrollArea.scrollHeight);this._scrollArea.scrollTop=t},e.prototype.processFocusedElement=function(n){var r=this,u,e,o,c,f,s,h;n.isProcessed||(u=n.tagName.toLocaleLowerCase(),e=n.getAttribute("type"),u=="select"&&(sj_be(n,"keydown",function(t){t.keyCode==32?n.classList.add(i):t.keyCode==13&&n.classList.remove(i)},!0),this.reactivateXYFocusOnBlur(n)),u=="input"&&e=="range"&&(sj_be(n,"keydown",function(t){var r=t.target,f=+r.getAttribute("min"),e=+r.getAttribute("step"),u=t.keyCode==37,o=t.keyCode==39,s=+r.value-e<f&&u;t.keyCode==38||t.keyCode==40||s?n.classList.remove(i):(u||o)&&n.classList.add(i)},!0),this.reactivateXYFocusOnBlur(n)),o=function(t,r){var u;if(!r.readOnly){if(u=r.selectionStart!=r.selectionEnd,u){n.classList.add(i);return}var f=r.selectionEnd==0,e=r.selectionEnd==r.value.length,o=t.keyCode==36&&!f,s=t.keyCode==35&&!e,h=t.keyCode==37&&!f,c=t.keyCode==39&&!e;h||c||o||s?n.classList.add(i):n.classList.remove(i)}},u=="textarea"&&(sj_be(n,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(n)),u=="input"&&(e=="number"||e=="text")&&(sj_be(n,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(n)),k.some(function(t){return n.classList.contains(t)})?(n.elementType="slide",c=Array.prototype.slice.call(n.querySelectorAll("a:not([onclick='TestHooks.HideShowTestHooks(this);']):not([disabled])"),0),f=c.filter(function(n){return r.isVisible(n)&&n.offsetHeight>0&&n.offsetWidth>0}),f&&sj_be(n,"keydown",function(t){var i=r.countUniqueHrefs(f),u=t.keyCode;t.srcElement==n&&(i>1&&u==40?(t.preventDefault(),r._searchAppXYFocus.focusRoot=n,f[0].focus()):i==1&&u==13&&f[0].click())})):d.some(function(t){return n.hasAttribute(t)})?(n.elementType="expansion",s=function(){t.setVisibility(r._focusDiv,!1);r.updateFocusedElementAndOutline(r._targetDocument.activeElement)},sj_be(n,"keyup",function(n){n.keyCode==13&&s()},!0),sj_be(n,"click",function(){s()})):n.classList.contains(g)&&(h=function(){var t=r._targetDocument.getElementById("vidPreStopButton"),i,u;t&&t.focus();i=function(){n.focus()};sj_be(t,"click",i);sj_be(t,"keydown",function(n){n=sj_ev(n);n.keyCode===13&&i()});u=r._targetDocument.getElementsByTagName("video")[0];sj_be(u,"ended",i)},sj_be(n,"keydown",function(n){n.keyCode==13&&h()},!0),sj_be(n,"click",function(){h()})),n.classList.add(b),n.isProcessed=!0)},e.prototype.countUniqueHrefs=function(n){var r={},t,i;if(n)for(t=0;t<n.length;t++)i=n[t],i&&(r[i.href]=!0);return Object.keys(r).length},e.prototype.reactivateXYFocusOnBlur=function(n){sj_be(n,"blur",function(){n.classList.remove(i)})},e.prototype.focusFirstSerpElement=function(){var n,i,t,r;switch(this._verticalType){case 1:n=this._targetDocument.getElementById("b_content");break;case 2:n=this._targetDocument.getElementById("images");break;case 3:n=this._targetDocument.getElementById("video");break;default:throw Error("Unknown vertical type "+this._verticalType);}if(n)for(i=n.querySelectorAll('a:not([onclick=\'TestHooks.HideShowTestHooks(this);\']):not([disabled]):not([tabindex="-1"]), button:not([disabled]), input[type=text]:not([disabled]), input[type=submit]:not([disabled]), textarea:not([disabled]), select:not([disabled]):not(#tta_sl):not(#tta_srcsl), [tabindex]:not([disabled]):not([tabindex="-1"]):not(#tta_playiconsrc)'),t=0;t<i.length;t++)if(r=i[t],this.isVisible(r))return r.focus(),!0;return!1},e.prototype.clearFocusOutlineTimeout=function(){sb_ct(this._focusOutlineTimeout);this._focusOutlineTimeout=null},e}();t.WSBMiniSerpFocusHelper=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function i(n){switch(n){case"arrowRight":case"button":case"submit":return 1;case"autoContent":case"keepOpen":case"alwaysWide":case"arrowUpOrDown":return 0}throw new Error("Unknown open type: "+n);}var r=function(){function r(n,t,i,r,u,f,e,o){var s=this;this._page=n;this._host=t;this._instrumentationHelper=i;this._ariaLogger=r;this._sequenceNumberManager=u;this._miniSerpViewModel=f;this._localPreviewPaneViewModel=e;this._msbPreviewPaneViewModel=o;this._previewPaneId=0;this._beforeItemLaunchEventHandlers=[];this._afterItemLaunchEventHandlers=[];var h=function(n,t,i,r,u){s._clickLoggedForCurrentPreviewPane||s._beforeItemLaunchEventHandlers.forEach(function(f){return f(n,s._previewedSuggestion,t,i,r,u)})},c=function(n){s._clickLoggedForCurrentPreviewPane||(s._afterItemLaunchEventHandlers.forEach(function(t){return t(s._previewedSuggestion,s._queryForPreviewedSuggestion,n)}),s._clickLoggedForCurrentPreviewPane=!0)},l=function(n){s._previewPaneResponseReceivedTimeStamp=n;s._miniSerpViewModel.stopLoadingScreen()};this._previewPaneViewModelParent={focusPending:!1,onBeforeItemLaunch:h,onAfterItemLaunch:c,startLoadingScreen:function(){return s._miniSerpViewModel.startLoadingScreen()},onResponseReceived:l};this._miniSerpViewModel.init(this._previewPaneViewModelParent);this._localPreviewPaneViewModel&&this._localPreviewPaneViewModel.init(this._previewPaneViewModelParent);this._msbPreviewPaneViewModel&&this._msbPreviewPaneViewModel.init(this._previewPaneViewModelParent);SearchAppWrapper.CortanaApp.addEventListener("resettingtodefaultsize",function(){return s.dismiss()});t.bindKeyDown(function(){s._previewPaneViewModelParent.focusPending=!1});t.bindSearchBoxGotFocus(function(){return s._previewPaneViewModelParent.focusPending=!1});t.bindQueryChangedOrInitialized(function(n){return s._currentQuery=n},!0);t.bindAccountChanged(function(){s._miniSerpMustRefresh=!0});i.bindFinalizeKeystroke(function(n){s._activePreviewPaneViewModel&&n&&s._activePreviewPaneViewModel.finalizeKeystroke()})}return r.prototype.init=function(n){this._selectionHandler=n},r.prototype.getSelectableItems=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItems():[]},r.prototype.getSelectableItemsByGroup=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItemsByGroup():[]},r.prototype.getSelectedItem=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectedItem():null},r.prototype.select=function(n,t){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.select(n,t)},r.prototype.onAfterKeyDown=function(n,t,i,r){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.onAfterKeyDown(n,t,i,r):!1},r.prototype.getPreviewedSuggestion=function(){return this._previewedSuggestion},r.prototype.getPreviewedSuggestionToForceTopHit=function(){return this._forceTopHitForPreviewedSuggestion&&!this._closeTimer?this._previewedSuggestion:null},r.prototype.showPreview=function(r,u,f,e,o){var s=this;if(f===void 0&&(f="button"),e===void 0&&(e=!1),o===void 0&&(o=0),this._previewPaneOpenedForThisQuery=!0,this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer(),this.clearCloseTimer(),u!=this._previewedSuggestion||e){t.RuntimeConfig.AlwaysWide||this._page.setPreviewPaneVisibility(!0);var a=++this._previewPaneId,c=!0,h=!1,l=n.getCurrentTime(),v=function(t,r,e){var p,v,y;if(t||!r){if(r||(s._ariaLogger&&u&&(p=n.getCurrentDate().getTime()-l,s._ariaLogger.logPreviewPaneRenderLatency(u.type,p)),c=!1),!h){if(v={ppId:""+a,openType:f,suggestion:u?u.instItem.getLayoutKValue():undefined,suggestionType:u?u.type:undefined,startOpening:""+l,openDelay:o?""+o:undefined},e)for(y in e)v[y]=e[y];v.waitingForMore=c?"true":undefined;s._instrumentationHelper.previewPaneOpenedOrClosed(!0,s._sequenceNumberManager.getSequenceNumber(),u?u.instItem:undefined,u?u.previewPaneType:undefined,i(f)==0,v)}h=!0;t&&(h=!1,f="keepOpen")}};this.setPreviewPaneContent(r,u,i(f),this._previewPaneId,v)}f!="button"&&this._selectionHandler.updateSelectionState(u)},r.prototype.showPreviewAndFocus=function(n,t,i){i===void 0&&(i="submit");(this._closeTimer||this._previewedSuggestion!=t)&&this.showPreview(n,t,i);this._activePreviewPaneViewModel.focus(!1);this._forceTopHitForPreviewedSuggestion=!0},r.prototype.focus=function(n){return this._activePreviewPaneViewModel?(this._activePreviewPaneViewModel.focus(n),!0):!1},r.prototype.blur=function(){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.blur()},r.prototype.dismiss=function(){this.close(!0)},r.prototype.close=function(i){var u=this,r;this.clearOpenTimer();r=i?0:t.config.closePreviewPaneDelay;r?this._closeTimer||(this._closeTimer=n.safeSetTimeout(function(){u._closeTimer=null;u.innerClose(i)},r,"ppCloseTimer")):(this.clearCloseTimer(),this.innerClose(i))},r.prototype.innerClose=function(i){var r,u;this._previewedSuggestion&&(r=!0,i&&(this._clickLoggedForCurrentPreviewPane?r=!1:this._previewPaneResponseReceivedTimeStamp&&n.getCurrentTime()>this._previewPaneResponseReceivedTimeStamp+1e3&&(r=!1)),r&&(u=i?{fromQFDismiss:"1"}:undefined,this._instrumentationHelper.previewPaneOpenedOrClosed(!1,this._sequenceNumberManager.getSequenceNumber(),this._previewedSuggestion.instItem,this._previewedSuggestion.previewPaneType,undefined,u)),t.RuntimeConfig.AlwaysWide||i||this._page.setPreviewPaneVisibility(!1),this._miniSerpViewModel.stopLoadingScreen(),this.clear())},r.prototype.clear=function(){this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!1,this._selectionHandler.updateSelectionState(this._previewedSuggestion),this._previewedSuggestion=null);this._queryForPreviewedSuggestion=null;this._previewPaneResponseReceivedTimeStamp=null;this._forceTopHitForPreviewedSuggestion=!1;this._clickLoggedForCurrentPreviewPane=!1;this._activePreviewPaneViewModel&&(this._activePreviewPaneViewModel.clear(),this._activePreviewPaneViewModel=null);this._previewPaneViewModelParent.focusPending=!1},r.prototype.onQueryChanged=function(n){var i,r;if((this._previewPaneOpenedForThisQuery=!1,i=this._queryForPendingPreviewedSuggestion||this._queryForPreviewedSuggestion,this._queryIsContinuationOfPreviousQuery=i&&n.queryToFetch.toLocaleLowerCase().startsWith(i.queryToFetch.toLocaleLowerCase()),i&&n.queryToFetch.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase())&&(r=this._pendingPreviewedSuggestion&&this._pendingPreviewedSuggestion.updateFromQuery?this._pendingPreviewedSuggestion:this._previewedSuggestion&&!this._closeTimer&&this._previewedSuggestion.updateFromQuery?this._previewedSuggestion:null,r)){if(t.RuntimeConfig.AlwaysWide){this.autoOpen(n,r,"alwaysWide",!0);return}this._queryIsContinuationOfPreviousQuery?(this._forceTopHitForPreviewedSuggestion=!1,this.autoOpen(n,r,"keepOpen",!0)):this.close(!1)}},r.prototype.clearSuggOpeningState=function(n){n&&(n.isPreviewPaneOpening=!1,this._selectionHandler.updateSelectionState(n))},r.prototype.clearOpenTimer=function(){this._openTimer&&(sb_ct(this._openTimer),this._openTimer=null,this._pendingPreviewedSuggestion=null,this._queryForPendingPreviewedSuggestion=null,this._miniSerpViewModel.stopLoadingScreen())},r.prototype.clearCloseTimer=function(){this._closeTimer&&(sb_ct(this._closeTimer),this._closeTimer=null)},r.prototype.onTopHitUpdated=function(i,r,u,f){if(u){if(!this._closeTimer&&(this._openTimer&&this._pendingPreviewedSuggestion!=u&&this.clearOpenTimer(),!this._miniSerpMustRefresh||u.previewPaneType!=1)){if(this._pendingPreviewedSuggestion&&t.isEquivalentForPreviewPanePurposes(i,this._pendingPreviewedSuggestion,u)){this._pendingPreviewedSuggestion=u;this._queryForPendingPreviewedSuggestion=i;u.hasPreviewPaneOpened=!0;this._selectionHandler.updateSelectionState(u);return}if(this._previewedSuggestion&&t.isEquivalentForPreviewPanePurposes(i,this._previewedSuggestion,u)){n.contains(f,r)||(this._previewedSuggestion=u,this._queryForPreviewedSuggestion=i,u.hasPreviewPaneOpened=!0,this._selectionHandler.updateSelectionState(u),this.refreshLocalContent(i,u));return}}if(this._miniSerpMustRefresh=!1,this._forceTopHitForPreviewedSuggestion=!1,u.previewPaneType){if(t.RuntimeConfig.AlwaysWide){this.autoOpen(i,u,"alwaysWide",!1);return}if(u==f[0]&&!this._previewPaneOpenedForThisQuery){if(u.autoOpenPreviewPaneWhenOnTopHit){this.autoOpen(i,u,"autoContent",!1);return}if(this._previewedSuggestion&&this._queryIsContinuationOfPreviousQuery){this.autoOpen(i,u,"keepOpen",!1);return}}}}this._openTimer&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer());this._previewedSuggestion&&this.close(!1)},r.prototype.getDelayForMiniSerp=function(n,i){var r=t.getTweakedSetting("preventAutomaticMiniSerp");switch(n){case"keepOpen":case"alwaysWide":return r?Number.MAX_VALUE:t.config.probabilityNextKeyStrokeEnabled&&i.featureStore&&i.featureStore[264]!==undefined?this.calculateDelayForProbabilitySignal(i.featureStore[264]):t.RuntimeConfig.AlwaysWide?i.isAnswer?0:t.config.autoOpenMiniSerpDelay:t.config.keepMiniSerpOpenDelay;case"arrowUpOrDown":return r?Number.MAX_VALUE:t.config.openOnKeybNavMiniSerpDelay}return 0},r.prototype.calculateDelayForProbabilitySignal=function(n){for(var i=t.config.probabilityNextKeyStrokeThresholds.length-1;i>=0;i--)if(n>=t.config.probabilityNextKeyStrokeThresholds[i])return t.config.probabilityNextKeyStrokeDelays[i];return 0},r.prototype.autoOpen=function(i,r,u,f){var e=this,s=t.shouldOpenMiniSerp(r),o=s&&!t.config.enableForceLoad?this.getDelayForMiniSerp(u,r):0;o?(u=="arrowUpOrDown"&&(this.clear(),this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion)),r.isPreviewPaneOpening=!0,this._selectionHandler.updateSelectionState(r),this.clearOpenTimer(),this.clearCloseTimer(),this._pendingPreviewedSuggestion=r,this._queryForPendingPreviewedSuggestion=i,this._openTimer=o==Number.MAX_VALUE?Number.MAX_VALUE:n.safeSetTimeout(function(){e._openTimer=null;r=e._pendingPreviewedSuggestion;e._pendingPreviewedSuggestion=null;e._queryForPendingPreviewedSuggestion=null;e.showPreview(i,r,u,f,o)},o,"ppOpenTimer"),s&&this._miniSerpViewModel.startLoadingScreen()):this.showPreview(i,r,u,f)},r.prototype.onAfterKeyDownWhenNewSelection=function(i,r,u){var e=t.RuntimeConfig.AlwaysWide&&t.config.openOnKeybNavMiniSerp,f;if(t.isGroup(u)){e&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion),this.clear(),this.clearOpenTimer(),this.clearCloseTimer(),this._miniSerpViewModel.stopLoadingScreen());return}f=u;f.previewPaneType&&(e&&(i==40||i==38)?this._previewedSuggestion!=f&&this.autoOpen(r,f,"arrowUpOrDown",!1):i==t.getRtlAdjustedKey(39)&&this._currentQuery.originalCursorPosition==this._currentQuery.originalQuery.length&&this._host.searchBoxHasFocus()?f.handoffType==999?f.click(n.getCurrentTime(),1):this.showPreviewAndFocus(r,f,"arrowRight"):i==t.getRtlAdjustedKey(37)&&this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.hasFocus()&&this._activePreviewPaneViewModel.readyToBlur()&&this._host.setFocusInSearchBox(i,"previewPaneUnfocus"))},r.prototype.refreshLocalContent=function(n,t){t.previewPaneType==2?this._localPreviewPaneViewModel.update(t,n,0,this._previewPaneId,null,!0):t.previewPaneType===3&&this._msbPreviewPaneViewModel.update(t,n,0,this._previewPaneId,null,!0)},r.prototype.setPreviewPaneContent=function(n,i,r,u,f){var e=this;this.clear();this._previewedSuggestion=i;this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!0,this._previewedSuggestion.isPreviewPaneOpening=!1);this._previewPaneResponseReceivedTimeStamp=null;this._queryForPreviewedSuggestion=n;i.previewPaneType==3&&this._msbPreviewPaneViewModel!=null?(this._miniSerpViewModel&&this._miniSerpViewModel.stopLoadingScreen(),this._activePreviewPaneViewModel=this._msbPreviewPaneViewModel,this._msbPreviewPaneViewModel.update(i,n,r,u,f)):i.previewPaneType!=2&&(t.shouldOpenMiniSerp(i)||i.previewPaneType!=1)?t.config.enableForceLoad?(this._activePreviewPaneViewModel=this._miniSerpViewModel,this._miniSerpViewModel.showForceLoad(i.query,function(){e._miniSerpViewModel.update(i,n,r,u,f)})):(this._localPreviewPaneViewModel&&this._localPreviewPaneViewModel.clear(),this._msbPreviewPaneViewModel&&this._msbPreviewPaneViewModel.clear(),this._miniSerpViewModel.startLoadingScreen(),this._activePreviewPaneViewModel=this._miniSerpViewModel,this._miniSerpViewModel.update(i,n,r,u,f)):(this._miniSerpViewModel&&this._miniSerpViewModel.stopLoadingScreen(),this._activePreviewPaneViewModel=this._localPreviewPaneViewModel,this._localPreviewPaneViewModel.update(i,n,r,u,f))},r.prototype.bindBeforeItemLaunch=function(n){this._beforeItemLaunchEventHandlers.push(n)},r.prototype.bindAfterItemLaunch=function(n){this._afterItemLaunchEventHandlers.push(n)},r.prototype.hasFocus=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.hasFocus():!1},r.prototype.isOpened=function(){return!!this._previewedSuggestion},r}();t.PreviewPane=r})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,o=21600,s="/account/permissions/sso?",f="/agents/oauth?",r="Office365",u="Outlook",e="0a0a29f9-0a25-49c7-94bf-c53c3f8fa69d",h="fc1b2093-3a41-4edb-86db-cdaa2832d4e8",c="api://fc1b2093-3a41-4edb-86db-cdaa2832d4e8/CortanaConnect",l="6df4d00742ec458795c9588001737872-fbbe95f5-f25d-4197-9d6f-7c3eb54c745f-6908",a=function(){function a(i){var r=this;this._triggerSSO=!0;t.WebTelemetry&&t.WebTelemetry.init(l);sj_be(_w,"load",function(){r.launchSSO()});a._latestSSOTimestamp||(a._latestSSOTimestamp=n.getCurrentTime());i.bindAppHidden(function(){r.launchPeriodicalSSO()})}return a.prototype.launchPeriodicalSSO=function(){var t=(n.getCurrentTime()-a._latestSSOTimestamp)/1e3;t>=o&&(this._triggerSSO=!0,this.launchSSO(),a._latestSSOTimestamp=n.getCurrentTime())},a.prototype.launchSSO=function(){var f=this,e=function(){var e=i.isCortanaEnabled?n.safeExecute(function(){return i.getCortanaCapabilities()},"getCortanaCapabilities","").split(","):[],o=n.contains(e,"Personalization");i.currentState==0&&f._triggerSSO&&o&&(f._triggerSSO=!1,t.config.wamSupported?t.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return i.authenticationManager.enumerateAccountAuthorityAsync()},function(n){var o,i,e;t.config.enableSSOV2?(o=n.Cortana=="consumers"?u:r,f.silentSignIn(o)):(i=n.Windows,e=n.Cortana,t.WebTelemetry&&t.WebTelemetry.logSignInAccountEvent(i,e),i=="organizations"?f.silentSignIn(r):i=="consumers"&&e=="consumers"&&f.silentSignIn(u))}):t.Promise.safeChain("getQueryHeadersAsync",function(){return i.getQueryHeadersAsync()},function(n){n&&(f.silentSignIn(r),n["X-Search-RPSToken"]&&f.silentSignIn(u))}))};n.isBrowserOnline()?e():sj_be(_w,"online",function(){e()})},a.prototype.silentSignIn=function(o){var v=this,l=s+"campaign_source=WSB&provider="+o,a;t.config.th&&(l=ClientTestHooks.CopyTestParameters(_w.location.search,l));a=function(s){var a,y,l;t.WebTelemetry&&t.WebTelemetry.logShouldSSOEvent(o,s?!0:!1);s&&(a=o==u,y=function(n){var i=n&&!n.IsError;t.WebTelemetry&&t.WebTelemetry.logAuthCompleteEvent(o,o==r&&t.config.wamSupported?"assertion":"code",i)},n.isBrowserOnline()&&i.currentState==0&&(t.config.wamSupported&&(o==r||t.config.enableSSOV2)?(l=i.authenticationManager.createAuthenticateRequest(),t.config.enableSSOV2?(l.accountType="Cortana",l.resource=a?h:e,a&&(l.scope=c)):(l.accountType="Windows",l.resource=e),t.Promise.safeChain("authenticateAsyncOBO",function(){return i.authenticationManager.authenticateAsync(l)},function(i){var r=i&&i.token,u,e;t.WebTelemetry&&(u=r?0..toString():i&&i.status!=0?i.status.toString():"-1",t.WebTelemetry.logClientAuthEvent(o,"WAM",u));r&&(e=f+"provider="+o+"&campaign_source=WSB&assertion="+i.token,n.fetchUrlJson(e,{},null,y))})):v.refreshOAuthToken(o,s.AuthUrl,s.CallbackUrl,s.Options||1,y)))};n.fetchUrlJson(l,{},null,a)},a.prototype.refreshOAuthToken=function(r,u,e,o,s){t.Promise.safeChain("authenticateAsyncSSO",function(){return i.authenticateAsync(o,u,e)},function(i){if(t.WebTelemetry&&t.WebTelemetry.logClientAuthEvent(r,"WAB",i?0..toString():"-1"),i){var u=i.split("?")[1],e=f+u;n.fetchUrlJson(e,{},null,s)}})},a}();t.ProactiveSSO=a})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.fetchUrl=function(i,r,u,f,e,o){var h=this,s;if(n.isBrowserOnline()){var v=u?1:0,c=SearchAppWrapper.CortanaApp,l=c.createStringMap(),a=c.createStringMap();if(r)for(s in r)s.toLowerCase().startsWith("content")?a[s]=r[s]:l[s]=r[s];t.Promise.safeChain("makeHttpRequestAsync",function(){return c.makeHttpRequestAsync(v,i,l,u,a)},function(i){o()&&(i.statusCode===200?t.Promise.safeChain("readResponse",function(){return i.readAsStringAsync()},function(i){if(o()){t.config.th&&i&&(i=i.replace(new RegExp("<!--[^]*?-->","gm"),""));var r=i?n.safeExecute(function(){return JSON.parse(i)},"parseCortanaHttpResponse",null,null):null;r!=null?f(h._dataSource,r,null):f(h._dataSource,null,null)}},function(){return f(h._dataSource,null,null)},e):f(h._dataSource,null,i.statusCode.toString()))},function(){return f(h._dataSource,null,null)},e)}else f(this._dataSource,null,null,null,!0)},r}(n.JsonDataProvider);t.CortanaJsonDataProvider=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i="LSQS",u=function(){function t(n){this._host=n}return t.prototype.getName=function(){return"LockscreenQuickSearchDataProvider"},t.prototype.fetch=function(t,r){if(t.enabledDataSources[i]){var u={};n.isMiniSerpEnabled()&&(u.quickAnswers=[{label:this._host.getLocString("Weather"),icon:{type:2,content:"&#xE9C0"},query:this._host.getLocString("WeatherQuery")},{label:this._host.getLocString("News"),icon:{type:2,content:"&#xE900"},query:this._host.getLocString("News")},{label:this._host.getLocString("ThisDayInHistory"),icon:{type:2,content:"&#xE823"},query:this._host.getLocString("ThisDayInHistory")},{label:this._host.getLocString("NewMovies"),icon:{type:2,content:"&#xE8B2"},query:this._host.getLocString("NewMovies")}]);r(i,u,undefined)}},t}(),r;t.LockscreenQuickSearchDataProvider=u;r=function(){function i(n){this._host=n}return i.prototype.parse=function(i,r,u,f,e,o){var c=this,l=[],a="LSQS",v,s,h,y;if(f)for(v=function(f){var e=n.WSB.createSuggestion(i,f.label,null,f.icon,a,f.query,n.InstrumentedItem.createInstrumentedItem(r,a),999,r,t.localDataSourceMayContainPII(u));e.click=function(){c._host.reformulate(f.query);c._host.setFocusInSearchBox(null,"Quick answer clicked")};l.push(e)},s=0,h=f.quickAnswers;s<h.length;s++)y=h[s],v(y);o(u,l,undefined)},i}();t.LockscreenQuickSearchParser=r})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}))
]?$","i"),wt=/((^[\\]{2}).+)|(^[a-z]:\\.*)/i,f=/^([a-z0-9\-]+):/i,bt=/\s/,g=/\s+/g,kt=/\s+\/(?!\/)/g,dt=/([^\/]|^)\/(?!\/)/,nt,et;n.WebSearchPaths=["/search","/entityexplore"];nt=[33,39,40,41,42,91,93];n.tryParseUrl=u;n.getQueryStringParam=ri;var ui=/file:\/\/\/[^:\/]+:\/[^\/]+\/[^\/]+\/AppData\//i,fi=["ms-appx:","ms-appx-web:","ms-browser-extension:",],ei="microsoft.microsoftedge_8wekyb3d8bbwe";n.isJunkUrl=oi;n.computeUrlMatchLengths=si;n.isUncOrLocalPath=ai;n.startsWithProtocol=tt;n.startsWithWww=vi;n.isHttpProtocol=h;n.isNonHttpProtocol=yi;n.cleanAndFixUrlProtocol=pi;n.cleanAndFixUncOrLocalPath=wi;n.parsedUrlToString=c;var rt=/^ht+ps:\/*(.*)/i,ut=/^ht+p:\/*(.*)/i,ft=/^\/{2,}(.*)/,l=/^www\.(.*)/i,ki=/^(.*[^:\/])\/+$/;n.normalizeUrl=i;n.hasWww=di;n.getProtocol=e;n.prettyPrintUrl=gi;n.isDuplicateUrl=tr;et=["bing","staging-bing-int","working-bing-int","bing-int","bing-exp"];n.tryGetBingPathLC=ot;n.isBingHost=st;n.isBingSearchUrl=ir;n.getDomain=rr;n.isEmptyUrlPrefix=ur;n.queryLooksLikeUrl=fr;n.buildBfbSearchUrl=er}(AutoSuggest||(AutoSuggest={})),function(n){var t,i;(function(n){function t(t,i,r,u,f,e){var o={T:n.QFPERFPING_EVENT_NAME,ST:r,CVID:u,OFFSETS:i,STATE:f,V:n.QFPERFPING_VERSION,RFC:e};return{ImpressionGuid:t,EventType:n.CLIENTINST_EVENT_TYPE,Data:o}}n.CLIENTINST_EVENT_TYPE="ClientInst";n.QFPERFPING_EVENT_NAME="QFPerfPing";n.CLICK_EVENT_TYPE="Click";n.QFPERFPING_VERSION="2";n.QFPERFPING_INVALID_MEASURE=-2;n.INVALID_SEQUENCE_NUMBER=-2;n.KVALUE_SUGGESTIONS_START=1e3;n.KVALUE_SUFFIX_START=1;n.KVALUE_NON_SUGGESTIONS_START=100;n.DEFAULT_APP_NAMESPACE="SmartSearch";n.DEFAULT_SERVICE_NAME="AutoSuggest";n.createPerfPingEvent=t})(t=n.InstrumentationCommon||(n.InstrumentationCommon={}));i=function(){function n(n,t,i){this._kValue=n;this._qsCode=t;this._handOffType=i}return n.createInstrumentedItem=function(t,i){return new n(n.generateKValue(t),i)},n.createInstrumentedItemNoHandoff=function(t,i){return new n(n.generateKValue(t),i,999)},n.getNonSuggestionInstrumentedItem=function(t,i,r){return new n(i[t],t,r)},n.prototype.getKValue=function(){return this._kValue},n.prototype.getAppNS=function(){return n.AppNS},n.prototype.getLayoutKValue=function(){return this._kValue+"."+n.Suffix},n.prototype.getHValue=function(){return"ID="+n.AppNS+","+this.getLayoutKValue()},n.prototype.getHandoffType=function(){return this._handOffType},n.prototype.getQsCode=function(){return this._qsCode},n.resetKValues=function(n){delete this._keystrokesKValues[n]},n.generateKValue=function(n){var r=n,i=this._keystrokesKValues[r];return i>0||(i=t.KVALUE_SUGGESTIONS_START),this._keystrokesKValues[r]=++i,i},n.AppNS=t.DEFAULT_APP_NAMESPACE,n.Suffix=t.KVALUE_SUFFIX_START,n._keystrokesKValues={},n}();n.InstrumentedItem=i}(AutoSuggest||(AutoSuggest={})),function(n){function pt(){return matchMedia("screen and (-ms-high-contrast)").matches}function wt(){return navigator.onLine}function bt(n){return!n.isAnswer&&(n.handoffType==0||n.handoffType==11)}function v(n){return n?n.replace(st,"$1").replace(ht,"$1 "):n}function kt(n){return n?n.replace(/[-{}]/g,"").toLowerCase():null}function dt(n){return!n||Object.keys(n).length===0}function gt(n){return n.canFail}function y(n,t,i,r){var u,e;n&&(n=n.slice(0,t)+f+n.slice(t,n.length));u=i(n);u&&(e=u.indexOf(f),t=e!=-1?e:t,u=u.replace(f,""));r(u,t)}function ni(n){if(!n)return SharedLogHelper.LogError("getInputType",null,new Error("event object is missing")),0;switch(n.pointerType){case"mouse":return 2;case"touch":return 3;case"pen":return 4;default:return 1}}function o(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];i.forEach(function(t){return delete n.enabledDataSources[t]})}function ti(i){return i&&n.config.bingFetchEnabledRegionsList&&n.config.bingFetchEnabledRegionsList.length>0&&!t(n.config.bingFetchEnabledRegionsList,i.toLowerCase())}function ii(i){return i&&n.config.miniSerpEnabledRegionsList&&n.config.miniSerpEnabledRegionsList.length>0&&!t(n.config.miniSerpEnabledRegionsList,i.toLowerCase())}function ri(t){var i=t.queryToFetch&&t.queryToFetch.length<n.config.minQueryLengthForWebProvider;return i&&(o(t,n.WebDataSource),o(t,n.WebRankingSignalDataSource)),i}function p(t){if(t){t=n.normalizeUrl(t,15);for(var i=1;i<t.length-1;++i)if(lt.includes(t[i]))return!0}return!1}function ui(t,i,r){var u,f;return r||(r=0),y(t,i,function(n){return v(n)},function(n,t){u=n;f=t}),u&&(n.config&&n.config.doNotRemoveSpaceAfterIn&&u.toLocaleLowerCase().endsWith(" in ")||(u=u.trim()),f=Math.min(f,u.length)),{originalQuery:t,originalCursorPosition:i,queryToFetch:u,cursorPosition:f,enabledDataSources:{},equals:function(n){return(u?u.toLowerCase():u)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&r==n.topHitRestriction},isMultiWord:p(u),getCacheKey:function(){return u},topHitRestriction:r}}function w(i,r){return r&&!r.enabledDataSources[i]?!1:t(n.config.enabledDataSources,i)}function b(i,r,u,f){var e=f.enabledDataSources[i];return e?e.suggestionIsEnabled&&!e.suggestionIsEnabled(r,u)?!1:t(n.config.enabledDataSources,i):!1}function t(n,t){return n.indexOf(t)!=-1}function fi(n,t){var i=n.indexOf(t);return i!=-1?(n.splice(i,1),!0):!1}function ei(n,t){var i=n.findIndex(t);return i!=-1?n.splice(i,1)[0]:null}function oi(n,t,i){if(t<100)for(var r=n.length-1;n.length>t&&r>=0;--r)i(n[r])&&n.splice(r,1)}function si(n,i){return n.filter(function(n){return!t(i,n)})}function hi(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;++i)if(n[i]!=t[i])return!1;return!0}function ci(n,t){if(n===t)return!0;if(!n||!t||Object.keys(n).length!=Object.keys(t).length)return!1;for(var i in n)if(n[i]!=t[i])return!1;return!0}function k(){return n.getCurrentDate().getTime()}function r(n){var t=Math.abs(Math.floor(n));return(t<10?"0":"")+t}function li(){var t=n.getCurrentDate(),i=-t.getTimezoneOffset(),u=i>=0?"+":"-";return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+"."+r(t.getMilliseconds())+u+r(i/60)+":"+r(i%60)}function ai(n,t){return n?n.replace(ct,function(n,i){return t[i]}):n}function vi(n){var t=n?n.number:null,i=n?n.name:null;return t==-2147023673||i=="Canceled"}function u(n,t,i,r,u,f){try{return n()}catch(e){return f||SharedLogHelper.LogError(t,r,e),u&&u(e),i}}function s(n,t,i,r,f,e){return sb_st(function(){return u(n,i,null,r,f,e)},t)}function yi(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];u(function(){return sj_evt.fire.apply(sj_evt,[n].concat(i))},n)}function pi(n,t){s(t,1,n)}function h(n,t){var i=[],r=!0,u=function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];r?i.push(u):t.apply(null,u)};n(u);r=!1;i.forEach(function(n){return t.apply(null,n)})}function wi(n,t){return c=n,e=c&&it()!="ms-appx-web:",l=e&&!ti(t),d=e&&!ii(t),l}function bi(n){return n?l:e}function ki(){return c}function di(){return d}function tr(n){return t(gi,n)}function ir(n){return t(tt,n)}function rr(n){return t(g,n)}function ur(n){return t(nt,n)}function fr(n){return t(nr,n)}function er(n,t){return n==121&&t||n==93}function or(n,t){return n==8||n==46||n==88&&t.ctrlKey}function it(){return _w.location.protocol}function sr(){return _w.location.host}function hr(){var n=_d.activeElement;return!n||n.id.endsWith("sb_form_q")?_d.body:n}function rt(t){return t&&+t!=n.WindowsApiDefaultDate&&!isNaN(t.getTime())&&t.getFullYear()!=1600}function ut(n){if(!rt(n))return null;var t=n.getTime(),i=k();return Math.abs(i-t)/yt}function cr(n){var t=ut(n);return t!==null&&t>14}function lr(n){return n==="i"?13:n==="v"?14:0}function ar(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")}var f=String.fromCharCode(57346),st=new RegExp("^\\s*("+f+")?\\s*"),ht=new RegExp("\\s*("+f+")?\\s+","g"),ct=/{([0-9]+)}/g,lt=" -_/\\",at=-2147215328,vt=-2147023673,yt=864e5,i,a,ft,et,ot;n.DebugSourceName="AutoSuggest";SharedLogHelper.RegisterErrorFilter(function(n){var t=n?n.number:null,i=n?n.name:null;return t===vt||t===at||i==="Canceled"});n.isHighContrastEnabled=pt;n.isBrowserOnline=wt;n.isWebSuggestion=bt;n.cleanQuery=v;n.cleanGuid=kt;n.isEmpty=dt;n.canIconFail=gt;n.mantainCursorPositionIn=y;n.getInputType=ni;n.disableDataSources=o;n.disableWebDataSourceIfNeeded=ri;n.isMultiWord=p;n.parseQuery=ui;n.isDataSourceEnabled=w;n.isSuggestionTypeEnabled=b;n.contains=t;n.tryRemove=fi;n.removeFirstWhere=ei;n.trimList=oi;n.except=si;n.sequenceEqual=hi;n.objEquals=ci;n.log=function(){};n.getCurrentDate=function(){return new Date};_w.ClientTestHooks&&(n.log=function(n,t){return ClientTestHooks.ClientLog("- "+n,t)},i=ClientTestHooks.getUrlValue("currentdate",null),i&&(i.includes("-")||i.length!=8||(i=i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2)),n.getCurrentDate=function(){return new Date(i)}));n.getCurrentTime=k;n.getDateWithTimezone=li;n.fetchWrapper=function(n,t,i){return i()};n.formatString=ai;n.isCancellation=vi;n.safeExecute=u;n.safeSetTimeout=s;n.safeFireEvent=yi;n.invokeAsynchronously=pi;n.ensureCallbackIsAsync=h;n.WebDataSource="Web";n.WebRankingSignalDataSource="WRS";n.MRUDataSource="MRU";var c=!0,e=!0,l=!0,d=!0;n.refreshBingEnabledCache=wi;n.isBingEnabled=bi;n.isBingEnabledByClient=ki;n.isMiniSerpEnabled=di;var gi=[3,16,17,18,19,20,144,145,],g=[38,203,211,],nt=[40,204,212,],tt=g.concat(nt),nr=tt.concat(37,39,36,35);n.isFunctionalKey=tr;n.isUpOrDownKey=ir;n.isUpKey=rr;n.isDownKey=ur;n.isMovingCursorKey=fr;n.isContextMenuKey=er;n.isDeletionKey=or;n.getWindowProtocol=it;n.getWindowHost=sr;n.getCurrentActiveElement=hr;n.WindowsApiDefaultDate=-116444736e5;n.isValidDate=rt;n.getTimeDiffInDays=ut;n.olderThan2Weeks=cr;n.verticalToHandoffType=lr;a=function(){function n(){this._cancellations={};this._lastId=0}return n.prototype.register=function(n,t,i){var r=++this._lastId;return this._cancellations[r]={action:n,skipOnDismissAndLaunch:t,where:i},r},n.prototype.unregister=function(n){delete this._cancellations[n]},n.prototype.cancelAll=function(n){var t=function(t){var r=i._cancellations[t];r.skipOnDismissAndLaunch&&n||u(function(){return r.action()},r.where)},i=this;for(var r in this._cancellations)t(r);this._cancellations={}},n}();n.CancellationManager=a;ft=function(){function n(){}return n.prototype.getItem=function(n){try{return _w.localStorage?_w.localStorage.getItem(n):undefined}catch(t){return SharedLogHelper.LogError("localStorage",t,new Error("getItem")),undefined}},n.prototype.setItem=function(n,t){try{_w.localStorage&&_w.localStorage.setItem(n,t)}catch(i){SharedLogHelper.LogError("localStorage",i,new Error("setItem"))}},n.prototype.removeItem=function(n){try{return _w.localStorage.removeItem(n)}catch(t){SharedLogHelper.LogError("localStorage",t,new Error("removeItem"))}},n}();n.LightweightStorage=ft;et=function(){function n(){this._sequenceNumber=0}return n.prototype.getSequenceNumber=function(){return this._sequenceNumber},n.prototype.incrementSequenceNumber=function(){this._sequenceNumber++},n}();n.SequenceNumberManager=et;ot=function(){function t(t,i,r,u,f,e,o,s,h,c){var l=this;this._host=t;this._suggestionsParsers=i;this._rootViewModel=r;this._suggestionsRenderingManager=u;this._webProviders=f;this._otherProviders=e;this._instrumentationHelper=o;this._ariaLogger=s;this._sequenceNumberManager=h;this._latencyInstrumentation=c;n.config.cancellationEnabled&&(this._cancellationManager=new a);t.bindShown(function(){l._lastQuery=null;l._currentQuery=null;l._isPaneDismissed=!1});t.bindDismissed(function(){l.clearFetchTimer();l.finishPreviousQuery(!0);l.finalizeKeystroke(!0);l._isPaneDismissed=!0;l._rootViewModel.onDismiss()});t.bindQueryChangedOrInitialized(function(t,i){return l.onQueryChanged(t,n.config.d,i)});t.bindOnSubmit(function(n,t,i){return l.onSubmit(n,t,i)});t.initializeEvents();sj_be(_d.body,"dragstart",function(n){return n.preventDefault(),n.stopPropagation(),!1});sj_b.addEventListener("click",function(n){n.shiftKey&&sj_pd(n)})}return t.prototype.clearFetchTimer=function(){this._fetchTimer&&(sb_ct(this._fetchTimer),this._fetchTimer=null)},t.prototype.finishPreviousQuery=function(n){this.cancelPreviousQuery(n);this._suggestionsRenderingManager.resetTimers()},t.prototype.finalizeKeystroke=function(n){var t=this._sequenceNumberManager.getSequenceNumber();t>0&&this._instrumentationHelper.finalizeKeystrokeLog(t);n||this._sequenceNumberManager.incrementSequenceNumber()},t.prototype.onQueryChanged=function(n,t,i){var r=this,u;this.clearFetchTimer();this._currentQuery=n;this._lastQuery&&(!this._lastQuery.equals(this._currentQuery)||i)&&this.cancelPreviousQuery(!1);t<=0?this.fetchForQueryChange(0,!1,i):(u=Date.now(),this._fetchTimer=s(function(){r._fetchTimer=null;r.fetchForQueryChange(Date.now()-u,!1,i)},t,"fetchTimer"))},t.prototype.onSubmit=function(n,t,i){this._fetchTimer&&(this._currentQuery||(this._currentQuery=this._host.getQuery()),this.fetchForQueryChange(0,!0,!1));this._rootViewModel.submit(n,t,this._sequenceNumberManager.getSequenceNumber(),i,this._isPaneDismissed)},t.prototype.cancelPreviousQuery=function(n){this._cancellationManager&&this._cancellationManager.cancelAll(n)},t.prototype.fetchForQueryChange=function(t,i,r){var u=this,e,f,s;if(this.clearFetchTimer(),this._lastQuery&&this._lastQuery.equals(this._currentQuery)&&!r)this._rootViewModel.onQueryChanged(this._currentQuery,this._sequenceNumberManager.getSequenceNumber());else if(e=this._host.getQuery(),e.equals(this._currentQuery)){if(this.finishPreviousQuery(i),this.finalizeKeystroke(!1),this._lastQuery=this._currentQuery,f=this._sequenceNumberManager.getSequenceNumber(),this._instrumentationHelper.instrumentBeginRequest(f,this._currentQuery,t),s=!n.config.enabledDataSources.some(function(n){return w(n,u._currentQuery)}),s)this._rootViewModel.onQueryChanged(this._currentQuery,f);if(this._suggestionsRenderingManager.initiateSequenceNumber(f,this._currentQuery),!s){var o=function(){return!u._isPaneDismissed&&(n.config.d>0?e.equals(u._currentQuery):f==u._sequenceNumberManager.getSequenceNumber())},c=(new Date).getTime(),l=function(n,t,i,r,s,h){return u.onResponseReceived(e,f,n,t,i,o,r,s,c,h)},a=function(t){n.fetchWrapper(e,o,function(){u._webProviders.forEach(function(n){u.fetchWeb(e,n,f,t,o)});u._otherProviders.forEach(function(n){u.fetch(e,n,f,t,o)})});u._rootViewModel.onQueryChanged(u._currentQuery,f)};h(a,l)}}},t.prototype.fetchWeb=function(t,i,r,f,e){var c=this,s=n.Service.QueryParams,o=this._host.getCustomUrlParameters(t),h;this._host.shouldRequestEltoken()&&(o[s.RequestElToken]="1");o[s.CursorPosition]=t.cursorPosition.toString();o[s.ConversationId]=this._host.getConversationId();o[s.ImpressionGuid]=this._instrumentationHelper.getImpressionGuid(r);h=this._host.getCustomHeaders(t);u(function(){return i.fetch(t,f,r,c._cancellationManager,e,o,h)},"fetch "+i.getName())},t.prototype.fetch=function(n,t,i,r,f){var e=this;u(function(){return t.fetch(n,r,i,e._cancellationManager,f)},"fetch "+t.getName())},t.prototype.onResponseReceived=function(t,i,r,u,f,e,o,s,c,l){var a=this,v=n.getCurrentDate().getTime()-c,y,p;n.config.enableNetworkLatencyMeasurements&&o==0&&this._latencyInstrumentation&&this._latencyInstrumentation.logDataSourceRequestLatency(r,v);this._ariaLogger&&this._ariaLogger.logDataProviderLatency(r,v);e()&&(this._instrumentationHelper.instrumentResponseReceived(i,r,f,o,s),y=function(n,r,u){if(e())a.onSuggestionsParsed(t,i,n,f,r,u,l)},p=function(n){var f=a._suggestionsParsers[r];f?f.parse(t,i,r,u,e,n,a._cancellationManager):(SharedLogHelper.LogError("onResponseReceived",null,new Error("No parser for data source "+r)),n(r,[],null))},h(p,y))},t.prototype.onSuggestionsParsed=function(n,t,i,r,u,f,e){u=u.filter(function(t){return b(i,t.type,t.handoffType,n)});this._instrumentationHelper.instrumentDataSource(t,i,u,f);this._rootViewModel.onSuggestionsParsed(n,t,i,r,u,f);this._suggestionsRenderingManager.queueSuggestions(t,i,u,f,e)},t}();n.Core=ot;n.encodeQueryParameter=ar}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function dt(t){return n.contains(pt,t)}function gt(t){return n.contains(wt,t)}function ni(t){return n.contains(nt,t)}function ti(t){return n.contains(bt,t)}function ii(t){return n.contains(kt,t)}function u(n,i){return{dataSource:n,requirementLevel:function(){return h()?1:3},conditionalRequirements:function(){if(!t.isCloudSearchEnabledCache)return!1;var n=h()?t.getAccountTypeForCloudContent():t.isCortanaPersonalized?t.cortanaAccountType:t.windowsAccountType;return n==2||n==4},suggestionIsEnabled:i?function(n){return n==i}:undefined}}function h(){return t.config.wamSupported&&n.isDataSourceEnabled("SSUE",null)}function ri(){return t.config.wamSupported&&n.isDataSourceEnabled("BAW",null)}function tt(n){var i=!t.config.userProfileButtonEnabled||t.windowsAccountType==n;switch(n){case 2:return i&&t.isSubstrateOutlookAccountConnected;case 1:return i&&t.isSubstrateO365AccountConnected;case 4:return i&&t.isSubstrateO365AccountConnected&&t.isSubstrateOutlookAccountConnected;default:return!1}}function ui(n){var i=o.authenticationManager.getAllSearchWebAccountsAsync;return i?!0:t.getAccountTypeForCloudContent()==n}function r(n,i,r,u){return u===void 0&&(u=!0),{dataSource:n,requirementLevel:function(){return 0},conditionalRequirements:function(n){return t.config.wamSupported&&t.isCloudSearchEnabledCache&&u&&(r||n&&n.queryToFetch&&n.queryToFetch.length>=t.config.minLengthFor3SonL1)&&ui(i)&&tt(i)}}}function y(n){return{dataSource:"BAW",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bawminqlen)&&(r==1||r==4)}}}function p(n){return{dataSource:"MSBS",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bfbminqlens)&&(r==1||r==4)}}}function w(n){return{dataSource:"MSBC",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bfbminqlenc)&&(r==1||r==4)}}}function c(n){if(n===void 0&&(n=!0),!n||!t.isCloudSearchEnabledCache||!h())return!1;var i=t.getAccountTypeForCloudContent();return i==3||i==0?!1:!tt(i)}function it(){return n.contains(t.config.enabledDataSources,"EBH")&&t.config.enableEdgeBrowsingHistory}function l(){return{dataSource:"EBH",requiredCortanaCapabilities:function(){return["BrowsingHistory"]},conditionalRequirements:function(t){return it()&&(!t||!t.queryToFetch||n.normalizeUrl(t.queryToFetch,31).length>=3)}}}function rt(){return t.windowsAccountType==4?!0:t.cortanaAccountType==3?t.windowsAccountType==2:t.cortanaAccountType!=2?!1:t.config.windowsAuthForOMA&&ht()!=1?!1:!0}function ut(){return{dataSource:n.WebDataSource,requirementLevel:function(){return 1},conditionalRequirements:function(){return rt()}}}function fi(){t.ScopeConfig[i.All].getEmptyZIMessages=function(r){return f(r,i.All,t.config.useNewEmptyQueryMessages?"EmptyAllMessage":"EmptyScopeMessage",n.isBingEnabled()?"EmptyAllSubMessage":"EmptyAllSubMessageNoWeb",et(r,!0))};t.config.startMenuInWSB?t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"SM",conditionalRequirements:function(n){return n&&t.shouldFetchStartMenu(n)}},]:t.RuntimeConfig.QfMode==6?(t.ScopeConfig[i.All].icon={type:1,content:"&#xE721"},t.ScopeConfig[i.All].getEmptyZIMessages=function(n){return f(n,i.Web,"EmptyLockscreenMessage","EmptyLockscreenSubMessage")}):t.RuntimeConfig.SearchHomeAvailable==1&&t.RuntimeConfig.QfMode==8?(t.ScopeConfig[i.All].icon=t.getSearchSuggestionIcon(),t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"AFC",groupType:t.GroupType.ActivityFeedSuggestions,suggestionGroupToggler:v(t.GroupType.ActivityFeedSuggestions)},],t.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.GroupType.ActivityFeedSuggestions,]},t.ScopeConfig[i.AppsSettings].enabledDataSourcesForZeroInput=t.ScopeConfig[i.All].enabledDataSourcesForZeroInput,t.ScopeConfig[i.AppsSettings].staticGroupOrderForZeroInput=t.ScopeConfig[i.All].staticGroupOrderForZeroInput):t.RuntimeConfig.SearchHomeAvailable==1&&t.RuntimeConfig.QfMode!=7?(t.ScopeConfig[i.All].icon=t.getSearchSuggestionIcon(),t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"TOPP",groupType:t.GroupType.TopApps,suggestionGroupToggler:v(t.GroupType.TopApps)},{dataSource:"AFC",groupType:t.GroupType.ActivityFeedSuggestions,suggestionGroupToggler:v(t.GroupType.ActivityFeedSuggestions)},{dataSource:"QSCH",groupType:t.GroupType.QuickSearch,suggestionGroupToggler:v(t.GroupType.QuickSearch)},],t.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.GroupType.TopApps,t.GroupType.ActivityFeedSuggestions,t.GroupType.QuickSearch,]},t.ScopeConfig[i.AppsSettings].enabledDataSourcesForZeroInput=t.ScopeConfig[i.All].enabledDataSourcesForZeroInput,t.ScopeConfig[i.AppsSettings].staticGroupOrderForZeroInput=t.ScopeConfig[i.All].staticGroupOrderForZeroInput):t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[]}function ft(){t.ScopeConfig={};t.ScopeConfig[i.All_FileExplorer]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"FEH"},{dataSource:"IFF"},{dataSource:"MDOC",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MPHO",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MVID",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MODC",requirementLevel:function(){return 1},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"ODC",requirementLevel:function(){return 1},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSUE",requirementLevel:function(){return 0},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSEE",requirementLevel:function(){return 0},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},],enabledDataSourcesForZeroInput:[{dataSource:"FEH"},],getEmptyZIMessages:null};t.ScopeConfig[i.All_Lockscreen]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},],enabledDataSourcesForZeroInput:[{dataSource:"LSQS"}],getEmptyZIMessages:null};t.ScopeConfig[i.All_SettingsApp]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"ST"},{dataSource:"MST"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.All]=t.config.lightAllScope?{icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:n.MRUDataSource},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"QS",requirementLevel:function(){return 1}},{dataSource:"WRS",requirementLevel:function(){return 1}},r("SSUE",1,!1),],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null}:{icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:"PBI",requirementLevel:function(){return 2},conditionalRequirements:function(n){return n&&n.queryToFetch&&n.queryToFetch.length>=6&&n.queryToFetch.trim().includes(" ")}},{dataSource:n.MRUDataSource},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"QS",requirementLevel:function(){return 1}},l(),r("SSUE",1,!1),r("SSUC",2,!1),y(!1),{dataSource:"WRS",requirementLevel:function(){return 1}},p(!1),w(!1)],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.Apps]={icon:{content:"&#xEB3B",type:2},prefixesLocString:"ScopeApps",enabledDataSources:[{dataSource:n.WebDataSource,suggestionIsEnabled:function(){return!1},requirementLevel:function(){return 1}},{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MPP"},{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"IBA"},],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"TOPP",conditionalRequirements:function(n){return n.isSearchHomeZI}},{dataSource:"MPP"},n.contains(t.config.enabledDataSources,"LRA")?{dataSource:"LRA"}:{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}}],staticGroupOrderForZeroInput:function(n){return n.isSearchHomeZI?[t.GroupType.TopApps,t.GroupType.Apps]:undefined},getEmptyZIMessages:function(n){return f(n,i.Apps,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage","EmptyScopeSearchLocation_PCAndStore")}};t.ScopeConfig[i.Settings]={icon:{content:"&#xE713",type:2},prefixesLocString:"ScopeSettings",enabledDataSources:[{dataSource:n.WebDataSource,suggestionIsEnabled:function(){return!1},requirementLevel:function(){return 1}},{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},{dataSource:"ST"},{dataSource:"QS",requirementLevel:function(){return 1}}],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},],getEmptyZIMessages:function(n){return f(n,i.Settings,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptySettingsSubMessage")}};t.ScopeConfig[i.Photos]={icon:{content:"&#xEB9F",type:2},prefixesLocString:"ScopePhotos",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="LI"}},u("ODC","LI"),u("MODC","LI"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},],getEmptyZIMessages:function(n){return e(n,i.Photos,!0)}};t.ScopeConfig[i.Videos]={icon:{content:"&#xE714",type:1},prefixesLocString:"ScopeVideos",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="LV"}},u("ODC","LV"),u("MODC","LV"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},],getEmptyZIMessages:function(n){return e(n,i.Videos,!0)}};t.ScopeConfig[i.Music]={icon:{content:"&#xE8D6",type:2},prefixesLocString:"ScopeMusic",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},{dataSource:"MMUS",suggestionIsEnabled:function(n){return n=="MU"}},u("ODC","MU"),u("MODC","MU"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},],getEmptyZIMessages:function(n){return e(n,i.Music,!1)}};t.ScopeConfig[i.Documents]={icon:{content:"&#xE7C3",type:2},prefixesLocString:"ScopeDocuments",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MDOC",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},u("ODC","FL"),u("MODC","FL"),{dataSource:"PP",suggestionIsEnabled:function(n){return n=="LDOC"}},r("SSUE",1,!0),r("SSEE",1,!0),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},r("SSEE",1,!0,!!t.config.zeroInputCloudDocs),],showUpsellOnSuggestionsList:function(){return c(t.getAccountTypeForCloudContent()==1||!!(t.config.accountVerifyMessage&&t.getAccountTypeForCloudContent()==4))},getEmptyZIMessages:function(n){return e(n,i.Documents,!1)}};t.ScopeConfig[i.Folders]={icon:{content:"&#xE838",type:2},prefixesLocString:"ScopeFolders",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"MFOL",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"LDIC"},u("ODC","FD"),u("MODC","FD"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},],getEmptyZIMessages:function(n){return e(n,i.Folders,!1)}};t.ScopeConfig[i.Web]={icon:{content:"&#xE774",type:1},prefixesLocString:"ScopeWeb",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(n,t){return t==1}},{dataSource:n.WebDataSource,suggestionIsEnabled:function(t,i){return n.contains([0,13,14,10,5,1],i)},requirementLevel:function(){return 1}},{dataSource:"PP",suggestionIsEnabled:function(n,t){return t==1}},l(),y(!0),{dataSource:"WRS",requirementLevel:function(){return 1}},p(!0),w(!0)],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(n,t){return t==1}},ut(),l(),],getEmptyZIMessages:function(n){return f(n,i.Web,t.config.useNewEmptyQueryMessages?"EmptyWebMessage":"EmptyScopeMessageWeb","EmptyWebSubMessage")}};t.ScopeConfig[i.PathCompletion]={icon:{content:"&#xE782",type:2,needsAccentColor:!0},scopeNameLocString:t.config.pathCompletionReplacesAll?"PathCompletionScopeName":null,prefixesLocString:null,enabledDataSources:[{dataSource:"PT"},{dataSource:"CG"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.Emails]={icon:{content:"&#xE715",type:2},prefixesLocString:"ScopeEmails",enabledDataSources:[r("SSEE",1,!0),r("SSEC",2,!0),],enabledDataSourcesForZeroInput:[],showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.Emails,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyEmailSubMessage")}};t.ScopeConfig[i.People]={icon:{content:"&#xE716",type:2},prefixesLocString:"ScopePeople",enabledDataSources:[r("SSUE",1,!0),r("SSUC",2,!0),y(!0),p(!0),w(!0),],enabledDataSourcesForZeroInput:[r("SSUE",1,!0),r("SSUC",2,!0),],showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.People,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};t.ScopeConfig[i.PeopleEmail]={icon:{content:"&#xE716",type:2},prefixes:["People","people","email","Email"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.People].enabledDataSources.concat(t.ScopeConfig[i.Emails].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.People].enabledDataSourcesForZeroInput,showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.PeopleEmail,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};t.ScopeConfig[i.AppsSettings]={icon:{content:"&#xEB3B",type:2},prefixes:["Apps/Settings","apps","app","settings","setting"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Apps].enabledDataSources.concat(t.ScopeConfig[i.Settings].enabledDataSources).filter(function(t){return!n.contains(["OSTMA","QS",n.WebDataSource],t.dataSource)}),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Apps].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Settings].enabledDataSourcesForZeroInput).filter(function(t){return!n.contains(["OSTMA","QS",n.WebDataSource],t.dataSource)}),getEmptyZIMessages:function(n){return e(n,i.AppsSettings,!1)}};t.ScopeConfig[i.FilesFolders]={icon:{content:"&#xE7C3",type:2},prefixes:["Files/Folders","documents","document","docs","doc","files","file","music","image","images","photo","photos","picture","pictures","video","videos"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Documents].enabledDataSources.concat(t.ScopeConfig[i.Folders].enabledDataSources,t.ScopeConfig[i.Photos].enabledDataSources,t.ScopeConfig[i.Music].enabledDataSources,t.ScopeConfig[i.Videos].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Documents].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Folders].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Photos].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Music].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Videos].enabledDataSourcesForZeroInput),getEmptyZIMessages:function(n){return e(n,i.FilesFolders,!1)}};t.ScopeConfig[i.AllFiles]={icon:{content:"&#xE7C3",type:2},prefixes:["Files","documents","document","docs","doc","files","file","music","image","images","photo","photos","picture","pictures","video","videos"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Documents].enabledDataSources.concat(t.ScopeConfig[i.Folders].enabledDataSources,t.ScopeConfig[i.Photos].enabledDataSources,t.ScopeConfig[i.Music].enabledDataSources,t.ScopeConfig[i.Videos].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Documents].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Folders].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Photos].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Music].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Videos].enabledDataSourcesForZeroInput),getEmptyZIMessages:function(n){return e(n,i.AllFiles,!1)}};for(var s in t.ScopeConfig)t.ScopeConfig[s].enabledDataSources=t.ScopeConfig[s].enabledDataSources.filter(function(i){return n.contains(t.config.enabledDataSources,i.dataSource)}),t.ScopeConfig[s].enabledDataSourcesForZeroInput=t.ScopeConfig[s].enabledDataSourcesForZeroInput.filter(function(i){return n.contains(t.config.enabledDataSources,i.dataSource)})}function ei(){s=null}function et(t,i){var f=t.getConnectedAccountInfo(0),e=t.getConnectedAccountInfo(1),r=!!(f||e),u=i&&n.isBingEnabled();return r&&u?"EmptyScopeSearchLocation_PCCloudAndWeb":r?"EmptyScopeSearchLocation_PCAndCloud":u?"EmptyScopeSearchLocation_PCAndWeb":"EmptyScopeSearchLocation_PC"}function e(n,i,r){return f(n,i,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage",et(n,r))}function f(n,i,r,u,f){var e=ot(t.ScopeConfig[i],n).toLocaleLowerCase(),o=f?n.getLocString(f):"",s=n.getLocString(r,e,o),h=t.config.useNewEmptyQueryMessages||t.RuntimeConfig.QfMode==6?n.getLocString(u,e,o):"";return[s,h]}function oi(n){var f=function(n){return HitHighlightingParser.removeDiacritics(n.toLocaleLowerCase().trim())},r,u;if(s={},t.RuntimeConfig.ScopesAvailable){r=function(r){var e=parseInt(r),u=t.ScopeConfig[e],o,h;e!=i.All&&a(e,u)&&(!u.prefixes&&u.prefixesLocString&&(o=n.getLocString(u.prefixesLocString),h=n.getEnUsLocString(u.prefixesLocString),u.prefixes=st(o,h)),u.prefixes&&u.prefixes.forEach(function(n){return s[f(n)]=e}))};for(u in t.ScopeConfig)r(u)}}function ot(n,t){if(n.scopeNameLocString)return t.getLocString(n.scopeNameLocString);if(n.prefixes)return n.prefixes[0].trim();if(n.prefixesLocString){var i=st(t.getLocString(n.prefixesLocString));return i[0].trim()}return""}function st(n,t){var i=n;return t&&(i+=","+t),i.search(g)>-1&&(i=i.replace(g,",")),i.split(",")}function a(r,u){var c=t.RuntimeConfig.AlwaysWide?t.config.enabledScopesAlwaysWide:t.config.enabledScopes,f,s,e,o,h;if(!n.contains(c,i[r])||r==i.Web&&!n.isBingEnabled())return!1;if(u.showUpsellOnSuggestionsList&&u.showUpsellOnSuggestionsList())return!0;for(f=t.config.enabledDataSources.filter(function(t){return t!=n.MRUDataSource}),n.isBingEnabled()&&r!=i.Web&&(f=f.filter(function(t){return t!=n.WebDataSource})),s=function(n){lt(n,null)||(f=f.filter(function(t){return t!=n.dataSource}))},e=0,o=u.enabledDataSources;e<o.length;e++)h=o[e],s(h);return u.enabledDataSources.some(function(t){return n.contains(f,t.dataSource)})?!0:!1}function ht(){if(t.windowsAccountType==0||t.cortanaAccountType==0)return 0;if(t.windowsAccountType!=t.cortanaAccountType)return 2;if(t.windowsAccountType!=3)if(t.windowsIdentity&&t.cortanaIdentity){if(t.windowsIdentity!=t.cortanaIdentity)return 2}else return 0;return 1}function si(r,u,f,e,o){var h,l,b,v,y,p,c,w;o||(o={});var k=o.topHitRestriction,d=o.forceGroupOnTop,g=o.overrideAction,nt=o.overrideActionHandlerAsync,s=n.parseQuery(r,u,k);if(s.fullPartialQuery=s.queryToFetch,s.scope=a(i.All,t.ScopeConfig[i.All])?i.All:i.AppsSettings,s.forceGroupOnTop=d,s.overrideAction=g,s.overrideActionHandlerAsync=nt,li(s,e))s.isFormulatedQuery=!0,h=t.ScopeConfig[yt(s)];else{s.fullPartialQuery&&(hi(s),f&&s.scope!=f.scope&&(s.isFormulatedQuery=!0));s.isSearchHomeZI=!s.queryToFetch&&(t.RuntimeConfig.SearchHomeAvailable==1||t.RuntimeConfig.SearchHomeAvailable==2&&s.scope!=i.All);(s.scope==i.All||s.scope==i.Web)&&(l=n.tryParseUrl(s.queryToFetch,!0),l&&l.type==0?(s.isProtocol=!0,s.fixedUrl=n.cleanAndFixUrlProtocol(l)):ct.test(s.queryToFetch)&&(s.isProtocol=!0,s.fixedUrl=n.cleanAndFixUrlProtocol(s.queryToFetch)));switch(t.RuntimeConfig.QfMode){case 5:h=t.ScopeConfig[i.All_FileExplorer];break;case 6:h=t.ScopeConfig[i.All_Lockscreen];break;case 7:h=t.ScopeConfig[i.All_SettingsApp];break;default:h=t.ScopeConfig[s.scope]}for(b=s.queryToFetch?h.enabledDataSources:h.enabledDataSourcesForZeroInput,s.availableDataSources={},v=0,y=b;v<y.length;v++)c=y[v],n.contains(t.config.enabledDataSources,c.dataSource)&&(s.availableDataSources[c.dataSource]=c);s.enabledDataSources={};for(p in s.availableDataSources)c=s.availableDataSources[p],c.suggestionGroupToggler&&c.suggestionGroupToggler.isHidden()||(s.enabledDataSources[p]=c);w=s.queryToFetch?h.staticGroupOrder:h.staticGroupOrderForZeroInput;w&&(s.staticGroupOrder=w(s))}return ci(s,h),s.showProgressBar=t.isL2(s)&&t.config.dataSourcesWithProgressBar.some(function(n){return!!s.enabledDataSources[n]}),s.equals=function(n){return(s.queryToFetch?s.queryToFetch.toLowerCase():s.queryToFetch)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&n.scope==s.scope&&(n.taskFrame?n.taskFrame.raw:"")==(s.taskFrame?s.taskFrame.raw:"")&&n.topHitRestriction==s.topHitRestriction},s.getCacheKey=function(){return s.cursorPosition+s.queryToFetch.toLocaleLowerCase()+s.scope+t.regionCache},s}function hi(r){var h=n.isDataSourceEnabled("PT",null),c=h&&b.test(r.fullPartialQuery),e,u,o;if(c){r.canBePathCompletion=!0;r.scope=i.PathCompletion;return}if(e=HitHighlightingParser.removeDiacritics(r.originalQuery),u=e.match(/^(([^:
]|^\/+/;b=/^[a-z]:\\|^%[^%]+%\\|^\\/i;t.parseQuery=si;t.parseTaskFrame=ai;at="action://FindMyStuff/FindDocument";vt="action://FindMyStuff/FindMessage";t.getEffectiveScope=yt;t.getEffectiveQuery=yi;d="HiddenSuggestionGroups";t.initQueryParser=wi})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function lt(n,t){return n.type==t.type&&n.source==t.source}function vt(n){switch(n){case"PP":return"Apps";case"ST":return"Settings";case"FL":return"Files";case"LM":return"Media";default:return null}}function yt(n){switch(n){case"FL":case"LM":case"IFF":case"MFF":case"PT":case"CG":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"EBH":case"FEH":case"AFC":case"LDIC":return!0;case"OSTMA":case"QS":case"PP":case"LRA":case"ST":case"PBI":case"MPP":case"MST":case"IBA":case"SM":case"THST":case"TOPP":case"QSCH":case"LSQS":return!1}throw new Error("New local data source "+n+" needs to be explicity classified as potentially containing PII or not");}function pt(n){var t=e(n);return n.deviceItem&&n.handoffType==2?t+"\t"+n.deviceItem.id:t+"\t"+n.query}function l(n){switch(n.type){case"BKS":case"ML":case"MB":case"OS":case"RI":case"HS":case"EBH":return!0}switch(n.handoffType){case 1:case 17:case 13:case 16:case 0:case 11:case 14:return!0}return!1}function a(n){switch(n){case"MFF":case"FL":case"LM":case"IFF":case"MDOC":case"MPHO":case"MVID":case"MMUS":case"MFOL":return!0;default:return!1}}function wt(n,i){if(!t.IndexerQueryGenerator)return!1;if(t.RuntimeConfig.QfMode==5)return!0;switch(n){case"IBA":case"MDOC":case"MPHO":case"MVID":case"MMUS":case"MFOL":return!0;case"IFF":return nt(i)||!t.config.minLengthForIBAonL1||i.queryToFetch.length>=t.config.minLengthForIBAonL1;default:return!1}}function bt(n){return SearchAppWrapper.CortanaApp.hostingEnvironment==4?!0:t.RuntimeConfig.MiniSERPMode==0||n.previewPaneType!=1?!1:n.isAnswer?(t.RuntimeConfig.MiniSERPMode&1)!=0:n.type=="MD"?(t.RuntimeConfig.MiniSERPMode&2)!=0:(t.RuntimeConfig.MiniSERPMode&4)!=4?!1:n.query.length>=t.config.minPrefixLengthForMiniSerp}function kt(n){return a(n)||n=="IBA"||n=="EBH"}function dt(n){return n&&(n.tagName.toLowerCase()=="body"||n.tagName.toLowerCase()=="iframe"||n.className&&n.classList.contains("suggestion"))}function gt(n){return n.kind=="Modern Setting"}function v(n){return t.isApp(n.type)?n.deviceItem:null}function ni(n){var i=v(n),t;return i?i.packageFamilyName:(t=n,t.packageFamilyName)?t.packageFamilyName:null}function ti(n){return t.isFileOrFolder(n.type)?n.deviceItem:null}function y(n){switch(n){case"PBI":case"EBH":return!1}return!0}function ii(n){return!!n.suggestions}function ri(n){return y(n.type)?n.deviceItem:null}function ui(n){return n.type=="CG"?n.deviceItem:null}function fi(n){return n.type=="PT"?n.deviceItem:null}function ei(n){return n.type=="PBI"?n.deviceItem:null}function p(n){return n.type=="EBH"?n.deviceItem:null}function oi(n){return n&&n.classList.contains("scopeTile")}function e(n){if(typeof n.staticGroupType=="number")return n.staticGroupType;if(t.RuntimeConfig.QfMode==8&&l(n))return i.SearchSuggestions;if(t.config.newFilesScope2&&(n.type=="FL"||n.type=="FD"||n.type=="MU"||n.type=="LI"||n.type=="LV"))return i.Documents;switch(n.type){case"SM":return i.StartMenu;case"TOPL":return i.TopApps}if(t.isApp(n.type))return i.Apps;if(s(n))return n.groupType;if(t.isSetting(n.type))return i.Settings;switch(n.type){case"CG":return i.Command;case"PT":return i.PathCompletion;case"LI":return i.Photos;case"LV":return i.Videos;case"MU":return i.Music;case"PBI":return i.PowerBi;case"FL":case"LDOC":case"SDFE":return i.Documents;case"FD":return i.Folders;case"OLE":case"OWA":return i.Emails;case"PPL":return i.People;case"EBH":return i.EdgeHistory;case"BKS":return i.Bookmarks;case"ELA":return i.LocalPlaces;case"FEH":return i.LocalSearchHistory;case"SNSC":case"RSSG":return i.QuickSearch;case"LSQS":return i.LockscreenQuickSearch;default:switch(n.handoffType){case 3:return i.Store;case 5:case 4:return i.Cortana;case 10:return n.htmlContent?i.SearchSuggestions:i.Cortana;case 0:case 13:case 14:return i.SearchSuggestions;case 1:return i.Websites;case 18:return i.ActivityFeedSuggestions}throw new Error("Unexpected handoff type: "+n.handoffType);}}function si(n){return n.click&&!n.instItem}function o(n){switch(n){case i.JumpListTasks:case i.JumpListPinned:case i.JumpListRecent:case i.JumpListFrequent:case i.JumpListCustom:return!0;default:return!1}}function w(t){return t.notAResult&&!n.contains(["SW","PWL","SSTS"],t.type)}function hi(n){return t.config.recourseOnlyInGroups&&n.suggestions.every(function(n){return w(n)})}function ci(n){var t=n.type;return o(t)||t==i.Related||t==i.Contact}function li(n){if(o(n))return i.Apps;if(n==i.Related)return i.SearchSuggestions;if(n==i.Contact)return i.People;throw new Error("Not a top hit child group: "+n);}function s(n){return!!n.parent}function ai(n){return n.type=="JL"}function b(n){switch(n){case i.Apps:case i.Store:return t.Scope.Apps;case i.Settings:return t.Scope.Settings;case i.Documents:return t.Scope.Documents;case i.Folders:return t.Scope.Folders;case i.Photos:return t.Scope.Photos;case i.Videos:return t.Scope.Videos;case i.Music:return t.Scope.Music;case i.LocalPlaces:case i.SearchSuggestions:case i.Websites:case i.EdgeHistory:case i.Bookmarks:return t.Scope.Web;case i.Emails:return t.Scope.Emails;case i.People:return t.Scope.People}return t.Scope.All}function vi(n){if(t.RuntimeConfig.QfMode==8&&n==1)return 32;switch(n){case 0:case 6:case 7:case 8:return 32;case 1:return 16;case 2:return t.IconSize_GridLayout_Scaled;case 3:return 24;case 4:return 64;case 5:return 200}throw new Error("Unsupported image size: "+n);}function yi(n,t,i){if(n&&n.type==0&&it(t)){var u=function(t){n.ratio=t.height==t.width?1:t.height>t.width?3:2;i()},r=new Image;r.src=n.content;r.onload=function(){return u({height:r.height,width:r.width})}}else i()}function pi(){var n=t.uiLanguageCache.toLocaleLowerCase();return k[n]||n}function d(n,t,i,r,u,f,e,o,s,h,c,l,a){var v={text:t,getIcon:i,icon:r,type:u,query:f,ciMatchedQuery:null,id:c,click:l,handoffType:o,instItem:e,isAnswer:!1,htmlContent:null,classNames:[],selected:!1,featureStore:undefined,sequenceNumber:s,getMruData:function(){return null},template:0,mayContainPII:h,features:[],previewPaneType:undefined};return v.previewPaneType=er(n,v,a),v}function wi(t,i,r,u,f,e,o,s,h){var l=t.getInstrumentedSyntheticSuggestion(r,u),v,a;return l?l:(v=i.scope,l=d(i,null,null,f,u,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,c.KValues),e,r,!1,u),l.notAResult=!0,l.primaryMetadata=o,s&&(l.additionalInfoText=" - "+l.primaryMetadata),a=function(n){l.query=n.queryToFetch;l.text=HitHighlightingParser.addMarkers(n.queryToFetch);l.narratorText=g(l);l.click=function(){return h(l,n)}},a(i),l.updateFromQuery=function(n){return!n.isProtocol&&n.scope==v&&n.queryToFetch?(a(n),!0):!1},t.instrumentSyntheticSuggestion(r,l),l)}function g(n,t){var i,r,u;return n.htmlContent?null:(i=p(n)?[n.primaryMetadata||n.text]:[n.text],r=n.dateShort,r&&i.push(r),t?i.push(t):(n.primaryMetadata&&(i.push(n.primaryMetadata),u=n.department,u&&i.push(u)),n.template==1&&n.secondaryMetadata&&i.push(n.secondaryMetadata)),HitHighlightingParser.removeMarkers(i.join(", ")))}function nt(n){return n.scope!=t.Scope.All||!!n.taskFrame}function tt(n){return typeof n=="string"?n=="LI"||n=="LV":n==i.Photos||n==i.Videos}function it(n){return tt(n)||n=="PPL"}function bi(n){return!t.config.disableMediaGridLayout&&!t.RuntimeConfig.AlwaysWide&&tt(n)}function ki(n,i){var f,u,e,r;if(!n||!t.RuntimeConfig.ScopesAvailable)return null;if(i.scope==t.Scope.All){if(f=[],n.ISUPN&&n.ISUPG)if(u=n.ISUPN.split("\t"),e=n.ISUPG.split("\t"),u.length==e.length)for(r=0;r<u.length;r++)f.push(e[r]+"\t"+u[r]);else SharedLogHelper.LogError("parseWebSuppressionSignals",null,new Error("parsedNames.length != parsedGroups.length"));return{fullySuppressedGroups:n.FSUP?n.FSUP.split("\t"):null,partiallySuppressedGroups:n.PSUP?n.PSUP.split("\t"):null,suppressedSuggestions:f}}return null}function di(t){return r||(r=_d.createElement("span")),n.safeExecute(function(){return r.innerHTML=t,r.innerText},t,"decodeHtml")}function gi(n,t){return{matchType:n,matchedText:t}}function ut(n){return n.replace(rt,"\\$&")}function nr(n,t){if(t){var u=n.includes(HitHighlightingParser.startMarker),e=u?n:HitHighlightingParser.addMarkers(n,t),f=HitHighlightingParser.split(e).find(function(n){return n.highlighted});if(f){var r=u?HitHighlightingParser.removeMarkers(n):n,o=new RegExp("((?:\\\\[^\\\\]+)?\\\\[^\\\\]+)?\\\\"+ut(f.text)+".*","i"),i=o.exec(r);if(i&&i[0])return{matchType:h.Location,matchedText:r.startsWith(i[0])?r:String.fromCharCode(8230)+i[0]}}}return null}function tr(n,t){if(t){var r=n.includes(HitHighlightingParser.startMarker),o=r?n:HitHighlightingParser.addMarkers(n,t),u=HitHighlightingParser.split(o).find(function(n){return n.highlighted});if(u){var f=r?HitHighlightingParser.removeMarkers(n):n,s=new RegExp("(?:\\S+\\s){0,3}\\b"+ut(u.text)+"\\S*(?:\\s\\S+){0,5}","i"),i=s.exec(f),e=void 0;return i&&i[0]&&(e={matchType:h.Content,matchedText:i[0]}),[f,e]}}return[null,null]}function ir(n,t){return n&&t&&HitHighlightingParser.addMarkers(n,t).includes(HitHighlightingParser.startMarker)}function rr(n){return n==t.Scope.Emails}function ur(n){return n.isAnswer&&(n.handoffType==13||n.handoffType==14||n.handoffType==0&&(!!n.additionalInfoText||!!n.secondaryIcon))}function fr(n){if(s(n))return!1;switch(n.handoffType){case 0:case 13:case 14:case 5:case 10:case 4:return!0;case 3:return n.type=="STS";case 2:return n.type=="PBI"||n.type=="SDFE";case 8:case 12:return n.type=="OWA";default:return!1}}function er(r,u,f){var o=undefined,s;if(!t.RuntimeConfig.PreviewPaneAvailable||r.isSearchHomeZI)return o;if(s=function(){return n.isBingEnabled()&&n.contains([0,13,14],u.handoffType)&&!u.htmlContent?1:o},f)return s();switch(e(u)){case i.Store:return(t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn)&&u.type!="STS"?2:o;case i.Apps:case i.PowerBi:case i.Cortana:case i.Command:case i.Documents:case i.Folders:case i.Music:case i.PathCompletion:case i.Emails:case i.Photos:case i.Settings:case i.Videos:return t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn?2:o;case i.StartMenu:return 2;case i.People:return u.handoffType==0?1:u.handoffType==1?o:u.handoffType==17?3:t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn?2:o;case i.Bookmarks:return u.handoffType==17?3:s();case i.Websites:return n.isBingEnabled()&&u.type!="LURL"?1:o;default:return s()}}function or(){return t.RuntimeConfig.QfMode==2?null:t.regionCache}function sr(n,t,i){var r=i.previewPaneType,u,f;return r?(u=t.previewPaneType,f=r==1&&u==1,t.query.toLocaleLowerCase()==i.query.toLocaleLowerCase()&&(!f&&r==u||f&&t.handoffType==i.handoffType)):!1}function hr(n){return t.config.startMenuInWSB&&n&&!n.queryToFetch&&n.scope==t.Scope.All}function cr(n){return n==null}function lr(r,u){return r==i.Documents&&t.isSubstrateO365AccountConnected||t.isFileOrFolderScope(b(r))&&(n.isDataSourceEnabled("ODC",u)||n.isDataSourceEnabled("MODC",u))}function ar(n,t){switch(n){case 2:return"OneDrive";case 3:return t.getLocString("OneDriveForBusiness");case 4:return"SharePoint";case 1:return t.getLocString("ThisPC");case 5:return t.getLocString("MsbPeopleGroups");case 6:return t.getLocString("MsbPeopleContacts")}return null}function vr(n){if(ot())switch(n){case 37:return 39;case 39:return 37}return n}function yr(){return{content:"&#xE721",type:2}}function pr(n){return n.getLocString("SearchTheWeb")}function wr(n){return n.getLocString("Websites")}function br(n){return n.getLocString("SeeWebResults")}function kr(n,t){var i="b_hide";n&&(t?n.classList.remove(i):n.classList.add(i))}function ot(){return ThresholdUtilities.isRightToLeftLanguage(t.uiLanguageCache)}function dr(){u={}}function st(t){var i=u[t],r;return typeof i=="undefined"&&(r=SearchAppWrapper.CortanaApp.queryFormulationView.deviceSearch,r.getFolderPathFromKnownFolderIdGuid?(i=n.safeExecute(function(){return r.getFolderPathFromKnownFolderIdGuid(t)},"getPathFromFolderID","",t),i=i.toLocaleLowerCase()):i="",u[t]=i),i}function gr(){f={}}function nu(n){var t,i;return n.startsWith("{")?(t=f[n],t||(i=n.match(ht),t=i?st(i[1])+i[2]:n,f[n]=t),t):n}function tu(n){return n.startsWith("file:")&&(n=n.slice(5)),n.replace(/\//g,"\\")}function iu(n){return t.config.enforceOriginalOrderForTypes[n.type]||t.config.enforceOriginalOrderForTypes[n.type+"|"+n.handoffType]}function ru(n){switch(n){case 2:return 0;case 1:return 1;default:throw new Error("Not a logged in account: "+n);}}function uu(n){return n==1?"https://substrate.office.com":"https://substrate.office.com/SubstrateSearch-Internal.ReadWrite"}function fu(n){return n==1?"https://www.bing.com/cortana":"service::cortana.bing.com::mbi_ssl"}function ct(){return"Windows"}function eu(){return ct()=="Windows"?t.windowsAccountType:t.cortanaAccountType}function ou(){return!1}function su(n){return t.TweakSearch&&t.TweakSearch.isTweakSearchEnabled()?t.config[n]:undefined}function hu(){return t.config.skipSelectedScope&&t.RuntimeConfig.AlwaysWide}function cu(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var i,c,at,k,r,h,rt,ft,et,u,f,ht;(function(n){n[n.Apps=0]="Apps";n[n.Settings=1]="Settings";n[n.Cortana=2]="Cortana";n[n.Command=3]="Command";n[n.Photos=4]="Photos";n[n.Videos=5]="Videos";n[n.Music=6]="Music";n[n.Documents=7]="Documents";n[n.Folders=8]="Folders";n[n.Emails=9]="Emails";n[n.Store=10]="Store";n[n.SearchSuggestions=11]="SearchSuggestions";n[n.PathCompletion=12]="PathCompletion";n[n.PowerBi=13]="PowerBi";n[n.JumpListTasks=14]="JumpListTasks";n[n.JumpListPinned=15]="JumpListPinned";n[n.JumpListRecent=16]="JumpListRecent";n[n.JumpListFrequent=17]="JumpListFrequent";n[n.JumpListCustom=18]="JumpListCustom";n[n.JumpListActivityFeed=19]="JumpListActivityFeed";n[n.People=20]="People";n[n.EdgeHistory=21]="EdgeHistory";n[n.LocalPlaces=22]="LocalPlaces";n[n.Bookmarks=25]="Bookmarks";n[n.Related=26]="Related";n[n.Websites=27]="Websites";n[n.Contact=28]="Contact";n[n.JumpListSynthetic=29]="JumpListSynthetic";n[n.JumpListActions=30]="JumpListActions";n[n.StartMenu=31]="StartMenu";n[n.LocalSearchHistory=32]="LocalSearchHistory";n[n.JumpListSettingsFaq=33]="JumpListSettingsFaq";n[n.JumpListSettingsRelatedSettings=34]="JumpListSettingsRelatedSettings";n[n.ActivityFeedSuggestions=35]="ActivityFeedSuggestions";n[n.TopApps=36]="TopApps";n[n.QuickSearch=37]="QuickSearch";n[n.LockscreenQuickSearch=38]="LockscreenQuickSearch";n[n.GroupHeader=104]="GroupHeader"})(i=t.GroupType||(t.GroupType={}));t.sameGroup=lt,function(n){n.KValues=function(){var n={};return n.GPT=108,n.GT=109,n.GW=110,n.SW=114,n.PWL=115,n.STS=116,n.SBI=117,n.SBV=118,n.SDSC=119,n.SDIO=120,n.IMIO=121,n.COFA=122,n.COOA=124,n.SDFE=126,n.OWA=128,n.OMCS=129,n.OMIO=130,n.OMCN=131,n.OMCD=132,n.OMAC=133,n.OMSC=134,n.OMVA=135,n.SSTS=136,n.AFOT=137,n.SNSC=138,n.RWBD=139,n}();n.HandoffsForNonSuggestions=function(){var n={};return n.GPT=2,n.GT=3,n.GW=0,n.SDSC=2,n.SDIO=2,n.IMIO=2,n.COFA=2,n.COOA=2,n}();n.GroupsForNonSuggestions=function(){var n={};return n.GPT=i.GroupHeader,n.GT=i.GroupHeader,n.GW=i.GroupHeader,n.SDSC=i.Settings,n.SDIO=i.Settings,n.IMIO=i.Settings,n.COFA=i.Settings,n.COOA=i.Settings,n}()}(c=t.SyntheticQSCodesMaps||(t.SyntheticQSCodesMaps={})),function(n){n[n.Open=1]="Open";n[n.RunAs=2]="RunAs";n[n.RunAsUser=3]="RunAsUser";n[n.OpenInBrowser=4]="OpenInBrowser";n[n.OpenFileLocation=5]="OpenFileLocation";n[n.OpenContaining=6]="OpenContaining";n[n.TabletMode_OpenNewWindow=7]="TabletMode_OpenNewWindow";n[n.PinToStartScreen=8]="PinToStartScreen";n[n.StartUnpin=9]="StartUnpin";n[n.TaskbarUnpin=10]="TaskbarUnpin";n[n.StartPin=11]="StartPin";n[n.TaskbarPin=12]="TaskbarPin";n[n.Manage=13]="Manage";n[n.ConnectNetworkDrive=14]="ConnectNetworkDrive";n[n.DisconnectNetworkDrive=15]="DisconnectNetworkDrive";n[n.Uninstall=16]="Uninstall";n[n["Tile.Uninstall"]=17]="Tile.Uninstall";n[n.ItemProperties=18]="ItemProperties";n[n.Settings=19]="Settings";n[n.Review=20]="Review";n[n.Share=21]="Share";n[n.S_Open=1e3]="S_Open";n[n.S_Install=1001]="S_Install";n[n.S_CopyFullPath=1002]="S_CopyFullPath";n[n.S_SendEmail=1003]="S_SendEmail";n[n.S_SendInstantMessage=1004]="S_SendInstantMessage";n[n.S_CopyPersonDetails=1005]="S_CopyPersonDetails";n[n.S_OpenFileLocationInBrowser=1006]="S_OpenFileLocationInBrowser";n[n.S_OpenInOutlookWeb=1007]="S_OpenInOutlookWeb";n[n.S_LaunchOutlookNative=1008]="S_LaunchOutlookNative";n[n.S_OpenInBrowser=1009]="S_OpenInBrowser"}(at=t.JumplistActionItemType||(t.JumplistActionItemType={}));t.GroupHeaderQSCodes=function(){var n={};return n[i.PathCompletion]="GPT",n[i.Store]="GT",n[i.SearchSuggestions]="GW",n[i.ActivityFeedSuggestions]="AFOT",n[i.TopApps]="ADS",n}();t.providerFailureLogName=vt;t.localDataSourceMayContainPII=yt;t.getSuggestionKey=pt;t.MRUDatabaseName="mruWithIndex";t.isSantoriniWeb=l;t.isFileOrFolderLocalDataSource=a;t.supportsShortcuts=wt;t.shouldOpenMiniSerp=bt;t.isIndexerBasedDataSource=kt;t.isBodyOrSuggestion=dt;t.isModernSetting=gt;t.getAppItem=v;t.getAppPfn=ni;t.getFileItem=ti;t.isItemWithFileMetadata=y;t.isGroup=ii;t.getItemWithFileMetadata=ri;t.getCommandLineItem=ui;t.getPathCompletionItem=fi;t.getPowerBiItem=ei;t.getBrowsingHistoryItem=p;t.isScopeTile=oi;t.getGroupType=e;t.canGoToL2=si;t.isJumpListGroup=o;t.isRecourse=w;t.useMoreSearchOptionsHeader=hi;t.isTopHitChildGroup=ci;t.getParentSuggestionGroupType=li;t.isChildSuggestion=s;t.isJumpListSuggestion=ai;t.getScope=b;t.IconSize_GridLayout=92;t.IconSize_GridLayout_Medium=68;t.IconSize_GridLayout_Scaled=130;t.getImageSizeValue=vi;t.populateImageRatio=yi;k={"zh-hans-cn":"zh-cn","zh-hans-sg":"zh-cn","zh-hant-hk":"zh-hk","zh-hant-tw":"zh-tw",ko:"ko-kr",ja:"ja-jp",nb:"nb-no"};t.getCurrentLanguage=pi;t.createSuggestion=d;t.getSyntheticSuggestion=wi;t.getNarratorText=g;t.isL2=nt;t.iconIsThumbnail=it;t.displayedInGridLayout=bi;t.parseWebSuppressionSignals=ki;t.decodeHtml=di,function(n){n[n.Author=1]="Author";n[n.LastModifiedBy=2]="LastModifiedBy";n[n.Content=3]="Content";n[n.Tags=4]="Tags";n[n.Album=5]="Album";n[n.Artist=6]="Artist";n[n.Genre=7]="Genre";n[n.Location=8]="Location"}(h=t.MatchType||(t.MatchType={}));t.createMatch=gi;rt=/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g;t.tryGetLocationMatch=nr;t.tryGetTextContentMatch=tr;t.matchesOnPropertyHH=ir;t.uses3lineTemplate=rr;t.isLightAnswer=ur;t.hasReverseHighlighting=fr;t.getMarketForBingAvailability=or;t.isEquivalentForPreviewPanePurposes=sr;t.shouldFetchStartMenu=hr;t.isNullOrUndefined=cr;ft=function(){function t(n,t){this.callback=n;this.counter=0;this.expired=!1;this.isBlocked=t}return t.prototype.check=function(n){this.expired||this.isBlocked||!n&&this.counter!=0||(this.callback(),this.expired=!0)},t.prototype.increase=function(){++this.counter;this.check(!1)},t.prototype.decrease=function(){if(this.counter==0)throw new Error("already zero");--this.counter;this.check(!1)},t.prototype.unblock=function(t){var i=this;if(!this.isBlocked)throw new Error("already unblocked");if(typeof t=="number"&&t<0)throw new Error("invalid timeout");this.isBlocked=!1;this.check(t===0);typeof t!="number"||this.expired||n.safeSetTimeout(function(){return i.check(!0)},t,"Semaphore.unblock")},t}();t.Semaphore=ft;et=function(){function n(n,t,i){this.verb=n.verb;this.displayName=n.displayName;this.executeSync=n.executeSync?function(){return i(function(){return n.executeSync()})}:function(){return i(function(){return n.executeAsync()})};this.isDefault=n.isDefault;this.icon=t;this.getIcon=n.getIcon}return n}();t.DeviceItemVerbWrapper=et;t.shouldSetThisPcGroupSource=lr;t.getGroupSourceDisplayName=ar;t.IndexingOptionsSettingId="Classic_{87d66a43-7b11-4a28-9811-c86ee395acf7}";t.EdgeAppId="Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge";t.getRtlAdjustedKey=vr;t.getSearchSuggestionIcon=yr;t.getWebSuggestionsGroupHeader=pr;t.getWebsitesGroupHeader=wr;t.getWebSuggestionAnnotation=br;t.setVisibility=kr;t.isRtl=ot;t.FOLDERID_Profile="{5E6C858F-0E22-4760-9AFE-EA3317B67173}";t.FOLDERID_SkyDrive="{A52BBA46-E9E1-435f-B3D9-28DAA648C0F6}";t.FOLDERID_System="{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}";t.FOLDERID_SystemX86="{D65231B0-B2F1-4857-A4CE-A8E7C6EA7D27}";u={};t.clearFolderCaches=dr;t.getKnownFolderPathLC=st;f={};t.clearPathExpansionCache=gr;ht=/^\{([a-z0-9-]{36})\}(.*)/i;t.resolveKnownFolderGUIDsInPath=nu;t.indexerFilePathToRegularPath=tu;t.enforceOriginalOrder=iu;t.accountTypeToAuthType=ru;t.getSubstrateResourceOrScope=uu;t.getBingResourceOrScope=fu;t.getAuthAccountForCloudContent=ct;t.getAccountTypeForCloudContent=eu;t.isSmallerAnswersUX=ou;t.getTweakedSetting=su;t.shouldSkipSelectedScope=hu;t.escapeRegExp=cu})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t,i,r;(function(n){n.checking="checking";n.downloading="downloading";n.error="error";n.noUpdate="noupdate";n.obsolete="obsolete";n.updateReady="updateready"})(t||(t={}));i=[t.checking,t.downloading,t.error,t.noUpdate,t.obsolete,t.updateReady];r=function(){function r(n,t,i){i===void 0&&(i=Date.now);this._autoSuggestHost=n;this._instrumentationHelper=t;this.getNowTimestamp=i;this._appCacheEventIndex=1;this._superFreshEnabled=!1;this._appCache=_w.applicationCache;this.subscribeForEvents()}return r.prototype.instrumentSuperFreshUpdate=function(n){this._appCacheTimeline||(this._appCacheTimeline=this.createAppCacheTimelineObject());this._appCacheTimeline.SuperFreshUpdateData.T=this.getNowTimestamp();this._appCacheTimeline.SuperFreshUpdateData.S=n;this.sendAppCacheEvents()},r.prototype.registerSuperFresh=function(){this._superFreshEnabled=!0},r.prototype.subscribeForEvents=function(){var n=this;i.forEach(function(t,i){return sj_be(n._appCache,t,function(){return n.handleAppCacheEvent(t,i)})})},r.prototype.handleAppCacheEvent=function(n,i){n!=t.checking&&this._appCacheTimeline||(this._appCacheTimeline=this.createAppCacheTimelineObject());this._appCacheTimeline.AppCacheEvents[i]=this.getNowTimestamp();switch(n){case t.obsolete:SharedLogHelper.LogWarning("handleAppCacheEvent",null,"AppCache marked as obsolete and will be deleted");this.sendAppCacheEvents();break;case t.error:case t.noUpdate:this.sendAppCacheEvents();break;case t.updateReady:this._superFreshEnabled||this.sendAppCacheEvents()}},r.prototype.sendAppCacheEvents=function(){var f=_G.ServerIG,t,r,u,i;if(!f){SharedLogHelper.LogError("sendAppCacheEvents","Could not instrument as server IG not known",new Error("Could not instrument app cache event"));return}(t=this._appCacheTimeline,t)&&(r=t.AppCacheEvents,u=[{I:t.EventIndex,E:r,S:t.SuperFreshUpdateData,ABT:this._instrumentationHelper.getConversationStartTimestamp()}],r[2]&&(u[0].OL=navigator.onLine),i=n.InstrumentationCommon.createPerfPingEvent(f,u,"AppCache",this._autoSuggestHost.getConversationId()),Log2.LogEvent(i.EventType,i.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,i.ImpressionGuid,null,null),this._appCacheTimeline=this.createAppCacheTimelineObject())},r.prototype.createAppCacheTimelineObject=function(){var n={EventIndex:this._appCacheEventIndex,AppCacheEvents:{},SuperFreshUpdateData:{T:undefined,S:undefined}};return this._appCacheEventIndex++,n},r}();n.AppCacheInstrumentationHelper=r}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var u=["PP","ST","FL","LM"],i=SearchAppWrapper.CortanaApp,r=i.queryFormulationView,f=function(){function f(n){var i=this;this._host=n;this._startupPerfLogged=!1;t.config.logTimeToFocus&&(n.bindConversationStart(function(){return i._startupPerfLogged=!1}),n.bindQueryChangedOrInitialized(function(n){return i.logClientPerfMetric(n)}));ThresholdUtilities.getCortanaHeaders(function(n){n&&(i._windowsFlights=n["X-BM-WindowsFlights"])})}return f.prototype.logProfilerMarker=function(t,r,u,f,e){e||(e={});n.safeExecute(function(){t==1?i.logMeasure("Bing_QF_"+u,r,"QF",JSON.stringify(e),f):i.logVerboseTrace("Bing_QF_"+u,r,"QF",JSON.stringify(e),f)},"logProfilerMarker")},f.prototype.getEnrichedClientInfo=function(n){var u={},f,e;return u.entryPoint=i.entryPoint,u.previousExperience=r.previousExperience,u.qfMode=""+t.RuntimeConfig.QfMode,u.isSearchHome=n.isSearchHomeZI?1:undefined,f=this._host.getFeatureDWORD("WideAtStartupDelta"),f.validFeature&&typeof f.featureValue=="number"&&(u.WideAtStartupDelta=f.featureValue),n&&n.scope!=t.Scope.All&&(u.scope=t.Scope[n.scope]),e=r.searchHistory,u.deviceHistoryEnabled=e&&e.isDeviceHistoryEnabled?1:0,t.windowsAccountType!=0&&(u.windowsAccount=t.windowsAccountType.toString()),t.cortanaAccountType!=0&&(u.cortanaAccount=t.cortanaAccountType.toString()),t.isSubstrateO365AccountConnected&&(u.o365Connected=1),t.isSubstrateOutlookAccountConnected&&(u.outlookConnected=1),this._host.hasFallbackHappened()&&(u.fallback=1),this._host.isClientLocationAvailable()&&(u.clientLocationAvailable=1),this._host.isInputPanelVisible()&&(u.isInputPaneVisible=1),(t.windowsAccountType==2||t.windowsAccountType==1)&&(t.cortanaAccountType==2||t.cortanaAccountType==1)&&t.getWindowsAndCortanaAccountIdentityDiff()==2&&(u.diffAccForWindowsCortana=1),t.isMobileCache||(i.appsUseLightTheme===!1&&(u.darkMode=1),i.colorPrevalenceEnabled&&(u.colorPrevalence=1),i.isSearchBoxInTaskbar&&(u.searchBoxInTaskbar=1),i.taskbarOrientation&&(u.taskbarOrientation=i.taskbarOrientation)),t.config.snrVersion&&(u.snrVersion=t.config.snrVersion),u.ciVersion=t.ConstraintIndex.currentCIVersion,u.defaultBrowser=this._host.getDefaultBrowser().toString(),this._windowsFlights&&(u.windowsFlights=this._windowsFlights),u},f.prototype.getSuggestionsPageName=function(){return"Page.SmartSearch.AS.Suggestions"},f.prototype.getApplicationName=function(){return"SmartSearch"},f.prototype.getRankerModelId=function(){return t.config.mainRankerId},f.prototype.createNonSuggestionDataSourceObject=function(n,i){return{T:"D.Url",K:i.getKValue(),Val:n,Ho:t.SyntheticQSCodesMaps.HandoffsForNonSuggestions[n],Gr:t.SyntheticQSCodesMaps.GroupsForNonSuggestions[n],NR:1}},f.prototype.createDataSourceObject=function(i){var f=this,e=i.mayContainPII&&!t.config.th,r={T:"D.Url",K:i.instItem.getKValue(),Q:e?undefined:i.query,MQ:i.ciMatchedQuery?i.ciMatchedQuery:undefined,Val:i.type,Ho:i.handoffType,Ans:i.isAnswer?1:undefined,Gr:t.getGroupType(i),HC:i.hc?1:undefined,RAF:i.useRaf?1:undefined,HS:i.fromHistory?1:undefined,F:i.features.length>0?i.features.join(","):undefined,AC:i.autoCompleteType?i.autoCompleteType:undefined,HCMS:i.highConfidenceMetaSuggestionScore,HCS:i.highConfidenceSuggestionScore,LM:i.suggestionLogMeta,Uri:i.actionUri,Src:i.source,Sg:i.segments,NR:i.notAResult?1:undefined},u;return i.deviceItem?r.DeviceSignals=n.safeExecute(function(){return f.buildDeviceItemDataSource(e,i)},"buildDeviceItemDataSource"):t.isJumpListSuggestion(i)&&(r.DeviceSignals=n.safeExecute(function(){return f.buildJumpListItemDataSource(i)},"buildJumpListItemDataSource")),t.config.th&&(u=i,u.path&&(r.path=u.path),u.targetPathLC&&(r.targetPath=u.targetPathLC)),r.RankerSignals=this.buildRankerOutputDataSource(i),r},f.prototype.buildRankerOutputDataSource=function(n){if(!n.rankingScore&&!n.featureStore)return undefined;return{rankingScore:n.rankingScore,featureStore:n.featureStore,mruSuppressionScore:n.mruSuppressionScore,fbcScore:n.fbcScore,previewPaneScore:n.previewPaneScore}},f.prototype.buildJumpListItemDataSource=function(i){var u=i.jumpListItem,r={Rank:u.usagePoints||undefined,LAD:n.isValidDate(u.lastAccessed)?u.lastAccessed.toJSON():undefined};if(t.config.th)r.path=u.path,r.description=i.tooltip;else if(!r.Rank&&!r.LAD)return undefined;return r},f.prototype.buildDeviceItemDataSource=function(i,r){var e=r.deviceItem,u={Rank:e.rankScore},f,s,h,o;if(e.propertyHits&&e.propertyHits.length>0&&(u.PHits=e.propertyHits.join(",")),i||(u.Id=e.id,u.DName!=r.query&&(u.DName=e.displayName)),t.config.th&&(u.kind=e.kind),t.isSetting(r.type))return u.MDN=t.isModernSetting(e)?1:0,u;if(f=t.getAppItem(r),f)return u.LAD=n.isValidDate(f.lastAccessed)?f.lastAccessed.toJSON():undefined,u.AppLnch=f.totalLaunches,u.Args=f.launchArguments?1:0,u.MDN=f.isImmersive?1:0,u.Ext=f.extension,t.config.th&&(u.CDT=n.isValidDate(f.createdDate)?f.createdDate.toJSON():undefined,u.LMD=n.isValidDate(f.lastModifiedDate)?f.lastModifiedDate.toJSON():undefined,u.launchArguments=f.launchArguments,u.filePath=f.filePath),u;if(s=t.getItemWithFileMetadata(r),s){if(u.Ext=s.extension,t.config.th&&(u.itemTypeDisplayName=s.itemTypeDisplayName),h=t.getCommandLineItem(r),h)return t.config.th&&(u.launchArguments=h.launchArguments,u.encodedPath=h.encodedPath),u;t.getPathCompletionItem(r)||(o=r.deviceItem,u.CDT=n.isValidDate(o.createdDate)?o.createdDate.toJSON():undefined,u.LMD=n.isValidDate(o.lastModifiedDate)?o.lastModifiedDate.toJSON():undefined,u.Ext=o.extension?o.extension:"")}return u},f.prototype.logMasterPageImpression=function(t){n.safeExecute(function(){return ThresholdInst.LogPageImpression(t,null,t.enrichedClientInfo)},"logMasterImpressionForClient")},f.prototype.logDataSourceTimeout=function(i,f){var s,e,o,h;if(r.logProviderFailure)for(s=function(u){n.isDataSourceEnabled(u,f)&&!n.contains(i,u)&&n.safeExecute(function(){return r.logProviderFailure(t.providerFailureLogName(u),"NoReturnForTopHit")},"logProviderFailure")},e=0,o=u;e<o.length;e++)h=o[e],s(h)},f.prototype.onItemClick=function(){r.resetConversationIdNextTimeQFIsShown&&r.resetConversationIdNextTimeQFIsShown()},f.prototype.logClientPerfMetric=function(){if(!this._startupPerfLogged&&i.isCenterScreen){this._startupPerfLogged=!0;var f=n.cleanGuid(this._host.getRawImpressionGuid()),r=this.getClientPerfMetric(39),u=this.getClientPerfMetric(38),t=u-r;(t<=0||r==n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE||u==n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE)&&(t=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE);Log2.LogEvent("ClientPerf",{TTF:t.toString()},"SearchBoxFocused",null,null,f,null,null)}},f.prototype.getClientPerfMetric=function(t){var r=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,u=i.proactiveView?i.proactiveView.perfMetrics:null;if(u)try{r=u.lookup(t).getTime();r=r<=0?n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE:r}catch(f){}return r},f}();t.WSBInstrumentationProvider=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t="/QF_KEYSTROKE_VIRTUAL_URL?",i="autosuggest",r=function(){function r(t,i,r){var u=this;this._host=t;this._instrumentationProvider=i;this._clientTelemetry=r;this._conversationStartTimestamp=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE;this._keystrokesPerfPingData={};this._keystrokesInstrumentationData={};this._finalizeKeystrokeHandlers=[];ClientInstConfig.queueDumpInterval=n.config.logQueueDumpInterval;_w.ClTrCo.SharedClickSuppressed=!0;t.bindConversationStart(function(){return u.onConversationStart()})}return r.prototype.bindFinalizeKeystroke=function(n){this._finalizeKeystrokeHandlers.push(n)},r.prototype.getImpressionGuid=function(n){var t=this._keystrokesInstrumentationData[n];if(t&&t.ImpressionGuid)return t.ImpressionGuid;throw"getImpressionGuid(): No IG for sequence "+n;},r.prototype.updateSuggestionsList=function(n,t){this._clientTelemetry&&this._clientTelemetry.updateSuggestionsList(n,t)},r.prototype.instrumentItemClickForPreviewPane=function(n,t,i,r,u,f,e,o,s){var h=this.createBaseCustomGPingPayload(u,f);this.addPreviewPaneDataToGPingPayload(h,e,o,s);this.instrumentItemClickAndGPing(h,n,t,i,r,u)},r.prototype.instrumentItemClickForContextMenu=function(n,t,i,r,u,f,e){var o=this.createBaseCustomGPingPayload(u,f);this.addContextMenuDataToGPingPayload(o,e);this.instrumentItemClickAndGPing(o,n,t,i,r,u)},r.prototype.instrumentItemClick=function(n,t,i,r,u,f){if(t.getHandoffType()==999)this.instrumentLayoutItemSelect(t,i);else{var e=this.createBaseCustomGPingPayload(u,f);this.instrumentItemClickAndGPing(e,n,t,i,r,u)}},r.prototype.instrumentItemClickAndGPing=function(t,i,r,u,f,e){this.sendCustomGPing(t,r.getHValue(),i);var s=this._keystrokesInstrumentationData[u],o=this._keystrokesInstrumentationData[u];o?(s.RenderingStarted||this.updatePageIG(u),_G.IG!=o.ImpressionGuid&&SharedLogHelper.LogError("instrumentItemClick","IG ("+o.ImpressionGuid+") for sequenceNumber "+u+" does not match the page IG ("+_G.IG+")",new Error("IG for sequence number does not match the currently rendered page's IG (_G.IG)")),this._clientTelemetry&&this._clientTelemetry.logItemClickedMeasure(o.ConversationId,o.RawImpressionGuid,r,e)):SharedLogHelper.LogError("instrumentItemClick","sequenceNumber: "+u+" ConversationID: "+this._host.getConversationId(),new Error("No instrumentation data found for sequenceNumber"));this.finalizeKeystrokeLog(u,1);f&&f();this._instrumentationProvider.onItemClick();n.config.forceLogFlush?Log2.ForceFlush():Log2.FlushMainQueueDontForce();_w.clickFlushedTime=sb_gt()},r.prototype.instrumentLayoutItemSelect=function(n,t){var i={AppNS:n.getAppNS(),K:n.getLayoutKValue()};this.logClientInstEvent("Select","ItemClicked",t,i)},r.prototype.createBaseCustomGPingPayload=function(n,t){var i={};switch(n){case 1:i.i="k";i.mk=this.getModifierKeyCodes(t);break;case 3:i.i="t";break;case 4:i.i="p";break;case 5:i.i="n";break;case 6:i.i="b";break;case 0:i.i="x";i.mk=this.getModifierKeyCodes(t);break;default:i.mk=this.getModifierKeyCodes(t)}return i},r.prototype.addContextMenuDataToGPingPayload=function(n,t){n.cm=t},r.prototype.addPreviewPaneDataToGPingPayload=function(n,t,i,r){t&&(n.pp=t,i&&(n.ppit=i),typeof r=="number"&&(n.rho=r))},r.prototype.sendCustomGPing=function(t,i,r){var u=i;n.isEmpty(t)||(u+="&PR="+JSON.stringify(t));n.safeExecute(function(){return _w.si_T(u,null,null,0,r)},"logCustomGPing")},r.prototype.getModifierKeyCodes=function(n){if(n){var t=n.altKey?"A":"";if(t+=n.ctrlKey?"C":"",t+=n.shiftKey?"S":"",t)return t}return undefined},r.prototype.previewPaneOpenedOrClosed=function(n,t,i,r,u,f){var o=n?"Select":"Unselect",s=n?"PreviewPaneOpened":"PreviewPaneClosed",e;this.logClientInstEvent(o,s,t,f);n&&this._clientTelemetry&&(e=this._keystrokesInstrumentationData[t],e&&this._clientTelemetry.logPreviewPaneOpenedMeasure(i,r,u))},r.prototype.logClientInstEvent=function(n,t,i,r){var f=null,u;i&&(u=this._keystrokesInstrumentationData[i],u&&(f=u.ImpressionGuid));Log2.LogEvent(n,r,t,null,null,f,null,null)},r.prototype.safeInstrument=function(n,t,i,r){var u=this._keystrokesInstrumentationData[n];u?t(u):SharedLogHelper.LogError(i,(r?r+" ":"")+" sequenceNumber: "+n,new Error("No instrumentation data found for sequenceNumber"))},r.prototype.safeInstrumentPerf=function(n,t,i,r){var u=this._keystrokesPerfPingData[n];u?t(u):SharedLogHelper.LogError(i,(r?r+" ":"")+" sequenceNumber: "+n,new Error("No instrumentation data found for sequenceNumber"))},r.prototype.instrumentRenderingStarted=function(n){var t=this;this.safeInstrument(n,function(i){i.RenderingStarted=!0;t.updatePageIG(n)},"instrumentRenderingStarted")},r.prototype.instrumentBeginRequest=function(t,i,r){var e;delete this._keystrokesInstrumentationData[t-1];n.InstrumentedItem.resetKValues(t);e=this._keystrokesPerfPingData[t];e&&SharedLogHelper.LogError("instrumentBeginRequest","sequenceNumber: "+t,new Error("Duplicate BeginRequest for sequenceNumber"));var f=this._host.getConversationId(),u=this._host.getRawImpressionGuid(),o=n.cleanGuid(u),s=n.getCurrentTime()-r,h={RawImpressionGuid:u,ImpressionGuid:o,ConversationId:f,Query:i,PendingDataSources:{},DataSources:{},RankerExtraInfo:{},DuplicateDS:{},Layout:[],MasterPageImpressionCreated:!1,RenderingStarted:!1,PendingInstrumentedItems:{},PendingSyntheticSuggestions:{},OriginalTimestamp:s},c={RawImpressionGuid:u,ImpressionGuid:o,ConversationId:f,PrefixLength:i.queryToFetch?i.queryToFetch.length:0,RequestBegin:this.getOffsetedNow(s),ResponseReceived:{},MultipleResponsesReceived:{},DataSourcesState:this._searchServiceStatus?{Indexer:this._searchServiceStatus}:undefined,RenderFinished:{},AllDataSourcesProcessed:!1,PendingIcons:0,TopResultRendered:[],IconsRetrieved:{},ResponseFromCache:{}};this._keystrokesInstrumentationData[t]=h;this._keystrokesPerfPingData[t]=c;this._clientTelemetry&&this._clientTelemetry.logNewKeystrokeMeasure(f,u,i)},r.prototype.setSearchServiceStatus=function(n){this._searchServiceStatus=n},r.prototype.instrumentResponseReceived=function(n,t,i,r,u){var f=this;this.safeInstrumentPerf(n,function(n){if(!u){var e=f.getOffsetedNow();typeof n.ResponseReceived[t]!="number"?n.ResponseReceived[t]=e:(n.MultipleResponsesReceived[t]||(n.MultipleResponsesReceived[t]=[n.ResponseReceived[t]]),n.MultipleResponsesReceived[t].push(e))}i&&(n.DataSourcesState=n.DataSourcesState||{},n.DataSourcesState[t]=i);r&&(n.ResponseFromCache[t]=r)},"instrumentResponseReceived",t)},r.prototype.instrumentTopResultRendered=function(t,i){var r=this;this.safeInstrumentPerf(t,function(u){var f=r.getOffsetedNow(),e;u.TopResultRendered.push({V:f,T:i.join(",")});r.tryInstrumentRenderStopped(t,u);r._clientTelemetry&&(e=f-r._keystrokesPerfPingData[t].RequestBegin,r._clientTelemetry.logTopResultsRenderedMeasure(u.RawImpressionGuid,i,e));n.config.th&&n.safeFireEvent("TopResultRendered")},"instrumentTopResultRendered")},r.prototype.instrumentRenderedLocalSuggestion=function(n,t){var r=this._keystrokesInstrumentationData[n],u,f,i;if(r){for(u={},f={},i=0;i<t.length;i++)t[i].type=="FV"?u[i]="TBD":t[i].type=="HU"&&(f[i]="TBD");r.FvSug=u;r.HuSug=f}},r.prototype.instrumentAggregatorCall=function(t,i){var r=this;this.safeInstrument(t,function(t){var e={fastRankModelId:r._instrumentationProvider.getRankerModelId()},f,u;for(f in t.RankerExtraInfo)e[f]=t.RankerExtraInfo[f];t.RankerExtraInfo={};u={T:"D.Aggregator",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Aggregator",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:[],rankerModelIds:e};n.config.counterFactualLoggingOn&&(u.counterFactualDiff=u.counterFactualDiff||i);t.DataSources.aggregator=u},"instrumentAggregatorCall")},r.prototype.addDuplicatesDataSource=function(t){var i=Object.keys(t.DuplicateDS).map(function(n){return t.DuplicateDS[n]});i.length>0&&(t.DataSources.duplicates={T:"D.Duplicates",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Duplicates",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:i})},r.prototype.instrumentDuplicate=function(t,i,r){this.safeInstrument(t,function(t){var u=t.DuplicateDS[i.instItem.getHValue()],f;u||(u={T:"D.Duplicate",DS:[{T:"D.DSRef",KRef:i.instItem.getKValue()}]},i.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(u.DS[0].AppNS=i.instItem.getAppNS()),t.DuplicateDS[i.instItem.getHValue()]=u);f={T:"D.DSRef",KRef:r.instItem.getKValue()};r.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(f.AppNS=r.instItem.getAppNS());u.DS.push(f)},"instrumentDuplicate")},r.prototype.renderingStopped=function(n){return n.PendingIcons==0&&n.AllDataSourcesProcessed},r.prototype.notifyAllDataSourcesProcessed=function(n){var t=this;this.safeInstrumentPerf(n,function(i){i.AllDataSourcesProcessed=!0;t.tryInstrumentRenderStopped(n,i)},"notifyAllDataSourcesProcessed")},r.prototype.notifyIconPending=function(t,i,r,u){var f=this;this.safeInstrumentPerf(t,function(t){var e=r+(i?"T":"S");t.IconsRetrieved[e]||(t.IconsRetrieved[e]={B:f.getOffsetedNow(),E:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,T:u},t.PendingIcons++)},"notifyIconPending",i?"TR":"SUG")},r.prototype.notifyIconReady=function(n,t,i){var r=this;this.safeInstrumentPerf(n,function(n){var u=i+(t?"T":"S");n.IconsRetrieved[u]?n.IconsRetrieved[u].E=r.getOffsetedNow():SharedLogHelper.LogError("notifyIconReady",null,new Error("Instrumenting unseen icon"));n.PendingIcons--},"notifyIconReady",t?"TR":"SUG")},r.prototype.tryInstrumentRenderStopped=function(t,i){this.renderingStopped(i)&&(this.finalizeKeystrokeLog(t,2),n.config.th&&n.safeFireEvent("RenderStopped"))},r.prototype.isLayoutLogged=function(n){return this._keystrokesInstrumentationData[n].MasterPageImpressionCreated},r.prototype.finalizeKeystrokeLog=function(n,t){var r,i;t===void 0&&(t=0);this._finalizeKeystrokeHandlers.forEach(function(n){return n(t==0)});r=this._keystrokesInstrumentationData[n];r&&this.logKeystrokeData(r,n);t!=1&&(i=this._keystrokesPerfPingData[n],i&&(this.logPerfPingEvent(this.createKeystrokePerfPingEvent(n,i)),this._clientTelemetry&&this._clientTelemetry.logDataSourcePerformancesMeasure(i)))},r.prototype.instrumentRenderFinished=function(n,t,i){var r=this;this.safeInstrumentPerf(n,function(u){var f=r.getOffsetedNow();t.forEach(function(n){return u.RenderFinished[n]=f});r.tryInstrumentRenderStopped(n,u);r._clientTelemetry&&r._clientTelemetry.logGroupsRenderedMeasure(i)},"instrumentRenderFinished",t.join(","))},r.prototype.instrumentSyntheticInstrumentedItem=function(n,t,i){var r=this._keystrokesInstrumentationData[n];r?r.PendingInstrumentedItems[t]=i:SharedLogHelper.LogError("instrumentSyntheticInstrumentedItem",t,new Error("keystrokesInstrumentationData not found"))},r.prototype.instrumentSyntheticSuggestion=function(n,t){var i=this._keystrokesInstrumentationData[n];i?i.PendingSyntheticSuggestions[t.type]=t:SharedLogHelper.LogError("instrumentSyntheticSuggestion",t.type,new Error("Instrumentation synthetic suggestion after flush"))},r.prototype.getInstrumentedSyntheticSuggestion=function(n,t){return this._keystrokesInstrumentationData[n].PendingSyntheticSuggestions[t]},r.prototype.instrumentDataSource=function(n,t,i,r){this.safeInstrument(n,function(n){var u,f,e;if(r&&r.rankerExtraInfo)for(u in r.rankerExtraInfo)n.RankerExtraInfo[u]=r.rankerExtraInfo[u];f=i||[];e=n.PendingDataSources[t];n.PendingDataSources[t]=e?e.concat(f):f},"instrumentDataSource",t)},r.prototype.processPendingDataSources=function(t){var i,f,r,u,e,o;for(i in t.PendingDataSources)if(f=t.PendingDataSources[i],f.length>0){for(r=[],u=0,e=f;u<e.length;u++)o=e[u],r.push(this._instrumentationProvider.createDataSourceObject(o));i=="Web"&&(i="WebAS");r.length>0&&(t.DataSources[i]={T:"D."+i,AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:i,SC:r.length,DS:r})}t.PendingDataSources={}},r.prototype.instrumentSnRProviderFetchUrl=function(n,t){this.safeInstrument(n,function(n){n.SnRProviderFetchUrl=t},"instrumentSnRProviderFetchUrl")},r.prototype.onConversationStart=function(){if(this._conversationStartTimestamp=n.getCurrentTime(),this._searchServiceStatus=null,this._clientTelemetry){var t=this._host.getConversationId();this._clientTelemetry.logConversationStartMeasure(t,this._conversationStartTimestamp)}this._keystrokesPerfPingData=[]},r.prototype.getConversationStartTimestamp=function(){return this._conversationStartTimestamp},r.prototype.logDataSourceTimeout=function(n,t){this._instrumentationProvider.logDataSourceTimeout(n,t)},r.prototype.createKeystrokePerfPingEvent=function(t,i){var u={I:t,PL:i.PrefixLength,K:i.RequestBegin,RRT:i.ResponseReceived,MRT:i.MultipleResponsesReceived,RFT:i.RenderFinished,TRR:i.TopResultRendered,RS:undefined,IRT:i.IconsRetrieved},r,f,e,o,s;if(this.renderingStopped(i)){for(r=0,f=0,e=u.TRR;f<e.length;f++)o=e[f],r=Math.max(r,o.V);for(s in u.RFT)r=Math.max(r,u.RFT[s]);r&&(u.RS=r)}return n.InstrumentationCommon.createPerfPingEvent(i.ImpressionGuid,[u],"Keystroke",i.ConversationId,i.DataSourcesState,i.ResponseFromCache)},r.prototype.updatePageIG=function(n){_G.IG=this.getImpressionGuid(n)},r.prototype.createMasterPageImpression=function(t,r,u,f,e){var c=this,h={dataSources:e||[],layoutNodes:[],pageName:t,rawQuery:f?f.queryToFetch:"",isQuery:!1,impressionUrl:this.createVirtualImpressionURL(r,u),appName:this._instrumentationProvider.getApplicationName(),enrichedClientInfo:{FDPartnerEntry:i,nclid:_G.nclid,isOffline:n.isBrowserOnline()?0:1,webRequested:u?1:0}},o=n.safeExecute(function(){return c._instrumentationProvider.getEnrichedClientInfo(f)},"getEnrichedClientInfo"),s;if(o)for(s in o)h.enrichedClientInfo[s]=o[s];return h},r.prototype.logKeystrokeData=function(i){var u,f,r;(this.processPendingDataSources(i),n.config.th&&this.addDuplicatesDataSource(i),u=Object.keys(i.DataSources).map(function(n){return i.DataSources[n]}).concat(this.createNonSuggestionsDataSource(i.PendingInstrumentedItems,i.PendingSyntheticSuggestions)),i.DataSources={},i.PendingSyntheticSuggestions={},i.PendingInstrumentedItems={},u.length==0&&i.MasterPageImpressionCreated)||(i.RenderingStarted&&(f=DsLManager.CreateLayoutNode(_d.body,n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,!1,!0,i.MasterPageImpressionCreated)),i.MasterPageImpressionCreated?Log2.LogEvent("ClientInst",null,null,u,f,i.ImpressionGuid,null,null):(r=this.createMasterPageImpression(this._instrumentationProvider.getSuggestionsPageName(),t,i.SnRProviderFetchUrl?i.SnRProviderFetchUrl.substring(i.SnRProviderFetchUrl.indexOf("?")+1):"",i.Query,u),f&&(r.layoutNodes=f),i.FvSug&&Object.keys(i.FvSug).length>0&&(r.enrichedClientInfo.FvSug=i.FvSug),i.HuSug&&Object.keys(i.HuSug).length>0&&(r.enrichedClientInfo.HuSug=i.HuSug),r.clientTimestamp=i.OriginalTimestamp,this.logMasterPageImpression(i.ImpressionGuid,r),i.MasterPageImpressionCreated=!0))},r.prototype.logPerfPingEvent=function(t){Log2.LogEvent(t.EventType,t.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,t.ImpressionGuid,null,null);n.config.th&&ClientTestHooks.DebugLogNoConsole("perfPingEvent",[t])},r.prototype.logMasterPageImpression=function(t,i){if(i){if(!t){SharedLogHelper.LogError("logMasterPageImpression",null,new Error("Missing impressionGuid"));return}i.impressionGuid=t;this._instrumentationProvider.logMasterPageImpression(i,this._host.getConversationId());n.config.th&&ClientTestHooks.DebugLogNoConsole("masterPageImpression",i,t)}},r.prototype.instrumentInitializationFinish=function(t){var u=_G.ServerIG,i,r;if(!u){SharedLogHelper.LogError("instrumentInitializationFinish","Could not instrument as server IG not known",new Error("Could not instrument initilization finish"));return}if(i=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,r=_w.performance,r&&r.timing&&(i=r.timing.navigationStart),!(i<=0)){var f=t.getTime()-i,e=n.getCurrentTime()-i,o=[{BLT:f,ILT:e}],s=n.InstrumentationCommon.createPerfPingEvent(u,o,"Load");this.logPerfPingEvent(s)}},r.prototype.getOffsetedNow=function(t){return t===void 0&&(t=n.getCurrentTime()),t-this._conversationStartTimestamp},r.prototype.createNonSuggestionsDataSource=function(t,i){var r=[],u,f;for(u in t)r.push(this._instrumentationProvider.createNonSuggestionDataSourceObject(u,t[u]));for(u in i)r.push(this._instrumentationProvider.createDataSourceObject(i[u]));return r.length?(f={T:"D.ContentGroup",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"NonSuggestions",SC:r.length,DS:r},[f]):[]},r.prototype.createVirtualImpressionURL=function(t,i){var r=n.getWindowProtocol()+"//"+n.getWindowHost()+t;return r+=i?i:n.Service.QueryParams.ConversationId+"="+n.encodeQueryParameter(this._host.getConversationId()),_G.ServerIG&&(r+="&ASInitIG="+n.encodeQueryParameter(_G.ServerIG)),r},r}();n.InstrumentationHelper=r}(AutoSuggest||(AutoSuggest={})),function(n){var t="&nclid=",i="&ts=",r="&nclidts=",u="&tsms=",f="&elv=",e="&cc=",o="&setlang=",s="&cvid=",h="&qs=",c="&ao=",l="&wsso=",a=function(){function a(t,i,r,u){if(r===void 0&&(r=Date.now),u===void 0&&(u=n.getWindowProtocol()+"//"+n.getWindowHost()),this._host=t,this._searchPreCacheHandler=i,this.getNowTimestamp=r,this._baseUrl=u,n.config.overrideHost){var f=n.getWindowHost();f.startsWith("www.")&&(this._baseUrl=n.getWindowProtocol()+"//"+n.config.overrideHost+f.substring(3))}}return a.prototype.getSearchUrl=function(t,i,r,u,e,o,s,h,a){var b=e===13?"images":e===14?"videos":"",v,y,p,w;return u||(u=(b?"/"+b:"")+"/search?q="+n.encodeQueryParameter(i)),v=this._baseUrl+u,v+=n.config.th&&ClientTestHooks.isTesthookParamSet("isWindowsTest")?"&form=MONITR&traffictype=wintest":"&form="+n.encodeQueryParameter(o||this._host.getFormCode()),a&&(v+=c+"1"),v=this.enrichUrlWithSuggestionType(v,h?"P":r),v=this.enrichUrlWithCvid(v),n.config.suppressPqParameter||(v+="&pq="+n.encodeQueryParameter(t)),y=this._host.getMSNRefIg(),y&&(v+="&refig="+y),v=this.enrichUrlWithMarketInfo(v),v=this.enrichUrlWithDeviceInfo(v),s||(v=this.enrichUrlWithMuidInfo(v),p=this._host.getElToken(),p&&this._baseUrl.startsWith("https:")&&(v+=f+n.encodeQueryParameter(p)),v=this.enrichUrlWithSafeSearchInfo(v),this._searchPreCacheHandler&&(v=this._searchPreCacheHandler.attempPreCacheAndEnrichUrl(v))),w=this._host.getSafeSearchSetting(),w&&(v+=l+w),v},a.prototype.getImageSearchUrl=function(n){return n?this._baseUrl+"/images/detail/upload?FORM=SBIWSB":this._baseUrl+"/images/search?view=detailv2&iss=sbiupload"},a.prototype.enrichUrlWithDeviceInfo=function(n){this._host.isEducationEnvironment()&&(n+="&DAF0=1");this._host.isWindowsS()&&(n+="&DAF1=1");var t=this._host.getPartnerSearchCode();return t&&(n+="&PC="+t),n},a.prototype.enrichUrlWithMarketInfo=function(n){var t=this._host.getRegion(),i=this._host.getLanguage();return t&&(n+=e+t),i&&(n+=o+i),n},a.prototype.enrichUrlWithSafeSearchInfo=function(n){return this._host.getSafeSearchSetting()=="Strict"?n+"&adlt=strict":n},a.prototype.enrichUrlWithMuidInfo=function(f){var e,o,s;return _G.nclid&&(f+=t+n.encodeQueryParameter(_G.nclid),e=this.getNowTimestamp().toString(),f+=i+n.encodeQueryParameter(e),o=e.substring(0,e.length-3),f+=r+n.encodeQueryParameter(o),s=e.substring(e.length-3),f+=u+n.encodeQueryParameter(s)),f},a.prototype.enrichUrlWithCvid=function(t){return t+(s+n.encodeQueryParameter(this._host.getConversationId()))},a.prototype.enrichUrlWithSuggestionType=function(t,i){return t+(h+n.encodeQueryParameter(i))},a}();n.NavigationHelper=a}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(t,i){var r=this;this.host=t;this._selectableItemsContainer=i;t.bindKeyDown(function(t,u,f){var e=!1;t==9?e=r.selectFirstItemInNextGroup(u&&u.shiftKey):n.isUpOrDownKey(t)&&(e=r.selectNextItem(n.isUpKey(t)));i.onAfterKeyDown(t,u,f,e)})}return t.prototype.selectFirstItemInNextGroup=function(t){var i=this._selectableItemsContainer.getSelectableItemsByGroup();if(i.length==0)return!1;var f=this._selectableItemsContainer.getSelectedItem(),r=i.findIndex(function(t){return n.contains(t,f)}),e=r<0?-1:i[r].findIndex(function(n){return n==f}),u;return(r<0?u=i[0][0]:t&&e>0?u=i[r][0]:t?r>0&&(u=i[r-1][0]):r+1<i.length&&(u=i[r+1][0]),u)?(this._selectableItemsContainer.select(u,!0),!0):!1},t.prototype.selectNextItem=function(t){var i=this._selectableItemsContainer.getSelectableItems(),e;if(i.length==0)return!1;var u=this._selectableItemsContainer.getSelectedItem(),r=u?i.indexOf(u):-1,f=t?r==0:r==i.length-1;return f&&n.RuntimeConfig.AllowKeyboardNavOffCanvas?(this._selectableItemsContainer.select(null,!0),!0):f&&!n.RuntimeConfig.AllowKeyboardNavCycling?!1:(e=t?r<=0?i.length-1:r-1:(r+1)%i.length,this._selectableItemsContainer.select(i[e],!0),!0)},t}();n.KeyboardEvtHandler=t}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(n,t,i,r,u){this._host=n;this._instrumentationHelper=t;this._ariaLogger=i;this._aggregator=r;this._rootViewModel=u;this._lastUsedId=-1;this._sequenceNumber=-1;this._suggestionsQueue={};this._dataSourcesCompleted={}}return t.prototype.initiateSequenceNumber=function(t,i){var o=this,u,f,r,s,e;if(this._sequenceNumber>=t){SharedLogHelper.LogError("initiateSequenceNumber",null,new Error("Unexpected sequence number"));return}for(this.resetStateForNewQuery(t,i),this._highPriorityDataSources=[],this._normalPriorityDataSources=[],this._lowPriorityDataSources=[],u=0,f=n.config.enabledDataSources;u<f.length;u++)(r=f[u],r!=n.WebDataSource||n.isBingEnabled(!0))&&(s=i.enabledDataSources[r],s&&(n.config.lowPriorityDataSources[r]?this._lowPriorityDataSources.push(r):n.config.highPriorityDataSources[r]?this._highPriorityDataSources.push(r):this._normalPriorityDataSources.push(r)));this._highPriorityDataSources.length==0&&this._normalPriorityDataSources.length==0&&this._lowPriorityDataSources.length==0?this.processSuggestions(!1):(e=this.getLatencyTimeout(),e>0&&(this._bufferingTimer=n.safeSetTimeout(function(){o._bufferingTimer=null;o.processSuggestions(!0)},e,"processSuggestionsBuffering")))},t.prototype.getLatencyTimeout=function(){return this._partialQuery.queryToFetch?n.config.latencyTimeout:n.config.latencyTimeoutForZeroInput},t.prototype.queueSuggestions=function(t,i,r,u,f){var e;if(t>this._sequenceNumber){SharedLogHelper.LogError("queueSuggestions",null,new Error("Unexpected sequence number"));return}if(!(t<this._sequenceNumber)){if(this._dataSourcesCompleted[i]){SharedLogHelper.LogError("queueSuggestions",i,new Error("Data source already completed"));return}if(!n.contains(this._highPriorityDataSources,i)&&!n.contains(this._normalPriorityDataSources,i)&&!n.contains(this._lowPriorityDataSources,i)){SharedLogHelper.LogError("queueSuggestions",i,new Error("Unexpected data source"));return}this._suggestionsQueue[i]&&!this._suggestionsQueue[i].updated?(e=this._suggestionsQueue[i].suggestions).push.apply(e,r):this._suggestionsQueue[i]={suggestions:r,updated:!1};this._dataSourcesCompleted[i]=!f;u&&(this._extraSignalsMap[i]=u);f||this._arrivedDataSources.push(i);this._allDataSourcesArrived=this._arrivedDataSources.length==this._highPriorityDataSources.length+this._normalPriorityDataSources.length+this._lowPriorityDataSources.length;this._processingStopped||this._instrumentationHelper.isLayoutLogged(this._sequenceNumber)?this._allDataSourcesArrived&&this._instrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber):this.processSuggestions(!1)}},t.prototype.resetTimers=function(){this._bufferingTimer&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null)},t.prototype.resetStateForNewQuery=function(t,i){this._arrivedDataSources=[];this._allProcessedDataSources={};this._sequenceNumber=t;this._partialQuery=i;this._suggestionsQueue={};this._dataSourcesCompleted={};this._extraSignalsMap={};this._renderedThisSequenceNumber=!1;this._waitingForMoreResults=!0;this._processingStopped=!1;this._allDataSourcesArrived=n.isEmpty(i.enabledDataSources);this.resetTimers()},t.prototype.getDependencies=function(t){var i=this;return this._host.dataSourceDependencies(t).filter(function(t){return n.isDataSourceEnabled(t,i._partialQuery)})},t.prototype.haveAllDataSourcesArrived=function(n){var t=this;return n.every(function(n){return!!t._suggestionsQueue[n]})},t.prototype.haveAllDataSourcesCompleted=function(n){var t=this;return n.every(function(n){return!!t._dataSourcesCompleted[n]})},t.prototype.processSuggestions=function(t){var i=this,u=[],o=[],r,l=this.getLatencyTimeout()>0&&this._bufferingTimer==null,s=this.haveAllDataSourcesArrived(this._highPriorityDataSources),a=s||l,v=this.haveAllDataSourcesCompleted(this._normalPriorityDataSources),y=this.haveAllDataSourcesCompleted(this._highPriorityDataSources),h=y&&v,c;t&&(this._instrumentationHelper.logDataSourceTimeout(Object.keys(this._suggestionsQueue),this._partialQuery),this._ariaLogger&&this._ariaLogger.logDataProviderFailure(Object.keys(this._suggestionsQueue),this._partialQuery.originalQuery));var f=t&&!this._renderedThisSequenceNumber,p=function(t,e){var s;if(!t.updated&&i.getDependencies(e).every(function(t){return n.contains(i._arrivedDataSources,t)})){if(o.push(e),i._allProcessedDataSources[e]=!0,t.suggestions.length>0&&(s=i.canHaveSuppressions(e)?t.suggestions.filter(function(n){return!i.isSuppressed(e,n,t.suggestions)}):t.suggestions,s.length>0)){r||(r=i._renderedThisSequenceNumber?i._rootViewModel.getSuggestions(!0):[]);var h=i.removeDuplicatesAndAssignIds(s,r,u,e),c=h[0],l=h[1];u=u.concat(c);l&&(f=!0)}t.updated=!0}},e=function(n){var u,t,r;for(u in n)t=n[u],r=i._suggestionsQueue[t],r&&p(r,t)};a&&e(this._highPriorityDataSources);this._bufferingTimer&&h&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null);c=this.getLatencyTimeout()>0?this._bufferingTimer==null:s;c&&(e(this._normalPriorityDataSources),e(this._lowPriorityDataSources));this._waitingForMoreResults&&h&&(this._waitingForMoreResults=!1,(!this._renderedThisSequenceNumber||this._rootViewModel.mayNeedFlush()||(r||this._rootViewModel.getSuggestions(!0)).length==0)&&(f=!0));this._partialQuery.showProgressBar&&this._allDataSourcesArrived&&(f=!0);(u.length>0||f)&&(r||(r=this._renderedThisSequenceNumber?this._rootViewModel.getSuggestions(!0):[]),this.addSuggestions(r,u,o,f));this._allDataSourcesArrived&&this._instrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber)},t.prototype.getAggregatorResult=function(t,i,r){var e=this.waitingForWebProvider(),f=null,u,o;return n.config.counterFactualLoggingOn&&(f=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!0)),u=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!1),o=n.config.counterFactualLoggingOn&&(!this.isSuggestionOrderTheSame(u.topResults,f.topResults)||!this.isSuggestionOrderTheSame(u.suggestionsToAdd,f.suggestionsToAdd)),[u,o]},t.prototype.waitingForWebProvider=function(){var t=this;return n.isBrowserOnline()&&[n.WebDataSource].concat(this.getDependencies(n.WebDataSource)).some(function(i){return n.isDataSourceEnabled(i,t._partialQuery)&&!t._allProcessedDataSources[i]})},t.prototype.isSuggestionOrderTheSame=function(n,t){var r=function(n){return n.query+"\t"+n.type},i;if(n.length!=t.length)return!1;for(i=0;i<n.length;i++)if(r(n[i])!=r(t[i]))return!1;return!0},t.prototype.addSuggestions=function(t,i,r,u){var e=this,o=this._renderedThisSequenceNumber?this._rootViewModel.getCurrentTopResults():[],v=n.safeExecute(function(){return e.getAggregatorResult(o,t,i)},"getAggregatorResults",[null,!1]),f=v[0],p=v[1],s,h,l,c,a,y;for(f||(f={topResults:o,suggestionsToAdd:i,suggestionsToRemove:[],groupOrder:[]}),this._instrumentationHelper.instrumentAggregatorCall(this._sequenceNumber,p),i=f.suggestionsToAdd,s=f.suggestionsToRemove,h=0,l=f.topResults;h<l.length;h++)c=l[h],n.contains(t,c)&&!n.contains(o,c)&&s.push(c);(u||i.length!=0||s.length!=0||!n.sequenceEqual(o,f.topResults))&&(a=!this._renderedThisSequenceNumber,a&&(this._renderedThisSequenceNumber=!0,this._instrumentationHelper.instrumentRenderingStarted(this._sequenceNumber)),y=n.safeExecute(function(){return e._rootViewModel.update(a,f.topResults,e._waitingForMoreResults,e._sequenceNumber,i,s,r,f.groupOrder,e._allDataSourcesArrived,e._extraSignalsMap)},"rootViewModel.update",0,null,function(t){n.WSB&&n.WSB.fallbackToPrepopulatedBundle&&n.WSB.fallbackToPrepopulatedBundle(t)}),y==0&&(this._processingStopped=!0,this.resetTimers()))},t.prototype.removeDuplicatesAndAssignIds=function(n,t,i,r){var f=this,h=function(n){n.id||(n.id="id_"+ ++f._lastUsedId)},s=!1,o;if(this._aggregator.canHaveDuplicates(r,this._partialQuery)){var e=[],c=function(o){var a=n[o],l=t.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),c;if(l>=0)return c=t[l],c.needsRefreshAfterDeduping&&(s=!0),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,c,a),"continue";if(l=i.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),l>=0)return c=i[l],c.needsRefreshAfterDeduping&&(c.needsRefreshAfterDeduping=!1),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,c,a),"continue";if(u._aggregator.canHaveDuplicatesWithinDataSource(r,u._partialQuery)&&(l=e.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),l>=0))return c=e[l],c.needsRefreshAfterDeduping&&(c.needsRefreshAfterDeduping=!1),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,e[l],a),"continue";h(a);e.push(a)},u=this;for(o=0;o<n.length;++o)c(o);return[e,s]}return n.forEach(function(n){return h(n)}),[n,s]},t.prototype.canHaveSuppressions=function(t){return n.config.suppressDataSources[t]||n.config.dataSourcesWithSuppressedTypes[t]},t.prototype.isSuppressed=function(t,i){return n.config.suppressDataSources[t]||n.config.suppressTypes[i.type]},t}();n.SuggestionsRenderingManager=t}(AutoSuggest||(AutoSuggest={})),function(n){function y(n){return n.handoffType==1?n.query:HitHighlightingParser.removeMarkers(n.text)}function f(n){var t,i;if(n.length==0)return 0;for(t=0,i=0;i<n.length;i++)t=(t<<5)-t+n.charCodeAt(i)|0;return t}function t(n,t){var u,i,r;if(!n)return t.length;if(!t)return n.length;for(u=[],i=0;i<=t.length;i++)u[i]=[i];for(r=0;r<=n.length;r++)u[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=n.length;r++)u[i][r]=t.charAt(i-1)==n.charAt(r-1)?u[i-1][r-1]:Math.min(u[i-1][r-1]+1,Math.min(u[i][r-1]+1,u[i-1][r]+1));return u[t.length][n.length]}function p(n,i){return n&&(n=n.toLocaleLowerCase()),i&&(i=i.toLocaleLowerCase()),t(n,i)}function o(n,t,i){var r=0,u;return(t>0||i>0)&&(t>0&&i>0?(i>t&&(u=t,t=i,i=u),r=n/(t-n+i)):r=Number.MAX_VALUE),r}function s(n,t){var r=n.length,e=t.length,a,v,f,o,i;if(r===0&&e===0)return 1;var h=new Array(r),s=new Array(e),u=0,c=0,l=Math.floor(Math.max(r,e)/2)-1;for(i=0;i<r;i++)for(a=Math.max(0,i-l),v=Math.min(e,i+l+1),f=a;f<=v;f++)if(!s[f]&&n[i]==t[f]){h[i]=!0;s[f]=!0;u++;break}if(u===0)return 0;for(o=0,i=0;i<r;i++)if(h[i]){while(!s[o])o++;n[i]!=t[o]&&c++;o++}return(u/r+u/e+(u-c/2)/u)/3}function w(n,t){var i=s(n,t),r,u;return i<1?i:(r=.1,u=h(n,t),i+u*r*(1-i))}function h(n,t){for(var i=0;i<4;i++)if(n[i]!=t[i])return i;return++i}function b(n,t){return!n||!t?0:n.length+1<=t.length&&t[n.length]==" "?1:n.length==t.length?1:0}function k(n){var r=0,i=1,t;if(n&&n.length>1)for(t=1;t<n.length;t++)n.charAt(t)==n.charAt(t-1)?i++:i=1,i>r&&(r=i);else if(n)return 1;return r}function d(n){return n&&n.length>0?n.trim().split(" ").length:0}function g(n){var t=new RegExp("^[0-9a-zA-Z ]+$");return n&&t.test(n)?1:0}function nt(n){return n&&n.length>0&&n.charAt(n.length-1)==" "?1:0}function tt(n){return n&&n.length>0&&(n.includes("http://")||n.includes("https://")||n.includes("."))?1:0}function it(t,i,r,u){var o,e,s,h;t.includes("?")&&(r[117]=1,ot(t)&&(r[127]=1));t.replace("///","").replace("//","").includes("/")&&(r[118]=1);t.includes(".")&&(r[119]=1);o=u.cvid+u.privacyNumber+t;r[120]=f(o);e=t.toLocaleLowerCase();(e.startsWith("www.")||e.startsWith("http://www.")||e.startsWith("https://www."))&&(r[122]=1);e.startsWith("www.")||e.startsWith("http://")?r[123]=1:e.startsWith("https://")?r[124]=1:e.startsWith("ftp://")?r[125]=1:r[126]=1;i&&(s=n.normalizeUrl(e,15),h=n.normalizeUrl(i,15).toLocaleLowerCase(),s.startsWith(h)&&(r[187]=1))}function rt(n,i,r,u,e){if(e){r[128]=t(e,i);r[129]=e.length;var o=u.cvid+u.privacyNumber+e;r[130]=f(o)}}function ut(n,i,r){var e=n.toLocaleLowerCase(),s,u,f,h,c;if(r[140]=n.length,s=e.split(" "),r[144]=s.length,i)for(r[141]=t(n,i),r[142]=Math.min(100,o(r[141],i.length,n.length)),u=i.toLocaleLowerCase(),e.includes(u)&&(r[143]=1),e.startsWith(u)&&(r[188]=1),f=0,h=s;f<h.length;f++)if(c=h[f],c==u){r[145]=1;break}}function ot(n){var t=et.find(function(t){return n.startsWith(t)});return n=t?n.substr(t.length):n,ft.some(function(t){return n.startsWith(t)})}function st(n){var i=0,r,t;if(n)for(r in n)t=n[r],t&&t.prefixLaunchCount&&(i+=t.prefixLaunchCount);return i}function ht(t,i,r,u){if(r){var f=r[t];f&&(i[47]=f.prefixLaunchCount,i[49]=f.lastLaunchTime,i[101]=u,u>0&&(i[100]=f.prefixLaunchCount/u),f.previewPaneLaunchCount&&f.lastPreviewPaneLaunchTime&&(i[301]=f.previewPaneLaunchCount,f.lastPreviewPaneLaunchTime==f.lastLaunchTime&&(i[302]=1),i[303]=n.getCurrentTime()-f.lastPreviewPaneLaunchTime))}}function ct(n,t,i){if(i){var r=i[n];r&&(t[281]=r.probability,t[282]=r.weight)}}function lt(n,t,r,u,f,e){if(t){var s=i(u,r),o=t[s];o&&(f?(n[153]=o.ProbSugClickGivenPref,n[152]=o.ClicksOnSugGivenPref):e?(n[161]=o.Loglikelihood,n[162]=o.ProbSugClickGivenBackground,n[163]=o.ClicksOnSugGivenPref,n[164]=o.ProbSugClickGivenPref,n[165]=o.CCR,n[166]=o.EventCount,n[293]=o.ProbSugClickGivenPrefTime,n[168]=o.CCRTime,n[294]=o.ProbSugClickGivenBackgroundTime,n[295]=o.LoglikelihoodTime):(n[6]=o.Loglikelihood,n[3]=o.ProbSugClickGivenBackground,n[151]=o.ClicksOnSugGivenPref,n[0]=o.ProbSugClickGivenPref,n[94]=o.CCR,n[95]=o.EventCount,n[290]=o.ProbSugClickGivenPrefTime,n[155]=o.CCRTime,n[291]=o.ProbSugClickGivenBackgroundTime,n[292]=o.LoglikelihoodTime))}}function at(n,t,i){if(t){var r=t[i];r&&(n[256]=r.PSGPCR,n[257]=r.PSGCCR,n[258]=r.PSGSTR,n[286]=r.PSGSATCCR,n[287]=r.PSGSATPCR)}}function i(n,t){return(n+"\t"+t).toLocaleLowerCase()}function r(t,i,r){i==11..toString()&&i==0..toString();switch(n.config.athenaKeyType){case 0:return t||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group is empty")),t;case 1:return i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),i;case 2:return r||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key suggestion type is empty")),i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),r+"_"+i;default:return SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group type is not set")),""}}function u(t,i,r){switch(n.config.athenaKeyType){case 0:return i==t;case 1:return r==t;case 2:return r==t;default:return!1}}function vt(t){var i={};return t?(n.config.athenaKeyType==2?wt(t,i):(yt(t,i),pt(t,i)),i):i}function yt(t,f){var y=t.Suggestions?t.Suggestions.split("\t"):[],p=t.ProbSugClickGivenPrefs?t.ProbSugClickGivenPrefs.split("\t"):[],w=t.ClicksOnSugGivenPrefs?t.ClicksOnSugGivenPrefs.split("\t"):[],b=t.ProbSugClickGivenBackground?t.ProbSugClickGivenBackground.split("\t"):[],k=t.Loglikelihoods?t.Loglikelihoods.split("\t"):[],a=t.SuggestionGroups?t.SuggestionGroups.split("\t"):[],d=t.ProbSugClickGivenPrefWeeks?t.ProbSugClickGivenPrefWeeks.split("\t"):[],v=t.ProbSugClickGivenPrefWeekends?t.ProbSugClickGivenPrefWeekends.split("\t"):[],g=t.ProbSugClickGivenBackgroundWeeks?t.ProbSugClickGivenBackgroundWeeks.split("\t"):[],it=t.ProbSugClickGivenBackgroundWeekends?t.ProbSugClickGivenBackgroundWeekends.split("\t"):[],nt=t.LoglikelihoodWeeks?t.LoglikelihoodWeeks.split("\t"):[],tt=t.LoglikelihoodWeekends?t.LoglikelihoodWeekends.split("\t"):[],c=n.config.athenaKeyType==0||!t.SuggestionHandOffTypes?[]:t.SuggestionHandOffTypes.split("\t"),s=y.length,l=e(),o;if(u(s,a.length,c.length))for(o=0;o<s;o++){var rt=a&&a.length>o?a[o]:"",ut=c&&c.length>o?c[o]:"",ft=r(rt,ut,""),h=i(y[o],ft);f[h]={SuggestionGroup:+a[o]};b.length==s&&(f[h].ProbSugClickGivenBackground=Number(b[o]));p.length==s&&(f[h].ProbSugClickGivenPref=Number(p[o]));w.length==s&&(f[h].ClicksOnSugGivenPref=Number(w[o]));k.length==s&&(f[h].Loglikelihood=Number(k[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].SuggestionHandOffType=Number(c[o]));d.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenPrefTime=Number(v[o])):f[h].ProbSugClickGivenPrefTime=Number(d[o]);g.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenBackgroundTime=Number(it[o])):f[h].ProbSugClickGivenBackgroundTime=Number(g[o]);nt.length!=s||l?tt.length==s&&l&&(f[h].LoglikelihoodTime=Number(tt[o])):f[h].LoglikelihoodTime=Number(nt[o])}else SharedLogHelper.LogError("parseLLSignals",null,new Error("Length doesn't match"))}function pt(t,f){var a=t.CCRSuggestions?t.CCRSuggestions.split("\t"):[],l=t.CCRSuggestionGroups?t.CCRSuggestionGroups.split("\t"):[],v=t.CCRs?t.CCRs.split("\t"):[],y=t.EventCounts?t.EventCounts.split("\t"):[],c=n.config.athenaKeyType==0||!t.CCRSuggestionHandOffTypes?[]:t.CCRSuggestionHandOffTypes.split("\t"),p=t.CCRsWeek?t.CCRsWeek.split("\t"):[],w=t.CCRsWeekend?t.CCRsWeekend.split("\t"):[],s=a.length,b=e(),o;if(u(s,l.length,c.length))for(o=0;o<s;o++){var k=l&&l.length>o?l[o]:"",d=c&&c.length>o?c[o]:"",g=r(k,d,""),h=i(a[o],g);f[h]||(f[h]={SuggestionGroup:Number(l[o])});v.length==s&&(f[h].CCR=Number(v[o]));y.length==s&&(f[h].EventCount=Number(y[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].CCRSuggestionHandOffType=Number(c[o]));p.length!=s||b?w.length==s&&b&&(f[h].CCRTime=Number(w[o])):f[h].CCRTime=Number(p[o])}else SharedLogHelper.LogError("parseCCRSignals",null,new Error("Length doesn't match"))}function wt(n,t){var o=n.SugTypes?n.SugTypes.split("\t"):[],s=n.HandOffTypes?n.HandOffTypes.split("\t"):[],h=n.PSGPCRs?n.PSGPCRs.split("\t"):[],c=n.PSGCCRs?n.PSGCCRs.split("\t"):[],l=n.PSGSTRs?n.PSGSTRs.split("\t"):[],a=n.PSGSATCCRs?n.PSGSATCCRs.split("\t"):[],v=n.PSGSATPCRs?n.PSGSATPCRs.split("\t"):[],f=o.length,i;if(u(f,0,s.length))for(i=0;i<f;i++){var y=o[i],p=s[i],e=r("",p,y);t[e]={};h.length==f&&(t[e].PSGPCR=Number(h[i]));c.length==f&&(t[e].PSGCCR=Number(c[i]));l.length==f&&(t[e].PSGSTR=Number(l[i]));a.length==f&&(t[e].PSGSATCCR=Number(a[i]));v.length==f&&(t[e].PSGSATPCR=Number(v[i]))}else SharedLogHelper.LogError("parseGroupEngagementSignals",null,new Error("Length doesn't match"))}function bt(n,t){var r={},f,s,o,i;if(t){var h=0,v=0,u={};for(f=0,s=t;f<s.length;f++){var y=s[f],e=y.key,p=y.value;u[e]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};v+=c(u,e,n);o=a(p);u[e].groupClickCounts=o.groupLaunches;for(i in u[e].groupClickCounts)r[i]||(r[i]={probability:0,weight:0}),r[i].probability+=o.groupHits[i],h+=o.groupHits[i]}l(r,u,v,h)}return r}function kt(n,t){var r={},f,o,i;if(t){var h=0,a=0,u={};for(f=0,o=t;f<o.length;f++){var v=o[f],s=v.key,e=v.value;u[s]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};a+=c(u,s,n);for(i in e)e[i]&&e[i].prefixLaunchCount&&(r[i]||(r[i]={probability:0,weight:0}),u[s].groupClickCounts[i]=e[i].prefixLaunchCount,r[i].probability++,h++)}l(r,u,a,h)}return r}function c(n,t,i){var r=t.length-i.length,u=r/t.length;return n[t].lexicalSimilarity=1-u,n[t].lexicalSimilarity}function l(n,t,i,r){var o=0,s,e,f,u;for(e in t){f=t[e];f.lexicalSimilarity/=i;for(u in f.groupClickCounts)s=f.groupClickCounts[u],f.groupWeight[u]=s*f.lexicalSimilarity,o+=f.groupWeight[u]}for(u in n)n[u].probability/=r;for(e in t){f=t[e];for(u in f.groupClickCounts)n[u]||(n[u]={probability:0,weight:0}),f.groupWeight[u]/=o,n[u].weight+=f.groupWeight[u]}}function a(n){var u=function(n,t,i){return n[t]=n[t]?n[t]+i:i},r={groupLaunches:{},groupHits:{},otherGroupLaunches:0},f,t,i;for(f in n)(t=n[f],t&&t.prefixLaunchCount)&&(i=t.groupType,i||i===0?(u(r.groupLaunches,i,t.prefixLaunchCount),u(r.groupHits,i,1)):r.otherGroupLaunches+=t.prefixLaunchCount);return r}function dt(n,t,i,r){if(r){var f=i(t),u=r[f];u&&(n[266]=u.probability,n[267]=u.weight)}}function e(t){var i=t?t.getDay():n.getCurrentDate().getDay(),r=i==6||i==0;return n.config.invertIsWeekend?!r:r}function gt(n){for(var t in n)n[t]?n[t]=v(Number(n[t])):delete n[t]}function v(n){return Number(n.toFixed(5))}function ni(n,t){n.featureStore||(n.featureStore={});n.featureStore[t]=1}n.getTextForLexicalFeatures=y;n.stringHashCode=f;n.getEditDistance=t;n.getEditDistanceIgnoreCase=p;n.computeEditDistanceRatio=o;n.computeJaroSimilarity=s;n.computeJaroWinklerSimilarity=w;n.computeJaroWinklerPrefixOverLapCount=h;n.isWordBoundary=b;n.countMaxContiguousRepeatedChars=k;n.getNumberOfWords=d;n.containsOnlyDigitsLettersOrSpaces=g;n.endsWithSpace=nt;n.prefixIsLikeUrl=tt;n.computeUrlFeatures=it;n.computeDomainFeatures=rt;n.computeTitleFeatures=ut;var ft=["www.bing.","cn.bing.","www.google.","www.yandex.","www.baidu.","www.yahoo.",],et=["http://","https://",];n.getSumMruLaunches=st;n.setMRUSignal=ht;n.setMRUBackPropSignal=ct;n.setEngagementSignals=lt;n.setSuggestionGroupEngagementSignals=at;n.getEngagementSignalKey=i;n.getAthenaGroupKey=r;n.checkAthenaGroupLength=u;n.parseWebEngagementSignals=vt;n.computeGroupBackpropagatedClicks=bt;n.computeSuggestionBackpropagatedClicks=kt;n.evaluateGroupLaunches=a;n.setMRUGroupBackpropClicks=dt;n.isWeekend=e;n.removeUndefinedAndZeroAndTrimValues=gt;n.trimFeatureStoreValue=v;n.setFlagInFeatureStore=ni}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function r(n){return n.isSearchHomeZI}i.suggestionRankingModels={};var u=function(){function u(){}return u.prototype.rank=function(n,i,u,f,e,o,s,h,c,l){var a,v,y,p;return r(n)?{topResults:[],mruSuppressions:null}:n.scope==t.Scope.PathCompletion?this.rankPathCompletion(i):(a=t.isL2(n)?null:{mruGroupRatios:null,maxGroupCCR:null,maxGroupProbSugClickGivenPref:null,mruGroupBackpropWeights:null,mruGroupBackpropRatios:null},v=i.slice(),t.config.disableWebRankingSignals&&(o=null,u=null,h=null),this.orderSuggestions(n,i,u,f,o,s,h,c,a,e),this.setMRUHintEnabled(n,i),this.setGroupSuppressionSignals(a,i),y=this.getTopHitCandidates(n,i,l.searchTheWeb,v),p=this.createMulticlassClassifierTopHitSuggestionList(y),{topResults:p,mruSuppressions:a})},u.prototype.setMRUHintEnabled=function(n,i){var f,r,u;if(t.config.enableMRUHint)for(f=n.queryToFetch.toLocaleLowerCase(),r=0;r<i.length;r++)u=i[r].featureStore,u[281]&&u[282]&&(t.config.enableMRUHint!=1&&i[r].text.toLocaleLowerCase().startsWith(f)||(i[r].mruHintEnabled=!0))},u.prototype.rankPathCompletion=function(n){var t=n.find(function(n){return n.type=="CG"})||n[0];return{topResults:t?[t]:[],mruSuppressions:null}},u.prototype.orderSuggestions=function(r,u,f,e,o,s,h,c,l,a){var g=this,b=n.safeExecute(function(){return g.createFeatureStore(r,u,f,e,o,s,h,l,a)},"createFeatureStore"),p,y,k,w,d,v;if(b=b||u.map(function(){return{}}),y=c?t.config.counterFactualRankerId:t.config.mainRankerId,y?(p=n.safeExecute(function(){return i.suggestionRankingModels[y]},"getRanker"),p||SharedLogHelper.LogError("getRanker",y,new Error("Model not found"))):SharedLogHelper.LogError("getRanker",y,new Error(c?"CounterFactualRankerId not defined ":"MainRankerId not defined")),p)for(k=function(t){var i=b[t],r=n.safeExecute(function(){return p(i)},"calculateRankingScore");u[t].rankingScore=n.trimFeatureStoreValue(r);u[t].featureStore=i},v=0;v<u.length;v++)k(v);if(w=u.filter(function(n){return n.type=="MB"}),u.sort(function(n,t){return t.rankingScore-n.rankingScore}),w.length>1)for(d=u.map(function(n,t){return n.type=="MB"?t:undefined}).filter(function(n){return typeof n=="number"}),v=0;v<w.length;++v)u[d[v]]=w[v]},u.prototype.getSuggestionScoreFromSuggestionLogMeta=function(n){var t=";2152:";return n.indexOf(t)>=0?parseInt(n.substring(n.indexOf(t)+6).split(";")[0].slice(1,-1)):NaN},u.prototype.getTopWebSuggestion=function(n){var u,f,t,e,i,r;if(n.length==0)return null;if(u=n[0],f=64e3,n.length>1)for(t=0,e=n;t<e.length;t++)i=e[t],i.suggestionLogMeta&&(r=this.getSuggestionScoreFromSuggestionLogMeta(i.suggestionLogMeta),!isNaN(r)&&r<f&&(f=r,u=i));return u},u.prototype.bypassFallbackForMBS=function(i,r,u){return(t.config.bypassFallbackOnMSBTopHit==2||t.config.bypassFallbackOnMSBTopHit==3)&&r.every(function(t){return n.isWebSuggestion(t)||t.handoffType==17||t.isAnswer})?!0:(t.config.bypassFallbackOnMSBTopHit==1||t.config.bypassFallbackOnMSBTopHit==4)&&!r.some(function(n){return t.isApp(n.type)||t.isSetting(n.type)})&&u.length>0&&(u[0].type=="PPL"||u[0].type=="BKS")?!0:t.config.bypassFallbackOnMSBTopHit==4&&!r.some(function(n){return t.isApp(n.type)||t.isSetting(n.type)})&&u.length>1&&(u[0].isAnswer||n.isWebSuggestion(u[0]))&&(u[1].type=="PPL"||u[1].type=="BKS"||u.length>2&&u[0].isAnswer&&u[1].isAnswer&&(u[2].type=="PPL"||u[2].type=="BKS"))?!0:!1},u.prototype.getTopHitCandidates=function(i,r,u,f){var l=this,e=r.filter(function(n){return l.allowInTopHit(i,n,f)}),h,o,c,s;return this.bypassFallbackForMBS(i,r,e,f)?(h=[],o=f.filter(function(n){return n.type=="PPL"}),o.length==0&&(o=f.filter(function(n){return n.type=="BKS"})),o.length>0&&o[0].autoOpenPreviewPaneWhenOnTopHit&&(t.config.bypassFallbackOnMSBTopHit!=3||n.getTextForLexicalFeatures(o[0]).toLowerCase().startsWith(i.queryToFetch.toLowerCase()))&&h.push(o[0]),t.config.bypassFallbackOnMSBTopHit==4&&(e[0].isAnswer||n.isWebSuggestion(e[0]))&&(e[0].isAnswer||this.getFallbackClassifierScore(e[0])>t.config.webFbcScoreThreshold)&&h.push(e[0]),h):this.enableFallbackClassifier(i,e,u)?t.config.disableTopHitSyntheticWeb&&i.queryToFetch.length>=t.config.minPrefixDisableTopHitSW&&e.every(function(t){return n.isWebSuggestion(t)})&&(c=e.filter(function(n){return n.type!="SW"}),c.length>0&&(s=this.getTopWebSuggestion(c),s.type!="SC"&&s.type!="RI"&&s.type!="OS"))?[s]:this.getFallbackClassifierSuggestions(e):e},u.prototype.getFallbackClassifierScore=function(r){var u=n.safeExecute(function(){return i.suggestionRankingModels[t.config.fallbackClassifierId]},"getFallbackClassifier"),f=u?n.safeExecute(function(){return u(r.featureStore)},"calculateFallbackClassifierScore"):0;return n.trimFeatureStoreValue(f)},u.prototype.getFallbackClassifierSuggestions=function(r){if(r=r.filter(function(n){return n.type!="SW"}),r.length>0){var f=0,u=r[0];return u.fbcScore=this.getFallbackClassifierScore(u),f=t.config.enableAppsSettingsFbcScoreThreshold?t.isApp(u.type)||t.isSetting(u.type)?t.config.appsSettingsFbcScoreThreshold:n.isWebSuggestion(u)?t.config.webFbcScoreThreshold:t.config.nonWebFbcScoreThreshold:n.isWebSuggestion(u)?t.config.webFbcScoreThreshold:t.config.nonWebFbcScoreThreshold,u.fbcScore>=f?r.slice(0,i.topHitIsMultiEntity(r)?2:1):[]}return[]},u.prototype.enableFallbackClassifier=function(i,r,u){if((t.config.enableFBMinQryLength==0||i.queryToFetch.length>=t.config.enableFBMinQryLength)&&u&&t.config.fallbackClassifierId&&r.length>0){var f=r[0];return t.getGroupType(f)==t.GroupType.Cortana?!1:f.isAnswer?f.autoOpenPreviewPaneWhenOnTopHit&&t.config.applyFallbackClassifierToAutoOpenAnswers||f.type=="MB"&&t.config.applyFallbackClassifierToEntities:t.config.enableLimitedFallback&&i.queryToFetch.length>=t.config.minPrefixLengthLimitedFallback&&!n.isWebSuggestion(f)?!1:!0}return!1},u.prototype.allowInTopHit=function(i,r,u){var h=!u||u.length==1,o,e,s,f;if(t.RuntimeConfig.QfMode==8||!t.config.topHitAllowedForGridLayoutL2&&(i.scope==t.Scope.Photos||i.scope==t.Scope.Videos)||i.topHitRestriction==1&&r.query.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase()&&(n.contains(r.features,"ForcePrefixOnTop")||r.features.push("ForcePrefixOnTop"),t.config.forceTypedQueryOnTop))return!1;if(t.isRecourse(r))return t.config.recourseOnlyInGroups?!1:h;if(t.isMobileCache)switch(r.handoffType){case 2:case 3:return!1;case 1:if(!i.queryToFetch.includes("."))return!1}o=t.getGroupType(r);switch(o){case t.GroupType.Store:return r.hc;case t.GroupType.PowerBi:return r.hc;case t.GroupType.Command:return r.hc||h;case t.GroupType.LocalPlaces:return t.config.topHitAllowedForLocal}if(t.getScope(o)==t.Scope.Emails&&!r.hc)return!1;if(t.enforceOriginalOrder(r)&&u)for(e=0,s=u;e<s.length;e++){if(f=s[e],f==r)break;if(f.type==r.type&&f.handoffType==r.handoffType&&f.sourceForGroup==r.sourceForGroup)return!1}return t.RuntimeConfig.AlwaysWide&&!r.previewPaneType?!1:!0},u.prototype.createMulticlassClassifierTopHitSuggestionList=function(n){for(var r=0,u=0;u<Math.min(n.length,t.config.maxNumberOfTopResults);u++)n[u].rankingScore!==undefined&&n[u].rankingScore>.5&&(r=u);return r==0&&i.topHitIsMultiEntity(n)&&(r=1),t.config.bypassFallbackOnMSBTopHit==4&&n.length>0&&(n[0].type=="PPL"||n[0].type=="BKS")&&(r=1),n.slice(0,r+1)},u.prototype.createFeatureStore=function(i,r,u,f,e,o,s,h,c){var ht=[],tt=0,ct=0,it=0,lt=i.queryToFetch.toLocaleLowerCase(),kt=function(n){return t.getGroupType(n)},at=n.getSumMruLaunches(f),vt=0,yt={},rt,ut,pt,d,ft,y,p,a,w,g,et,ot,b,nt,st,v,l,k,wt,bt;for(f&&(rt=n.evaluateGroupLaunches(f),vt=rt.otherGroupLaunches,yt=rt.groupLaunches),ut=n.computeGroupBackpropagatedClicks(i.queryToFetch,c),pt=n.computeSuggestionBackpropagatedClicks(i.queryToFetch,c),d=0,ft=r;d<ft.length;d++)y=ft[d],y.handoffType==2&&(p=t.getAppItem(y),p&&(ct+=p.totalLaunches,p.totalLaunches>tt&&(tt=p.totalLaunches)),y.deviceItem&&y.deviceItem.rankScore>it&&(it=y.deviceItem.rankScore));for(a={},n.isWeekend()&&(a[440]=1),a[441]=this.getLocalHourBucket(new Date),w=lt.split(" "),g=0,et=w;g<et.length;g++){if(ot=et[g],ot=="install"){a[451]=1;break}if(ot=="uninstall"){a[450]=1;break}}for(w&&w.length>0&&(b=w[0],a[452]=b.indexOf("c:")>-1||b.indexOf("d:")>-1||b.indexOf("e:")>-1||b.indexOf("f:")>-1?1:0),nt=0,st=r;nt<st.length;nt++)v=st[nt],l=this.getSuggestionFeatureStore(lt,v,e,u,ct,s),l[13]=tt,l[7]=it,l[60]=t.isMobileCache?1:0,u&&u.WebSignalsAvailable&&(l[93]=1),n.setMRUSignal(t.getSuggestionKey(v),l,f,at),this.setMRUGroupLaunchRatios(l,v,at,yt,vt,h),n.setMRUBackPropSignal(t.getSuggestionKey(v),l,pt),ut&&n.setMRUGroupBackpropClicks(l,v,kt,ut),k=n.getTextForLexicalFeatures(v),k&&(v.handoffType==1&&(n.computeUrlFeatures(k,i.queryToFetch,l,o),wt=n.getDomain(k),n.computeDomainFeatures(v,i.queryToFetch,l,o,wt,e)),t.isFileOrFolder(v.type)&&(bt=o.cvid+o.privacyNumber+k,l[131]=n.stringHashCode(bt))),a&&(l[440]=a[440],l[441]=a[441],l[451]=a[451],l[450]=a[450],l[452]=a[452]),n.removeUndefinedAndZeroAndTrimValues(l),ht.push(l);return ht},u.prototype.setGroupSuppressionSignals=function(n,i){var f,e,u;if(n)for(n.maxGroupCCR={},n.maxGroupProbSugClickGivenPref={},n.mruGroupBackpropRatios={},n.mruGroupBackpropWeights={},f=0,e=i;f<e.length;f++)if(u=e[f],u.featureStore){var r=t.getGroupType(u),o=u.featureStore[94]||0,s=u.featureStore[0]||0;n.maxGroupCCR[r]=n.maxGroupCCR[r]?Math.max(n.maxGroupCCR[r],o):o;n.maxGroupProbSugClickGivenPref[r]=n.maxGroupProbSugClickGivenPref[r]?Math.max(n.maxGroupProbSugClickGivenPref[r],s):s;n.mruGroupBackpropRatios[r]=u.featureStore[266];n.mruGroupBackpropWeights[r]=u.featureStore[267];(n.mruGroupBackpropWeights[r]||n.mruGroupBackpropRatios[r])&&(n.backPropDataExists=!0)}},u.prototype.setMRUGroupLaunchRatios=function(n,i,r,u,f,e){var s,o;if(r){e&&(e.mruGroupRatios={});n[186]=f/r;for(s in u){o=u[s]/r;t.getGroupType(i)==Number(s)&&(n[271]=o);e&&(e.mruGroupRatios[s]=o);switch(Number(s)){case t.GroupType.Apps:n[169]=o;break;case t.GroupType.Settings:n[170]=o;break;case t.GroupType.Cortana:n[171]=o;break;case t.GroupType.Command:n[172]=o;break;case t.GroupType.Photos:n[173]=o;break;case t.GroupType.Videos:n[174]=o;break;case t.GroupType.Music:n[175]=o;break;case t.GroupType.Documents:n[176]=o;break;case t.GroupType.Folders:n[177]=o;break;case t.GroupType.Emails:n[178]=o;break;case t.GroupType.Store:n[179]=o;break;case t.GroupType.SearchSuggestions:n[262]=o;n[180]=u[t.GroupType.Websites]?(u[t.GroupType.Websites]+u[s])/r:o;break;case t.GroupType.Websites:n[263]=o;n[180]=u[t.GroupType.SearchSuggestions]?(u[t.GroupType.SearchSuggestions]+u[s])/r:o;break;case t.GroupType.PathCompletion:n[181]=o;break;case t.GroupType.PowerBi:n[182]=o;break;case t.GroupType.People:n[184]=o;break;case t.GroupType.EdgeHistory:n[185]=o;break;case t.GroupType.Bookmarks:n[260]=o;break;case t.GroupType.LocalPlaces:n[261]=o}}}},u.prototype.getRank=function(n){if(n.type=="EBH")return undefined;if(n.deviceItem&&typeof n.deviceItem.rankScore!="undefined")return n.deviceItem.rankScore;var i=t.isJumpListSuggestion(n)?n.jumpListItem.usagePoints:undefined;return typeof i!="undefined"?i:undefined},u.prototype.getSuggestionFeatureStore=function(i,r,u,f,e,o){var s={},l,v,d,a,y,p,w,c,h,g,it,b,nt,rt,k,tt;if(this.setTypeSignal(r,s),l=t.getAppItem(r),l?(s[2]=l.totalLaunches,s[92]=l.launchArguments?1:0,e>0&&(s[103]=l.totalLaunches/e),this.addLastAccessDate(l.lastAccessed,s)):this.addLastAccessDate(t.isJumpListSuggestion(r)?r.jumpListItem.lastAccessed:null,s),v=t.getBrowsingHistoryItem(r),v&&(v.visitCount&&(s[138]=v.visitCount),this.addLastAccessDate(v.dateVisited,s)),s[96]=r.catalogScore,s[97]=r.avgRating,s[98]=r.ratingCount,s[99]=r.confidence,s[150]=r.source,s[283]=r.pinnedToTaskbar?1:undefined,r.hc&&(s[189]=1),s[17]=r.highConfidenceMetaSuggestionScore,d=this.getRank(r),typeof d!="undefined"?s[16]=d:s[4]=1,a=r,a.matchedOnlyOnContent&&(s[259]=1),a.matchedOnlyOnAuthor&&(s[273]=1),a.lastModifiedDate&&(s[268]=n.getTimeDiffInDays(a.lastModifiedDate)),a.extensionLC==".lnk"&&(s[272]=1),s[23]=r.prefetchConfidenceScore,s[264]=f&&f.ProbNextKS!==undefined?f.ProbNextKS:1,s[296]=f&&f.ProbNextKSV2!==undefined?f.ProbNextKSV2:1,this.setThresholdRatios(s,f),this.setRatios(s,f),y=t.getGroupType(r),p=r.query,r.type=="SW"&&(p="SearchTheWeb"),w=n.getAthenaGroupKey(String(y),String(r.handoffType),r.type),n.setEngagementSignals(s,u,w,p,!1,!1),n.setEngagementSignals(s,o,w,p,!1,!0),o&&!u&&n.setEngagementSignals(s,o,w,p,!1,!1),s[10]=i.length,(r.isAnswer||y==t.GroupType.Cortana)&&(s[11]=1),c=n.getTextForLexicalFeatures(r),h=c?c.toLocaleLowerCase():null,c||(s[132]=1),h==i&&(s[133]=1),r.handoffType==2&&(r.type!="PBI"&&(s[8]=1),t.isSetting(r.type)&&(s[64]=1),t.isApp(r.type)&&(s[83]=1)),y==t.GroupType.SearchSuggestions&&(r.type!="SW"&&(s[82]=1),s[25]=1),g=s[132]==1,g?s[137]=i.length:(s[137]=c.length,s[134]=n.getEditDistance(i,h),s[135]=Math.min(100,n.computeEditDistanceRatio(s[134],i.length,c.length)),s[136]=n.isWordBoundary(i,c),s[284]=Math.abs(c.length-i.length)),!g&&h){for(h.indexOf(i)>-1&&(s[143]=1),h.substring(0,i.length)===i&&(s[188]=1),it=h.split(" "),b=0,nt=it;b<nt.length;b++)if(rt=nt[b],rt==i){s[145]=1;break}s[420]=n.computeJaroSimilarity(i,h);s[421]=n.computeJaroWinklerSimilarity(i,h)}return s[1]==1&&r.deviceItem&&(k=t.getAppItem(r),k.extension&&(s[400]=k.extension===".exe"?1:0,s[401]=k.extension===".appref-ms"?1:0),h&&(s[402]=h.indexOf("install")>-1?1:0)),s[1]||r.type!="FL"&&r.type!="FD"&&r.type!="ST"||(s[403]=1),(r.type=="QP"||r.type=="QS"||r.type=="SC"||r.type=="OS")&&(s[404]=1),s[8]==1&&(s[27]=s[133]),(r.isAnswer||y==t.GroupType.Cortana)&&(s[55]=s[133]),(r.type=="HS"||r.fromHistory)&&(s[121]=1),s[41]=s[83]==1?s[40]:s[64]==1?s[39]:s[11]==1?s[32]:s[89]==1?s[54]:s[85]==1?s[30]:s[86]==1?s[53]:s[87]==1?s[52]:s[61]==1?s[31]:s[88]==1?s[51]:s[63]==1?s[35]:s[82]==1?s[29]:s[90]==1?s[50]:s[59]==1?s[34]:s[37],(t.isSetting(r.type)||t.isApp(r.type))&&(tt=r.ciMetaData,this.computeConstraintIndexFeatures(r.deviceItem,s,tt),r.ciMatchedQuery=this.getConstraintIndexMatchedQuery(tt),s[269]&&s[270]&&(s[405]=Math.sqrt(s[269]*s[270]))),r.signals&&(s[230]=r.signals.DistanceToEntity,s[231]=r.signals.DistanceToEntityPrecision,s[232]=r.signals.RankingScore),s},u.prototype.addLastAccessDate=function(t,i){var r=n.getTimeDiffInDays(t);r!=null?i[9]=r:i[19]=1},u.prototype.setTypeSignal=function(n,t){switch(n.type){case"LDOC":case"FL":t[61]=1;break;case"LI":t[85]=1;break;case"LV":t[86]=1;break;case"MU":t[87]=1;break;case"FD":t[88]=1;break;case"CG":t[89]=1;break;case"PT":t[90]=1;break;case"PP":case"IBA":t[1]=1;break;case"ML":case"MD":t[21]=1;break;case"CS":t[63]=1;break;case"SW":t[59]=1}},u.prototype.setRatios=function(n,t){t&&t.AppsRatio!==undefined&&(n[26]=t.AppsRatio,t.SettingsRatio&&(n[5]=t.SettingsRatio),t.StoreRatio&&(n[57]=t.StoreRatio),t.PrefixProbability&&(n[12]=t.PrefixProbability),t.FilesRatio&&(n[24]=t.FilesRatio),t.WebRatio&&(n[18]=t.WebRatio),t.PhotosVideosMusicRatio&&(n[28]=t.PhotosVideosMusicRatio),t.ContactsRatio&&(n[56]=t.ContactsRatio),t.LocalProtocolRatio&&(n[91]=t.LocalProtocolRatio))},u.prototype.setThresholdRatios=function(n,t){t&&t.ThApps!==undefined?(n[40]=t.ThApps,t.ThStore&&(n[35]=t.ThStore),t.ThSetting&&(n[39]=t.ThSetting),t.ThCortAns&&(n[32]=t.ThCortAns),t.ThPrefixCount&&(n[38]=t.ThPrefixCount),t.ThWeb&&(n[29]=t.ThWeb),t.ThSearchTheWeb&&(n[34]=t.ThSearchTheWeb),t.ThOther&&(n[37]=t.ThOther),t.ThFile&&(n[31]=t.ThFile),t.ThFolder&&(n[51]=t.ThFolder),t.ThPath&&(n[50]=t.ThPath),t.ThEmail&&(n[33]=t.ThEmail),t.ThCommAns&&(n[54]=t.ThCommAns),t.ThPhotoAns&&(n[30]=t.ThPhotoAns),t.ThVideoAns&&(n[53]=t.ThVideoAns),t.ThMusicAns&&(n[52]=t.ThMusicAns),t.ThDNav&&(n[147]=t.ThDNav)):n[42]=1},u.prototype.computeConstraintIndexFeatures=function(n,t,i){var u,o,f,e,s,r;if(n&&n.rawIndexResponse){if(!i)return;if(t[157]=i.GrammarScore,t[158]=i.MatchScore,i.Parses&&i.Parses.length>0&&i.Parses[0].Entities&&i.Parses[0].Entities.length>0)for(u=0,o=i.Parses[0].Entities;u<o.length;u++)if(f=o[u],t[159]=f.EntityScore,f.Attributes)for(e=0,s=f.Attributes;e<s.length;e++)r=s[e],r.Name=="gscore"?t[269]=Number(r.Value):r.Name=="lscore"&&(t[270]=Number(r.Value))}},u.prototype.getConstraintIndexMatchedQuery=function(n){return!n||n.MatchScore==0?null:n.Query},u.prototype.getLocalHourBucket=function(n){var t=n.getHours(),i=1;return t>=0&&t<6?i=1:t>=6&&t<12?i=2:t>=12&&t<18?i=3:t>=18&&t<=23&&(i=4),i},u}();i.FastRankRanker=u})(i=t.Ranking||(t.Ranking={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=function(){function i(n,t){var i=this;this._instrumentationProvider=t;this._MCkeystrokeAggregatedMeasure={DataSourceResponseTimes:{},TopResultsRendered:null};n.bindDismissed(function(){return i.flushAggregatedMeasure(!0)})}return i.prototype.onNewKeystroke=function(n,t,i){this.flushAggregatedMeasure();this._aggregatedMeasureFlushed=!1;this._currentLeftPaneSuggestions=null;this._currentRawImpressionGuid=t;this._currentRawClientImpressionGuid=SearchAppWrapper.CortanaApp.impressionId;this._keystrokeAggregatedMeasure={CVID:n};this._currentKeystrokeAggregatedMeasureIsForSearchHome=i},i.prototype.flushAggregatedMeasure=function(n){(t.config.logPerf&&this._MCkeystrokeAggregatedMeasure&&Object.keys(this._MCkeystrokeAggregatedMeasure.DataSourceResponseTimes).length>1&&(this._instrumentationProvider.logProfilerMarker(1,0,"MCKeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._MCkeystrokeAggregatedMeasure),this._MCkeystrokeAggregatedMeasure={DataSourceResponseTimes:{},TopResultsRendered:null}),n||this._currentKeystrokeAggregatedMeasureIsForSearchHome)&&!this._aggregatedMeasureFlushed&&this._keystrokeAggregatedMeasure&&Object.keys(this._keystrokeAggregatedMeasure).length>1&&(this.logProfilerMarker(1,0,"KeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._currentRawClientImpressionGuid,this._keystrokeAggregatedMeasure),this._aggregatedMeasureFlushed=!0)},i.prototype.logSingleMeasure=function(n,t,i){this.logProfilerMarker(1,0,n,t,SearchAppWrapper.CortanaApp.impressionId||t,i)},i.prototype.logProfilerMarker=function(n,t,i,r,u,f){u!=r&&(f.ServerIG=r);this._instrumentationProvider.logProfilerMarker(n,t,i,u,f)},i.prototype.logAggregate=function(n,t){this._keystrokeAggregatedMeasure[n]=t},i.prototype.getItemLayoutFromSuggestionsList=function(n){var u,e,i,f,r,t;if(this._currentLeftPaneSuggestions){for(u=this._currentLeftPaneSuggestions.topResults,e=this._currentLeftPaneSuggestions.groups,t=0;t<u.length;++t)if(u[t].instItem==n)return{IsInTopResult:!0,GroupType:undefined,PositionInGroup:t};for(i=0,f=e;i<f.length;i++)for(r=f[i],t=0;t<r.suggestions.length;++t)if(r.suggestions[t].instItem==n)return{IsInTopResult:undefined,GroupType:r.typeWithSource.type,PositionInGroup:t}}return undefined},i.prototype.updateSuggestionsList=function(n,t){this._currentLeftPaneSuggestions={topResults:n,groups:t}},i.prototype.logDataSourcePerformancesMeasure=function(n){var r=n.RequestBegin,i=Object.keys(n.ResponseReceived).map(function(t){return{Name:t,ResponseReceivedTime:n.ResponseReceived[t]-r,RenderedTime:n.RenderFinished[t]-r,Status:n.DataSourcesState&&n.DataSourcesState[t]}}),f=n.TopResultRendered.map(function(n){return{Type:n.T,Time:n.V-r}}),e={DataSources:i,TopResultRendered:f},u;if(this.logAggregate("DataSourcePerformancesMeasure",e),t.config.logPerf)for(u in i)this._MCkeystrokeAggregatedMeasure.DataSourceResponseTimes[i[u].Name]=i[u].ResponseReceivedTime},i.prototype.logNewKeystrokeMeasure=function(t,i,r){this.onNewKeystroke(t,i,r.isSearchHomeZI);var u={ScopeInQuery:r.scopePrefix,Scope:r.scope,IsSearchHome:r.isSearchHomeZI};u.CIVersion=n.WSB.ConstraintIndex.currentCIVersion;this.logAggregate("NewKeystrokeMeasure",u)},i.prototype.logTopResultsRenderedMeasure=function(i,r,u){this._instrumentationProvider.logProfilerMarker(1,0,"topResultRendered",i,{CI:n.WSB.ConstraintIndex.currentCIVersion});var f={SuggestionTypes:r};this.logAggregate("TopResultsRenderedMeasure",f);t.config.logPerf&&(this._MCkeystrokeAggregatedMeasure.TopResultsRendered=u)},i.prototype.logGroupsRenderedMeasure=function(n){var t={GroupTypes:n};this.logAggregate("GroupsRenderedMeasure",t)},i.prototype.logPreviewPaneOpenedMeasure=function(n,t,i){var r={ParentType:n.getQsCode(),PreviewPaneType:t,ParentLayoutInfo:this.getItemLayoutFromSuggestionsList(n),AutoOpened:i||undefined};this.logAggregate("LastPreviewPaneOpened",r)},i.prototype.logConversationStartMeasure=function(n,t){var i={CVID:n,StartTime:t};this.logSingleMeasure("ConversationStartMeasure",n,i)},i.prototype.logItemClickedMeasure=function(n,t,i,r){var u={CVID:n,ItemType:i.getQsCode(),InputType:r,LayoutInfo:this.getItemLayoutFromSuggestionsList(i)};this.flushAggregatedMeasure(!0);this.logSingleMeasure("ItemClickedMeasure",t,u)},i}();t.WindowsTelemetry=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=/[+.\\*?\[\]()]/g,r={".":"\\.","+":"\\+","*":"\\*","\\":"\\\\","?":"\\?","[":"\\[","]":"\\]","(":"\\(",")":"\\)"},u=/^(?:https?:\/\/)?(.*)/,f=/^(?:(?:https?:\/\/(?:www\.)?)|(?:www\.))(.*)/,e=/^\s+/,o=function(){function o(t){var i=this;this._host=t;t.bindKeyDown(function(t){n.isUpOrDownKey(t)&&i.reset()});t.bindQueryChangedOrInitialized(function(n){i._currentQuery=n;!i._fullAutoCompletedQuery||i._fullAutoCompletedQuery.startsWith(n.originalQuery)||n.originalQuery.startsWith(i._fullAutoCompletedQuery)||i.reset()})}return o.prototype.apply=function(n){var r,o,i;if(n.query!=this._autoCompletedQuery){if(r=this._currentQuery.originalQuery,this._host.setAutoCompleteQueryText(""),(!t.config.disableGhosting&&n.type!="EBH"||t.config.disableGhosting&&n.type=="PT")&&this._currentQuery.originalCursorPosition===r.length){var s=this._currentQuery.scopePrefix?this._currentQuery.scopePrefix.length+1:0,u=r.substr(s).replace(e,"").toLowerCase(),f=n.query.toLowerCase();if(u!==f&&(o=1,i=this.fullAutoCompleteOffset(f,u),i<0&&(t.config.allowInfixGhosting||n.url)&&(i=this.infixAutoCompleteOffset(f,u),o=2),i<0&&(i=this.directNavAutoCompleteOffset(f,u)),i>=0)){this.setAutoCompletedQuery(r,n.query,i);n.autoCompleteType=o;return}}this._autoCompletedQuery&&(this.reset(),this._host.setAutoCompleteQueryText(r))}},o.prototype.reset=function(){this._autoCompletedQuery=null;this._fullAutoCompletedQuery=null},o.prototype.fullAutoCompleteOffset=function(n,t){var i=n.startsWith(t);return i?t.length:-1},o.prototype.infixAutoCompleteOffset=function(n,t){var f=n.search("[ .:,\\\\/+_&-]"+t.replace(i,function(n){return r[n]})),e,o;return f>0&&(e=n.substring(0,f+1).match(u)[1],o=e?e.match(/[ .:,\\/+_&-]+/g).length+1:1,o<3)?f+1+t.length:-1},o.prototype.directNavAutoCompleteOffset=function(n,t){var i=t.match(f),r;return i&&(r=i[1],r.length>0&&n.startsWith(i[1]))?r.length:-1},o.prototype.setAutoCompletedQuery=function(n,t,i){var r=n+t.slice(i);this._host.setAutoCompleteQueryText(r);this._autoCompletedQuery=t;this._fullAutoCompletedQuery=r},o}();t.WSBAutoComplete=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function o(n,i){var r,u;return i?(r=t.getKnownFolderPathLC(t.FOLDERID_SkyDrive),r?r+="\\":r="\\onedrive\\",u=n.indexOf(r),u>=0&&(n=n.substr(u+r.length))):n.startsWith("onedrive:\\")&&(n=n.substr(10)),n}function s(n,i,r){var u,f,o,e;return i?(u=t.getKnownFolderPathLC(t.FOLDERID_Profile)+"\\onedrive - ",f=n.indexOf(u),f>=0&&(o=n.indexOf("\\",f+u.length),n=n.substr(o+1))):t.windowsIdentity&&n.startsWith("onedrive for business:\\")&&r&&(e=t.windowsIdentity.indexOf("@"),e!=-1&&r.toLocaleLowerCase().indexOf("personal/"+t.windowsIdentity.substr(0,e))>0&&(n=n.substr(23))),n}function a(n){return{fullySuppressedGroups:n.fullySuppressedGroups?n.fullySuppressedGroups.slice(0):[],partiallySuppressedGroups:n.partiallySuppressedGroups?n.partiallySuppressedGroups.slice(0):[],suppressedSuggestions:n.suppressedSuggestions?n.suppressedSuggestions.slice(0):[]}}function h(n,i,r){var f="",e,o,u,s;return r?(e=t.getKnownFolderPathLC(t.FOLDERID_Profile)+"\\"+t.SubstrateTenantName.toLocaleLowerCase()+"\\",o=i.indexOf(e),o>=0&&(u=o+e.length,s=i.indexOf(" - ",u),f=i.substr(u,s-u).toLocaleLowerCase(),i=i.substr(s+3))):i.startsWith("sharepoint:\\")&&(i=i.substr(12),f=n.siteTitle.toLocaleLowerCase()),[i,f]}function v(n){return n.type=="SW"||n.type=="PWL"}function u(n,t){return!n.suppressed&&n.handoffType==0&&!n.htmlContent&&n.query.toLocaleLowerCase()==t.queryToFetch.toLocaleLowerCase()}function c(n){return n.length>=2&&n[0].type=="MB"&&n[1].type=="MB"}var f={"Microsoft.Windows.ControlPanel":"ControlPanel","Microsoft.AutoGenerated.{923DD477-5846-686B-A659-0FCCD73851A8}":"Classic_{E9C71548-B580-43B2-ACDB-1BA924002754}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\dfrgui.exe":"Classic_{7D13A5DB-6081-48BD-8EA3-A9D7FE67A335}","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows Defender\\MSASCui.exe":"NameSpace_Classic_{D8559EB9-20C0-410E-BEDA-7ED416AECC2A}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\cleanmgr.exe":"Classic_{AACA901F-E74F-4894-B074-F55059532853}","Microsoft.AutoGenerated.{BB044BFD-25B7-2FAA-22A8-6371A93E0456}":"Classic_{45FDB5DF-1457-4A41-A824-7AD9C75767BC}","Microsoft.Windows.PCSettings.DefaultApps":"AAA_SettingsPageAppsDefaults"},e={"NameSpace_Classic_{F942C606-0914-47AB-BE56-1321B8035096}":"Classic_{232A1851-808C-4B44-A92A-38E862989CE5",AAA_Proxy_Automatic_Config_Group:"AAA_SettingsPageNetworkProxy",AAA_Settings_DeveloperModeGroup:"AAA_SettingsPageRestoreDeveloperOptions",AAA_SystemSettings_Users_PicturePassword:"AAA_SettingsGroupPicturePassword"},r,l;(function(n){n[n.NotDuplicate=0]="NotDuplicate";n[n.NoMetadata=1]="NoMetadata";n[n.MergeMetadata=2]="MergeMetadata"})(r||(r={}));i.isWebSuggestionForPrefix=u;i.topHitIsMultiEntity=c;l=function(){function i(n,t,i,r,u,f,e,o){this._host=n;this._instrumentationHelper=t;this._navigationHelper=i;this._previousKeystrokeCache=r;this._ranker=u;this._renderedTopResults=f;this._previewPane=e;this._imageSearchViewModel=o}return i.prototype.launchWebSearch=function(n,t,i,r){var u=n.queryToFetch;this._host.launchSearch(u,this._navigationHelper.getSearchUrl(n.fullPartialQuery,u,i,null,r),t)},i.prototype.getProtocol=function(i,r){var o=this,f="PWL",u=this._instrumentationHelper.getInstrumentedSyntheticSuggestion(r,f),e;return u?u:(u=t.createSuggestion(i,null,this._host.getEdgeIcon,null,f,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(f,t.SyntheticQSCodesMaps.KValues),1,r,!1,"tp",function(){return o._host.launchUri(u.url)}),u.notAResult=!0,e=function(i){var r=n.prettyPrintUrl(i.fixedUrl,i.queryToFetch,!0);u.url=i.fixedUrl;u.tooltip=i.fixedUrl;u.query=r;u.text=HitHighlightingParser.addMarkers(r);u.narratorText=t.getNarratorText(u,o._host.getLocString("DirectNavSuggestion"))},e(i),u.updateFromQuery=function(n){return n.isProtocol?(e(n),!0):!1},this._instrumentationHelper.instrumentSyntheticSuggestion(r,u),u)},i.prototype.getWebSearch=function(i,r,u,f,e,o){var s=this,h=n.contains([13,14],e);return t.getSyntheticSuggestion(this._instrumentationHelper,i,r,u,f,e,o,h,function(n,t){return s.launchWebSearch(t,n.useRaf,u,e)})},i.prototype.getExplorerSearch=function(n,i){var u=this,r=t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"SDFE",{content:"&#xEC50",type:1},2,this._host.getLocString("SearchInFileExplorer"),!0,function(n,t){return u._host.launchSearchInFileExplorer(t.queryToFetch)});return t.shouldSetThisPcGroupSource(t.GroupType.Documents,n)&&(r.sourceForGroup=1),r},i.prototype.getOutlookWebAccessSearch=function(n,i){var u=this,r=t.getAccountTypeForCloudContent()==1;return t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"OWA",{content:"&#xE715",type:2},r?8:12,this._host.getLocString("SearchInOutlookWeb"),!0,function(){return u._host.launchUri(r?"https://outlook.office.com/owa":"https://outlook.live.com/owa")})},i.prototype.getStoreSearch=function(n,i){var r=this;return t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"STS",{content:"&#xEA96",type:2},3,this._host.getLocString("SearchForAppsInTheStore"),!0,function(n,t){return r._host.launchStoreSearch(t.queryToFetch)})},i.prototype.getRecourse=function(i,r){if(!i.queryToFetch||i.taskFrame)return null;switch(t.getEffectiveScope(i)){case t.Scope.Apps:return n.isBingEnabled()?this.getStoreSearch(i,r):null;case t.Scope.Documents:return this.getExplorerSearch(i,r);case t.Scope.Emails:return t.ScopeConfig[t.Scope.Emails].showUpsellOnSuggestionsList()?null:this.getOutlookWebAccessSearch(i,r);case t.Scope.Photos:return n.isBingEnabled()?this.getWebSearch(i,r,"SBI",{content:"&#xEB9F",type:2},13,this._host.getLocString("SearchForWebImages")):null;case t.Scope.Videos:return n.isBingEnabled()?this.getWebSearch(i,r,"SBV",{content:"&#xE714",type:1},14,this._host.getLocString("SearchForWebVideos")):null;default:return null}},i.prototype.getSyntheticSuggestions=function(i,r){var o=i.queryToFetch&&n.isSuggestionTypeEnabled(n.WebDataSource,"SW",0,i)?this.getWebSearch(i,r,"SW",t.getSearchSuggestionIcon(),0,t.getWebSuggestionAnnotation(this._host)):null,s=i.isProtocol&&t.RuntimeConfig.AllowProtocolSyntheticSuggestions?this.getProtocol(i,r):null,f=this.getRecourse(i,r),u,e;return f&&(f.rankingScore=-Number.MAX_VALUE),u=[],this._imageSearchViewModel&&n.isDataSourceEnabled("QSCH",i)&&u.push(this._imageSearchViewModel.getSnipSearchSyntheticSuggestion(i,r)),t.TweakSearch&&(e=t.TweakSearch.getTweakSearchSuggestion(i,r),e&&u.push(e)),{protocol:s,searchTheWeb:o,recourse:f,others:u}},i.prototype.canHaveDuplicates=function(i,r){switch(i){case n.WebDataSource:case n.MRUDataSource:case"OSTMA":case"BAW":case"MSBS":case"MSBC":case"QS":case"PP":case"IBA":case"LRA":case"ST":case"FL":case"LM":case"IFF":case"LDIC":case"CG":case"PT":case"MPP":case"MST":case"MFF":case"ODC":case"MODC":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"EBH":case"SSUE":case"SSUC":return!0;case"PBI":case"SM":case"FEH":case"AFC":case"TOPP":case"QSCH":case"LSQS":return!1;case"SSEE":return r.scope==t.Scope.Documents||r.scope==t.Scope.Emails||t.RuntimeConfig.QfMode==5;case"SSEC":return r.scope==t.Scope.Emails}throw new Error("New data source "+i+" needs to be explicity classified as needed deduping with other data sources or not");},i.prototype.canHaveDuplicatesWithinDataSource=function(i,r){switch(i){case"MPP":case"MST":case n.MRUDataSource:return!0;case"SSEE":case"SSEC":return r.scope==t.Scope.Emails}return t.supportsShortcuts(i,r)},i.prototype.isDuplicate=function(i,u,c){var v,y,l,a,nt,tt,it,rt,g,p,w,ut,ft,k,d;if(this.isMsbDuplicate(u,c)||n.contains([5,4],u.handoffType)&&n.contains([5,4],c.handoffType)&&u.actionUri==c.actionUri&&u.query.toLocaleLowerCase()==c.query.toLocaleLowerCase()||u.handoffType==10&&c.handoffType==10&&u.type==c.type&&!u.htmlContent&&!c.htmlContent&&u.query.toLocaleLowerCase()==c.query.toLocaleLowerCase()||u.type!="PWL"&&u.handoffType==1&&c.handoffType==1&&n.isDuplicateUrl(i,u.url,c.url)||(v=t.getAppItem(u),y=t.getAppItem(c),l=v?v.filePath:u.path,l&&(l=l.toLocaleLowerCase()),a=y?y.filePath:c.path,a&&(a=a.toLocaleLowerCase()),nt=t.getAppPfn(u),tt=t.getAppPfn(c),nt&&tt&&nt.toLocaleLowerCase()==tt.toLocaleLowerCase()))return r.NoMetadata;if(it=t.getCommandLineItem(u),rt=t.getCommandLineItem(c),it&&y||rt&&v){var et=l||a,b=it||rt,ot=b.encodedPath;return et&&ot&&et==ot.toLocaleLowerCase()?(g=v||y,!b.launchArguments||(g.launchArguments||"").toLocaleLowerCase()==b.launchArguments.toLocaleLowerCase()||!g.launchArguments&&b.launchArguments&&g.displayName.toLocaleLowerCase().startsWith(b.displayName.toLocaleLowerCase())?r.NoMetadata:r.NotDuplicate):r.NotDuplicate}if(u.deviceItem&&c.deviceItem){if(p=u.deviceItem.id||"",w=c.deviceItem.id||"",p.toLocaleLowerCase()==w.toLocaleLowerCase())return l&&!v&&a&&!y?r.MergeMetadata:r.NoMetadata;if(v){if(t.isSetting(c.type)&&f[p]==w)return r.NoMetadata}else if(t.isSetting(u.type)&&(y&&f[w]==p||t.isSetting(c.type)&&(e[p]==w||e[w]==p)))return r.NoMetadata}if(this.isIcoShortcutDuplicate(u,c)||this.isIcoShortcutDuplicate(c,u))return r.NoMetadata;if(l&&a){if(l==a)return r.MergeMetadata;if(!v&&!y)if(u.handoffType==c.handoffType){if(u.handoffType==8&&u.url==c.url)return r.MergeMetadata}else{if((l=o(l,u.handoffType!=7),a=o(a,c.handoffType!=7),l==a)||(ut=u.handoffType!=8,ft=c.handoffType!=8,l=s(l,ut,u.url),a=s(a,ft,c.url),l==a))return r.MergeMetadata;if(t.SubstrateTenantName){var st=h(u,l,ut),ht=st[0],at=st[1],ct=h(c,a,ft),lt=ct[0],vt=ct[1];if(at==vt&&(lt.endsWith(ht)||ht.endsWith(lt)))return r.MergeMetadata}}if(k=u.targetPathLC,d=c.targetPathLC,v&&c.type=="IBA"&&(l=t.resolveKnownFolderGUIDsInPath(l)),y&&u.type=="IBA"&&(a=t.resolveKnownFolderGUIDsInPath(a)),(k&&d&&k==d||k&&k==a||d&&l==d||l==a)&&(!v||!y||(v.launchArguments||"").toLocaleLowerCase()==(y.launchArguments||"").toLocaleLowerCase()))return r.NoMetadata}return this.isCortanaSettingDuplicate(u,c)||this.isCortanaSettingDuplicate(c,u)?r.NoMetadata:u.type==="PPL"&&c.type==="PPL"&&u.uniqueName&&c.uniqueName&&u.uniqueName.toLocaleLowerCase()===c.uniqueName.toLocaleLowerCase()?r.NoMetadata:u.type==="OLE"&&c.type==="OLE"&&u.internetMessageId===c.internetMessageId?r.NoMetadata:u.type==="BKS"&&c.type==="BKS"&&u.url&&c.url&&u.url===c.url?r.NoMetadata:r.NotDuplicate},i.prototype.mergeDuplicates=function(i,u,f){var e=this.isDuplicate(i,u,f);return e?(e==r.MergeMetadata&&t.enrichMetadataFromDuplicate(i,u,f,this._host),u.duplicates=u.duplicates||[],n.contains(u.duplicates,f)||(u.duplicates.push(f),u.needsRefreshAfterDeduping=!0),!0):!1},i.prototype.isIcoShortcutDuplicate=function(n,i){return n.targetPathLC&&t.isApp(n.type)&&t.isApp(i.type)&&n.targetPathLC.includes("\\installer\\")&&n.targetPathLC.endsWith(".ico")&&n.text==i.text},i.prototype.isCortanaSettingDuplicate=function(n,t){return n.handoffType==5&&n.actionUri=="ms-cortana://navigate/Settings"&&t.deviceItem&&t.deviceItem.id=="CortanaSettings"},i.prototype.isMsbDuplicate=function(n,t){return n.msbDomain!=null&&n.msbDomain===t.msbDomain&&n.msbId!=null&&n.msbId===t.msbId},i.prototype.rankStartMenu=function(n){n=n.slice();n.sort(function(n,t){return n.text.localeCompare(t.text)});var i=[{type:t.GroupType.StartMenu,source:1}];return{topResults:[],suggestionsToAdd:n,suggestionsToRemove:[],groupOrder:i}},i.prototype.rank=function(i,r,f,e,o,s,h,c){var ti=this,yt,p,tt,ot,bt,rt,ct,d,lt,ut,v,g,dt,ft,at,gt,vt,k,ni;if(t.shouldFetchStartMenu(e))return this.rankStartMenu(r);t.isL2(e)&&(h=!1);p=null;n.isDataSourceEnabled("WRS",e)&&(p=f.WRS);p||(p=f[n.WebDataSource]);var et=p?p.rankingSignals:null,ii=p?p.webTopResultRoutingType:1,nt=f[n.MRUDataSource],pt=null,l=null,wt=null;et&&(et.WebSignalsAvailable=!0,pt=p.engagementSignals,l=p.suppressedGroups,(t.config.groupsToNeverFullySuppress||[]).length>0&&l&&(l.fullySuppressedGroups||[]).length>0&&(tt=[],ot=[],l.fullySuppressedGroups.forEach(function(i){n.contains(t.config.groupsToNeverFullySuppress,i)?tt.push(i):ot.push(i)}),tt.length>0&&(l=a(l),l.fullySuppressedGroups=ot,(yt=l.partiallySuppressedGroups).push.apply(yt,tt))));this._previousKeystrokeCache&&(wt=this._previousKeystrokeCache.getPreviousEventWebSignalsData(e.queryToFetch));var ri=nt?nt.SuggestionEngagementData:null,ui=nt?nt.LookupCompletions:null,fi={cvid:this._host.getConversationId(),privacyNumber:this._host.getPrivacyNumber()},y=this.getSyntheticSuggestions(e,s);r=r.slice();l&&(l.fullySuppressedGroups&&l.fullySuppressedGroups.length>0&&(r=r.filter(function(t){return!n.contains(l.fullySuppressedGroups,String(ti.getGroupTypeForSuppressions(t)))})),t.config.honorSuppressedSuggestions&&l.suppressedSuggestions&&l.suppressedSuggestions.length>0&&(r=r.filter(function(i){return!n.contains(l.suppressedSuggestions,t.getSuggestionKey(i))})));t.config.suppressFileFolders&&e.queryToFetch.length<t.config.maxPrefixLengthForSupp&&e.scope==t.Scope.All&&(bt=[t.GroupType.Documents,t.GroupType.Folders],r=r.filter(function(i){return!n.contains(bt,t.getGroupType(i))}));i.length==0&&(y.others.length>0&&r.unshift.apply(r,y.others),y.protocol&&r.unshift(y.protocol));var st=o.length==1&&o[0].childSuggestions&&o[0].childSuggestions.some(function(n){return n.displayed}),kt=this.getSuggestionsToRank(st,i,r,y,s),it=this._ranker.rank(e,kt,et,ri,ui,pt,fi,wt,c,y);this._previousKeystrokeCache&&!h&&this._previousKeystrokeCache.updateSpellerTriggerData(e.queryToFetch,kt);i.length==0&&y.recourse&&r.push(y.recourse);var w=this.determineTopResults(o,r,it,y,e,s,st),ht=i.filter(function(t){return!n.contains(o,t)}),b=this.determineSuggestionsToAddToGroups(ht,r,o,w,y,e,st,h);if(!t.RuntimeConfig.FlatListWithoutGroups&&it.mruSuppressions&&it.mruSuppressions.backPropDataExists)this.applyMRUSuppressions(it,o,w,b,e);else if(l&&l.partiallySuppressedGroups&&this.canPartiallySuppressGroups(w,b))for(rt=0,ct=b;rt<ct.length;rt++)d=ct[rt],u(d,e)||(lt=this.getGroupTypeForSuppressions(d),this.canBePartiallySuppressed(d,lt)&&n.contains(l.partiallySuppressedGroups,String(lt))&&(n.contains(o,d)||(d.suppressed=!0)));if(ut=[],this.removeProtocolIfDuplicate(e,y,w,ht,b,ut),this.setUseRafFlag(w,b,e,ii),v=this.getGroupOrder(e,b,ht),e.staticGroupOrder){for(g=[],dt=function(n){var t=v.findIndex(function(t){return t.type==n});t>=0&&(g.push(v[t]),v.splice(t,1))},ft=0,at=e.staticGroupOrder;ft<at.length;ft++)gt=at[ft],dt(gt);g.length>0&&(g.push.apply(g,v),v=g)}else e.forceGroupOnTop&&(vt=e.forceGroupOnTop,k=v.findIndex(function(n){return t.sameGroup(n,vt)}),k>=0&&(v.splice(k,1),v.unshift(vt)),k=v.findIndex(function(n){return t.isTopHitChildGroup(n)}),k>=0&&(ni=v[k],v.splice(k,1),v.unshift(ni)));if(t.RuntimeConfig.FlatListWithoutGroups&&(w=w.concat(b.filter(function(n){return!n.suppressed})),b=[],n.trimList(w,t.RuntimeConfig.MaxSuggestionsWhenFlatList,function(t){return!n.contains(i,t)&&!t.notAResult}),ut.length!=0))throw new Error("Can't remove suggestions from groups when there are no groups");return{topResults:w,suggestionsToAdd:b,suggestionsToRemove:ut,groupOrder:v}},i.prototype.applyMRUSuppressions=function(i,r,f,e,o){var c,l,a,h,s;if(this.canPartiallySuppressGroups(f,e))for(c={},l=0,a=e;l<a.length;l++)if(h=a[l],!u(h,o)&&(s=t.getGroupType(h),this.canBePartiallySuppressed(h,s))){if(!c[s]){var v=i.mruSuppressions.maxGroupCCR?i.mruSuppressions.maxGroupCCR[s]||0:0,y=i.mruSuppressions.maxGroupProbSugClickGivenPref?i.mruSuppressions.maxGroupProbSugClickGivenPref[s]||0:0,p=i.mruSuppressions.mruGroupRatios?i.mruSuppressions.mruGroupRatios[s]||0:0,w=i.mruSuppressions.mruGroupBackpropRatios?i.mruSuppressions.mruGroupBackpropRatios[s]||0:0,b=i.mruSuppressions.mruGroupBackpropWeights?i.mruSuppressions.mruGroupBackpropWeights[s]||0:0,k=t.config.wtMaxGroupCCR*v+t.config.wtMaxGroupProbSugClickGivenPref*y+t.config.wtMruGroupRatio*p+t.config.wtMruGroupBackpropRatio*w+t.config.wtMruGroupBackpropWeight*b+t.config.wtLRBias,d=1/(1+Math.exp(-k));c[s]=n.trimFeatureStoreValue(d)}h.mruSuppressionScore=c[s];h.mruSuppressionScore<t.config.lRModelCutOff&&(n.contains(r,h)||(h.suppressed=!0))}},i.prototype.allowedInGroups=function(n){return n.isAnswer?n.allowedInGroups:!0},i.prototype.getGroupTypeForSuppressions=function(n){var i=t.getGroupType(n);return i==t.GroupType.LocalPlaces?t.GroupType.SearchSuggestions:i},i.prototype.canBePartiallySuppressed=function(n,i){return t.getScope(i)!=t.Scope.All},i.prototype.canPartiallySuppressGroups=function(n,i){return t.RuntimeConfig.ScopesAvailable?n.every(function(n){return t.getGroupType(n)==t.GroupType.SearchSuggestions})&&i.every(function(n){return t.getGroupType(n)==t.GroupType.SearchSuggestions})?!1:!0:!1},i.prototype.isProtocolDuplicate=function(t,i,r){return t==r?!1:t.type=="MD"?!0:t.handoffType==1&&n.isDuplicateUrl(i,t.url,r.url)},i.prototype.removeProtocolIfDuplicate=function(t,i,r,u,f,e){var h=this,o,s;i.protocol&&(o=function(n){return!n.suppressed&&h.isProtocolDuplicate(n,t,i.protocol)},(r.some(o)||u.some(o)||f.some(o))&&(n.tryRemove(r,i.protocol)?r.length||(s=n.removeFirstWhere(u,o)||n.removeFirstWhere(f,o),r.push(s)):n.tryRemove(f,i.protocol)||n.contains(u,i.protocol)&&e.push(i.protocol),i.protocol=null))},i.prototype.getSuggestionsToRank=function(i,r,u,f){i&&(r=r.filter(function(n){return!t.isChildSuggestion(n)}));f.recourse&&(r=r.filter(function(n){return n!=f.recourse}));var e=r.concat(u);return f.searchTheWeb&&!n.contains(r,f.searchTheWeb)&&e.push(f.searchTheWeb),e},i.prototype.determineTopResults=function(i,r,f,e,o,s,h){var et=this,l,d,p,w,b,it,g,nt,y,k,ut,tt,a,ft;if(h||!o.queryToFetch||t.config.stickyTopResultsV2&&i.length>1&&!t.isL2(o))return i;if(l=t.config.forceVoiceFlowOnTopHit?[]:f.topResults,d=this._previewPane?this._previewPane.getPreviewedSuggestionToForceTopHit():null,d&&this._ranker.allowInTopHit(o,d)&&(p=function(n){return t.isEquivalentForPreviewPanePurposes(o,d,n)},w=l.findIndex(p),w!=0&&(b=void 0,w>0?(b=l[w],l.splice(w,1)):b=i.find(p)||r.find(p)||(e.searchTheWeb?[e.searchTheWeb]:[]).find(p),b&&l.unshift(b))),e.protocol&&e.searchTheWeb&&this._ranker.allowInTopHit(o,e.protocol)&&n.tryRemove(l,e.searchTheWeb),e.searchTheWeb&&(it=l.indexOf(e.searchTheWeb),it>=0&&l.some(function(n){return n!=e.searchTheWeb&&u(n,o)})&&l.splice(it,1)),l.length==0&&(t.config.stickyTopResultsV2&&i.length>0?l.push.apply(l,i):e.protocol&&this._ranker.allowInTopHit(o,e.protocol)?l.push(e.protocol):e.searchTheWeb&&this._ranker.allowInTopHit(o,e.searchTheWeb)?l.push(e.searchTheWeb):e.recourse&&this._ranker.allowInTopHit(o,e.recourse)&&l.push(e.recourse)),g=t.getEffectiveScope(o)==t.Scope.Emails?t.config.maxNumberOfEmailsInTopResult:Math.max(t.config.maxNumberOfTopResults,c(l)?2:0,i.length),t.config.bypassFallbackOnMSBTopHit==4&&l.length>0&&(l[0].type=="PPL"||l[0].type=="BKS")&&(g=2),l.length>g&&(l=l.slice(0,g)),t.config.synthWebNoBestMatch&&l.length==1){var rt=[t.GroupType.SearchSuggestions,t.GroupType.Websites],ot=r.filter(function(i){return!n.contains(rt,t.getGroupType(i))}),st=l.filter(function(i){return!n.contains(rt,t.getGroupType(i))});ot.length==0&&st.length==0&&(l=[])}for(nt=i.length-1;nt>=0;--nt)y=i[nt],n.contains(l,y)||(y.useRaf&&(y.useRaf=!1),y!=e.searchTheWeb&&r.unshift(y));return l.length==1&&n.safeExecute(function(){return et.applyAppOverride(l,r)},"applyDeviceInfoOverride"),l.forEach(function(n){return n.suppressed=!1}),k=t.isL2(o),t.config.stickyTopResultsV2&&l.length==1&&i.length==1&&!k&&(ut=l[0],tt=i[0],ut==tt||v(tt)||l.unshift(tt)),t.config.stickyConversation&&l.length==1&&this._previousKeystrokeCache&&(a=this._previousKeystrokeCache.getPreviousTopHit(),ft=a?a.ciMatchedQuery||a.query.toLocaleLowerCase():"",a&&!k&&o.queryToFetch.length>t.config.stickyConversationMinPrefixLength&&(a.type=="PP"||a.type=="ST")&&ft.startsWith(o.queryToFetch.toLocaleLowerCase())&&!(a.query.toLocaleLowerCase()==l[0].query.toLocaleLowerCase()&&a.type==l[0].type)&&this._previousKeystrokeCache.getPreviousQuery().length<o.queryToFetch.length&&(a.sequenceNumber=s,a.instItem=n.InstrumentedItem.createInstrumentedItem(s,a.type),l[0]=a),this._previousKeystrokeCache.setPreviousTopHit(k?null:l[0]),this._previousKeystrokeCache.setPreviousQuery(o.queryToFetch.toLocaleLowerCase())),t.config.enableCISpeller&&l.length==1&&this._previousKeystrokeCache&&(l[0].type=="PP"||l[0].type=="ST")&&this._previousKeystrokeCache.setPreviousTopHit(k?null:l[0]),l},i.prototype.applyAppOverride=function(n,t){var r=["Microsoft.Office.WINWORD.EXE","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows NT\\Accessories\\wordpad.exe"],u=n[0].deviceItem?n[0].deviceItem.id:null,i;u&&u.startsWith(r[1])&&(i=t.findIndex(function(n){return n.deviceItem&&n.deviceItem.id&&n.deviceItem.id.startsWith(r[0])}),i>=0&&n.splice(0,1,t[i]))},i.prototype.setUseRafFlag=function(n,i,r,u){var e,s,o,h,f;if(t.isCortanaEnabledCache)if(u==2||t.config.forceVoiceFlowOnTopHit)for(e=0,s=n;e<s.length;e++)f=s[e],f.handoffType!=0||f.isAnswer||(f.useRaf=!0);else for(o=0,h=n;o<h.length;o++)f=h[o],f.handoffType==0&&!f.isAnswer&&this._host.matchesVcd(f.query)&&(f.useRaf=!0)},i.prototype.determineSuggestionsToAddToGroups=function(i,r,f,e,o,s,h,c){var k=this,l=r.filter(function(t){return!n.contains(e,t)}),w=[],a,v,y,p,b;for(t.RuntimeConfig.FlatListWithoutGroups||l.forEach(function(n,i){k.allowedInGroups(n)||(t.getScope(t.getGroupType(n))==t.Scope.All?w.push(i):n.suppressed=!0)}),a=w.length-1;a>=0;--a)l.splice(a,1);return o.searchTheWeb&&(v=e.indexOf(o.searchTheWeb),v!=-1&&(y=n.removeFirstWhere(l,function(n){return u(n,s)}),y&&(e[v]=y))),p=l.filter(function(i){return n.contains([t.GroupType.SearchSuggestions,t.GroupType.Websites,t.GroupType.LocalPlaces],t.getGroupType(i))}),b=l.filter(t.enforceOriginalOrder),!h&&this.canRenderChildSuggestions(e,c,s)&&this.addChildSuggestions(e[0],l),s.queryToFetch&&l.sort(function(n,t){return t.rankingScore-n.rankingScore}),this.insertDefaultSearchTheWeb(s,o,e,i,l,p),l=this.insertSuggestionsToRightPlace(l,b),this.insertSuggestionsToRightPlace(l,p)},i.prototype.insertDefaultSearchTheWeb=function(n,i,r,f,e,o){var s,h;i.searchTheWeb&&(n.scope==t.Scope.Web||n.scope==t.Scope.All)&&(s=o.findIndex(function(t){return u(t,n)}),f.some(function(t){return u(t,n)})||r.some(function(t){return u(t,n)})?s!=-1&&(h=o[s],o.splice(s,1),e.splice(e.indexOf(h),1)):s==-1&&(o.unshift(i.searchTheWeb),e.unshift(i.searchTheWeb)))},i.prototype.getGroupOrder=function(n,i,r){var f,o,a,u,w,b,h,v,k,d,c,y,s;switch(n.scope){case t.Scope.Web:if(!n.queryToFetch)return[{type:t.GroupType.EdgeHistory},{type:t.GroupType.Websites},{type:t.GroupType.SearchSuggestions}];break;case t.Scope.Apps:return[{type:t.GroupType.Apps},{type:t.GroupType.Store}];case t.Scope.Photos:return[{type:t.GroupType.Photos},{type:t.GroupType.SearchSuggestions}];case t.Scope.Videos:return[{type:t.GroupType.Videos},{type:t.GroupType.SearchSuggestions}];case t.Scope.PeopleEmail:return[{type:t.GroupType.People},{type:t.GroupType.Emails}]}f=r.concat(i);f.sort(function(n,t){return t.rankingScore-n.rankingScore});var p=[],l=[],e=[],g=function(n){if(n.suppressed)l.push(n);else if(p.push(n),t.config.enableStaticGroupRanking){var r=t.getGroupType(n),i={type:r,source:n.sourceForGroup};e.some(function(n){return t.sameGroup(n,i)})||e.push(i)}};for(o=0,a=f;o<a.length;o++)s=a[o],g(s);if(l.length!=0&&(f=p.concat(l)),u=[],t.config.enableStaticGroupRanking&&f.length>0&&t.getGroupType(f[0])!=t.GroupType.SearchSuggestions){for(w=[{type:t.GroupType.Apps},{type:t.GroupType.Settings},{type:t.GroupType.Documents,source:1}],b=function(n){e.some(function(i){return t.sameGroup(i,n)})&&u.push(n)},h=0,v=w;h<v.length;h++)k=v[h],b(k);t.RuntimeConfig.QfMode!=8&&e.some(function(n){return t.sameGroup(n,{type:t.GroupType.SearchSuggestions})})&&u.push({type:t.GroupType.SearchSuggestions})}for(d=function(n){var r=t.getGroupType(n),i={type:r,source:n.sourceForGroup};u.some(function(n){return t.sameGroup(n,i)})||(t.RuntimeConfig.QfMode==8&&i.type==t.GroupType.SearchSuggestions?u.unshift(i):t.config.enableStaticGroupRanking&&t.isTopHitChildGroup(i)?u.unshift(i):u.push(i))},c=0,y=f;c<y.length;c++)s=y[c],d(s);return u},i.prototype.addChildSuggestions=function(i,r){i.calculateChildSuggestions&&i.calculateChildSuggestions();i.childSuggestions&&i.childSuggestions.length>0&&Object.keys(t.config.topHitChildGroups).forEach(function(u,f){var e=parseInt(u),o=n.contains(t.config.suppressedTopHitChildGroups,e)?0:t.config.topHitChildGroups[u],s;o>0&&(s=i.childSuggestions.filter(function(n){return n.groupType==e}).slice(0,o),s.forEach(function(n,t){n.rankingScore=1e4-100*f-t;r.push(n)}))})},i.prototype.canRenderChildSuggestions=function(n,i){var r,u;return t.RuntimeConfig.FlatListWithoutGroups?!1:n.length!=1?!1:(r=n[0],t.RuntimeConfig.AlwaysWide&&r.previewPaneType!=1)?!1:i?this._renderedTopResults.topResults.length==1?(u=this._renderedTopResults.topResults[0],u.hasChildSuggestionsDisplayed&&u.query==r.query&&t.getGroupType(u)==t.getGroupType(r)):!1:!0},i.prototype.insertSuggestionsToRightPlace=function(t,i){var r,e,u,f;if(i.length==0)return t;for(r=[],e=i[0],u=0;u<t.length;u++)f=t[u],f==e?r=r.concat(i):n.contains(i,f)||r.push(f);return r},i}();i.Aggregator=l})(i=t.Ranking||(t.Ranking={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(n,t,i,r){var u=this;this._instrumentationHelper=t;this._sequenceNumberReader=i;this._page=r;this._itemLaunchEventHandlers=[];this.groups=[];this.topResults=[];this._lastUpdatedSequenceNumber=-1;this._topResultsRenderingDisabled=!1;this._groupRenderingDisabled=!1;n.bindShown(function(){u._selectedItem=null})}return t.prototype.onDismiss=function(){this.topResults=[];this.renderTopResults();this.groups=[];this.renderGroups();this._partialQuery=null;this._lastUpdatedSequenceNumber=-1},t.prototype.bindItemLaunch=function(n){this._itemLaunchEventHandlers.push(n)},t.prototype.onSuggestionLaunch=function(n,t,i){this._itemLaunchEventHandlers.forEach(function(r){return r(n,t,i)})},t.prototype.onQueryChanged=function(n){this._partialQuery=n},t.prototype.getCurrentTopResults=function(){return this.topResults.slice(0)},t.prototype.getTopResultsWhichFitInCanvas=function(n){return n},t.prototype.resetAriaSelected=function(n){n&&this._page.render(function(){var t=_ge(n.id);t&&(t.setAttribute("aria-selected","false"),t.setAttribute("aria-selected","true"))})},t.prototype.updateTopResults=function(t,i,r,u,f,e){var s=this,a,o,h,y;t!=(u!=this._lastUpdatedSequenceNumber)&&SharedLogHelper.LogError("updateTopResult",t+" != (sequenceNumber "+u+" != lastUpdateSequenceNumber "+this._lastUpdatedSequenceNumber+")",new Error("Precondition failed"));this._lastUpdatedSequenceNumber=u;t&&(this.groups=[],this.onGroupsCleared());a=this._selectedItem;o=this.topResults;i=this.getTopResultsWhichFitInCanvas(i);h=!n.sequenceEqual(i,o)||o.some(function(n){return n.needsRefreshAfterDeduping});h&&(this.topResults=i.slice(0));var c=!1,l=h?i.length:0,v=function(){c&&l==0&&(n.config.enableLocalInstrumentation&&s._instrumentationHelper.instrumentRenderedLocalSuggestion(u,i),s._instrumentationHelper.instrumentTopResultRendered(u,i.map(function(n){return n.type})),c=!1)};return h?(this.renderTopResultsAfter(function(){for(var i,t=0,h=s.topResults;t<h.length;t++)i=h[t],i.needsRefreshAfterDeduping=!1,n.contains(o,i)?l-=1:s.setupIcon(u,i,!0,function(){l-=1;v()});s.onBeforeRenderTopResults(o,f,r,e)}),c=!0):(y=this.onBeforeRenderTopResults(o,f,r,e),y==0&&(this.renderTopResults(),c=!0)),this._selectedItem&&(a!=this._selectedItem||t)&&n.contains(this.topResults,this._selectedItem)&&this.resetAriaSelected(this._selectedItem),[h,v]},t.prototype.setupIcon=function(n,t,i,r){r()},t.prototype.renderGroups=function(){this._groupRenderingDisabled||(this._page.updateGroupsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups}),this._instrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderGroupsAfter=function(n){var t=this._groupRenderingDisabled;this._groupRenderingDisabled=!0;try{n()}finally{this._groupRenderingDisabled=t;this.renderGroups()}},t.prototype.renderTopResults=function(){this._topResultsRenderingDisabled||(this._page.updateTopResultsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups}),this._instrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderTopResultsAfter=function(n){var u=this._topResultsRenderingDisabled,t,i,r;this._topResultsRenderingDisabled=!0;try{n()}finally{for(this._topResultsRenderingDisabled=u,this.renderTopResults(),t=0,i=this.topResults;t<i.length;t++)r=i[t],r.executeScript&&r.executeScript()}},t}();n.BaseRootViewModel=t}(AutoSuggest||(AutoSuggest={})),function(n){function r(t,i){t(n.getCurrentTime(),n.getInputType(i),i)}var t="aria-selected",i;n.invokeClickHandler=r;i=function(){function i(i){var r=this,u;this._host=i;this._renderingInProgress=!1;this._narratorLaunchHandlers=[];this._viewData={};this._targetElemCache={};u=new MutationObserver(function(n){var i,o,u,f,s,e;if(!r._renderingInProgress){for(i=[],u=0,f=n;u<f.length;u++)s=f[u],e=s.target,o=e.id,i.push(e.getAttribute(t)=="true"?1:0);(i.length==1&&i[0]==0||i.length==2&&i[0]^i[1])&&r._narratorLaunchHandlers.forEach(function(n){return n(o)})}});u.observe(document,{subtree:!0,attributes:!0,attributeFilter:[t]});n.View.getLocString=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i.getLocString.apply(i,[n].concat(r))};this.addViewData("TestHooksEnabled",n.config.th)}return i.prototype.adjustHeightAsync=function(){var t=this;n.safeSetTimeout(function(){return t._host.adjustHeight()},0,"adjustHeightAsync")},i.prototype.bindOnNarratorLaunch=function(n){this._narratorLaunchHandlers.push(n)},i.prototype.render=function(t){var i=this;this._renderingTimer&&sb_ct(this._renderingTimer);this._renderingInProgress=!0;try{n.View.ViewData=this.getViewData();t()}finally{this._renderingTimer=n.safeSetTimeout(function(){i._renderingTimer=null;i._renderingInProgress=!1},0,"BasePage render")}},i.prototype.renderReactView=function(n,t,i){var f=this,r=this._targetElemCache[n],u;r||(this._targetElemCache[n]=r=_ge(n));u=i;u.adjustHeight||(u.adjustHeight=function(){return f.adjustHeightAsync()});this.render(function(){return _w.ReactDOM.render(React.createElement(t,i),r)},n)},i.prototype.addViewData=function(n,t){this._viewData[n]=t},i.prototype.getViewData=function(){return this._viewData},i}();n.BasePage=i}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){function r(n,t){var i=parseInt(n.substr(1),16),r=i>>16&255,u=i>>8&255,f=i&255;return"rgba("+r+","+u+","+f+","+t+")"}function s(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)-t),u=Math.max(0,(i>>8&255)-t),f=Math.max(0,(i&255)-t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}function u(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)*t),u=Math.max(0,(i>>8&255)*t),f=Math.max(0,(i&255)*t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}var e="slideInMessage",o="indexingMessage",i,f;t.SinglePaneWidth=344;t.PreviewPaneWidth=440;t.DebugWindowWidth=800;f=function(f){function h(r){var u=f.call(this,r)||this,e;return u.host=r,u._root=_ge("root"),u._windowsTemporaryMessageShown=!1,u._windowsIndexingMessageShown=!1,u._progressBarVisible=!1,u._previewPaneVisible=!1,u._debugWindowVisible=!1,u._suggestionsContainerHeight=0,u._immersiveSearchHeightExpandedInThisConversation=!1,i=SearchAppWrapper.CortanaApp,u._windowsTemporaryMessageWrapper=_ge("temporaryMessageWrapper"),u._windowsIndexingMessageWrapper=_ge("temporaryMessageWrapper"),u._qfContainer=_ge("qfContainer"),u._previewContainer=_ge("previewContainer"),r.bindAppVisible(function(){var e=i.width,f=i.height;e&&f?u.setDimensions(e,f):ThresholdUtilities.getCortanaHeaders(function(n){if(n){var t=n["X-BM-DeviceDimensionsLogical"].split("x"),i=t[0],r=t[1];u.setDimensions(parseInt(i),r)}});t.RuntimeConfig.PreviewPaneAvailable&&(u.initPreviewPane(),t.setVisibility(u._previewPane,t.RuntimeConfig.AlwaysWide),!t.RuntimeConfig.AlwaysWide&&r.hasFallbackHappened()&&i.resetToDefaultSize());u.initDebugWindow();u.setConditionalCss("panelCanResize",t.RuntimeConfig.PanelCanResize);u.setConditionalCss("flatListWithoutGroups",t.RuntimeConfig.FlatListWithoutGroups);u.setConditionalCss("searchBoxOnTop",t.RuntimeConfig.SearchBoxOnTop);u.setConditionalCss("wideByDefault",t.RuntimeConfig.AlwaysWide||t.RuntimeConfig.QfMode==2);u.setConditionalCss("centerScreen",t.RuntimeConfig.QfMode==2);u.setConditionalCss("noPPOpenedArrow",t.config.noPPOpenedArrow);u.setConditionalCss("whitePreview",t.config.whitePreview);u.setConditionalCss("searchHomeQuickAnswer",t.config.quickAnswer&&t.RuntimeConfig.PreviewPaneAvailable);u.setConditionalCss("searchHomeQuickAnswerSmallHeight",t.config.quickAnswer&&t.RuntimeConfig.PreviewPaneAvailable&&f<640);u.setConditionalCss("webDisabled",!n.isMiniSerpEnabled());u.setConditionalCss("enableSnipSearchSmallButton",t.config.EnableSnipSearchSmallButton);u.setQueryBasedCss(null)}),r.bindShown(function(){if(t.config.isThemeAware&&i.theme){var n=i.theme.startsWith("000000");u.setThemeBasedCss(n)}u.setConditionalCss("snipSearch",i.entryPoint=="WNSSBS"&&t.config.enableSnipSearchV2);t.setVisibility(u._root,!0)}),r.bindAppHidden(function(){u._openPreviewPaneButtonCache=undefined;u.markWebViewExpandedState(!1);t.setVisibility(u._previewPane,!1)}),e=function(){t.RuntimeConfig.AlwaysWide||(u._previewPaneVisible=!1,t.setVisibility(u._previewPane,!1));u.setDebugWindowVisibility(!1)},r.bindQueryChangedOrInitialized(function(n){n.fullPartialQuery&&u.ensureWebViewHeightExpanded();t.RuntimeConfig.QfMode==5&&u.updateFENarratorSuggestionCount(null)}),r.bindSearchBoxClick(function(){return u.ensureWebViewHeightExpanded()}),r.bindKeyDown(function(n){n==40&&u.ensureWebViewHeightExpanded()}),r.bindDismissed(function(){u.resetSuggestionsContainerHeight();e()}),r.bindAccentColorAndThemeRefreshed(function(n,t){u.applyAccentColor();u.setThemeBasedCss(t)}),t.config.alwaysWideBeforeRS5&&i.addEventListener("openanimationcompleted",function(){u.ensureWebViewWidthExpanded()}),i.addEventListener("resettingtodefaultsize",function(){e()}),sj_be(sj_b,"contextmenu",function(n){for(var t=n.target;t;){if(t.classList.contains("allowcontextmenu"))break;t=t.parentElement}t||sj_pd(n)}),u}return __extends(h,f),h.prototype.setConditionalCss=function(n,t){t?this._root.classList.add(n):this._root.classList.remove(n)},h.prototype.setQueryBasedCss=function(n){var i=t.shouldFetchStartMenu(n);this.setConditionalCss("fileExplorer",t.RuntimeConfig.QfMode==5);this.setConditionalCss("startMenu",i);this.setConditionalCss("noScopes",!t.RuntimeConfig.ScopesAvailable||i);this.setConditionalCss("settingsApp",t.RuntimeConfig.QfMode==7);this.setConditionalCss("santorini",t.RuntimeConfig.QfMode==8);this.setConditionalCss("lockscreen",t.RuntimeConfig.QfMode==6);this.setConditionalCss("darkBackground",i);t.RuntimeConfig.QfMode!=8&&this.setConditionalCss("zeroInput19H1",n?n.isSearchHomeZI:t.RuntimeConfig.SearchHomeAvailable==1)},h.prototype.setThemeBasedCss=function(n){t.config.isThemeAware?(t.RuntimeConfig.QfMode==7&&(n=n&&i.appsUseLightTheme===!1),t.RuntimeConfig.QfMode==5&&i.fileExplorerSuggestionPage&&(n=i.fileExplorerSuggestionPage.useDarkTheme),this.setConditionalCss("darkTheme19H1",n),this.setConditionalCss("lightTheme19H1",!n)):t.config.searchHomeSupported&&(this.setConditionalCss("lightTheme19H1",!0),this.setConditionalCss("lightThemeRS5",!0))},h.prototype.initPreviewPane=function(){var n=i.textScaleFactor||1,f=t.PreviewPaneWidth/n,r,u;this._previewPane||(this._previewPane=_ge("qfPreviewPane"),this._previewPane.classList.remove("transitionOn"));t.RuntimeConfig.QfMode==2?(r=470,u=r/n,this._previewPane.style.minWidth=u+"px"):this._previewPane.style.minWidth=f+"px"},h.prototype.initDebugWindow=function(){this._debugWindow||(this._debugWindow=_ge("qfDebugPane"),this._debugWindow&&(this._debugWindow.style.flexBasis=t.DebugWindowWidth+"px"))},h.prototype.setDimensions=function(n,i){if(t.isMobileCache&&i&&(this._root.style.height=i+"px"),!this._previewPaneVisible&&!this._debugWindowVisible){this.onPaneWidthSet(n);this._originalPaneWidth=n}},h.prototype.ensureWebViewWidthExpanded=function(){var n=t.SinglePaneWidth+t.PreviewPaneWidth;t.RuntimeConfig.QfMode==1&&i.width<n&&(i.setPaneWidth(n),this.setDimensions(n,null))},h.prototype.ensureWebViewHeightExpanded=function(){if(t.RuntimeConfig.QfMode==2&&!this._immersiveSearchHeightExpandedInThisConversation){var n=i.height;i.setCenterScreenAcrylicBackgroundHeight(n+12);i.setWebViewHeight(n);this.markWebViewExpandedState(!0)}},h.prototype.markWebViewExpandedState=function(n){this._immersiveSearchHeightExpandedInThisConversation=n;this.setConditionalCss("webViewExpanded",n)},h.prototype.getScrollTop=function(){return this._qfContainer.scrollTop},h.prototype.scrollToTop=function(){this._qfContainer.scrollTop=0;_d.body.scrollTop=0},h.prototype.scrollTo=function(n){var r=_ge(n.id),i;this.scrollToElement(r,this._qfContainer,this._qfContainer.offsetHeight);i=window.innerHeight;t.isMobileCache&&_d.body.scrollHeight>i&&this.scrollToElement(r,_d.body,i)},h.prototype.scrollToElement=function(n,t,i){var u=t.scrollTop,r=n.offsetTop-t.offsetTop,f=r+n.offsetHeight;f>u+i?t.scrollTop=f-i:r<u&&(t.scrollTop=r)},h.prototype.getSuggestionsContainerHeight=function(){return t.RuntimeConfig.QfMode==2&&!this._immersiveSearchHeightExpandedInThisConversation?i.height:(this._suggestionsContainerHeight||this.calculateSuggestionsContainerHeight(),this._suggestionsContainerHeight)},h.prototype.getSuggestionsContainerWidth=function(){return i.width},h.prototype.resetSuggestionsContainerHeight=function(){this._suggestionsContainerHeight=0},h.prototype.calculateSuggestionsContainerHeight=function(){var n=_ge("root").clientHeight,t;n<440&&(n=440);t=_ge("temporaryMessage");n-=t.offsetHeight;this._suggestionsContainerHeight=n},h.prototype.getPanelWidthFor=function(n){var i=this._originalPaneWidth;return i+=n&1?t.PreviewPaneWidth:0,i+(n&2?t.DebugWindowWidth:0)},h.prototype.getPanelState=function(){switch(i.width-this._originalPaneWidth){case 0:return 0;case t.PreviewPaneWidth:return 1;case t.DebugWindowWidth:return 2;case t.PreviewPaneWidth+t.DebugWindowWidth:return 3;default:return 0}},h.prototype.openSidePanel=function(n){var t=this.getPanelState(),u,r;if(t==0&&this.setDimensions(i.width,null),!(t&n)){u=t|n;r=this.getPanelWidthFor(u);i.setPaneWidth(r);this.onPaneWidthSet(r)}},h.prototype.closeSidePanel=function(n){var u=this.getPanelState(),f,r;if(u&n){f=u&~n;r=this.getPanelWidthFor(f);r!=this._originalPaneWidth||t.config.alwaysWideBeforeRS5?i.setPaneWidth(r):i.resetToDefaultSize();this.onPaneWidthSet(r)}},h.prototype.onPaneWidthSet=function(t){n.safeFireEvent("CortanaPaneWidthSet",t)},h.prototype.getOpenPreviewPaneButton=function(){if(!t.RuntimeConfig.PreviewPaneAvailable)return null;if(!this._openPreviewPaneButtonCache){var n=t.isRtl(),i=n?"&#xE96F":"&#xE970";t.config.chevronMed&&(i=n?"&#xE973":"&#xE974");this._openPreviewPaneButtonCache={defaultIcon:{content:i,type:2},openedIcon:{content:n?"&#xE72B":"&#xE72A",type:2},clickHandler:this._openPreviewPaneClickHandler}}return this._openPreviewPaneButtonCache},h.prototype.setContextMenuHandler=function(n){this._contextMenuHandler=n},h.prototype.setSuggestionClickHandler=function(n){this._suggestionClickHandler=n},h.prototype.setOpenPreviewPaneClickHandler=function(n){this._openPreviewPaneClickHandler=n},h.prototype.setExpanderClickInstrumentation=function(n){this._expanderClickInstrumentation=n},h.prototype.updateGroupsView=function(i){if(t.config.th&&ClientTestHooks.isTesthookParamSet("forceRenderingCrashOnSecondConversation")&&this._host.getPaneCloseCount())throw new Error("Simulated exception");this.setQueryBasedCss(i.query);this.setConditionalCss("noSuggestions",i.topResults.length==0&&i.groups.length==0);var r=i.query&&i.query.isSearchHomeZI,u=r?null:" - "+t.getWebSuggestionAnnotation(this._host),f=t.shouldFetchStartMenu(i.query)&&i.groups.some(function(n){return n.typeWithSource.type==t.GroupType.StartMenu})?n.View.StartMenuGroups:n.View.WindowsGroups;this.renderReactView("groups",f,{groups:i.groups,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton(),webSuggestionAnnotation:u})},h.prototype.updateFENarratorSuggestionCount=function(i){var r="";t.RuntimeConfig.QfMode==5&&i&&(r=this.host.getLocString("SuggestionCountNarrator",""+i));this.renderReactView("narratorMessageContainer",n.View.FileExplorerNarratorAnnouncement,{message:r})},h.prototype.updateTopResultsView=function(i){if(this.setQueryBasedCss(i.query),this.setConditionalCss("noSuggestions",i.topResults.length==0&&i.groups.length==0),t.RuntimeConfig.QfMode==5){var r=i.topResults.length;this.updateFENarratorSuggestionCount(r>0?r:null)}this.renderReactView("topResults",n.View.WindowsTopResults,{suggestions:i.topResults,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton()})},h.prototype.showTemporaryMessage=function(i){var r=this,u;this._windowsTemporaryMessageShown?(this.hideTemporaryMessage(),n.safeSetTimeout(function(){return r.showTemporaryMessage(i)},100,"showTemporaryMessage")):(u={messageText:i,clickHandler:function(){r.hideTemporaryMessage();r._host.setFocusInSearchBox(null,"temporaryMessage")}},this.updateTemporaryMessageView(u),this._windowsTemporaryMessageShown=!0,t.setVisibility(this._windowsTemporaryMessageWrapper,!0))},h.prototype.hideTemporaryMessage=function(){this._windowsTemporaryMessageShown&&(this.updateTemporaryMessageView(null),this._windowsTemporaryMessageShown=!1,t.setVisibility(this._windowsTemporaryMessageWrapper,!1))},h.prototype.updateTemporaryMessageView=function(t){this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:t,icon:{content:"&#xE946",type:2},messageClassName:e})},h.prototype.updateIndexingMessageView=function(i){var r=!!i;this._windowsIndexingMessageShown!=r&&(this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:i,icon:i&&i.messageText==this._host.getLocString("WindowsIndexingInProgressMessage")?{content:"&#xE895",type:2}:null,messageClassName:o}),this._windowsIndexingMessageShown=r,t.setVisibility(this._windowsIndexingMessageWrapper,r),this.resetSuggestionsContainerHeight())},h.prototype.updateDialogBox=function(t){t.isVisible?this._host.setFocusInWebView("updateDialogBox"):this._host.setFocusInSearchBox(null,"updateDialogBox: hidden");this.renderReactView("dialogBox",n.View.WindowsDialogBox,{dataModel:t})},h.prototype.updateTopHitHeaderView=function(t){this.renderReactView("topHitHeader",n.View.TopHitHeader,{dataModel:t})},h.prototype.updateScopesHeaderView=function(t){this.renderReactView("scopesHeader",n.View.ScopesHeader,{dataModel:t})},h.prototype.updatePreviewErrorMessageView=function(t){this.renderReactView("previewErrorMessageContainer",n.View.PreviewErrorMessageContainer,{dataModel:t})},h.prototype.updatePreviewContainerView=function(t){t?this._previewContainer.classList.add("localPreviewContainer"):this._previewContainer.classList.remove("localPreviewContainer");this.renderReactView("previewContainer",n.View.WindowsPreviewContainer,{dataModel:t,expanderClickInstrumentation:this._expanderClickInstrumentation,chevronDownIcon:{content:"&#xE70D",type:2},cortanaInfoIcon:{content:"&#xE946",type:2}})},h.prototype.updateMsbPreviewContainerView=function(n){var i=this,t;this._previewContainer.innerHTML="";t=sj_ce("div","b_bfb");this._previewContainer.appendChild(t);t.addEventListener("click",function(n){var t=i.findBfbAnchor(n.target);t&&t.href&&(n.preventDefault(),i._host.launchUri(t.href))});n.suggestion?this._previewContainer.classList.add("localPreviewContainer","msbPreviewContainer"):this._previewContainer.classList.remove("localPreviewContainer","msbPreviewContainer")},h.prototype.findBfbAnchor=function(n){return n?n.tagName==="a"||n.tagName==="A"?n:this.findBfbAnchor(n.parentElement):undefined},h.prototype.updateMenuView=function(t){this.renderReactView("menuContainer",n.View.WindowsMenu,{dataModel:t})},h.prototype.updateSnipSearchMessageView=function(t){this.renderReactView("messageContainer",n.View.SnipSearchMessage,{dataModel:t})},h.prototype.setProgressIndicatorVisibility=function(n){this._progressBarVisible!=n&&(this._progressBar||(this._progressBar=_ge("b_progress")),t.setVisibility(this._progressBar,n),this._progressBarVisible=n)},h.prototype.setPreviewPaneVisibility=function(n){this._previewPaneVisible!=n&&(n||this.closeSidePanel(1),t.setVisibility(this._previewPane,n),n&&this.openSidePanel(1),this._previewPaneVisible=n)},h.prototype.toggleDebugWindowVisibility=function(){return this.setDebugWindowVisibility(!this._debugWindowVisible),this._debugWindowVisible},h.prototype.setDebugWindowVisibility=function(n){t.setVisibility(this._debugWindow,n);t.RuntimeConfig.AlwaysWide?this.setConditionalCss("debugWindowOpen",n):n?this.openSidePanel(2):this.closeSidePanel(2);this._debugWindowVisible=n},h.prototype.applyAccentColor=function(){var i=this._host.getAccentColor(),o,e,f,t;this._lastAccentColor!=i&&(e="accent-style",f=_ge(e),f||(f=_d.createElement("style"),f.setAttribute("id",e),f.type="text/css",o=!0),t=".icon svg { fill: {0} }",t+=".gridLayout .suggestion.sa_hv, .gridLayout .suggestion.sa_hv:hover { border-color: {1}; }",t+=".toggleSwitch input:checked + label::before { background-color: {0}; border-color: {0}; }",n.isHighContrastEnabled()||(t+=".accentColor, .accentColor:visited { color: {0}; }",t+=".sa_hv, .sa_hv.selectable:active, .sa_hv.selectable:hover, .sa_hv .openPreviewPaneBtn:active, #root.zeroInput19H1 .selectable.sa_hv, #root.zeroInput19H1 .selectable.sa_hv:hover { background-color: {1}; }",t+=".sa_hv.suggestion:hover { background-color: {3}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .openPreviewPaneBtn:hover { background-color: {2}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .suggDetailsContainer:hover { background-color: {2}; }",t+="#footer { background-color: {8}; }",t+="#footer:hover { background-color: {9}; }",t+="#footer:active { background-color: {10}; }",t+=":not(.groupContainer).topHitConnectedToGroup:not(.sa_hv):not(.previewPaneOpened) { background: {2}; }",t+="#root:not(.wideByDefault) .selectedScope { background-color: {3}; }",t+="#root:not(.wideByDefault) .selectedScope:hover { background-color: {4}; }",t+="#root:not(.wideByDefault) .selectedScope:active { background-color: {5}; }",t+="#root.wideByDefault .selectedScope { border-color: {0}; }",t+="#startMenu .icon { background-color: {5}; }",t+=".accentButtonBackground { background-color: {6}; }",t+=".accentButtonBackground:focus { background-color: {1}; }",t+=".scopeOptions input[type='button'], .topOptions input[type='button'] { background-color: {12}; border-color: {12} }",t+=".scopeOptions input[type='button']:hover, .topOptions input[type='button']:hover { border-color: {3} }",t+=".expanderContainer.selectedExpander .expanderInnerCircle, .expanderContainer:hover .expanderInnerCircle { background-color: {1}; border-color: {11} }",t+="#previewContainer .expanderContainer.selectedExpander .divider, #previewContainer .expanderContainer:hover .divider { border-color: {1} }",t+=".zeroInput19H1 .secondaryText.selectable { color: {12} }",t+=".zeroInput19H1.darkTheme19H1 .secondaryText.selectable { color: {13} }",t+=".zeroInput19H1 .santorini .sa_hv.selectable, .santorini .sa_hv.selectable  { background-color: {14}; }",t+=".radial { stroke: {0} }"),f.innerHTML=n.formatString(t,[i,r(i,.3),r(i,.1),r(i,.4),r(i,.6),r(i,.7),r(i,.15),s(i,35),u(i,.65),u(i,.8),u(i,.9),r(i,0),this._host.getAccentColor(1),this._host.getAccentColor(-2),r(i,.2),]),o&&_d.head.appendChild(f),this._lastAccentColor=i)},h}(n.BasePage);t.Page=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t=54e5,i=function(){function i(i,r){var u=this;this._host=i;this._appCacheInstrumentationHelper=r;this._isReloadSuppressed=!1;this._pendingReload=!1;r.registerSuperFresh();i.hasFallbackHappened()&&(this._isReloadSuppressed=!0,this._lastReloadAfterFallback=n.getCurrentTime());i.bindAppHidden(function(){(u._isReloadSuppressed=u._lastReloadAfterFallback&&n.getCurrentTime()-u._lastReloadAfterFallback<t,u._isReloadSuppressed)||(!u._pendingReload&&n.config.reloadAfterConversations&&i.getPaneCloseCount()>=n.config.reloadAfterConversations&&(u._pendingReload=!0),u._pendingReload&&(u.logReloadAttempt(),u.reload()))});sj_be(applicationCache,"updateready",function(){return u.onUpdateReady()});i.bindConversationStart(function(){u._isReloadSuppressed=!0;u.shouldCheckForUpdate()&&n.contains([1,4,5],applicationCache.status)&&n.safeExecute(function(){return applicationCache.update()},"probe for manifest update")})}return i.prototype.shouldCheckForUpdate=function(){if(!n.isBingEnabled())return!1;return n.config.th&&ClientTestHooks.isTesthookParamSet("disableAppCache")?!1:!0},i.prototype.onUpdateReady=function(){this.logReloadAttempt();this._isReloadSuppressed?this._pendingReload=!0:this.reload()},i.prototype.reload=function(){this._host.reloadWebView()},i.prototype.logReloadAttempt=function(){this._appCacheInstrumentationHelper.instrumentSuperFreshUpdate(this._isReloadSuppressed)},i}();n.SuperFreshAppCache=i}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i,r;(function(t){function u(t,i,r,u,f,e,o,s){var c,l=function(n){c&&f.unregister(c);o&&o==n.number||SharedLogHelper.LogError(t,e,s||n);u&&u(n)},h,a;try{h=i();h?(f&&h.cancel&&(c=f.register(function(){return h.cancel()},!1,t+" cancellation")),a=function(i){c&&f.unregister(c);r&&n.safeExecute(function(){return r(i)},t+" completion")},h.done?h.done(a,l):h.then(a,l)):l(new Error("No promise returned"))}catch(v){l(v)}}function r(t,i,r,u){i.completed=!0;i.result=r;i.pendingCallbacks.forEach(function(t){return n.safeExecute(function(){return t(r)},u)});i.pendingCallbacks=null}function f(){i={}}function e(){var n=[];for(var t in i)i[t].completed||n.push(t);n.forEach(function(n){return delete i[n]})}function o(u,f,e,o,s,h,c,l){return function(a,v){var p=e(a),y=i[p],w;y||(y={started:!1,completed:!1,result:null,pendingCallbacks:[]},i[p]=y);y.completed?v(y.result):(y.pendingCallbacks.push(v),y.started||(y.started=!0,w=function(){t.safeChain(u,function(){return f(a)},function(n){h&&!h(n)&&delete i[p];r(p,y,o?o(n):n,u)},function(t){n.isCancellation(t)?r(p,y,null,u):l?(l-=1,w()):r(p,y,s,u)},null,c)},w()))}}t.safeChain=u;var i={};t.clearGlobalCache=f;t.clearPendingItemsFromCache=e;t.safeChainWithGlobalCaching=o})(i=t.Promise||(t.Promise={})),function(n){function t(n,t,i){for(var u,f,e={},r=0,o=n;r<o.length;r++)u=o[r],f=t[u],f&&(e[u]=i(f));return e}function i(n){for(var t in n)if(n[t])return!1;return!0}n.map=t;n.isEmpty=i}(r=t.Map||(t.Map={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var r="show",i=10,u=function(){function u(i,r,u,f,e){var o=this;this._host=i;this._page=r;this._instHelper=u;this._showIcons=f;this.adjustHeight=e;this._root=_ge("root");this._menuStack=[];this._menuContainer=_ge("menuContainer");this._itemClickHandler=function(t,i){i.button==0&&t.click&&t.click(n.getCurrentTime(),n.getInputType(i))};this._itemEnterHandler=function(t){t.isSelectable&&!t.isExpanded&&(t.subItems&&(o._hoverTimer&&sb_ct(o._hoverTimer),o._hoverTimer=n.safeSetTimeout(function(){o._hoverTimer=0;var n=_ge(t.id);t&&!t.isExpanded&&n&&n.matches(":hover")&&o.showSubMenu(t)},500,"menu item mouse enter")),o.stickParent(t))};this._itemLeaveHandler=function(t){t.isExpanded&&!t.isSticky&&n.safeSetTimeout(function(){var n=_ge(t.id);t&&!t.isSticky&&n&&!n.matches(":hover")&&(t.subItems.some(function(n){return n==o._selectedItem})&&o.select(null,!1),o.dismissSubMenu(t))},450,"menu item mouse leave")};sj_be(_d.body,"mouseup",function(n){o._menuContainer.contains(n.target)||o.dismiss()});t.config.th||sj_be(_w,"blur",function(){return o.dismiss()});sj_evt.bind("ajax.threshold.pageStart",function(){return o.dismiss()});i.bindKeyEscape(function(n){o.isMenuVisible()&&(n.handled=!0,o._menuStack.length>0?o.reselectParentItem():o.dismiss(!0))})}return u.prototype.showSubMenu=function(n){if(!n.isExpanded){this._selectedItem&&this.select(null,!1);var i=_ge(n.id),r=i.querySelector(".contextMenu");n.isExpanded=!0;t.setVisibility(r,!0);this.adjustSubMenuPosition(i,r);this._menuStack.push(n);this._page.updateMenuView(this.getDataModel())}},u.prototype.dismissSubMenu=function(n){var u,f,i,e,r;if(this._selectedItem&&this.select(null,!1),n){if(i=this._menuStack.indexOf(n),i<0)return;for(e=this._menuStack.slice(i),r=0;r<e.length;++r)this.dismissSubMenu()}else n=this._menuStack.pop(),u=_ge(n.id),f=u.querySelector(".contextMenu"),n.isExpanded=!1,n.isSticky=!1,t.setVisibility(f,!1);this._page.updateMenuView(this.getDataModel())},u.prototype.showMenu=function(i,u){var f=this,o,c,e,s,l,h;if(this._menuItems.length){for(t.setVisibility(this._menuContainer,!0),o=this.getDataModel(),this._page.updateMenuView(o),c=function(n){n.getIcon&&n.getIcon(1,function(t){n.icon=t;f._page.updateMenuView(f.getDataModel())})},e=0,s=this._menuItems;e<s.length;e++)l=s[e],c(l);h="renderContextMenu";n.safeSetTimeout(function(){f.adjustPosition(i,u,o.menuType!=0);f._menuContainer.classList.add(r);var n=_qs("#menuContainer > .contextMenu");n.focus();n.scrollTop=0;f._host.setFocusInWebView(h)},0,h)}},u.prototype.innerShowContextMenu=function(n,t,i,r,u){this.dismiss();var f=this.getContextMenuItems(n,r);f&&f.length>0&&(this._menuItems=f,this._onDismiss=u,this._menuType=0,t-=this._root.offsetLeft,i-=this._root.offsetTop,this.showMenu(t,i))},u.prototype.showDropdownMenu=function(n,i,r,u){if(this.dismiss(),this._parentElement=i,n&&n.length>0){this._menuItems=n;this._onDismiss=u;this._menuType=r;var f=i.offsetLeft,e=i.offsetTop+i.offsetHeight+1;t.isRtl()&&(f+=i.offsetWidth);this.showMenu(f,e)}},u.prototype.showContextMenuOnElement=function(n,t,i,r){var u=t.getBoundingClientRect(),f=u.left+t.offsetWidth/2,e=u.top+this._page.getScrollTop()+t.offsetHeight/2;this.showContextMenuOnXY(n,f,e,i,r)},u.prototype.showContextMenuOnXY=function(i,r,u,f,e){var o=this,s,h;this._parentElement=null;e&&(s=i.childSuggestions.filter(function(n){return n.text===e.text}),s&&s.length&&(i=s[0]));h=t.getVerbsAsync("showContextMenu",i,t.config.rawVerbs,!1,function(e){return n.safeSetTimeout(function(){return o.innerShowContextMenu(t.extendVerbs(e,i,o._page,o._host),r,u,function(n,t,r,u){o._instHelper.instrumentItemClickForContextMenu(t,i.instItem,i.sequenceNumber,i.instrumentPingBack,r,u,n)},f)},0,"showContextMenu handler")},function(){return!0});e||h||(this._page.hideTemporaryMessage(),this._host.setFocusInSearchBox(null,"noContextMenu"))},u.prototype.getSelectableItems=function(){var n,t;return this._menuItems?(n=[],this._menuStack.length>0?(t=this._menuStack[this._menuStack.length-1],n=t.subItems):n=this._menuItems,n.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(n){return n.isSelectable})):[]},u.prototype.getSelectableItemsByGroup=function(){return[]},u.prototype.getSelectedItem=function(){return this._selectedItem},u.prototype.getDataModel=function(){return{items:this._menuItems,showIcons:this._showIcons,clickHandler:this._itemClickHandler,menuType:this._menuType,enterHandler:this._itemEnterHandler,leaveHandler:this._itemLeaveHandler,expandIcon:this.getExpandIcon()}},u.prototype.getExpandIcon=function(){return{content:t.isRtl()?"&#xE76B":"&#xE76C",type:2}},u.prototype.select=function(n){var t;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.blur(),this._selectedItem.selected=!1);this._selectedItem=n;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.focus(),this._selectedItem.selected=!0);n&&this.stickParent(n);this._page.updateMenuView(this.getDataModel())},u.prototype.stickParent=function(n){var u=this.getParent(n),f,t,r,i;for(u&&(u.isSticky=!0),f=this.getSiblings(n),t=0,r=f;t<r.length;t++)i=r[t],i.isSticky&&(i.isSticky=!1,this._itemLeaveHandler(i,null))},u.prototype.isItemInMenuOrMenuGroup=function(n,t){return t.some(function(t){return t==n||t.groupItems&&t.groupItems.indexOf(n)>=0})},u.prototype.getParent=function(n){for(var r,t=0,i=this._menuStack;t<i.length;t++)if(r=i[t],this.isItemInMenuOrMenuGroup(n,r.subItems))return r;if(this.isItemInMenuOrMenuGroup(n,this._menuItems))return null;throw new Error("Item: '"+n.id+"' was not found");},u.prototype.getSiblings=function(n,t){t===void 0&&(t=!1);var i=this.getParent(n),r=i?i.subItems:this._menuItems;return r.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(i){return i.isSelectable&&(t||i!=n)})},u.prototype.selectSubItem=function(n,t){this.showSubMenu(n);this.select(t,!1)},u.prototype.reselectParentItem=function(){var n=this._menuStack[this._menuStack.length-1];this.dismissSubMenu();this.select(n,!1)},u.prototype.onAfterKeyDown=function(i,r,u,f){var e,s,o;if((u||f)&&!n.isUpOrDownKey(i))return!1;if(i=t.getRtlAdjustedKey(i),i==39||i==13){if(e=this._selectedItem,e&&e.subItems&&e.subItems[0]&&(s=e.subItems.filter(function(n){return n.isSelectable})[0],s))return this.selectSubItem(e,s),!0}else if(i==37){if(this._menuStack.length>0)return this.reselectParentItem(),!0}else if(n.isUpOrDownKey(i)&&this._selectedItem)return o=this._menuStack.length==0?_qs(".contextMenu"):_ge(this._menuStack[this._menuStack.length-1].id).querySelector(".contextMenu"),o&&this._page.scrollToElement(_ge(this._selectedItem.id),o,o.offsetHeight),!0;return i==13},u.prototype.isMenuVisible=function(){return!!this._menuItems},u.prototype.dismiss=function(n){if(this._menuItems&&(this._menuItems=null,this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null),this._page.updateMenuView(this.getDataModel()),this._menuContainer.classList.remove(r),this._menuContainer.style.width=null,t.setVisibility(this._menuContainer,!1),t.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight="",this.adjustHeight()),this._menuStack=[]),n&&this._parentElement&&this._parentElement.focus(),this._parentElement=null,this._onDismiss){var i=this._onDismiss;this._onDismiss=null;i()}},u.prototype.adjustSubMenuPosition=function(n,r){var h,y,d,o;if(this._menuItems){var f=this._menuContainer,p=f.offsetWidth,w=r.offsetHeight,s=r.offsetWidth,b=0,e=window.getComputedStyle(r).paddingTop;e.endsWith("px")&&(e=e.substr(0,e.length-2),b=+e+1);var l=0,k=_qs("#menuContainer .contextMenu").scrollTop,a=t.isRtl(),v=6;for(h=0,y=this._menuStack;h<y.length;h++)d=y[h],o=_ge(d.id).querySelector(".contextMenu"),v=+o.style.zIndex,l+=o.offsetLeft,k+=o.scrollTop,a=o.offsetLeft<0;++v;var u=f.offsetLeft+l+n.offsetLeft,c=f.offsetTop+n.offsetTop-k-b,g=this._root.offsetWidth-(u+p),nt=u,tt=s<g,it=s<nt;(a||!tt)&&it?u-=s:a&&it||!tt?u=nt>g?i:this._root.offsetWidth-s-i:u+=p-2;c+w>this._root.offsetHeight&&(c=Math.max(this._root.offsetHeight-w,this._root.offsetTop));u-=f.offsetLeft+l;c-=f.offsetTop;r.style.left=u+"px";r.style.top=c+"px";r.style.zIndex=v.toString()}},u.prototype.adjustPosition=function(n,r,u){var e,s;if(this._menuItems){var o=this._menuContainer,f=o.offsetWidth,h=o.offsetHeight;f>this._root.offsetWidth&&(f=this._root.offsetWidth,o.style.width=f+"px");e=n;s=r;t.isRtl()?(e-=f,e<0&&(e=u?i:n)):e+f>this._root.offsetWidth&&(e=u?this._root.offsetWidth-f-i:Math.max(n-f,this._root.offsetLeft));!u&&s+h>this._root.offsetHeight&&(s=Math.max(this._root.offsetHeight-h,this._root.offsetTop));o.style.left=e+"px";o.style.top=s+"px";t.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight=s+h+"px",this.adjustHeight())}},u.prototype.getContextMenuItems=function(i,r){var u=this;return i.map(function(i){var f={id:encodeURIComponent(i.verb),text:i.displayName,isSeparator:!i.verb,selected:!1,isDefault:i.isDefault,icon:i.icon,getIcon:i.getIcon,click:undefined,title:undefined,cssClass:undefined,isSelectable:!!i.verb};return f.isSeparator||(f.click=function(f,e){r(i.verb,f,e,null);i.executeSync?(n.safeExecute(function(){return i.executeSync()},"verb.executeSync",null,i.verb),u.dismiss()):t.Promise.safeChain("verb.executeAsync",function(){return i.executeAsync()},function(){return u.dismiss()},null,null,i.verb)}),f})},u}();t.MenuFactory=u})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t="ConnectedAccounts",i=function(){function i(t){this._storage=t;this._accountsCache={};n.config.th&&ClientTestHooks.isTesthookParamSet("clearSSOCache")&&this.clear();this.init()}return i.prototype.setToken=function(n,t){this.setTokenInfo(t,n);this.writeToLocalStorage()},i.prototype.findAccount=function(n,t){var i=this._accountsCache[n];return i&&!this.isExpired(i.LastUpdated,t,i.ExpireDateTime)?i:null},i.prototype.clear=function(){this._accountsCache={};this.writeToLocalStorage()},i.prototype.init=function(){this._accountsCache={};var i=this._storage.getItem(t);i&&(this._accountsCache=n.safeExecute(function(){return JSON.parse(i)},"parseConnectedAccountString",{}))},i.prototype.writeToLocalStorage=function(){this._storage.setItem(t,JSON.stringify(this._accountsCache))},i.prototype.isExpired=function(t,i,r){var f,u,e,o;return i===undefined?!1:n.config.th&&(f=ClientTestHooks.isTesthookParamSet("forceTokenRefresh"),f)?!0:(u=n.getCurrentTime(),r&&u>r)?!0:(e=6e4,o=Math.floor((u-t)/e),o>=i)},i.prototype.setTokenInfo=function(t,i){var r=this._accountsCache[t],u=n.getCurrentTime();r={Token:i.Token,LastUpdated:u,ExpireDateTime:i.ExpireDateTime,TenantName:i.TenantName,RoutingHint:i.RoutingHint,UserName:i.UserName};this._accountsCache[t]=r},i}();n.TokenStore=i}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,r="SelectedAuthAccountId",u=60,f=function(){function f(n,t){var r=this;this._storage=n;this._tokenStore=t;this._pendingCallbacks={};this._availableMsaAccounts=[];this._availableAadAccounts=[];this._accessTokenAvailableHandlers=[];this._accountTypeChangedHandlers=[];this._selectedAccountChangedHandlers=[];i.addEventListener("experiencelaunched",function(){i.experienceId=="NotebookOffline"&&r._tokenStore.clear()})}return f.prototype.authTypeMatchesWindowsAccountType=function(n){return t.windowsAccountType==4||(n==0?t.windowsAccountType==2:t.windowsAccountType==1)},f.prototype.setWindowsAccountType=function(n,i){var r=t.windowsAccountType;t.windowsAccountType=n;i&&t.windowsAccountType!=r&&this.fireAccountTypeChanged()},f.prototype.clearCachedAccountInfo=function(){this._cachedAAD=null;this._cachedMSA=null},f.prototype.getAllSyncingAccounts=function(n,t,r,u,f,e){var a=i.fileExplorerSuggestionPage.registeredSyncRootInfo,h=[],v,s,c,l,o;for(v in a)o=a[v],typeof o=="string"&&o.includes("@")&&h.push(o);for(h.length==0&&f([]),s={responses:0,accounts:[]},c=0,l=h;c<l.length;c++)o=l[c],this.getAccountByUserName(n,t,o,r,u,function(n){++s.responses;n&&n.Token&&s.accounts.push(n);s.responses==h.length&&f(s.accounts)},e)},f.prototype.getAllAvailableAccounts=function(n){return n==0?this._availableMsaAccounts.slice(0):this._availableAadAccounts.slice(0)},f.prototype.getCachedAccountInfo=function(n){if(!this.authTypeMatchesWindowsAccountType(n))return null;switch(n){case 1:return this._cachedAAD;case 0:return this._cachedMSA;default:return null}},f.prototype.getSelectedAccountInfo=function(){if(t.windowsAccountType==2&&this._cachedMSA)return this._cachedMSA;if(t.windowsAccountType==1&&this._cachedAAD)return this._cachedAAD;var u=this._storage.getItem(r),n,i=this._availableAadAccounts.concat(this._availableMsaAccounts);return i.length>0&&(u&&(n=i.filter(function(n){return n.accountId==u})[0]),n||(n=i.filter(function(n){return n.isDefaultAccount})[0]),n||(n=i[0]),n&&this.setSelectedAccount(n)),n},f.prototype.setSelectedAccount=function(n){if(this.cacheAccount(n),t.windowsAccountType!=4){var i=n.accountProviderAuthority=="consumers"?2:1;this.setWindowsAccountType(i,!0)}this._storage.setItem(r,n.accountId);this.fireSelectedAccountChangedHandlers(n)},f.prototype.isMsaAvailable=function(){return this._availableMsaAccounts.length>0},f.prototype.isAadAvailable=function(){return this._availableAadAccounts.length>0},f.prototype.cacheAccount=function(n){n.accountProviderAuthority=="consumers"?this._cachedMSA=n:this._cachedAAD=n},f.prototype.cacheAllAccounts=function(n){var t,r,i;for(this._availableMsaAccounts=[],this._availableAadAccounts=[],t=0,r=n;t<r.length;t++)i=r[t],i.accountProviderAuthority=="consumers"?this._availableMsaAccounts.push(i):this._availableAadAccounts.push(i)},f.prototype.getAccountByUserName=function(n,i,r,u,f,e,o){var s,h=i==0?this._availableMsaAccounts:this._availableAadAccounts,c;h.length>0&&(s=h.find(function(n){return n.accountUserName.toLocaleLowerCase()==r.toLocaleLowerCase()}));s?(c=n?t.getSubstrateResourceOrScope(i):t.getBingResourceOrScope(i),this.getAccount(i,c,u,f,e,o,s)):e(null)},f.prototype.getAccount=function(n,t,i,r,u,f,e){var s=this,h,o;if(!t)throw new Error("Resource or Scope has to be set");if(h=function(n){var t=s._pendingCallbacks[o];s._pendingCallbacks[o]=null;t.forEach(function(t){return t(n)})},!this.authTypeMatchesWindowsAccountType(n)){u(null);return}if(e||(e=this.getCachedAccountInfo(n)),o=t+i+r+f+(e?e.accountId:""),this._pendingCallbacks[o]){this._pendingCallbacks[o].push(u);return}this._pendingCallbacks[o]=[u];this.authenticate(n,t,i,r,f,h,e)},f.prototype.authenticate=function(r,f,e,o,s,h,c){var y=this,k=e?0:u,v=f+s+(c?c.accountId:""),p=this._tokenStore.findAccount(v,k),d=t.config.th&&ClientTestHooks.isTesthookParamSet("noAuthCache"),l,a,w,b;o&&p&&!d?h(p):(l=function(){return h(null)},n.isBrowserOnline()?(a=i.authenticationManager.createAuthenticateRequest(),a.accountType=s,a.silentMode=o,r==1?a.resource=f:a.scope=f,w=c&&i.authenticationManager.authenticateSearchWebAccountAsync,b=w?function(){return i.authenticationManager.authenticateSearchWebAccountAsync(a,c)}:function(){return i.authenticationManager.authenticateAsync(a)},t.Promise.safeChain("authenticateAsyncWAM",b,function(i){var u,e,s;if(t.config.th&&(f=="https://substrate.office.com"||f=="https://substrate.office.com/SubstrateSearch-Internal.ReadWrite"))if(o){if(ClientTestHooks.isTesthookParamSet("ssoAuthFail")){l();return}}else if(ClientTestHooks.isTesthookParamSet("uxAuthFail")){l();return}if(!i){n.log("WAM returned null");l();return}if(i.token){if(u=i.properties,e=u.UPN||i.userName,!e){n.log("WAM didn't return UPN");l();return}s={Token:i.token,ExpireDateTime:u.exp?parseInt(u.exp)*1e3-3e5:null,TenantName:u.tenant_display_name||"",RoutingHint:e,UserName:e};r==0&&(s.ExpireDateTime=n.getCurrentTime()+36e5);y._tokenStore.setToken(s,v);h(y._tokenStore.findAccount(v))}else i.errorCode||i.errorMessage?n.log("WAM error "+i.errorCode+": "+i.errorMessage):n.log("WAM returned an empty token"),l()},l)):l())},f.prototype.bindAccessTokenAvailable=function(n){this._accessTokenAvailableHandlers.push(n)},f.prototype.bindAccountTypesChanged=function(n){this._accountTypeChangedHandlers.push(n)},f.prototype.bindSelectedAccountChanged=function(n){this._selectedAccountChangedHandlers.push(n)},f.prototype.fireAccountTypeChanged=function(){this._accountTypeChangedHandlers.forEach(function(n){return n()})},f.prototype.fireSelectedAccountChangedHandlers=function(n){this._selectedAccountChangedHandlers.forEach(function(t){return t(n)})},f.prototype.tryConnect=function(i,r,u){var f=this,e=i==1?t.isSubstrateO365AccountConnected:t.isSubstrateOutlookAccountConnected;e||this.getAccount(i,t.getSubstrateResourceOrScope(i),!1,!0,function(r){var e=!!r,o;i==1?t.isSubstrateO365AccountConnected=e:t.isSubstrateOutlookAccountConnected=e;e&&u()&&(o=i.toString(),f._accessTokenAvailableHandlers.forEach(function(t){return n.safeExecute(function(){return t(i)},"accessTokenAvailable",null,o)}))},t.getAuthAccountForCloudContent(),r)},f.prototype.updateWindowsAccountType=function(n){for(var o,i,s,r=!1,u=!1,f=0,e=n;f<e.length;f++)o=e[f],o.accountProviderAuthority=="consumers"?r=t.isCloudSearchEnabledMsaCache:u=t.isCloudSearchEnabledAadCache;i=3;t.config.userProfileButtonEnabled?(s=this.getSelectedAccountInfo(),i=s.accountProviderAuthority=="consumers"?2:1):r&&u?i=4:u?i=1:r&&(i=2);this.setWindowsAccountType(i,!0)},f.prototype.setCortanaAccountType=function(){(t.windowsAccountType==4||t.windowsAccountType==2)&&(t.cortanaAccountType=2)},f.prototype.connectAccounts=function(n,i){var u,f,r;for(t.isSubstrateO365AccountConnected=!1,t.isSubstrateOutlookAccountConnected=!1,u=0,f=n;u<f.length;u++)r=f[u],r.accountProviderAuthority=="consumers"&&t.isCloudSearchEnabledMsaCache?this.tryConnect(0,r,i):r.accountProviderAuthority=="organizations"&&t.isCloudSearchEnabledAadCache&&this.tryConnect(1,r,i)},f.prototype.enumerateAccountAuthority=function(n,r){var u=this;t.config.wamSupported&&t.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return i.authenticationManager.enumerateAccountAuthorityAsync()},function(i){var e,o,f;if(t.windowsAccountType==0){e=3;switch(i.Windows){case"consumers":e=2;break;case"organizations":e=1}u.setWindowsAccountType(e,!0);t.windowsAccountType!=3&&(f=t.accountTypeToAuthType(t.windowsAccountType),u.getAccount(f,t.getBingResourceOrScope(f),!1,!0,function(n){return t.windowsIdentity=n&&n.UserName?n.UserName:""},"Windows"))}n()&&(t.cortanaAccountType=i.Cortana=="organizations"?1:i.Cortana=="consumers"?2:3);t.isCloudSearchEnabledCache&&t.substrateProvidersEnabled()&&(o=t.getAccountTypeForCloudContent(),o==1?u.tryConnect(1,null,n):o==2&&u.tryConnect(0,null,n));t.windowsAccountType==t.cortanaAccountType&&t.windowsAccountType!=3&&(f=t.accountTypeToAuthType(t.cortanaAccountType),u.getAccount(f,t.getBingResourceOrScope(f),!1,!0,function(n){return t.cortanaIdentity=n&&n.UserName?n.UserName:""},"Cortana"));r()})},f.prototype.enumerateMultiAccountAuthority=function(n,r){var u=this;if(t.config.wamSupported){if(!i.authenticationManager.getAllSearchWebAccountsAsync){this.enumerateAccountAuthority(n,r);return}this.clearCachedAccountInfo();this.setWindowsAccountType(3,!1);t.Promise.safeChain("getAllSearchWebAccountsAsync",function(){return i.authenticationManager.getAllSearchWebAccountsAsync()},function(i){var f,o,s,c,v,l,h,a,e;if(u.cacheAllAccounts(i),f=[],u._availableMsaAccounts.length>0&&(o=Math.max(u._availableMsaAccounts.findIndex(function(n){return n.isDefaultAccount}),0),f.push(u._availableMsaAccounts[o])),u._availableAadAccounts.length>0&&(o=Math.max(u._availableAadAccounts.findIndex(function(n){return n.isDefaultAccount}),0),f.push(u._availableAadAccounts[o])),!t.config.userProfileButtonEnabled)for(s=0,c=f;s<c.length;s++)e=c[s],u.cacheAccount(e);if(v=t.windowsAccountType,u.updateWindowsAccountType(f),t.windowsAccountType!=v)for(l=function(n,i){u.getAccount(n,t.getBingResourceOrScope(n),!1,!0,function(n){return t.windowsIdentity=n&&n.UserName?n.UserName:""},"Windows",i)},h=0,a=f;h<a.length;h++)e=a[h],e.accountProviderAuthority=="consumers"&&t.isCloudSearchEnabledMsaCache?l(0,e):e.accountProviderAuthority=="organizations"&&t.isCloudSearchEnabledAadCache&&l(1,e);n()&&u.setCortanaAccountType();t.isCloudSearchEnabledCache&&t.substrateProvidersEnabled()&&u.connectAccounts(f,n);r()})}},f.prototype.promptAutheticateDialog=function(i,r,u,f){var e=this,o=function(r){var o=!!r;i==1?t.isSubstrateO365AccountConnected=o:t.isSubstrateOutlookAccountConnected=o;o?(u(),e._accessTokenAvailableHandlers.forEach(function(t){return n.safeExecute(function(){return t(i)},"promptAccessTokenAvailable",null,i.toString())})):f()};this.getAccount(i,r,!1,!1,o,t.getAuthAccountForCloudContent())},f}();t.AccessTokenManager=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function y(t){t.bindAppHidden(function(){SearchAppWrapper.CortanaApp.isBingEnabled&&n.isBrowserOnline()&&n.safeExecute(function(){return ft("asgw",["fp.msedge.net/conf/v1/asgw/fpconfig.min.json"],2e3)},"AFDFootprint.start",null,null)})}function ft(n,t,i){var o;if(n&&n.trim().length!==0&&Number(i)===i&&i%1==0&&!(i<0)){var r=c,h=ut,y=v(),p=e(),s="MonitorID="+n+"&rid="+p+"&w3c="+y+"&prot="+window.location.protocol+"&v="+h+"&DATA=";if(u)a(r,s,i);else{for(o in t)t[o]=r+t[o];f(t,0,l,r,s,i)}}}function a(n,t,i){var o=et(u,n),s,f,r,e,h;if(o.length!==0){for(s=ot(o,n,b),f=[],r=0,e=u.r;r<e.length;r++)h=e[r],f.push(n+h+"?"+t);ct(s,d,i,f)}}function f(n,i,r,e,o,s){var l=r!==rt?0:1,h=n[i],v=SearchAppWrapper.CortanaApp.createStringMap(),c=SearchAppWrapper.CortanaApp.createStringMap();c["Content-Type"]="application/json";t.Promise.safeChain("fetchAFDUrl",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(l,h,v,"",c)},function(c){c.statusCode===200&&e!=null&&o!=null&&s!=null&&t.Promise.safeChain("readAFDResponse",function(){return c.readAsStringAsync()},function(n){u=JSON.parse(n);a(e,o,s)},function(){++i<n.length&&f(n,i,r,e,o,s)},null,h)},function(){++i<n.length&&f(n,i,r,e,o,s)},null,h,null,"makeHttpRequestAsync failed")}function et(n,t){var e=[],l,a,i,v,y,u,s,b;if(!n||!n.e)return e;var k=t.toLowerCase()===w?h:o,d=n.e,f=[],c=0;for(l=0,a=d;l<a.length;l++)i=a[l],i.w>0&&(o<=i.m&&i.m<=p&&i.m&k||i.m===r)&&(c+=i.w,f.push({endpoint:i.e,cumWeight:c,weight:i.w,measurementType:i.m}));for(v=Math.min(n.n,f.length);e.length<v;){y=Math.floor(Math.random()*c);u=null;for(s in f)u==null?y<f[s].cumWeight&&(u=f[s],delete f[s]):f[s].cumWeight-=u.weight;c-=u.weight;b=u.measurementType&r?nt:g;e.push({id:u.endpoint,testImage:b,measurementType:u.measurementType})}return e.sort(function(n,t){return n.measurementType-t.measurementType}),e}function ot(n,t,i){for(var f,p,d,a=[],v=0,w=n;v<w.length;v++){var y=w[v],l=y.measurementType,b=y.testImage,u=y.id,s=t+u;u.indexOf(".")===-1?s+=".clo.footprintdns.com":u.charAt(0)==="*"&&(f=u.substring(2),p=e(),s=t+p+"."+f,u=f==="clo.footprintdns.com"||f==="nrb.footprintdns.com"||f==="azr.footprintdns.com"?p:f);s+=k;var g=s+i+"?"+e(),nt=l===r?t===c?o:h:l,tt=l!==r;a.push({url:g,requestID:u,object:i,conn:"cold",measurementType:nt,report:tt});d=s+b+"?"+e();a.push({url:d,requestID:u,object:b,conn:"warm",measurementType:l,report:!0})}return a}function st(n,t){for(var r=[],i=0;i<t.length;i++)if(t[i].report){var f=n[i],u=t[i].measurementType,e=ht(f,u);r.push({RequestID:t[i].requestID,Object:t[i].object,Conn:t[i].conn,Result:e,T:u})}return JSON.stringify(r)}function ht(n,t){if(n===s)return n;if(t===r&&n>0){var i=tt/(n/it);return Math.round(i)}return Math.round(n)}function e(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+n()+n()+n()+n()+n()+n()}function v(){return window.performance&&window.performance.getEntriesByName?!0:!1}function ct(n,t,i,r){function c(i){var k,p,g,w,nt,d,b,tt;if(u!=null&&clearTimeout(u),o[i]=h!=null?(new Date).getTime()-h:s,i=(a+y)%n.length,e=new Image,a++<n.length)h=(new Date).getTime(),e.onload=function(){c(i)},k=function(){e.onload=null;e.onerror=null;h=null;c(i)},u=setTimeout(function(){k()},t),e.onerror=function(){u!=null&&clearTimeout(u);u=null;k()},e.src=n[i].url;else if(r!=null&&r.length!==0){if(v())for(p=0;p<n.length;p++)g=n[p].url,w=window.performance.getEntriesByName(g),o[p]!==s&&w&&w[0]&&(o[p]=w[0].duration);for(nt=st(o,n),d=[],b=0;b<r.length;b++)tt=r[b]+nt,d.push(tt);f(d,0,l,null,null,null)}}var h=null,u=null,o=[],a=0,e,y=0;setTimeout(function(){c(0)},i)}i.init=y;var u,o=1,h=2,p=3,r=8,w="http://",c="https://",b="trans.gif",k="/apc/",d=5e3,g="trans.gif",nt="100k.gif",tt=822.128,it=1e3,l="GET",rt="POST",s=-1,ut="20180228"})(i=t.AFDFootprint||(t.AFDFootprint={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));1
1;1;1;var AutoSuggest;(function(n){var t;(function(n){var t=/[0-9a-zA-Z]/,i=/\s+/g,r=function(){function r(n,t){var i=this;this._accessTokenManager=t;n.bindAccessTokenAvailable(function(n){i.getProfilePictureToken(n,function(){})})}return r.prototype.getProfilePictureToken=function(t,i){this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(n){return i(n?n.Token:null)},n.getAuthAccountForCloudContent())},r.prototype.getProfilePictureIconInternal=function(t,i,r,u){return n.Promise.safeChainWithGlobalCaching("getProfilePictureIcon",function(){return ThresholdUtilities.createPromise(function(u){return t(function(t){var f,e,o;if(!t){u(null);return}f=SearchAppWrapper.CortanaApp.createStringMap();e=SearchAppWrapper.CortanaApp.createStringMap();f.Authorization="Bearer "+t;i==0&&(f["X-AnchorMailbox"]=r);o=i==1?"https://substrate.office.com/api/v2.0/Users('"+r+"')/photo/$value":"https://substrate.office.com/profile/v0/users/"+r+"/image/$value";n.Promise.safeChain("getProfilePictureIcon",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(0,o,f,"",e)},function(t){if(t.statusCode!==200){u(null);return}n.Promise.safeChain("getProfilePictureIcon",function(){return t.readAsStreamAsync()},u,function(){return u(null)})},function(){return u(null)})})})},function(){return r+"_icon"},function(t){var i=n.toIcon(t,"getProfilePictureIcon",u);return i&&(i.className="peopleIcon"),i},u)},r.prototype.getProfilePictureIconForToken=function(n,t,i,r){return this.getProfilePictureIconInternal(function(n){return n(t)},n,i,r)},r.prototype.getProfilePictureIcon=function(n,t,i){var r=this;return this.getProfilePictureIconInternal(function(t){return r.getProfilePictureToken(n,t)},n,t,i)},r.prototype.getPersonDefaultIcon=function(n){var r,u=n.trim().replace(i," ").split(" ",2),f,e;return u.length>0&&(f=u[0][0],t.test(f)&&(r=f),u.length==2&&(e=u[1][0],r&&t.test(e)?r+=e:r="")),{type:r?5:2,content:r?r.toUpperCase():"&#xE77B",className:"peopleIcon"}},r}();n.SubstrateProfilePictureProvider=r})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));var AutoSuggest;(function(n){var t;(function(t){var i="pp_",r=100,u=200,f=function(){function f(t,i,r){var u=this;this._page=t;this._host=i;this._sections=[];this._selectedItemIndex=-1;this._scrollArea=_ge("qfPreviewScrollArea");this._itemClickEventHandler=function(t,i){var r=document.getSelection();r.toString()&&r.focusNode==i.target||t.click(n.getCurrentTime(),n.getInputType(i))};this._contextMenuHandler=function(t,i,f){i&&(i.pageX||i.pageY)?n.safeExecute(function(){return r.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return u.focus(!1)},f)},"contextMenuHandler"):n.safeExecute(function(){return r.showContextMenuOnElement(t,f?_ge(f.id):_ge(t.id),function(){return u.focus(!1)},f)},"contextMenuHandler")};i.bindSearchBoxGotFocus(function(){u.blur()});i.bindKeyDown(function(n){u.hasFocus()&&(n==36||n==35)&&u.selectFirstOrLastItem(n==36)})}return f.prototype.init=function(t){var i=this;this._previewPaneViewModelParent=t;this._suggestionClickEventHandler=function(t,r){var u=n.getCurrentTime(),f=n.getInputType(r);i._previewPaneViewModelParent.onBeforeItemLaunch(u,f,4,null);t.click(u,f);i._previewPaneViewModelParent.onAfterItemLaunch(4)}},f.prototype.finalizeKeystroke=function(){this.instrumentOnPreviewPaneRendered(!1,!0)},f.prototype.instrumentOnPreviewPaneRendered=function(n,t){if(this._timestampFirstRender&&this._onPreviewPaneRendered){var i={firstRenderTS:this._timestampFirstRender,layout:this.getLayoutDataForPPRenderedInstrumentation()};this._onPreviewPaneRendered(t,!n,i)}},f.prototype.update=function(t,i,r,u,f,e){var o=this,h,s;f&&!e&&(this.instrumentOnPreviewPaneRendered(!1,!0),this._onPreviewPaneRendered=f,this._timestampFirstRender=null,this._settingsOnlineModules=[],this._settingsOnlineModulesRetrieved=!1);this._previewPaneId=u;this._previewedSuggestion=t;this._sections=[];this._hasPreviewIconBeenSet=!1;this._haveActionsBeenFetched=!1;this._sectionRetrieved_jumplist=!1;this._sectionRetrieved_settingsFaq=!1;this._sectionRetrieved_settingsRelatedSettings=!1;this._allSectionsRetrieved=function(){return o._sectionRetrieved_jumplist&&o._sectionRetrieved_settingsFaq&&o._sectionRetrieved_settingsRelatedSettings};h=e&&this.hasFocus();s=function(t){o._previewPaneViewModelParent.onResponseReceived(n.getCurrentTime());t?o.delayedRender():o.render();(o._previewPaneViewModelParent.focusPending||h)&&(o._previewPaneViewModelParent.focusPending=!1,o.focus(!1))};t&&this.updateSelection(t,i,function(){return u==o._previewPaneId&&t==o._previewedSuggestion},function(){return s(!1)},function(){return s(!0)})},f.prototype.setPreviewIcon=function(i,r,f,e,o){var s=this,h=typeof ClientTestHooks!="undefined"&&ClientTestHooks&&ClientTestHooks.isTesthookParamSet("isTest"),c=h&&ClientTestHooks.isTesthookParamSet("DisablePreviewGetIcon"),l;c||(l=t.config.largePhotoIcon&&i.type=="LI"?5:4,i.getIcon(l,function(n){s._hasPreviewIconBeenSet=!0;i.previewIcon=n;t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)})}));(c||!h)&&n.safeSetTimeout(function(){s._hasPreviewIconBeenSet||(s._hasPreviewIconBeenSet=!0,i.previewIcon=t.ScopeConfig[t.getScope(t.getGroupType(i))].icon,t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)}))},u,"setPreviewIcon")},f.prototype.updateSelection=function(n,t,i,r,u){n.getIcon?this.setPreviewIcon(n,t,i,r,u):(n.icon&&(n.previewIcon={content:n.icon.content,type:n.icon.type,bgColor:n.icon.bgColor,needsAccentColor:!0,ratio:n.icon.ratio,className:n.icon.className}),this.getActions(t,r,u,i))},f.prototype.hasFocus=function(){return!!this._selectedItem},f.prototype.focus=function(n){var t=this.getSelectableItems(),i,r;t.length>0?(i=n?0:this._selectedItemIndex!=-1?this._selectedItemIndex:0,r=t[i],this.select(r,!1),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView("localPP focus")):this._previewPaneViewModelParent.focusPending=!0},f.prototype.readyToBlur=function(){return!0},f.prototype.blur=function(){this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null,this.render())},f.prototype.clear=function(){this._selectedItem=null;this._selectedItemIndex=-1;this._previewedSuggestion=null;this._onPreviewPaneRendered=null;this._sections=[];this._settingsOnlineModules=[];this._settingsOnlineModulesRetrieved=!1;sb_ct(this._renderTimer);this._hasPreviewIconBeenSet=!1;this._renderTimer=null;this.render()},f.prototype.getSelectableItems=function(){return[].concat.apply([],this.getSelectableItemsByGroup())},f.prototype.getSelectableItemsByGroup=function(){for(var n,t,f,s,r,e,h,i=[],u=0,o=this._sections;u<o.length;u++)n=o[u],t=[],t=t.concat(n.items),f=n.collapsedItems.length>0,f&&(s=_ge(n.collapsedItems[0].id).classList,s.contains("collapsedItem")||(t=t.concat(n.collapsedItems))),i.push(t),f&&i.push([n.expander]);for(r=0,e=this._settingsOnlineModules;r<e.length;r++)h=e[r],i.push(h.settingLinks);return i},f.prototype.getSelectedItem=function(){return this._selectedItem},f.prototype.select=function(n,t){var r,i;if(t){SharedLogHelper.LogError("selectPreviewPaneItem",null,new Error("Can't update search box value when selecting preview pane item"));return}this._selectedItem==n&&this._selectedItem.selected||(this._selectedItem&&(this._selectedItem.selected=!1),n&&(r=this.getSelectableItems().findIndex(function(t){return t==n}),r<0?SharedLogHelper.LogError("LocalPreviewPane.Select",null,new Error("select called on unknown item")):(n.selected=!0,this._selectedItem=n,this._selectedItemIndex=r,this.render(),i=_ge(n.id),i&&(i.focus(),this._page.scrollToElement(i,this._scrollArea,this._scrollArea.offsetHeight)))))},f.prototype.onAfterKeyDown=function(t,i){return n.isContextMenuKey(t,i.shiftKey)?(this._contextMenuHandler(this._previewedSuggestion,null,this._selectedItem),!0):!1},f.prototype.selectFirstOrLastItem=function(n){var t=this.getSelectableItems(),i;t.length!=0&&(i=n?0:t.length-1,this.select(t[i],!1))},f.prototype.getDataModel=function(){if(this._previewedSuggestion){var n=this._previewedSuggestion.uninstallationInProgress?{messageText:this._host.getLocString("UninstallationInProgress",HitHighlightingParser.removeMarkers(this._previewedSuggestion.text))}:null;return{suggestion:this._previewedSuggestion,sections:this._sections,suggestionClickHandler:this._suggestionClickEventHandler,itemClickHandler:this._itemClickEventHandler,contextMenuClickHandler:this._contextMenuHandler,settingsOnlineModules:this._settingsOnlineModules,messageDataModel:n}}return null},f.prototype.render=function(){this._page.updatePreviewContainerView(this.getDataModel());this._previewedSuggestion&&(this._timestampFirstRender||(this._timestampFirstRender=n.getCurrentTime()),this.instrumentIfAllSectionsRetrieved())},f.prototype.instrumentIfAllSectionsRetrieved=function(){this._previewedSuggestion&&this._allSectionsRetrieved()&&this.instrumentOnPreviewPaneRendered(!0,!1)},f.prototype.delayedRender=function(){var t=this;this._renderTimer||(this._renderTimer=n.safeSetTimeout(function(){t.render();t._renderTimer=null},r,"delayedRender"))},f.prototype.getActions=function(i,r,u,f){var o=this,e;if(f()){if(this._haveActionsBeenFetched){r();return}this._haveActionsBeenFetched=!0;e=this._previewedSuggestion;this.addToSection(this.createSyntheticAction(e),null,this._host.getLocString("ActionsSection"));t.config.settingsOnlineModuleEnabled&&t.isSetting(e.type)&&e.deviceItem&&!this._settingsOnlineModulesRetrieved?n.fetchUrlJson(this.getRelatedSearchUrl(e.deviceItem.id,t.uiLanguageCache),null,null,function(n){return o.createSettingOnlineModules(n,f)}):(this._sectionRetrieved_settingsFaq=!0,this._sectionRetrieved_settingsRelatedSettings=!0);t.getVerbsAsync("PreviewPaneExtraActions",e,t.config.rawVerbs,!0,function(n){return o.processVerbs(n,i,r,u,f)},f)}},f.prototype.processVerbs=function(n,i,r,u,f){var k=this,w,l,h,v,b,y,c,p,e;if(f()){w=this._host.getLocString("ActionsSection");l=this._previewedSuggestion;n=t.extendVerbs(n,l,this._page,this._host,function(){return k.render()});var s=-1,o=-1,a=0;for(h=0,v=n;h<v.length;h++)e=v[h],e.verb==="copy"&&(s=a),e.verb==="S_CopyFullPath"&&(o=a),a++;for(s!=-1&&o!=-1&&(e=n[o],s<o?(n.splice(o,1),n.splice(s+1,0,e)):(n.splice(s+1,0,e),n.splice(o,1))),b=function(n){if(n.verb){var t=y.createAction(n);n.getIcon&&n.getIcon(1,function(n){t.icon=n;u()});y.addToSection(t,null,w)}},y=this,c=0,p=n;c<p.length;c++)e=p[c],b(e);this.processChildSuggestions(l,i,function(){f()&&u()});this._sectionRetrieved_jumplist=!0;r()}},f.prototype.createSyntheticAction=function(i){var r=i.type=="CS",e=r?t.JumplistActionItemType.S_Install:t.JumplistActionItemType.S_Open,u="",f;return u=r?i.primaryMetadata:i.type=="PPL"&&t.windowsAccountType!=2?this._host.getLocString("OpenContact"):i.previewPaneType==1?this._host.getLocString("OpenInBrowser"):this._host.getLocString("Open"),f={verb:t.JumplistActionItemType[e],displayName:u,icon:{type:2,content:r?"&#xEA96":"&#xE8A7"},executeSync:function(){return i.click(n.getCurrentTime(),0)}},this.createAction(f,t.GroupType.JumpListSynthetic)},f.prototype.createAction=function(r,u){var f=this,e=t.JumplistActionItemType[r.verb],o={ppId:this._previewPaneId,st:u||t.GroupType.JumpListActions,vbt:e||undefined,vbr:e?undefined:r.verb};return{id:i+r.verb,text:r.displayName,click:function(i,u){var e=5;f._previewPaneViewModelParent.onBeforeItemLaunch(i,u,e,o);if(r.executeSync){n.safeExecute(function(){return r.executeSync()},"verb.executeSync",null,r.verb);f._previewPaneViewModelParent.onAfterItemLaunch(e)}else t.Promise.safeChain("verb.executeAsync",function(){return r.executeAsync()},function(){return f._previewPaneViewModelParent.onAfterItemLaunch(e)},null,null,r.verb)},icon:r.icon,selected:!1,narratorText:r.displayName,instData:o}},f.prototype.createAnnotation=function(t,i){var r=t?unescape(t.replace("file:///","")):"",u=r.indexOf("?"),f,e,o;return u!=-1&&(r=r.substr(0,u)),n.isHttpProtocol(r)||(f=r.toLocaleLowerCase(),e="https:",f.includes(e)?(u=f.indexOf(e),r=r.substr(u,r.length)):(o=/\//gi,r=r.replace(o,"\\")),r=r.replace("\\"+i,"")),r},f.prototype.processChildSuggestions=function(n,r,u){var o=this,e;if(n.previewPaneType!=1||t.RuntimeConfig.MiniSERPMode!=0){if(n.calculateChildSuggestions&&n.calculateChildSuggestions(),n.childSuggestions){var s=1,h=function(e){var h=n.childSuggestions[e],l=h.groupType==t.GroupType.JumpListTasks,a={ppId:f._previewPaneId,st:h.groupType},c={id:i+n.id+"_"+e,text:HitHighlightingParser.removeMarkers(h.text),click:function(n,t){var i=l?5:6;o._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,a);h.click(n,t);o._previewPaneViewModelParent.onAfterItemLaunch(i)},icon:h.icon,selected:!1,narratorText:h.narratorText,annotationClass:"annotation",isJumpListTaskItem:!!l,instData:a},v=void 0,y=void 0;if(!l){var w=h,b=w.jumpListItem,p=t.getGroupTitleAndNarratorText(r,f._host,h.groupType,h,null);c.tooltip=h.tooltip;v=p.title;y=p.narratorText;t.config.doubleLinePreviewJumpList?(c.annotation=f.createAnnotation(b.path,c.text),c.annotationClass+=" lastAccessedText"):c.annotation=h.additionalInfoText}h.getIcon&&h.getIcon(1,function(n){c.icon=n;t.populateImageRatio(c.icon,h.type,function(){return u()})});f.addToSection(c,v,y,l?s++:null)},f=this;for(e=0;e<n.childSuggestions.length;e++)h(e)}t.config.itemsBeforeExpander&&this.processItemsForExpander()}},f.prototype.addToSection=function(n,t,i,r){var u=this._sections.find(function(n){return(n.title||"")==(t||"")});u?typeof r=="number"?u.items.splice(r,0,n):u.items.push(n):(u={title:t,narratorText:i,items:[n],collapsedItems:[],expander:null},this._sections.push(u))},f.prototype.processItemsForExpander=function(){var n;if(this._sections.length!=0){var r=function(n,t,i){n.pi=t;i&&(n.c=1)},i=this._sections.length,u=1,f=function(n){var f=e._sections[n],o=f.items,c,l,h,a,s,v;if(n==0){for(c=!1,l=!1,h=0;h<o.length;++h)if(a=o[h],a.instData.st==t.GroupType.JumpListTasks){l=!0;break}else a.instData.st==t.GroupType.JumpListActions&&(c=!0);f.sectionType=l?t.GroupType.JumpListTasks:c?t.GroupType.JumpListActions:t.GroupType.JumpListSynthetic}else f.sectionType=f.items[0].instData.st;if(n==0)for(s=0;s<o.length;s++)s!=0&&!o[s].isJumpListTaskItem&&(i!=1||o[1].isJumpListTaskItem)&&(f.collapsedItems=o.splice(s),f.expander={id:"expander"+u++,selected:!1,text:null});else i!==n+1&&o.length>t.config.itemsBeforeExpander+1&&(f.collapsedItems=o.splice(t.config.itemsBeforeExpander),f.expander={id:"expander"+u++,selected:!1,text:null});v=0;f.items.forEach(function(n){return r(n.instData,v++,!1)});f.collapsedItems.forEach(function(n){return r(n.instData,v++,!0)})},e=this;for(n=0;n<i;n++)f(n)}},f.prototype.getLayoutDataForPPRenderedInstrumentation=function(){var t={sectionTypes:[],sectionLengths:[]},i,u,r,f,n;if(this._sections)for(i=0,u=this._sections;i<u.length;i++)n=u[i],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.items.length+n.collapsedItems.length);if(this._settingsOnlineModules)for(r=0,f=this._settingsOnlineModules;r<f.length;r++)n=f[r],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.settingLinks.length);return t.sectionTypes.length>0?t:undefined},f.prototype.onAnyOptionClick=function(n){this.select(n,!1);this.hasFocus||this.focus(!1)},f.prototype.getRelatedSearchUrl=function(t,i){return"/PPRelatedSearch?query="+n.encodeQueryParameter(t)+"&lang="+n.encodeQueryParameter(i)},f.prototype.createSettingOnlineModules=function(n,t){t()&&(this._settingsOnlineModulesRetrieved=!0,this.createSettingFaqModule(n),this.createSettingRelatedSettingsModuleAsync(n,t))},f.prototype.createSettingFaqModule=function(n){var u=this,o=this._host.getLocString("SettingsFAQModuleHeader"),i=n&&n.SettingPageQnAs,r,e;if(i&&i.length>0){var f=[],s=function(n){var r=i[n],e,o;r.Query&&r.BingIALink&&(e={ppId:h._previewPaneId,st:t.GroupType.JumpListSettingsFaq,pi:n},o={id:"faq"+n,narratorText:r.Query,selected:!1,text:r.Query,click:function(n,t){var i=9;u._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,e,0);u._host.launchUri(r.BingIALink);u._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:e},f.push(o))},h=this;for(r=0;r<i.length;++r)s(r);f.length>0&&(e={header:o,settingLinks:f,sectionType:t.GroupType.JumpListSettingsFaq},this._settingsOnlineModules.push(e),this.render())}this._sectionRetrieved_settingsFaq=!0;this.instrumentIfAllSectionsRetrieved()},f.prototype.createSettingRelatedSettingsModuleAsync=function(n,i){var r=this,f=this._host.getLocString("RelatedSettingsModuleHeader"),u=n&&n.SettingPageRelatedSettingsIds;u&&u.length>0?t.LocalDataProvider.getSettings(u,function(n){var e,s,o,h;if(i()){for(e=[],s=function(i){var s=u[i],f=n[s],o,h;f&&(o={ppId:r._previewPaneId,st:t.GroupType.JumpListSettingsRelatedSettings,pi:i},h={id:s,narratorText:f.deviceItem.displayName,selected:!1,text:f.deviceItem.displayName,click:function(n,t){var i=9;r._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,o);r._host.launchDeviceItem(f.deviceItem,"THST");r._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:o},e.push(h))},o=0;o<u.length;++o)s(o);e.length>0&&(h={header:f,settingLinks:e,sectionType:t.GroupType.JumpListSettingsRelatedSettings},r._settingsOnlineModules.push(h),r.render());r._sectionRetrieved_settingsRelatedSettings=!0;r.instrumentIfAllSectionsRetrieved()}}):(this._sectionRetrieved_settingsRelatedSettings=!0,this.instrumentIfAllSectionsRetrieved())},f}();t.WSBLocalPreviewPaneViewModel=f})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));1;1;1;1;1;
var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),AutoSuggest;(function(n){var t;(function(t){function ki(n,t){var r=[],u,f;if(t)if(n)r=t.slice();else{u=function(n){var i=t.find(function(t){return t.verb&&t.verb.toLocaleLowerCase()==n.toLocaleLowerCase()});i&&r.push(i)};for(f in i)u(f)}return r}function di(n){return n?n.filter(function(n){return!n.verb||n.verb.toLowerCase()!="open"}):[]}function e(n,i,r,u,f,e){e()&&(n=n.slice(),i.getExtraVerbsAsync?t.Promise.safeChain("getExtraVerbsAsync",function(){return i.getExtraVerbsAsync(u)},function(t){return h(d(n,t,!0),i,u,f,e)},function(){return h(n,i,u,f,e)},null,r):h(n,i,u,f,e))}function h(n,t,i,r,u){if(u()){var f=t.getExtraVerbs?d(n,t.getExtraVerbs(i),!1):n;f[0]==y&&f.shift();r(f)}}function gi(n,r,u,f,e){return n.map(function(n){var o,s,h,c;if(n.verb){switch(n.verb.toLocaleLowerCase()){case lt:o="PinnedToStart";break;case b:o="PinnedToTaskbar";break;case at:o="UnpinnedFromStart";break;case k:o="UnpinnedFromTaskbar";break;case ct:s="UninstallConfirmation";o="UninstallationInProgress"}return h=function(i){i();t.RuntimeConfig.AlwaysWide&&o=="UninstallationInProgress"?(r.uninstallationInProgress=!0,e&&e()):o?u.showTemporaryMessage(f.getLocString(o,HitHighlightingParser.removeMarkers(r.text))):u.hideTemporaryMessage();n.verb.toLocaleLowerCase()==b&&f.addItemToPinnedToTaskbar(r.deviceItem.id);n.verb.toLocaleLowerCase()==k&&f.removeItemFromPinnedToTaskbar(r.deviceItem.id)},c=n.icon||i[n.verb.toLocaleLowerCase()],new t.DeviceItemVerbWrapper(n,c,function(i){s&&t.DialogBox?t.DialogBox.show(f.getLocString(s),[{id:null,text:n.displayName,action:function(){return h(i)},selected:!1},{id:null,text:f.getLocString("Cancel"),selected:!0}]):h(i)})}return n})}function vt(n,i,r,u,f,o){if(t.isJumpListSuggestion(i))return t.Promise.safeChain("jumpListItem.getVerbsAsync",function(){return i.jumpListItem.getVerbsAsync()},function(n){return e(di(n),i,s,u,f,o)},function(){return e([],i,s,u,f,o)},null,n+" "+i.type),!0;var s=n+" "+i.type,c=t.getItemWithFileMetadata(i);return c&&c.canHaveContextMenu?(t.Promise.safeChain("getVerbsAsync",function(){return c.getVerbsAsync()},function(n){return e(ki(r,n),i,s,u,f,o)},function(){return e([],i,s,u,f,o)},null,s),!0):i.getExtraVerbsAsync?(e([],i,s,u,f,o),!0):i.getExtraVerbs?(h([],i,u,f,o),!0):(u&&f([]),!1)}function o(n,i,r){if(i==t.GroupType.EdgeHistory&&!r)return!1;var u=HitHighlightingParser.removeMarkers(n.text),f=u?u.length:0;return n.additionalInfoText&&!r&&(f+=n.additionalInfoText.length),f>(r?wi:bi)}function yt(n){for(var i,r={topResults:n.topResults.slice(0),groups:[]},t=0,u=n.groups;t<u.length;t++)i=u[t],r.groups.push({typeWithSource:i.typeWithSource,suggestions:i.suggestions.slice(0)});return r}function pt(n,i){if(n.isHtmlAnswer)return fi;if(n.grid)return(i?t.IconSize_GridLayout:t.IconSize_GridLayout_Medium)+2*u;var r=n.numberOfLines==3?ui:n.numberOfLines==2?ri:ii;return n.mainTextWrapsToTwoLines&&(r+=ut),r<rt&&(r=rt),r}function nr(n,i){if(i&&t.uses3lineTemplate(t.getScope(i.type)))return pt({mainTextWrapsToTwoLines:!1,numberOfLines:3,isHtmlAnswer:!1,isSuppressed:n.isSuppressed,grid:!1},!1);if(n.isSuppressed)return 0;var r=ni;return n.hasTwoLines?r+=l+2:n.mainTextWrapsToTwoLines&&(r+=ut),r}function tr(n,i){var r=it;if(i.typeWithSource&&t.displayedInGridLayout(i.typeWithSource.type)){var u=t.isL2(n),f=Math.ceil(i.suggestions.length/(u?st:ht)),e=u?ft:et;r+=e*f;r+=2*a}else i.suggestions.forEach(function(n){return r+=nr(n,i.typeWithSource)});return r}function ir(n){switch(n){case 0:return"CP";case 7:return"DI";case 1:return"PP";case 2:return"PD";case 4:return"SP";case 5:return"TP";case 6:return"SD"}return undefined}function d(n,t,i){if(n.length>0&&t.length>0){var r=i?n.concat(y):n;return r.concat(t)}return n.length>0?n:t.length>0?i?[y].concat(t):t:[]}function r(n,i){return n.find(function(n){return t.sameGroup(n.typeWithSource,i)})}function wt(n,i){return n.find(function(n){return t.sameGroup(n.group.typeWithSource,i)})}function bt(n,t){return n.queryToFetch.substring(0,t.queryToFetch.lastIndexOf("\\"))}function kt(n){switch(n){case t.GroupType.TopApps:case t.GroupType.People:return!0}return!1}function rr(n,i,r){if(!n.isSearchHomeZI||n.scope==t.Scope.All)return null;if(n.scope==t.Scope.Web){if(r==t.GroupType.Websites)return i.getLocString("RecentWebsiteSection");if(r==t.GroupType.SearchSuggestions)return i.getLocString("RecentWebSearchSection")}return kt(r)?i.getLocString("FrequentSection"):i.getLocString("RecentSection")}function dt(n,i,r,u,f){var h,o,e,s,c;if(r==t.GroupType.PathCompletion)return h=bt(n,n)+"\\"+String.fromCharCode(8206),{title:h,narratorText:h};if(u&&(o=u.groupDisplayName,o))return{title:o,narratorText:f?i.getLocString("AddingScopeNarratorText",o):o};if(e=rr(n,i,r),!e)switch(r){case t.GroupType.Command:e=i.getLocString("CommandGroup");break;case t.GroupType.Cortana:e=t.config.useCortanaGroupString?i.getLocString("CortanaGroup"):i.getLocString("CortanaArchivedMessageGroup");break;case t.GroupType.Store:e=i.getLocString("StoreGroup");break;case t.GroupType.PowerBi:e="Power BI";break;case t.GroupType.EdgeHistory:e=i.getLocString("EdgeHistoryGroup");break;case t.GroupType.LocalPlaces:e=i.getLocString("LocalPlacesGroup");break;case t.GroupType.Related:e=i.getLocString("RelatedSuggestionsGroup");break;case t.GroupType.SearchSuggestions:e=t.getWebSuggestionsGroupHeader(i);break;case t.GroupType.Websites:e=t.getWebsitesGroupHeader(i);break;case t.GroupType.Contact:e=i.getLocString("ContactGroup");break;case t.GroupType.StartMenu:e="Start menu";break;case t.GroupType.LocalSearchHistory:e="Search history";break;case t.GroupType.ActivityFeedSuggestions:e=i.getLocString("RecentActivitiesSection");break;case t.GroupType.TopApps:e=i.getLocString("TopAppsSection");break;case t.GroupType.QuickSearch:e=t.config.quickAnswer?i.getLocString("QuickSearchSuggestionsSection"):i.getLocString("LastSearchSection");break;case t.GroupType.LockscreenQuickSearch:e=i.getLocString("LockscreenQuickSearchSection")}if(!e){if(s=t.getScope(r),s==t.Scope.All)throw new Error("Unknown group type: "+r);t.config.newFilesScope2&&r==t.GroupType.Documents&&(s=t.Scope.AllFiles);c=t.ScopeConfig[s];e=t.getScopeDisplayName(c,i)}return{title:e,narratorText:f?i.getLocString("AddingScopeNarratorText",e.toLocaleLowerCase()):e}}var g=4,nt=6,c=8,u=12,tt=1,f=20,l=16,ni=f+2*c,it=16+2*c,ti=it,rt=60,ii=f+2*u,ri=f+l+g+2*u,ui=f+2*(l+g)+2*u,fi=80+2*u,ei=c,ut=f,oi=48,a=1,ft=t.IconSize_GridLayout+2*(nt+tt),et=t.IconSize_GridLayout_Medium+2*(nt+tt),si=24,hi=12,ci=140,li=156,ai=8,vi=4,yi=6,pi=2,ot=200,st=3,ht=4,wi=39,bi=42,v=SearchAppWrapper.CortanaApp,y={},p="runas",w="tabletmode_opennewwindow",ct="tile.uninstall",lt="startpin",b="taskbarpin",at="startunpin",k="taskbarunpin",s={id:"SearchBox",selected:!1,text:"SearchBox"},i={},gt;i[p]={content:"&#xE7EF",type:1};i.runasuser={content:"&#xE7EE",type:1};i.openinbrowser={content:"&#xE774",type:1};i.openfilelocation={content:"&#xE838",type:2};i.opencontaining={content:"&#xE838",type:2};i[w]={content:"&#xE8A7",type:2};i[at]={content:"&#xE77A",type:1};i[k]={content:"&#xE77A",type:1};i[lt]={content:"&#xE718",type:2};i[b]={content:"&#xE718",type:2};i.settings={content:"&#xE713",type:2};i.manage={content:"&#xE912",type:1};i.review={content:"&#xE728",type:2};i.share={content:"&#xE72D",type:1};i.connectnetworkdrive={content:"&#xE8CE",type:1};i.disconnectnetworkdrive={content:"&#xE8CD",type:1};i.uninstall={content:"&#xE74D",type:2};i[ct]={content:"&#xE74D",type:2};i.itemproperties={content:"&#xF106",type:2};t.config.extraActions&&(i.copy={content:"&#xE8C8",type:1},i.print={content:"&#xE749",type:1},i.edit={content:"&#xE70F",type:2},i.shelledit={content:"&#xE70F",type:2},i["3d edit"]={content:"&#xE70F",type:2},i.properties={content:"&#xE946",type:2});t.extendVerbs=gi;t.getVerbsAsync=vt;t.wrapsToTwoLines=o;t.joinVerbs=d;t.getGroupTitleAndNarratorText=dt;gt=function(i){function u(r,u,f,e,o,s,h,c,l){var a=i.call(this,r,f,e,s)||this;return a._host=r,a._autoComplete=u,a._navigationHelper=o,a._headerFooterViewModel=h,a._previewPane=c,a._menuFactory=l,a._pendingSubmitSequenceNumber=-1,a._pendingSubmitModifierKeys=null,a._pendingSubmitTimeStamp=null,a._resultsCounter={topResults:[],groups:[]},a._pendingSuggestionsInExistingGroups=[],a._pendingSuggestionsInMissingGroups=[],s.setSuggestionClickHandler(a.doubleClickGuardedHandler(function(t,i){n.safeExecute(function(){return a.click(n.getCurrentTime(),t,n.getInputType(i),null)},"suggestionClickHandler")})),s.setContextMenuHandler(function(t,i){n.safeExecute(function(){return a._menuFactory.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return a._host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")}),s.setOpenPreviewPaneClickHandler(function(t,i){n.safeExecute(function(){return a.openPreviewPane(t,i)},"openPreviewPaneClickHandler")}),s.setExpanderClickInstrumentation(function(n,t,i){var r="Expander"+(i?"Opened":"Closed"),u={st:t,K:n.instItem.getLayoutKValue()};a._instrumentationHelper.logClientInstEvent("Select",r,null,u)}),a._previewPane&&(a._previewPane.init(a),a._previewPane.bindBeforeItemLaunch(function(n,t,i,r,u,f){return a._instrumentationHelper.instrumentItemClickForPreviewPane(n,t.instItem,t.sequenceNumber,t.instrumentPingBack,i,null,r,u,f)}),a._previewPane.bindAfterItemLaunch(function(n,t,i){return a.onSuggestionLaunch(n,t,i)})),r.bindShown(function(){!t.isMobileCache&&v.queryFormulationView.deviceSearch.getSearchServiceStatusAsync&&t.Promise.safeChain("getSearchServiceStatusAsync",function(){return v.queryFormulationView.deviceSearch.getSearchServiceStatusAsync()},function(n){a._instrumentationHelper.setSearchServiceStatus(ir(n));n!=0&&n!=4&&n!=3&&n!=7&&a.showIndexingMessage(!1)})}),s.bindOnNarratorLaunch(function(t){for(var i,f=n.getCurrentTime(),e=a.getSelectableItems(),r=0,u=e;r<u.length;r++)if(i=u[r],i.id==t){a.isSuggestionOrGroup(i)?(a.select(i,!1),a.submit(f,!1,i.sequenceNumber,null,!0)):a._headerFooterViewModel.isScopeElement(i)&&_ge(i.id).click();break}}),r.bindSearchBoxGotFocus(function(){a._menuFactory.dismiss();var t=n.getCurrentActiveElement();t&&t.blur();a._selectedItem&&!a._headerFooterViewModel.isScopeElement(a._selectedItem)&&a.renderSelectedSuggestionState(!1)}),r.bindSearchBoxLostFocus(function(){var i=t.isScopeTile(n.getCurrentActiveElement());i?n.safeSetTimeout(function(){a._host.searchBoxHasFocus()||a._headerFooterViewModel.isScopeElement(a._selectedItem)||a.renderSelectedSuggestionState(!0)},75,"RootViewModel.bindSearchBoxLostFocus"):a.renderSelectedSuggestionState(!0)}),sj_evt.bind("CortanaPaneWidthSet",function(n){return a.onPaneWidthSet(n[1])}),sj_be(_ge("qfContainer"),"scroll",function(){return a._menuFactory.dismiss()}),a}return __extends(u,i),u.prototype.onDismiss=function(){i.prototype.onDismiss.call(this);this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this.toggleProgressBar(!1);this._menuFactory.dismiss();this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable&&this._previewPane.dismiss();this._page.hideTemporaryMessage();this.hideIndexingMessage();t.DialogBox&&t.DialogBox.hide();this._headerFooterViewModel.render(null,!1,!1,!1,!0);t.config.glyphInSearchBox&&this._host.setSearchBoxGlyphIcon()},u.prototype.onPaneWidthSet=function(n){ht=Math.floor((n-2*a)/et);st=Math.floor((n-2*a)/ft)},u.prototype.setSelectedStyleSuspended=function(n,t){n.selectedStyleSuspended=t&&this._host.isRequestFocusAvailable()},u.prototype.renderSelectedSuggestionState=function(n){this._selectedItem&&(this.setSelectedStyleSuspended(this._selectedItem,n),this.renderSelection(this._selectedItem))},u.prototype.toggleProgressBar=function(i){var r=this;t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),i?(this._partialQuery.showProgressBar||this._partialQuery.queryToFetch=="")&&(this._progressTimer=n.safeSetTimeout(function(){r._progressTimer&&(r._page.setProgressIndicatorVisibility(!0),r._progressTimer=null)},250,"showProgress")):t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),this._page.setProgressIndicatorVisibility(!1)))},u.prototype.resetPendingSubmitSequenceNumber=function(){this._pendingSubmitSequenceNumber=null;this._pendingSubmitModifierKeys=null;this._pendingSubmitTimeStamp=null},u.prototype.onAfterKeyDown=function(i,r,u,f){var a,o,v,y,c,l,s,p;if(!this._partialQuery||!this._menuFactory.isMenuVisible()&&i==13)return!1;var h=r&&r.shiftKey,e=this._previewPane&&this._previewPane.hasFocus();if(this._page.hideTemporaryMessage(),this.resetPendingSubmitSequenceNumber(),!u&&n.isContextMenuKey(i,h)&&!e)return this.tryShowContextMenuOnSelectedSuggestion(),!0;if(this._menuFactory.isMenuVisible()){if(i==37||i==39||i==13||n.isUpOrDownKey(i)){if(a=this._menuFactory.onAfterKeyDown(i,r,u,f),a)return!0;if(n.isUpOrDownKey(i))return!1}this._menuFactory.dismiss(!0)}if(o=n.getCurrentActiveElement(),!t.isScopeTile(o)||e||this._menuFactory.isMenuVisible()||i!=39&&i!=37)if(i==9)t.config.allowTabToSelectSuggestions||h||!this._selectedItem||e||this._headerFooterViewModel.isScopeElement(this._selectedItem)?f||this.handleCrossViewModelsTabKeyNavigation(o,h):this.select(this._headerFooterViewModel.getSelectableItems()[0],!1);else{if(t.DialogBox&&t.DialogBox.isVisible())return!0;if(t.RuntimeConfig.PreviewPaneAvailable&&this._previewPane&&this._selectedItem&&!this._headerFooterViewModel.isScopeElement(this._selectedItem)){this._previewPane.onAfterKeyDownWhenNewSelection(i,this._partialQuery,this._selectedItem);if(e)return!0}}else v=t.getRtlAdjustedKey(i),this._headerFooterViewModel.focusNextScopeTile(o,v==39),y=this._headerFooterViewModel.getSelectableItems(),this.select(y[0],!1);return e=this._previewPane&&this._previewPane.hasFocus(),this._selectedItem&&(n.isUpOrDownKey(i)||i==9)&&!e&&(c=this._headerFooterViewModel.isScopeElement(this._selectedItem),c||this._selectedItem==this.topResults[0]?this._page.scrollToTop():this._page.scrollTo(this._selectedItem),l="rvm onAfterKeyDown-AdjustFocus",c||this.isAdvancedOption(this._selectedItem)?(this.isAdvancedOption(this._selectedItem)?_ge(this._selectedItem.id).querySelector("input").focus():_ge(this._selectedItem.id).focus(),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView(l)):i!=9&&this._host.searchBoxHasFocus()||this._host.setFocusInSearchBox(i,l)),t.config.forceTypedQueryOnTopSupported&&i==46&&this._partialQuery&&this._selectedItem&&this._selectedItem===this.topResults[0]&&this.topResults[0].query.toLocaleLowerCase()!=this._partialQuery.queryToFetch.toLocaleLowerCase()&&(s=this._host.getQuery(),s.originalQuery==this._partialQuery.originalQuery&&(p=s.originalCursorPosition==s.originalQuery.length,p&&this._host.reformulate(this._partialQuery.originalQuery,null,1))),!1},u.prototype.handleCrossViewModelsTabKeyNavigation=function(i,r){var v=this,y=t.RuntimeConfig.PreviewPaneAvailable&&!!this._previewPane,s=y&&this._previewPane.isOpened(),p=s&&this._previewPane.hasFocus(),e,h,f,a,u,c,l,o;t.DialogBox&&t.DialogBox.isVisible()?(e=t.DialogBox.getSelectableItemsByGroup(),r?this.select(e[e.length-1][0],!1):this.select(e[0][0],!1)):p?r?(this._previewPane.blur(),h=this._headerFooterViewModel.getSelectableItemsByGroup(),o=h[h.length-1][0],this.select(o,!1)):(this._previewPane.blur(),u=this.getSelectableItems(),this.select(u[0],!0)):t.isScopeTile(i)?!s||r?(f=this.getSelectableSuggestionsByGroup(!0),f.length>0?(a=r?f[f.length-1][0]:f[0][0],this.select(a,!0)):(u=this.getSelectableItems(),u.length>0?this.select(u[0],!0):this.select(null,!0)),c="handleCrossBordersNavigationWithTab",n.safeSetTimeout(function(){return v._host.setFocusInSearchBox(9,c)},0,c)):(this.select(this._previewPane.getPreviewedSuggestion(),!0),this._previewPane.focus(!0)):this._selectedItem?r?s?this._previewPane.focus():(l=this.getSelectableItemsByGroup(),o=l[l.length-1][0],this.select(o,!1)):this.select(this.getSelectableItemsByGroup()[0][0],!1):this.select(this.getSelectableItemsByGroup()[0][0],!1)},u.prototype.tryShowContextMenuOnSelectedSuggestion=function(){var i=this,t=this._selectedItem&&this.isSuggestion(this._selectedItem)?this._selectedItem:null;t&&n.safeExecute(function(){return i._menuFactory.showContextMenuOnElement(t,_ge(t.id),function(){return i._host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")},u.prototype.onQueryChanged=function(r,u){var c=this,l,e,p,w,b,o,s,a,v,h,y,f;if(t.DialogBox&&t.DialogBox.hide(),this._menuFactory.dismiss(),!this._partialQuery||!this._partialQuery.equals(r)){if(this._page.hideTemporaryMessage(),t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),r.showProgressBar?this._progressTimer=n.safeSetTimeout(function(){c._progressTimer&&(c._page.setProgressIndicatorVisibility(!0),c._progressTimer=null)},250,"showProgress"):this._page.setProgressIndicatorVisibility(!1)),this._partialQuery&&this._partialQuery.scope!=r.scope&&(this._turnOnIndexingInstItem||this.hideIndexingMessage()),l=this._partialQuery?this._partialQuery.queryToFetch:"",e=r.queryToFetch,this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable)this._previewPane.onQueryChanged(r);for(p=this._partialQuery?this._partialQuery.scope:t.Scope.All,i.prototype.onQueryChanged.call(this,r,u),w=t.config.glyphInSearchBox==1,w&&r.scope!=p&&(b=t.ScopeConfig[r.scope],r.scope==t.Scope.All?this._host.setSearchBoxGlyphIcon():this._host.setSearchBoxGlyphIcon(b.icon)),o=!1,s=0,a=this.topResults;s<a.length;s++)f=a[s],f.updateFromQuery&&!f.hasPreviewPaneOpened?f.updateFromQuery(r)&&(o=!0):e.length>l.length&&e.startsWith(l)&&f.query.toLowerCase().includes(r.queryToFetch.toLowerCase())&&(v=f.text.indexOf(HitHighlightingParser.endMarker),v>=0&&v<f.text.length-1&&(f.text=HitHighlightingParser.addMarkers(HitHighlightingParser.removeMarkers(f.text),e),o=!0));if(o){for(h=0,y=this.topResults;h<y.length;h++)f=y[h],f.sequenceNumber=u,this.updateNarratorWithPreviewMessage(f);this.renderTopResults()}}},u.prototype.onSuggestionsParsed=function(n,i,r,u,f){var s=n.enabledDataSources[r].groupType,e,o,h;if(typeof s=="number")for(e=0,o=f;e<o.length;e++)h=o[e],h.staticGroupType=s;(u==="NI"||u==="PI")&&(r=="PP"||r=="ST"||n.scope!=t.Scope.All)&&n.scope!=t.Scope.Web&&this.showIndexingMessage(!0)},u.prototype.areSuggestionsPresent=function(){return this.topResults.length>0||this.groups.length>0&&this.groups.some(function(n){return n.suggestions.length>0})},u.prototype.getSuggestions=function(n){var t=this.getCurrentTopResults();return this.groups.forEach(function(n){return t=t.concat(n.suggestions)}),n&&(this._pendingSuggestionsInExistingGroups.forEach(function(n){return t=t.concat(n.suggestions)}),this._pendingSuggestionsInMissingGroups.forEach(function(n){return t=t.concat(n.suggestions)})),t},u.prototype.getSelectableItems=function(){var n,i,u,r;if(t.DialogBox&&t.DialogBox.isVisible())return t.DialogBox.getSelectableItems();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItems();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItems();for(n=[],n.push.apply(n,this.topResults),i=0,u=this.groups;i<u.length;i++)r=u[i],r.click&&n.push(r),n.push.apply(n,r.suggestions.filter(function(n){return!n.suppressed}));return this.areSuggestionsPresent()||n.push(s),t.config.allowUpForScopes&&n.push.apply(n,this._headerFooterViewModel.getSelectableItems()),n},u.prototype.getSelectableSuggestionsByGroup=function(n){if(t.config.allowTabToSelectSuggestions){var i=[];return i.push(this.topResults),this.groups.forEach(function(n){n.click&&i.push([n]);i.push(n.suggestions.filter(function(n){return!n.suppressed}))}),n||i.push(this._headerFooterViewModel.getSelectableItems()),i.filter(function(n){return n.length>0})}return[]},u.prototype.getSelectableItemsByGroup=function(){if(t.DialogBox&&t.DialogBox.isVisible())return t.DialogBox.getSelectableItemsByGroup();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItemsByGroup();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItemsByGroup();var n=[];return n.push.apply(n,this._headerFooterViewModel.getSelectableItemsByGroup()),this._previewPane&&n.push.apply(n,this._previewPane.getSelectableItemsByGroup()),this.areSuggestionsPresent()?n.push.apply(n,this.getSelectableSuggestionsByGroup(!0)):n.push([s]),n},u.prototype.getSelectedItem=function(){return t.DialogBox&&t.DialogBox.isVisible()?t.DialogBox.getSelectedItem():this._menuFactory.isMenuVisible()?this._menuFactory.getSelectedItem():this._previewPane&&this._previewPane.hasFocus()?this._previewPane.getSelectedItem():this._selectedItem?this._selectedItem:s},u.prototype.updateSelectionState=function(t){n.contains(this.topResults,t)?this.renderTopResults():this.groups.some(function(i){return n.contains(i.suggestions,t)})&&this.renderGroups()},u.prototype.renderSelection=function(i,r){(i&&this.isSuggestion(i)&&n.contains(this.topResults,i)||r&&this.isSuggestion(r)&&n.contains(this.topResults,r))&&this.renderTopResults();(i&&this.isAdvancedOption(i)||r&&this.isAdvancedOption(r))&&this._headerFooterViewModel.updateTopHitHeader();(i&&t.isGroup(i)&&n.contains(this.groups,i)||i&&this.isSuggestion(i)&&this.groups.some(function(t){return n.contains(t.suggestions,i)})||r&&t.isGroup(r)&&n.contains(this.groups,r)||r&&this.isSuggestion(r)&&this.groups.some(function(t){return n.contains(t.suggestions,r)}))&&this.renderGroups()},u.prototype.select=function(i,r){var u,e,f;t.DialogBox&&t.DialogBox.isVisible()?t.DialogBox.select(i):this._menuFactory.isMenuVisible()&&n.contains(this._menuFactory.getSelectableItems(),i)?this._menuFactory.select(i,!1):this._previewPane&&n.contains(this._previewPane.getSelectableItems(),i)?this._previewPane.select(i,!1):(u=this._selectedItem,u&&(u.selected=!1,this.setSelectedStyleSuspended(u,!1)),i==s?(this._selectedItem=null,this._host.searchBoxHasFocus()||this._host.setFocusInSearchBox(null,"rvm_select")):(this._selectedItem=i,i&&(i.selected=!0,this.setSelectedStyleSuspended(i,!this._host.searchBoxHasFocus()))),this.renderSelection(this._selectedItem,u),e=t.config.glyphInSearchBox==2,e&&this.setSearchBoxGlyphIcon(i),this._headerFooterViewModel.isScopeElement(i)&&this._headerFooterViewModel.select(i,!1),r&&(t.config.dontUpdateSB&&i.handoffType!=0?this._host.updateQueryWithoutRefetching(null):(f=i?i.query:null,f&&this._partialQuery.scopePrefix&&(f=this._partialQuery.scopePrefix.trim()+": "+f),this._host.updateQueryWithoutRefetching(f))))},u.prototype.setSearchBoxGlyphIcon=function(i){var u,r,f,e;i&&(r=i.icon,r&&n.contains([2,1],r.type)?u=r:(f=t.isGroup(i)?i.typeWithSource.type:this.isSuggestion(i)?t.getGroupType(i):null,f!=null&&(e=t.getScope(f),u=e==t.Scope.All?null:t.ScopeConfig[e].icon)));this._host.setSearchBoxGlyphIcon(u)},u.prototype.renderTopResultsToUpdateIcons=function(){var i=this;t.config.delayRenderingForIcons?this._renderTopResultsTimerForIcons||(this._renderTopResultsTimerForIcons=n.safeSetTimeout(function(){i._renderTopResultsTimerForIcons=null;i.renderTopResults()},ot,"renderTopResultsToUpdateIcons")):this.renderTopResults()},u.prototype.renderGroupsToUpdateIcons=function(){var i=this;t.config.delayRenderingForIcons?this._renderGroupsTimerForIcons||(this._renderGroupsTimerForIcons=n.safeSetTimeout(function(){i._renderGroupsTimerForIcons=null;i.renderGroups()},ot,"renderGroups")):this.renderGroups()},u.prototype.setupIcon=function(i,r,u,f){var e=this,o;if(!r.suppressed&&r.getIcon)this._instrumentationHelper.notifyIconPending(i,u,r.instItem.getLayoutKValue(),r.type),o=this._partialQuery,r.getIcon(this.getImageSize(o,r,u),function(o){r.icon=o;var s=function(){e._partialQuery&&i==e._sequenceNumberReader.getSequenceNumber()&&(e._instrumentationHelper.notifyIconReady(i,u,r.instItem.getLayoutKValue(),r.type),u?n.contains(e.topResults,r)&&e.renderTopResultsToUpdateIcons():e.groups.some(function(t){return n.contains(t.suggestions,r)})&&e.renderGroupsToUpdateIcons(),f())};t.populateImageRatio(r.icon,r.type,s)});else if(!r.suppressed&&r.icon&&n.canIconFail(r.icon)){this._instrumentationHelper.notifyIconPending(i,u,r.instItem.getLayoutKValue(),r.type);var s=r.icon.getFallbackIcon,h=function(n,t){return t(r.icon)},c=r.icon.isValidSize,l=function(){r.getIcon=s;e.setupIcon(i,r,u,f)},a=function(){r.icon.isSmall=!0;r.getIcon=h;e.setupIcon(i,r,u,f)};r.icon.onIconError=l;r.icon.onIconRendered=function(n,t){c(n,t)?(e._instrumentationHelper.notifyIconReady(i,u,r.instItem.getLayoutKValue(),r.type),f()):a()};u?this.renderTopResultsToUpdateIcons():this.renderGroupsToUpdateIcons()}else f()},u.prototype.getImageSize=function(n,i,r){return n.isSearchHomeZI?i.type=="TOPL"?7:i.type=="AFC"?6:8:n.scope==t.Scope.Apps&&!n.queryToFetch?3:t.displayedInGridLayout(i.type)?2:r?0:1},u.prototype.isSuggestionOrGroup=function(n){return!this._headerFooterViewModel.isScopeElement(n)},u.prototype.isSuggestion=function(n){return!t.isGroup(n)&&!this._headerFooterViewModel.isScopeElement(n)&&!this.isAdvancedOption(n)},u.prototype.isAdvancedOption=function(n){return typeof n.layout=="number"},u.prototype.submit=function(i,r,u,f,e){var h=e?5:r?6:1,c=n.getCurrentActiveElement(),o,s,l;if(t.DialogBox&&t.DialogBox.isVisible()){t.DialogBox.submit();return}if(this._previewPane&&this._previewPane.hasFocus()){if(o=this._previewPane.getSelectedItem(),o&&o.click&&o.optionType===undefined){o.click(i,h);return}}else{if(this._selectedItem&&this._headerFooterViewModel.isScopeElement(this._selectedItem)&&!this._menuFactory.isMenuVisible()){_ge(this._selectedItem.id).click();return}if(t.RuntimeConfig.QfMode==5&&!this._selectedItem){this._host.submitFileExplorerTextSuggestion(this._partialQuery.queryToFetch);return}}if(s=this._menuFactory.getSelectedItem(),s){s.click&&s.click(i,h,f);return}if(l=!t.isBodyOrSuggestion(c),l){this._host.isRequestFocusAvailable()||c.click();return}if(this._lastUpdatedSequenceNumber!=u&&(!this._selectedItem||this._selectedItem==this.topResults[0])){this._pendingSubmitSequenceNumber=u;this._pendingSubmitModifierKeys=f;this._pendingSubmitTimeStamp=i;return}this._selectedItem?this.click(i,this._selectedItem,h,f):this.groups.length>0&&this._partialQuery.fullPartialQuery&&this.showDisableEnterMessage()},u.prototype.doubleClickGuardedHandler=function(t){var i;return function(r,u){i&&n.getCurrentDate().getTime()-i<=250||(i=n.getCurrentDate().getTime(),t(r,u))}},u.prototype.click=function(n,i,r,u){if(this._page.hideTemporaryMessage(),this.isAdvancedOption(i)){i.click&&i.click(n,r,u);return}var f=t.isGroup(i)?null:i;if(!i.instItem||f&&f.isReformulation||this._instrumentationHelper.instrumentItemClick(n,i.instItem,i.sequenceNumber,f?f.instrumentPingBack:null,r,u),!f){i.click&&i.click(n,r,u);return}u=u||this._host.getModifierKeyState();u.ctrlKey&&u.shiftKey?this.launchVerb(f,p,n):u.shiftKey?this.launchVerb(f,w,n):f.click(n,r,u);this.onSuggestionLaunch(f,this._partialQuery)},u.prototype.onSuggestionLaunch=function(n,r,u){t.isChildSuggestion(n)&&(n=n.parent);i.prototype.onSuggestionLaunch.call(this,n,r,u)},u.prototype.launchVerb=function(i,r,u){var f=vt("launchVerb",i,t.config.rawVerbs,!1,function(f){for(var h,c,o=!1,l=function(i){if(i.verb&&i.verb.toLocaleLowerCase()==r.toLocaleLowerCase())return i.executeSync?n.safeExecute(function(){return i.executeSync()},"verb.executeSync",null,r):t.Promise.safeChain("verb.executeAsync",function(){return i.executeAsync()},null,null,null,r),o=!0,"break"},e=0,s=f;e<s.length;e++)if(h=s[e],c=l(h),c==="break")break;o||i.click(u,0)},function(){return!0});f||i.click(u,0)},u.prototype.getGroupHeaderClickAction=function(i,r,u){var e=this,f,s,h=null,o,c,l;if(t.RuntimeConfig.ScopesAvailable&&(o=t.getScope(r.type),o!=t.Scope.All))if((t.config.newFilesScope1||t.config.newFilesScope2)&&t.isFileOrFolderScope(o)&&(o=t.Scope.AllFiles),r.type==t.GroupType.SearchSuggestions&&i.isSearchHomeZI)s=this._host.getLocString("OpenPrivacyPortalButtonText"),h=this._host.getLocString("ManageSearchHistory"),f=function(){return e._host.launchPrivacyPortal()};else return t.isL2(i)||!t.isScopeEnabled(o,t.ScopeConfig[o])?[null,null,null,null]:(c=function(){return e._headerFooterViewModel.clickHandler(o,"groupHeader",r)},[c,null,null,null]);if(!f)switch(r.type){case t.GroupType.Store:f=function(){return e._host.launchStoreSearch(i.queryToFetch)};break;case t.GroupType.SearchSuggestions:f=function(){return e.launchSearch(i,u)};break;case t.GroupType.PathCompletion:f=function(){return e._host.launchFolder(bt(i,e._partialQuery))};break;case t.GroupType.TopApps:t.config.getPopularApps&&(s=this._host.getLocString("GetPopularApps"),f=function(){return e._host.launchUri(t.config.getPopularAppsUrl)});break;case t.GroupType.ActivityFeedSuggestions:s=this._host.getLocString("OpenTimelineButtonText");h=this._host.getLocString("ManageActivityFeed");f=function(){return e._host.launchUri("ms-taskswitcher://?invoketo=timeline")}}if(f){if(!u)throw"No QS code for: "+t.GroupType[r.type];return l=n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,t.SyntheticQSCodesMaps.KValues),[f,l,s,h]}return[null,null,null,null]},u.prototype.shouldShowPlusIconInGroupHeader=function(n,i){if(t.getScope(n)==t.Scope.Web||n==t.GroupType.Store)return!1;if(n==t.GroupType.Apps&&this._partialQuery.queryToFetch.length<t.config.minLengthForIBAonL1)return!0;if(n==t.GroupType.Apps||n==t.GroupType.Settings){var r=i[n==t.GroupType.Apps?"PP":"ST"];return!(r&&r.maxedOut)}return!0},u.prototype.addGroup=function(n,i,u,f,e){var o,a;if(r(this.groups,n))throw new Error("Trying to add repeated group "+n);var v=t.GroupHeaderQSCodes[n.type],s=this.getGroupHeaderClickAction(this._partialQuery,n,v),h=s[0],c=s[1],y=s[2],p=s[3],l=dt(this._partialQuery,this._host,n.type,i,!!h);return n.source&&(l.title+=" - "+t.getGroupSourceDisplayName(n.source,this._host)),o=[],t.isTopHitChildGroup(n)?o.push("topHitConnectedToGroup"):n.type==t.GroupType.TopApps||this._partialQuery.isSearchHomeZI&&n.type==t.GroupType.People?o.push("topItemsGroup"):n.type==t.GroupType.ActivityFeedSuggestions?o.push("activityFeedGroup"):n.type==t.GroupType.QuickSearch?(o.push("balloonSuggGroup"),t.config.quickAnswer&&o.push("quickAnswerGroup")):n.type==t.GroupType.LockscreenQuickSearch?o.push("lockscreenQuickSuggGroup"):t.RuntimeConfig.QfMode==8&&(n.type==t.GroupType.Apps?o.push("appsGroup"):(n.type==t.GroupType.Documents||n.type==t.GroupType.Photos||n.type==t.GroupType.Videos||n.type==t.GroupType.Folders)&&o.push("filesGroup")),a={type:n.type,typeWithSource:n,id:"gr"+n.type+(n.source||""),text:l.title,secondaryText:y,narratorText:l.narratorText,tooltip:p,click:h,onlyAnnotationIsClickable:h&&!!y,suggestions:[],instRegionName:t.GroupType[n.type],instItem:c,selected:!1,cssClasses:o.join(" ")||undefined,sequenceNumber:u,showPlusIconInHeader:this.shouldShowPlusIconInGroupHeader(n.type,e)},c&&this._instrumentationHelper.instrumentSyntheticInstrumentedItem(u,v,c),this._resultsCounter.groups.push({typeWithSource:n,suggestions:[]}),this.insertGroup(a,f),a},u.prototype.insertGroup=function(n,i){for(var f,e=this,o=i.findIndex(function(i){return t.sameGroup(i,n.typeWithSource)}),u=!1,s=function(r){var f=i.findIndex(function(n){return t.sameGroup(n,e.groups[r].typeWithSource)});if(f>o)return h.groups.splice(r,0,n),u=!0,"break"},h=this,r=0;r<this.groups.length;r++)if(f=s(r),f==="break")break;u||this.groups.push(n)},u.prototype.handlePendingSubmit=function(n){if(this._pendingSubmitSequenceNumber==this._lastUpdatedSequenceNumber)try{if(this.topResults.length==0)(this.groups.length>0||n.length>0)&&this.showDisableEnterMessage();else{var t=this.topResults[0];return this._instrumentationHelper.instrumentItemClick(this._pendingSubmitTimeStamp,t.instItem,t.sequenceNumber,t.instrumentPingBack,1,this._pendingSubmitModifierKeys),this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.ctrlKey&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(t,p,this._pendingSubmitTimeStamp):this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(t,w,this._pendingSubmitTimeStamp):t.click(this._pendingSubmitTimeStamp,0,this._pendingSubmitModifierKeys),0}}finally{this.resetPendingSubmitSequenceNumber()}return 1},u.prototype.showDisableEnterMessage=function(){this._page.showTemporaryMessage(this._host.getLocString("EnterOnAmbiguousTopHitMessageText"))},u.prototype.showIndexingMessage=function(i){var r=this,u,f;t.isMobileCache||(i?this._turnOnIndexingInstItem=null:(this._turnOnIndexingInstItem=n.InstrumentedItem.getNonSuggestionInstrumentedItem("IMIO",t.SyntheticQSCodesMaps.KValues),u={id:null,selected:null,text:this._host.getLocString("WindowsIndexingDisabledAction"),title:null,instItem:this._turnOnIndexingInstItem,click:function(n,i){var u=r._sequenceNumberReader.getSequenceNumber();u>r._lastUpdatedSequenceNumber&&r._instrumentationHelper.instrumentSyntheticInstrumentedItem(u,"IMIO",r._turnOnIndexingInstItem);r._instrumentationHelper.instrumentItemClick(n,r._turnOnIndexingInstItem,u,null,i,null);t.LocalDataProvider.launchIndexingOptions(r._host,!1)},layout:1,isSelectable:!0}),f={messageText:i?this._host.getLocString("WindowsIndexingInProgressMessage"):this._host.getLocString("WindowsIndexingDisabledMessage"),title:i?this._host.getLocString("WindowsIndexingInProgressToolTip"):this._host.getLocString("WindowsIndexingDisabledToolTip"),action:u},this._page.updateIndexingMessageView(f))},u.prototype.hideIndexingMessage=function(){t.isMobileCache||(this._turnOnIndexingInstItem=null,this._page.updateIndexingMessageView(null))},u.prototype.getAvailableSpace=function(n){var r=this,i;return t.isL2(this._partialQuery)&&this._partialQuery.queryToFetch?Number.MAX_VALUE:(i=this._page.getSuggestionsContainerHeight(),t.config.extraTopPadding&&!t.RuntimeConfig.SearchBoxOnTop&&(i-=t.config.extraTopPadding),t.RuntimeConfig.ScopesAvailable&&(i-=oi),n.topResults.length==0||t.RuntimeConfig.FlatListWithoutGroups||(i-=ti),n.topResults.forEach(function(n){return i-=pt(n,t.isL2(r._partialQuery))}),n.groups.forEach(function(n){return i-=tr(r._partialQuery,n)}),n.groups.some(function(n){return n.typeWithSource&&t.isTopHitChildGroup(n.typeWithSource)})&&n.groups.some(function(n){return n.typeWithSource&&!t.isTopHitChildGroup(n.typeWithSource)})&&(i-=ei),i)},u.prototype.getAvailableSpaceForZeroInputHomeTopSection=function(n){var f=v.textScaleFactor||1,i=this._page.getSuggestionsContainerWidth()/f,r,u;return i-=t.RuntimeConfig.AlwaysWide?si:hi,r=n.suggestions.filter(function(n){return!n.isSuppressed}).length,u=t.RuntimeConfig.AlwaysWide?ci:li,i-(u+ai)*r},u.prototype.canFitSuggestion=function(i,u,f){if(f.suppressed||u.type==t.GroupType.StartMenu||t.getTweakedSetting("scrollBarInL1"))return!0;var s=yt(this._resultsCounter),e;return i?(e={typeWithSource:u,suggestions:[]},s.groups.push(e)):e=r(s.groups,u),e.suggestions.push({mainTextWrapsToTwoLines:f&&o(f,u.type,!1),isSuppressed:f&&f.suppressed,hasTwoLines:f&&n.contains(f.classNames,"forceNoWrapOutsideTopResult")}),this._partialQuery.isSearchHomeZI?this.canFitSuggestionInZeroInputHome(e):this.getAvailableSpace(s)>=0},u.prototype.canFitSuggestionInZeroInputHome=function(n){if(kt(n.typeWithSource.type))return this.getAvailableSpaceForZeroInputHomeTopSection(n)>=0;switch(n.typeWithSource.type){case t.GroupType.QuickSearch:return t.config.quickAnswer?t.RuntimeConfig.QfMode==4||t.RuntimeConfig.QfMode==0?n.suggestions.length<=pi:n.suggestions.length<=yi:!0;case t.GroupType.LockscreenQuickSearch:return!0}return n.suggestions.length<=vi},u.prototype.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup=function(){var i,r,u,n,f;if(t.isL2(this._partialQuery)&&this._partialQuery.queryToFetch||t.getTweakedSetting("scrollBarInL1"))return Number.MAX_VALUE;for(i=yt(this._resultsCounter),r=0,u=i.groups;r<u.length;r++)for(n=u[r];n.suggestions.length<t.config.minSuggestionsPerGroup;)n.suggestions.push(n.suggestions[0]);while(this.getAvailableSpace(i)>0){for(n={suggestions:[]},f=0;f<t.config.minSuggestionsPerGroup;++f)n.suggestions.push({mainTextWrapsToTwoLines:!1,isSuppressed:!1,hasTwoLines:!1});i.groups.push(n)}return i.groups.length-1},u.prototype.onSuggestionAddedToGroup=function(i,u){var e=this,f,s;this.updateNarratorWithPreviewMessage(i);t.isChildSuggestion(i)&&(i.displayed=!0,f=i.parent,i.id=f.id+"_"+f.childSuggestions.indexOf(i),t.isJumpListSuggestion(i)&&i.tooltip===undefined&&t.Promise.safeChain("getJumpListDescription",function(){return i.jumpListItem.getDescriptionAsync()},function(t){i.tooltip=t;e.groups.some(function(t){return n.contains(t.suggestions,i)})&&e.renderGroups()}));this.setRemoveIconHistorySuggestions(i);s=r(this._resultsCounter.groups,u.typeWithSource);s.suggestions.push({mainTextWrapsToTwoLines:o(i,u.typeWithSource.type,!1),isSuppressed:i.suppressed,hasTwoLines:n.contains(i.classNames,"forceNoWrapOutsideTopResult")});t.displayedInGridLayout(u.typeWithSource.type)&&u.suggestions.filter(function(n){return!n.suppressed}).length>0&&t.RuntimeConfig.QfMode!=8&&(u.cssClasses+=t.isL2(this._partialQuery)?" gridLayout":" gridLayout gridLayoutMedium")},u.prototype.onGroupsCleared=function(){this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this._resultsCounter.groups=[];this._turnOnIndexingInstItem&&this._instrumentationHelper.instrumentSyntheticInstrumentedItem(this._lastUpdatedSequenceNumber,"IMIO",this._turnOnIndexingInstItem)},u.prototype.launchSearch=function(n,t){var i=n.queryToFetch;this._host.launchSearch(i,this._navigationHelper.getSearchUrl(n.fullPartialQuery,i,t),!1)},u.prototype.setRemoveIconHistorySuggestions=function(n){var i=this,r=n.getExtraVerbs&&n.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromDeviceHistory"}),e=n.type=="HS"&&t.config.removeSuggUrl,f=n.getExtraVerbs&&n.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromActivityFeed"}),o=t.config.th&&ClientTestHooks.isTesthookParamSet("forceRemoveIcon"),u;(o||r||e||f)&&(u=r?"RemoveFromDeviceHistory":f?"RemoveFromActivityFeed":"RemoveFromWebHistory",n.removeIcon={icon:{content:"&#xE711",type:2},title:this._host.getLocString(r?"RemoveFromDeviceHistory":"RemoveFromWebHistory"),click:function(t,r){i._page.hideTemporaryMessage();i._instrumentationHelper.instrumentItemClickForContextMenu(t,n.instItem,n.sequenceNumber,n.instrumentPingBack,r,null,u);i.launchVerb(n,u,t);i._host.setFocusInSearchBox(null,"remove")}})},u.prototype.updateNarratorWithPreviewMessage=function(n){var r=t.RuntimeConfig.AlwaysWide?"PreviewPaneButtonNarratorMessageWidePane":"PreviewPaneButtonNarratorMessage",i=this._host.getLocString(r);n.narratorText&&n.previewPaneType&&n.narratorText.indexOf(i)==-1&&(n.narratorText+=", "+i)},u.prototype.onBeforeRenderTopResults=function(i,r,u,f){var e=this,h,c,o,l,a;this.topResults.forEach(function(n){e.setRemoveIconHistorySuggestions(n);e.updateNarratorWithPreviewMessage(n)});h=1;this.topResults.length!=1||this.topResults[0].hasChildSuggestionsDisplayed||r.some(function(n){return t.isChildSuggestion(n)})&&(this.topResults[0].hasChildSuggestionsDisplayed=!0,h=0);c=this.getSelectableItems();t.RuntimeConfig.FirstSuggestionSelectedByDefault&&(this._selectedItem&&n.contains(c,this._selectedItem)&&!this._headerFooterViewModel.isScopeElement(this._selectedItem)&&(this._selectedItem!=i[0]||this.topResults[0]==i[0])||(o=this._partialQuery.queryToFetch&&this.topResults.length>0?this.topResults[0]:null,t.config.synthWebNoBestMatch&&t.isNullOrUndefined(o)&&(l=[t.GroupType.SearchSuggestions,t.GroupType.Websites],a=r.filter(function(i){return!n.contains(l,t.getGroupType(i))}),a.length==0&&(o=r.length>0?r[0]:null)),this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable&&n.safeExecute(function(){return e._previewPane.onTopHitUpdated(e._partialQuery,e._selectedItem&&e.isSuggestion(e._selectedItem)?e._selectedItem:null,o,e.getSuggestions(!1))},"ppOnTopHitUpdated"),this.select(o,!1),this._page.scrollToTop()));var v=this.topResults.length>0,s=function(n){return!n.suppressed&&(!t.config.recourseOnlyInGroups||!t.isRecourse(n))&&(!t.config.quickAnswer||n.staticGroupType!=t.GroupType.QuickSearch)&&(t.RuntimeConfig.QfMode!=6||n.type!="LSQS")},y=v||r.some(s)||this.groups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.some(s)});return this._headerFooterViewModel.render(this._partialQuery,v,y,u,f),h},u.prototype.isRankable=function(n){return n.typeWithSource.type!=t.GroupType.SearchSuggestions&&n.typeWithSource.type!=t.GroupType.Websites&&n.typeWithSource.type!=t.GroupType.LocalPlaces&&!n.suggestions.some(t.enforceOriginalOrder)},u.prototype.isNotRankableWithRecourse=function(n){return n.typeWithSource.type==t.GroupType.Emails},u.prototype.openPreviewPane=function(n,i){i.stopPropagation();this._previewPane.showPreview(this._partialQuery,n);this.select(n,!t.config.dontUpdateSB);this._host.setFocusInSearchBox(null,"openPreviewPane")},u.prototype.mayNeedFlush=function(){return!t.RuntimeConfig.FlatListWithoutGroups},u.prototype.shouldRenderGroup=function(i){return t.RuntimeConfig.PreviewPaneAvailable&&t.config.suppressedGroups&&n.contains(t.config.suppressedGroups,i)?!1:!0},u.prototype.update=function(i,r,u,f,e,s,h,c,l,a){var v=this,d=this.topResults,w,g,nt,b,tt,y,ft;if(i&&(this._contentQuery=this._partialQuery,this._renderTopResultsTimerForIcons=null,this._renderGroupsTimerForIcons=null),t.config.enableMRUHint)for(w=0,g=r;w<g.length;w++)nt=g[w],nt.mruHintEnabled&&(nt.uxHint=this._host.getLocString("MruBestMatch"));var ut=this.updateTopResults(i,r,u,f,e,l),st=ut[0],ht=ut[1];for(ht(),this._resultsCounter.topResults=[],b=0,tt=this.topResults;b<tt.length;b++)y=tt[b],ft=1+(y.primaryMetadata?1:0)+(y.secondaryMetadata||y.stars?1:0),this._resultsCounter.topResults.push({mainTextWrapsToTwoLines:o(y,null,!0),numberOfLines:ft,isHtmlAnswer:!!y.htmlContent,isSuppressed:!1,grid:t.displayedInGridLayout(y.type)});if(this._autoComplete&&this.topResults.length>0&&this._selectedItem==this.topResults[0]&&this._autoComplete.apply(this.topResults[0]),this.handlePendingSubmit(e)==0)return this.toggleProgressBar(!0),0;this._partialQuery&&this._partialQuery.isSearchHomeZI&&this.toggleProgressBar(!l);var k=!1,it=0,et=function(){if(k&&it==0){var n=v.groups.map(function(n){return n.typeWithSource.type});v._instrumentationHelper.instrumentRenderFinished(f,h,n);k=!1}},rt=function(n,t){var r=!1,i;if(v.isRankable(t)&&v._partialQuery&&v._partialQuery.queryToFetch)for(i=0;i<t.suggestions.length;i++)if(n.rankingScore>t.suggestions[i].rankingScore){t.suggestions.splice(i,0,n);r=!0;break}r||t.suggestions.push(n);it+=1;v.setupIcon(f,n,!1,function(){it-=1;et()});v.onSuggestionAddedToGroup(n,t)},p=this.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup()-this.groups.length,ot=function(){var i,r,n,e;if(p!=0&&u||v.flush(rt,f,c),v._partialQuery&&v._partialQuery.queryToFetch)for(v.groups.sort(function(n,i){return c.findIndex(function(i){return t.sameGroup(i,n.typeWithSource)})-c.findIndex(function(n){return t.sameGroup(n,i.typeWithSource)})}),i=0,r=v.groups;i<r.length;i++)n=r[i],v.isRankable(n)?n.suggestions.sort(function(n,t){return t.rankingScore-n.rankingScore}):v.isNotRankableWithRecourse(n)&&(e=n.suggestions.map(function(n){return n.notAResult}).findIndex(function(n){return n}),e!=-1&&n.suggestions.splice(n.suggestions.length-1,0,n.suggestions.splice(e,1)[0])),v.populateGroupHeaderFlags(n)};return i||e.length>0||s.length>0?(this.renderGroupsAfter(function(){for(var ft,h,l,g,nt,y,tt,w,it,r,b,ut,o=0,k=s;o<k.length;o++)r=k[o],ft=v.removeSuggestion(r,a),ft&&(p+=1);for(h=function(n,i){var e=v.getGroupData(n),u=e[0],r=e[1],o;v.shouldRenderGroup(u.type)&&(r?(r.count&&r.count++,o=t.config.minSuggestionsPerGroup&&!i?t.config.minSuggestionsPerGroup-r.suggestions.length:999,o>0&&v.canFitSuggestion(!1,u,n)?rt(n,r):v._partialQuery.isSearchHomeZI||v.queueSuggestionInExistingGroup(n,r)):p>0&&v.canFitSuggestion(!0,u,n)?(r=v.addGroup(u,n,f,c,a),v.shouldTrackGroupCount(r)&&(r.count=1),rt(n,r),p-=1):v._partialQuery.isSearchHomeZI||v.queueSuggestionInMissingGroup(n,u,a))},l=0,g=d;l<g.length;l++){var et=g[l],ht=v.getGroupData(et),u=ht[1];u&&u.count&&(u.count-=1)}if(nt=function(){return v._contentQuery.isSearchHomeZI||t.shouldFetchStartMenu(v._contentQuery)||t.getTweakedSetting("scrollBarInL1")},st&&!i){for(y=0,tt=e;y<tt.length;y++)r=tt[y],n.contains(d,r)&&h(r,!0);for(w=0,it=e;w<it.length;w++)r=it[w],n.contains(d,r)||h(r,nt())}else e.forEach(function(n){return h(n,nt())});for(b=0,ut=v.topResults;b<ut.length;b++){var et=ut[b],ct=v.getGroupData(et),u=ct[1];u&&u.count&&(u.count+=1)}ot()}),k=!0):p!=0&&u||(this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.length>0})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))&&(this.renderGroupsAfter(function(){return ot()}),k=!0),et(),l&&this.toggleProgressBar(!1),1},u.prototype.populateGroupHeaderFlags=function(n){if(t.canGoToL2(n)){var i=n.suggestions.every(function(n){return n.suppressed});n.showCountInHeader=i}},u.prototype.shouldTrackGroupCount=function(n){return t.canGoToL2(n)},u.prototype.getGroupData=function(n){var i={type:t.getGroupType(n),source:n.sourceForGroup};return[i,r(this.groups,i)]},u.prototype.removePendingSuggestionFromExistingGroup=function(n,t){for(var r,u,i=0;i<this._pendingSuggestionsInExistingGroups.length;++i)if(r=this._pendingSuggestionsInExistingGroups[i],r.group==t)if(u=r.suggestions.indexOf(n),u==-1)throw new Error("Pending suggestion not found");else{r.suggestions.splice(u,1);r.suggestions.length==0&&this._pendingSuggestionsInExistingGroups.splice(i,1);return}throw new Error("Pending suggestion not found");},u.prototype.removePendingSuggestionFromMissingGroup=function(n,i){for(var u,f,r=0;r<this._pendingSuggestionsInMissingGroups.length;++r)if(u=this._pendingSuggestionsInMissingGroups[r],t.sameGroup(u.typeWithSource,i))if(f=u.suggestions.indexOf(n),f==-1)throw new Error("Pending suggestion not found");else{u.suggestions.splice(f,1);u.suggestions.length==0&&this._pendingSuggestionsInMissingGroups.splice(r,1);return}throw new Error("Pending suggestion not found");},u.prototype.queueSuggestionInExistingGroup=function(n,t){var i=wt(this._pendingSuggestionsInExistingGroups,t.typeWithSource);i?i.suggestions.push(n):(i={group:t,suggestions:[n]},this._pendingSuggestionsInExistingGroups.push(i))},u.prototype.queueSuggestionInMissingGroup=function(n,t,i){var u=r(this._pendingSuggestionsInMissingGroups,t);u?u.suggestions.push(n):(u={typeWithSource:t,suggestions:[n],extraSignalsMap:i},this._pendingSuggestionsInMissingGroups.push(u))},u.prototype.partialFlush=function(n,t,i,r){while(n>0&&i.length>0){var u=i[0];this.canFitSuggestion(!1,t.typeWithSource,u)&&r(u,t);i.splice(0,1);n-=1}},u.prototype.flush=function(n,i,r){for(var e,s,u,c,l=this,a=function(u){var o=u.suggestions[0],e;o&&f.canFitSuggestion(!0,u.typeWithSource,o)&&(e=f.addGroup(u.typeWithSource,o,i,r,u.extraSignalsMap),f.shouldTrackGroupCount(e)&&(e.count=u.suggestions.length),f.partialFlush(t.config.minSuggestionsPerGroup,e,u.suggestions,n),u.suggestions.forEach(function(n){return l.queueSuggestionInExistingGroup(n,e)}),u.suggestions=[])},f=this,o=0,h=this._pendingSuggestionsInMissingGroups;o<h.length;o++)u=h[o],a(u);while(this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))for(e=0,s=this._pendingSuggestionsInExistingGroups;e<s.length;e++)u=s[e],c=t.config.minSuggestionsPerGroup?1:u.suggestions.length,this.partialFlush(c,u.group,u.suggestions,n)},u.prototype.removeSuggestion=function(i,u){var h={type:t.getGroupType(i),source:i.sourceForGroup},f=r(this.groups,h),e,c,s;if(f)if(n.tryRemove(f.suggestions,i)){if(e=r(this._resultsCounter.groups,f.typeWithSource),c=o(i,f.typeWithSource.type,!1),n.removeFirstWhere(e.suggestions,function(n){return n.mainTextWrapsToTwoLines==c}),t.displayedInGridLayout(f.typeWithSource.type)&&f.suggestions.filter(function(n){return!n.suppressed}).length==0&&(f.cssClasses=""),f.suggestions.length==0)return n.tryRemove(this.groups,f),this._resultsCounter.groups=this._resultsCounter.groups.filter(function(n){return n!=e}),s=wt(this._pendingSuggestionsInExistingGroups,f.typeWithSource),s&&this._pendingSuggestionsInMissingGroups.push({typeWithSource:f.typeWithSource,suggestions:s.suggestions,extraSignalsMap:u}),!0}else this.removePendingSuggestionFromExistingGroup(i,f);else this.removePendingSuggestionFromMissingGroup(i,h);return!1},u}(n.BaseRootViewModel);t.RootViewModel=gt})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}))
var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),AutoSuggest;(function(n){var t;(function(t){function ki(n,t){var r=[],u,f;if(t)if(n)r=t.slice();else{u=function(n){var i=t.find(function(t){return t.verb&&t.verb.toLocaleLowerCase()==n.toLocaleLowerCase()});i&&r.push(i)};for(f in i)u(f)}return r}function di(n){return n?n.filter(function(n){return!n.verb||n.verb.toLowerCase()!="open"}):[]}function e(n,i,r,u,f,e){e()&&(n=n.slice(),i.getExtraVerbsAsync?t.Promise.safeChain("getExtraVerbsAsync",function(){return i.getExtraVerbsAsync(u)},function(t){return h(d(n,t,!0),i,u,f,e)},function(){return h(n,i,u,f,e)},null,r):h(n,i,u,f,e))}function h(n,t,i,r,u){if(u()){var f=t.getExtraVerbs?d(n,t.getExtraVerbs(i),!1):n;f[0]==y&&f.shift();r(f)}}function gi(n,r,u,f,e){return n.map(function(n){var o,s,h,c;if(n.verb){switch(n.verb.toLocaleLowerCase()){case lt:o="PinnedToStart";break;case b:o="PinnedToTaskbar";break;case at:o="UnpinnedFromStart";break;case k:o="UnpinnedFromTaskbar";break;case ct:s="UninstallConfirmation";o="UninstallationInProgress"}return h=function(i){i();t.RuntimeConfig.AlwaysWide&&o=="UninstallationInProgress"?(r.uninstallationInProgress=!0,e&&e()):o?u.showTemporaryMessage(f.getLocString(o,HitHighlightingParser.removeMarkers(r.text))):u.hideTemporaryMessage();n.verb.toLocaleLowerCase()==b&&f.addItemToPinnedToTaskbar(r.deviceItem.id);n.verb.toLocaleLowerCase()==k&&f.removeItemFromPinnedToTaskbar(r.deviceItem.id)},c=n.icon||i[n.verb.toLocaleLowerCase()],new t.DeviceItemVerbWrapper(n,c,function(i){s&&t.DialogBox?t.DialogBox.show(f.getLocString(s),[{id:null,text:n.displayName,action:function(){return h(i)},selected:!1},{id:null,text:f.getLocString("Cancel"),selected:!0}]):h(i)})}return n})}function vt(n,i,r,u,f,o){if(t.isJumpListSuggestion(i))return t.Promise.safeChain("jumpListItem.getVerbsAsync",function(){return i.jumpListItem.getVerbsAsync()},function(n){return e(di(n),i,s,u,f,o)},function(){return e([],i,s,u,f,o)},null,n+" "+i.type),!0;var s=n+" "+i.type,c=t.getItemWithFileMetadata(i);return c&&c.canHaveContextMenu?(t.Promise.safeChain("getVerbsAsync",function(){return c.getVerbsAsync()},function(n){return e(ki(r,n),i,s,u,f,o)},function(){return e([],i,s,u,f,o)},null,s),!0):i.getExtraVerbsAsync?(e([],i,s,u,f,o),!0):i.getExtraVerbs?(h([],i,u,f,o),!0):(u&&f([]),!1)}function o(n,i,r){if(i==t.GroupType.EdgeHistory&&!r)return!1;var u=HitHighlightingParser.removeMarkers(n.text),f=u?u.length:0;return n.additionalInfoText&&!r&&(f+=n.additionalInfoText.length),f>(r?wi:bi)}function yt(n){for(var i,r={topResults:n.topResults.slice(0),groups:[]},t=0,u=n.groups;t<u.length;t++)i=u[t],r.groups.push({typeWithSource:i.typeWithSource,suggestions:i.suggestions.slice(0)});return r}function pt(n,i){if(n.isHtmlAnswer)return fi;if(n.grid)return(i?t.IconSize_GridLayout:t.IconSize_GridLayout_Medium)+2*u;var r=n.numberOfLines==3?ui:n.numberOfLines==2?ri:ii;return n.mainTextWrapsToTwoLines&&(r+=ut),r<rt&&(r=rt),r}function nr(n,i){if(i&&t.uses3lineTemplate(t.getScope(i.type)))return pt({mainTextWrapsToTwoLines:!1,numberOfLines:3,isHtmlAnswer:!1,isSuppressed:n.isSuppressed,grid:!1},!1);if(n.isSuppressed)return 0;var r=ni;return n.hasTwoLines?r+=l+2:n.mainTextWrapsToTwoLines&&(r+=ut),r}function tr(n,i){var r=it;if(i.typeWithSource&&t.displayedInGridLayout(i.typeWithSource.type)){var u=t.isL2(n),f=Math.ceil(i.suggestions.length/(u?st:ht)),e=u?ft:et;r+=e*f;r+=2*a}else i.suggestions.forEach(function(n){return r+=nr(n,i.typeWithSource)});return r}function ir(n){switch(n){case 0:return"CP";case 7:return"DI";case 1:return"PP";case 2:return"PD";case 4:return"SP";case 5:return"TP";case 6:return"SD"}return undefined}function d(n,t,i){if(n.length>0&&t.length>0){var r=i?n.concat(y):n;return r.concat(t)}return n.length>0?n:t.length>0?i?[y].concat(t):t:[]}function r(n,i){return n.find(function(n){return t.sameGroup(n.typeWithSource,i)})}function wt(n,i){return n.find(function(n){return t.sameGroup(n.group.typeWithSource,i)})}function bt(n,t){return n.queryToFetch.substring(0,t.queryToFetch.lastIndexOf("\\"))}function kt(n){switch(n){case t.GroupType.TopApps:case t.GroupType.People:return!0}return!1}function rr(n,i,r){if(!n.isSearchHomeZI||n.scope==t.Scope.All)return null;if(n.scope==t.Scope.Web){if(r==t.GroupType.Websites)return i.getLocString("RecentWebsiteSection");if(r==t.GroupType.SearchSuggestions)return i.getLocString("RecentWebSearchSection")}return kt(r)?i.getLocString("FrequentSection"):i.getLocString("RecentSection")}function dt(n,i,r,u,f){var h,o,e,s,c;if(r==t.GroupType.PathCompletion)return h=bt(n,n)+"\\"+String.fromCharCode(8206),{title:h,narratorText:h};if(u&&(o=u.groupDisplayName,o))return{title:o,narratorText:f?i.getLocString("AddingScopeNarratorText",o):o};if(e=rr(n,i,r),!e)switch(r){case t.GroupType.Command:e=i.getLocString("CommandGroup");break;case t.GroupType.Cortana:e=t.config.useCortanaGroupString?i.getLocString("CortanaGroup"):i.getLocString("CortanaArchivedMessageGroup");break;case t.GroupType.Store:e=i.getLocString("StoreGroup");break;case t.GroupType.PowerBi:e="Power BI";break;case t.GroupType.EdgeHistory:e=i.getLocString("EdgeHistoryGroup");break;case t.GroupType.LocalPlaces:e=i.getLocString("LocalPlacesGroup");break;case t.GroupType.Related:e=i.getLocString("RelatedSuggestionsGroup");break;case t.GroupType.SearchSuggestions:e=t.getWebSuggestionsGroupHeader(i);break;case t.GroupType.Websites:e=t.getWebsitesGroupHeader(i);break;case t.GroupType.Contact:e=i.getLocString("ContactGroup");break;case t.GroupType.StartMenu:e="Start menu";break;case t.GroupType.LocalSearchHistory:e="Search history";break;case t.GroupType.ActivityFeedSuggestions:e=i.getLocString("RecentActivitiesSection");break;case t.GroupType.TopApps:e=i.getLocString("TopAppsSection");break;case t.GroupType.QuickSearch:e=t.config.quickAnswer?i.getLocString("QuickSearchSuggestionsSection"):i.getLocString("LastSearchSection");break;case t.GroupType.LockscreenQuickSearch:e=i.getLocString("LockscreenQuickSearchSection")}if(!e){if(s=t.getScope(r),s==t.Scope.All)throw new Error("Unknown group type: "+r);t.config.newFilesScope2&&r==t.GroupType.Documents&&(s=t.Scope.AllFiles);c=t.ScopeConfig[s];e=t.getScopeDisplayName(c,i)}return{title:e,narratorText:f?i.getLocString("AddingScopeNarratorText",e.toLocaleLowerCase()):e}}var g=4,nt=6,c=8,u=12,tt=1,f=20,l=16,ni=f+2*c,it=16+2*c,ti=it,rt=60,ii=f+2*u,ri=f+l+g+2*u,ui=f+2*(l+g)+2*u,fi=80+2*u,ei=c,ut=f,oi=48,a=1,ft=t.IconSize_GridLayout+2*(nt+tt),et=t.IconSize_GridLayout_Medium+2*(nt+tt),si=24,hi=12,ci=140,li=156,ai=8,vi=4,yi=6,pi=2,ot=200,st=3,ht=4,wi=39,bi=42,v=SearchAppWrapper.CortanaApp,y={},p="runas",w="tabletmode_opennewwindow",ct="tile.uninstall",lt="startpin",b="taskbarpin",at="startunpin",k="taskbarunpin",s={id:"SearchBox",selected:!1,text:"SearchBox"},i={},gt;i[p]={content:"&#xE7EF",type:1};i.runasuser={content:"&#xE7EE",type:1};i.openinbrowser={content:"&#xE774",type:1};i.openfilelocation={content:"&#xE838",type:2};i.opencontaining={content:"&#xE838",type:2};i[w]={content:"&#xE8A7",type:2};i[at]={content:"&#xE77A",type:1};i[k]={content:"&#xE77A",type:1};i[lt]={content:"&#xE718",type:2};i[b]={content:"&#xE718",type:2};i.settings={content:"&#xE713",type:2};i.manage={content:"&#xE912",type:1};i.review={content:"&#xE728",type:2};i.share={content:"&#xE72D",type:1};i.connectnetworkdrive={content:"&#xE8CE",type:1};i.disconnectnetworkdrive={content:"&#xE8CD",type:1};i.uninstall={content:"&#xE74D",type:2};i[ct]={content:"&#xE74D",type:2};i.itemproperties={content:"&#xF106",type:2};t.config.extraActions&&(i.copy={content:"&#xE8C8",type:1},i.print={content:"&#xE749",type:1},i.edit={content:"&#xE70F",type:2},i.shelledit={content:"&#xE70F",type:2},i["3d edit"]={content:"&#xE70F",type:2},i.properties={content:"&#xE946",type:2});t.extendVerbs=gi;t.getVerbsAsync=vt;t.wrapsToTwoLines=o;t.joinVerbs=d;t.getGroupTitleAndNarratorText=dt;gt=function(i){function u(r,u,f,e,o,s,h,c,l){var a=i.call(this,r,f,e,s)||this;return a._host=r,a._autoComplete=u,a._navigationHelper=o,a._headerFooterViewModel=h,a._previewPane=c,a._menuFactory=l,a._pendingSubmitSequenceNumber=-1,a._pendingSubmitModifierKeys=null,a._pendingSubmitTimeStamp=null,a._resultsCounter={topResults:[],groups:[]},a._pendingSuggestionsInExistingGroups=[],a._pendingSuggestionsInMissingGroups=[],s.setSuggestionClickHandler(a.doubleClickGuardedHandler(function(t,i){n.safeExecute(function(){return a.click(n.getCurrentTime(),t,n.getInputType(i),null)},"suggestionClickHandler")})),s.setContextMenuHandler(function(t,i){n.safeExecute(function(){return a._menuFactory.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return a._host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")}),s.setOpenPreviewPaneClickHandler(function(t,i){n.safeExecute(function(){return a.openPreviewPane(t,i)},"openPreviewPaneClickHandler")}),s.setExpanderClickInstrumentation(function(n,t,i){var r="Expander"+(i?"Opened":"Closed"),u={st:t,K:n.instItem.getLayoutKValue()};a._instrumentationHelper.logClientInstEvent("Select",r,null,u)}),a._previewPane&&(a._previewPane.init(a),a._previewPane.bindBeforeItemLaunch(function(n,t,i,r,u,f){return a._instrumentationHelper.instrumentItemClickForPreviewPane(n,t.instItem,t.sequenceNumber,t.instrumentPingBack,i,null,r,u,f)}),a._previewPane.bindAfterItemLaunch(function(n,t,i){return a.onSuggestionLaunch(n,t,i)})),r.bindShown(function(){!t.isMobileCache&&v.queryFormulationView.deviceSearch.getSearchServiceStatusAsync&&t.Promise.safeChain("getSearchServiceStatusAsync",function(){return v.queryFormulationView.deviceSearch.getSearchServiceStatusAsync()},function(n){a._instrumentationHelper.setSearchServiceStatus(ir(n));n!=0&&n!=4&&n!=3&&n!=7&&a.showIndexingMessage(!1)})}),s.bindOnNarratorLaunch(function(t){for(var i,f=n.getCurrentTime(),e=a.getSelectableItems(),r=0,u=e;r<u.length;r++)if(i=u[r],i.id==t){a.isSuggestionOrGroup(i)?(a.select(i,!1),a.submit(f,!1,i.sequenceNumber,null,!0)):a._headerFooterViewModel.isScopeElement(i)&&_ge(i.id).click();break}}),r.bindSearchBoxGotFocus(function(){a._menuFactory.dismiss();var t=n.getCurrentActiveElement();t&&t.blur();a._selectedItem&&!a._headerFooterViewModel.isScopeElement(a._selectedItem)&&a.renderSelectedSuggestionState(!1)}),r.bindSearchBoxLostFocus(function(){var i=t.isScopeTile(n.getCurrentActiveElement());i?n.safeSetTimeout(function(){a._host.searchBoxHasFocus()||a._headerFooterViewModel.isScopeElement(a._selectedItem)||a.renderSelectedSuggestionState(!0)},75,"RootViewModel.bindSearchBoxLostFocus"):a.renderSelectedSuggestionState(!0)}),sj_evt.bind("CortanaPaneWidthSet",function(n){return a.onPaneWidthSet(n[1])}),sj_be(_ge("qfContainer"),"scroll",function(){return a._menuFactory.dismiss()}),a}return __extends(u,i),u.prototype.onDismiss=function(){i.prototype.onDismiss.call(this);this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this.toggleProgressBar(!1);this._menuFactory.dismiss();this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable&&this._previewPane.dismiss();this._page.hideTemporaryMessage();this.hideIndexingMessage();t.DialogBox&&t.DialogBox.hide();this._headerFooterViewModel.render(null,!1,!1,!1,!0);t.config.glyphInSearchBox&&this._host.setSearchBoxGlyphIcon()},u.prototype.onPaneWidthSet=function(n){ht=Math.floor((n-2*a)/et);st=Math.floor((n-2*a)/ft)},u.prototype.setSelectedStyleSuspended=function(n,t){n.selectedStyleSuspended=t&&this._host.isRequestFocusAvailable()},u.prototype.renderSelectedSuggestionState=function(n){this._selectedItem&&(this.setSelectedStyleSuspended(this._selectedItem,n),this.renderSelection(this._selectedItem))},u.prototype.toggleProgressBar=function(i){var r=this;t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),i?(this._partialQuery.showProgressBar||this._partialQuery.queryToFetch=="")&&(this._progressTimer=n.safeSetTimeout(function(){r._progressTimer&&(r._page.setProgressIndicatorVisibility(!0),r._progressTimer=null)},250,"showProgress")):t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),this._page.setProgressIndicatorVisibility(!1)))},u.prototype.resetPendingSubmitSequenceNumber=function(){this._pendingSubmitSequenceNumber=null;this._pendingSubmitModifierKeys=null;this._pendingSubmitTimeStamp=null},u.prototype.onAfterKeyDown=function(i,r,u,f){var a,o,v,y,c,l,s,p;if(!this._partialQuery||!this._menuFactory.isMenuVisible()&&i==13)return!1;var h=r&&r.shiftKey,e=this._previewPane&&this._previewPane.hasFocus();if(this._page.hideTemporaryMessage(),this.resetPendingSubmitSequenceNumber(),!u&&n.isContextMenuKey(i,h)&&!e)return this.tryShowContextMenuOnSelectedSuggestion(),!0;if(this._menuFactory.isMenuVisible()){if(i==37||i==39||i==13||n.isUpOrDownKey(i)){if(a=this._menuFactory.onAfterKeyDown(i,r,u,f),a)return!0;if(n.isUpOrDownKey(i))return!1}this._menuFactory.dismiss(!0)}if(o=n.getCurrentActiveElement(),!t.isScopeTile(o)||e||this._menuFactory.isMenuVisible()||i!=39&&i!=37)if(i==9)t.config.allowTabToSelectSuggestions||h||!this._selectedItem||e||this._headerFooterViewModel.isScopeElement(this._selectedItem)?f||this.handleCrossViewModelsTabKeyNavigation(o,h):this.select(this._headerFooterViewModel.getSelectableItems()[0],!1);else{if(t.DialogBox&&t.DialogBox.isVisible())return!0;if(t.RuntimeConfig.PreviewPaneAvailable&&this._previewPane&&this._selectedItem&&!this._headerFooterViewModel.isScopeElement(this._selectedItem)){this._previewPane.onAfterKeyDownWhenNewSelection(i,this._partialQuery,this._selectedItem);if(e)return!0}}else v=t.getRtlAdjustedKey(i),this._headerFooterViewModel.focusNextScopeTile(o,v==39),y=this._headerFooterViewModel.getSelectableItems(),this.select(y[0],!1);return e=this._previewPane&&this._previewPane.hasFocus(),this._selectedItem&&(n.isUpOrDownKey(i)||i==9)&&!e&&(c=this._headerFooterViewModel.isScopeElement(this._selectedItem),c||this._selectedItem==this.topResults[0]?this._page.scrollToTop():this._page.scrollTo(this._selectedItem),l="rvm onAfterKeyDown-AdjustFocus",c||this.isAdvancedOption(this._selectedItem)?(this.isAdvancedOption(this._selectedItem)?_ge(this._selectedItem.id).querySelector("input").focus():_ge(this._selectedItem.id).focus(),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView(l)):i!=9&&this._host.searchBoxHasFocus()||this._host.setFocusInSearchBox(i,l)),t.config.forceTypedQueryOnTopSupported&&i==46&&this._partialQuery&&this._selectedItem&&this._selectedItem===this.topResults[0]&&this.topResults[0].query.toLocaleLowerCase()!=this._partialQuery.queryToFetch.toLocaleLowerCase()&&(s=this._host.getQuery(),s.originalQuery==this._partialQuery.originalQuery&&(p=s.originalCursorPosition==s.originalQuery.length,p&&this._host.reformulate(this._partialQuery.originalQuery,null,1))),!1},u.prototype.handleCrossViewModelsTabKeyNavigation=function(i,r){var v=this,y=t.RuntimeConfig.PreviewPaneAvailable&&!!this._previewPane,s=y&&this._previewPane.isOpened(),p=s&&this._previewPane.hasFocus(),e,h,f,a,u,c,l,o;t.DialogBox&&t.DialogBox.isVisible()?(e=t.DialogBox.getSelectableItemsByGroup(),r?this.select(e[e.length-1][0],!1):this.select(e[0][0],!1)):p?r?(this._previewPane.blur(),h=this._headerFooterViewModel.getSelectableItemsByGroup(),o=h[h.length-1][0],this.select(o,!1)):(this._previewPane.blur(),u=this.getSelectableItems(),this.select(u[0],!0)):t.isScopeTile(i)?!s||r?(f=this.getSelectableSuggestionsByGroup(!0),f.length>0?(a=r?f[f.length-1][0]:f[0][0],this.select(a,!0)):(u=this.getSelectableItems(),u.length>0?this.select(u[0],!0):this.select(null,!0)),c="handleCrossBordersNavigationWithTab",n.safeSetTimeout(function(){return v._host.setFocusInSearchBox(9,c)},0,c)):(this.select(this._previewPane.getPreviewedSuggestion(),!0),this._previewPane.focus(!0)):this._selectedItem?r?s?this._previewPane.focus():(l=this.getSelectableItemsByGroup(),o=l[l.length-1][0],this.select(o,!1)):this.select(this.getSelectableItemsByGroup()[0][0],!1):this.select(this.getSelectableItemsByGroup()[0][0],!1)},u.prototype.tryShowContextMenuOnSelectedSuggestion=function(){var i=this,t=this._selectedItem&&this.isSuggestion(this._selectedItem)?this._selectedItem:null;t&&n.safeExecute(function(){return i._menuFactory.showContextMenuOnElement(t,_ge(t.id),function(){return i._host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")},u.prototype.onQueryChanged=function(r,u){var c=this,l,e,p,w,b,o,s,a,v,h,y,f;if(t.DialogBox&&t.DialogBox.hide(),this._menuFactory.dismiss(),!this._partialQuery||!this._partialQuery.equals(r)){if(this._page.hideTemporaryMessage(),t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),r.showProgressBar?this._progressTimer=n.safeSetTimeout(function(){c._progressTimer&&(c._page.setProgressIndicatorVisibility(!0),c._progressTimer=null)},250,"showProgress"):this._page.setProgressIndicatorVisibility(!1)),this._partialQuery&&this._partialQuery.scope!=r.scope&&(this._turnOnIndexingInstItem||this.hideIndexingMessage()),l=this._partialQuery?this._partialQuery.queryToFetch:"",e=r.queryToFetch,this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable)this._previewPane.onQueryChanged(r);for(p=this._partialQuery?this._partialQuery.scope:t.Scope.All,i.prototype.onQueryChanged.call(this,r,u),w=t.config.glyphInSearchBox==1,w&&r.scope!=p&&(b=t.ScopeConfig[r.scope],r.scope==t.Scope.All?this._host.setSearchBoxGlyphIcon():this._host.setSearchBoxGlyphIcon(b.icon)),o=!1,s=0,a=this.topResults;s<a.length;s++)f=a[s],f.updateFromQuery&&!f.hasPreviewPaneOpened?f.updateFromQuery(r)&&(o=!0):e.length>l.length&&e.startsWith(l)&&f.query.toLowerCase().includes(r.queryToFetch.toLowerCase())&&(v=f.text.indexOf(HitHighlightingParser.endMarker),v>=0&&v<f.text.length-1&&(f.text=HitHighlightingParser.addMarkers(HitHighlightingParser.removeMarkers(f.text),e),o=!0));if(o){for(h=0,y=this.topResults;h<y.length;h++)f=y[h],f.sequenceNumber=u,this.updateNarratorWithPreviewMessage(f);this.renderTopResults()}}},u.prototype.onSuggestionsParsed=function(n,i,r,u,f){var s=n.enabledDataSources[r].groupType,e,o,h;if(typeof s=="number")for(e=0,o=f;e<o.length;e++)h=o[e],h.staticGroupType=s;(u==="NI"||u==="PI")&&(r=="PP"||r=="ST"||n.scope!=t.Scope.All)&&n.scope!=t.Scope.Web&&this.showIndexingMessage(!0)},u.prototype.areSuggestionsPresent=function(){return this.topResults.length>0||this.groups.length>0&&this.groups.some(function(n){return n.suggestions.length>0})},u.prototype.getSuggestions=function(n){var t=this.getCurrentTopResults();return this.groups.forEach(function(n){return t=t.concat(n.suggestions)}),n&&(this._pendingSuggestionsInExistingGroups.forEach(function(n){return t=t.concat(n.suggestions)}),this._pendingSuggestionsInMissingGroups.forEach(function(n){return t=t.concat(n.suggestions)})),t},u.prototype.getSelectableItems=function(){var n,i,u,r;if(t.DialogBox&&t.DialogBox.isVisible())return t.DialogBox.getSelectableItems();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItems();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItems();for(n=[],n.push.apply(n,this.topResults),i=0,u=this.groups;i<u.length;i++)r=u[i],r.click&&n.push(r),n.push.apply(n,r.suggestions.filter(function(n){return!n.suppressed}));return this.areSuggestionsPresent()||n.push(s),t.config.allowUpForScopes&&n.push.apply(n,this._headerFooterViewModel.getSelectableItems()),n},u.prototype.getSelectableSuggestionsByGroup=function(n){if(t.config.allowTabToSelectSuggestions){var i=[];return i.push(this.topResults),this.groups.forEach(function(n){n.click&&i.push([n]);i.push(n.suggestions.filter(function(n){return!n.suppressed}))}),n||i.push(this._headerFooterViewModel.getSelectableItems()),i.filter(function(n){return n.length>0})}return[]},u.prototype.getSelectableItemsByGroup=function(){if(t.DialogBox&&t.DialogBox.isVisible())return t.DialogBox.getSelectableItemsByGroup();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItemsByGroup();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItemsByGroup();var n=[];return n.push.apply(n,this._headerFooterViewModel.getSelectableItemsByGroup()),this._previewPane&&n.push.apply(n,this._previewPane.getSelectableItemsByGroup()),this.areSuggestionsPresent()?n.push.apply(n,this.getSelectableSuggestionsByGroup(!0)):n.push([s]),n},u.prototype.getSelectedItem=function(){return t.DialogBox&&t.DialogBox.isVisible()?t.DialogBox.getSelectedItem():this._menuFactory.isMenuVisible()?this._menuFactory.getSelectedItem():this._previewPane&&this._previewPane.hasFocus()?this._previewPane.getSelectedItem():this._selectedItem?this._selectedItem:s},u.prototype.updateSelectionState=function(t){n.contains(this.topResults,t)?this.renderTopResults():this.groups.some(function(i){return n.contains(i.suggestions,t)})&&this.renderGroups()},u.prototype.renderSelection=function(i,r){(i&&this.isSuggestion(i)&&n.contains(this.topResults,i)||r&&this.isSuggestion(r)&&n.contains(this.topResults,r))&&this.renderTopResults();(i&&this.isAdvancedOption(i)||r&&this.isAdvancedOption(r))&&this._headerFooterViewModel.updateTopHitHeader();(i&&t.isGroup(i)&&n.contains(this.groups,i)||i&&this.isSuggestion(i)&&this.groups.some(function(t){return n.contains(t.suggestions,i)})||r&&t.isGroup(r)&&n.contains(this.groups,r)||r&&this.isSuggestion(r)&&this.groups.some(function(t){return n.contains(t.suggestions,r)}))&&this.renderGroups()},u.prototype.select=function(i,r){var u,e,f;t.DialogBox&&t.DialogBox.isVisible()?t.DialogBox.select(i):this._menuFactory.isMenuVisible()&&n.contains(this._menuFactory.getSelectableItems(),i)?this._menuFactory.select(i,!1):this._previewPane&&n.contains(this._previewPane.getSelectableItems(),i)?this._previewPane.select(i,!1):(u=this._selectedItem,u&&(u.selected=!1,this.setSelectedStyleSuspended(u,!1)),i==s?(this._selectedItem=null,this._host.searchBoxHasFocus()||this._host.setFocusInSearchBox(null,"rvm_select")):(this._selectedItem=i,i&&(i.selected=!0,this.setSelectedStyleSuspended(i,!this._host.searchBoxHasFocus()))),this.renderSelection(this._selectedItem,u),e=t.config.glyphInSearchBox==2,e&&this.setSearchBoxGlyphIcon(i),this._headerFooterViewModel.isScopeElement(i)&&this._headerFooterViewModel.select(i,!1),r&&(t.config.dontUpdateSB&&i.handoffType!=0?this._host.updateQueryWithoutRefetching(null):(f=i?i.query:null,f&&this._partialQuery.scopePrefix&&(f=this._partialQuery.scopePrefix.trim()+": "+f),this._host.updateQueryWithoutRefetching(f))))},u.prototype.setSearchBoxGlyphIcon=function(i){var u,r,f,e;i&&(r=i.icon,r&&n.contains([2,1],r.type)?u=r:(f=t.isGroup(i)?i.typeWithSource.type:this.isSuggestion(i)?t.getGroupType(i):null,f!=null&&(e=t.getScope(f),u=e==t.Scope.All?null:t.ScopeConfig[e].icon)));this._host.setSearchBoxGlyphIcon(u)},u.prototype.renderTopResultsToUpdateIcons=function(){var i=this;t.config.delayRenderingForIcons?this._renderTopResultsTimerForIcons||(this._renderTopResultsTimerForIcons=n.safeSetTimeout(function(){i._renderTopResultsTimerForIcons=null;i.renderTopResults()},ot,"renderTopResultsToUpdateIcons")):this.renderTopResults()},u.prototype.renderGroupsToUpdateIcons=function(){var i=this;t.config.delayRenderingForIcons?this._renderGroupsTimerForIcons||(this._renderGroupsTimerForIcons=n.safeSetTimeout(function(){i._renderGroupsTimerForIcons=null;i.renderGroups()},ot,"renderGroups")):this.renderGroups()},u.prototype.setupIcon=function(i,r,u,f){var e=this,o;if(!r.suppressed&&r.getIcon)this._instrumentationHelper.notifyIconPending(i,u,r.instItem.getLayoutKValue(),r.type),o=this._partialQuery,r.getIcon(this.getImageSize(o,r,u),function(o){r.icon=o;var s=function(){e._partialQuery&&i==e._sequenceNumberReader.getSequenceNumber()&&(e._instrumentationHelper.notifyIconReady(i,u,r.instItem.getLayoutKValue(),r.type),u?n.contains(e.topResults,r)&&e.renderTopResultsToUpdateIcons():e.groups.some(function(t){return n.contains(t.suggestions,r)})&&e.renderGroupsToUpdateIcons(),f())};t.populateImageRatio(r.icon,r.type,s)});else if(!r.suppressed&&r.icon&&n.canIconFail(r.icon)){this._instrumentationHelper.notifyIconPending(i,u,r.instItem.getLayoutKValue(),r.type);var s=r.icon.getFallbackIcon,h=function(n,t){return t(r.icon)},c=r.icon.isValidSize,l=function(){r.getIcon=s;e.setupIcon(i,r,u,f)},a=function(){r.icon.isSmall=!0;r.getIcon=h;e.setupIcon(i,r,u,f)};r.icon.onIconError=l;r.icon.onIconRendered=function(n,t){c(n,t)?(e._instrumentationHelper.notifyIconReady(i,u,r.instItem.getLayoutKValue(),r.type),f()):a()};u?this.renderTopResultsToUpdateIcons():this.renderGroupsToUpdateIcons()}else f()},u.prototype.getImageSize=function(n,i,r){return n.isSearchHomeZI?i.type=="TOPL"?7:i.type=="AFC"?6:8:n.scope==t.Scope.Apps&&!n.queryToFetch?3:t.displayedInGridLayout(i.type)?2:r?0:1},u.prototype.isSuggestionOrGroup=function(n){return!this._headerFooterViewModel.isScopeElement(n)},u.prototype.isSuggestion=function(n){return!t.isGroup(n)&&!this._headerFooterViewModel.isScopeElement(n)&&!this.isAdvancedOption(n)},u.prototype.isAdvancedOption=function(n){return typeof n.layout=="number"},u.prototype.submit=function(i,r,u,f,e){var h=e?5:r?6:1,c=n.getCurrentActiveElement(),o,s,l;if(t.DialogBox&&t.DialogBox.isVisible()){t.DialogBox.submit();return}if(this._previewPane&&this._previewPane.hasFocus()){if(o=this._previewPane.getSelectedItem(),o&&o.click&&o.optionType===undefined){o.click(i,h);return}}else{if(this._selectedItem&&this._headerFooterViewModel.isScopeElement(this._selectedItem)&&!this._menuFactory.isMenuVisible()){_ge(this._selectedItem.id).click();return}if(t.RuntimeConfig.QfMode==5&&!this._selectedItem){this._host.submitFileExplorerTextSuggestion(this._partialQuery.queryToFetch);return}}if(s=this._menuFactory.getSelectedItem(),s){s.click&&s.click(i,h,f);return}if(l=!t.isBodyOrSuggestion(c),l){this._host.isRequestFocusAvailable()||c.click();return}if(this._lastUpdatedSequenceNumber!=u&&(!this._selectedItem||this._selectedItem==this.topResults[0])){this._pendingSubmitSequenceNumber=u;this._pendingSubmitModifierKeys=f;this._pendingSubmitTimeStamp=i;return}this._selectedItem?this.click(i,this._selectedItem,h,f):this.groups.length>0&&this._partialQuery.fullPartialQuery&&this.showDisableEnterMessage()},u.prototype.doubleClickGuardedHandler=function(t){var i;return function(r,u){i&&n.getCurrentDate().getTime()-i<=250||(i=n.getCurrentDate().getTime(),t(r,u))}},u.prototype.click=function(n,i,r,u){if(this._page.hideTemporaryMessage(),this.isAdvancedOption(i)){i.click&&i.click(n,r,u);return}var f=t.isGroup(i)?null:i;if(!i.instItem||f&&f.isReformulation||this._instrumentationHelper.instrumentItemClick(n,i.instItem,i.sequenceNumber,f?f.instrumentPingBack:null,r,u),!f){i.click&&i.click(n,r,u);return}u=u||this._host.getModifierKeyState();u.ctrlKey&&u.shiftKey?this.launchVerb(f,p,n):u.shiftKey?this.launchVerb(f,w,n):f.click(n,r,u);this.onSuggestionLaunch(f,this._partialQuery)},u.prototype.onSuggestionLaunch=function(n,r,u){t.isChildSuggestion(n)&&(n=n.parent);i.prototype.onSuggestionLaunch.call(this,n,r,u)},u.prototype.launchVerb=function(i,r,u){var f=vt("launchVerb",i,t.config.rawVerbs,!1,function(f){for(var h,c,o=!1,l=function(i){if(i.verb&&i.verb.toLocaleLowerCase()==r.toLocaleLowerCase())return i.executeSync?n.safeExecute(function(){return i.executeSync()},"verb.executeSync",null,r):t.Promise.safeChain("verb.executeAsync",function(){return i.executeAsync()},null,null,null,r),o=!0,"break"},e=0,s=f;e<s.length;e++)if(h=s[e],c=l(h),c==="break")break;o||i.click(u,0)},function(){return!0});f||i.click(u,0)},u.prototype.getGroupHeaderClickAction=function(i,r,u){var e=this,f,s,h=null,o,c,l;if(t.RuntimeConfig.ScopesAvailable&&(o=t.getScope(r.type),o!=t.Scope.All))if((t.config.newFilesScope1||t.config.newFilesScope2)&&t.isFileOrFolderScope(o)&&(o=t.Scope.AllFiles),r.type==t.GroupType.SearchSuggestions&&i.isSearchHomeZI)s=this._host.getLocString("OpenPrivacyPortalButtonText"),h=this._host.getLocString("ManageSearchHistory"),f=function(){return e._host.launchPrivacyPortal()};else return t.isL2(i)||!t.isScopeEnabled(o,t.ScopeConfig[o])?[null,null,null,null]:(c=function(){return e._headerFooterViewModel.clickHandler(o,"groupHeader",r)},[c,null,null,null]);if(!f)switch(r.type){case t.GroupType.Store:f=function(){return e._host.launchStoreSearch(i.queryToFetch)};break;case t.GroupType.SearchSuggestions:f=function(){return e.launchSearch(i,u)};break;case t.GroupType.PathCompletion:f=function(){return e._host.launchFolder(bt(i,e._partialQuery))};break;case t.GroupType.TopApps:t.config.getPopularApps&&(s=this._host.getLocString("GetPopularApps"),f=function(){return e._host.launchUri(t.config.getPopularAppsUrl)});break;case t.GroupType.ActivityFeedSuggestions:s=this._host.getLocString("OpenTimelineButtonText");h=this._host.getLocString("ManageActivityFeed");f=function(){return e._host.launchUri("ms-taskswitcher://?invoketo=timeline")}}if(f){if(!u)throw"No QS code for: "+t.GroupType[r.type];return l=n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,t.SyntheticQSCodesMaps.KValues),[f,l,s,h]}return[null,null,null,null]},u.prototype.shouldShowPlusIconInGroupHeader=function(n,i){if(t.getScope(n)==t.Scope.Web||n==t.GroupType.Store)return!1;if(n==t.GroupType.Apps&&this._partialQuery.queryToFetch.length<t.config.minLengthForIBAonL1)return!0;if(n==t.GroupType.Apps||n==t.GroupType.Settings){var r=i[n==t.GroupType.Apps?"PP":"ST"];return!(r&&r.maxedOut)}return!0},u.prototype.addGroup=function(n,i,u,f,e){var o,a;if(r(this.groups,n))throw new Error("Trying to add repeated group "+n);var v=t.GroupHeaderQSCodes[n.type],s=this.getGroupHeaderClickAction(this._partialQuery,n,v),h=s[0],c=s[1],y=s[2],p=s[3],l=dt(this._partialQuery,this._host,n.type,i,!!h);return n.source&&(l.title+=" - "+t.getGroupSourceDisplayName(n.source,this._host)),o=[],t.isTopHitChildGroup(n)?o.push("topHitConnectedToGroup"):n.type==t.GroupType.TopApps||this._partialQuery.isSearchHomeZI&&n.type==t.GroupType.People?o.push("topItemsGroup"):n.type==t.GroupType.ActivityFeedSuggestions?o.push("activityFeedGroup"):n.type==t.GroupType.QuickSearch?(o.push("balloonSuggGroup"),t.config.quickAnswer&&o.push("quickAnswerGroup")):n.type==t.GroupType.LockscreenQuickSearch?o.push("lockscreenQuickSuggGroup"):t.RuntimeConfig.QfMode==8&&(n.type==t.GroupType.Apps?o.push("appsGroup"):(n.type==t.GroupType.Documents||n.type==t.GroupType.Photos||n.type==t.GroupType.Videos||n.type==t.GroupType.Folders)&&o.push("filesGroup")),a={type:n.type,typeWithSource:n,id:"gr"+n.type+(n.source||""),text:l.title,secondaryText:y,narratorText:l.narratorText,tooltip:p,click:h,onlyAnnotationIsClickable:h&&!!y,suggestions:[],instRegionName:t.GroupType[n.type],instItem:c,selected:!1,cssClasses:o.join(" ")||undefined,sequenceNumber:u,showPlusIconInHeader:this.shouldShowPlusIconInGroupHeader(n.type,e)},c&&this._instrumentationHelper.instrumentSyntheticInstrumentedItem(u,v,c),this._resultsCounter.groups.push({typeWithSource:n,suggestions:[]}),this.insertGroup(a,f),a},u.prototype.insertGroup=function(n,i){for(var f,e=this,o=i.findIndex(function(i){return t.sameGroup(i,n.typeWithSource)}),u=!1,s=function(r){var f=i.findIndex(function(n){return t.sameGroup(n,e.groups[r].typeWithSource)});if(f>o)return h.groups.splice(r,0,n),u=!0,"break"},h=this,r=0;r<this.groups.length;r++)if(f=s(r),f==="break")break;u||this.groups.push(n)},u.prototype.handlePendingSubmit=function(n){if(this._pendingSubmitSequenceNumber==this._lastUpdatedSequenceNumber)try{if(this.topResults.length==0)(this.groups.length>0||n.length>0)&&this.showDisableEnterMessage();else{var t=this.topResults[0];return this._instrumentationHelper.instrumentItemClick(this._pendingSubmitTimeStamp,t.instItem,t.sequenceNumber,t.instrumentPingBack,1,this._pendingSubmitModifierKeys),this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.ctrlKey&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(t,p,this._pendingSubmitTimeStamp):this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(t,w,this._pendingSubmitTimeStamp):t.click(this._pendingSubmitTimeStamp,0,this._pendingSubmitModifierKeys),0}}finally{this.resetPendingSubmitSequenceNumber()}return 1},u.prototype.showDisableEnterMessage=function(){this._page.showTemporaryMessage(this._host.getLocString("EnterOnAmbiguousTopHitMessageText"))},u.prototype.showIndexingMessage=function(i){var r=this,u,f;t.isMobileCache||(i?this._turnOnIndexingInstItem=null:(this._turnOnIndexingInstItem=n.InstrumentedItem.getNonSuggestionInstrumentedItem("IMIO",t.SyntheticQSCodesMaps.KValues),u={id:null,selected:null,text:this._host.getLocString("WindowsIndexingDisabledAction"),title:null,instItem:this._turnOnIndexingInstItem,click:function(n,i){var u=r._sequenceNumberReader.getSequenceNumber();u>r._lastUpdatedSequenceNumber&&r._instrumentationHelper.instrumentSyntheticInstrumentedItem(u,"IMIO",r._turnOnIndexingInstItem);r._instrumentationHelper.instrumentItemClick(n,r._turnOnIndexingInstItem,u,null,i,null);t.LocalDataProvider.launchIndexingOptions(r._host,!1)},layout:1,isSelectable:!0}),f={messageText:i?this._host.getLocString("WindowsIndexingInProgressMessage"):this._host.getLocString("WindowsIndexingDisabledMessage"),title:i?this._host.getLocString("WindowsIndexingInProgressToolTip"):this._host.getLocString("WindowsIndexingDisabledToolTip"),action:u},this._page.updateIndexingMessageView(f))},u.prototype.hideIndexingMessage=function(){t.isMobileCache||(this._turnOnIndexingInstItem=null,this._page.updateIndexingMessageView(null))},u.prototype.getAvailableSpace=function(n){var r=this,i;return t.isL2(this._partialQuery)&&this._partialQuery.queryToFetch?Number.MAX_VALUE:(i=this._page.getSuggestionsContainerHeight(),t.config.extraTopPadding&&!t.RuntimeConfig.SearchBoxOnTop&&(i-=t.config.extraTopPadding),t.RuntimeConfig.ScopesAvailable&&(i-=oi),n.topResults.length==0||t.RuntimeConfig.FlatListWithoutGroups||(i-=ti),n.topResults.forEach(function(n){return i-=pt(n,t.isL2(r._partialQuery))}),n.groups.forEach(function(n){return i-=tr(r._partialQuery,n)}),n.groups.some(function(n){return n.typeWithSource&&t.isTopHitChildGroup(n.typeWithSource)})&&n.groups.some(function(n){return n.typeWithSource&&!t.isTopHitChildGroup(n.typeWithSource)})&&(i-=ei),i)},u.prototype.getAvailableSpaceForZeroInputHomeTopSection=function(n){var f=v.textScaleFactor||1,i=this._page.getSuggestionsContainerWidth()/f,r,u;return i-=t.RuntimeConfig.AlwaysWide?si:hi,r=n.suggestions.filter(function(n){return!n.isSuppressed}).length,u=t.RuntimeConfig.AlwaysWide?ci:li,i-(u+ai)*r},u.prototype.canFitSuggestion=function(i,u,f){if(f.suppressed||u.type==t.GroupType.StartMenu||t.getTweakedSetting("scrollBarInL1"))return!0;var s=yt(this._resultsCounter),e;return i?(e={typeWithSource:u,suggestions:[]},s.groups.push(e)):e=r(s.groups,u),e.suggestions.push({mainTextWrapsToTwoLines:f&&o(f,u.type,!1),isSuppressed:f&&f.suppressed,hasTwoLines:f&&n.contains(f.classNames,"forceNoWrapOutsideTopResult")}),this._partialQuery.isSearchHomeZI?this.canFitSuggestionInZeroInputHome(e):this.getAvailableSpace(s)>=0},u.prototype.canFitSuggestionInZeroInputHome=function(n){if(kt(n.typeWithSource.type))return this.getAvailableSpaceForZeroInputHomeTopSection(n)>=0;switch(n.typeWithSource.type){case t.GroupType.QuickSearch:return t.config.quickAnswer?t.RuntimeConfig.QfMode==4||t.RuntimeConfig.QfMode==0?n.suggestions.length<=pi:n.suggestions.length<=yi:!0;case t.GroupType.LockscreenQuickSearch:return!0}return n.suggestions.length<=vi},u.prototype.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup=function(){var i,r,u,n,f;if(t.isL2(this._partialQuery)&&this._partialQuery.queryToFetch||t.getTweakedSetting("scrollBarInL1"))return Number.MAX_VALUE;for(i=yt(this._resultsCounter),r=0,u=i.groups;r<u.length;r++)for(n=u[r];n.suggestions.length<t.config.minSuggestionsPerGroup;)n.suggestions.push(n.suggestions[0]);while(this.getAvailableSpace(i)>0){for(n={suggestions:[]},f=0;f<t.config.minSuggestionsPerGroup;++f)n.suggestions.push({mainTextWrapsToTwoLines:!1,isSuppressed:!1,hasTwoLines:!1});i.groups.push(n)}return i.groups.length-1},u.prototype.onSuggestionAddedToGroup=function(i,u){var e=this,f,s;this.updateNarratorWithPreviewMessage(i);t.isChildSuggestion(i)&&(i.displayed=!0,f=i.parent,i.id=f.id+"_"+f.childSuggestions.indexOf(i),t.isJumpListSuggestion(i)&&i.tooltip===undefined&&t.Promise.safeChain("getJumpListDescription",function(){return i.jumpListItem.getDescriptionAsync()},function(t){i.tooltip=t;e.groups.some(function(t){return n.contains(t.suggestions,i)})&&e.renderGroups()}));this.setRemoveIconHistorySuggestions(i);s=r(this._resultsCounter.groups,u.typeWithSource);s.suggestions.push({mainTextWrapsToTwoLines:o(i,u.typeWithSource.type,!1),isSuppressed:i.suppressed,hasTwoLines:n.contains(i.classNames,"forceNoWrapOutsideTopResult")});t.displayedInGridLayout(u.typeWithSource.type)&&u.suggestions.filter(function(n){return!n.suppressed}).length>0&&t.RuntimeConfig.QfMode!=8&&(u.cssClasses+=t.isL2(this._partialQuery)?" gridLayout":" gridLayout gridLayoutMedium")},u.prototype.onGroupsCleared=function(){this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this._resultsCounter.groups=[];this._turnOnIndexingInstItem&&this._instrumentationHelper.instrumentSyntheticInstrumentedItem(this._lastUpdatedSequenceNumber,"IMIO",this._turnOnIndexingInstItem)},u.prototype.launchSearch=function(n,t){var i=n.queryToFetch;this._host.launchSearch(i,this._navigationHelper.getSearchUrl(n.fullPartialQuery,i,t),!1)},u.prototype.setRemoveIconHistorySuggestions=function(n){var i=this,r=n.getExtraVerbs&&n.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromDeviceHistory"}),e=n.type=="HS"&&t.config.removeSuggUrl,f=n.getExtraVerbs&&n.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromActivityFeed"}),o=t.config.th&&ClientTestHooks.isTesthookParamSet("forceRemoveIcon"),u;(o||r||e||f)&&(u=r?"RemoveFromDeviceHistory":f?"RemoveFromActivityFeed":"RemoveFromWebHistory",n.removeIcon={icon:{content:"&#xE711",type:2},title:this._host.getLocString(r?"RemoveFromDeviceHistory":"RemoveFromWebHistory"),click:function(t,r){i._page.hideTemporaryMessage();i._instrumentationHelper.instrumentItemClickForContextMenu(t,n.instItem,n.sequenceNumber,n.instrumentPingBack,r,null,u);i.launchVerb(n,u,t);i._host.setFocusInSearchBox(null,"remove")}})},u.prototype.updateNarratorWithPreviewMessage=function(n){var r=t.RuntimeConfig.AlwaysWide?"PreviewPaneButtonNarratorMessageWidePane":"PreviewPaneButtonNarratorMessage",i=this._host.getLocString(r);n.narratorText&&n.previewPaneType&&n.narratorText.indexOf(i)==-1&&(n.narratorText+=", "+i)},u.prototype.onBeforeRenderTopResults=function(i,r,u,f){var e=this,h,c,o,l,a;this.topResults.forEach(function(n){e.setRemoveIconHistorySuggestions(n);e.updateNarratorWithPreviewMessage(n)});h=1;this.topResults.length!=1||this.topResults[0].hasChildSuggestionsDisplayed||r.some(function(n){return t.isChildSuggestion(n)})&&(this.topResults[0].hasChildSuggestionsDisplayed=!0,h=0);c=this.getSelectableItems();t.RuntimeConfig.FirstSuggestionSelectedByDefault&&(this._selectedItem&&n.contains(c,this._selectedItem)&&!this._headerFooterViewModel.isScopeElement(this._selectedItem)&&(this._selectedItem!=i[0]||this.topResults[0]==i[0])||(o=this._partialQuery.queryToFetch&&this.topResults.length>0?this.topResults[0]:null,t.config.synthWebNoBestMatch&&t.isNullOrUndefined(o)&&(l=[t.GroupType.SearchSuggestions,t.GroupType.Websites],a=r.filter(function(i){return!n.contains(l,t.getGroupType(i))}),a.length==0&&(o=r.length>0?r[0]:null)),this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable&&n.safeExecute(function(){return e._previewPane.onTopHitUpdated(e._partialQuery,e._selectedItem&&e.isSuggestion(e._selectedItem)?e._selectedItem:null,o,e.getSuggestions(!1))},"ppOnTopHitUpdated"),this.select(o,!1),this._page.scrollToTop()));var v=this.topResults.length>0,s=function(n){return!n.suppressed&&(!t.config.recourseOnlyInGroups||!t.isRecourse(n))&&(!t.config.quickAnswer||n.staticGroupType!=t.GroupType.QuickSearch)&&(t.RuntimeConfig.QfMode!=6||n.type!="LSQS")},y=v||r.some(s)||this.groups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.some(s)});return this._headerFooterViewModel.render(this._partialQuery,v,y,u,f),h},u.prototype.isRankable=function(n){return n.typeWithSource.type!=t.GroupType.SearchSuggestions&&n.typeWithSource.type!=t.GroupType.Websites&&n.typeWithSource.type!=t.GroupType.LocalPlaces&&!n.suggestions.some(t.enforceOriginalOrder)},u.prototype.isNotRankableWithRecourse=function(n){return n.typeWithSource.type==t.GroupType.Emails},u.prototype.openPreviewPane=function(n,i){i.stopPropagation();this._previewPane.showPreview(this._partialQuery,n);this.select(n,!t.config.dontUpdateSB);this._host.setFocusInSearchBox(null,"openPreviewPane")},u.prototype.mayNeedFlush=function(){return!t.RuntimeConfig.FlatListWithoutGroups},u.prototype.shouldRenderGroup=function(i){return t.RuntimeConfig.PreviewPaneAvailable&&t.config.suppressedGroups&&n.contains(t.config.suppressedGroups,i)?!1:!0},u.prototype.update=function(i,r,u,f,e,s,h,c,l,a){var v=this,d=this.topResults,w,g,nt,b,tt,y,ft;if(i&&(this._contentQuery=this._partialQuery,this._renderTopResultsTimerForIcons=null,this._renderGroupsTimerForIcons=null),t.config.enableMRUHint)for(w=0,g=r;w<g.length;w++)nt=g[w],nt.mruHintEnabled&&(nt.uxHint=this._host.getLocString("MruBestMatch"));var ut=this.updateTopResults(i,r,u,f,e,l),st=ut[0],ht=ut[1];for(ht(),this._resultsCounter.topResults=[],b=0,tt=this.topResults;b<tt.length;b++)y=tt[b],ft=1+(y.primaryMetadata?1:0)+(y.secondaryMetadata||y.stars?1:0),this._resultsCounter.topResults.push({mainTextWrapsToTwoLines:o(y,null,!0),numberOfLines:ft,isHtmlAnswer:!!y.htmlContent,isSuppressed:!1,grid:t.displayedInGridLayout(y.type)});if(this._autoComplete&&this.topResults.length>0&&this._selectedItem==this.topResults[0]&&this._autoComplete.apply(this.topResults[0]),this.handlePendingSubmit(e)==0)return this.toggleProgressBar(!0),0;this._partialQuery&&this._partialQuery.isSearchHomeZI&&this.toggleProgressBar(!l);var k=!1,it=0,et=function(){if(k&&it==0){var n=v.groups.map(function(n){return n.typeWithSource.type});v._instrumentationHelper.instrumentRenderFinished(f,h,n);k=!1}},rt=function(n,t){var r=!1,i;if(v.isRankable(t)&&v._partialQuery&&v._partialQuery.queryToFetch)for(i=0;i<t.suggestions.length;i++)if(n.rankingScore>t.suggestions[i].rankingScore){t.suggestions.splice(i,0,n);r=!0;break}r||t.suggestions.push(n);it+=1;v.setupIcon(f,n,!1,function(){it-=1;et()});v.onSuggestionAddedToGroup(n,t)},p=this.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup()-this.groups.length,ot=function(){var i,r,n,e;if(p!=0&&u||v.flush(rt,f,c),v._partialQuery&&v._partialQuery.queryToFetch)for(v.groups.sort(function(n,i){return c.findIndex(function(i){return t.sameGroup(i,n.typeWithSource)})-c.findIndex(function(n){return t.sameGroup(n,i.typeWithSource)})}),i=0,r=v.groups;i<r.length;i++)n=r[i],v.isRankable(n)?n.suggestions.sort(function(n,t){return t.rankingScore-n.rankingScore}):v.isNotRankableWithRecourse(n)&&(e=n.suggestions.map(function(n){return n.notAResult}).findIndex(function(n){return n}),e!=-1&&n.suggestions.splice(n.suggestions.length-1,0,n.suggestions.splice(e,1)[0])),v.populateGroupHeaderFlags(n)};return i||e.length>0||s.length>0?(this.renderGroupsAfter(function(){for(var ft,h,l,g,nt,y,tt,w,it,r,b,ut,o=0,k=s;o<k.length;o++)r=k[o],ft=v.removeSuggestion(r,a),ft&&(p+=1);for(h=function(n,i){var e=v.getGroupData(n),u=e[0],r=e[1],o;v.shouldRenderGroup(u.type)&&(r?(r.count&&r.count++,o=t.config.minSuggestionsPerGroup&&!i?t.config.minSuggestionsPerGroup-r.suggestions.length:999,o>0&&v.canFitSuggestion(!1,u,n)?rt(n,r):v._partialQuery.isSearchHomeZI||v.queueSuggestionInExistingGroup(n,r)):p>0&&v.canFitSuggestion(!0,u,n)?(r=v.addGroup(u,n,f,c,a),v.shouldTrackGroupCount(r)&&(r.count=1),rt(n,r),p-=1):v._partialQuery.isSearchHomeZI||v.queueSuggestionInMissingGroup(n,u,a))},l=0,g=d;l<g.length;l++){var et=g[l],ht=v.getGroupData(et),u=ht[1];u&&u.count&&(u.count-=1)}if(nt=function(){return v._contentQuery.isSearchHomeZI||t.shouldFetchStartMenu(v._contentQuery)||t.getTweakedSetting("scrollBarInL1")},st&&!i){for(y=0,tt=e;y<tt.length;y++)r=tt[y],n.contains(d,r)&&h(r,!0);for(w=0,it=e;w<it.length;w++)r=it[w],n.contains(d,r)||h(r,nt())}else e.forEach(function(n){return h(n,nt())});for(b=0,ut=v.topResults;b<ut.length;b++){var et=ut[b],ct=v.getGroupData(et),u=ct[1];u&&u.count&&(u.count+=1)}ot()}),k=!0):p!=0&&u||(this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.length>0})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))&&(this.renderGroupsAfter(function(){return ot()}),k=!0),et(),l&&this.toggleProgressBar(!1),1},u.prototype.populateGroupHeaderFlags=function(n){if(t.canGoToL2(n)){var i=n.suggestions.every(function(n){return n.suppressed});n.showCountInHeader=i}},u.prototype.shouldTrackGroupCount=function(n){return t.canGoToL2(n)},u.prototype.getGroupData=function(n){var i={type:t.getGroupType(n),source:n.sourceForGroup};return[i,r(this.groups,i)]},u.prototype.removePendingSuggestionFromExistingGroup=function(n,t){for(var r,u,i=0;i<this._pendingSuggestionsInExistingGroups.length;++i)if(r=this._pendingSuggestionsInExistingGroups[i],r.group==t)if(u=r.suggestions.indexOf(n),u==-1)throw new Error("Pending suggestion not found");else{r.suggestions.splice(u,1);r.suggestions.length==0&&this._pendingSuggestionsInExistingGroups.splice(i,1);return}throw new Error("Pending suggestion not found");},u.prototype.removePendingSuggestionFromMissingGroup=function(n,i){for(var u,f,r=0;r<this._pendingSuggestionsInMissingGroups.length;++r)if(u=this._pendingSuggestionsInMissingGroups[r],t.sameGroup(u.typeWithSource,i))if(f=u.suggestions.indexOf(n),f==-1)throw new Error("Pending suggestion not found");else{u.suggestions.splice(f,1);u.suggestions.length==0&&this._pendingSuggestionsInMissingGroups.splice(r,1);return}throw new Error("Pending suggestion not found");},u.prototype.queueSuggestionInExistingGroup=function(n,t){var i=wt(this._pendingSuggestionsInExistingGroups,t.typeWithSource);i?i.suggestions.push(n):(i={group:t,suggestions:[n]},this._pendingSuggestionsInExistingGroups.push(i))},u.prototype.queueSuggestionInMissingGroup=function(n,t,i){var u=r(this._pendingSuggestionsInMissingGroups,t);u?u.suggestions.push(n):(u={typeWithSource:t,suggestions:[n],extraSignalsMap:i},this._pendingSuggestionsInMissingGroups.push(u))},u.prototype.partialFlush=function(n,t,i,r){while(n>0&&i.length>0){var u=i[0];this.canFitSuggestion(!1,t.typeWithSource,u)&&r(u,t);i.splice(0,1);n-=1}},u.prototype.flush=function(n,i,r){for(var e,s,u,c,l=this,a=function(u){var o=u.suggestions[0],e;o&&f.canFitSuggestion(!0,u.typeWithSource,o)&&(e=f.addGroup(u.typeWithSource,o,i,r,u.extraSignalsMap),f.shouldTrackGroupCount(e)&&(e.count=u.suggestions.length),f.partialFlush(t.config.minSuggestionsPerGroup,e,u.suggestions,n),u.suggestions.forEach(function(n){return l.queueSuggestionInExistingGroup(n,e)}),u.suggestions=[])},f=this,o=0,h=this._pendingSuggestionsInMissingGroups;o<h.length;o++)u=h[o],a(u);while(this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))for(e=0,s=this._pendingSuggestionsInExistingGroups;e<s.length;e++)u=s[e],c=t.config.minSuggestionsPerGroup?1:u.suggestions.length,this.partialFlush(c,u.group,u.suggestions,n)},u.prototype.removeSuggestion=function(i,u){var h={type:t.getGroupType(i),source:i.sourceForGroup},f=r(this.groups,h),e,c,s;if(f)if(n.tryRemove(f.suggestions,i)){if(e=r(this._resultsCounter.groups,f.typeWithSource),c=o(i,f.typeWithSource.type,!1),n.removeFirstWhere(e.suggestions,function(n){return n.mainTextWrapsToTwoLines==c}),t.displayedInGridLayout(f.typeWithSource.type)&&f.suggestions.filter(function(n){return!n.suppressed}).length==0&&(f.cssClasses=""),f.suggestions.length==0)return n.tryRemove(this.groups,f),this._resultsCounter.groups=this._resultsCounter.groups.filter(function(n){return n!=e}),s=wt(this._pendingSuggestionsInExistingGroups,f.typeWithSource),s&&this._pendingSuggestionsInMissingGroups.push({typeWithSource:f.typeWithSource,suggestions:s.suggestions,extraSignalsMap:u}),!0}else this.removePendingSuggestionFromExistingGroup(i,f);else this.removePendingSuggestionFromMissingGroup(i,h);return!1},u}(n.BaseRootViewModel);t.RootViewModel=gt})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}))
"||t.RuntimeConfig.QfMode==2)&&(n.reformulate(""),b.setFocusInSearchBox("clear search box"),y.logClientInstEvent("Select","ClearSearchBox",null))}),n.bindScopeListRequiresUpdate(function(){b.init();b._currentQuery&&b.renderScopes(!0)}),n.bindOnFeedbackClosing(function(n){!n&&t.RuntimeConfig.AlwaysWide&&_ge(r).focus()}),this._substrateUpsellDismiss={action:function(){b._upsellGotDismissed=!0;w.setItem(u,"1");n.refreshCurrentPane()},icon:{content:"&#xE711",type:2}},l&&l.bindRewardsBadgeUpdated(function(){b._currentQuery&&b.renderScopes(!0)}))}return h.prototype.focusNextScopeTile=function(n,i){var r=[].slice.call(this._scopesHeaderElement.getElementsByClassName("scopeTile")),u=t.shouldSkipSelectedScope()?r.filter(function(n){return!n.classList.contains("selectedScope")}):r;this._currentScopeTileIndex=u.indexOf(n);i?this._currentScopeTileIndex!=u.length-1&&++this._currentScopeTileIndex:this._currentScopeTileIndex>0&&--this._currentScopeTileIndex;t.shouldSkipSelectedScope()&&(this._currentScopeTileIndex=r.indexOf(u[this._currentScopeTileIndex]));this._menuFactory.dismiss();r[this._currentScopeTileIndex].focus()},h.prototype.render=function(n,i,r,u,f){if(t.config.renderScopeBarOnAppShown||(this._currentQuery=n),n){var e=t.getEffectiveScope(n);this.innerRender(n.scope,e,n,i,r,u,f)}else this.cleanUp()},h.prototype.getScopeToolTip=function(n,i){var u=t.ScopeConfig[n],f=t.getScopeDisplayName(u,this._host),r;return r=i&&!this._allScopeButtonPresent?"RemovingScopeNarratorText2":n==t.Scope.All?"AddingScopeNarratorTextAll2":"AddingScopeNarratorText",this._host.getLocString(r,f.toLocaleLowerCase())},h.prototype.selectScope=function(n){var i,r,t;for(this._selectedScope&&(this._selectedScope.tooltip=this.getScopeToolTip(this._selectedScope.type,!1),this._selectedScope.enabled=!1,this._selectedScope=null),i=0,r=this._scopeTiles;i<r.length;i++)if(t=r[i],t.enabled=t.type==n,t.enabled){t.tooltip=this.getScopeToolTip(n,!0);this._selectedScope=t;break}},h.prototype.innerRender=function(n,i,r,u,f,e,o){this._topHitPresent=u;this._resultsPresent=f;this.renderTopHitHeader(n,i,r,f,e,o);t.RuntimeConfig.ScopesAvailable&&(this._scopeTiles||this.init(),this._scopeTiles&&(!this._selectedScope||this._selectedScope.type!=n)&&this.selectScope(n),this.renderScopes(!0))},h.prototype.renderTopHitHeader=function(n,i,r,u,f,e){var o=t.ScopeConfig[i],l=r.showProgressBar?e:!f,a=!r||!r.queryToFetch,v=this.getEmptyResultsMessage(u,l,a,i,o),s=v[0],h=v[1],c=l||a||u||!this._lastRenderedTopHitHeader||t.uses3lineTemplate(i)?this.getHeaderText(i,o):this._lastRenderedTopHitHeader.headerText,y;(this._advancedOptionsScope=t.RuntimeConfig.ScopesAvailable&&o.showUpsellOnSuggestionsList&&o.showUpsellOnSuggestionsList()?this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),0):[],t.RuntimeConfig.AlwaysWide&&(this._advancedOptionsScope=this._advancedOptionsScope.concat(this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),1))),this._lastRenderedTopHitHeader&&this._lastRenderedTopHitHeader.scope==n&&this._lastRenderedTopHitHeader.message==s&&this._lastRenderedTopHitHeader.subMessage==h&&this._lastRenderedTopHitHeader.headerText==c&&this._lastRenderedTopHitHeader.advancedOptions==this._advancedOptionsScope)||(this._lastRenderedTopHitHeader={scope:n,headerText:c,message:s,subMessage:h,advancedOptions:this._advancedOptionsScope,scopeForDisplay:i},y={headerText:c,message:s,subMessage:h,messageIcon:s?o.icon:null,advancedOptions:this._advancedOptionsScope},this._page.updateTopHitHeaderView(y))},h.prototype.updateTopHitHeader=function(){if(this._lastRenderedTopHitHeader){var n=t.ScopeConfig[this._lastRenderedTopHitHeader.scopeForDisplay],i={headerText:this._lastRenderedTopHitHeader.headerText,message:this._lastRenderedTopHitHeader.message,subMessage:this._lastRenderedTopHitHeader.subMessage,messageIcon:this._lastRenderedTopHitHeader.message?n.icon:null,advancedOptions:this._advancedOptionsScope};this._page.updateTopHitHeaderView(i)}},h.prototype.renderScopes=function(n){var i=this,r;if(n){var u=this.getScopeBarElements(),f=this.getHiddenScopeElements(u)||[],e=t.config.userProfileButtonEnabled?this.getUserProfileButtonData():[null,null],o=e[0],s=e[1];r={scopes:u,showFeedback:this.isFeedbackEnabled()?function(){return i.showFeedback()}:null,rewardsBadgeDataModel:this._msRewardsViewModel&&this._msRewardsViewModel.getDataModel(),moreMenuDataModel:f.length>0?{opened:this._moreMenuOpened,buttonClickHandler:function(){return i._moreMenuOpened?i.closeMoreMenuDropDown():i.openMoreMenuDropDown(f)}}:null,optionsMenuDataModel:{opened:this._optionsMenuOpened,buttonClickHandler:function(){return i._optionsMenuOpened?i.closeOptionsMenuDropDown():i.openOptionsMenuDropDown()}},userProfileButtonDataModel:t.config.userProfileButtonEnabled&&o?{opened:this._userProfileMenuOpened,buttonClickHandler:function(){return i._userProfileMenuOpened?i.closeUserProfileDropDown():i.openUserProfileDropDown()},icon:o,userName:s}:null,lockscreenMenuDataModel:{opened:this._lockscreenMenuOpened,buttonClickHandler:function(){return i._lockscreenMenuOpened?i.closeLockscreenMenuDropDown():i.openLockscreenMenuDropDown()}}}}this._page.updateScopesHeaderView(r)},h.prototype.openMoreMenuDropDown=function(t){var i=this;this._page.ensureWebViewHeightExpanded();this._menuFactory.showDropdownMenu(t,document.getElementById(this._moreButton.id),1,function(){n.safeSetTimeout(function(){return i.closeMoreMenuDropDown()},0,"closeMoreMenuDropDown")});this._moreMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeMoreMenuDropDown=function(){this._moreMenuOpened=!1;this.renderScopes(!0)},h.prototype.openOptionsMenuDropDown=function(){var u=this,i,r;this._page.ensureWebViewHeightExpanded();i=t.RuntimeConfig.AlwaysWide?1:2;r=this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),i);this._menuFactory.showDropdownMenu(r,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return u.closeOptionsMenuDropDown()},0,"closeOptionsMenuDropDown")});this._optionsMenuOpened=!0;this.renderScopes(!0)},h.prototype.openLockscreenMenuDropDown=function(){var r=this,t,i;this._page.ensureWebViewHeightExpanded();t=4;i=this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),t);this._menuFactory.showDropdownMenu(i,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return r.closeLockscreenMenuDropDown()},0,"closeLockscreenMenuDropDown")});this._lockscreenMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeOptionsMenuDropDown=function(){this._optionsMenuOpened=!1;this.renderScopes(!0)},h.prototype.closeLockscreenMenuDropDown=function(){this._lockscreenMenuOpened=!1;this.renderScopes(!0)},h.prototype.openUserProfileDropDown=function(){var t=this,i=this.getAccountOptionsForUserProfileButton(this._sequenceNumberReader.getSequenceNumber());this._menuFactory.showDropdownMenu(i,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return t.closeUserProfileDropDown()},0,"closeUserProfileDropDown")});this._userProfileMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeUserProfileDropDown=function(){this._userProfileMenuOpened=!1;this.renderScopes(!0)},h.prototype.cleanUp=function(){this._lastRenderedTopHitHeader=null;this._page.updateTopHitHeaderView(null);this._page.updateScopesHeaderView(null)},h.prototype.scopeNamesElements=function(n){var i=this;return n.map(function(n){return i._scopeTiles.find(function(i){return t.Scope[i.type]==n})}).filter(function(n){return!!n})},h.prototype.getEffectiveScopeOrder=function(){var i,r,o,n,u,s,e;if(!this._scopeTiles||this._scopeTiles.length==0)return[];if(this._effectiveScopeOrder&&!t.config.pathCompletionReplacesAll)return this._effectiveScopeOrder.slice(0);if(t.RuntimeConfig.AlwaysWide?(i=t.config.scopesOrderBeginAlwaysWide,r=t.config.scopesOrderLastAlwaysWide,o=t.config.numberOfScopesToRenderAlwaysWide):(i=t.config.scopesOrderBegin,r=t.config.scopesOrderLast,o=t.config.numberOfScopesToRender),n=[],i){if(t.config.pathCompletionReplacesAll&&(r=r.filter(function(n){return n!="PathCompletion"}),this._currentQuery&&this._currentQuery.canBePathCompletion&&(i=i.map(function(n){return n=="All"?"PathCompletion":n}))),u=r?this.scopeNamesElements(r):[],n=this.scopeNamesElements(i),t.RuntimeConfig.AlwaysWide){var f=0,h=10,c=26,l=t.config.scopeMenuWidth*this._scopesHeaderElement.clientWidth;for(s=0;s<u.length;s++)f+=u[s].text.length*h+c;for(l-=f,f=0,e=0;e<n.length;e++)if(f+=n[e].text.length*h+c,f>l)break;o=e+u.length}n=n.slice(0,o-u.length);n.push.apply(n,u)}return this._effectiveScopeOrder=n,n.slice(0)},h.prototype.getHiddenScopeElements=function(n){return this._moreScopeTiles?this._moreScopeTiles.filter(function(i){return n.find(function(n){return n.type==i.type})==undefined&&t.Scope[i.type]!="PathCompletion"&&t.Scope[i.type]!="All"}):[]},h.prototype.getScopeBarElements=function(){var u=this,n,i,r;return this._scopeTiles?(n=this.getEffectiveScopeOrder(),i=n.some(function(n){return n.enabled}),!i&&this._selectedScope&&(t.config.pathCompletionReplacesAll&&t.Scope[this._selectedScope.type]=="PathCompletion"||(r=this._scopeTiles.find(function(n){return n.type==u._selectedScope.type}),n.push(r),i=!0)),n):[]},h.prototype.isFeedbackEnabled=function(){return n.isBingEnabledByClient()},h.prototype.showFeedback=function(){this._page.ensureWebViewHeightExpanded();typeof WindowsFeedbackForm!="undefined"&&WindowsFeedbackForm.Show("")},h.prototype.getHeaderText=function(n,i){var r,u;if(t.RuntimeConfig.FlatListWithoutGroups||t.config.hideBestMatchTag)return null;if(r=t.getScopeDisplayName(i,this._host),r){if(this._topHitPresent)return n==t.Scope.All||n==t.Scope.PathCompletion?(u=t.config.quickMatchLabel?"QuickMatch":"BestMatch",this._host.getLocString(u)):(u=t.config.quickMatchLabel?"QuickMatchFor":"BestMatchFor",this._host.getLocString(u,r.toLocaleLowerCase()));if(this._resultsPresent)return null;if(n!=t.Scope.All)return r}return this._host.getLocString("BestMatch")},h.prototype.getEmptyResultsMessage=function(n,i,r,u,f){return t.RuntimeConfig.QfMode==5||n||!i&&!r||u!=t.Scope.Documents&&f.showUpsellOnSuggestionsList&&f.showUpsellOnSuggestionsList()?["",""]:r?f.getEmptyZIMessages(this._host):[this._host.getLocString("NoResults",this._currentQuery.queryToFetch),""]},h.prototype.init=function(){var u,f,r,i;if(t.initScopePrefixes(this._host),this._scopeTiles=[],this._moreScopeTiles=[],t.RuntimeConfig.ScopesAvailable){u=t.RuntimeConfig.AlwaysWide?t.config.scopesOrderBeginAlwaysWide:t.config.scopesOrderBegin;this._allScopeButtonPresent=n.contains(u,"All");for(f in t.ScopeConfig)(r=parseInt(f),i=t.ScopeConfig[r],(i.prefixes||i.prefixesLocString||i.scopeNameLocString)&&t.isScopeEnabled(r,i))&&((r!=t.Scope.All||this._allScopeButtonPresent)&&this._scopeTiles.push(this.createScopeElement(r,i,!1)),this._moreScopeTiles.push(this.createScopeElement(r,i,!0)));this._moreScopeTiles.sort(function(n,i){return n.type==t.Scope.All?-1:i.type==t.Scope.All?1:n.text.localeCompare(i.text)});this._selectedScope&&this.selectScope(this._selectedScope.type);this._effectiveScopeOrder=null}},h.prototype.createScopeElement=function(n,i,r){var u=this;return{isScopeElement:!0,id:(r?"scope":"l1scope")+n,type:n,enabled:!1,text:t.getScopeDisplayName(i,this._host),title:null,icon:n==t.Scope.All?{content:"&#xE8A9",type:1}:i.icon,click:function(){return u.clickHandler(n,"scopeBar")},selected:!1,tooltip:this.getScopeToolTip(n,!1),isSelectable:!0}},h.prototype.clickHandler=function(n,i,r){var h=t.getScopeDisplayName(t.ScopeConfig[n],this._host),e,u=this._currentQuery,f=u.scope,o,s,c;if(this._scopeTiles.some(function(n){return n.type==f})||(f=t.Scope.All),h&&f!=n)e=(n==t.Scope.All||n==t.Scope.PathCompletion?"":h.toLocaleLowerCase()+": ")+u.queryToFetch,this.innerRender(n,n,u,this._topHitPresent,this._resultsPresent,!0,!1),o={query:this._currentQuery,topResults:[],groups:[]},this._page.updateTopResultsView(o),this._page.updateGroupsView(o);else{if(f==t.Scope.All||this._allScopeButtonPresent){this._page.ensureWebViewHeightExpanded();this.setFocusInSearchBox("scope clickHandler noop");return}e=u.queryToFetch;n=t.Scope.All;this.innerRender(n,n,u,this._topHitPresent,this._resultsPresent,!0,!1)}s=t.Scope[n];c={Scope:s,Source:i,GroupSource:r&&r.source?r.source.toString():undefined};this._instHelper.logClientInstEvent("Select","ScopeChanged",null,c);f!=n&&this._host.reformulate(e,undefined,undefined,r);this.setFocusInSearchBox("scope clickHandler "+s)},h.prototype.setFocusInSearchBox=function(t){this._host.setFocusInSearchBox(null,t);var i=n.getCurrentActiveElement();i&&i.blur()},h.prototype.isScopeElement=function(t){return t&&this._scopeTiles&&(this.isScopeButton(t.id)||n.contains(this._scopeTiles,t))},h.prototype.isMenuElement=function(n){return n&&this.isMenuButton(n.id)},h.prototype.isScopeButton=function(n){return n==this._feedbackButton.id||n==this._rewardsBadgeButton.id||n==this._userProfileButton.id||this.isMenuButton(n)},h.prototype.isMenuButton=function(n){return n==this._moreButton.id||n==this._optionsButton.id},h.prototype.getSelectableItems=function(){var n=[],i;return t.RuntimeConfig.ScopesAvailable&&(n=n.concat(this.getScopeSelectableItems())),i=this._advancedOptionsScope.filter(function(n){return n.layout==0||n.layout==6}),i.length>0&&(n=n.concat(i)),n},h.prototype.getSelectableItemsByGroup=function(){var i=[],n=this.getScopeBarElements(),r,u,e,f;return t.shouldSkipSelectedScope()&&this._selectedScope==n[0]&&(n=n.slice(1)),i.push(n.slice(0,1)),r=n.findIndex(function(n){return n.selected}),r>0?i.push(n.slice(r,r+1)):t.shouldSkipSelectedScope()||(u=n.findIndex(function(n){return n.enabled}),u>0&&i.push(n.slice(u,u+1))),e=[this._moreButton,this._rewardsBadgeButton,this._userProfileButton,this._feedbackButton,this._optionsButton],e.forEach(function(n){_ge(n.id)&&i.push([n])}),f=this._advancedOptionsScope.filter(function(n){return n.layout==0||n.layout==6}),f.length>0&&i.push.apply(i,f.map(function(n){return[n]})),i},h.prototype.getScopeSelectableItems=function(){var u=this.getScopeBarElements(),i=this._currentScopeTileIndex,c=u.length,h;if(t.shouldSkipSelectedScope()&&this._selectedScope==u[0]&&(u=u.slice(1),--i,--c),i<0&&this._selectedScope&&!t.shouldSkipSelectedScope())return[this._selectedScope];if(h=n.getCurrentActiveElement(),h)switch(h.id){case f:return[this._moreButton];case r:return[this._feedbackButton];case e:return[this._optionsButton];case o:return[this._rewardsBadgeButton];case s:return[this._userProfileButton]}return(i<0||i>=c)&&(i=0),u.slice(i,i+1)},h.prototype.getSelectedItem=function(){return null},h.prototype.select=function(n){var i=[].slice.call(this._scopesHeaderElement.getElementsByClassName("scopeTile")),r=t.shouldSkipSelectedScope()?i.filter(function(n){return!n.classList.contains("selectedScope")}):i;this._currentScopeTileIndex=r.indexOf(_ge(n.id));t.shouldSkipSelectedScope()&&(this._currentScopeTileIndex=i.indexOf(r[this._currentScopeTileIndex]))},h.prototype.onAfterKeyDown=function(){return!1},h.prototype.getSubstrateUpsellClickHandler=function(n){var i=this,r=function(){i._host.refreshCurrentPane();i._host.setFocusInSearchBox(null,"SubstrateUpsell")};return function(){return i._accessTokenManager.promptAutheticateDialog(n,t.getSubstrateResourceOrScope(n),r,r)}},h.prototype.getSubstrateUpsell=function(n,i,r){var s=null,u="VerifyAccountToSearch",e=0,l="CloudSearch",a=["Verify"],o=null,h=[],f,c;if(r==0){f=t.getEffectiveScope(this._currentQuery);switch(f){case t.Scope.People:u+="Contacts";break;case t.Scope.Emails:u+="Emails";break;case t.Scope.Documents:u+="Documents";e=1;s={content:"&#xE9BE",type:2,needsAccentColor:!0};o=this._substrateUpsellDismiss}t.config.accountVerifyMessage&&(e=6,c=this._accessTokenManager?this._accessTokenManager.getCachedAccountInfo(n):null,c&&h.push(c.accountUserName),(f==t.Scope.People||f==t.Scope.Emails||f==t.Scope.Documents)&&(h.length>0&&(u="VerifyAccount"),o=this._substrateUpsellDismiss));l=""}else r==2&&(u=null,e=2,s={content:"&#xE9BE",type:2,needsAccentColor:!0},o=this._substrateUpsellDismiss,a=["VerifyAccountToSearch"]);return this.createAdvancedOption(n==1?"COFA":"COOA",i,l,u,a,this.getSubstrateUpsellClickHandler(n),e,o,s,null,h,"VerifyButton")},h.prototype.getOneDriveUpsell=function(n){var t=this;return this.createAdvancedOption("SDSC",n,null,null,["SeeResultsFromOneDrive"],function(){t._host.launchCortanaSignIn()},2,null,{content:"&#xE9BE",type:2,needsAccentColor:!1})},h.prototype.getIndexingOption=function(n){var i=this,r=t.config.controlPanelSearchSettings?function(){return i._host.launchSearchSettings()}:function(){return t.LocalDataProvider.launchIndexingOptions(i._host,!1)};return this.createAdvancedOption("OMIO",n,"",null,["OptionsMenuIndexing"],r,2,null,{type:2,content:"&#xED52"})},h.prototype.getAdvancedOptionCssClass=function(n){return n==4?"menuInfo":n==5?"menuLabel":null},h.prototype.createContextMenuGroup=function(n,t,i,r){var u=this.createAdvancedOption(n,t,null,i,null,null,5);return u.groupItems=r,u.narratorText=u.message,u},h.prototype.createBuildVersionOption=function(){var n=this._host.getLocString("Build");return{id:"advancedOption"+this._advancedOptionsIdCounter++,selected:!1,title:n,message:undefined,text:n+": "+t.config.snrVersion,instItem:undefined,click:undefined,layout:4,cssClass:this.getAdvancedOptionCssClass(4),isSelectable:!1,subItems:undefined,isExpanded:!1}},h.prototype.createCossOptInOption=function(n){var r=this,i=t.RuntimeConfig.QfMode==2?"CossOptOut":"CossOptIn";return this.createAdvancedOption(null,n,i,null,[i],function(){return r.onCossOptInOutClick()},2,null,{type:2,content:"&#xE8A7"})},h.prototype.createAdvancedOption=function(i,r,u,f,e,o,s,h,c,l,a,v){var k=this,w,y,b,p;return i&&(y=n.InstrumentedItem.getNonSuggestionInstrumentedItem(i,t.SyntheticQSCodesMaps.KValues),this._instHelper.instrumentSyntheticInstrumentedItem(r,i,y)),b="advancedOption"+this._advancedOptionsIdCounter++,l&&l.length==0&&(l=null),p={id:b,selected:!1,title:this._host.getLocString(u),message:f?(w=this._host).getLocString.apply(w,[f].concat(a)):null,text:this._host.getLocString.apply(this._host,e),instItem:y,click:undefined,layout:s,dismiss:h,icon:c,cssClass:this.getAdvancedOptionCssClass(s),isSelectable:!!o||!!l,subItems:l,buttonLabel:this._host.getLocString(v),isExpanded:!l?undefined:!1},p.click=o?function(n,t){y&&k._instHelper.instrumentItemClick(n,y,r,null,t,null);o(p)}:undefined,p},h.prototype.getAccountOptions=function(n){var u=this,r=[];if(!this._accessTokenManager)return r;var f=this._accessTokenManager.getCachedAccountInfo(0),e=this._accessTokenManager.getCachedAccountInfo(1),c=this._accessTokenManager.isMsaAvailable(),l=this._accessTokenManager.isAadAvailable(),o="menuItemWithButton focusable",s="removeHover",h="highlight",i;return(f||e)&&(i=this.createAdvancedOption(null,n,null,"ConnectedAccounts",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),f&&t.isCloudSearchEnabledMsaCache&&(i=this.createAdvancedOption(null,n,null,null,["MicrosoftAccount"],null,4),i.message=f.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),t.config.accountVerifyMessage&&!t.isSubstrateOutlookAccountConnected&&(i.cssClass+=" "+h),r.push(i),t.config.accountVerifyMessage&&!t.isSubstrateOutlookAccountConnected&&(i=this.createAdvancedOption(null,n,null,"VerifyAccountAttention",null,this.getSubstrateUpsellClickHandler(0),4),i.cssClass=s,i.icon={type:2,content:"&#xE946"},r.push(i),i=this.createAdvancedOption(null,n,null,"VerifyButton",null,this.getSubstrateUpsellClickHandler(0),2),i.cssClass=o,r.push(i))),e&&t.isCloudSearchEnabledAadCache&&(i=this.createAdvancedOption(null,n,null,null,["AadAccount"],null,4),i.message=e.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),r.push(i),t.config.accountVerifyMessage&&!t.isSubstrateO365AccountConnected&&(i.cssClass+=" "+h),t.config.accountVerifyMessage&&!t.isSubstrateO365AccountConnected&&(i=this.createAdvancedOption(null,n,null,"VerifyAccountAttention",null,this.getSubstrateUpsellClickHandler(1),4),i.cssClass=s,i.icon={type:2,content:"&#xE946"},r.push(i),i=this.createAdvancedOption(null,n,null,"VerifyButton",null,this.getSubstrateUpsellClickHandler(1),2),i.cssClass=o,r.push(i))),r.push(this.getMenuDividerOption()),i=this.createAdvancedOption(null,n,null,null,["ManageAccounts"],function(){return u._host.launchWindowsAccountSettings()},2,null,{type:2,content:"&#xE716"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),f&&(t.isCloudSearchEnabledMsaCache||!c)||(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledMsaCache?["AddMicrosoftAccount"]:["EnableMsaSearch"],t.isCloudSearchEnabledMsaCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),e&&(t.isCloudSearchEnabledAadCache||!l)||(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledAadCache?["AddAadAccount"]:["EnableAadSearch"],t.isCloudSearchEnabledAadCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),r},h.prototype.getUserProfileButtonData=function(){var i=this,r,t,n=this._accessTokenManager.getSelectedAccountInfo(),u;return n?(t=n.accountProviderAuthority=="consumers"?0:1,r=this._userProfilesCache[n.accountUserName],!r)?(u=this._substrateProfilePictureProvider.getPersonDefaultIcon(n.accountUserName),this._userProfilesCache[n.accountUserName]=u,this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(r){if(r&&r.Token){var u=i._substrateProfilePictureProvider.getProfilePictureIconForToken(t,r.Token,n.accountUserName);u&&u(1,function(t){t&&(i._userProfilesCache[n.accountUserName]=t,i.renderScopes(!0))})}},"Windows"),[u,n.accountUserName]):[r,n.accountUserName]:[null,null]},h.prototype.getAccountOptionsForUserProfileButton=function(n){var u=this,r,i,f,a,c,o,l,v;if(!this._accessTokenManager)return[];var s=this._accessTokenManager.getAllAvailableAccounts(0),h=this._accessTokenManager.getAllAvailableAccounts(1),e=s.concat(h);if(s.length+h.length==0)return[];if(r=[],f=this._accessTokenManager.getSelectedAccountInfo(),f&&(e=e.filter(function(n){return n.accountUserName!=f.accountUserName}),i=this.createAdvancedOption(null,n,null,"ConnectedAccount",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),i=this.createAdvancedOption(null,n,null,null,f.accountProviderAuthority=="consumers"?["MicrosoftAccount"]:["AadAccount"],null,4),i.message=f.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),r.push(i)),e.length>0)for(i=this.createAdvancedOption(null,n,null,"AvailableAccounts",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),a=function(t){i=c.createAdvancedOption(null,n,null,null,t.accountProviderAuthority=="consumers"?["MicrosoftAccount"]:["AadAccount"],function(){u._accessTokenManager.setSelectedAccount(t);u._host.notifyAccountSelected(t);u._menuFactory.dismiss()},0,null,{type:2,content:"&#xE77B"});i.message=t.accountUserName;i.cssClass=c.getAdvancedOptionCssClass(0);r.push(i)},c=this,o=0,l=e;o<l.length;o++)v=l[o],a(v);return r.push(this.getMenuDividerOption()),i=this.createAdvancedOption(null,n,null,null,["ManageAccounts"],function(){return u._host.launchWindowsAccountSettings()},2,null,{type:2,content:"&#xE716"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i),s.length==0&&(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledMsaCache?["AddMicrosoftAccount"]:["EnableMsaSearch"],t.isCloudSearchEnabledMsaCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),h.length==0&&(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledAadCache?["AddAadAccount"]:["EnableAadSearch"],t.isCloudSearchEnabledAadCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),r},h.prototype.getMenuDividerOption=function(){return{id:null,selected:!1,title:"",message:null,isSeparator:!0,text:"",instItem:null,click:null,layout:3,isSelectable:!1}},h.prototype.addZiCustomization=function(n,i,r){var s=this,f,l,u,h,o,c,v,y;if(r===void 0&&(r=!0),t.config.enableSearchHomeCustomization&&this._currentQuery.isSearchHomeZI&&this._currentQuery.scope==t.Scope.All){f={};for(l in this._currentQuery.availableDataSources)if(u=this._currentQuery.availableDataSources[l],u&&u.suggestionGroupToggler){if(typeof u.groupType!="number")throw new Error("missing groupType declaration for suggestionGroupToggler");f[u.groupType]||(f[u.groupType]=u.suggestionGroupToggler)}if(h=this._currentQuery.staticGroupOrder?this._currentQuery.staticGroupOrder.filter(function(n){return!!f[n]}):Object.keys(f).map(function(n){return+n}),h.length!=0){var a=[],p=function(n){var r=f[n],u=r.isHidden(),o=e.createAdvancedOption(null,i,null,null,[],function(){r.toggle(!u);s._menuFactory.dismiss();s._host.refreshCurrentPane()},2,null,null,null),h=t.getGroupTitleAndNarratorText(e._currentQuery,e._host,n,null,!1).title;o.text=e._host.getLocString(u?"ShowSomething":"HideSomething",h);a.push(o)},e=this;for(o=0,c=h;o<c.length;o++)v=c[o],p(v);y=this.createAdvancedOption(null,i,null,null,["CustomizeSearchHome"],function(n){return s._menuFactory.showSubMenu(n)},2,null,{type:2,content:"&#xE70F"},a);r&&n.push(this.getMenuDividerOption());n.push(y)}}},h.prototype.addSinglepPaneOptions=function(n,r){var e=this,o=this.getScopeBarElements(),s=this.getHiddenScopeElements(o).filter(function(n){return n.type!=t.Scope.All}).map(function(n){var t=n;return t.layout=0,t}),u,f;n.push(this.createContextMenuGroup(null,r,"MoreScopesListToolTip",s));n.push(this.getMenuDividerOption());u=[];i.authenticationManager.getAllSearchWebAccountsAsync?t.config.userProfileButtonEnabled||(f=this.getAccountOptions(r),u.push(this.createAdvancedOption(null,r,null,null,["ConnectedAccounts"],null,2,null,{type:2,content:"&#xE716"},f))):t.isCloudSearchEnabledCache&&this.addCloudSearchUpsells(u,r,2);u.push(this.getIndexingOption(r,1));this.addZiCustomization(u,r,!1);n.push(this.createContextMenuGroup(null,r,"OptionsButtonToolTip",u));this.isFeedbackEnabled()&&(n.push(this.getMenuDividerOption()),n.push(this.createAdvancedOption(null,r,null,null,["FeedbackButtonText"],function(){return e.showFeedback()},2,null,{type:2,content:"&#xE8F2"},null)))},h.prototype.getAdvancedOptions=function(n,r){var f=this,u=[],e,o;return r==1&&(i.authenticationManager.getAllSearchWebAccountsAsync&&(t.config.userProfileButtonEnabled||u.push.apply(u,this.getAccountOptions(n)),e=this.createAdvancedOption(null,n,null,null,["SearchSettings"],function(){return t.config.controlPanelSearchSettings?f._host.launchSearchPermissions():f._host.launchSearchSettings()},2,null,{type:2,content:"&#xE713"}),e.cssClass=this.getAdvancedOptionCssClass(2),u.push(e)),u.push(this.getIndexingOption(n,r)),this.addZiCustomization(u,n)),r==2&&this.addSinglepPaneOptions(u,n),r==0&&t.isCloudSearchEnabledCache&&this.addCloudSearchUpsells(u,n,r),r!=2&&t.config.troubleshootButton&&u.push(this.getMenuDividerOption()),t.config.troubleshootButton&&(r==1||r==2)&&u.push(this.createAdvancedOption(null,n,null,null,["Troubleshoot"],function(){return f._host.launchUri("https://aka.ms/fixsearch")},2,null,{type:2,content:"&#xE90F"},null)),t.config.cossOptIn&&(r==1||r==2)&&u.push(this.createCossOptInOption(n)),t.config.snrVersion&&(r==1||r==2)&&u.push(this.createBuildVersionOption()),r==4&&(o=this.createAdvancedOption(null,this._sequenceNumberReader.getSequenceNumber(),null,null,["LockScreenSettings"],function(){return f._host.launchLockscreenSettings()},2,null,{type:1,content:"&#xEE3F"}),o.cssClass=this.getAdvancedOptionCssClass(2),u.push(o)),u},h.prototype.addCloudSearchUpsells=function(i,r,u){var e=t.substrateProvidersEnabled(),f;if((u==0||u==2)&&(u!=0||!this._selectedScope||this._selectedScope.type==t.Scope.Emails||this._selectedScope.type==t.Scope.People||this._selectedScope.type==t.Scope.Documents))if(f=t.getAccountTypeForCloudContent(),e){if(this._upsellGotDismissed&&this._selectedScope&&(this._selectedScope.type==t.Scope.Documents||t.config.accountVerifyMessage&&(this._selectedScope.type==t.Scope.People||this._selectedScope.type==t.Scope.Emails))&&u==0)return;f!=1&&f!=4||t.isSubstrateO365AccountConnected||i.push(this.getSubstrateUpsell(1,r,u));f!=2&&f!=4||t.isSubstrateOutlookAccountConnected||i.push(this.getSubstrateUpsell(0,r,u))}else n.isBingEnabled()&&t.isCortanaEnabledCache&&!t.isCortanaPersonalized&&i.push(this.getOneDriveUpsell(r))},h.prototype.onCossOptInOutClick=function(){var r=this;n.safeSetTimeout(function(){t.RuntimeConfig.QfMode==2?i.disableCenterScreenAndRelaunch():i.enableCenterScreenAndRelaunch(!1);n.safeSetTimeout(function(){return r._host.reloadWebView()},0,"HeaderFooterViewModel.onCossOptInOutClick.reloadWebView")},0,"HeaderFooterViewModel.onCossOptInOutClick")},h}();t.HeaderFooterViewModel=h})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function i(n,t){var i=HitHighlightingParser.removeMarkers(n.text),r;!i.includes(t.queryToFetch)&&i.toLowerCase().startsWith(t.queryToFetch.toLowerCase())&&(r=t.queryToFetch+i.substr(t.queryToFetch.length),n.text=HitHighlightingParser.addMarkers(r,t.queryToFetch));!n.query.includes(t.queryToFetch)&&n.query.toLowerCase().startsWith(t.queryToFetch.toLowerCase())&&(n.query=t.queryToFetch+n.query.substr(t.queryToFetch.length))}function r(n,r,u,f,e,o,s,h){var l,c;if(n.actionUri=f,n.confidence=o,n.source=s,n.handoffType==4)if(l=n.query.toLowerCase()==r.queryToFetch.toLowerCase(),n.updateFromQuery=function(i){return l?(n.query=i.queryToFetch,n.text=HitHighlightingParser.addMarkers(n.query,i.queryToFetch),n.narratorText=t.getNarratorText(n),!0):!1},c=t.parseTaskFrame(e),c)n.isReformulation=!0,n.click=function(){return h.reformulate(n.query,c)};else return!1;else n.classNames.push("action"),n.click=function(){return h.launchCat1(n.query,f,e)};return n.icon={type:3},i(n,r),n.narratorText=t.getNarratorText(n),n.type!="CSK"&&(n.getMruData=function(){return{type:n.type,handoffType:n.handoffType,hc:n.hc,highConfidenceMetaSuggestionScore:n.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:n.prefetchConfidenceScore,query:n.query,textWithoutHH:HitHighlightingParser.removeMarkers(n.text),annotation:n.primaryMetadata,icon:n.getIcon?null:n.icon,actionUri:f,taskFrame:e,confidence:o,source:s,suggestionKey:t.getSuggestionKey(n)}}),!0}function o(n,r,u,e,o,s,h,c,l,a,v,y){if(n.isAnswer=!0,n.htmlContent=e&&e.Content?e.Content.HTML:null,n.baseSearchUrl=h,n.segments=c,n.htmlContent){var p=JsonInject.GetResourceKeys([e]);p&&(n.executeScript=function(){return JsonInject.WriteAfterContentResources(JsonInject.FilterResources(a,p))})}s&&(n.secondaryIcon={content:s,type:0});n.text.includes(HitHighlightingParser.startMarker)||(n.text=HitHighlightingParser.addMarkers(n.text,r.queryToFetch));n.htmlContent||o&&(n.primaryMetadata=o,n.additionalInfoText=" - "+o);n.handoffType==10?(n.classNames.push("action"),i(n,r),t.config.useCortanaLogoForAllCortanaSuggestions&&(n.icon={type:3}),n.click=function(){return v.launchCat2or3a(n.query,l)},n.allowedInGroups=!n.htmlContent):(f(n,v),n.click=function(){return v.launchSearch(n.query,y.getSearchUrl(r.fullPartialQuery,n.query,n.type,n.baseSearchUrl),!1)},n.allowedInGroups=n.secondaryIcon?!!n.additionalInfoText:!n.htmlContent);n.narratorText=t.getNarratorText(n)}function u(n,i,r,u,f){n.url=u;n.tooltip=i.isSearchHomeZI?n.text+"\n\n"+u:u+"\n\n"+HitHighlightingParser.removeMarkers(n.primaryMetadata);t.isValidIcon(n.icon)||(n.getIcon=f.getEdgeIcon);n.click=function(){return f.launchUri(u)};n.narratorText=t.getNarratorText(n,f.getLocString("DirectNavSuggestion"));n.getMruData=function(){return{type:n.type,handoffType:n.handoffType,hc:n.hc,highConfidenceMetaSuggestionScore:n.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:n.prefetchConfidenceScore,query:n.query,textWithoutHH:HitHighlightingParser.removeMarkers(n.text),title:n.primaryMetadata,icon:n.getIcon?null:n.icon,url:u,suggestionKey:t.getSuggestionKey(n)}}}function f(n,i){t.isValidIcon(n.icon)||(n.icon=n.type=="HS"?{content:"&#xE81C",type:2}:n.handoffType===13?{content:"&#xEB9F",type:2}:n.handoffType===14?{content:"&#xE714",type:1}:t.getSearchSuggestionIcon());n.primaryMetadata||n.secondaryIcon||n.htmlContent||n.additionalInfoText||(n.primaryMetadata=n.handoffType===13?i.getLocString("SearchForWebImages"):n.handoffType===14?i.getLocString("SearchForWebVideos"):t.getWebSuggestionAnnotation(i))}var e=function(){function i(n,t,i,r,u,f){this._host=n;this._instrumentationHelper=t;this._navigationHelper=i;this._temporaryMessageHandler=r;this._accessTokenManager=u;this._previousKeystrokeCache=f}return i.prototype.parse=function(n,t,i,r,u,f,e){this.parseOnlineSuggestions(n,t,r,u,f,e,i)},i.prototype.parseOnlineSuggestions=function(i,r,u,f,e,o,s){var a=this,h,l,k;if(!u){n.isDataSourceEnabled(n.WebDataSource,i)&&e(n.WebDataSource,[],null);n.isDataSourceEnabled("OSTMA",i)&&e("OSTMA",[],null);n.isDataSourceEnabled("QS",i)&&e("QS",[],null);return}u&&u.ELToken&&(this._host.setElToken(u.ELToken),u.LC==1&&this._host.sendElToken());var v=[],y=[],p=[],c=[],w=[],b=n.isDataSourceEnabled(n.WebDataSource,i);n.safeExecute(function(){for(var e,o=function(t){var o=t.Attributes,h=o.appId,f,e;if(h)return y.push(t),h.split(";").forEach(function(t){n.contains(c,t)||c.push(t)}),"continue";if(f=o.settingId,f)return p.push(t),w.push(f),"continue";b&&(e=n.safeExecute(function(){return a.parseOnlineSuggestion(i,t,r,u.Resources,s)},"parseOnlineSuggestion"),e&&v.push(e))},t=0,f=u.Suggestions;t<f.length;t++)e=f[t],o(e)},"parseOnlineSuggestions");b&&(h=null,l=null,u.RankingSignals&&(h=n.safeExecute(function(){return n.parseWebEngagementSignals(u.RankingSignals)},"parseWebEngagementSignals"),t.isL2(i)||(l=n.safeExecute(function(){return t.parseWebSuppressionSignals(u.RankingSignals,i)},"parseWebSuppressionSignals"))),this._previousKeystrokeCache&&this._previousKeystrokeCache.updateWebSignalsData(i.queryToFetch,h),k={rankingSignals:u.RankingSignals,engagementSignals:h,suppressedGroups:l,webTopResultRoutingType:u.PrefixRoutingType},e(n.WebDataSource,v,k));t.lookupById(i,"OSTMA",c,y,function(n){return n.Attributes.appId.split(";")},"QS",w,p,function(n){return n.Attributes.settingId},f,r,e,o,function(n,t,f,e){return a.parseIdLookupResponse(u,i,r,n,t,f,e)},null,null,null,null,this._instrumentationHelper,this._host)},i.prototype.parseIdLookupResponse=function(i,u,f,e,o,s,h){var c=this,l,a;if(e.Attributes.stype!="CS"||!(s.length>0)){if(s.length!=1){l=n.safeExecute(function(){return c.parseOnlineSuggestion(u,e,f,i.Resources,o)},"parseOnlineSuggestion "+o);l&&h.push(l);return}a=function(n){var i=e.Attributes;return c.compliesWithMinVersion(i.appMinVersion,n.deviceItem.version)?(n.appContext=i.appContext,c.setRankingSignals(n,e),e.Text&&i.query&&(!t.isApp(n.type)||n.appContext)&&(n.text=e.Text,n.query=i.query),e.SecondaryText&&(n.primaryMetadata=e.SecondaryText),n.handoffType==5)?r(n,u,f,i.actionUri,i.taskFrame,parseFloat(i.confidence),parseInt(i.source),c._host):!0:!1};n.safeExecute(function(){return t.parseLocalSuggestion(u,s[0],o,f,c._host,c._temporaryMessageHandler,e.Attributes.stype,c._instrumentationHelper,h,a)},"parseLocalSuggestion "+o)}},i.prototype.parseOnlineSuggestion=function(i,f,e,s,h){var d=this,c=f.Attributes,a=c.stype,y,l,v;if(c.appId&&a!="CS"||c.settingId)return null;if(y=c.isAnswer==="1"?c.url||c.vertical?n.verticalToHandoffType(c.vertical):10:c.taskFrame?c.actionUri.startsWith("action://FindMyStuff/")?4:5:a=="CS"?3:a=="MD"||a=="ML"?1:n.verticalToHandoffType(c.vertical),l=t.createSuggestion(i,f.Text,null,n.getIconFromOnlineResponse(f),a,c.query,n.InstrumentedItem.createInstrumentedItem(e,a),y,e,!1),l.primaryMetadata=f.SecondaryText,this.setRankingSignals(l,f),l.autoOpenPreviewPaneWhenOnTopHit=c.openPP==="1",c.isAnswer==="1"){if(!c.url&&!t.isCortanaEnabledCache)return null;l.signals=f.Signals;o(l,i,e,f.InstantAnswer,c.additionalInfoText,c.secondaryIconUrl,c.url,c.segments,c.taskFrame,s,this._host,this._navigationHelper);c.noHeightRestriction==="1"&&l.classNames.push("noHeightRestriction")}else if(c.taskFrame){if(!t.isCortanaEnabledCache||!r(l,i,e,c.actionUri,c.taskFrame,parseFloat(c.confidence),parseInt(c.source),this._host))return null}else if(l.type=="CS")this.setStoreSuggestionProperties(l,i,e,c);else{if(!c.url)return null;if(l.autoOpenPreviewPaneWhenOnTopHit=c.openPP==="1",l.type=="MD"||l.type=="ML")v=n.prettyPrintUrl(c.query,i.queryToFetch,!0),v!=l.query&&(l.query=v,l.text=i.queryToFetch?HitHighlightingParser.addMarkers(v,i.queryToFetch):v),l.primaryMetadata&&!l.primaryMetadata.includes(HitHighlightingParser.startMarker)&&(l.primaryMetadata=HitHighlightingParser.addMarkers(l.primaryMetadata,i.queryToFetch)),u(l,i,e,c.url,this._host);else{if(n.queryLooksLikeUrl(l.query))return null;this.setWebSearchSuggestionProperties(l,i,e,c.url)}}if(!t.isValidSuggestion(l,"parseOnlineSuggestion"))return null;var p=l.segments,w=p?p.split(","):[],b=w.some(function(i){return n.contains(t.config.relatedWebImageSupportedSegments,i)}),k=w.some(function(i){return n.contains(t.config.relatedWebVideoSupportedSegments,i)});return(f.ChildSuggestions||b||k)&&(l.calculateChildSuggestions=function(){return d.calculateRelatedSuggestions(l,i,f,h,b,k)}),l},i.prototype.setStoreSuggestionProperties=function(n,i,r,u){var e=this,f;n.icon.bgColor=u.bgColor=="transparent"?this._host.getAccentColor():u.bgColor;n.classNames.push("action");f=parseFloat(u.avgRating);n.stars=this.getStarsRating(f);n.starNarratorText=this._host.getLocString("StarRating",""+n.stars);n.catalogScore=parseFloat(u.catalogScore);n.avgRating=f;n.ratingCount=parseInt(u.ratingCount);n.packageFamilyName=u.appId;n.click=function(){return e._host.launchStorePdp(u.productId)};n.narratorText=t.getNarratorText(n)},i.prototype.getStarsRating=function(n){var t=Math.round(n*2)/2;return Math.max(0,Math.min(5,t))},i.prototype.setRankingSignals=function(n,t){var i=t.Attributes;n.hc=i.hc==="1";n.highConfidenceSuggestionScore=+i.hcs;n.highConfidenceMetaSuggestionScore=t.HighConfidenceMetaSuggestionScore;n.prefetchConfidenceScore=t.PrefetchConfidenceScore;n.suggestionLogMeta=i.lm},i.prototype.compliesWithMinVersion=function(n,t){var r,u,i,f,e;if(!n)return!0;if(!t)return!1;for(r=n.split("."),u=t.split(".");r.length>u.length;)u.push("0");for(i=0;i<r.length;++i){if(f=u[i],e=r[i],f<e)return!1;if(f>e)return!0}return!0},i.prototype.setWebSearchSuggestionProperties=function(n,i,r,u){var e=this;f(n,this._host);i.queryToFetch||(n.text=HitHighlightingParser.addMarkers(n.text));n.baseSearchUrl=u;n.click=function(){return e._host.launchSearch(n.query,e._navigationHelper.getSearchUrl(i.fullPartialQuery,n.query,n.type,n.baseSearchUrl,n.handoffType),n.useRaf)};n.narratorText=t.getNarratorText(n);n.type=="HS"&&t.setExtraVerbs(n,function(){var i=[{verb:"ManageSearchHistory",displayName:e._host.getLocString("ManageSearchHistory"),executeSync:function(){return e._host.launchPrivacyPortal()},icon:{content:"&#xE81C",type:2}}];return t.config.removeSuggUrl&&i.unshift({verb:"RemoveFromWebHistory",displayName:e._host.getLocString("RemoveFromWebHistory"),executeSync:function(){return e.removeBingHistorySuggestion(n.text)},icon:{content:"&#xE711",type:2}}),i},!0)},i.prototype.sendRemoveBingHistorySuggestionRequest=function(i,r){var u=this,f;i=HitHighlightingParser.removeMarkers(i);f=t.config.removeSuggUrl.replace("%7b0%7d",encodeURIComponent(i)).replace("%7bSID%7d",sj_cook.get("_SS","SID"));n.fetchUrlJson(f,r,null,function(t){t.success&&(u._host.refreshCurrentPane(),n.safeSetTimeout(function(){return u._temporaryMessageHandler.showTemporaryMessage(u._host.getLocString("RemoveFromWebHistoryConfirmation",i))},250,"removeBingHistorySuggestion"))})},i.prototype.removeBingHistorySuggestion=function(n){var i=this;this._accessTokenManager?this._accessTokenManager.getAccount(0,t.getBingResourceOrScope(0),!1,!0,function(t){if(t&&t.Token){var r={};r["X-Search-RPSToken"]=t.Token;i.sendRemoveBingHistorySuggestionRequest(n,r)}},t.getAuthAccountForCloudContent()):this.sendRemoveBingHistorySuggestionRequest(n,null)},i.prototype.addRelatedSuggestion=function(i,r,u,f,e,o,s){var h=t.createSuggestion(r,f,null,e,o,i?i.Query:u.query,n.InstrumentedItem.createInstrumentedItem(u.sequenceNumber,o),s,u.sequenceNumber,!1,null,null,!0);h.groupType=t.GroupType.Related;h.parent=u;h.tooltip=i?i.SecondaryText:null;h.rankingScore=i?i.RankingScore:0;h.category=i?i.Category:null;h.isAnswer=!0;this.setWebSearchSuggestionProperties(h,r,u.sequenceNumber,i?i.Url:null);h.primaryMetadata=null;t.isValidSuggestion(h,"calculateRelatedSuggestions")&&u.childSuggestions.push(h)},i.prototype.calculateRelatedSuggestions=function(t,i,r,u,f,e){var s,h,o;if(t.childSuggestions=[],r.ChildSuggestions)for(s=0,h=r.ChildSuggestions;s<h.length;s++)o=h[s],this.addRelatedSuggestion(o,i,t,o.Text,n.getIconFromOnlineResponse(o),o.Type,0);f&&this.addRelatedSuggestion(null,i,t,this._host.getLocString("Images"),null,"EIM",13);e&&this.addRelatedSuggestion(null,i,t,this._host.getLocString("Videos"),null,"EVI",14);t.childSuggestions.length>0&&this._instrumentationHelper.instrumentDataSource(t.sequenceNumber,u,t.childSuggestions,null)},i}();t.OnlineSuggestionsParser=e;t.adjustCasing=i;t.setCat1SuggestionProperties=r;t.setUrlSuggestionProperties=u})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function w(n){return n?[n]:[]}function et(n){if(n){var t=n.lastIndexOf(".");if(t>=0)return n.substring(t)}return""}function ot(t){var i=t?new Date(t):null;return n.isValidDate(i)?i:null}function st(i){if(i){var r=n.getCurrentDate();if(r.getDate()==i.getDate()&&r.getMonth()==i.getMonth()&&r.getFullYear()==i.getFullYear())return i.toLocaleTimeString(t.uiLanguageCache,{hour:"numeric",minute:"numeric"})}return null}function f(i,f,o,s,h,c){var k,v,tt,it,d,y,a,g,p,w,l,b,nt;for(c===void 0&&(c=!1),!c&&s.extensionLC&&r.hideFileExtensions&&!t.config.showFileExtn&&(k=s.extensionLC.length,v=s.query,v.toLocaleLowerCase().endsWith(s.extensionLC)&&(tt=HitHighlightingParser.addMarkers(v,f),tt.toLocaleLowerCase().endsWith(s.extensionLC)&&(s.query=v.substring(0,v.length-k),it=HitHighlightingParser.removeMarkers(s.text),v==it&&(d=s.text.toLocaleLowerCase().lastIndexOf(s.extensionLC),s.text=s.text.substring(0,d)+s.text.substr(d+k))))),s.lastModifiedDate&&(y=s.lastModifiedDate.toLocaleString(t.uiLanguageCache,{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})),a=s.path,s.tooltip=yt(s,a,y,h),s.primaryMetadata=s.sourceForGroup&&s.sourceForGroup!=1?t.getGroupSourceDisplayName(s.sourceForGroup,h):s.itemTypeDisplayName,(i.isSearchHomeZI||t.RuntimeConfig.QfMode==8)&&(s.additionalInfoText=a),s.classNames=[],s.match?(g=(pt(s.match.matchType)?h.getLocString(t.MatchType[s.match.matchType])+": ":"")+HitHighlightingParser.addMarkers(s.match.matchedText,f),s.additionalInfoText=g,s.secondaryMetadata=g,s.classNames.push("withMatchAnnotation","forceNoWrapOutsideTopResult")):y&&t.RuntimeConfig.QfMode!=5&&(s.secondaryMetadata=h.getLocString("LastModified")+": "+y),s.narratorText=t.getNarratorText(s),t.displayedInGridLayout(s.type)&&(o?s.classNames.push("bigIcon","biggerIcon"):s.classNames.push("bigIcon")),!c&&s.handoffType==2&&r.copyToClipboard&&u(s,function(){return[{verb:t.JumplistActionItemType[t.JumplistActionItemType.S_CopyFullPath],displayName:h.getLocString("CopyFullPath"),executeSync:function(){return r.copyToClipboard(s.path,"")},icon:{type:1,content:"&#xE8C8"}}]},!1),p={},a&&(w=a.lastIndexOf("/"),w<0&&(w=a.lastIndexOf("\\")),l=a.substring(0,w),l.endsWith(":")&&(l=l+"\\"),p[h.getLocString("Location")]=[{text:l,click:function(){return n.isUncOrLocalPath(l)?r.launcher.startLaunchFolder(l):s.locationUrl?r.launcher.launchUriAsync(decodeURI(s.locationUrl)):r.launcher.launchUriAsync(l)}}]),p[h.getLocString("LastModified")]=[{text:y}],b=0,nt=e;b<nt.length;b++){var rt=nt[b],ft=rt[0],et=rt[1],ut=s[et];ut&&(p[h.getLocString(t.MatchType[ft])]=[{text:ut}])}s.previewMetadata=p}function ht(n,i,r,u){var o,s;for(i.match||!r.match||i.parentFolderDisambig||(i.match=r.match,i.needsRefreshAfterDeduping=!0),o=0,s=e;o<s.length;o++){var l=s[o],h=l[1],c=r[h];c&&!i[h]&&(i[h]=c,i.needsRefreshAfterDeduping=!0)}t.RuntimeConfig.QfMode==5&&(i.needsRefreshAfterDeduping=!1);i.needsRefreshAfterDeduping&&f(n,t.getEffectiveQuery(n),t.isL2(n),i,u,!0)}function ct(n,i,u,f,e){return n?t.Promise.safeChainWithGlobalCaching("getImageWithLiveTokenAsync",function(){return r.getImageWithLiveTokenAsync(u)},function(){return e},function(n){return t.toIcon(n,"getImageWithLiveTokenAsync",i)},i,null,null,3):b(i,f)}function b(n,i){return t.Promise.safeChainWithGlobalCaching("getIconForTypeAsync",function(n){return r.queryFormulationView.deviceSearch.getIconForTypeAsync(i,t.getImageSizeValue(n))},function(n){return n+"_"+i},function(i){return t.toIcon(i,"getIconForTypeAsync",n)},n)}function k(n){return n!=null&&(n.type==3||!!n.content||!!n.className)}function o(n,t,i){i===void 0&&(i=!0);var r=n.mayContainPII;return n.text?n.query?!n.handoffType&&n.handoffType!==0?(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing handoff type")),!1):n.type?i&&!n.getIcon&&!k(n.icon)?(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing icon")),!1):!0:(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing suggestion type")),!1):(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing query")),!1):(SharedLogHelper.LogError(t,r?"":n.deviceItem?n.deviceItem.id:"",new Error("Missing text")),!1)}function u(n,i,r){var u=n.getExtraVerbs;n.getExtraVerbs=function(n){var f=u?u(n):[],e=i(n);return t.joinVerbs(f,e,r)}}function lt(n,i,r){var u=n.getExtraVerbsAsync;n.getExtraVerbsAsync=u?function(n){return ThresholdUtilities.createPromise(function(f){return u(n).then(function(u){return i(n).then(function(n){return f(t.joinVerbs(u,n,r))})})})}:i}function s(n,t){var r=n.propertyHits||[],i=r.indexOf(t);return typeof i=="object"&&i.returnValue!==undefined?i.returnValue:i>=0}function at(n){var i,t;if(n&&typeof n=="object"&&n.length){for(i="",t=0;t<n.length;t++)i+=n[t],t!=n.length-1&&(i+=", ");return i}return n}function i(t,i,r){return n.safeExecute(function(){return at(t.getProperty(i))},"get"+i,undefined,r)}function vt(n){for(var r,u,e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];for(r=0,u=e;r<u.length;r++){var f=u[r],h=f[0],o=f[1],c=f[2];if(o&&s(n,c))return t.createMatch(h,o)}return null}function yt(n,i,r,u){var f=i||"",s,h,o,c;for(n.textContentIfMatched&&(f+=(f?"\n\n":"")+n.textContentIfMatched),s=!!f,h=function(){f&&(f+="\n");s&&(f+="\n",s=!1)},r&&(h(),f+=u.getLocString("LastModified")+": "+r),o=0,c=e;o<c.length;o++){var l=c[o],v=l[0],a=l[1],y=n[a];y&&(h(),f+=u.getLocString(t.MatchType[v])+": "+n[a])}return f}function pt(n){switch(n){case t.MatchType.Author:case t.MatchType.LastModifiedBy:case t.MatchType.Tags:case t.MatchType.Genre:case t.MatchType.Album:case t.MatchType.Artist:return!0;case t.MatchType.Content:case t.MatchType.Location:return!1;default:throw new Error("Unknown match type: "+n);}}function wt(i,r,u,f,e,o,s,h,c,l,a,v,y,p,b,k,d,g,nt,tt){r&&n.isDataSourceEnabled(r,i)&&t.LocalDataProvider.getApps(u,function(t){var u,s,i,o,h;if(l()){for(nt.instrumentResponseReceived(a,r,null,0,!1),u=[],s=function(i){n.safeExecute(function(){return p(i,r,e(i).map(function(n){return t[n]}).filter(function(n){return!!n}),u)},"parseApp "+r)},i=0,o=f;i<o.length;i++)h=o[i],s(h);v(r,u,null)}},y,r,tt);o&&n.isDataSourceEnabled(o,i)&&t.LocalDataProvider.getSettings(s,function(t){var u,e,i,f,s;if(l()){for(nt.instrumentResponseReceived(a,o,null,0,!1),u=[],e=function(i){n.safeExecute(function(){return p(i,o,w(t[c(i)]),u)},"parseSetting "+r)},i=0,f=h;i<f.length;i++)s=f[i],e(s);v(o,u,null)}},y,o);b&&n.isDataSourceEnabled(b,i)&&t.LocalDataProvider.getFiles(k,function(t){var r,f,i,u,e;if(l()){for(nt.instrumentResponseReceived(a,b,null,0,!1),r=[],f=function(i){n.safeExecute(function(){return p(i,b,w(t[g(i)]),r)},"parseFile "+b)},i=0,u=d;i<u.length;i++)e=u[i],f(e);v(b,r,null)}},i,y,b)}function bt(n,i){return t.isMobileCache?null:n.id==t.EdgeAppId?i.getLocString("MicrosoftRecommendedBrowser"):i.getLocString("App")}function kt(n,i){return t.isModernSetting(n)?i.getLocString("SystemSettingsAnnotation"):i.getLocString("ControlPanelAnnotation")}function dt(i,r,u,e,o,s,h){var c=t.getAppItem(o),l,v,w,y,b,it,k,d,tt;if(c){e&&g(o,c);o.primaryMetadata=bt(c,h);o.narratorText=t.getNarratorText(o);o.tooltip=i.isSearchHomeZI?o.text:"";o.type=="IBA"&&(o.tooltip=c.id,o.path=c.id);return}if(t.isSetting(o.type)){o.primaryMetadata=kt(o.deviceItem,h);o.narratorText=t.getNarratorText(o);o.tooltip=i.isSearchHomeZI?o.text:"";return}if(o.type=="LURL"&&(c=o.deviceItem,c)){l=c.id;o.narratorText=t.getNarratorText(o,h.getLocString("DirectNavSuggestion"));o.tooltip=o.query+"\n\n"+l;o.url=l;return}if(v=t.getBrowsingHistoryItem(o),v){var l=v.url,p=n.prettyPrintUrl(l,r,!1),rt=r?HitHighlightingParser.addMarkers(p,r):p,a=v.title;a&&(o.primaryMetadata=r?HitHighlightingParser.addMarkers(a,r):a);o.text=rt;o.query=p;o.narratorText=t.getNarratorText(o,h.getLocString("DirectNavSuggestion"));o.template=1;o.tooltip=(a?a+"\n\n":"")+l;o.classNames.push("forceNoWrapOutsideTopResult");o.url=l;return}if(w=t.getFileItem(o),w){gt(i,r,u,e,s,o,w,h);return}if(o.type=="PT"||o.type=="CG"){if(y=o,o.type!="PT"&&o.deviceItem.launchArguments||(y.path=o.deviceItem.id),b=o.deviceItem,it=b.kind,it=="program"){nt(o,h);return}if(k=ni(b),k){y.itemTypeDisplayName=k;f(i,r,u,y,h);return}o.type=="CG"&&nt(o,h);return}if(o.type=="FEH"){o.narratorText=t.getNarratorText(o,h.getLocString("SearchHistorySuggestion"));r&&(o.text=HitHighlightingParser.addMarkers(o.text,r));return}if(d=t.getPowerBiItem(o),d){tt=d.modelDisplayName;o.primaryMetadata=tt;o.additionalInfoText=" - "+tt;o.narratorText=t.getNarratorText(o);return}throw new Error("Unexpected type: "+o.type);}function gt(r,u,e,o,h,c,l,a){var p,d,w,b,y,k,v,nt,tt;if(d=c.type=="LDOC"?t.resolveKnownFolderGUIDsInPath(l.id):t.indexerFilePathToRegularPath(l.id),c.path=d,c.itemTypeDisplayName=l.itemTypeDisplayName,o&&g(c,l),w=l.lastModifiedDate,n.isValidDate(w)&&(c.lastModifiedDate=w),b=l.extension,b&&(c.extensionLC=b.toLocaleLowerCase()),h!="MFF"||t.IndexerQueryGenerator){c.type=="MU"&&(c.artist=t.IndexerQueryGenerator?i(l,"System.Music.DisplayArtist",h):i(l,"System.Music.Artist",h),c.album=i(l,"System.Music.AlbumTitle",h));y=void 0;switch(h){case"MDOC":c.author=i(l,"System.Author",h);c.lastModifiedBy=i(l,"System.Document.LastAuthor",h);c.tags=i(l,"System.Keywords",h);s(l,"System.Search.Contents")&&(k=i(l,"System.Search.AutoSummary",h),k&&(p=t.tryGetTextContentMatch(k,u),c.textContentIfMatched=p[0],y=p[1]),l.propertyHits.length==1&&(c.matchedOnlyOnContent=!0));break;case"MPHO":c.tags=i(l,"System.Photo.TagViewAggregate",h);break;case"MVID":t.IndexerQueryGenerator&&(c.artist=i(l,"System.Music.DisplayArtist",h),c.genre=i(l,"System.Music.Genre",h));c.tags=i(l,"System.Keywords",h);break;case"MMUS":c.genre=i(l,"System.Music.Genre",h)}!c.text.includes(HitHighlightingParser.startMarker)&&u&&(v=void 0,nt=h!="LM"&&h!="FL",nt&&(h=="MFF"?(v=i(l,"System.Title",h),v&&!t.matchesOnPropertyHH(v,u)&&(v=undefined)):s(l,"System.Title")&&(v=i(l,"System.Title",h))),v?c.text=HitHighlightingParser.addMarkers(v,u):y?c.match=y:(tt=t.IndexerQueryGenerator?"System.Music.DisplayArtist":"System.Music.Artist",c.match=vt(l,h,[t.MatchType.Album,c.album,"System.Music.AlbumTitle"],[t.MatchType.Artist,c.artist,tt],[t.MatchType.Genre,c.genre,"System.Music.Genre"],[t.MatchType.Tags,c.tags,"System.Keywords"],[t.MatchType.Tags,c.tags,"System.Photo.TagViewAggregate"],[t.MatchType.Author,c.author,"System.Author"],[t.MatchType.LastModifiedBy,c.lastModifiedBy,"System.Document.LastAuthor"])))}f(r,u,e,c,a);ii(c,a)}function g(i,r){var u=n.safeExecute(function(){return r.getProperty("System.Link.TargetParsingPath")},"getTargetPath"),f,e,o;u&&(u=u.toLocaleLowerCase(),f=t.getKnownFolderPathLC(t.FOLDERID_Profile),f&&(e=t.getKnownFolderPathLC(t.FOLDERID_SystemX86),e&&u.startsWith(e+"\\config\\systemprofile")?u=f+u.substr(e.length+21):(o=t.getKnownFolderPathLC(t.FOLDERID_System),o&&u.startsWith(o+"\\config\\systemprofile")&&(u=f+u.substr(o.length+21)))),i.targetPathLC=u)}function ni(n){if(n.launchArguments)return null;var t=n.itemTypeDisplayName;return t&&t[0]!="."?t:null}function h(i,r){for(var o,y,h,c,a,u,l,f,v,s=[],e=0;e<i.length-1;++e)if(!t.displayedInGridLayout(i[e].type))for(o=e+1;o<i.length;++o)if(i[e].type==i[o].type&&i[e].text.toLocaleLowerCase()==i[o].text.toLocaleLowerCase()){s[e]=!0;s[o]=!0;break}if(s.length!=0)for(y=i.filter(function(n,t){return s[t]}),h=r.getLocString("InfoTextWithSource"),c=0,a=y;c<a.length;c++)if(u=a[c],u.path){if(l=u.path.lastIndexOf("\\"),l==-1)continue;if(f=u.path.slice(u.path.lastIndexOf("\\",l-1)+1,l),v=u.handoffType==2?null:u.primaryMetadata,v&&f.endsWith(":"))continue;u.type=="IBA"?(u.secondaryMetadata=u.primaryMetadata,u.primaryMetadata=f):u.primaryMetadata=u.primaryMetadata?v?n.formatString(h,[f,u.primaryMetadata]):n.formatString(h,[u.primaryMetadata,f]):f;u.additionalInfoText=n.formatString(h,[" -",f]);u.match&&(u.classNames=u.classNames.filter(function(n){return n!="withMatchAnnotation"&&n!="forceNoWrapOutsideTopResult"}));u.narratorText=t.getNarratorText(u);u.parentFolderDisambig=f}}function nt(n,i){n.primaryMetadata=i.getLocString("RunCommandPrompt");n.classNames.push("action");n.narratorText=t.getNarratorText(n)}function ti(n){return n=="EBH"}function tt(i,r,u,f,e,s,h,c,l,a){var d=t.localDataSourceMayContainPII(u),g,b,y,nt,tt,k,it;if(!h){g=r.deviceItem.kind;SharedLogHelper.LogError("parseLocalSuggestion"+u,d?"":r.deviceItem.displayName||r.deviceItem.id,new Error("Unrecognized kind: "+g));return}if(b=h=="LURL"||h=="EBH"?1:2,n.isSuggestionTypeEnabled(u,h,b,i)){var p=t.getEffectiveQuery(i),w=ti(h)?null:r.deviceItem.displayName,rt=w&&p?HitHighlightingParser.addMarkers(w,p):w,v=t.createSuggestion(i,rt,r.getIcon,r.icon,h,w,n.InstrumentedItem.createInstrumentedItem(f,h),b,f,d);v.uxHint=oi(r,p,e);r.deviceItem.isSimulated||(v.deviceItem=r.deviceItem);v.ciMetaData=r.ciMetaData;t.isApp(h)&&(v.pinnedToTaskbar=e.isPinnedToTaskbar(r.deviceItem.id));r.groupDisplayName&&(v.groupDisplayName=r.groupDisplayName);y=t.getAppItem(v);y?(v.click=function(){return e.launchAppItem(y,u,v.appContext)},t.config.maxJLcm&&ri(i,v,y,e,s,f,u,c)):v.type=="FEH"?v.click=function(){return e.submitFileExplorerTextSuggestion(v.query)}:v.type=="FD"&&t.RuntimeConfig.QfMode==5?v.click=function(){return e.submitFileExplorerFolderSuggestion(v.path)}:(nt=t.getBrowsingHistoryItem(v),nt?(tt=v.url,v.click=function(){return e.launchUri(tt)},v.getIcon=e.getEdgeIcon):v.click=function(){return e.launchDeviceItem(v.deviceItem,u)});y&&v.type!="IBA"||t.isSetting(v.type)||t.isFileOrFolder(v.type)&&v.type!="LDOC"?v.getMruData=function(){return{type:v.type,handoffType:v.handoffType,hc:v.hc,highConfidenceMetaSuggestionScore:v.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:v.prefetchConfidenceScore,id:r.deviceItem.id,suggestionKey:t.getSuggestionKey(v),appContextData:v.appContext?{appContext:v.appContext,query:v.query,textWithoutHH:HitHighlightingParser.removeMarkers(v.text)}:undefined}}:(k=t.getCommandLineItem(v),k?v.hc=t.isRealCommand(v,k):h=="PBI"&&(v.hc=r.deviceItem.rankScore>900));it=t.getGroupType(v);t.shouldSetThisPcGroupSource(it,i)&&(v.sourceForGroup=1);dt(i,p,t.isL2(i),t.supportsShortcuts(u,i),v,u,e);t.RuntimeConfig.QfMode==5&&(v.additionalInfoText=undefined,v.primaryMetadata=undefined,v.secondaryMetadata=undefined);o(v,"parseLocalSuggestion "+u)&&a(v)&&l.push(v)}}function ii(n,i){u(n,function(){var r,u;return n.duplicates&&(r=n.duplicates.find(function(n){return n.handoffType==7||n.handoffType==8}),r)?(u=[],u.push({verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenInBrowser],displayName:i.getLocString("OpenInBrowser"),executeSync:function(){return i.launchUri(r.url+(r.handoffType==8?"?web=1":""))},icon:{type:1,content:"&#xE774"}}),r.locationUrl&&u.push({verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:i.getLocString("OpenFileLocationIn",t.getGroupSourceDisplayName(r.sourceForGroup,i)),executeSync:function(){return i.launchUri(r.locationUrl)},icon:{type:2,content:"&#xE838"}}),u):[]},!0)}function it(i,r){return!t.config.enableFallbackIconsForJumpLists||!p[i]?!1:n.contains(p[i],r)}function ri(n,i,r,f,e,o,s,h){var l=r.id,p=r.filePath,v=t.config.enableJumplistRestrictions&&ut[l],b,w;if(!v&&p&&t.config.enableJumplistRestrictions){b=p.toLowerCase();for(w in y)if(b.includes(w)){v=y[w];break}}v&&v.length==0||(t.RuntimeConfig.AlwaysWide||!ft.find(function(n){return n==l}))&&(i.calculateChildSuggestions=function(){return ui(n,l,p,i,r,v,f,e,o,s,h)},t.config.maxJLcm&&u(i,function(n){var u=[],o,s;return n||(i.calculateChildSuggestions&&i.calculateChildSuggestions(),!i.childSuggestions||t.RuntimeConfig.AlwaysWide&&i.previewPaneType||(o=!1,i.childSuggestions.filter(function(n){return n.type=="JL"&&!n.displayed&&n.groupType==t.GroupType.JumpListTasks}).slice(0,t.config.maxJLcm).forEach(function(n){o=!0;var t=it(i.deviceItem.id,n.groupType)?i.getIcon:c(n.jumpListItem,n.parent,!1,l),s={verb:"JumpListTask_"+l+"_"+n.text,displayName:n.text,executeSync:function(){return a(r,n,f,e)},getIcon:t};u.push(s)}),s=!1,i.childSuggestions.filter(function(n){return n.type=="JL"&&!n.displayed&&n.groupType!=t.GroupType.JumpListTasks}).slice(0,t.config.maxJLcm).forEach(function(n,t){var i,h;o&&!s&&(i={},u.push(i));s=!0;h={verb:"JumpList_"+l+"_"+t,displayName:n.text,executeSync:function(){return a(r,n,f,e)},getIcon:c(n.jumpListItem,n.parent,!0,l)};u.push(h)}))),u},!0))}function ui(i,r,u,f,e,s,v,y,p,w,b){var nt,d,ot,k,tt,ft,g,ut,et,ct;if(f.calculateChildSuggestions=null,nt=e.jumpList,nt&&nt.length!=0){for(d=u||"",ot=d.indexOf("}"),d=d.substr(ot+1),k=[],tt=0,ft=nt;tt<ft.length;tt++)if(g=ft[tt],!s||n.contains(s,g.type)){var st=l(g.type),ht=st!=t.GroupType.JumpListTasks,lt=function(u){var w;if(rt(u))return"continue";var b=it(f.deviceItem.id,l(g.type))?f.getIcon:c(u,f,ht,r),h="JL",s=t.createSuggestion(i,u.displayName,b,null,h,u.displayName,n.InstrumentedItem.createInstrumentedItem(p,h),2,f.sequenceNumber,ht,null,null,!0);s.click=function(){return a(e,s,v,y)};s.jumpListItem=u;s.groupType=st;s.groupDisplayName=g.name;s.parent=f;s.tooltip=u.description;w=d&&u.path.endsWith(d);w||(s.path=u.path);o(s,"calculateJumpListSuggestions")&&(k.push(s),fi(e,s,v,y))};for(ut=0,et=g.items;ut<et.length;ut++)ct=et[ut],lt(ct)}k.length>0&&(f.childSuggestions=f.childSuggestions?f.childSuggestions.concat(k):k,h(k,v),b.instrumentDataSource(p,w,k,null))}}function c(n,i,r,u){return function(f,e){return t.getIcon(n,u+"_"+n.path+"_"+n.displayName,"jumpList",!r,!1)(f,function(n){n?e(n):i.getIcon(f,e)})}}function rt(i){return i.displayName?!t.RuntimeConfig.AlwaysWide&&n.olderThan2Weeks(i.lastAccessed)?!0:!1:!0}function l(n){switch(n){case 0:return t.GroupType.JumpListTasks;case 1:return t.GroupType.JumpListPinned;case 2:return t.GroupType.JumpListRecent;case 3:return t.GroupType.JumpListFrequent;default:return t.GroupType.JumpListCustom}}function a(n,i,r,u){t.Promise.safeChain("launchJumpList",function(){return i.jumpListItem.launchAsync()},null,function(){i.jumpListItem.deleteAsync&&t.DialogBox?t.DialogBox.show(r.getLocString("JumpListItemUnavailableDeleteConfirmation"),[{id:null,text:r.getLocString("Cancel"),selected:!0,action:function(){return r.setFocusInSearchBox(null,"jumpListItemDialogBoxCancel")}},{id:null,text:r.getLocString("Remove"),selected:!1,action:function(){v(n,i,r,u);r.setFocusInSearchBox(null,"jumpListItemUnavailable1")}}]):(u.showTemporaryMessage(r.getLocString("JumpListItemUnavailable")),v(n,i,r,u),r.setFocusInSearchBox(null,"jumpListItemUnavailable2"))})}function v(n,i,r,u){var f=function(){return ei(i)},e;i.jumpListItem.deleteAsync?(e=i.parent.childSuggestions.length==1,t.Promise.safeChain("deleteJumpList",function(){return i.jumpListItem.deleteAsync()},function(){n.getJumpListAsync&&t.Promise.safeChain("getJumpListAsync",function(){return n.getJumpListAsync()},function(n){e&&n.some(function(n){return l(n.type)==i.groupType&&n.items.some(function(n){return!rt(n)})})?f():(r.refreshCurrentPane(),u.showTemporaryMessage(r.getLocString("RemovedFromList",i.text)))},f)},f)):f()}function fi(n,t,i,r){t.jumpListItem.deleteAsync&&u(t,function(){var u={verb:"RemoveFromThisList",displayName:i.getLocString("RemoveFromThisList"),executeSync:function(){return v(n,t,i,r)},icon:{type:2,content:"&#xE711"}};return[u]},!0)}function ei(n){var i=_ge(n.id);t.setVisibility(i,!1);n.suppressed=!0}function oi(n,t,i){if(n&&n.uxHint){var r=t?HitHighlightingParser.addMarkers(n.uxHint,t):n.uxHint;return i.getLocString("RelatedSynonym",r)}return null}var r=SearchAppWrapper.CortanaApp,ut={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[0],"Microsoft.InternetExplorer.Default":[0],Chrome:[0],"360browser":[0]},y={skype:[],outlook:[0],"360browser":[0],chrome:[0],iexplore:[0],opera:[0],firefox:[0],safari:[0]},e=[[t.MatchType.LastModifiedBy,"lastModifiedBy"],[t.MatchType.Author,"author"],[t.MatchType.Artist,"artist"],[t.MatchType.Album,"album"],[t.MatchType.Genre,"genre"],[t.MatchType.Tags,"tags"],],p={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[t.GroupType.JumpListTasks],"Microsoft.MicrosoftStickyNotes_8wekyb3d8bbwe!App":[t.GroupType.JumpListTasks],"Microsoft.XboxApp_8wekyb3d8bbwe!Microsoft.XboxApp":[t.GroupType.JumpListCustom],"com.squirrel.Teams.Teams":[t.GroupType.JumpListTasks],"Microsoft.ScreenSketch_8wekyb3d8bbwe!App":[t.GroupType.JumpListTasks]},ft=["Microsoft.Windows.Explorer",],d;t.getFileExtension=et;t.toDate=ot;t.getTodayTimeString=st;t.setFileTemplate=f;t.enrichMetadataFromDuplicate=ht;t.getOneDriveSuggestionIcon=ct;t.getIconForTypeAsync=b;t.isValidIcon=k;t.isValidSuggestion=o;t.setExtraVerbs=u;t.setExtraVerbsAsync=lt;d=function(){function i(n,t,i){this._host=n;this._instrumentationHelper=t;this._temporaryMessageHandler=i}return i.prototype.parse=function(i,r,u,f,e,o){for(var v,y,s=this,c=[],p=function(t){n.safeExecute(function(){return tt(i,t,u,r,s._host,s._temporaryMessageHandler,t.suggestionType,s._instrumentationHelper,c,function(){return!0})},"parseLocalSuggestion "+u)},l=0,a=f.suggestions;l<a.length;l++)v=a[l],p(v);(t.isFileOrFolderLocalDataSource(u)||u=="IBA")&&h(c,this._host);y={maxedOut:f.maxedOut};o(u,c,y)},i}();t.SuggestionsParser=d;t.lookupById=wt;t.decorateSuggestionsWithParentFolder=h;t.parseLocalSuggestion=tt})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){i.currentCIVersion="-1";var r=function(){function r(u,f,e,o){var s=this;(this._ariaLogger=e,this._lightweightStorage=o,f.bindShown(function(){var n=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=n?String(n.version):"-1"}),f.hasFallbackHappened())||f.bindAppHidden(function(){var a,h,o;if(n.isBingEnabled()&&n.isBrowserOnline()){var w=n.getWindowHost().toLowerCase(),nt=w=="bing.com"||w.endsWith(".bing.com"),tt=typeof ClientTestHooks=="undefined";if(!nt&&(tt||!ClientTestHooks||!ClientTestHooks.isTesthookParamSet("isTest")))return;if(a=s._lightweightStorage.getItem(r.LastCIDownloadAttemptKey),h=null,a&&(h=new Date(a)),h&&(s.getTimeDiffInMins(h)<t.config.waitBetweenCIDownloadCallsInMins?t.config.waitBetweenCIDownloadCallsInMins:0))return;o=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=String(o.version);var v=t.getCurrentLanguage(),e=t.config.ciVersion,b=u.urlResult,f=s.parseUrlResult(b),k=i.currentCIVersion,d=s.getUrlForCiCab(e,v),g=n.contains(t.config.blacklistedCiVersions,o.version)&&e<o.version,it=e==f.version&&f.errorCode!="00000000";if(e>0&&t.config.supportedCiMarkets[v]&&(v!=o.language||e>o.version||g||it)&&(!f.url||g||u.lastUrl==f.url||f.errorCode!="00000000")){var y="cis_v"+e,p="ci_v"+e,c=s._lightweightStorage.getItem(y)?parseInt(s._lightweightStorage.getItem(y)):0,l=s._lightweightStorage.getItem(p)?parseInt(s._lightweightStorage.getItem(p)):0;s._lightweightStorage.setItem(r.LastCIDownloadAttemptKey,n.getCurrentDate().toString());t.Promise.safeChain("constraintIndexDownloader.tryDownloadFromUrlAsync",function(){return u.tryDownloadFromUrlAsync(d)},function(n){if(n){var t=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=String(t.version);c++;s._lightweightStorage.setItem(y,c.toString())}else SharedLogHelper.LogError("constraintIndexDownloader.tryDownloadFromUrlAsync","urlResult: "+b,"Download failed");l++;s._lightweightStorage.setItem(p,l.toString());s._ariaLogger&&(f=s.parseUrlResult(u.urlResult),s._ariaLogger.logCIDownloadStatus(i.currentCIVersion==String(e)&&n,!1,f.version==1?!0:!1,String(e),k,i.currentCIVersion,c.toString(),l.toString(),f.errorCode))},function(n){s._ariaLogger&&(f=s.parseUrlResult(u.urlResult),s._ariaLogger.logCIDownloadStatus(!1,!0,f.version==1?!0:!1,String(e),k,i.currentCIVersion,c.toString(),l.toString(),f.errorCode,n.message))},null,d)}}})}return r.prototype.parseUrlResult=function(n){var r=null,t=null,u=1,i,f;return n&&(i=n.split(":0x"),i.length>1?(r=i[0],t=i[1],t!="00000000"&&SharedLogHelper.LogError("constraintIndexDownloader.urlResult",t,"Download encountered problems"),f=this.getContstraintIndexInfo(r),u=f.version):SharedLogHelper.LogError("constraintIndexDownloader.parseUrlResult","urlResult: "+n,"Invalid URL")),{url:r,version:u,errorCode:t}},r.prototype.getContstraintIndexInfo=function(n){var r=-1,u="",t,i;return n&&(t=n.split("/"),t.length>1?(i=t[t.length-1].split("."),u=i.length==2?i[0]:"",r=+t[t.length-2]):SharedLogHelper.LogError("constraintIndexDownloader.getContstraintIndexInfo","url: "+n,"Invalid URL")),{version:r,language:u}},r.prototype.getUrlForCiCab=function(n,t){return"/bcs/ci/"+n+"/"+t+".cab"},r.prototype.getTimeDiffInMins=function(t){if(!n.isValidDate(t))return 0;var i=t.getTime(),r=n.getCurrentTime();return Math.round((r-i)%864e5%36e5/6e4)},r.LastCIDownloadAttemptKey="LastCIDownloadAttempt",r}();i.ConstraintIndexDataLoader=r})(i=t.ConstraintIndex||(t.ConstraintIndex={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var r="OneDrive provider called without {0}",u=function(i){function u(n){var t=i.call(this,"MODC")||this;return t._accessTokenManager=n,t}return __extends(u,i),u.prototype.getName=function(){return"MyStuffOneDriveDataProvider"},u.prototype.getAllAccountTokens=function(i){if(t.RuntimeConfig.QfMode==5){var u=SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootAccount;u?this._accessTokenManager.getAccountByUserName(!1,0,u,!1,!0,function(n){n&&n.Token?i([n.Token]):i(null,"AccountNotFound")},"Windows"):t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess?this._accessTokenManager.getAllSyncingAccounts(!1,0,!1,!0,function(n){n.length>0?i(n.map(function(n){return n.Token})):i(null,"NoAccountsFound")},"Windows"):(SharedLogHelper.LogError("MyStuffOneDriveParser","QfMode="+t.RuntimeConfig.QfMode,new Error(n.formatString(r,["currentSyncRootAccount"]))),i(null,"CurrentSyncRootAccount"))}else t.getAuthAccountForCloudContent()=="Windows"&&t.cortanaAccountType!=3&&t.getWindowsAndCortanaAccountIdentityDiff()!=1&&t.substrateProvidersEnabled()?this._accessTokenManager.getAccount(0,t.getBingResourceOrScope(0),!1,!0,function(n){n&&n.Token?i([n.Token]):i(null,"NoAccountsFound")},"Windows"):i(null)},u.prototype.getBaseUrl=function(){return t.config.myStuffOneDriveRootUrl},u.prototype.getPostBody=function(n){return n.taskFrame?n.taskFrame.raw:""},u.prototype.fetch=function(t,r,u,f,e,o,s){var l=this,h,c;n.isDataSourceEnabled(this._dataSource,t)&&(h={numOfPendingResponses:0},c=function(c){var v=Object.assign({},s),a;c&&(v["X-Search-RPSToken"]=c);a=Object.assign({},o);delete a[n.Service.QueryParams.ImpressionGuid];delete a[n.Service.QueryParams.RequestElToken];i.prototype.fetch.call(l,t,function(n,t,i,u,f){--h.numOfPendingResponses;r(n,t,i,u,f,h.numOfPendingResponses!=0)},u,f,e,a,v)},this.getAllAccountTokens(function(n,t){t?r(l._dataSource,null,t,null,null,!1):n?(h.numOfPendingResponses=n.length,n.forEach(function(n){return c(n)})):(h.numOfPendingResponses=1,c(null))}))},u}(n.JsonDataProvider),i;t.MyStuffOneDriveDataProvider=u;i=function(){function i(n){this._host=n}return i.prototype.parse=function(n,i,r,u,f,e){var o=[];u&&(u.Results?(this.addContent(n,o,u.Results.OneDriveDocuments,"FL",t.Scope.Documents,i),this.addContent(n,o,u.Results.OneDriveFolders,"FD",t.Scope.Folders,i),this.addContent(n,o,u.Results.OneDriveImages,"LI",t.Scope.Photos,i),this.addContent(n,o,u.Results.OneDriveVideos,"LV",t.Scope.Videos,i),this.addContent(n,o,u.Results.OneDriveAudio,"MU",t.Scope.Music,i)):SharedLogHelper.LogError("MyStuffOneDriveParser",null,new Error("Missing Results property")));t.decorateSuggestionsWithParentFolder(o,this._host);e("MODC",o,null)},i.prototype.addContent=function(i,r,u,f,e,o){var s=this,c,l,v,a;if(u&&n.isSuggestionTypeEnabled("MODC",f,7,i)){var h=t.Scope[e],y=function(u){var k,c,d,w,g,b;if(!u.Content)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing Content property")),{value:void 0};if(c=u.Content.OneDriveData,!c)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing OneDriveData property")),{value:void 0};if(d=c.propertyHits.length==1&&c.propertyHits[0]=="TextContent",d&&(!t.config.minLengthForContentMatch||i.queryToFetch.length<t.config.minLengthForContentMatch))return{value:void 0};if(w=c.SeeMore,!w)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing SeeMore property")),{value:void 0};var v=t.getEffectiveQuery(i),a=t.decodeHtml(c.Name),y=void 0;if(a.includes(HitHighlightingParser.startMarker)?y=HitHighlightingParser.removeMarkers(a):(y=a,a=HitHighlightingParser.addMarkers(y,v)),f=="FL"&&(g=c.FullPath.lastIndexOf("\\"),g!=-1)){var nt=c.FullPath.substr(g+1),tt=HitHighlightingParser.addMarkers(nt,v),rt=!tt.includes(HitHighlightingParser.startMarker)&&a.includes(HitHighlightingParser.startMarker);rt||(a=tt,y=nt)}var it=t.ScopeConfig[e].icon,ut=t.isMedia(f),ft=t.getOneDriveSuggestionIcon(ut,it,c.Thumbnail.replace(":Thumbnail",":Cropped176x176#h=176&w=176"),c.Extension,c.Id),l=t.createSuggestion(i,a,ft,it,f,y,n.InstrumentedItem.createInstrumentedItem(o,f),7,o,!0);l.url=w;l.path=c.FullPath;l.matchedOnlyOnContent=d;l.lastModifiedDate=t.toDate(c.DateModified);c.Extension&&(l.extensionLC=c.Extension.toLocaleLowerCase());b=void 0;f=="FL"&&c.TextContent&&n.contains(c.propertyHits,"TextContent")&&(k=t.tryGetTextContentMatch(c.TextContent,v),l.textContentIfMatched=k[0],b=k[1]);c.Artist&&(l.artist=HitHighlightingParser.removeMarkers(c.Artist));c.Album&&(l.album=HitHighlightingParser.removeMarkers(c.Album));a.includes(HitHighlightingParser.startMarker)||(b?l.match=b:c.Path&&n.contains(c.propertyHits,"Path")&&(l.match=t.tryGetLocationMatch(c.Path,v)));l.sourceForGroup=2;t.setFileTemplate(i,v,t.isL2(i),l,p._host);l.click=function(){return s._host.launchUri(w)};c.LocationUrl&&(l.locationUrl=c.LocationUrl,t.setExtraVerbs(l,function(){var n={verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:s._host.getLocString("OpenFileLocationIn",t.getGroupSourceDisplayName(2,s._host)),executeSync:function(){return s._host.launchUri(c.LocationUrl)},icon:{type:2,content:"&#xE838"}};return[n]},!0));t.isValidSuggestion(l,"MyStuffOneDriveParser "+h)&&r.push(l)},p=this;for(c=0,l=u;c<l.length;c++)if(v=l[c],a=y(v),typeof a=="object")return a.value}},i}();t.MyStuffOneDriveParser=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,r="AFC",u=864e5,f=t.config.activityFeedWindow||30,s=[1,7,f],e=4,h=32,c=32,l=function(){function o(n){var t=this;n.bindDismissed(function(){t._fetchContext&&(t._fetchContext.fetchInProgress=!1,t._fetchContext=null)});n.bindShown(function(){t._userActivityItemsCache=null})}return o.prototype.getName=function(){return"ActivityFeedDataProvider"},o.prototype.fetch=function(i,u,e,o,h){var l=this,c;i.enabledDataSources[r]&&(o.register(function(){l._callback=null},!1,"AFCfetch"),this._callback=u,this._userActivityItemsCache?(c=this._fetchContext&&this._fetchContext.fetchInProgress,n.invokeAsynchronously("ActivityFeedDataProvider.callback",function(){h()&&u(r,{items:l._userActivityItemsCache.slice(0)},undefined,c?3:1,undefined,c)})):this._fetchContext||(this._fetchContext={fetchInProgress:!0},this.fetchChunked(0,this.getUserActivityItemsCount(),0,t.config.chunkAFCReqs?s:[f],this._fetchContext)))},o.prototype.fetchChunked=function(t,i,r,f,e){var o=this;if(t>=i){SharedLogHelper.LogError("AFCfetchChunked",null,new Error("targetItemCount <= itemCount"));e.fetchInProgress=!1;return}var s=n.getCurrentTime(),h=new Date(s-r*u),c=new Date(s-f[0]*u);this.getUserActivityItemsWithOptionsAsync(function(n){if(e.fetchInProgress){t+=n.length;var r=t<i&&f.length>1&&f[1]>f[0];o.onChunkReceived(n,r);r?o.fetchChunked(t,i,f[0],f.slice(1),e):e.fetchInProgress=!1}},c,h,i-t)},o.prototype.onChunkReceived=function(n,t){var i;this._userActivityItemsCache||(this._userActivityItemsCache=[]);(i=this._userActivityItemsCache).push.apply(i,n);this._callback&&this._callback(r,{items:n},undefined,undefined,undefined,t)},o.prototype.getUserActivityItemsWithOptionsAsync=function(r,u,f,e){var s=i.userActivityForWebHelper,o;n.safeExecute(function(){o=s.createActivityQueryOptions();o.endTime=f;o.startTime=u;o.collapseOnActivityId=!0;o.activitySortAggregationType=4;o.activitySortByProperty="System.ActivityHistory.EndTime";o.activitySortOrder=0},"createActivityQueryOptions",undefined,undefined,function(){return o=null});o?t.Promise.safeChain("getUserActivityItemsWithOptionsAsync",function(){return s.getUserActivityItemsWithOptionsAsync(e,!!t.config.filterActivitiesToActivatableItems,o)},r,function(){return r([])}):r([])},o.prototype.getUserActivityItemsCount=function(){var n=i.textScaleFactor||1;return t.RuntimeConfig.AlwaysWide&&n==1?e:e-1},o}(),o;t.ActivityFeedDataProvider=l;o=function(){function r(n){var t=this;this._host=n;this._getEdgeIcon=n.getEdgeIcon;n.bindShown(function(){t._isInternetConnectionMetered=n.isInternetConnectionMetered()})}return r.prototype.parse=function(n,r,u,f,e,o,s){var c=this,h,l;t.config.backplateAllIconsInZI?this.innerParse(n,r,u,f,e,o,s):(h={},f.items.forEach(function(n){n&&n.appId&&(h[n.appId]=n.appId)}),l=Object.keys(h),t.Promise.safeChain("ActivityFeedSuggestionsParser parse",function(){return i.queryFormulationView.deviceSearch.findAppsAsync(l)},function(t){return c.innerParse(n,r,u,f,e,o,s,t)},function(){return c.innerParse(n,r,u,f,e,o,s)},s))},r.prototype.innerParse=function(i,r,u,f,e,o,s,h){for(var y,a=[],p=function(f){var y=!h||h[f.appId]&&h[f.appId].isImmersive,o=c.getGetIcon(f,y),s=c.getIcon(f,o),l="AFC",e=t.createSuggestion(i,f.activityDisplayText,s?undefined:o,s,l,f.activityDisplayText,n.InstrumentedItem.createInstrumentedItem(r,l),18,r,t.localDataSourceMayContainPII(u),f.id,function(){return f.launchActivity()}),v;e.additionalInfoText=f.description||f.contentUri;e.tooltip=f.activityDisplayText;e.additionalInfoText&&(e.tooltip+="\n\n"+e.additionalInfoText);f.deleteActivityAsync&&t.config.deleteActivity&&(v={verb:"RemoveFromActivityFeed",displayName:c._host.getLocString("RemoveFromActivityFeed"),executeSync:function(){return f.deleteActivityAsync()},icon:{content:"&#xE711",type:2}},n.WSB.setExtraVerbs(e,function(){return[v]},!1));a.push(e)},c=this,l=0,v=f.items;l<v.length;l++)y=v[l],p(y);o(u,a,undefined)},r.prototype.getIcon=function(n,t){return n.appImageUri&&!this._isInternetConnectionMetered?{content:n.appImageUri,type:0,canFail:!0,isValidSize:function(n,t){return n>=h&&t>=c},getFallbackIcon:t}:undefined},r.prototype.getGetIcon=function(n,i){return n.appId==t.EdgeAppId?this._getEdgeIcon:t.Promise.safeChainWithGlobalCaching("activityFeedClientIcon",function(r){return n.getActivityAppLogoAsync(t.getImageSizeValue(r)).then(function(r){return t.toIcon(r,"activityFeedClientIcon toIcon",null,i?n.logoBackgroundColor:undefined)})},function(i){return n.id+"_"+t.getImageSizeValue(i)+"px"})},r}();t.ActivityFeedSuggestionsParser=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function t(t){var i=this;t.bindQueryChangedOrInitialized(function(){(!n.config.keepLastKeystrokeCache||i._currentWebSignals)&&(i._previousWebSignals=i._currentWebSignals,i._currentWebSignals=null);(!n.config.enableCISpeller||i._currentSpellerTrigger)&&(i._previousSpellerTrigger=i._currentSpellerTrigger,i._currentSpellerTrigger=null)});t.bindConversationStart(function(){i._previousWebSignals=null;i._currentWebSignals=null;i._previousSpellerTrigger=null;i._currentSpellerTrigger=null;i._previousBestMatchSuggestion=null;i._previousQuery=null})}return t.prototype.setPreviousQuery=function(n){this._previousQuery=n},t.prototype.getPreviousQuery=function(){return this._previousQuery||""},t.prototype.updateWebSignalsData=function(n,t){this._currentWebSignals={query:n,signals:t}},t.prototype.setPreviousTopHit=function(n){this._previousBestMatchSuggestion=n},t.prototype.getPreviousTopHit=function(){return this._previousBestMatchSuggestion},t.prototype.updateSpellerTriggerData=function(n,t){this._currentSpellerTrigger={query:n,triggerSpeller:this.triggerSpellerOnTheNextKeyStroke(t,n)}},t.prototype.getPreviousEventWebSignalsData=function(n){return this._previousWebSignals&&this.isPreviousEventQuery(this._previousWebSignals.query,n)?this._previousWebSignals.signals:null},t.prototype.disableCISpeller=function(n){return this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.isPossibleFirstMisspelling(n,this._previousSpellerTrigger.query)?!0:!1},t.prototype.enableCISpeller=function(t){return n.config.enableCISpeller?this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.disableCISpeller(t)?!1:this._previousSpellerTrigger&&this.isPossibleFirstMisspelling(this._previousSpellerTrigger.query,t)?!0:this._previousSpellerTrigger&&(this.isTypedEventQuery(this._previousSpellerTrigger.query,t)||this.isBackspaceEventQuery(this._previousSpellerTrigger.query,t))&&this._previousSpellerTrigger.triggerSpeller:this._previousSpellerTrigger&&this.isPreviousEventQuery(this._previousSpellerTrigger.query,t)&&this._previousSpellerTrigger.triggerSpeller},t.prototype.triggerSpellerOnTheNextKeyStroke=function(t,i){return n.config.enableCISpeller==1?!0:t.every(function(n){return n.notAResult})?!0:t.length>0&&this.isWebSpellCorrectedSuggestion(t[0])&&t.every(function(n){return n.handoffType==0})?!0:n.config.enableCISpeller==2&&!t.some(function(t){return n.isApp(t.type)||n.isSetting(t.type)})?!0:this.enableCISpeller(i)?!0:!1},t.prototype.isWebSpellCorrectedSuggestion=function(n){return n.type=="SC"||n.type=="OS"},t.prototype.isPreviousEventQuery=function(n,t){return n&&t&&n.length==t.length-1&&t.startsWith(n)},t.prototype.isBackspaceEventQuery=function(n,t){return n&&t&&n.length==t.length+1&&n.startsWith(t)},t.prototype.isTypedEventQuery=function(n,t){return(n||n==="")&&t&&n.length<t.length&&t.startsWith(n)},t.prototype.isPossibleFirstMisspelling=function(t,i){if(n.config.firstMisspellingOnMatchedQuery&&this._previousBestMatchSuggestion){var r=this._previousBestMatchSuggestion.ciMatchedQuery||this._previousBestMatchSuggestion.query;return r.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!r.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1}return this._previousBestMatchSuggestion&&this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1},t}();t.PreviousKeystrokeCache=i})(t=n.Cache||(n.Cache={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(t){function c(n,t){e=n;var s=_ge("dialogBox");s&&(sj_be(s,"click",function(n){var r=n.target.id,t=i.filter(function(n){return n.id==r}).shift();t?(t.action&&t.action(),u()):r=="dialog_overlay"&&u();sj_sp(n)},!0),t.bindKeyDown(function(n){var e,o,t,s,u,i;if(r){e=void 0;switch(n){case 39:for(t=f(),o=!1,u=0,i=void 0;i=t[u];u++)if(o){e=i;break}else if(o=i.selected==!0,o&&u+1==t.length){e=t[0];break}break;case 37:for(t=f(),s=void 0,u=0,i=void 0;i=t[u];u++){if(i.selected==!0){e=s?s:t[t.length-1];break}s=i}}e&&h(e)}}),t.bindKeyEscape(function(n){o()&&(u(),n.handled=!0)}))}function l(t,u){var f,o;if(i=[],u.length==0)throw new Error("DialogBox: Empty buttons array");i=u.map(function(n,t){var i=n;return i.id="dialog_b"+t,i.narratorText=i.text,i.selected&&(f=i.id),i});o={isVisible:!0,messageText:t,buttons:i};e.updateDialogBox(o);f&&n.safeSetTimeout(function(){return _ge(f).focus()},0,"DialogBox.show");r=!0}function u(){if(r)e.updateDialogBox({isVisible:!1}),r=!1}function o(){return r}function f(){return i}function a(){return f().map(function(n){return[n]})}function s(){return f().filter(function(n){return n.selected}).shift()}function h(n){for(var r,t=0,u=i;t<u.length;t++)r=u[t],r.selected=r.id==n.id,r.selected&&_ge(n.id).focus()}function v(){if(o()){var n=s();n&&(n.action&&n.action(),u())}}function y(){return!1}var i=[],e,r=!1;t.init=c;t.show=l;t.hide=u;t.isVisible=o;t.getSelectableItems=f;t.getSelectableItemsByGroup=a;t.getSelectedItem=s;t.select=h;t.submit=v;t.onAfterKeyDown=y})(i=t.DialogBox||(t.DialogBox={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function l(n){return n.includes("form=vsranf")}function a(t){var i=n.tryParseUrl(t,!0);return!!i&&/[\?\&]q=/i.test(i.parameters)&&!/[\?\&]view=detail/i.test(i.parameters)}function vt(t){var i=n.tryParseUrl(t,!0);return!!i&&at.test(i.parameters)}function yt(n){switch(n){case 17:case 1:case 0:return 1;case 13:return 2;case 14:return 3;default:throw Error("Unsupported handoff type: "+n);}}function v(n){switch(n){case 1:return 1;case 2:return 7;case 3:return 8;default:throw Error("Unsupported vertical: "+n);}}function y(t){var i=n.tryGetBingPathLC(t);return i?n.contains(ct,i)?2:n.contains(lt,i)?3:n.contains(n.WebSearchPaths,i)?1:null:null}var s=t.PreviewPaneWidth-24,w="miniserp_focus",b="disableOutline",r=2,k=["tab-active","slide"],d=["aria-expanded"],g="videoPreview",nt=300,f=30,tt="IsSearchAppXYFocusEnabled",it="WinJS",rt="dFocusExit",i="win-xyfocus-suspended",h="MiniSerpContentLoaded",ut="Rewards.ReportActivity.Success",ft="Rewards.ReportActivity.Failure",p,o;t.MiniSerpFetchEvent="miniSERP.Fetch";var et=["/account/","/settings.aspx"],u=function(){var n={};return n[37]="left",n[39]="right",n[38]="up",n[40]="down",n}(),ot=1e4,c=800,st=100,ht=["&form=s00037&"],ct=["/images/search","/images"],lt=["/videos/search","/videos"],at=/[\?\&]FORM=HDRSC[1-3]/i,e="ClientInst";p=function(){function i(i,r,f,e,o,s,c){var l=this;this._page=i;this._host=r;this._navigationHelper=f;this._instrumentationHelper=e;this._sequenceNumberManager=o;this._msRewardsViewModel=s;this._latencyInstrumentation=c;this._deviceScale=1;this._previewRequestId=0;this._previousURLs=[];this.blockedMiniSERPUrls=[_w.location.origin+_w.location.pathname];this._root=_ge("qfPreviewPane");this._seeAllResults=_ge("seeAllResults");this._footer=_ge("footer");this._mask=_ge("previewMask");this._forceLoadScreen=_ge("forceLoadMessage");this._contentContainer=_ge("previewContainer");this._scrollArea=_ge("qfPreviewScrollArea");this._loadingScreen=_ge("loadingScreen");sj_be(this._scrollArea,"scroll",function(t){l._iframe&&n.contains([2,3],l._currentVertical)&&l._iframe.contentWindow.dispatchEvent(new Event(t.type,t));l._calculateIFrameHeight&&l._calculateIFrameHeight()});this._footer&&sj_be(this._footer,"keydown",function(i){l._iframe&&n.isUpOrDownKey(i.keyCode)?(i.keyCode==38?l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocusToEdgeFocusableElement(1)}):t.RuntimeConfig.AllowKeyboardNavCycling&&l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocusToEdgeFocusableElement(0)}),sj_pd(i),sj_sp(i)):i.keyCode==13&&l._footer.click()});this._mask&&t.RuntimeConfig.MiniSERPMode!=0&&sj_be(this._mask,"keydown",function(n){n.keyCode==13&&l._mask.click()});sj_be(_w,"message",function(n){var r=n.data?n.data.msWinJSXYFocusControlMessage:null,i,f;r&&r.type==rt&&(i=r.direction,f=r.keyCode,l._focusHelper&&!l._focusHelper.isL2Visible()&&l._focusHelper.getXYFocusRoot()!=l._originalMiniSerpXYFocusRoot?(l._focusHelper.setXYFocusRoot(l._originalMiniSerpXYFocusRoot),l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocus(i,f)})):(i!=u[t.getRtlAdjustedKey(39)]&&n.source.blur(),i==u[40]||i==u[38]&&t.RuntimeConfig.AllowKeyboardNavCycling?l._footer?l._footer.focus():l._focusHelper.moveFocusToEdgeFocusableElement(i==u[38]?1:0):i!=u[t.getRtlAdjustedKey(37)]||l._host.searchBoxHasFocus()||l._host.setFocusInSearchBox(f,"previewPaneUnfocus")))});r.bindShown(function(){ThresholdUtilities.getCortanaHeaders(function(n){n&&n["X-BM-DeviceScale"]&&(l._deviceScale=+n["X-BM-DeviceScale"]/100)});l.setVertical(1)});r.bindAppHidden(function(){l._seeAllResults&&(l._seeAllResults.innerText="");l._currentVertical=null});r.bindSearchBoxGotFocus(function(){l._focusHelper&&l._focusHelper.onSearchBoxFocusChanged()});sj_evt.bind(h,function(){l._onIFrameLoadedCallback&&(l._onIFrameLoadedCallback(),l._onIFrameLoadedCallback=null)});this._msRewardsViewModel&&(sj_evt.bind(ut,function(n){var t=n[1];l._msRewardsViewModel.notifyPointsRewarded(t)}),sj_evt.bind(ft,function(n){var t=n[1];SharedLogHelper.LogError("RewardsReportActivityFailureEvent",null,t?new Error(t):null)}))}return i.prototype.init=function(n){this._previewPaneViewModelParent=n},i.prototype.finalizeKeystroke=function(){},i.prototype.getSelectableItems=function(){return[]},i.prototype.getSelectableItemsByGroup=function(){return[]},i.prototype.getSelectedItem=function(){return null},i.prototype.select=function(){},i.prototype.onAfterKeyDown=function(){return!1},i.prototype.clear=function(){this._previewedSuggestion=null;this._previewedQuery=null;this._onPreviewPaneRendered=null;this._footer&&(t.setVisibility(this._footer,!1),this._footer.onclick=null);this._mask&&(t.setVisibility(this._mask,!1),this._mask.onclick=null);this._forceLoadScreen&&this.clearForceLoadPage();this.clearContent();this._previousURLs=[]},i.prototype.showForceLoad=function(n,i){var r=this;this._instrumentationHelper.logClientInstEvent("Select","ForceLoadOpened",this._sequenceNumberManager.getSequenceNumber(),{suggestionText:n});this.stopLoadingScreen();t.setVisibility(this._scrollArea,!1);t.setVisibility(this._footer,!1);t.setVisibility(this._mask,!1);t.setVisibility(this._forceLoadScreen,!0);this.formatForceLoadPage(n);this._forceLoadScreen.onclick=function(){r.clearForceLoadPage();r.startLoadingScreen();i()}},i.prototype.clearForceLoadPage=function(){for(t.setVisibility(this._forceLoadScreen,!1),t.setVisibility(this._scrollArea,!0),this._forceLoadScreen.onclick=null,this._forceLoadScreen.classList.remove("forceLoadContainer");this._forceLoadScreen.hasChildNodes();)this._forceLoadScreen.removeChild(this._forceLoadScreen.lastChild)},i.prototype.formatForceLoadPage=function(n){var s=this._host.getLocString("ForceLoadMessage"),h=this._host.getLocString("ForceLoadButton"),e=s.split("{0}"),o=sj_ce("div","","accentColor"),r,i,u,f,t;this._forceLoadScreen.appendChild(o);r=_d.createElement("span");r.id="forceLoadIcon";r.innerHTML="&#xE721";o.appendChild(r);i=sj_ce("div","forceLoadQueryText","");i.appendChild(_d.createTextNode(e[0]));u=_d.createElement("span");u.textContent=n;i.appendChild(u);i.appendChild(_d.createTextNode(e[1]));this._forceLoadScreen.appendChild(i);f=sj_ce("div","","");this._forceLoadScreen.appendChild(f);t=_d.createElement("button");t.className="c-button";t.id="forceLoadSubmit";t.type="submit";t.textContent=h;f.appendChild(t)},i.prototype.startLoadingScreen=function(){t.setVisibility(this._scrollArea,!1);t.setVisibility(this._footer,!1);t.setVisibility(this._mask,!1);t.setVisibility(this._loadingScreen,!0)},i.prototype.stopLoadingScreen=function(){t.setVisibility(this._loadingScreen,!1);t.setVisibility(this._scrollArea,!0)},i.prototype.clearContent=function(){for(this._previewRequestId+=1,this._focusHelper=null,this._onIFrameLoadedCallback=null;this._contentContainer.hasChildNodes();)this._contentContainer.removeChild(this._contentContainer.lastChild);this._contentContainer.classList.remove("miniSerpContainer");this._contentContainer.classList.remove("errorMessageContainer");this._iframe&&(this._iframe=null,this._calculateIFrameHeight=null);this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)},i.prototype.hasFocus=function(){if(this._host.searchBoxHasFocus())return!1;var t=n.getCurrentActiveElement();return t&&t!=this._iframe&&this._root.contains(t)},i.prototype.focus=function(){var t=this,n;this.hasFocus()||(this._iframe?(n=this.tryExecuteFocusOnMiniSerp(function(){return t._focusHelper.moveFocusToLastFocusedElement()}),n?this._host.setFocusInWebView("miniserp focus"):this._host.setFocusInSearchBox(null,"MiniSERP VM Focus failed")):this._previewPaneViewModelParent.focusPending=!0)},i.prototype.readyToBlur=function(){return!0},i.prototype.blur=function(){},i.prototype.setVertical=function(n){if(n!=this._currentVertical){if(this._seeAllResults)switch(n){case 1:this._seeAllResults.innerText=t.config.miniSerpPreview?this._host.getLocString("SeeResultsBrowser"):t.config.wsbTransferText?this._host.getLocString("OpenResultsBrowser"):this._host.getLocString("SeeAllResults");break;case 2:this._seeAllResults.innerText=this._host.getLocString("SeeAllImageResults");break;case 3:this._seeAllResults.innerText=this._host.getLocString("SeeAllVideoResults");break;default:throw new Error("Unsupported vertical type: "+n);}this._currentVertical=n}},i.prototype.update=function(i,r,u,f,e){var o=this,s,l,h,v,a,p;if(this._previewedSuggestion=i,this._previewedQuery=r,this._onPreviewPaneRendered=e,s=i.type=="MB"&&i.segments=="Organization"?null:i.baseSearchUrl,l=yt(i.handoffType),this.setVertical(l),this._footer&&(this._footer.onclick=function(t){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(t),3);o._host.launchSearch(i.query,o._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),this._mask&&(this._mask.onclick=function(t){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(t),3);o._host.launchSearch(i.query,o._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),h=l==2&&r.overrideAction==1,t.config.th&&ClientTestHooks.isTesthookParamSet("noSerp")){this.renderIframe(null,"<html><body><\/body><\/html>",{},undefined,h);v=n.getCurrentTime();this._previewPaneViewModelParent.onResponseReceived(v);return}var y=u==0,w=t.RuntimeConfig.QfMode==6?undefined:y?"WMSRPA":"WMSRPM",c=h?this._navigationHelper.getImageSearchUrl(t.config.enableSnipSearchV2):this._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType,w,!0,null,y);c+="&qfig="+this._instrumentationHelper.getImpressionGuid(this._sequenceNumberManager.getSequenceNumber());this._msRewardsViewModel&&this._msRewardsViewModel.isRewardsEnabled()&&(c+="&rewards=1");this._previousURLs=[];h?(a=function(){return o.renderErrorMessage(i.query)},p=r.overrideActionHandlerAsync,p(function(n){n?o.downloadAndDisplayMiniSerp(i,c,n,u,i.previewCallback):(o.miniSerpErrorInstrumentation("notHaveMultipartBody"),a())},function(){o.miniSerpErrorInstrumentation("bingImageSearchActionFailed");a()})):this.downloadAndDisplayMiniSerp(i,c,null,u,i.previewCallback)},i.prototype.miniSerpErrorInstrumentation=function(n,t,i){var r;r=i?{ErrorCause:n,ResponseRecievedTimeStamp:t.toString(),ResponseText:i.responseText,ContentType:i.contentType,ResponseStatusCode:i.status.toString(),RequestStatusCode:i.result.toString()}:{ErrorCause:n};this._instrumentationHelper.logClientInstEvent(e,"MiniSERPError",this._sequenceNumberManager.getSequenceNumber(),r)},i.prototype.renderErrorMessage=function(n){var t=this._host.getLocString("PreviewPaneErrorMessage"),i=t.split("{0}"),r={fullPartialQuery:n,textParts:i};this._page.updatePreviewErrorMessageView(r)},i.prototype.downloadAndDisplayMiniSerp=function(i,r,u,f,e){var h=this,c=!1,l,a,v,y,p,o;t.config.th&&(l=ClientTestHooks.getUrlValue("client"),c=l&&l.toLowerCase()=="windows",a=ClientTestHooks.getUrlValue("previewPaneUrlOverride"),r=a?decodeURIComponent(a):ClientTestHooks.CopyTestParameters(_w.location.search,r),c&&(r=ThresholdUtilities.setUrlParameter(r,"client","windowsMiniSerp")),v=ClientTestHooks.getUrlValue("miniSerpBag"),v&&(r=ThresholdUtilities.setUrlParameter(r,"bag",v)),y=ClientTestHooks.getUrlValue("dummyref"),y&&(r=ThresholdUtilities.setUrlParameter(r,"dummyref",y)));p=f==0;sj_evt.fire(t.MiniSerpFetchEvent,i,p);o=this._host.getCustomHeaders(null);o["X-BM-DeviceDimensionsLogical"]=s+"x"+this._root.clientHeight;o["X-BM-DeviceDimensions"]=String(Math.round(s*this._deviceScale))+"x"+this._root.clientHeight;c||(o["User-Agent"]=navigator.userAgent+" RestrictedAPI");u&&(o["Content-Type"]=u.contentType);(p||t.config.miniSerpStrictv2)&&(o["X-Search-SafeSearch"]="Strict");var w=++this._previewRequestId,b=n.getCurrentTime(),k=function(t){var f=n.getCurrentTime();h._previewPaneViewModelParent.onResponseReceived(f);t.status==200&&t.responseText?(h._latencyInstrumentation&&h._latencyInstrumentation.logMiniSERPRequestLatency(f-b),h._previousURLs.push(r),h.renderIframe(r,t.responseText,o,c,!!u,e)):(h.miniSerpErrorInstrumentation("renderErrorMessage",f,t),h.renderErrorMessage(i.query))};this.fetchMiniSerpUrl(r,u?u.data:null,o,k,w,u?0:t.config.miniSERPRequestRetries)},i.prototype.fetchMiniSerpUrl=function(i,r,u,f,o,s){var h=this,c=f;s>0&&(c=function(n){if(n.result==0&&n.responseText)f(n);else{var r={Url:i,StatusCode:n.status.toString(),Timeout:t.config.miniSERPRequestTimeout.toString(),RetriesRemaining:s.toString()};h._instrumentationHelper.logClientInstEvent(e,"MiniSERPRefetch",h._sequenceNumberManager.getSequenceNumber(),r);h.fetchMiniSerpUrl(i,null,u,f,o,s-1)}});n.fetchUrl(i,u,r,c,null,function(){return o==h._previewRequestId},!0,r?undefined:t.config.miniSERPRequestTimeout)},i.prototype.renderIframe=function(i,r,u,f,e,o){var s=this;this.clearContent();this._iframe=sj_ce("iframe","miniIframeSerp");this._iframe.setAttribute("scrolling","no");this._contentContainer.classList.add("miniSerpContainer");this._contentContainer.appendChild(this._iframe);var l=this._iframe.contentWindow,c=this._iframe.contentDocument,a=!1;this._footer&&(t.setVisibility(this._footer,!e),t.setVisibility(this._mask,!e));this.setIframeHeight(0);this._onIFrameLoadedCallback=function(){var r=c.body,e=0,t;s._calculateIFrameHeight=function(){var n=r.offsetHeight;n!=e&&n>0&&(e=s.setIframeHeight(n))};s._calculateIFrameHeight();s.overrideAjaxCalls(l,u,f);s.captureNavigationsAndSizeEvents(i,r,l,c);s._scrollArea.scrollTop=0;n.contains([2,3],s._currentVertical)&&(t={childList:!0,subtree:!0},s._mutationObserver=new MutationObserver(function(){s._calculateIFrameHeight&&s._calculateIFrameHeight()}),n.safeExecute(function(){s._currentVertical===2?s._mutationObserver.observe(c.getElementById("images"),t):s._currentVertical===3&&s._mutationObserver.observe(c.getElementById("video"),t)},"onIFrameLoadedCallback"));s._msRewardsViewModel&&s._msRewardsViewModel.isRewardsEnabled()&&l.sj_rra&&l.sj_rra(i);s._onPreviewPaneRendered&&(s._onPreviewPaneRendered(!0,!1,null),s._onPreviewPaneRendered=null)};this._iframe.onload=function(){if(a){s.tryLaunchUrl(i,l.location.href,0);return}a=!0;s.overrideAjaxCalls(l,u,f)};c.open();c.write(r);c.write("<base href='"+i+"' target='_parent' />");o&&o(this._iframe.contentWindow);c.write("<script>window.parent.sj_evt.fire('"+h+"')<\/script>");c.close()},i.prototype.setIframeHeight=function(n){return n<c&&(n=c),this._iframe.style.height=n+"px",n},i.prototype.overrideAjaxCalls=function(n,t,i){var r=this;n.sj_gx=function(){var n=sj_gx(),u=n.open;return n.open=function(f,e,o,s,h){if(r.blockedMiniSERPUrls.some(function(n){return e.startsWith(n)}))throw new Error("MiniSERP blocked URL request: iFrame URL: "+r._iframe.contentDocument.baseURI+" requestUrl: "+e);f=="GET"&&i&&(e=ThresholdUtilities.setUrlParameter(e,"client","windowsMiniSerp"));u(f,e,o,s,h);for(var c in t)n.setRequestHeader(c,t[c])},n}},i.prototype.captureNavigationsAndSizeEvents=function(i,r,u,f){var o=this,l;this._focusHelper=this.createFocusHelper(u,f);this._focusHelper&&(this._originalMiniSerpXYFocusRoot=this._focusHelper.getXYFocusRoot());this._previewPaneViewModelParent.focusPending&&(this._previewPaneViewModelParent.focusPending=!1,this.focus());this._iframe.contentWindow.overlay_onBeforeContentLoad=function(){o.setIframeHeight(ot)};this._iframe.contentWindow.overlay_onBeforeSuccess=function(n){o.setIframeHeight(n.clientHeight+st)};var s=function(){u.sj_lc=function(n){if(n)o.tryLaunchUrl(i,n,0);else{var t=o._previousURLs[o._previousURLs.length-2];o._previousURLs.splice(o._previousURLs.length-2,2);o.tryLaunchUrl(i,t,0)}};u.MiniSerp=!0;o._calculateIFrameHeight()},c=function(n){o._focusHelper.setXYFocusRoot(n);o._focusHelper.moveFocusToEdgeFocusableElement(0)},h=u.sj_evt;h?(l=["onP1","ajaxReady"],l.forEach(function(n){return h.bind(n,s)}),h.bind("l2_overlay_visible",function(n){s();var t=o._iframe.contentDocument.getElementById(n[1]);t&&(o._focusHelper.setIsL2Visible(!0),c(t))}),h.bind("l2_overlay_hidden",function(){s();o._focusHelper.setIsL2Visible(!1);c(o._iframe.contentDocument.body)})):s();u.open=function(n){return o.tryLaunchUrl(i,n,0),null};r.onclick=function(r){var u=r.target;if(u){if(u.id=="miniSERPToWeb"){o._instrumentationHelper.logClientInstEvent(e,"AdultExplicitLoad",o._sequenceNumberManager.getSequenceNumber(),{url:i,query:o._previewedSuggestion.query});t.config.miniSerpStrictv2?o._footer.click():(o.clearContent(),o.startLoadingScreen(),o.update(o._previewedSuggestion,o._previewedQuery,2,0,null));return}while(u&&!u.href)u=u.parentNode}u&&o.tryLaunchUrl(i,u.href,n.getInputType(r))==0&&r.preventDefault()}},i.prototype.navigateInPlace=function(n,t,i,r){var u=this,f=v(r),e,o;this._previewPaneViewModelParent.onBeforeItemLaunch(t,i,f);this._footer&&(this._footer.onclick=function(){return u._host.launchSearch(null,u.enrichBingSearchUrlParameters(n),!1)});this.clearContent();this._previewPaneViewModelParent.focusPending=!0;this._previewPaneViewModelParent.startLoadingScreen();e=this.enrichBingSearchUrlParameters(n,!0);this.setVertical(r);o={destinationVertical:r.toString(),url:n};this._instrumentationHelper.logClientInstEvent("Select","NavigateInPlace",this._sequenceNumberManager.getSequenceNumber(),o);this.downloadAndDisplayMiniSerp(this._previewedSuggestion,e,null,1);this._previewPaneViewModelParent.onAfterItemLaunch(f)},i.prototype.tryLaunchUrl=function(i,r,u){var s,f,h,e,c,o,p;if(!r)return 1;if(s=n.getCurrentTime(),r=r.trim(),f=r.toLowerCase(),h=y(r),h!==null&&a(r)&&!l(f)&&(t.config.navigateRequeriesInsideMiniSERP||vt(r))&&h!==this._currentVertical)return this.navigateInPlace(r,s,u,h),0;if(f.startsWith("javascript:location.reload"))return 0;if(r==i+"#"||f.startsWith("javascript:"))return 1;if(f=="/loading")return 0;if(r.startsWith(window.location.href))return SharedLogHelper.LogError("previewPane.tryLaunchUrl",i,new Error("Anchor navigation on PreviewPane")),0;if(r.startsWith("/")&&(r=n.getWindowProtocol()+"//"+n.getWindowHost()+r),e=y(r),e){if(e==this._currentVertical&&a(r)&&(t.config.navigateRequeriesInsideMiniSERP||ht.some(function(n){return f.includes(n)})))return this.navigateInPlace(r,s,u,e),0;r=this.enrichBingSearchUrlParameters(r)}c=e?v(e):2;this._previewPaneViewModelParent.onBeforeItemLaunch(s,u,c);o=n.tryGetBingPathLC(r);o?et.some(function(n){return o.startsWith(n)})||l(f)?this._host.launchUri(t.config.settingsUri):o.startsWith("/profile/interests")?this._host.launchCat1(null,"ms-cortana://navigate/Notebook",null):o.startsWith("/fd/auth/")?t.isCortanaPersonalized?SharedLogHelper.LogError("previewPane.tryLaunchUrl",i,new Error("Redirecting to sign in page when already signed in")):this._host.launchUri("ms-cortana://CapabilitiesPrompt/?RequestedCapabilities=Personalization"):this._host.launchUri(r):(t.config.openSearchTabMiniSerp&&(p=this._previewedSuggestion.baseSearchUrl,p&&this._host.launchUri(this.buildSearchUrl(p),!1)),this._host.launchUri(r));this._previewPaneViewModelParent.onAfterItemLaunch(c);return 0},i.prototype.enrichBingSearchUrlParameters=function(n,t){return t===void 0&&(t=!1),n=this._navigationHelper.enrichUrlWithMarketInfo(n),n=this._navigationHelper.enrichUrlWithDeviceInfo(n),n=this._navigationHelper.enrichUrlWithCvid(n),n=this._navigationHelper.enrichUrlWithSuggestionType(n,this._previewedSuggestion.type),t||(n=this._navigationHelper.enrichUrlWithMuidInfo(n),n=this._navigationHelper.enrichUrlWithSafeSearchInfo(n)),n},i.prototype.createFocusHelper=function(n,t){var i=this.getSearchAppWinJSXYFocus(n);return!i&&SearchAppWinJS&&SearchAppWinJS.initXYFocus&&(SearchAppWinJS.initXYFocus(n),i=this.getSearchAppWinJSXYFocus(n),n[tt]=i?!0:!1),i?new o(t,n,i,this._scrollArea,this._currentVertical):null},i.prototype.getSearchAppWinJSXYFocus=function(n){var i,t=n[it];return t&&t.UI&&(i=t.UI.XYFocus),i},i.prototype.tryExecuteFocusOnMiniSerp=function(n){var t=!1;return this._focusHelper&&(t=n()),t||this._footer&&(this._footer.focus(),t=!0),t},i.prototype.buildSearchUrl=function(t){return _w.location.protocol+"//"+_w.location.host+t+"&form=WSBBST&cvid="+n.encodeQueryParameter(this._host.getConversationId())},i}();t.MiniSerpViewModel=p;o=function(){function e(n,i,r,u,f,e){var o=this;this._targetDocument=n;this._targetWindow=i;this._searchAppXYFocus=r;this._scrollArea=u;this._verticalType=f;this._useStickyFocusOverride=e;this._isL2Visible=!1;this._useStickyFocus=!1;_w.ClientTestHooks&&ClientTestHooks.isTesthookParamSet("stickyFocus")===!0&&(this._useStickyFocus=!0);this._useStickyFocusOverride!=null&&(this._useStickyFocus=this._useStickyFocusOverride);var s="b_hide",h="acc-inactive",c=".b_slidebar";this._focusDiv=sj_ce("div",w,s);n.body.appendChild(this._focusDiv);sj_be(n,"blur",function(n){o._useStickyFocus?(!n.srcElement.offsetParent||n.srcElement.classList.contains("b_hide")||n.relatedTarget)&&t.setVisibility(o._focusDiv,!1):t.setVisibility(o._focusDiv,!1)},!0);sj_be(n,"focus",function(){return o.updateFocusedElementAndOutline(o._targetDocument.activeElement)},!0);sj_be(n,"scroll",function(n){o._lastElementFocused&&(n.srcElement==o._lastElementFocused||o._lastElementFocused.compareDocumentPosition(n.srcElement)&Node.DOCUMENT_POSITION_CONTAINS)&&o.updateFocusedElementAndOutline(o._lastElementFocused)},!0);sj_be(n,"transitionend",function(n){var t=o._targetDocument.activeElement;(n.propertyName=="height"||n.srcElement==t.closest(c))&&(o._focusOutlineTimeout?(o.clearFocusOutlineTimeout(),o.outlineElementAndScrollIntoView(t)):o._focusDiv.classList.contains(s)||o.outlineElementAndScrollIntoView(t),n.srcElement.style.height=="0px"?n.srcElement.classList.add(h):n.srcElement.classList.remove(h))});this._searchAppXYFocus.keyCodeMap.home.push(36);this._searchAppXYFocus.keyCodeMap.end.push(35)}return e.prototype.getXYFocusRoot=function(){return this._searchAppXYFocus.focusRoot},e.prototype.isL2Visible=function(){return this._isL2Visible},e.prototype.setIsL2Visible=function(n){this._isL2Visible=n},e.prototype.setXYFocusRoot=function(n){this._searchAppXYFocus.focusRoot=n},e.prototype.moveFocus=function(n,t){return this._searchAppXYFocus._xyFocus(n,t)},e.prototype.moveFocusToEdgeFocusableElement=function(n,t){var i,h;if(t===void 0&&(t=!1),this._targetWindow.focus(),t&&n==0)i=this.focusFirstSerpElement();else{var f=void 0,e=void 0,r=void 0,o=this._targetWindow.innerWidth,s=this._targetWindow.innerHeight;n==0?(f=-1,e=0,r=40):n==1&&(f=s,e=s+1,r=38);h={top:f,bottom:e,right:o,left:0,height:1,width:o};i=this._searchAppXYFocus._xyFocus(u[r],r,h)}return i&&(this.scrollTo(n),this.updateFocusedElementAndOutline(this._targetDocument.activeElement)),i},e.prototype.onSearchBoxFocusChanged=function(){this._targetDocument.hasFocus()?this.updateFocusedElementAndOutline(this._targetDocument.activeElement):this._useStickyFocus||t.setVisibility(this._focusDiv,!1)},e.prototype.isVisible=function(n){var t=_w.getComputedStyle(n);return!(t.visibility=="hidden"||t.display=="none"||n.offsetWidth===0&&n.offsetHeight===0)},e.prototype.moveFocusToLastFocusedElement=function(){return this._lastElementFocused&&this.isVisible(this._lastElementFocused)?(this._lastElementFocused.focus(),this.updateFocusedElementAndOutline(this._lastElementFocused),!0):this.moveFocusToEdgeFocusableElement(0,!0)},e.prototype.updateFocusedElementAndOutline=function(i){var r=this,u;i&&i!=this._targetDocument.body&&(this.processFocusedElement(i),u=this._lastElementFocused&&i.elementType&&i.elementType==this._lastElementFocused.elementType&&i.parentElement==this._lastElementFocused.parentElement?nt:0,u?(t.setVisibility(this._focusDiv,!1),this._focusOutlineTimeout=n.safeSetTimeout(function(){r._targetDocument.activeElement==i&&r.outlineElementAndScrollIntoView(i);r.clearFocusOutlineTimeout()},u,"updateFocusedElementAndOutline")):this.outlineElementAndScrollIntoView(i),this._lastElementFocused=i)},e.prototype.outlineElementAndScrollIntoView=function(n){var u,o,s;if(n!=this._targetDocument.body&&(this._useStickyFocus||this._targetDocument.hasFocus())){var i=n.getBoundingClientRect(),y=this._targetDocument.documentElement.scrollWidth-r*2,p=this._targetDocument.documentElement.scrollHeight-r*2,h=i.top+this._targetWindow.pageYOffset,e=i.left+this._targetWindow.pageXOffset,w=y-e,b=p-h,c=e<0?Math.floor(i.width+e-r):i.width;if(c<=0){t.setVisibility(this._focusDiv,!1);return}if(u=i.height,u<=0&&n.children.length>0)for(o=0;o<n.children.length;o++)s=n.children[o].getBoundingClientRect(),s.height>u&&(u=s.height,h=s.top);this._focusDiv.style.top=Math.max(r,h)+"px";this._focusDiv.style.left=Math.max(this.isL2Visible?r:r*4,e)+"px";this._focusDiv.style.width=Math.min(w,c)+"px";this._focusDiv.style.height=Math.min(b,u)+"px";t.setVisibility(this._focusDiv,!0);var l=n.getBoundingClientRect(),a=this._scrollArea.offsetHeight+this._scrollArea.scrollTop-l.bottom-f,v=l.top-this._scrollArea.scrollTop-f;a<0?this._scrollArea.scrollTop+=f-a:v<0&&(this._scrollArea.scrollTop+=v-f)}},e.prototype.scrollTo=function(n){var t=0;n==1&&(t=this._scrollArea.scrollHeight);this._scrollArea.scrollTop=t},e.prototype.processFocusedElement=function(n){var r=this,u,e,o,c,f,s,h;n.isProcessed||(u=n.tagName.toLocaleLowerCase(),e=n.getAttribute("type"),u=="select"&&(sj_be(n,"keydown",function(t){t.keyCode==32?n.classList.add(i):t.keyCode==13&&n.classList.remove(i)},!0),this.reactivateXYFocusOnBlur(n)),u=="input"&&e=="range"&&(sj_be(n,"keydown",function(t){var r=t.target,f=+r.getAttribute("min"),e=+r.getAttribute("step"),u=t.keyCode==37,o=t.keyCode==39,s=+r.value-e<f&&u;t.keyCode==38||t.keyCode==40||s?n.classList.remove(i):(u||o)&&n.classList.add(i)},!0),this.reactivateXYFocusOnBlur(n)),o=function(t,r){var u;if(!r.readOnly){if(u=r.selectionStart!=r.selectionEnd,u){n.classList.add(i);return}var f=r.selectionEnd==0,e=r.selectionEnd==r.value.length,o=t.keyCode==36&&!f,s=t.keyCode==35&&!e,h=t.keyCode==37&&!f,c=t.keyCode==39&&!e;h||c||o||s?n.classList.add(i):n.classList.remove(i)}},u=="textarea"&&(sj_be(n,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(n)),u=="input"&&(e=="number"||e=="text")&&(sj_be(n,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(n)),k.some(function(t){return n.classList.contains(t)})?(n.elementType="slide",c=Array.prototype.slice.call(n.querySelectorAll("a:not([onclick='TestHooks.HideShowTestHooks(this);']):not([disabled])"),0),f=c.filter(function(n){return r.isVisible(n)&&n.offsetHeight>0&&n.offsetWidth>0}),f&&sj_be(n,"keydown",function(t){var i=r.countUniqueHrefs(f),u=t.keyCode;t.srcElement==n&&(i>1&&u==40?(t.preventDefault(),r._searchAppXYFocus.focusRoot=n,f[0].focus()):i==1&&u==13&&f[0].click())})):d.some(function(t){return n.hasAttribute(t)})?(n.elementType="expansion",s=function(){t.setVisibility(r._focusDiv,!1);r.updateFocusedElementAndOutline(r._targetDocument.activeElement)},sj_be(n,"keyup",function(n){n.keyCode==13&&s()},!0),sj_be(n,"click",function(){s()})):n.classList.contains(g)&&(h=function(){var t=r._targetDocument.getElementById("vidPreStopButton"),i,u;t&&t.focus();i=function(){n.focus()};sj_be(t,"click",i);sj_be(t,"keydown",function(n){n=sj_ev(n);n.keyCode===13&&i()});u=r._targetDocument.getElementsByTagName("video")[0];sj_be(u,"ended",i)},sj_be(n,"keydown",function(n){n.keyCode==13&&h()},!0),sj_be(n,"click",function(){h()})),n.classList.add(b),n.isProcessed=!0)},e.prototype.countUniqueHrefs=function(n){var r={},t,i;if(n)for(t=0;t<n.length;t++)i=n[t],i&&(r[i.href]=!0);return Object.keys(r).length},e.prototype.reactivateXYFocusOnBlur=function(n){sj_be(n,"blur",function(){n.classList.remove(i)})},e.prototype.focusFirstSerpElement=function(){var n,i,t,r;switch(this._verticalType){case 1:n=this._targetDocument.getElementById("b_content");break;case 2:n=this._targetDocument.getElementById("images");break;case 3:n=this._targetDocument.getElementById("video");break;default:throw Error("Unknown vertical type "+this._verticalType);}if(n)for(i=n.querySelectorAll('a:not([onclick=\'TestHooks.HideShowTestHooks(this);\']):not([disabled]):not([tabindex="-1"]), button:not([disabled]), input[type=text]:not([disabled]), input[type=submit]:not([disabled]), textarea:not([disabled]), select:not([disabled]):not(#tta_sl):not(#tta_srcsl), [tabindex]:not([disabled]):not([tabindex="-1"]):not(#tta_playiconsrc)'),t=0;t<i.length;t++)if(r=i[t],this.isVisible(r))return r.focus(),!0;return!1},e.prototype.clearFocusOutlineTimeout=function(){sb_ct(this._focusOutlineTimeout);this._focusOutlineTimeout=null},e}();t.WSBMiniSerpFocusHelper=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function i(n){switch(n){case"arrowRight":case"button":case"submit":return 1;case"autoContent":case"keepOpen":case"alwaysWide":case"arrowUpOrDown":return 0}throw new Error("Unknown open type: "+n);}var r=function(){function r(n,t,i,r,u,f,e,o){var s=this;this._page=n;this._host=t;this._instrumentationHelper=i;this._ariaLogger=r;this._sequenceNumberManager=u;this._miniSerpViewModel=f;this._localPreviewPaneViewModel=e;this._msbPreviewPaneViewModel=o;this._previewPaneId=0;this._beforeItemLaunchEventHandlers=[];this._afterItemLaunchEventHandlers=[];var h=function(n,t,i,r,u){s._clickLoggedForCurrentPreviewPane||s._beforeItemLaunchEventHandlers.forEach(function(f){return f(n,s._previewedSuggestion,t,i,r,u)})},c=function(n){s._clickLoggedForCurrentPreviewPane||(s._afterItemLaunchEventHandlers.forEach(function(t){return t(s._previewedSuggestion,s._queryForPreviewedSuggestion,n)}),s._clickLoggedForCurrentPreviewPane=!0)},l=function(n){s._previewPaneResponseReceivedTimeStamp=n;s._miniSerpViewModel.stopLoadingScreen()};this._previewPaneViewModelParent={focusPending:!1,onBeforeItemLaunch:h,onAfterItemLaunch:c,startLoadingScreen:function(){return s._miniSerpViewModel.startLoadingScreen()},onResponseReceived:l};this._miniSerpViewModel.init(this._previewPaneViewModelParent);this._localPreviewPaneViewModel&&this._localPreviewPaneViewModel.init(this._previewPaneViewModelParent);this._msbPreviewPaneViewModel&&this._msbPreviewPaneViewModel.init(this._previewPaneViewModelParent);SearchAppWrapper.CortanaApp.addEventListener("resettingtodefaultsize",function(){return s.dismiss()});t.bindKeyDown(function(){s._previewPaneViewModelParent.focusPending=!1});t.bindSearchBoxGotFocus(function(){return s._previewPaneViewModelParent.focusPending=!1});t.bindQueryChangedOrInitialized(function(n){return s._currentQuery=n},!0);t.bindAccountChanged(function(){s._miniSerpMustRefresh=!0});i.bindFinalizeKeystroke(function(n){s._activePreviewPaneViewModel&&n&&s._activePreviewPaneViewModel.finalizeKeystroke()})}return r.prototype.init=function(n){this._selectionHandler=n},r.prototype.getSelectableItems=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItems():[]},r.prototype.getSelectableItemsByGroup=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItemsByGroup():[]},r.prototype.getSelectedItem=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectedItem():null},r.prototype.select=function(n,t){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.select(n,t)},r.prototype.onAfterKeyDown=function(n,t,i,r){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.onAfterKeyDown(n,t,i,r):!1},r.prototype.getPreviewedSuggestion=function(){return this._previewedSuggestion},r.prototype.getPreviewedSuggestionToForceTopHit=function(){return this._forceTopHitForPreviewedSuggestion&&!this._closeTimer?this._previewedSuggestion:null},r.prototype.showPreview=function(r,u,f,e,o){var s=this;if(f===void 0&&(f="button"),e===void 0&&(e=!1),o===void 0&&(o=0),this._previewPaneOpenedForThisQuery=!0,this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer(),this.clearCloseTimer(),u!=this._previewedSuggestion||e){t.RuntimeConfig.AlwaysWide||this._page.setPreviewPaneVisibility(!0);var a=++this._previewPaneId,c=!0,h=!1,l=n.getCurrentTime(),v=function(t,r,e){var p,v,y;if(t||!r){if(r||(s._ariaLogger&&u&&(p=n.getCurrentDate().getTime()-l,s._ariaLogger.logPreviewPaneRenderLatency(u.type,p)),c=!1),!h){if(v={ppId:""+a,openType:f,suggestion:u?u.instItem.getLayoutKValue():undefined,suggestionType:u?u.type:undefined,startOpening:""+l,openDelay:o?""+o:undefined},e)for(y in e)v[y]=e[y];v.waitingForMore=c?"true":undefined;s._instrumentationHelper.previewPaneOpenedOrClosed(!0,s._sequenceNumberManager.getSequenceNumber(),u?u.instItem:undefined,u?u.previewPaneType:undefined,i(f)==0,v)}h=!0;t&&(h=!1,f="keepOpen")}};this.setPreviewPaneContent(r,u,i(f),this._previewPaneId,v)}f!="button"&&this._selectionHandler.updateSelectionState(u)},r.prototype.showPreviewAndFocus=function(n,t,i){i===void 0&&(i="submit");(this._closeTimer||this._previewedSuggestion!=t)&&this.showPreview(n,t,i);this._activePreviewPaneViewModel.focus(!1);this._forceTopHitForPreviewedSuggestion=!0},r.prototype.focus=function(n){return this._activePreviewPaneViewModel?(this._activePreviewPaneViewModel.focus(n),!0):!1},r.prototype.blur=function(){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.blur()},r.prototype.dismiss=function(){this.close(!0)},r.prototype.close=function(i){var u=this,r;this.clearOpenTimer();r=i?0:t.config.closePreviewPaneDelay;r?this._closeTimer||(this._closeTimer=n.safeSetTimeout(function(){u._closeTimer=null;u.innerClose(i)},r,"ppCloseTimer")):(this.clearCloseTimer(),this.innerClose(i))},r.prototype.innerClose=function(i){var r,u;this._previewedSuggestion&&(r=!0,i&&(this._clickLoggedForCurrentPreviewPane?r=!1:this._previewPaneResponseReceivedTimeStamp&&n.getCurrentTime()>this._previewPaneResponseReceivedTimeStamp+1e3&&(r=!1)),r&&(u=i?{fromQFDismiss:"1"}:undefined,this._instrumentationHelper.previewPaneOpenedOrClosed(!1,this._sequenceNumberManager.getSequenceNumber(),this._previewedSuggestion.instItem,this._previewedSuggestion.previewPaneType,undefined,u)),t.RuntimeConfig.AlwaysWide||i||this._page.setPreviewPaneVisibility(!1),this._miniSerpViewModel.stopLoadingScreen(),this.clear())},r.prototype.clear=function(){this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!1,this._selectionHandler.updateSelectionState(this._previewedSuggestion),this._previewedSuggestion=null);this._queryForPreviewedSuggestion=null;this._previewPaneResponseReceivedTimeStamp=null;this._forceTopHitForPreviewedSuggestion=!1;this._clickLoggedForCurrentPreviewPane=!1;this._activePreviewPaneViewModel&&(this._activePreviewPaneViewModel.clear(),this._activePreviewPaneViewModel=null);this._previewPaneViewModelParent.focusPending=!1},r.prototype.onQueryChanged=function(n){var i,r;if((this._previewPaneOpenedForThisQuery=!1,i=this._queryForPendingPreviewedSuggestion||this._queryForPreviewedSuggestion,this._queryIsContinuationOfPreviousQuery=i&&n.queryToFetch.toLocaleLowerCase().startsWith(i.queryToFetch.toLocaleLowerCase()),i&&n.queryToFetch.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase())&&(r=this._pendingPreviewedSuggestion&&this._pendingPreviewedSuggestion.updateFromQuery?this._pendingPreviewedSuggestion:this._previewedSuggestion&&!this._closeTimer&&this._previewedSuggestion.updateFromQuery?this._previewedSuggestion:null,r)){if(t.RuntimeConfig.AlwaysWide){this.autoOpen(n,r,"alwaysWide",!0);return}this._queryIsContinuationOfPreviousQuery?(this._forceTopHitForPreviewedSuggestion=!1,this.autoOpen(n,r,"keepOpen",!0)):this.close(!1)}},r.prototype.clearSuggOpeningState=function(n){n&&(n.isPreviewPaneOpening=!1,this._selectionHandler.updateSelectionState(n))},r.prototype.clearOpenTimer=function(){this._openTimer&&(sb_ct(this._openTimer),this._openTimer=null,this._pendingPreviewedSuggestion=null,this._queryForPendingPreviewedSuggestion=null,this._miniSerpViewModel.stopLoadingScreen())},r.prototype.clearCloseTimer=function(){this._closeTimer&&(sb_ct(this._closeTimer),this._closeTimer=null)},r.prototype.onTopHitUpdated=function(i,r,u,f){if(u){if(!this._closeTimer&&(this._openTimer&&this._pendingPreviewedSuggestion!=u&&this.clearOpenTimer(),!this._miniSerpMustRefresh||u.previewPaneType!=1)){if(this._pendingPreviewedSuggestion&&t.isEquivalentForPreviewPanePurposes(i,this._pendingPreviewedSuggestion,u)){this._pendingPreviewedSuggestion=u;this._queryForPendingPreviewedSuggestion=i;u.hasPreviewPaneOpened=!0;this._selectionHandler.updateSelectionState(u);return}if(this._previewedSuggestion&&t.isEquivalentForPreviewPanePurposes(i,this._previewedSuggestion,u)){n.contains(f,r)||(this._previewedSuggestion=u,this._queryForPreviewedSuggestion=i,u.hasPreviewPaneOpened=!0,this._selectionHandler.updateSelectionState(u),this.refreshLocalContent(i,u));return}}if(this._miniSerpMustRefresh=!1,this._forceTopHitForPreviewedSuggestion=!1,u.previewPaneType){if(t.RuntimeConfig.AlwaysWide){this.autoOpen(i,u,"alwaysWide",!1);return}if(u==f[0]&&!this._previewPaneOpenedForThisQuery){if(u.autoOpenPreviewPaneWhenOnTopHit){this.autoOpen(i,u,"autoContent",!1);return}if(this._previewedSuggestion&&this._queryIsContinuationOfPreviousQuery){this.autoOpen(i,u,"keepOpen",!1);return}}}}this._openTimer&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer());this._previewedSuggestion&&this.close(!1)},r.prototype.getDelayForMiniSerp=function(n,i){var r=t.getTweakedSetting("preventAutomaticMiniSerp");switch(n){case"keepOpen":case"alwaysWide":return r?Number.MAX_VALUE:t.config.probabilityNextKeyStrokeEnabled&&i.featureStore&&i.featureStore[264]!==undefined?this.calculateDelayForProbabilitySignal(i.featureStore[264]):t.RuntimeConfig.AlwaysWide?i.isAnswer?0:t.config.autoOpenMiniSerpDelay:t.config.keepMiniSerpOpenDelay;case"arrowUpOrDown":return r?Number.MAX_VALUE:t.config.openOnKeybNavMiniSerpDelay}return 0},r.prototype.calculateDelayForProbabilitySignal=function(n){for(var i=t.config.probabilityNextKeyStrokeThresholds.length-1;i>=0;i--)if(n>=t.config.probabilityNextKeyStrokeThresholds[i])return t.config.probabilityNextKeyStrokeDelays[i];return 0},r.prototype.autoOpen=function(i,r,u,f){var e=this,s=t.shouldOpenMiniSerp(r),o=s&&!t.config.enableForceLoad?this.getDelayForMiniSerp(u,r):0;o?(u=="arrowUpOrDown"&&(this.clear(),this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion)),r.isPreviewPaneOpening=!0,this._selectionHandler.updateSelectionState(r),this.clearOpenTimer(),this.clearCloseTimer(),this._pendingPreviewedSuggestion=r,this._queryForPendingPreviewedSuggestion=i,this._openTimer=o==Number.MAX_VALUE?Number.MAX_VALUE:n.safeSetTimeout(function(){e._openTimer=null;r=e._pendingPreviewedSuggestion;e._pendingPreviewedSuggestion=null;e._queryForPendingPreviewedSuggestion=null;e.showPreview(i,r,u,f,o)},o,"ppOpenTimer"),s&&this._miniSerpViewModel.startLoadingScreen()):this.showPreview(i,r,u,f)},r.prototype.onAfterKeyDownWhenNewSelection=function(i,r,u){var e=t.RuntimeConfig.AlwaysWide&&t.config.openOnKeybNavMiniSerp,f;if(t.isGroup(u)){e&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion),this.clear(),this.clearOpenTimer(),this.clearCloseTimer(),this._miniSerpViewModel.stopLoadingScreen());return}f=u;f.previewPaneType&&(e&&(i==40||i==38)?this._previewedSuggestion!=f&&this.autoOpen(r,f,"arrowUpOrDown",!1):i==t.getRtlAdjustedKey(39)&&this._currentQuery.originalCursorPosition==this._currentQuery.originalQuery.length&&this._host.searchBoxHasFocus()?f.handoffType==999?f.click(n.getCurrentTime(),1):this.showPreviewAndFocus(r,f,"arrowRight"):i==t.getRtlAdjustedKey(37)&&this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.hasFocus()&&this._activePreviewPaneViewModel.readyToBlur()&&this._host.setFocusInSearchBox(i,"previewPaneUnfocus"))},r.prototype.refreshLocalContent=function(n,t){t.previewPaneType==2?this._localPreviewPaneViewModel.update(t,n,0,this._previewPaneId,null,!0):t.previewPaneType===3&&this._msbPreviewPaneViewModel.update(t,n,0,this._previewPaneId,null,!0)},r.prototype.setPreviewPaneContent=function(n,i,r,u,f){var e=this;this.clear();this._previewedSuggestion=i;this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!0,this._previewedSuggestion.isPreviewPaneOpening=!1);this._previewPaneResponseReceivedTimeStamp=null;this._queryForPreviewedSuggestion=n;i.previewPaneType==3&&this._msbPreviewPaneViewModel!=null?(this._miniSerpViewModel&&this._miniSerpViewModel.stopLoadingScreen(),this._activePreviewPaneViewModel=this._msbPreviewPaneViewModel,this._msbPreviewPaneViewModel.update(i,n,r,u,f)):i.previewPaneType!=2&&(t.shouldOpenMiniSerp(i)||i.previewPaneType!=1)?t.config.enableForceLoad?(this._activePreviewPaneViewModel=this._miniSerpViewModel,this._miniSerpViewModel.showForceLoad(i.query,function(){e._miniSerpViewModel.update(i,n,r,u,f)})):(this._localPreviewPaneViewModel&&this._localPreviewPaneViewModel.clear(),this._msbPreviewPaneViewModel&&this._msbPreviewPaneViewModel.clear(),this._miniSerpViewModel.startLoadingScreen(),this._activePreviewPaneViewModel=this._miniSerpViewModel,this._miniSerpViewModel.update(i,n,r,u,f)):(this._miniSerpViewModel&&this._miniSerpViewModel.stopLoadingScreen(),this._activePreviewPaneViewModel=this._localPreviewPaneViewModel,this._localPreviewPaneViewModel.update(i,n,r,u,f))},r.prototype.bindBeforeItemLaunch=function(n){this._beforeItemLaunchEventHandlers.push(n)},r.prototype.bindAfterItemLaunch=function(n){this._afterItemLaunchEventHandlers.push(n)},r.prototype.hasFocus=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.hasFocus():!1},r.prototype.isOpened=function(){return!!this._previewedSuggestion},r}();t.PreviewPane=r})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,o=21600,s="/account/permissions/sso?",f="/agents/oauth?",r="Office365",u="Outlook",e="0a0a29f9-0a25-49c7-94bf-c53c3f8fa69d",h="fc1b2093-3a41-4edb-86db-cdaa2832d4e8",c="api://fc1b2093-3a41-4edb-86db-cdaa2832d4e8/CortanaConnect",l="6df4d00742ec458795c9588001737872-fbbe95f5-f25d-4197-9d6f-7c3eb54c745f-6908",a=function(){function a(i){var r=this;this._triggerSSO=!0;t.WebTelemetry&&t.WebTelemetry.init(l);sj_be(_w,"load",function(){r.launchSSO()});a._latestSSOTimestamp||(a._latestSSOTimestamp=n.getCurrentTime());i.bindAppHidden(function(){r.launchPeriodicalSSO()})}return a.prototype.launchPeriodicalSSO=function(){var t=(n.getCurrentTime()-a._latestSSOTimestamp)/1e3;t>=o&&(this._triggerSSO=!0,this.launchSSO(),a._latestSSOTimestamp=n.getCurrentTime())},a.prototype.launchSSO=function(){var f=this,e=function(){var e=i.isCortanaEnabled?n.safeExecute(function(){return i.getCortanaCapabilities()},"getCortanaCapabilities","").split(","):[],o=n.contains(e,"Personalization");i.currentState==0&&f._triggerSSO&&o&&(f._triggerSSO=!1,t.config.wamSupported?t.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return i.authenticationManager.enumerateAccountAuthorityAsync()},function(n){var o,i,e;t.config.enableSSOV2?(o=n.Cortana=="consumers"?u:r,f.silentSignIn(o)):(i=n.Windows,e=n.Cortana,t.WebTelemetry&&t.WebTelemetry.logSignInAccountEvent(i,e),i=="organizations"?f.silentSignIn(r):i=="consumers"&&e=="consumers"&&f.silentSignIn(u))}):t.Promise.safeChain("getQueryHeadersAsync",function(){return i.getQueryHeadersAsync()},function(n){n&&(f.silentSignIn(r),n["X-Search-RPSToken"]&&f.silentSignIn(u))}))};n.isBrowserOnline()?e():sj_be(_w,"online",function(){e()})},a.prototype.silentSignIn=function(o){var v=this,l=s+"campaign_source=WSB&provider="+o,a;t.config.th&&(l=ClientTestHooks.CopyTestParameters(_w.location.search,l));a=function(s){var a,y,l;t.WebTelemetry&&t.WebTelemetry.logShouldSSOEvent(o,s?!0:!1);s&&(a=o==u,y=function(n){var i=n&&!n.IsError;t.WebTelemetry&&t.WebTelemetry.logAuthCompleteEvent(o,o==r&&t.config.wamSupported?"assertion":"code",i)},n.isBrowserOnline()&&i.currentState==0&&(t.config.wamSupported&&(o==r||t.config.enableSSOV2)?(l=i.authenticationManager.createAuthenticateRequest(),t.config.enableSSOV2?(l.accountType="Cortana",l.resource=a?h:e,a&&(l.scope=c)):(l.accountType="Windows",l.resource=e),t.Promise.safeChain("authenticateAsyncOBO",function(){return i.authenticationManager.authenticateAsync(l)},function(i){var r=i&&i.token,u,e;t.WebTelemetry&&(u=r?0..toString():i&&i.status!=0?i.status.toString():"-1",t.WebTelemetry.logClientAuthEvent(o,"WAM",u));r&&(e=f+"provider="+o+"&campaign_source=WSB&assertion="+i.token,n.fetchUrlJson(e,{},null,y))})):v.refreshOAuthToken(o,s.AuthUrl,s.CallbackUrl,s.Options||1,y)))};n.fetchUrlJson(l,{},null,a)},a.prototype.refreshOAuthToken=function(r,u,e,o,s){t.Promise.safeChain("authenticateAsyncSSO",function(){return i.authenticateAsync(o,u,e)},function(i){if(t.WebTelemetry&&t.WebTelemetry.logClientAuthEvent(r,"WAB",i?0..toString():"-1"),i){var u=i.split("?")[1],e=f+u;n.fetchUrlJson(e,{},null,s)}})},a}();t.ProactiveSSO=a})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.fetchUrl=function(i,r,u,f,e,o){var h=this,s;if(n.isBrowserOnline()){var v=u?1:0,c=SearchAppWrapper.CortanaApp,l=c.createStringMap(),a=c.createStringMap();if(r)for(s in r)s.toLowerCase().startsWith("content")?a[s]=r[s]:l[s]=r[s];t.Promise.safeChain("makeHttpRequestAsync",function(){return c.makeHttpRequestAsync(v,i,l,u,a)},function(i){o()&&(i.statusCode===200?t.Promise.safeChain("readResponse",function(){return i.readAsStringAsync()},function(i){if(o()){t.config.th&&i&&(i=i.replace(new RegExp("<!--[^]*?-->","gm"),""));var r=i?n.safeExecute(function(){return JSON.parse(i)},"parseCortanaHttpResponse",null,null):null;r!=null?f(h._dataSource,r,null):f(h._dataSource,null,null)}},function(){return f(h._dataSource,null,null)},e):f(h._dataSource,null,i.statusCode.toString()))},function(){return f(h._dataSource,null,null)},e)}else f(this._dataSource,null,null,null,!0)},r}(n.JsonDataProvider);t.CortanaJsonDataProvider=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i="LSQS",u=function(){function t(n){this._host=n}return t.prototype.getName=function(){return"LockscreenQuickSearchDataProvider"},t.prototype.fetch=function(t,r){if(t.enabledDataSources[i]){var u={};n.isMiniSerpEnabled()&&(u.quickAnswers=[{label:this._host.getLocString("Weather"),icon:{type:2,content:"&#xE9C0"},query:this._host.getLocString("WeatherQuery")},{label:this._host.getLocString("News"),icon:{type:2,content:"&#xE900"},query:this._host.getLocString("News")},{label:this._host.getLocString("ThisDayInHistory"),icon:{type:2,content:"&#xE823"},query:this._host.getLocString("ThisDayInHistory")},{label:this._host.getLocString("NewMovies"),icon:{type:2,content:"&#xE8B2"},query:this._host.getLocString("NewMovies")}]);r(i,u,undefined)}},t}(),r;t.LockscreenQuickSearchDataProvider=u;r=function(){function i(n){this._host=n}return i.prototype.parse=function(i,r,u,f,e,o){var c=this,l=[],a="LSQS",v,s,h,y;if(f)for(v=function(f){var e=n.WSB.createSuggestion(i,f.label,null,f.icon,a,f.query,n.InstrumentedItem.createInstrumentedItem(r,a),999,r,t.localDataSourceMayContainPII(u));e.click=function(){c._host.reformulate(f.query);c._host.setFocusInSearchBox(null,"Quick answer clicked")};l.push(e)},s=0,h=f.quickAnswers;s<h.length;s++)y=h[s],v(y);o(u,l,undefined)},i}();t.LockscreenQuickSearchParser=r})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}))
]?$","i"),wt=/((^[\\]{2}).+)|(^[a-z]:\\.*)/i,f=/^([a-z0-9\-]+):/i,bt=/\s/,g=/\s+/g,kt=/\s+\/(?!\/)/g,dt=/([^\/]|^)\/(?!\/)/,nt,et;n.WebSearchPaths=["/search","/entityexplore"];nt=[33,39,40,41,42,91,93];n.tryParseUrl=u;n.getQueryStringParam=ri;var ui=/file:\/\/\/[^:\/]+:\/[^\/]+\/[^\/]+\/AppData\//i,fi=["ms-appx:","ms-appx-web:","ms-browser-extension:",],ei="microsoft.microsoftedge_8wekyb3d8bbwe";n.isJunkUrl=oi;n.computeUrlMatchLengths=si;n.isUncOrLocalPath=ai;n.startsWithProtocol=tt;n.startsWithWww=vi;n.isHttpProtocol=h;n.isNonHttpProtocol=yi;n.cleanAndFixUrlProtocol=pi;n.cleanAndFixUncOrLocalPath=wi;n.parsedUrlToString=c;var rt=/^ht+ps:\/*(.*)/i,ut=/^ht+p:\/*(.*)/i,ft=/^\/{2,}(.*)/,l=/^www\.(.*)/i,ki=/^(.*[^:\/])\/+$/;n.normalizeUrl=i;n.hasWww=di;n.getProtocol=e;n.prettyPrintUrl=gi;n.isDuplicateUrl=tr;et=["bing","staging-bing-int","working-bing-int","bing-int","bing-exp"];n.tryGetBingPathLC=ot;n.isBingHost=st;n.isBingSearchUrl=ir;n.getDomain=rr;n.isEmptyUrlPrefix=ur;n.queryLooksLikeUrl=fr;n.buildBfbSearchUrl=er}(AutoSuggest||(AutoSuggest={})),function(n){var t,i;(function(n){function t(t,i,r,u,f,e){var o={T:n.QFPERFPING_EVENT_NAME,ST:r,CVID:u,OFFSETS:i,STATE:f,V:n.QFPERFPING_VERSION,RFC:e};return{ImpressionGuid:t,EventType:n.CLIENTINST_EVENT_TYPE,Data:o}}n.CLIENTINST_EVENT_TYPE="ClientInst";n.QFPERFPING_EVENT_NAME="QFPerfPing";n.CLICK_EVENT_TYPE="Click";n.QFPERFPING_VERSION="2";n.QFPERFPING_INVALID_MEASURE=-2;n.INVALID_SEQUENCE_NUMBER=-2;n.KVALUE_SUGGESTIONS_START=1e3;n.KVALUE_SUFFIX_START=1;n.KVALUE_NON_SUGGESTIONS_START=100;n.DEFAULT_APP_NAMESPACE="SmartSearch";n.DEFAULT_SERVICE_NAME="AutoSuggest";n.createPerfPingEvent=t})(t=n.InstrumentationCommon||(n.InstrumentationCommon={}));i=function(){function n(n,t,i){this._kValue=n;this._qsCode=t;this._handOffType=i}return n.createInstrumentedItem=function(t,i){return new n(n.generateKValue(t),i)},n.createInstrumentedItemNoHandoff=function(t,i){return new n(n.generateKValue(t),i,999)},n.getNonSuggestionInstrumentedItem=function(t,i,r){return new n(i[t],t,r)},n.prototype.getKValue=function(){return this._kValue},n.prototype.getAppNS=function(){return n.AppNS},n.prototype.getLayoutKValue=function(){return this._kValue+"."+n.Suffix},n.prototype.getHValue=function(){return"ID="+n.AppNS+","+this.getLayoutKValue()},n.prototype.getHandoffType=function(){return this._handOffType},n.prototype.getQsCode=function(){return this._qsCode},n.resetKValues=function(n){delete this._keystrokesKValues[n]},n.generateKValue=function(n){var r=n,i=this._keystrokesKValues[r];return i>0||(i=t.KVALUE_SUGGESTIONS_START),this._keystrokesKValues[r]=++i,i},n.AppNS=t.DEFAULT_APP_NAMESPACE,n.Suffix=t.KVALUE_SUFFIX_START,n._keystrokesKValues={},n}();n.InstrumentedItem=i}(AutoSuggest||(AutoSuggest={})),function(n){function pt(){return matchMedia("screen and (-ms-high-contrast)").matches}function wt(){return navigator.onLine}function bt(n){return!n.isAnswer&&(n.handoffType==0||n.handoffType==11)}function v(n){return n?n.replace(st,"$1").replace(ht,"$1 "):n}function kt(n){return n?n.replace(/[-{}]/g,"").toLowerCase():null}function dt(n){return!n||Object.keys(n).length===0}function gt(n){return n.canFail}function y(n,t,i,r){var u,e;n&&(n=n.slice(0,t)+f+n.slice(t,n.length));u=i(n);u&&(e=u.indexOf(f),t=e!=-1?e:t,u=u.replace(f,""));r(u,t)}function ni(n){if(!n)return SharedLogHelper.LogError("getInputType",null,new Error("event object is missing")),0;switch(n.pointerType){case"mouse":return 2;case"touch":return 3;case"pen":return 4;default:return 1}}function o(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];i.forEach(function(t){return delete n.enabledDataSources[t]})}function ti(i){return i&&n.config.bingFetchEnabledRegionsList&&n.config.bingFetchEnabledRegionsList.length>0&&!t(n.config.bingFetchEnabledRegionsList,i.toLowerCase())}function ii(i){return i&&n.config.miniSerpEnabledRegionsList&&n.config.miniSerpEnabledRegionsList.length>0&&!t(n.config.miniSerpEnabledRegionsList,i.toLowerCase())}function ri(t){var i=t.queryToFetch&&t.queryToFetch.length<n.config.minQueryLengthForWebProvider;return i&&(o(t,n.WebDataSource),o(t,n.WebRankingSignalDataSource)),i}function p(t){if(t){t=n.normalizeUrl(t,15);for(var i=1;i<t.length-1;++i)if(lt.includes(t[i]))return!0}return!1}function ui(t,i,r){var u,f;return r||(r=0),y(t,i,function(n){return v(n)},function(n,t){u=n;f=t}),u&&(n.config&&n.config.doNotRemoveSpaceAfterIn&&u.toLocaleLowerCase().endsWith(" in ")||(u=u.trim()),f=Math.min(f,u.length)),{originalQuery:t,originalCursorPosition:i,queryToFetch:u,cursorPosition:f,enabledDataSources:{},equals:function(n){return(u?u.toLowerCase():u)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&r==n.topHitRestriction},isMultiWord:p(u),getCacheKey:function(){return u},topHitRestriction:r}}function w(i,r){return r&&!r.enabledDataSources[i]?!1:t(n.config.enabledDataSources,i)}function b(i,r,u,f){var e=f.enabledDataSources[i];return e?e.suggestionIsEnabled&&!e.suggestionIsEnabled(r,u)?!1:t(n.config.enabledDataSources,i):!1}function t(n,t){return n.indexOf(t)!=-1}function fi(n,t){var i=n.indexOf(t);return i!=-1?(n.splice(i,1),!0):!1}function ei(n,t){var i=n.findIndex(t);return i!=-1?n.splice(i,1)[0]:null}function oi(n,t,i){if(t<100)for(var r=n.length-1;n.length>t&&r>=0;--r)i(n[r])&&n.splice(r,1)}function si(n,i){return n.filter(function(n){return!t(i,n)})}function hi(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;++i)if(n[i]!=t[i])return!1;return!0}function ci(n,t){if(n===t)return!0;if(!n||!t||Object.keys(n).length!=Object.keys(t).length)return!1;for(var i in n)if(n[i]!=t[i])return!1;return!0}function k(){return n.getCurrentDate().getTime()}function r(n){var t=Math.abs(Math.floor(n));return(t<10?"0":"")+t}function li(){var t=n.getCurrentDate(),i=-t.getTimezoneOffset(),u=i>=0?"+":"-";return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+"."+r(t.getMilliseconds())+u+r(i/60)+":"+r(i%60)}function ai(n,t){return n?n.replace(ct,function(n,i){return t[i]}):n}function vi(n){var t=n?n.number:null,i=n?n.name:null;return t==-2147023673||i=="Canceled"}function u(n,t,i,r,u,f){try{return n()}catch(e){return f||SharedLogHelper.LogError(t,r,e),u&&u(e),i}}function s(n,t,i,r,f,e){return sb_st(function(){return u(n,i,null,r,f,e)},t)}function yi(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];u(function(){return sj_evt.fire.apply(sj_evt,[n].concat(i))},n)}function pi(n,t){s(t,1,n)}function h(n,t){var i=[],r=!0,u=function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];r?i.push(u):t.apply(null,u)};n(u);r=!1;i.forEach(function(n){return t.apply(null,n)})}function wi(n,t){return c=n,e=c&&it()!="ms-appx-web:",l=e&&!ti(t),d=e&&!ii(t),l}function bi(n){return n?l:e}function ki(){return c}function di(){return d}function tr(n){return t(gi,n)}function ir(n){return t(tt,n)}function rr(n){return t(g,n)}function ur(n){return t(nt,n)}function fr(n){return t(nr,n)}function er(n,t){return n==121&&t||n==93}function or(n,t){return n==8||n==46||n==88&&t.ctrlKey}function it(){return _w.location.protocol}function sr(){return _w.location.host}function hr(){var n=_d.activeElement;return!n||n.id.endsWith("sb_form_q")?_d.body:n}function rt(t){return t&&+t!=n.WindowsApiDefaultDate&&!isNaN(t.getTime())&&t.getFullYear()!=1600}function ut(n){if(!rt(n))return null;var t=n.getTime(),i=k();return Math.abs(i-t)/yt}function cr(n){var t=ut(n);return t!==null&&t>14}function lr(n){return n==="i"?13:n==="v"?14:0}function ar(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")}var f=String.fromCharCode(57346),st=new RegExp("^\\s*("+f+")?\\s*"),ht=new RegExp("\\s*("+f+")?\\s+","g"),ct=/{([0-9]+)}/g,lt=" -_/\\",at=-2147215328,vt=-2147023673,yt=864e5,i,a,ft,et,ot;n.DebugSourceName="AutoSuggest";SharedLogHelper.RegisterErrorFilter(function(n){var t=n?n.number:null,i=n?n.name:null;return t===vt||t===at||i==="Canceled"});n.isHighContrastEnabled=pt;n.isBrowserOnline=wt;n.isWebSuggestion=bt;n.cleanQuery=v;n.cleanGuid=kt;n.isEmpty=dt;n.canIconFail=gt;n.mantainCursorPositionIn=y;n.getInputType=ni;n.disableDataSources=o;n.disableWebDataSourceIfNeeded=ri;n.isMultiWord=p;n.parseQuery=ui;n.isDataSourceEnabled=w;n.isSuggestionTypeEnabled=b;n.contains=t;n.tryRemove=fi;n.removeFirstWhere=ei;n.trimList=oi;n.except=si;n.sequenceEqual=hi;n.objEquals=ci;n.log=function(){};n.getCurrentDate=function(){return new Date};_w.ClientTestHooks&&(n.log=function(n,t){return ClientTestHooks.ClientLog("- "+n,t)},i=ClientTestHooks.getUrlValue("currentdate",null),i&&(i.includes("-")||i.length!=8||(i=i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2)),n.getCurrentDate=function(){return new Date(i)}));n.getCurrentTime=k;n.getDateWithTimezone=li;n.fetchWrapper=function(n,t,i){return i()};n.formatString=ai;n.isCancellation=vi;n.safeExecute=u;n.safeSetTimeout=s;n.safeFireEvent=yi;n.invokeAsynchronously=pi;n.ensureCallbackIsAsync=h;n.WebDataSource="Web";n.WebRankingSignalDataSource="WRS";n.MRUDataSource="MRU";var c=!0,e=!0,l=!0,d=!0;n.refreshBingEnabledCache=wi;n.isBingEnabled=bi;n.isBingEnabledByClient=ki;n.isMiniSerpEnabled=di;var gi=[3,16,17,18,19,20,144,145,],g=[38,203,211,],nt=[40,204,212,],tt=g.concat(nt),nr=tt.concat(37,39,36,35);n.isFunctionalKey=tr;n.isUpOrDownKey=ir;n.isUpKey=rr;n.isDownKey=ur;n.isMovingCursorKey=fr;n.isContextMenuKey=er;n.isDeletionKey=or;n.getWindowProtocol=it;n.getWindowHost=sr;n.getCurrentActiveElement=hr;n.WindowsApiDefaultDate=-116444736e5;n.isValidDate=rt;n.getTimeDiffInDays=ut;n.olderThan2Weeks=cr;n.verticalToHandoffType=lr;a=function(){function n(){this._cancellations={};this._lastId=0}return n.prototype.register=function(n,t,i){var r=++this._lastId;return this._cancellations[r]={action:n,skipOnDismissAndLaunch:t,where:i},r},n.prototype.unregister=function(n){delete this._cancellations[n]},n.prototype.cancelAll=function(n){var t=function(t){var r=i._cancellations[t];r.skipOnDismissAndLaunch&&n||u(function(){return r.action()},r.where)},i=this;for(var r in this._cancellations)t(r);this._cancellations={}},n}();n.CancellationManager=a;ft=function(){function n(){}return n.prototype.getItem=function(n){try{return _w.localStorage?_w.localStorage.getItem(n):undefined}catch(t){return SharedLogHelper.LogError("localStorage",t,new Error("getItem")),undefined}},n.prototype.setItem=function(n,t){try{_w.localStorage&&_w.localStorage.setItem(n,t)}catch(i){SharedLogHelper.LogError("localStorage",i,new Error("setItem"))}},n.prototype.removeItem=function(n){try{return _w.localStorage.removeItem(n)}catch(t){SharedLogHelper.LogError("localStorage",t,new Error("removeItem"))}},n}();n.LightweightStorage=ft;et=function(){function n(){this._sequenceNumber=0}return n.prototype.getSequenceNumber=function(){return this._sequenceNumber},n.prototype.incrementSequenceNumber=function(){this._sequenceNumber++},n}();n.SequenceNumberManager=et;ot=function(){function t(t,i,r,u,f,e,o,s,h,c){var l=this;this._host=t;this._suggestionsParsers=i;this._rootViewModel=r;this._suggestionsRenderingManager=u;this._webProviders=f;this._otherProviders=e;this._instrumentationHelper=o;this._ariaLogger=s;this._sequenceNumberManager=h;this._latencyInstrumentation=c;n.config.cancellationEnabled&&(this._cancellationManager=new a);t.bindShown(function(){l._lastQuery=null;l._currentQuery=null;l._isPaneDismissed=!1});t.bindDismissed(function(){l.clearFetchTimer();l.finishPreviousQuery(!0);l.finalizeKeystroke(!0);l._isPaneDismissed=!0;l._rootViewModel.onDismiss()});t.bindQueryChangedOrInitialized(function(t,i){return l.onQueryChanged(t,n.config.d,i)});t.bindOnSubmit(function(n,t,i){return l.onSubmit(n,t,i)});t.initializeEvents();sj_be(_d.body,"dragstart",function(n){return n.preventDefault(),n.stopPropagation(),!1});sj_b.addEventListener("click",function(n){n.shiftKey&&sj_pd(n)})}return t.prototype.clearFetchTimer=function(){this._fetchTimer&&(sb_ct(this._fetchTimer),this._fetchTimer=null)},t.prototype.finishPreviousQuery=function(n){this.cancelPreviousQuery(n);this._suggestionsRenderingManager.resetTimers()},t.prototype.finalizeKeystroke=function(n){var t=this._sequenceNumberManager.getSequenceNumber();t>0&&this._instrumentationHelper.finalizeKeystrokeLog(t);n||this._sequenceNumberManager.incrementSequenceNumber()},t.prototype.onQueryChanged=function(n,t,i){var r=this,u;this.clearFetchTimer();this._currentQuery=n;this._lastQuery&&(!this._lastQuery.equals(this._currentQuery)||i)&&this.cancelPreviousQuery(!1);t<=0?this.fetchForQueryChange(0,!1,i):(u=Date.now(),this._fetchTimer=s(function(){r._fetchTimer=null;r.fetchForQueryChange(Date.now()-u,!1,i)},t,"fetchTimer"))},t.prototype.onSubmit=function(n,t,i){this._fetchTimer&&(this._currentQuery||(this._currentQuery=this._host.getQuery()),this.fetchForQueryChange(0,!0,!1));this._rootViewModel.submit(n,t,this._sequenceNumberManager.getSequenceNumber(),i,this._isPaneDismissed)},t.prototype.cancelPreviousQuery=function(n){this._cancellationManager&&this._cancellationManager.cancelAll(n)},t.prototype.fetchForQueryChange=function(t,i,r){var u=this,e,f,s;if(this.clearFetchTimer(),this._lastQuery&&this._lastQuery.equals(this._currentQuery)&&!r)this._rootViewModel.onQueryChanged(this._currentQuery,this._sequenceNumberManager.getSequenceNumber());else if(e=this._host.getQuery(),e.equals(this._currentQuery)){if(this.finishPreviousQuery(i),this.finalizeKeystroke(!1),this._lastQuery=this._currentQuery,f=this._sequenceNumberManager.getSequenceNumber(),this._instrumentationHelper.instrumentBeginRequest(f,this._currentQuery,t),s=!n.config.enabledDataSources.some(function(n){return w(n,u._currentQuery)}),s)this._rootViewModel.onQueryChanged(this._currentQuery,f);if(this._suggestionsRenderingManager.initiateSequenceNumber(f,this._currentQuery),!s){var o=function(){return!u._isPaneDismissed&&(n.config.d>0?e.equals(u._currentQuery):f==u._sequenceNumberManager.getSequenceNumber())},c=(new Date).getTime(),l=function(n,t,i,r,s,h){return u.onResponseReceived(e,f,n,t,i,o,r,s,c,h)},a=function(t){n.fetchWrapper(e,o,function(){u._webProviders.forEach(function(n){u.fetchWeb(e,n,f,t,o)});u._otherProviders.forEach(function(n){u.fetch(e,n,f,t,o)})});u._rootViewModel.onQueryChanged(u._currentQuery,f)};h(a,l)}}},t.prototype.fetchWeb=function(t,i,r,f,e){var c=this,s=n.Service.QueryParams,o=this._host.getCustomUrlParameters(t),h;this._host.shouldRequestEltoken()&&(o[s.RequestElToken]="1");o[s.CursorPosition]=t.cursorPosition.toString();o[s.ConversationId]=this._host.getConversationId();o[s.ImpressionGuid]=this._instrumentationHelper.getImpressionGuid(r);h=this._host.getCustomHeaders(t);u(function(){return i.fetch(t,f,r,c._cancellationManager,e,o,h)},"fetch "+i.getName())},t.prototype.fetch=function(n,t,i,r,f){var e=this;u(function(){return t.fetch(n,r,i,e._cancellationManager,f)},"fetch "+t.getName())},t.prototype.onResponseReceived=function(t,i,r,u,f,e,o,s,c,l){var a=this,v=n.getCurrentDate().getTime()-c,y,p;n.config.enableNetworkLatencyMeasurements&&o==0&&this._latencyInstrumentation&&this._latencyInstrumentation.logDataSourceRequestLatency(r,v);this._ariaLogger&&this._ariaLogger.logDataProviderLatency(r,v);e()&&(this._instrumentationHelper.instrumentResponseReceived(i,r,f,o,s),y=function(n,r,u){if(e())a.onSuggestionsParsed(t,i,n,f,r,u,l)},p=function(n){var f=a._suggestionsParsers[r];f?f.parse(t,i,r,u,e,n,a._cancellationManager):(SharedLogHelper.LogError("onResponseReceived",null,new Error("No parser for data source "+r)),n(r,[],null))},h(p,y))},t.prototype.onSuggestionsParsed=function(n,t,i,r,u,f,e){u=u.filter(function(t){return b(i,t.type,t.handoffType,n)});this._instrumentationHelper.instrumentDataSource(t,i,u,f);this._rootViewModel.onSuggestionsParsed(n,t,i,r,u,f);this._suggestionsRenderingManager.queueSuggestions(t,i,u,f,e)},t}();n.Core=ot;n.encodeQueryParameter=ar}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function dt(t){return n.contains(pt,t)}function gt(t){return n.contains(wt,t)}function ni(t){return n.contains(nt,t)}function ti(t){return n.contains(bt,t)}function ii(t){return n.contains(kt,t)}function u(n,i){return{dataSource:n,requirementLevel:function(){return h()?1:3},conditionalRequirements:function(){if(!t.isCloudSearchEnabledCache)return!1;var n=h()?t.getAccountTypeForCloudContent():t.isCortanaPersonalized?t.cortanaAccountType:t.windowsAccountType;return n==2||n==4},suggestionIsEnabled:i?function(n){return n==i}:undefined}}function h(){return t.config.wamSupported&&n.isDataSourceEnabled("SSUE",null)}function ri(){return t.config.wamSupported&&n.isDataSourceEnabled("BAW",null)}function tt(n){var i=!t.config.userProfileButtonEnabled||t.windowsAccountType==n;switch(n){case 2:return i&&t.isSubstrateOutlookAccountConnected;case 1:return i&&t.isSubstrateO365AccountConnected;case 4:return i&&t.isSubstrateO365AccountConnected&&t.isSubstrateOutlookAccountConnected;default:return!1}}function ui(n){var i=o.authenticationManager.getAllSearchWebAccountsAsync;return i?!0:t.getAccountTypeForCloudContent()==n}function r(n,i,r,u){return u===void 0&&(u=!0),{dataSource:n,requirementLevel:function(){return 0},conditionalRequirements:function(n){return t.config.wamSupported&&t.isCloudSearchEnabledCache&&u&&(r||n&&n.queryToFetch&&n.queryToFetch.length>=t.config.minLengthFor3SonL1)&&ui(i)&&tt(i)}}}function y(n){return{dataSource:"BAW",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bawminqlen)&&(r==1||r==4)}}}function p(n){return{dataSource:"MSBS",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bfbminqlens)&&(r==1||r==4)}}}function w(n){return{dataSource:"MSBC",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bfbminqlenc)&&(r==1||r==4)}}}function c(n){if(n===void 0&&(n=!0),!n||!t.isCloudSearchEnabledCache||!h())return!1;var i=t.getAccountTypeForCloudContent();return i==3||i==0?!1:!tt(i)}function it(){return n.contains(t.config.enabledDataSources,"EBH")&&t.config.enableEdgeBrowsingHistory}function l(){return{dataSource:"EBH",requiredCortanaCapabilities:function(){return["BrowsingHistory"]},conditionalRequirements:function(t){return it()&&(!t||!t.queryToFetch||n.normalizeUrl(t.queryToFetch,31).length>=3)}}}function rt(){return t.windowsAccountType==4?!0:t.cortanaAccountType==3?t.windowsAccountType==2:t.cortanaAccountType!=2?!1:t.config.windowsAuthForOMA&&ht()!=1?!1:!0}function ut(){return{dataSource:n.WebDataSource,requirementLevel:function(){return 1},conditionalRequirements:function(){return rt()}}}function fi(){t.ScopeConfig[i.All].getEmptyZIMessages=function(r){return f(r,i.All,t.config.useNewEmptyQueryMessages?"EmptyAllMessage":"EmptyScopeMessage",n.isBingEnabled()?"EmptyAllSubMessage":"EmptyAllSubMessageNoWeb",et(r,!0))};t.config.startMenuInWSB?t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"SM",conditionalRequirements:function(n){return n&&t.shouldFetchStartMenu(n)}},]:t.RuntimeConfig.QfMode==6?(t.ScopeConfig[i.All].icon={type:1,content:"&#xE721"},t.ScopeConfig[i.All].getEmptyZIMessages=function(n){return f(n,i.Web,"EmptyLockscreenMessage","EmptyLockscreenSubMessage")}):t.RuntimeConfig.SearchHomeAvailable==1&&t.RuntimeConfig.QfMode==8?(t.ScopeConfig[i.All].icon=t.getSearchSuggestionIcon(),t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"AFC",groupType:t.GroupType.ActivityFeedSuggestions,suggestionGroupToggler:v(t.GroupType.ActivityFeedSuggestions)},],t.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.GroupType.ActivityFeedSuggestions,]},t.ScopeConfig[i.AppsSettings].enabledDataSourcesForZeroInput=t.ScopeConfig[i.All].enabledDataSourcesForZeroInput,t.ScopeConfig[i.AppsSettings].staticGroupOrderForZeroInput=t.ScopeConfig[i.All].staticGroupOrderForZeroInput):t.RuntimeConfig.SearchHomeAvailable==1&&t.RuntimeConfig.QfMode!=7?(t.ScopeConfig[i.All].icon=t.getSearchSuggestionIcon(),t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"TOPP",groupType:t.GroupType.TopApps,suggestionGroupToggler:v(t.GroupType.TopApps)},{dataSource:"AFC",groupType:t.GroupType.ActivityFeedSuggestions,suggestionGroupToggler:v(t.GroupType.ActivityFeedSuggestions)},{dataSource:"QSCH",groupType:t.GroupType.QuickSearch,suggestionGroupToggler:v(t.GroupType.QuickSearch)},],t.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.GroupType.TopApps,t.GroupType.ActivityFeedSuggestions,t.GroupType.QuickSearch,]},t.ScopeConfig[i.AppsSettings].enabledDataSourcesForZeroInput=t.ScopeConfig[i.All].enabledDataSourcesForZeroInput,t.ScopeConfig[i.AppsSettings].staticGroupOrderForZeroInput=t.ScopeConfig[i.All].staticGroupOrderForZeroInput):t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[]}function ft(){t.ScopeConfig={};t.ScopeConfig[i.All_FileExplorer]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"FEH"},{dataSource:"IFF"},{dataSource:"MDOC",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MPHO",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MVID",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MODC",requirementLevel:function(){return 1},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"ODC",requirementLevel:function(){return 1},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSUE",requirementLevel:function(){return 0},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSEE",requirementLevel:function(){return 0},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},],enabledDataSourcesForZeroInput:[{dataSource:"FEH"},],getEmptyZIMessages:null};t.ScopeConfig[i.All_Lockscreen]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},],enabledDataSourcesForZeroInput:[{dataSource:"LSQS"}],getEmptyZIMessages:null};t.ScopeConfig[i.All_SettingsApp]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"ST"},{dataSource:"MST"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.All]=t.config.lightAllScope?{icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:n.MRUDataSource},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"QS",requirementLevel:function(){return 1}},{dataSource:"WRS",requirementLevel:function(){return 1}},r("SSUE",1,!1),],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null}:{icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:"PBI",requirementLevel:function(){return 2},conditionalRequirements:function(n){return n&&n.queryToFetch&&n.queryToFetch.length>=6&&n.queryToFetch.trim().includes(" ")}},{dataSource:n.MRUDataSource},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"QS",requirementLevel:function(){return 1}},l(),r("SSUE",1,!1),r("SSUC",2,!1),y(!1),{dataSource:"WRS",requirementLevel:function(){return 1}},p(!1),w(!1)],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.Apps]={icon:{content:"&#xEB3B",type:2},prefixesLocString:"ScopeApps",enabledDataSources:[{dataSource:n.WebDataSource,suggestionIsEnabled:function(){return!1},requirementLevel:function(){return 1}},{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MPP"},{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"IBA"},],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"TOPP",conditionalRequirements:function(n){return n.isSearchHomeZI}},{dataSource:"MPP"},n.contains(t.config.enabledDataSources,"LRA")?{dataSource:"LRA"}:{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}}],staticGroupOrderForZeroInput:function(n){return n.isSearchHomeZI?[t.GroupType.TopApps,t.GroupType.Apps]:undefined},getEmptyZIMessages:function(n){return f(n,i.Apps,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage","EmptyScopeSearchLocation_PCAndStore")}};t.ScopeConfig[i.Settings]={icon:{content:"&#xE713",type:2},prefixesLocString:"ScopeSettings",enabledDataSources:[{dataSource:n.WebDataSource,suggestionIsEnabled:function(){return!1},requirementLevel:function(){return 1}},{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},{dataSource:"ST"},{dataSource:"QS",requirementLevel:function(){return 1}}],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},],getEmptyZIMessages:function(n){return f(n,i.Settings,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptySettingsSubMessage")}};t.ScopeConfig[i.Photos]={icon:{content:"&#xEB9F",type:2},prefixesLocString:"ScopePhotos",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="LI"}},u("ODC","LI"),u("MODC","LI"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},],getEmptyZIMessages:function(n){return e(n,i.Photos,!0)}};t.ScopeConfig[i.Videos]={icon:{content:"&#xE714",type:1},prefixesLocString:"ScopeVideos",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="LV"}},u("ODC","LV"),u("MODC","LV"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},],getEmptyZIMessages:function(n){return e(n,i.Videos,!0)}};t.ScopeConfig[i.Music]={icon:{content:"&#xE8D6",type:2},prefixesLocString:"ScopeMusic",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},{dataSource:"MMUS",suggestionIsEnabled:function(n){return n=="MU"}},u("ODC","MU"),u("MODC","MU"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},],getEmptyZIMessages:function(n){return e(n,i.Music,!1)}};t.ScopeConfig[i.Documents]={icon:{content:"&#xE7C3",type:2},prefixesLocString:"ScopeDocuments",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MDOC",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},u("ODC","FL"),u("MODC","FL"),{dataSource:"PP",suggestionIsEnabled:function(n){return n=="LDOC"}},r("SSUE",1,!0),r("SSEE",1,!0),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},r("SSEE",1,!0,!!t.config.zeroInputCloudDocs),],showUpsellOnSuggestionsList:function(){return c(t.getAccountTypeForCloudContent()==1||!!(t.config.accountVerifyMessage&&t.getAccountTypeForCloudContent()==4))},getEmptyZIMessages:function(n){return e(n,i.Documents,!1)}};t.ScopeConfig[i.Folders]={icon:{content:"&#xE838",type:2},prefixesLocString:"ScopeFolders",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"MFOL",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"LDIC"},u("ODC","FD"),u("MODC","FD"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},],getEmptyZIMessages:function(n){return e(n,i.Folders,!1)}};t.ScopeConfig[i.Web]={icon:{content:"&#xE774",type:1},prefixesLocString:"ScopeWeb",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(n,t){return t==1}},{dataSource:n.WebDataSource,suggestionIsEnabled:function(t,i){return n.contains([0,13,14,10,5,1],i)},requirementLevel:function(){return 1}},{dataSource:"PP",suggestionIsEnabled:function(n,t){return t==1}},l(),y(!0),{dataSource:"WRS",requirementLevel:function(){return 1}},p(!0),w(!0)],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(n,t){return t==1}},ut(),l(),],getEmptyZIMessages:function(n){return f(n,i.Web,t.config.useNewEmptyQueryMessages?"EmptyWebMessage":"EmptyScopeMessageWeb","EmptyWebSubMessage")}};t.ScopeConfig[i.PathCompletion]={icon:{content:"&#xE782",type:2,needsAccentColor:!0},scopeNameLocString:t.config.pathCompletionReplacesAll?"PathCompletionScopeName":null,prefixesLocString:null,enabledDataSources:[{dataSource:"PT"},{dataSource:"CG"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.Emails]={icon:{content:"&#xE715",type:2},prefixesLocString:"ScopeEmails",enabledDataSources:[r("SSEE",1,!0),r("SSEC",2,!0),],enabledDataSourcesForZeroInput:[],showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.Emails,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyEmailSubMessage")}};t.ScopeConfig[i.People]={icon:{content:"&#xE716",type:2},prefixesLocString:"ScopePeople",enabledDataSources:[r("SSUE",1,!0),r("SSUC",2,!0),y(!0),p(!0),w(!0),],enabledDataSourcesForZeroInput:[r("SSUE",1,!0),r("SSUC",2,!0),],showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.People,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};t.ScopeConfig[i.PeopleEmail]={icon:{content:"&#xE716",type:2},prefixes:["People","people","email","Email"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.People].enabledDataSources.concat(t.ScopeConfig[i.Emails].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.People].enabledDataSourcesForZeroInput,showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.PeopleEmail,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};t.ScopeConfig[i.AppsSettings]={icon:{content:"&#xEB3B",type:2},prefixes:["Apps/Settings","apps","app","settings","setting"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Apps].enabledDataSources.concat(t.ScopeConfig[i.Settings].enabledDataSources).filter(function(t){return!n.contains(["OSTMA","QS",n.WebDataSource],t.dataSource)}),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Apps].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Settings].enabledDataSourcesForZeroInput).filter(function(t){return!n.contains(["OSTMA","QS",n.WebDataSource],t.dataSource)}),getEmptyZIMessages:function(n){return e(n,i.AppsSettings,!1)}};t.ScopeConfig[i.FilesFolders]={icon:{content:"&#xE7C3",type:2},prefixes:["Files/Folders","documents","document","docs","doc","files","file","music","image","images","photo","photos","picture","pictures","video","videos"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Documents].enabledDataSources.concat(t.ScopeConfig[i.Folders].enabledDataSources,t.ScopeConfig[i.Photos].enabledDataSources,t.ScopeConfig[i.Music].enabledDataSources,t.ScopeConfig[i.Videos].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Documents].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Folders].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Photos].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Music].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Videos].enabledDataSourcesForZeroInput),getEmptyZIMessages:function(n){return e(n,i.FilesFolders,!1)}};t.ScopeConfig[i.AllFiles]={icon:{content:"&#xE7C3",type:2},prefixes:["Files","documents","document","docs","doc","files","file","music","image","images","photo","photos","picture","pictures","video","videos"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Documents].enabledDataSources.concat(t.ScopeConfig[i.Folders].enabledDataSources,t.ScopeConfig[i.Photos].enabledDataSources,t.ScopeConfig[i.Music].enabledDataSources,t.ScopeConfig[i.Videos].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Documents].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Folders].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Photos].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Music].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Videos].enabledDataSourcesForZeroInput),getEmptyZIMessages:function(n){return e(n,i.AllFiles,!1)}};for(var s in t.ScopeConfig)t.ScopeConfig[s].enabledDataSources=t.ScopeConfig[s].enabledDataSources.filter(function(i){return n.contains(t.config.enabledDataSources,i.dataSource)}),t.ScopeConfig[s].enabledDataSourcesForZeroInput=t.ScopeConfig[s].enabledDataSourcesForZeroInput.filter(function(i){return n.contains(t.config.enabledDataSources,i.dataSource)})}function ei(){s=null}function et(t,i){var f=t.getConnectedAccountInfo(0),e=t.getConnectedAccountInfo(1),r=!!(f||e),u=i&&n.isBingEnabled();return r&&u?"EmptyScopeSearchLocation_PCCloudAndWeb":r?"EmptyScopeSearchLocation_PCAndCloud":u?"EmptyScopeSearchLocation_PCAndWeb":"EmptyScopeSearchLocation_PC"}function e(n,i,r){return f(n,i,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage",et(n,r))}function f(n,i,r,u,f){var e=ot(t.ScopeConfig[i],n).toLocaleLowerCase(),o=f?n.getLocString(f):"",s=n.getLocString(r,e,o),h=t.config.useNewEmptyQueryMessages||t.RuntimeConfig.QfMode==6?n.getLocString(u,e,o):"";return[s,h]}function oi(n){var f=function(n){return HitHighlightingParser.removeDiacritics(n.toLocaleLowerCase().trim())},r,u;if(s={},t.RuntimeConfig.ScopesAvailable){r=function(r){var e=parseInt(r),u=t.ScopeConfig[e],o,h;e!=i.All&&a(e,u)&&(!u.prefixes&&u.prefixesLocString&&(o=n.getLocString(u.prefixesLocString),h=n.getEnUsLocString(u.prefixesLocString),u.prefixes=st(o,h)),u.prefixes&&u.prefixes.forEach(function(n){return s[f(n)]=e}))};for(u in t.ScopeConfig)r(u)}}function ot(n,t){if(n.scopeNameLocString)return t.getLocString(n.scopeNameLocString);if(n.prefixes)return n.prefixes[0].trim();if(n.prefixesLocString){var i=st(t.getLocString(n.prefixesLocString));return i[0].trim()}return""}function st(n,t){var i=n;return t&&(i+=","+t),i.search(g)>-1&&(i=i.replace(g,",")),i.split(",")}function a(r,u){var c=t.RuntimeConfig.AlwaysWide?t.config.enabledScopesAlwaysWide:t.config.enabledScopes,f,s,e,o,h;if(!n.contains(c,i[r])||r==i.Web&&!n.isBingEnabled())return!1;if(u.showUpsellOnSuggestionsList&&u.showUpsellOnSuggestionsList())return!0;for(f=t.config.enabledDataSources.filter(function(t){return t!=n.MRUDataSource}),n.isBingEnabled()&&r!=i.Web&&(f=f.filter(function(t){return t!=n.WebDataSource})),s=function(n){lt(n,null)||(f=f.filter(function(t){return t!=n.dataSource}))},e=0,o=u.enabledDataSources;e<o.length;e++)h=o[e],s(h);return u.enabledDataSources.some(function(t){return n.contains(f,t.dataSource)})?!0:!1}function ht(){if(t.windowsAccountType==0||t.cortanaAccountType==0)return 0;if(t.windowsAccountType!=t.cortanaAccountType)return 2;if(t.windowsAccountType!=3)if(t.windowsIdentity&&t.cortanaIdentity){if(t.windowsIdentity!=t.cortanaIdentity)return 2}else return 0;return 1}function si(r,u,f,e,o){var h,l,b,v,y,p,c,w;o||(o={});var k=o.topHitRestriction,d=o.forceGroupOnTop,g=o.overrideAction,nt=o.overrideActionHandlerAsync,s=n.parseQuery(r,u,k);if(s.fullPartialQuery=s.queryToFetch,s.scope=a(i.All,t.ScopeConfig[i.All])?i.All:i.AppsSettings,s.forceGroupOnTop=d,s.overrideAction=g,s.overrideActionHandlerAsync=nt,li(s,e))s.isFormulatedQuery=!0,h=t.ScopeConfig[yt(s)];else{s.fullPartialQuery&&(hi(s),f&&s.scope!=f.scope&&(s.isFormulatedQuery=!0));s.isSearchHomeZI=!s.queryToFetch&&(t.RuntimeConfig.SearchHomeAvailable==1||t.RuntimeConfig.SearchHomeAvailable==2&&s.scope!=i.All);(s.scope==i.All||s.scope==i.Web)&&(l=n.tryParseUrl(s.queryToFetch,!0),l&&l.type==0?(s.isProtocol=!0,s.fixedUrl=n.cleanAndFixUrlProtocol(l)):ct.test(s.queryToFetch)&&(s.isProtocol=!0,s.fixedUrl=n.cleanAndFixUrlProtocol(s.queryToFetch)));switch(t.RuntimeConfig.QfMode){case 5:h=t.ScopeConfig[i.All_FileExplorer];break;case 6:h=t.ScopeConfig[i.All_Lockscreen];break;case 7:h=t.ScopeConfig[i.All_SettingsApp];break;default:h=t.ScopeConfig[s.scope]}for(b=s.queryToFetch?h.enabledDataSources:h.enabledDataSourcesForZeroInput,s.availableDataSources={},v=0,y=b;v<y.length;v++)c=y[v],n.contains(t.config.enabledDataSources,c.dataSource)&&(s.availableDataSources[c.dataSource]=c);s.enabledDataSources={};for(p in s.availableDataSources)c=s.availableDataSources[p],c.suggestionGroupToggler&&c.suggestionGroupToggler.isHidden()||(s.enabledDataSources[p]=c);w=s.queryToFetch?h.staticGroupOrder:h.staticGroupOrderForZeroInput;w&&(s.staticGroupOrder=w(s))}return ci(s,h),s.showProgressBar=t.isL2(s)&&t.config.dataSourcesWithProgressBar.some(function(n){return!!s.enabledDataSources[n]}),s.equals=function(n){return(s.queryToFetch?s.queryToFetch.toLowerCase():s.queryToFetch)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&n.scope==s.scope&&(n.taskFrame?n.taskFrame.raw:"")==(s.taskFrame?s.taskFrame.raw:"")&&n.topHitRestriction==s.topHitRestriction},s.getCacheKey=function(){return s.cursorPosition+s.queryToFetch.toLocaleLowerCase()+s.scope+t.regionCache},s}function hi(r){var h=n.isDataSourceEnabled("PT",null),c=h&&b.test(r.fullPartialQuery),e,u,o;if(c){r.canBePathCompletion=!0;r.scope=i.PathCompletion;return}if(e=HitHighlightingParser.removeDiacritics(r.originalQuery),u=e.match(/^(([^:
]|^\/+/;b=/^[a-z]:\\|^%[^%]+%\\|^\\/i;t.parseQuery=si;t.parseTaskFrame=ai;at="action://FindMyStuff/FindDocument";vt="action://FindMyStuff/FindMessage";t.getEffectiveScope=yt;t.getEffectiveQuery=yi;d="HiddenSuggestionGroups";t.initQueryParser=wi})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function lt(n,t){return n.type==t.type&&n.source==t.source}function vt(n){switch(n){case"PP":return"Apps";case"ST":return"Settings";case"FL":return"Files";case"LM":return"Media";default:return null}}function yt(n){switch(n){case"FL":case"LM":case"IFF":case"MFF":case"PT":case"CG":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"EBH":case"FEH":case"AFC":case"LDIC":return!0;case"OSTMA":case"QS":case"PP":case"LRA":case"ST":case"PBI":case"MPP":case"MST":case"IBA":case"SM":case"THST":case"TOPP":case"QSCH":case"LSQS":return!1}throw new Error("New local data source "+n+" needs to be explicity classified as potentially containing PII or not");}function pt(n){var t=e(n);return n.deviceItem&&n.handoffType==2?t+"\t"+n.deviceItem.id:t+"\t"+n.query}function l(n){switch(n.type){case"BKS":case"ML":case"MB":case"OS":case"RI":case"HS":case"EBH":return!0}switch(n.handoffType){case 1:case 17:case 13:case 16:case 0:case 11:case 14:return!0}return!1}function a(n){switch(n){case"MFF":case"FL":case"LM":case"IFF":case"MDOC":case"MPHO":case"MVID":case"MMUS":case"MFOL":return!0;default:return!1}}function wt(n,i){if(!t.IndexerQueryGenerator)return!1;if(t.RuntimeConfig.QfMode==5)return!0;switch(n){case"IBA":case"MDOC":case"MPHO":case"MVID":case"MMUS":case"MFOL":return!0;case"IFF":return nt(i)||!t.config.minLengthForIBAonL1||i.queryToFetch.length>=t.config.minLengthForIBAonL1;default:return!1}}function bt(n){return SearchAppWrapper.CortanaApp.hostingEnvironment==4?!0:t.RuntimeConfig.MiniSERPMode==0||n.previewPaneType!=1?!1:n.isAnswer?(t.RuntimeConfig.MiniSERPMode&1)!=0:n.type=="MD"?(t.RuntimeConfig.MiniSERPMode&2)!=0:(t.RuntimeConfig.MiniSERPMode&4)!=4?!1:n.query.length>=t.config.minPrefixLengthForMiniSerp}function kt(n){return a(n)||n=="IBA"||n=="EBH"}function dt(n){return n&&(n.tagName.toLowerCase()=="body"||n.tagName.toLowerCase()=="iframe"||n.className&&n.classList.contains("suggestion"))}function gt(n){return n.kind=="Modern Setting"}function v(n){return t.isApp(n.type)?n.deviceItem:null}function ni(n){var i=v(n),t;return i?i.packageFamilyName:(t=n,t.packageFamilyName)?t.packageFamilyName:null}function ti(n){return t.isFileOrFolder(n.type)?n.deviceItem:null}function y(n){switch(n){case"PBI":case"EBH":return!1}return!0}function ii(n){return!!n.suggestions}function ri(n){return y(n.type)?n.deviceItem:null}function ui(n){return n.type=="CG"?n.deviceItem:null}function fi(n){return n.type=="PT"?n.deviceItem:null}function ei(n){return n.type=="PBI"?n.deviceItem:null}function p(n){return n.type=="EBH"?n.deviceItem:null}function oi(n){return n&&n.classList.contains("scopeTile")}function e(n){if(typeof n.staticGroupType=="number")return n.staticGroupType;if(t.RuntimeConfig.QfMode==8&&l(n))return i.SearchSuggestions;if(t.config.newFilesScope2&&(n.type=="FL"||n.type=="FD"||n.type=="MU"||n.type=="LI"||n.type=="LV"))return i.Documents;switch(n.type){case"SM":return i.StartMenu;case"TOPL":return i.TopApps}if(t.isApp(n.type))return i.Apps;if(s(n))return n.groupType;if(t.isSetting(n.type))return i.Settings;switch(n.type){case"CG":return i.Command;case"PT":return i.PathCompletion;case"LI":return i.Photos;case"LV":return i.Videos;case"MU":return i.Music;case"PBI":return i.PowerBi;case"FL":case"LDOC":case"SDFE":return i.Documents;case"FD":return i.Folders;case"OLE":case"OWA":return i.Emails;case"PPL":return i.People;case"EBH":return i.EdgeHistory;case"BKS":return i.Bookmarks;case"ELA":return i.LocalPlaces;case"FEH":return i.LocalSearchHistory;case"SNSC":case"RSSG":return i.QuickSearch;case"LSQS":return i.LockscreenQuickSearch;default:switch(n.handoffType){case 3:return i.Store;case 5:case 4:return i.Cortana;case 10:return n.htmlContent?i.SearchSuggestions:i.Cortana;case 0:case 13:case 14:return i.SearchSuggestions;case 1:return i.Websites;case 18:return i.ActivityFeedSuggestions}throw new Error("Unexpected handoff type: "+n.handoffType);}}function si(n){return n.click&&!n.instItem}function o(n){switch(n){case i.JumpListTasks:case i.JumpListPinned:case i.JumpListRecent:case i.JumpListFrequent:case i.JumpListCustom:return!0;default:return!1}}function w(t){return t.notAResult&&!n.contains(["SW","PWL","SSTS"],t.type)}function hi(n){return t.config.recourseOnlyInGroups&&n.suggestions.every(function(n){return w(n)})}function ci(n){var t=n.type;return o(t)||t==i.Related||t==i.Contact}function li(n){if(o(n))return i.Apps;if(n==i.Related)return i.SearchSuggestions;if(n==i.Contact)return i.People;throw new Error("Not a top hit child group: "+n);}function s(n){return!!n.parent}function ai(n){return n.type=="JL"}function b(n){switch(n){case i.Apps:case i.Store:return t.Scope.Apps;case i.Settings:return t.Scope.Settings;case i.Documents:return t.Scope.Documents;case i.Folders:return t.Scope.Folders;case i.Photos:return t.Scope.Photos;case i.Videos:return t.Scope.Videos;case i.Music:return t.Scope.Music;case i.LocalPlaces:case i.SearchSuggestions:case i.Websites:case i.EdgeHistory:case i.Bookmarks:return t.Scope.Web;case i.Emails:return t.Scope.Emails;case i.People:return t.Scope.People}return t.Scope.All}function vi(n){if(t.RuntimeConfig.QfMode==8&&n==1)return 32;switch(n){case 0:case 6:case 7:case 8:return 32;case 1:return 16;case 2:return t.IconSize_GridLayout_Scaled;case 3:return 24;case 4:return 64;case 5:return 200}throw new Error("Unsupported image size: "+n);}function yi(n,t,i){if(n&&n.type==0&&it(t)){var u=function(t){n.ratio=t.height==t.width?1:t.height>t.width?3:2;i()},r=new Image;r.src=n.content;r.onload=function(){return u({height:r.height,width:r.width})}}else i()}function pi(){var n=t.uiLanguageCache.toLocaleLowerCase();return k[n]||n}function d(n,t,i,r,u,f,e,o,s,h,c,l,a){var v={text:t,getIcon:i,icon:r,type:u,query:f,ciMatchedQuery:null,id:c,click:l,handoffType:o,instItem:e,isAnswer:!1,htmlContent:null,classNames:[],selected:!1,featureStore:undefined,sequenceNumber:s,getMruData:function(){return null},template:0,mayContainPII:h,features:[],previewPaneType:undefined};return v.previewPaneType=er(n,v,a),v}function wi(t,i,r,u,f,e,o,s,h){var l=t.getInstrumentedSyntheticSuggestion(r,u),v,a;return l?l:(v=i.scope,l=d(i,null,null,f,u,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,c.KValues),e,r,!1,u),l.notAResult=!0,l.primaryMetadata=o,s&&(l.additionalInfoText=" - "+l.primaryMetadata),a=function(n){l.query=n.queryToFetch;l.text=HitHighlightingParser.addMarkers(n.queryToFetch);l.narratorText=g(l);l.click=function(){return h(l,n)}},a(i),l.updateFromQuery=function(n){return!n.isProtocol&&n.scope==v&&n.queryToFetch?(a(n),!0):!1},t.instrumentSyntheticSuggestion(r,l),l)}function g(n,t){var i,r,u;return n.htmlContent?null:(i=p(n)?[n.primaryMetadata||n.text]:[n.text],r=n.dateShort,r&&i.push(r),t?i.push(t):(n.primaryMetadata&&(i.push(n.primaryMetadata),u=n.department,u&&i.push(u)),n.template==1&&n.secondaryMetadata&&i.push(n.secondaryMetadata)),HitHighlightingParser.removeMarkers(i.join(", ")))}function nt(n){return n.scope!=t.Scope.All||!!n.taskFrame}function tt(n){return typeof n=="string"?n=="LI"||n=="LV":n==i.Photos||n==i.Videos}function it(n){return tt(n)||n=="PPL"}function bi(n){return!t.config.disableMediaGridLayout&&!t.RuntimeConfig.AlwaysWide&&tt(n)}function ki(n,i){var f,u,e,r;if(!n||!t.RuntimeConfig.ScopesAvailable)return null;if(i.scope==t.Scope.All){if(f=[],n.ISUPN&&n.ISUPG)if(u=n.ISUPN.split("\t"),e=n.ISUPG.split("\t"),u.length==e.length)for(r=0;r<u.length;r++)f.push(e[r]+"\t"+u[r]);else SharedLogHelper.LogError("parseWebSuppressionSignals",null,new Error("parsedNames.length != parsedGroups.length"));return{fullySuppressedGroups:n.FSUP?n.FSUP.split("\t"):null,partiallySuppressedGroups:n.PSUP?n.PSUP.split("\t"):null,suppressedSuggestions:f}}return null}function di(t){return r||(r=_d.createElement("span")),n.safeExecute(function(){return r.innerHTML=t,r.innerText},t,"decodeHtml")}function gi(n,t){return{matchType:n,matchedText:t}}function ut(n){return n.replace(rt,"\\$&")}function nr(n,t){if(t){var u=n.includes(HitHighlightingParser.startMarker),e=u?n:HitHighlightingParser.addMarkers(n,t),f=HitHighlightingParser.split(e).find(function(n){return n.highlighted});if(f){var r=u?HitHighlightingParser.removeMarkers(n):n,o=new RegExp("((?:\\\\[^\\\\]+)?\\\\[^\\\\]+)?\\\\"+ut(f.text)+".*","i"),i=o.exec(r);if(i&&i[0])return{matchType:h.Location,matchedText:r.startsWith(i[0])?r:String.fromCharCode(8230)+i[0]}}}return null}function tr(n,t){if(t){var r=n.includes(HitHighlightingParser.startMarker),o=r?n:HitHighlightingParser.addMarkers(n,t),u=HitHighlightingParser.split(o).find(function(n){return n.highlighted});if(u){var f=r?HitHighlightingParser.removeMarkers(n):n,s=new RegExp("(?:\\S+\\s){0,3}\\b"+ut(u.text)+"\\S*(?:\\s\\S+){0,5}","i"),i=s.exec(f),e=void 0;return i&&i[0]&&(e={matchType:h.Content,matchedText:i[0]}),[f,e]}}return[null,null]}function ir(n,t){return n&&t&&HitHighlightingParser.addMarkers(n,t).includes(HitHighlightingParser.startMarker)}function rr(n){return n==t.Scope.Emails}function ur(n){return n.isAnswer&&(n.handoffType==13||n.handoffType==14||n.handoffType==0&&(!!n.additionalInfoText||!!n.secondaryIcon))}function fr(n){if(s(n))return!1;switch(n.handoffType){case 0:case 13:case 14:case 5:case 10:case 4:return!0;case 3:return n.type=="STS";case 2:return n.type=="PBI"||n.type=="SDFE";case 8:case 12:return n.type=="OWA";default:return!1}}function er(r,u,f){var o=undefined,s;if(!t.RuntimeConfig.PreviewPaneAvailable||r.isSearchHomeZI)return o;if(s=function(){return n.isBingEnabled()&&n.contains([0,13,14],u.handoffType)&&!u.htmlContent?1:o},f)return s();switch(e(u)){case i.Store:return(t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn)&&u.type!="STS"?2:o;case i.Apps:case i.PowerBi:case i.Cortana:case i.Command:case i.Documents:case i.Folders:case i.Music:case i.PathCompletion:case i.Emails:case i.Photos:case i.Settings:case i.Videos:return t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn?2:o;case i.StartMenu:return 2;case i.People:return u.handoffType==0?1:u.handoffType==1?o:u.handoffType==17?3:t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn?2:o;case i.Bookmarks:return u.handoffType==17?3:s();case i.Websites:return n.isBingEnabled()&&u.type!="LURL"?1:o;default:return s()}}function or(){return t.RuntimeConfig.QfMode==2?null:t.regionCache}function sr(n,t,i){var r=i.previewPaneType,u,f;return r?(u=t.previewPaneType,f=r==1&&u==1,t.query.toLocaleLowerCase()==i.query.toLocaleLowerCase()&&(!f&&r==u||f&&t.handoffType==i.handoffType)):!1}function hr(n){return t.config.startMenuInWSB&&n&&!n.queryToFetch&&n.scope==t.Scope.All}function cr(n){return n==null}function lr(r,u){return r==i.Documents&&t.isSubstrateO365AccountConnected||t.isFileOrFolderScope(b(r))&&(n.isDataSourceEnabled("ODC",u)||n.isDataSourceEnabled("MODC",u))}function ar(n,t){switch(n){case 2:return"OneDrive";case 3:return t.getLocString("OneDriveForBusiness");case 4:return"SharePoint";case 1:return t.getLocString("ThisPC");case 5:return t.getLocString("MsbPeopleGroups");case 6:return t.getLocString("MsbPeopleContacts")}return null}function vr(n){if(ot())switch(n){case 37:return 39;case 39:return 37}return n}function yr(){return{content:"&#xE721",type:2}}function pr(n){return n.getLocString("SearchTheWeb")}function wr(n){return n.getLocString("Websites")}function br(n){return n.getLocString("SeeWebResults")}function kr(n,t){var i="b_hide";n&&(t?n.classList.remove(i):n.classList.add(i))}function ot(){return ThresholdUtilities.isRightToLeftLanguage(t.uiLanguageCache)}function dr(){u={}}function st(t){var i=u[t],r;return typeof i=="undefined"&&(r=SearchAppWrapper.CortanaApp.queryFormulationView.deviceSearch,r.getFolderPathFromKnownFolderIdGuid?(i=n.safeExecute(function(){return r.getFolderPathFromKnownFolderIdGuid(t)},"getPathFromFolderID","",t),i=i.toLocaleLowerCase()):i="",u[t]=i),i}function gr(){f={}}function nu(n){var t,i;return n.startsWith("{")?(t=f[n],t||(i=n.match(ht),t=i?st(i[1])+i[2]:n,f[n]=t),t):n}function tu(n){return n.startsWith("file:")&&(n=n.slice(5)),n.replace(/\//g,"\\")}function iu(n){return t.config.enforceOriginalOrderForTypes[n.type]||t.config.enforceOriginalOrderForTypes[n.type+"|"+n.handoffType]}function ru(n){switch(n){case 2:return 0;case 1:return 1;default:throw new Error("Not a logged in account: "+n);}}function uu(n){return n==1?"https://substrate.office.com":"https://substrate.office.com/SubstrateSearch-Internal.ReadWrite"}function fu(n){return n==1?"/cortana":"service::cortana.bing.com::mbi_ssl"}function ct(){return"Windows"}function eu(){return ct()=="Windows"?t.windowsAccountType:t.cortanaAccountType}function ou(){return!1}function su(n){return t.TweakSearch&&t.TweakSearch.isTweakSearchEnabled()?t.config[n]:undefined}function hu(){return t.config.skipSelectedScope&&t.RuntimeConfig.AlwaysWide}function cu(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var i,c,at,k,r,h,rt,ft,et,u,f,ht;(function(n){n[n.Apps=0]="Apps";n[n.Settings=1]="Settings";n[n.Cortana=2]="Cortana";n[n.Command=3]="Command";n[n.Photos=4]="Photos";n[n.Videos=5]="Videos";n[n.Music=6]="Music";n[n.Documents=7]="Documents";n[n.Folders=8]="Folders";n[n.Emails=9]="Emails";n[n.Store=10]="Store";n[n.SearchSuggestions=11]="SearchSuggestions";n[n.PathCompletion=12]="PathCompletion";n[n.PowerBi=13]="PowerBi";n[n.JumpListTasks=14]="JumpListTasks";n[n.JumpListPinned=15]="JumpListPinned";n[n.JumpListRecent=16]="JumpListRecent";n[n.JumpListFrequent=17]="JumpListFrequent";n[n.JumpListCustom=18]="JumpListCustom";n[n.JumpListActivityFeed=19]="JumpListActivityFeed";n[n.People=20]="People";n[n.EdgeHistory=21]="EdgeHistory";n[n.LocalPlaces=22]="LocalPlaces";n[n.Bookmarks=25]="Bookmarks";n[n.Related=26]="Related";n[n.Websites=27]="Websites";n[n.Contact=28]="Contact";n[n.JumpListSynthetic=29]="JumpListSynthetic";n[n.JumpListActions=30]="JumpListActions";n[n.StartMenu=31]="StartMenu";n[n.LocalSearchHistory=32]="LocalSearchHistory";n[n.JumpListSettingsFaq=33]="JumpListSettingsFaq";n[n.JumpListSettingsRelatedSettings=34]="JumpListSettingsRelatedSettings";n[n.ActivityFeedSuggestions=35]="ActivityFeedSuggestions";n[n.TopApps=36]="TopApps";n[n.QuickSearch=37]="QuickSearch";n[n.LockscreenQuickSearch=38]="LockscreenQuickSearch";n[n.GroupHeader=104]="GroupHeader"})(i=t.GroupType||(t.GroupType={}));t.sameGroup=lt,function(n){n.KValues=function(){var n={};return n.GPT=108,n.GT=109,n.GW=110,n.SW=114,n.PWL=115,n.STS=116,n.SBI=117,n.SBV=118,n.SDSC=119,n.SDIO=120,n.IMIO=121,n.COFA=122,n.COOA=124,n.SDFE=126,n.OWA=128,n.OMCS=129,n.OMIO=130,n.OMCN=131,n.OMCD=132,n.OMAC=133,n.OMSC=134,n.OMVA=135,n.SSTS=136,n.AFOT=137,n.SNSC=138,n.RWBD=139,n}();n.HandoffsForNonSuggestions=function(){var n={};return n.GPT=2,n.GT=3,n.GW=0,n.SDSC=2,n.SDIO=2,n.IMIO=2,n.COFA=2,n.COOA=2,n}();n.GroupsForNonSuggestions=function(){var n={};return n.GPT=i.GroupHeader,n.GT=i.GroupHeader,n.GW=i.GroupHeader,n.SDSC=i.Settings,n.SDIO=i.Settings,n.IMIO=i.Settings,n.COFA=i.Settings,n.COOA=i.Settings,n}()}(c=t.SyntheticQSCodesMaps||(t.SyntheticQSCodesMaps={})),function(n){n[n.Open=1]="Open";n[n.RunAs=2]="RunAs";n[n.RunAsUser=3]="RunAsUser";n[n.OpenInBrowser=4]="OpenInBrowser";n[n.OpenFileLocation=5]="OpenFileLocation";n[n.OpenContaining=6]="OpenContaining";n[n.TabletMode_OpenNewWindow=7]="TabletMode_OpenNewWindow";n[n.PinToStartScreen=8]="PinToStartScreen";n[n.StartUnpin=9]="StartUnpin";n[n.TaskbarUnpin=10]="TaskbarUnpin";n[n.StartPin=11]="StartPin";n[n.TaskbarPin=12]="TaskbarPin";n[n.Manage=13]="Manage";n[n.ConnectNetworkDrive=14]="ConnectNetworkDrive";n[n.DisconnectNetworkDrive=15]="DisconnectNetworkDrive";n[n.Uninstall=16]="Uninstall";n[n["Tile.Uninstall"]=17]="Tile.Uninstall";n[n.ItemProperties=18]="ItemProperties";n[n.Settings=19]="Settings";n[n.Review=20]="Review";n[n.Share=21]="Share";n[n.S_Open=1e3]="S_Open";n[n.S_Install=1001]="S_Install";n[n.S_CopyFullPath=1002]="S_CopyFullPath";n[n.S_SendEmail=1003]="S_SendEmail";n[n.S_SendInstantMessage=1004]="S_SendInstantMessage";n[n.S_CopyPersonDetails=1005]="S_CopyPersonDetails";n[n.S_OpenFileLocationInBrowser=1006]="S_OpenFileLocationInBrowser";n[n.S_OpenInOutlookWeb=1007]="S_OpenInOutlookWeb";n[n.S_LaunchOutlookNative=1008]="S_LaunchOutlookNative";n[n.S_OpenInBrowser=1009]="S_OpenInBrowser"}(at=t.JumplistActionItemType||(t.JumplistActionItemType={}));t.GroupHeaderQSCodes=function(){var n={};return n[i.PathCompletion]="GPT",n[i.Store]="GT",n[i.SearchSuggestions]="GW",n[i.ActivityFeedSuggestions]="AFOT",n[i.TopApps]="ADS",n}();t.providerFailureLogName=vt;t.localDataSourceMayContainPII=yt;t.getSuggestionKey=pt;t.MRUDatabaseName="mruWithIndex";t.isSantoriniWeb=l;t.isFileOrFolderLocalDataSource=a;t.supportsShortcuts=wt;t.shouldOpenMiniSerp=bt;t.isIndexerBasedDataSource=kt;t.isBodyOrSuggestion=dt;t.isModernSetting=gt;t.getAppItem=v;t.getAppPfn=ni;t.getFileItem=ti;t.isItemWithFileMetadata=y;t.isGroup=ii;t.getItemWithFileMetadata=ri;t.getCommandLineItem=ui;t.getPathCompletionItem=fi;t.getPowerBiItem=ei;t.getBrowsingHistoryItem=p;t.isScopeTile=oi;t.getGroupType=e;t.canGoToL2=si;t.isJumpListGroup=o;t.isRecourse=w;t.useMoreSearchOptionsHeader=hi;t.isTopHitChildGroup=ci;t.getParentSuggestionGroupType=li;t.isChildSuggestion=s;t.isJumpListSuggestion=ai;t.getScope=b;t.IconSize_GridLayout=92;t.IconSize_GridLayout_Medium=68;t.IconSize_GridLayout_Scaled=130;t.getImageSizeValue=vi;t.populateImageRatio=yi;k={"zh-hans-cn":"zh-cn","zh-hans-sg":"zh-cn","zh-hant-hk":"zh-hk","zh-hant-tw":"zh-tw",ko:"ko-kr",ja:"ja-jp",nb:"nb-no"};t.getCurrentLanguage=pi;t.createSuggestion=d;t.getSyntheticSuggestion=wi;t.getNarratorText=g;t.isL2=nt;t.iconIsThumbnail=it;t.displayedInGridLayout=bi;t.parseWebSuppressionSignals=ki;t.decodeHtml=di,function(n){n[n.Author=1]="Author";n[n.LastModifiedBy=2]="LastModifiedBy";n[n.Content=3]="Content";n[n.Tags=4]="Tags";n[n.Album=5]="Album";n[n.Artist=6]="Artist";n[n.Genre=7]="Genre";n[n.Location=8]="Location"}(h=t.MatchType||(t.MatchType={}));t.createMatch=gi;rt=/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g;t.tryGetLocationMatch=nr;t.tryGetTextContentMatch=tr;t.matchesOnPropertyHH=ir;t.uses3lineTemplate=rr;t.isLightAnswer=ur;t.hasReverseHighlighting=fr;t.getMarketForBingAvailability=or;t.isEquivalentForPreviewPanePurposes=sr;t.shouldFetchStartMenu=hr;t.isNullOrUndefined=cr;ft=function(){function t(n,t){this.callback=n;this.counter=0;this.expired=!1;this.isBlocked=t}return t.prototype.check=function(n){this.expired||this.isBlocked||!n&&this.counter!=0||(this.callback(),this.expired=!0)},t.prototype.increase=function(){++this.counter;this.check(!1)},t.prototype.decrease=function(){if(this.counter==0)throw new Error("already zero");--this.counter;this.check(!1)},t.prototype.unblock=function(t){var i=this;if(!this.isBlocked)throw new Error("already unblocked");if(typeof t=="number"&&t<0)throw new Error("invalid timeout");this.isBlocked=!1;this.check(t===0);typeof t!="number"||this.expired||n.safeSetTimeout(function(){return i.check(!0)},t,"Semaphore.unblock")},t}();t.Semaphore=ft;et=function(){function n(n,t,i){this.verb=n.verb;this.displayName=n.displayName;this.executeSync=n.executeSync?function(){return i(function(){return n.executeSync()})}:function(){return i(function(){return n.executeAsync()})};this.isDefault=n.isDefault;this.icon=t;this.getIcon=n.getIcon}return n}();t.DeviceItemVerbWrapper=et;t.shouldSetThisPcGroupSource=lr;t.getGroupSourceDisplayName=ar;t.IndexingOptionsSettingId="Classic_{87d66a43-7b11-4a28-9811-c86ee395acf7}";t.EdgeAppId="Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge";t.getRtlAdjustedKey=vr;t.getSearchSuggestionIcon=yr;t.getWebSuggestionsGroupHeader=pr;t.getWebsitesGroupHeader=wr;t.getWebSuggestionAnnotation=br;t.setVisibility=kr;t.isRtl=ot;t.FOLDERID_Profile="{5E6C858F-0E22-4760-9AFE-EA3317B67173}";t.FOLDERID_SkyDrive="{A52BBA46-E9E1-435f-B3D9-28DAA648C0F6}";t.FOLDERID_System="{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}";t.FOLDERID_SystemX86="{D65231B0-B2F1-4857-A4CE-A8E7C6EA7D27}";u={};t.clearFolderCaches=dr;t.getKnownFolderPathLC=st;f={};t.clearPathExpansionCache=gr;ht=/^\{([a-z0-9-]{36})\}(.*)/i;t.resolveKnownFolderGUIDsInPath=nu;t.indexerFilePathToRegularPath=tu;t.enforceOriginalOrder=iu;t.accountTypeToAuthType=ru;t.getSubstrateResourceOrScope=uu;t.getBingResourceOrScope=fu;t.getAuthAccountForCloudContent=ct;t.getAccountTypeForCloudContent=eu;t.isSmallerAnswersUX=ou;t.getTweakedSetting=su;t.shouldSkipSelectedScope=hu;t.escapeRegExp=cu})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t,i,r;(function(n){n.checking="checking";n.downloading="downloading";n.error="error";n.noUpdate="noupdate";n.obsolete="obsolete";n.updateReady="updateready"})(t||(t={}));i=[t.checking,t.downloading,t.error,t.noUpdate,t.obsolete,t.updateReady];r=function(){function r(n,t,i){i===void 0&&(i=Date.now);this._autoSuggestHost=n;this._instrumentationHelper=t;this.getNowTimestamp=i;this._appCacheEventIndex=1;this._superFreshEnabled=!1;this._appCache=_w.applicationCache;this.subscribeForEvents()}return r.prototype.instrumentSuperFreshUpdate=function(n){this._appCacheTimeline||(this._appCacheTimeline=this.createAppCacheTimelineObject());this._appCacheTimeline.SuperFreshUpdateData.T=this.getNowTimestamp();this._appCacheTimeline.SuperFreshUpdateData.S=n;this.sendAppCacheEvents()},r.prototype.registerSuperFresh=function(){this._superFreshEnabled=!0},r.prototype.subscribeForEvents=function(){var n=this;i.forEach(function(t,i){return sj_be(n._appCache,t,function(){return n.handleAppCacheEvent(t,i)})})},r.prototype.handleAppCacheEvent=function(n,i){n!=t.checking&&this._appCacheTimeline||(this._appCacheTimeline=this.createAppCacheTimelineObject());this._appCacheTimeline.AppCacheEvents[i]=this.getNowTimestamp();switch(n){case t.obsolete:SharedLogHelper.LogWarning("handleAppCacheEvent",null,"AppCache marked as obsolete and will be deleted");this.sendAppCacheEvents();break;case t.error:case t.noUpdate:this.sendAppCacheEvents();break;case t.updateReady:this._superFreshEnabled||this.sendAppCacheEvents()}},r.prototype.sendAppCacheEvents=function(){var f=_G.ServerIG,t,r,u,i;if(!f){SharedLogHelper.LogError("sendAppCacheEvents","Could not instrument as server IG not known",new Error("Could not instrument app cache event"));return}(t=this._appCacheTimeline,t)&&(r=t.AppCacheEvents,u=[{I:t.EventIndex,E:r,S:t.SuperFreshUpdateData,ABT:this._instrumentationHelper.getConversationStartTimestamp()}],r[2]&&(u[0].OL=navigator.onLine),i=n.InstrumentationCommon.createPerfPingEvent(f,u,"AppCache",this._autoSuggestHost.getConversationId()),Log2.LogEvent(i.EventType,i.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,i.ImpressionGuid,null,null),this._appCacheTimeline=this.createAppCacheTimelineObject())},r.prototype.createAppCacheTimelineObject=function(){var n={EventIndex:this._appCacheEventIndex,AppCacheEvents:{},SuperFreshUpdateData:{T:undefined,S:undefined}};return this._appCacheEventIndex++,n},r}();n.AppCacheInstrumentationHelper=r}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var u=["PP","ST","FL","LM"],i=SearchAppWrapper.CortanaApp,r=i.queryFormulationView,f=function(){function f(n){var i=this;this._host=n;this._startupPerfLogged=!1;t.config.logTimeToFocus&&(n.bindConversationStart(function(){return i._startupPerfLogged=!1}),n.bindQueryChangedOrInitialized(function(n){return i.logClientPerfMetric(n)}));ThresholdUtilities.getCortanaHeaders(function(n){n&&(i._windowsFlights=n["X-BM-WindowsFlights"])})}return f.prototype.logProfilerMarker=function(t,r,u,f,e){e||(e={});n.safeExecute(function(){t==1?i.logMeasure("Bing_QF_"+u,r,"QF",JSON.stringify(e),f):i.logVerboseTrace("Bing_QF_"+u,r,"QF",JSON.stringify(e),f)},"logProfilerMarker")},f.prototype.getEnrichedClientInfo=function(n){var u={},f,e;return u.entryPoint=i.entryPoint,u.previousExperience=r.previousExperience,u.qfMode=""+t.RuntimeConfig.QfMode,u.isSearchHome=n.isSearchHomeZI?1:undefined,f=this._host.getFeatureDWORD("WideAtStartupDelta"),f.validFeature&&typeof f.featureValue=="number"&&(u.WideAtStartupDelta=f.featureValue),n&&n.scope!=t.Scope.All&&(u.scope=t.Scope[n.scope]),e=r.searchHistory,u.deviceHistoryEnabled=e&&e.isDeviceHistoryEnabled?1:0,t.windowsAccountType!=0&&(u.windowsAccount=t.windowsAccountType.toString()),t.cortanaAccountType!=0&&(u.cortanaAccount=t.cortanaAccountType.toString()),t.isSubstrateO365AccountConnected&&(u.o365Connected=1),t.isSubstrateOutlookAccountConnected&&(u.outlookConnected=1),this._host.hasFallbackHappened()&&(u.fallback=1),this._host.isClientLocationAvailable()&&(u.clientLocationAvailable=1),this._host.isInputPanelVisible()&&(u.isInputPaneVisible=1),(t.windowsAccountType==2||t.windowsAccountType==1)&&(t.cortanaAccountType==2||t.cortanaAccountType==1)&&t.getWindowsAndCortanaAccountIdentityDiff()==2&&(u.diffAccForWindowsCortana=1),t.isMobileCache||(i.appsUseLightTheme===!1&&(u.darkMode=1),i.colorPrevalenceEnabled&&(u.colorPrevalence=1),i.isSearchBoxInTaskbar&&(u.searchBoxInTaskbar=1),i.taskbarOrientation&&(u.taskbarOrientation=i.taskbarOrientation)),t.config.snrVersion&&(u.snrVersion=t.config.snrVersion),u.ciVersion=t.ConstraintIndex.currentCIVersion,u.defaultBrowser=this._host.getDefaultBrowser().toString(),this._windowsFlights&&(u.windowsFlights=this._windowsFlights),u},f.prototype.getSuggestionsPageName=function(){return"Page.SmartSearch.AS.Suggestions"},f.prototype.getApplicationName=function(){return"SmartSearch"},f.prototype.getRankerModelId=function(){return t.config.mainRankerId},f.prototype.createNonSuggestionDataSourceObject=function(n,i){return{T:"D.Url",K:i.getKValue(),Val:n,Ho:t.SyntheticQSCodesMaps.HandoffsForNonSuggestions[n],Gr:t.SyntheticQSCodesMaps.GroupsForNonSuggestions[n],NR:1}},f.prototype.createDataSourceObject=function(i){var f=this,e=i.mayContainPII&&!t.config.th,r={T:"D.Url",K:i.instItem.getKValue(),Q:e?undefined:i.query,MQ:i.ciMatchedQuery?i.ciMatchedQuery:undefined,Val:i.type,Ho:i.handoffType,Ans:i.isAnswer?1:undefined,Gr:t.getGroupType(i),HC:i.hc?1:undefined,RAF:i.useRaf?1:undefined,HS:i.fromHistory?1:undefined,F:i.features.length>0?i.features.join(","):undefined,AC:i.autoCompleteType?i.autoCompleteType:undefined,HCMS:i.highConfidenceMetaSuggestionScore,HCS:i.highConfidenceSuggestionScore,LM:i.suggestionLogMeta,Uri:i.actionUri,Src:i.source,Sg:i.segments,NR:i.notAResult?1:undefined},u;return i.deviceItem?r.DeviceSignals=n.safeExecute(function(){return f.buildDeviceItemDataSource(e,i)},"buildDeviceItemDataSource"):t.isJumpListSuggestion(i)&&(r.DeviceSignals=n.safeExecute(function(){return f.buildJumpListItemDataSource(i)},"buildJumpListItemDataSource")),t.config.th&&(u=i,u.path&&(r.path=u.path),u.targetPathLC&&(r.targetPath=u.targetPathLC)),r.RankerSignals=this.buildRankerOutputDataSource(i),r},f.prototype.buildRankerOutputDataSource=function(n){if(!n.rankingScore&&!n.featureStore)return undefined;return{rankingScore:n.rankingScore,featureStore:n.featureStore,mruSuppressionScore:n.mruSuppressionScore,fbcScore:n.fbcScore,previewPaneScore:n.previewPaneScore}},f.prototype.buildJumpListItemDataSource=function(i){var u=i.jumpListItem,r={Rank:u.usagePoints||undefined,LAD:n.isValidDate(u.lastAccessed)?u.lastAccessed.toJSON():undefined};if(t.config.th)r.path=u.path,r.description=i.tooltip;else if(!r.Rank&&!r.LAD)return undefined;return r},f.prototype.buildDeviceItemDataSource=function(i,r){var e=r.deviceItem,u={Rank:e.rankScore},f,s,h,o;if(e.propertyHits&&e.propertyHits.length>0&&(u.PHits=e.propertyHits.join(",")),i||(u.Id=e.id,u.DName!=r.query&&(u.DName=e.displayName)),t.config.th&&(u.kind=e.kind),t.isSetting(r.type))return u.MDN=t.isModernSetting(e)?1:0,u;if(f=t.getAppItem(r),f)return u.LAD=n.isValidDate(f.lastAccessed)?f.lastAccessed.toJSON():undefined,u.AppLnch=f.totalLaunches,u.Args=f.launchArguments?1:0,u.MDN=f.isImmersive?1:0,u.Ext=f.extension,t.config.th&&(u.CDT=n.isValidDate(f.createdDate)?f.createdDate.toJSON():undefined,u.LMD=n.isValidDate(f.lastModifiedDate)?f.lastModifiedDate.toJSON():undefined,u.launchArguments=f.launchArguments,u.filePath=f.filePath),u;if(s=t.getItemWithFileMetadata(r),s){if(u.Ext=s.extension,t.config.th&&(u.itemTypeDisplayName=s.itemTypeDisplayName),h=t.getCommandLineItem(r),h)return t.config.th&&(u.launchArguments=h.launchArguments,u.encodedPath=h.encodedPath),u;t.getPathCompletionItem(r)||(o=r.deviceItem,u.CDT=n.isValidDate(o.createdDate)?o.createdDate.toJSON():undefined,u.LMD=n.isValidDate(o.lastModifiedDate)?o.lastModifiedDate.toJSON():undefined,u.Ext=o.extension?o.extension:"")}return u},f.prototype.logMasterPageImpression=function(t){n.safeExecute(function(){return ThresholdInst.LogPageImpression(t,null,t.enrichedClientInfo)},"logMasterImpressionForClient")},f.prototype.logDataSourceTimeout=function(i,f){var s,e,o,h;if(r.logProviderFailure)for(s=function(u){n.isDataSourceEnabled(u,f)&&!n.contains(i,u)&&n.safeExecute(function(){return r.logProviderFailure(t.providerFailureLogName(u),"NoReturnForTopHit")},"logProviderFailure")},e=0,o=u;e<o.length;e++)h=o[e],s(h)},f.prototype.onItemClick=function(){r.resetConversationIdNextTimeQFIsShown&&r.resetConversationIdNextTimeQFIsShown()},f.prototype.logClientPerfMetric=function(){if(!this._startupPerfLogged&&i.isCenterScreen){this._startupPerfLogged=!0;var f=n.cleanGuid(this._host.getRawImpressionGuid()),r=this.getClientPerfMetric(39),u=this.getClientPerfMetric(38),t=u-r;(t<=0||r==n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE||u==n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE)&&(t=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE);Log2.LogEvent("ClientPerf",{TTF:t.toString()},"SearchBoxFocused",null,null,f,null,null)}},f.prototype.getClientPerfMetric=function(t){var r=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,u=i.proactiveView?i.proactiveView.perfMetrics:null;if(u)try{r=u.lookup(t).getTime();r=r<=0?n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE:r}catch(f){}return r},f}();t.WSBInstrumentationProvider=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t="/QF_KEYSTROKE_VIRTUAL_URL?",i="autosuggest",r=function(){function r(t,i,r){var u=this;this._host=t;this._instrumentationProvider=i;this._clientTelemetry=r;this._conversationStartTimestamp=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE;this._keystrokesPerfPingData={};this._keystrokesInstrumentationData={};this._finalizeKeystrokeHandlers=[];ClientInstConfig.queueDumpInterval=n.config.logQueueDumpInterval;_w.ClTrCo.SharedClickSuppressed=!0;t.bindConversationStart(function(){return u.onConversationStart()})}return r.prototype.bindFinalizeKeystroke=function(n){this._finalizeKeystrokeHandlers.push(n)},r.prototype.getImpressionGuid=function(n){var t=this._keystrokesInstrumentationData[n];if(t&&t.ImpressionGuid)return t.ImpressionGuid;throw"getImpressionGuid(): No IG for sequence "+n;},r.prototype.updateSuggestionsList=function(n,t){this._clientTelemetry&&this._clientTelemetry.updateSuggestionsList(n,t)},r.prototype.instrumentItemClickForPreviewPane=function(n,t,i,r,u,f,e,o,s){var h=this.createBaseCustomGPingPayload(u,f);this.addPreviewPaneDataToGPingPayload(h,e,o,s);this.instrumentItemClickAndGPing(h,n,t,i,r,u)},r.prototype.instrumentItemClickForContextMenu=function(n,t,i,r,u,f,e){var o=this.createBaseCustomGPingPayload(u,f);this.addContextMenuDataToGPingPayload(o,e);this.instrumentItemClickAndGPing(o,n,t,i,r,u)},r.prototype.instrumentItemClick=function(n,t,i,r,u,f){if(t.getHandoffType()==999)this.instrumentLayoutItemSelect(t,i);else{var e=this.createBaseCustomGPingPayload(u,f);this.instrumentItemClickAndGPing(e,n,t,i,r,u)}},r.prototype.instrumentItemClickAndGPing=function(t,i,r,u,f,e){this.sendCustomGPing(t,r.getHValue(),i);var s=this._keystrokesInstrumentationData[u],o=this._keystrokesInstrumentationData[u];o?(s.RenderingStarted||this.updatePageIG(u),_G.IG!=o.ImpressionGuid&&SharedLogHelper.LogError("instrumentItemClick","IG ("+o.ImpressionGuid+") for sequenceNumber "+u+" does not match the page IG ("+_G.IG+")",new Error("IG for sequence number does not match the currently rendered page's IG (_G.IG)")),this._clientTelemetry&&this._clientTelemetry.logItemClickedMeasure(o.ConversationId,o.RawImpressionGuid,r,e)):SharedLogHelper.LogError("instrumentItemClick","sequenceNumber: "+u+" ConversationID: "+this._host.getConversationId(),new Error("No instrumentation data found for sequenceNumber"));this.finalizeKeystrokeLog(u,1);f&&f();this._instrumentationProvider.onItemClick();n.config.forceLogFlush?Log2.ForceFlush():Log2.FlushMainQueueDontForce();_w.clickFlushedTime=sb_gt()},r.prototype.instrumentLayoutItemSelect=function(n,t){var i={AppNS:n.getAppNS(),K:n.getLayoutKValue()};this.logClientInstEvent("Select","ItemClicked",t,i)},r.prototype.createBaseCustomGPingPayload=function(n,t){var i={};switch(n){case 1:i.i="k";i.mk=this.getModifierKeyCodes(t);break;case 3:i.i="t";break;case 4:i.i="p";break;case 5:i.i="n";break;case 6:i.i="b";break;case 0:i.i="x";i.mk=this.getModifierKeyCodes(t);break;default:i.mk=this.getModifierKeyCodes(t)}return i},r.prototype.addContextMenuDataToGPingPayload=function(n,t){n.cm=t},r.prototype.addPreviewPaneDataToGPingPayload=function(n,t,i,r){t&&(n.pp=t,i&&(n.ppit=i),typeof r=="number"&&(n.rho=r))},r.prototype.sendCustomGPing=function(t,i,r){var u=i;n.isEmpty(t)||(u+="&PR="+JSON.stringify(t));n.safeExecute(function(){return _w.si_T(u,null,null,0,r)},"logCustomGPing")},r.prototype.getModifierKeyCodes=function(n){if(n){var t=n.altKey?"A":"";if(t+=n.ctrlKey?"C":"",t+=n.shiftKey?"S":"",t)return t}return undefined},r.prototype.previewPaneOpenedOrClosed=function(n,t,i,r,u,f){var o=n?"Select":"Unselect",s=n?"PreviewPaneOpened":"PreviewPaneClosed",e;this.logClientInstEvent(o,s,t,f);n&&this._clientTelemetry&&(e=this._keystrokesInstrumentationData[t],e&&this._clientTelemetry.logPreviewPaneOpenedMeasure(i,r,u))},r.prototype.logClientInstEvent=function(n,t,i,r){var f=null,u;i&&(u=this._keystrokesInstrumentationData[i],u&&(f=u.ImpressionGuid));Log2.LogEvent(n,r,t,null,null,f,null,null)},r.prototype.safeInstrument=function(n,t,i,r){var u=this._keystrokesInstrumentationData[n];u?t(u):SharedLogHelper.LogError(i,(r?r+" ":"")+" sequenceNumber: "+n,new Error("No instrumentation data found for sequenceNumber"))},r.prototype.safeInstrumentPerf=function(n,t,i,r){var u=this._keystrokesPerfPingData[n];u?t(u):SharedLogHelper.LogError(i,(r?r+" ":"")+" sequenceNumber: "+n,new Error("No instrumentation data found for sequenceNumber"))},r.prototype.instrumentRenderingStarted=function(n){var t=this;this.safeInstrument(n,function(i){i.RenderingStarted=!0;t.updatePageIG(n)},"instrumentRenderingStarted")},r.prototype.instrumentBeginRequest=function(t,i,r){var e;delete this._keystrokesInstrumentationData[t-1];n.InstrumentedItem.resetKValues(t);e=this._keystrokesPerfPingData[t];e&&SharedLogHelper.LogError("instrumentBeginRequest","sequenceNumber: "+t,new Error("Duplicate BeginRequest for sequenceNumber"));var f=this._host.getConversationId(),u=this._host.getRawImpressionGuid(),o=n.cleanGuid(u),s=n.getCurrentTime()-r,h={RawImpressionGuid:u,ImpressionGuid:o,ConversationId:f,Query:i,PendingDataSources:{},DataSources:{},RankerExtraInfo:{},DuplicateDS:{},Layout:[],MasterPageImpressionCreated:!1,RenderingStarted:!1,PendingInstrumentedItems:{},PendingSyntheticSuggestions:{},OriginalTimestamp:s},c={RawImpressionGuid:u,ImpressionGuid:o,ConversationId:f,PrefixLength:i.queryToFetch?i.queryToFetch.length:0,RequestBegin:this.getOffsetedNow(s),ResponseReceived:{},MultipleResponsesReceived:{},DataSourcesState:this._searchServiceStatus?{Indexer:this._searchServiceStatus}:undefined,RenderFinished:{},AllDataSourcesProcessed:!1,PendingIcons:0,TopResultRendered:[],IconsRetrieved:{},ResponseFromCache:{}};this._keystrokesInstrumentationData[t]=h;this._keystrokesPerfPingData[t]=c;this._clientTelemetry&&this._clientTelemetry.logNewKeystrokeMeasure(f,u,i)},r.prototype.setSearchServiceStatus=function(n){this._searchServiceStatus=n},r.prototype.instrumentResponseReceived=function(n,t,i,r,u){var f=this;this.safeInstrumentPerf(n,function(n){if(!u){var e=f.getOffsetedNow();typeof n.ResponseReceived[t]!="number"?n.ResponseReceived[t]=e:(n.MultipleResponsesReceived[t]||(n.MultipleResponsesReceived[t]=[n.ResponseReceived[t]]),n.MultipleResponsesReceived[t].push(e))}i&&(n.DataSourcesState=n.DataSourcesState||{},n.DataSourcesState[t]=i);r&&(n.ResponseFromCache[t]=r)},"instrumentResponseReceived",t)},r.prototype.instrumentTopResultRendered=function(t,i){var r=this;this.safeInstrumentPerf(t,function(u){var f=r.getOffsetedNow(),e;u.TopResultRendered.push({V:f,T:i.join(",")});r.tryInstrumentRenderStopped(t,u);r._clientTelemetry&&(e=f-r._keystrokesPerfPingData[t].RequestBegin,r._clientTelemetry.logTopResultsRenderedMeasure(u.RawImpressionGuid,i,e));n.config.th&&n.safeFireEvent("TopResultRendered")},"instrumentTopResultRendered")},r.prototype.instrumentRenderedLocalSuggestion=function(n,t){var r=this._keystrokesInstrumentationData[n],u,f,i;if(r){for(u={},f={},i=0;i<t.length;i++)t[i].type=="FV"?u[i]="TBD":t[i].type=="HU"&&(f[i]="TBD");r.FvSug=u;r.HuSug=f}},r.prototype.instrumentAggregatorCall=function(t,i){var r=this;this.safeInstrument(t,function(t){var e={fastRankModelId:r._instrumentationProvider.getRankerModelId()},f,u;for(f in t.RankerExtraInfo)e[f]=t.RankerExtraInfo[f];t.RankerExtraInfo={};u={T:"D.Aggregator",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Aggregator",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:[],rankerModelIds:e};n.config.counterFactualLoggingOn&&(u.counterFactualDiff=u.counterFactualDiff||i);t.DataSources.aggregator=u},"instrumentAggregatorCall")},r.prototype.addDuplicatesDataSource=function(t){var i=Object.keys(t.DuplicateDS).map(function(n){return t.DuplicateDS[n]});i.length>0&&(t.DataSources.duplicates={T:"D.Duplicates",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Duplicates",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:i})},r.prototype.instrumentDuplicate=function(t,i,r){this.safeInstrument(t,function(t){var u=t.DuplicateDS[i.instItem.getHValue()],f;u||(u={T:"D.Duplicate",DS:[{T:"D.DSRef",KRef:i.instItem.getKValue()}]},i.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(u.DS[0].AppNS=i.instItem.getAppNS()),t.DuplicateDS[i.instItem.getHValue()]=u);f={T:"D.DSRef",KRef:r.instItem.getKValue()};r.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(f.AppNS=r.instItem.getAppNS());u.DS.push(f)},"instrumentDuplicate")},r.prototype.renderingStopped=function(n){return n.PendingIcons==0&&n.AllDataSourcesProcessed},r.prototype.notifyAllDataSourcesProcessed=function(n){var t=this;this.safeInstrumentPerf(n,function(i){i.AllDataSourcesProcessed=!0;t.tryInstrumentRenderStopped(n,i)},"notifyAllDataSourcesProcessed")},r.prototype.notifyIconPending=function(t,i,r,u){var f=this;this.safeInstrumentPerf(t,function(t){var e=r+(i?"T":"S");t.IconsRetrieved[e]||(t.IconsRetrieved[e]={B:f.getOffsetedNow(),E:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,T:u},t.PendingIcons++)},"notifyIconPending",i?"TR":"SUG")},r.prototype.notifyIconReady=function(n,t,i){var r=this;this.safeInstrumentPerf(n,function(n){var u=i+(t?"T":"S");n.IconsRetrieved[u]?n.IconsRetrieved[u].E=r.getOffsetedNow():SharedLogHelper.LogError("notifyIconReady",null,new Error("Instrumenting unseen icon"));n.PendingIcons--},"notifyIconReady",t?"TR":"SUG")},r.prototype.tryInstrumentRenderStopped=function(t,i){this.renderingStopped(i)&&(this.finalizeKeystrokeLog(t,2),n.config.th&&n.safeFireEvent("RenderStopped"))},r.prototype.isLayoutLogged=function(n){return this._keystrokesInstrumentationData[n].MasterPageImpressionCreated},r.prototype.finalizeKeystrokeLog=function(n,t){var r,i;t===void 0&&(t=0);this._finalizeKeystrokeHandlers.forEach(function(n){return n(t==0)});r=this._keystrokesInstrumentationData[n];r&&this.logKeystrokeData(r,n);t!=1&&(i=this._keystrokesPerfPingData[n],i&&(this.logPerfPingEvent(this.createKeystrokePerfPingEvent(n,i)),this._clientTelemetry&&this._clientTelemetry.logDataSourcePerformancesMeasure(i)))},r.prototype.instrumentRenderFinished=function(n,t,i){var r=this;this.safeInstrumentPerf(n,function(u){var f=r.getOffsetedNow();t.forEach(function(n){return u.RenderFinished[n]=f});r.tryInstrumentRenderStopped(n,u);r._clientTelemetry&&r._clientTelemetry.logGroupsRenderedMeasure(i)},"instrumentRenderFinished",t.join(","))},r.prototype.instrumentSyntheticInstrumentedItem=function(n,t,i){var r=this._keystrokesInstrumentationData[n];r?r.PendingInstrumentedItems[t]=i:SharedLogHelper.LogError("instrumentSyntheticInstrumentedItem",t,new Error("keystrokesInstrumentationData not found"))},r.prototype.instrumentSyntheticSuggestion=function(n,t){var i=this._keystrokesInstrumentationData[n];i?i.PendingSyntheticSuggestions[t.type]=t:SharedLogHelper.LogError("instrumentSyntheticSuggestion",t.type,new Error("Instrumentation synthetic suggestion after flush"))},r.prototype.getInstrumentedSyntheticSuggestion=function(n,t){return this._keystrokesInstrumentationData[n].PendingSyntheticSuggestions[t]},r.prototype.instrumentDataSource=function(n,t,i,r){this.safeInstrument(n,function(n){var u,f,e;if(r&&r.rankerExtraInfo)for(u in r.rankerExtraInfo)n.RankerExtraInfo[u]=r.rankerExtraInfo[u];f=i||[];e=n.PendingDataSources[t];n.PendingDataSources[t]=e?e.concat(f):f},"instrumentDataSource",t)},r.prototype.processPendingDataSources=function(t){var i,f,r,u,e,o;for(i in t.PendingDataSources)if(f=t.PendingDataSources[i],f.length>0){for(r=[],u=0,e=f;u<e.length;u++)o=e[u],r.push(this._instrumentationProvider.createDataSourceObject(o));i=="Web"&&(i="WebAS");r.length>0&&(t.DataSources[i]={T:"D."+i,AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:i,SC:r.length,DS:r})}t.PendingDataSources={}},r.prototype.instrumentSnRProviderFetchUrl=function(n,t){this.safeInstrument(n,function(n){n.SnRProviderFetchUrl=t},"instrumentSnRProviderFetchUrl")},r.prototype.onConversationStart=function(){if(this._conversationStartTimestamp=n.getCurrentTime(),this._searchServiceStatus=null,this._clientTelemetry){var t=this._host.getConversationId();this._clientTelemetry.logConversationStartMeasure(t,this._conversationStartTimestamp)}this._keystrokesPerfPingData=[]},r.prototype.getConversationStartTimestamp=function(){return this._conversationStartTimestamp},r.prototype.logDataSourceTimeout=function(n,t){this._instrumentationProvider.logDataSourceTimeout(n,t)},r.prototype.createKeystrokePerfPingEvent=function(t,i){var u={I:t,PL:i.PrefixLength,K:i.RequestBegin,RRT:i.ResponseReceived,MRT:i.MultipleResponsesReceived,RFT:i.RenderFinished,TRR:i.TopResultRendered,RS:undefined,IRT:i.IconsRetrieved},r,f,e,o,s;if(this.renderingStopped(i)){for(r=0,f=0,e=u.TRR;f<e.length;f++)o=e[f],r=Math.max(r,o.V);for(s in u.RFT)r=Math.max(r,u.RFT[s]);r&&(u.RS=r)}return n.InstrumentationCommon.createPerfPingEvent(i.ImpressionGuid,[u],"Keystroke",i.ConversationId,i.DataSourcesState,i.ResponseFromCache)},r.prototype.updatePageIG=function(n){_G.IG=this.getImpressionGuid(n)},r.prototype.createMasterPageImpression=function(t,r,u,f,e){var c=this,h={dataSources:e||[],layoutNodes:[],pageName:t,rawQuery:f?f.queryToFetch:"",isQuery:!1,impressionUrl:this.createVirtualImpressionURL(r,u),appName:this._instrumentationProvider.getApplicationName(),enrichedClientInfo:{FDPartnerEntry:i,nclid:_G.nclid,isOffline:n.isBrowserOnline()?0:1,webRequested:u?1:0}},o=n.safeExecute(function(){return c._instrumentationProvider.getEnrichedClientInfo(f)},"getEnrichedClientInfo"),s;if(o)for(s in o)h.enrichedClientInfo[s]=o[s];return h},r.prototype.logKeystrokeData=function(i){var u,f,r;(this.processPendingDataSources(i),n.config.th&&this.addDuplicatesDataSource(i),u=Object.keys(i.DataSources).map(function(n){return i.DataSources[n]}).concat(this.createNonSuggestionsDataSource(i.PendingInstrumentedItems,i.PendingSyntheticSuggestions)),i.DataSources={},i.PendingSyntheticSuggestions={},i.PendingInstrumentedItems={},u.length==0&&i.MasterPageImpressionCreated)||(i.RenderingStarted&&(f=DsLManager.CreateLayoutNode(_d.body,n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,!1,!0,i.MasterPageImpressionCreated)),i.MasterPageImpressionCreated?Log2.LogEvent("ClientInst",null,null,u,f,i.ImpressionGuid,null,null):(r=this.createMasterPageImpression(this._instrumentationProvider.getSuggestionsPageName(),t,i.SnRProviderFetchUrl?i.SnRProviderFetchUrl.substring(i.SnRProviderFetchUrl.indexOf("?")+1):"",i.Query,u),f&&(r.layoutNodes=f),i.FvSug&&Object.keys(i.FvSug).length>0&&(r.enrichedClientInfo.FvSug=i.FvSug),i.HuSug&&Object.keys(i.HuSug).length>0&&(r.enrichedClientInfo.HuSug=i.HuSug),r.clientTimestamp=i.OriginalTimestamp,this.logMasterPageImpression(i.ImpressionGuid,r),i.MasterPageImpressionCreated=!0))},r.prototype.logPerfPingEvent=function(t){Log2.LogEvent(t.EventType,t.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,t.ImpressionGuid,null,null);n.config.th&&ClientTestHooks.DebugLogNoConsole("perfPingEvent",[t])},r.prototype.logMasterPageImpression=function(t,i){if(i){if(!t){SharedLogHelper.LogError("logMasterPageImpression",null,new Error("Missing impressionGuid"));return}i.impressionGuid=t;this._instrumentationProvider.logMasterPageImpression(i,this._host.getConversationId());n.config.th&&ClientTestHooks.DebugLogNoConsole("masterPageImpression",i,t)}},r.prototype.instrumentInitializationFinish=function(t){var u=_G.ServerIG,i,r;if(!u){SharedLogHelper.LogError("instrumentInitializationFinish","Could not instrument as server IG not known",new Error("Could not instrument initilization finish"));return}if(i=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,r=_w.performance,r&&r.timing&&(i=r.timing.navigationStart),!(i<=0)){var f=t.getTime()-i,e=n.getCurrentTime()-i,o=[{BLT:f,ILT:e}],s=n.InstrumentationCommon.createPerfPingEvent(u,o,"Load");this.logPerfPingEvent(s)}},r.prototype.getOffsetedNow=function(t){return t===void 0&&(t=n.getCurrentTime()),t-this._conversationStartTimestamp},r.prototype.createNonSuggestionsDataSource=function(t,i){var r=[],u,f;for(u in t)r.push(this._instrumentationProvider.createNonSuggestionDataSourceObject(u,t[u]));for(u in i)r.push(this._instrumentationProvider.createDataSourceObject(i[u]));return r.length?(f={T:"D.ContentGroup",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"NonSuggestions",SC:r.length,DS:r},[f]):[]},r.prototype.createVirtualImpressionURL=function(t,i){var r=n.getWindowProtocol()+"//"+n.getWindowHost()+t;return r+=i?i:n.Service.QueryParams.ConversationId+"="+n.encodeQueryParameter(this._host.getConversationId()),_G.ServerIG&&(r+="&ASInitIG="+n.encodeQueryParameter(_G.ServerIG)),r},r}();n.InstrumentationHelper=r}(AutoSuggest||(AutoSuggest={})),function(n){var t="&nclid=",i="&ts=",r="&nclidts=",u="&tsms=",f="&elv=",e="&cc=",o="&setlang=",s="&cvid=",h="&qs=",c="&ao=",l="&wsso=",a=function(){function a(t,i,r,u){if(r===void 0&&(r=Date.now),u===void 0&&(u=n.getWindowProtocol()+"//"+n.getWindowHost()),this._host=t,this._searchPreCacheHandler=i,this.getNowTimestamp=r,this._baseUrl=u,n.config.overrideHost){var f=n.getWindowHost();f.startsWith("www.")&&(this._baseUrl=n.getWindowProtocol()+"//"+n.config.overrideHost+f.substring(3))}}return a.prototype.getSearchUrl=function(t,i,r,u,e,o,s,h,a){var b=e===13?"images":e===14?"videos":"",v,y,p,w;return u||(u=(b?"/"+b:"")+"/search?q="+n.encodeQueryParameter(i)),v=this._baseUrl+u,v+=n.config.th&&ClientTestHooks.isTesthookParamSet("isWindowsTest")?"&form=MONITR&traffictype=wintest":"&form="+n.encodeQueryParameter(o||this._host.getFormCode()),a&&(v+=c+"1"),v=this.enrichUrlWithSuggestionType(v,h?"P":r),v=this.enrichUrlWithCvid(v),n.config.suppressPqParameter||(v+="&pq="+n.encodeQueryParameter(t)),y=this._host.getMSNRefIg(),y&&(v+="&refig="+y),v=this.enrichUrlWithMarketInfo(v),v=this.enrichUrlWithDeviceInfo(v),s||(v=this.enrichUrlWithMuidInfo(v),p=this._host.getElToken(),p&&this._baseUrl.startsWith("https:")&&(v+=f+n.encodeQueryParameter(p)),v=this.enrichUrlWithSafeSearchInfo(v),this._searchPreCacheHandler&&(v=this._searchPreCacheHandler.attempPreCacheAndEnrichUrl(v))),w=this._host.getSafeSearchSetting(),w&&(v+=l+w),v},a.prototype.getImageSearchUrl=function(n){return n?this._baseUrl+"/images/detail/upload?FORM=SBIWSB":this._baseUrl+"/images/search?view=detailv2&iss=sbiupload"},a.prototype.enrichUrlWithDeviceInfo=function(n){this._host.isEducationEnvironment()&&(n+="&DAF0=1");this._host.isWindowsS()&&(n+="&DAF1=1");var t=this._host.getPartnerSearchCode();return t&&(n+="&PC="+t),n},a.prototype.enrichUrlWithMarketInfo=function(n){var t=this._host.getRegion(),i=this._host.getLanguage();return t&&(n+=e+t),i&&(n+=o+i),n},a.prototype.enrichUrlWithSafeSearchInfo=function(n){return this._host.getSafeSearchSetting()=="Strict"?n+"&adlt=strict":n},a.prototype.enrichUrlWithMuidInfo=function(f){var e,o,s;return _G.nclid&&(f+=t+n.encodeQueryParameter(_G.nclid),e=this.getNowTimestamp().toString(),f+=i+n.encodeQueryParameter(e),o=e.substring(0,e.length-3),f+=r+n.encodeQueryParameter(o),s=e.substring(e.length-3),f+=u+n.encodeQueryParameter(s)),f},a.prototype.enrichUrlWithCvid=function(t){return t+(s+n.encodeQueryParameter(this._host.getConversationId()))},a.prototype.enrichUrlWithSuggestionType=function(t,i){return t+(h+n.encodeQueryParameter(i))},a}();n.NavigationHelper=a}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(t,i){var r=this;this.host=t;this._selectableItemsContainer=i;t.bindKeyDown(function(t,u,f){var e=!1;t==9?e=r.selectFirstItemInNextGroup(u&&u.shiftKey):n.isUpOrDownKey(t)&&(e=r.selectNextItem(n.isUpKey(t)));i.onAfterKeyDown(t,u,f,e)})}return t.prototype.selectFirstItemInNextGroup=function(t){var i=this._selectableItemsContainer.getSelectableItemsByGroup();if(i.length==0)return!1;var f=this._selectableItemsContainer.getSelectedItem(),r=i.findIndex(function(t){return n.contains(t,f)}),e=r<0?-1:i[r].findIndex(function(n){return n==f}),u;return(r<0?u=i[0][0]:t&&e>0?u=i[r][0]:t?r>0&&(u=i[r-1][0]):r+1<i.length&&(u=i[r+1][0]),u)?(this._selectableItemsContainer.select(u,!0),!0):!1},t.prototype.selectNextItem=function(t){var i=this._selectableItemsContainer.getSelectableItems(),e;if(i.length==0)return!1;var u=this._selectableItemsContainer.getSelectedItem(),r=u?i.indexOf(u):-1,f=t?r==0:r==i.length-1;return f&&n.RuntimeConfig.AllowKeyboardNavOffCanvas?(this._selectableItemsContainer.select(null,!0),!0):f&&!n.RuntimeConfig.AllowKeyboardNavCycling?!1:(e=t?r<=0?i.length-1:r-1:(r+1)%i.length,this._selectableItemsContainer.select(i[e],!0),!0)},t}();n.KeyboardEvtHandler=t}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(n,t,i,r,u){this._host=n;this._instrumentationHelper=t;this._ariaLogger=i;this._aggregator=r;this._rootViewModel=u;this._lastUsedId=-1;this._sequenceNumber=-1;this._suggestionsQueue={};this._dataSourcesCompleted={}}return t.prototype.initiateSequenceNumber=function(t,i){var o=this,u,f,r,s,e;if(this._sequenceNumber>=t){SharedLogHelper.LogError("initiateSequenceNumber",null,new Error("Unexpected sequence number"));return}for(this.resetStateForNewQuery(t,i),this._highPriorityDataSources=[],this._normalPriorityDataSources=[],this._lowPriorityDataSources=[],u=0,f=n.config.enabledDataSources;u<f.length;u++)(r=f[u],r!=n.WebDataSource||n.isBingEnabled(!0))&&(s=i.enabledDataSources[r],s&&(n.config.lowPriorityDataSources[r]?this._lowPriorityDataSources.push(r):n.config.highPriorityDataSources[r]?this._highPriorityDataSources.push(r):this._normalPriorityDataSources.push(r)));this._highPriorityDataSources.length==0&&this._normalPriorityDataSources.length==0&&this._lowPriorityDataSources.length==0?this.processSuggestions(!1):(e=this.getLatencyTimeout(),e>0&&(this._bufferingTimer=n.safeSetTimeout(function(){o._bufferingTimer=null;o.processSuggestions(!0)},e,"processSuggestionsBuffering")))},t.prototype.getLatencyTimeout=function(){return this._partialQuery.queryToFetch?n.config.latencyTimeout:n.config.latencyTimeoutForZeroInput},t.prototype.queueSuggestions=function(t,i,r,u,f){var e;if(t>this._sequenceNumber){SharedLogHelper.LogError("queueSuggestions",null,new Error("Unexpected sequence number"));return}if(!(t<this._sequenceNumber)){if(this._dataSourcesCompleted[i]){SharedLogHelper.LogError("queueSuggestions",i,new Error("Data source already completed"));return}if(!n.contains(this._highPriorityDataSources,i)&&!n.contains(this._normalPriorityDataSources,i)&&!n.contains(this._lowPriorityDataSources,i)){SharedLogHelper.LogError("queueSuggestions",i,new Error("Unexpected data source"));return}this._suggestionsQueue[i]&&!this._suggestionsQueue[i].updated?(e=this._suggestionsQueue[i].suggestions).push.apply(e,r):this._suggestionsQueue[i]={suggestions:r,updated:!1};this._dataSourcesCompleted[i]=!f;u&&(this._extraSignalsMap[i]=u);f||this._arrivedDataSources.push(i);this._allDataSourcesArrived=this._arrivedDataSources.length==this._highPriorityDataSources.length+this._normalPriorityDataSources.length+this._lowPriorityDataSources.length;this._processingStopped||this._instrumentationHelper.isLayoutLogged(this._sequenceNumber)?this._allDataSourcesArrived&&this._instrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber):this.processSuggestions(!1)}},t.prototype.resetTimers=function(){this._bufferingTimer&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null)},t.prototype.resetStateForNewQuery=function(t,i){this._arrivedDataSources=[];this._allProcessedDataSources={};this._sequenceNumber=t;this._partialQuery=i;this._suggestionsQueue={};this._dataSourcesCompleted={};this._extraSignalsMap={};this._renderedThisSequenceNumber=!1;this._waitingForMoreResults=!0;this._processingStopped=!1;this._allDataSourcesArrived=n.isEmpty(i.enabledDataSources);this.resetTimers()},t.prototype.getDependencies=function(t){var i=this;return this._host.dataSourceDependencies(t).filter(function(t){return n.isDataSourceEnabled(t,i._partialQuery)})},t.prototype.haveAllDataSourcesArrived=function(n){var t=this;return n.every(function(n){return!!t._suggestionsQueue[n]})},t.prototype.haveAllDataSourcesCompleted=function(n){var t=this;return n.every(function(n){return!!t._dataSourcesCompleted[n]})},t.prototype.processSuggestions=function(t){var i=this,u=[],o=[],r,l=this.getLatencyTimeout()>0&&this._bufferingTimer==null,s=this.haveAllDataSourcesArrived(this._highPriorityDataSources),a=s||l,v=this.haveAllDataSourcesCompleted(this._normalPriorityDataSources),y=this.haveAllDataSourcesCompleted(this._highPriorityDataSources),h=y&&v,c;t&&(this._instrumentationHelper.logDataSourceTimeout(Object.keys(this._suggestionsQueue),this._partialQuery),this._ariaLogger&&this._ariaLogger.logDataProviderFailure(Object.keys(this._suggestionsQueue),this._partialQuery.originalQuery));var f=t&&!this._renderedThisSequenceNumber,p=function(t,e){var s;if(!t.updated&&i.getDependencies(e).every(function(t){return n.contains(i._arrivedDataSources,t)})){if(o.push(e),i._allProcessedDataSources[e]=!0,t.suggestions.length>0&&(s=i.canHaveSuppressions(e)?t.suggestions.filter(function(n){return!i.isSuppressed(e,n,t.suggestions)}):t.suggestions,s.length>0)){r||(r=i._renderedThisSequenceNumber?i._rootViewModel.getSuggestions(!0):[]);var h=i.removeDuplicatesAndAssignIds(s,r,u,e),c=h[0],l=h[1];u=u.concat(c);l&&(f=!0)}t.updated=!0}},e=function(n){var u,t,r;for(u in n)t=n[u],r=i._suggestionsQueue[t],r&&p(r,t)};a&&e(this._highPriorityDataSources);this._bufferingTimer&&h&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null);c=this.getLatencyTimeout()>0?this._bufferingTimer==null:s;c&&(e(this._normalPriorityDataSources),e(this._lowPriorityDataSources));this._waitingForMoreResults&&h&&(this._waitingForMoreResults=!1,(!this._renderedThisSequenceNumber||this._rootViewModel.mayNeedFlush()||(r||this._rootViewModel.getSuggestions(!0)).length==0)&&(f=!0));this._partialQuery.showProgressBar&&this._allDataSourcesArrived&&(f=!0);(u.length>0||f)&&(r||(r=this._renderedThisSequenceNumber?this._rootViewModel.getSuggestions(!0):[]),this.addSuggestions(r,u,o,f));this._allDataSourcesArrived&&this._instrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber)},t.prototype.getAggregatorResult=function(t,i,r){var e=this.waitingForWebProvider(),f=null,u,o;return n.config.counterFactualLoggingOn&&(f=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!0)),u=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!1),o=n.config.counterFactualLoggingOn&&(!this.isSuggestionOrderTheSame(u.topResults,f.topResults)||!this.isSuggestionOrderTheSame(u.suggestionsToAdd,f.suggestionsToAdd)),[u,o]},t.prototype.waitingForWebProvider=function(){var t=this;return n.isBrowserOnline()&&[n.WebDataSource].concat(this.getDependencies(n.WebDataSource)).some(function(i){return n.isDataSourceEnabled(i,t._partialQuery)&&!t._allProcessedDataSources[i]})},t.prototype.isSuggestionOrderTheSame=function(n,t){var r=function(n){return n.query+"\t"+n.type},i;if(n.length!=t.length)return!1;for(i=0;i<n.length;i++)if(r(n[i])!=r(t[i]))return!1;return!0},t.prototype.addSuggestions=function(t,i,r,u){var e=this,o=this._renderedThisSequenceNumber?this._rootViewModel.getCurrentTopResults():[],v=n.safeExecute(function(){return e.getAggregatorResult(o,t,i)},"getAggregatorResults",[null,!1]),f=v[0],p=v[1],s,h,l,c,a,y;for(f||(f={topResults:o,suggestionsToAdd:i,suggestionsToRemove:[],groupOrder:[]}),this._instrumentationHelper.instrumentAggregatorCall(this._sequenceNumber,p),i=f.suggestionsToAdd,s=f.suggestionsToRemove,h=0,l=f.topResults;h<l.length;h++)c=l[h],n.contains(t,c)&&!n.contains(o,c)&&s.push(c);(u||i.length!=0||s.length!=0||!n.sequenceEqual(o,f.topResults))&&(a=!this._renderedThisSequenceNumber,a&&(this._renderedThisSequenceNumber=!0,this._instrumentationHelper.instrumentRenderingStarted(this._sequenceNumber)),y=n.safeExecute(function(){return e._rootViewModel.update(a,f.topResults,e._waitingForMoreResults,e._sequenceNumber,i,s,r,f.groupOrder,e._allDataSourcesArrived,e._extraSignalsMap)},"rootViewModel.update",0,null,function(t){n.WSB&&n.WSB.fallbackToPrepopulatedBundle&&n.WSB.fallbackToPrepopulatedBundle(t)}),y==0&&(this._processingStopped=!0,this.resetTimers()))},t.prototype.removeDuplicatesAndAssignIds=function(n,t,i,r){var f=this,h=function(n){n.id||(n.id="id_"+ ++f._lastUsedId)},s=!1,o;if(this._aggregator.canHaveDuplicates(r,this._partialQuery)){var e=[],c=function(o){var a=n[o],l=t.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),c;if(l>=0)return c=t[l],c.needsRefreshAfterDeduping&&(s=!0),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,c,a),"continue";if(l=i.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),l>=0)return c=i[l],c.needsRefreshAfterDeduping&&(c.needsRefreshAfterDeduping=!1),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,c,a),"continue";if(u._aggregator.canHaveDuplicatesWithinDataSource(r,u._partialQuery)&&(l=e.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),l>=0))return c=e[l],c.needsRefreshAfterDeduping&&(c.needsRefreshAfterDeduping=!1),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,e[l],a),"continue";h(a);e.push(a)},u=this;for(o=0;o<n.length;++o)c(o);return[e,s]}return n.forEach(function(n){return h(n)}),[n,s]},t.prototype.canHaveSuppressions=function(t){return n.config.suppressDataSources[t]||n.config.dataSourcesWithSuppressedTypes[t]},t.prototype.isSuppressed=function(t,i){return n.config.suppressDataSources[t]||n.config.suppressTypes[i.type]},t}();n.SuggestionsRenderingManager=t}(AutoSuggest||(AutoSuggest={})),function(n){function y(n){return n.handoffType==1?n.query:HitHighlightingParser.removeMarkers(n.text)}function f(n){var t,i;if(n.length==0)return 0;for(t=0,i=0;i<n.length;i++)t=(t<<5)-t+n.charCodeAt(i)|0;return t}function t(n,t){var u,i,r;if(!n)return t.length;if(!t)return n.length;for(u=[],i=0;i<=t.length;i++)u[i]=[i];for(r=0;r<=n.length;r++)u[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=n.length;r++)u[i][r]=t.charAt(i-1)==n.charAt(r-1)?u[i-1][r-1]:Math.min(u[i-1][r-1]+1,Math.min(u[i][r-1]+1,u[i-1][r]+1));return u[t.length][n.length]}function p(n,i){return n&&(n=n.toLocaleLowerCase()),i&&(i=i.toLocaleLowerCase()),t(n,i)}function o(n,t,i){var r=0,u;return(t>0||i>0)&&(t>0&&i>0?(i>t&&(u=t,t=i,i=u),r=n/(t-n+i)):r=Number.MAX_VALUE),r}function s(n,t){var r=n.length,e=t.length,a,v,f,o,i;if(r===0&&e===0)return 1;var h=new Array(r),s=new Array(e),u=0,c=0,l=Math.floor(Math.max(r,e)/2)-1;for(i=0;i<r;i++)for(a=Math.max(0,i-l),v=Math.min(e,i+l+1),f=a;f<=v;f++)if(!s[f]&&n[i]==t[f]){h[i]=!0;s[f]=!0;u++;break}if(u===0)return 0;for(o=0,i=0;i<r;i++)if(h[i]){while(!s[o])o++;n[i]!=t[o]&&c++;o++}return(u/r+u/e+(u-c/2)/u)/3}function w(n,t){var i=s(n,t),r,u;return i<1?i:(r=.1,u=h(n,t),i+u*r*(1-i))}function h(n,t){for(var i=0;i<4;i++)if(n[i]!=t[i])return i;return++i}function b(n,t){return!n||!t?0:n.length+1<=t.length&&t[n.length]==" "?1:n.length==t.length?1:0}function k(n){var r=0,i=1,t;if(n&&n.length>1)for(t=1;t<n.length;t++)n.charAt(t)==n.charAt(t-1)?i++:i=1,i>r&&(r=i);else if(n)return 1;return r}function d(n){return n&&n.length>0?n.trim().split(" ").length:0}function g(n){var t=new RegExp("^[0-9a-zA-Z ]+$");return n&&t.test(n)?1:0}function nt(n){return n&&n.length>0&&n.charAt(n.length-1)==" "?1:0}function tt(n){return n&&n.length>0&&(n.includes("http://")||n.includes("https://")||n.includes("."))?1:0}function it(t,i,r,u){var o,e,s,h;t.includes("?")&&(r[117]=1,ot(t)&&(r[127]=1));t.replace("///","").replace("//","").includes("/")&&(r[118]=1);t.includes(".")&&(r[119]=1);o=u.cvid+u.privacyNumber+t;r[120]=f(o);e=t.toLocaleLowerCase();(e.startsWith("www.")||e.startsWith("http://www.")||e.startsWith("https://www."))&&(r[122]=1);e.startsWith("www.")||e.startsWith("http://")?r[123]=1:e.startsWith("https://")?r[124]=1:e.startsWith("ftp://")?r[125]=1:r[126]=1;i&&(s=n.normalizeUrl(e,15),h=n.normalizeUrl(i,15).toLocaleLowerCase(),s.startsWith(h)&&(r[187]=1))}function rt(n,i,r,u,e){if(e){r[128]=t(e,i);r[129]=e.length;var o=u.cvid+u.privacyNumber+e;r[130]=f(o)}}function ut(n,i,r){var e=n.toLocaleLowerCase(),s,u,f,h,c;if(r[140]=n.length,s=e.split(" "),r[144]=s.length,i)for(r[141]=t(n,i),r[142]=Math.min(100,o(r[141],i.length,n.length)),u=i.toLocaleLowerCase(),e.includes(u)&&(r[143]=1),e.startsWith(u)&&(r[188]=1),f=0,h=s;f<h.length;f++)if(c=h[f],c==u){r[145]=1;break}}function ot(n){var t=et.find(function(t){return n.startsWith(t)});return n=t?n.substr(t.length):n,ft.some(function(t){return n.startsWith(t)})}function st(n){var i=0,r,t;if(n)for(r in n)t=n[r],t&&t.prefixLaunchCount&&(i+=t.prefixLaunchCount);return i}function ht(t,i,r,u){if(r){var f=r[t];f&&(i[47]=f.prefixLaunchCount,i[49]=f.lastLaunchTime,i[101]=u,u>0&&(i[100]=f.prefixLaunchCount/u),f.previewPaneLaunchCount&&f.lastPreviewPaneLaunchTime&&(i[301]=f.previewPaneLaunchCount,f.lastPreviewPaneLaunchTime==f.lastLaunchTime&&(i[302]=1),i[303]=n.getCurrentTime()-f.lastPreviewPaneLaunchTime))}}function ct(n,t,i){if(i){var r=i[n];r&&(t[281]=r.probability,t[282]=r.weight)}}function lt(n,t,r,u,f,e){if(t){var s=i(u,r),o=t[s];o&&(f?(n[153]=o.ProbSugClickGivenPref,n[152]=o.ClicksOnSugGivenPref):e?(n[161]=o.Loglikelihood,n[162]=o.ProbSugClickGivenBackground,n[163]=o.ClicksOnSugGivenPref,n[164]=o.ProbSugClickGivenPref,n[165]=o.CCR,n[166]=o.EventCount,n[293]=o.ProbSugClickGivenPrefTime,n[168]=o.CCRTime,n[294]=o.ProbSugClickGivenBackgroundTime,n[295]=o.LoglikelihoodTime):(n[6]=o.Loglikelihood,n[3]=o.ProbSugClickGivenBackground,n[151]=o.ClicksOnSugGivenPref,n[0]=o.ProbSugClickGivenPref,n[94]=o.CCR,n[95]=o.EventCount,n[290]=o.ProbSugClickGivenPrefTime,n[155]=o.CCRTime,n[291]=o.ProbSugClickGivenBackgroundTime,n[292]=o.LoglikelihoodTime))}}function at(n,t,i){if(t){var r=t[i];r&&(n[256]=r.PSGPCR,n[257]=r.PSGCCR,n[258]=r.PSGSTR,n[286]=r.PSGSATCCR,n[287]=r.PSGSATPCR)}}function i(n,t){return(n+"\t"+t).toLocaleLowerCase()}function r(t,i,r){i==11..toString()&&i==0..toString();switch(n.config.athenaKeyType){case 0:return t||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group is empty")),t;case 1:return i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),i;case 2:return r||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key suggestion type is empty")),i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),r+"_"+i;default:return SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group type is not set")),""}}function u(t,i,r){switch(n.config.athenaKeyType){case 0:return i==t;case 1:return r==t;case 2:return r==t;default:return!1}}function vt(t){var i={};return t?(n.config.athenaKeyType==2?wt(t,i):(yt(t,i),pt(t,i)),i):i}function yt(t,f){var y=t.Suggestions?t.Suggestions.split("\t"):[],p=t.ProbSugClickGivenPrefs?t.ProbSugClickGivenPrefs.split("\t"):[],w=t.ClicksOnSugGivenPrefs?t.ClicksOnSugGivenPrefs.split("\t"):[],b=t.ProbSugClickGivenBackground?t.ProbSugClickGivenBackground.split("\t"):[],k=t.Loglikelihoods?t.Loglikelihoods.split("\t"):[],a=t.SuggestionGroups?t.SuggestionGroups.split("\t"):[],d=t.ProbSugClickGivenPrefWeeks?t.ProbSugClickGivenPrefWeeks.split("\t"):[],v=t.ProbSugClickGivenPrefWeekends?t.ProbSugClickGivenPrefWeekends.split("\t"):[],g=t.ProbSugClickGivenBackgroundWeeks?t.ProbSugClickGivenBackgroundWeeks.split("\t"):[],it=t.ProbSugClickGivenBackgroundWeekends?t.ProbSugClickGivenBackgroundWeekends.split("\t"):[],nt=t.LoglikelihoodWeeks?t.LoglikelihoodWeeks.split("\t"):[],tt=t.LoglikelihoodWeekends?t.LoglikelihoodWeekends.split("\t"):[],c=n.config.athenaKeyType==0||!t.SuggestionHandOffTypes?[]:t.SuggestionHandOffTypes.split("\t"),s=y.length,l=e(),o;if(u(s,a.length,c.length))for(o=0;o<s;o++){var rt=a&&a.length>o?a[o]:"",ut=c&&c.length>o?c[o]:"",ft=r(rt,ut,""),h=i(y[o],ft);f[h]={SuggestionGroup:+a[o]};b.length==s&&(f[h].ProbSugClickGivenBackground=Number(b[o]));p.length==s&&(f[h].ProbSugClickGivenPref=Number(p[o]));w.length==s&&(f[h].ClicksOnSugGivenPref=Number(w[o]));k.length==s&&(f[h].Loglikelihood=Number(k[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].SuggestionHandOffType=Number(c[o]));d.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenPrefTime=Number(v[o])):f[h].ProbSugClickGivenPrefTime=Number(d[o]);g.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenBackgroundTime=Number(it[o])):f[h].ProbSugClickGivenBackgroundTime=Number(g[o]);nt.length!=s||l?tt.length==s&&l&&(f[h].LoglikelihoodTime=Number(tt[o])):f[h].LoglikelihoodTime=Number(nt[o])}else SharedLogHelper.LogError("parseLLSignals",null,new Error("Length doesn't match"))}function pt(t,f){var a=t.CCRSuggestions?t.CCRSuggestions.split("\t"):[],l=t.CCRSuggestionGroups?t.CCRSuggestionGroups.split("\t"):[],v=t.CCRs?t.CCRs.split("\t"):[],y=t.EventCounts?t.EventCounts.split("\t"):[],c=n.config.athenaKeyType==0||!t.CCRSuggestionHandOffTypes?[]:t.CCRSuggestionHandOffTypes.split("\t"),p=t.CCRsWeek?t.CCRsWeek.split("\t"):[],w=t.CCRsWeekend?t.CCRsWeekend.split("\t"):[],s=a.length,b=e(),o;if(u(s,l.length,c.length))for(o=0;o<s;o++){var k=l&&l.length>o?l[o]:"",d=c&&c.length>o?c[o]:"",g=r(k,d,""),h=i(a[o],g);f[h]||(f[h]={SuggestionGroup:Number(l[o])});v.length==s&&(f[h].CCR=Number(v[o]));y.length==s&&(f[h].EventCount=Number(y[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].CCRSuggestionHandOffType=Number(c[o]));p.length!=s||b?w.length==s&&b&&(f[h].CCRTime=Number(w[o])):f[h].CCRTime=Number(p[o])}else SharedLogHelper.LogError("parseCCRSignals",null,new Error("Length doesn't match"))}function wt(n,t){var o=n.SugTypes?n.SugTypes.split("\t"):[],s=n.HandOffTypes?n.HandOffTypes.split("\t"):[],h=n.PSGPCRs?n.PSGPCRs.split("\t"):[],c=n.PSGCCRs?n.PSGCCRs.split("\t"):[],l=n.PSGSTRs?n.PSGSTRs.split("\t"):[],a=n.PSGSATCCRs?n.PSGSATCCRs.split("\t"):[],v=n.PSGSATPCRs?n.PSGSATPCRs.split("\t"):[],f=o.length,i;if(u(f,0,s.length))for(i=0;i<f;i++){var y=o[i],p=s[i],e=r("",p,y);t[e]={};h.length==f&&(t[e].PSGPCR=Number(h[i]));c.length==f&&(t[e].PSGCCR=Number(c[i]));l.length==f&&(t[e].PSGSTR=Number(l[i]));a.length==f&&(t[e].PSGSATCCR=Number(a[i]));v.length==f&&(t[e].PSGSATPCR=Number(v[i]))}else SharedLogHelper.LogError("parseGroupEngagementSignals",null,new Error("Length doesn't match"))}function bt(n,t){var r={},f,s,o,i;if(t){var h=0,v=0,u={};for(f=0,s=t;f<s.length;f++){var y=s[f],e=y.key,p=y.value;u[e]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};v+=c(u,e,n);o=a(p);u[e].groupClickCounts=o.groupLaunches;for(i in u[e].groupClickCounts)r[i]||(r[i]={probability:0,weight:0}),r[i].probability+=o.groupHits[i],h+=o.groupHits[i]}l(r,u,v,h)}return r}function kt(n,t){var r={},f,o,i;if(t){var h=0,a=0,u={};for(f=0,o=t;f<o.length;f++){var v=o[f],s=v.key,e=v.value;u[s]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};a+=c(u,s,n);for(i in e)e[i]&&e[i].prefixLaunchCount&&(r[i]||(r[i]={probability:0,weight:0}),u[s].groupClickCounts[i]=e[i].prefixLaunchCount,r[i].probability++,h++)}l(r,u,a,h)}return r}function c(n,t,i){var r=t.length-i.length,u=r/t.length;return n[t].lexicalSimilarity=1-u,n[t].lexicalSimilarity}function l(n,t,i,r){var o=0,s,e,f,u;for(e in t){f=t[e];f.lexicalSimilarity/=i;for(u in f.groupClickCounts)s=f.groupClickCounts[u],f.groupWeight[u]=s*f.lexicalSimilarity,o+=f.groupWeight[u]}for(u in n)n[u].probability/=r;for(e in t){f=t[e];for(u in f.groupClickCounts)n[u]||(n[u]={probability:0,weight:0}),f.groupWeight[u]/=o,n[u].weight+=f.groupWeight[u]}}function a(n){var u=function(n,t,i){return n[t]=n[t]?n[t]+i:i},r={groupLaunches:{},groupHits:{},otherGroupLaunches:0},f,t,i;for(f in n)(t=n[f],t&&t.prefixLaunchCount)&&(i=t.groupType,i||i===0?(u(r.groupLaunches,i,t.prefixLaunchCount),u(r.groupHits,i,1)):r.otherGroupLaunches+=t.prefixLaunchCount);return r}function dt(n,t,i,r){if(r){var f=i(t),u=r[f];u&&(n[266]=u.probability,n[267]=u.weight)}}function e(t){var i=t?t.getDay():n.getCurrentDate().getDay(),r=i==6||i==0;return n.config.invertIsWeekend?!r:r}function gt(n){for(var t in n)n[t]?n[t]=v(Number(n[t])):delete n[t]}function v(n){return Number(n.toFixed(5))}function ni(n,t){n.featureStore||(n.featureStore={});n.featureStore[t]=1}n.getTextForLexicalFeatures=y;n.stringHashCode=f;n.getEditDistance=t;n.getEditDistanceIgnoreCase=p;n.computeEditDistanceRatio=o;n.computeJaroSimilarity=s;n.computeJaroWinklerSimilarity=w;n.computeJaroWinklerPrefixOverLapCount=h;n.isWordBoundary=b;n.countMaxContiguousRepeatedChars=k;n.getNumberOfWords=d;n.containsOnlyDigitsLettersOrSpaces=g;n.endsWithSpace=nt;n.prefixIsLikeUrl=tt;n.computeUrlFeatures=it;n.computeDomainFeatures=rt;n.computeTitleFeatures=ut;var ft=["www.bing.","cn.bing.","www.google.","www.yandex.","www.baidu.","www.yahoo.",],et=["http://","https://",];n.getSumMruLaunches=st;n.setMRUSignal=ht;n.setMRUBackPropSignal=ct;n.setEngagementSignals=lt;n.setSuggestionGroupEngagementSignals=at;n.getEngagementSignalKey=i;n.getAthenaGroupKey=r;n.checkAthenaGroupLength=u;n.parseWebEngagementSignals=vt;n.computeGroupBackpropagatedClicks=bt;n.computeSuggestionBackpropagatedClicks=kt;n.evaluateGroupLaunches=a;n.setMRUGroupBackpropClicks=dt;n.isWeekend=e;n.removeUndefinedAndZeroAndTrimValues=gt;n.trimFeatureStoreValue=v;n.setFlagInFeatureStore=ni}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function r(n){return n.isSearchHomeZI}i.suggestionRankingModels={};var u=function(){function u(){}return u.prototype.rank=function(n,i,u,f,e,o,s,h,c,l){var a,v,y,p;return r(n)?{topResults:[],mruSuppressions:null}:n.scope==t.Scope.PathCompletion?this.rankPathCompletion(i):(a=t.isL2(n)?null:{mruGroupRatios:null,maxGroupCCR:null,maxGroupProbSugClickGivenPref:null,mruGroupBackpropWeights:null,mruGroupBackpropRatios:null},v=i.slice(),t.config.disableWebRankingSignals&&(o=null,u=null,h=null),this.orderSuggestions(n,i,u,f,o,s,h,c,a,e),this.setMRUHintEnabled(n,i),this.setGroupSuppressionSignals(a,i),y=this.getTopHitCandidates(n,i,l.searchTheWeb,v),p=this.createMulticlassClassifierTopHitSuggestionList(y),{topResults:p,mruSuppressions:a})},u.prototype.setMRUHintEnabled=function(n,i){var f,r,u;if(t.config.enableMRUHint)for(f=n.queryToFetch.toLocaleLowerCase(),r=0;r<i.length;r++)u=i[r].featureStore,u[281]&&u[282]&&(t.config.enableMRUHint!=1&&i[r].text.toLocaleLowerCase().startsWith(f)||(i[r].mruHintEnabled=!0))},u.prototype.rankPathCompletion=function(n){var t=n.find(function(n){return n.type=="CG"})||n[0];return{topResults:t?[t]:[],mruSuppressions:null}},u.prototype.orderSuggestions=function(r,u,f,e,o,s,h,c,l,a){var g=this,b=n.safeExecute(function(){return g.createFeatureStore(r,u,f,e,o,s,h,l,a)},"createFeatureStore"),p,y,k,w,d,v;if(b=b||u.map(function(){return{}}),y=c?t.config.counterFactualRankerId:t.config.mainRankerId,y?(p=n.safeExecute(function(){return i.suggestionRankingModels[y]},"getRanker"),p||SharedLogHelper.LogError("getRanker",y,new Error("Model not found"))):SharedLogHelper.LogError("getRanker",y,new Error(c?"CounterFactualRankerId not defined ":"MainRankerId not defined")),p)for(k=function(t){var i=b[t],r=n.safeExecute(function(){return p(i)},"calculateRankingScore");u[t].rankingScore=n.trimFeatureStoreValue(r);u[t].featureStore=i},v=0;v<u.length;v++)k(v);if(w=u.filter(function(n){return n.type=="MB"}),u.sort(function(n,t){return t.rankingScore-n.rankingScore}),w.length>1)for(d=u.map(function(n,t){return n.type=="MB"?t:undefined}).filter(function(n){return typeof n=="number"}),v=0;v<w.length;++v)u[d[v]]=w[v]},u.prototype.getSuggestionScoreFromSuggestionLogMeta=function(n){var t=";2152:";return n.indexOf(t)>=0?parseInt(n.substring(n.indexOf(t)+6).split(";")[0].slice(1,-1)):NaN},u.prototype.getTopWebSuggestion=function(n){var u,f,t,e,i,r;if(n.length==0)return null;if(u=n[0],f=64e3,n.length>1)for(t=0,e=n;t<e.length;t++)i=e[t],i.suggestionLogMeta&&(r=this.getSuggestionScoreFromSuggestionLogMeta(i.suggestionLogMeta),!isNaN(r)&&r<f&&(f=r,u=i));return u},u.prototype.bypassFallbackForMBS=function(i,r,u){return(t.config.bypassFallbackOnMSBTopHit==2||t.config.bypassFallbackOnMSBTopHit==3)&&r.every(function(t){return n.isWebSuggestion(t)||t.handoffType==17||t.isAnswer})?!0:(t.config.bypassFallbackOnMSBTopHit==1||t.config.bypassFallbackOnMSBTopHit==4)&&!r.some(function(n){return t.isApp(n.type)||t.isSetting(n.type)})&&u.length>0&&(u[0].type=="PPL"||u[0].type=="BKS")?!0:t.config.bypassFallbackOnMSBTopHit==4&&!r.some(function(n){return t.isApp(n.type)||t.isSetting(n.type)})&&u.length>1&&(u[0].isAnswer||n.isWebSuggestion(u[0]))&&(u[1].type=="PPL"||u[1].type=="BKS"||u.length>2&&u[0].isAnswer&&u[1].isAnswer&&(u[2].type=="PPL"||u[2].type=="BKS"))?!0:!1},u.prototype.getTopHitCandidates=function(i,r,u,f){var l=this,e=r.filter(function(n){return l.allowInTopHit(i,n,f)}),h,o,c,s;return this.bypassFallbackForMBS(i,r,e,f)?(h=[],o=f.filter(function(n){return n.type=="PPL"}),o.length==0&&(o=f.filter(function(n){return n.type=="BKS"})),o.length>0&&o[0].autoOpenPreviewPaneWhenOnTopHit&&(t.config.bypassFallbackOnMSBTopHit!=3||n.getTextForLexicalFeatures(o[0]).toLowerCase().startsWith(i.queryToFetch.toLowerCase()))&&h.push(o[0]),t.config.bypassFallbackOnMSBTopHit==4&&(e[0].isAnswer||n.isWebSuggestion(e[0]))&&(e[0].isAnswer||this.getFallbackClassifierScore(e[0])>t.config.webFbcScoreThreshold)&&h.push(e[0]),h):this.enableFallbackClassifier(i,e,u)?t.config.disableTopHitSyntheticWeb&&i.queryToFetch.length>=t.config.minPrefixDisableTopHitSW&&e.every(function(t){return n.isWebSuggestion(t)})&&(c=e.filter(function(n){return n.type!="SW"}),c.length>0&&(s=this.getTopWebSuggestion(c),s.type!="SC"&&s.type!="RI"&&s.type!="OS"))?[s]:this.getFallbackClassifierSuggestions(e):e},u.prototype.getFallbackClassifierScore=function(r){var u=n.safeExecute(function(){return i.suggestionRankingModels[t.config.fallbackClassifierId]},"getFallbackClassifier"),f=u?n.safeExecute(function(){return u(r.featureStore)},"calculateFallbackClassifierScore"):0;return n.trimFeatureStoreValue(f)},u.prototype.getFallbackClassifierSuggestions=function(r){if(r=r.filter(function(n){return n.type!="SW"}),r.length>0){var f=0,u=r[0];return u.fbcScore=this.getFallbackClassifierScore(u),f=t.config.enableAppsSettingsFbcScoreThreshold?t.isApp(u.type)||t.isSetting(u.type)?t.config.appsSettingsFbcScoreThreshold:n.isWebSuggestion(u)?t.config.webFbcScoreThreshold:t.config.nonWebFbcScoreThreshold:n.isWebSuggestion(u)?t.config.webFbcScoreThreshold:t.config.nonWebFbcScoreThreshold,u.fbcScore>=f?r.slice(0,i.topHitIsMultiEntity(r)?2:1):[]}return[]},u.prototype.enableFallbackClassifier=function(i,r,u){if((t.config.enableFBMinQryLength==0||i.queryToFetch.length>=t.config.enableFBMinQryLength)&&u&&t.config.fallbackClassifierId&&r.length>0){var f=r[0];return t.getGroupType(f)==t.GroupType.Cortana?!1:f.isAnswer?f.autoOpenPreviewPaneWhenOnTopHit&&t.config.applyFallbackClassifierToAutoOpenAnswers||f.type=="MB"&&t.config.applyFallbackClassifierToEntities:t.config.enableLimitedFallback&&i.queryToFetch.length>=t.config.minPrefixLengthLimitedFallback&&!n.isWebSuggestion(f)?!1:!0}return!1},u.prototype.allowInTopHit=function(i,r,u){var h=!u||u.length==1,o,e,s,f;if(t.RuntimeConfig.QfMode==8||!t.config.topHitAllowedForGridLayoutL2&&(i.scope==t.Scope.Photos||i.scope==t.Scope.Videos)||i.topHitRestriction==1&&r.query.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase()&&(n.contains(r.features,"ForcePrefixOnTop")||r.features.push("ForcePrefixOnTop"),t.config.forceTypedQueryOnTop))return!1;if(t.isRecourse(r))return t.config.recourseOnlyInGroups?!1:h;if(t.isMobileCache)switch(r.handoffType){case 2:case 3:return!1;case 1:if(!i.queryToFetch.includes("."))return!1}o=t.getGroupType(r);switch(o){case t.GroupType.Store:return r.hc;case t.GroupType.PowerBi:return r.hc;case t.GroupType.Command:return r.hc||h;case t.GroupType.LocalPlaces:return t.config.topHitAllowedForLocal}if(t.getScope(o)==t.Scope.Emails&&!r.hc)return!1;if(t.enforceOriginalOrder(r)&&u)for(e=0,s=u;e<s.length;e++){if(f=s[e],f==r)break;if(f.type==r.type&&f.handoffType==r.handoffType&&f.sourceForGroup==r.sourceForGroup)return!1}return t.RuntimeConfig.AlwaysWide&&!r.previewPaneType?!1:!0},u.prototype.createMulticlassClassifierTopHitSuggestionList=function(n){for(var r=0,u=0;u<Math.min(n.length,t.config.maxNumberOfTopResults);u++)n[u].rankingScore!==undefined&&n[u].rankingScore>.5&&(r=u);return r==0&&i.topHitIsMultiEntity(n)&&(r=1),t.config.bypassFallbackOnMSBTopHit==4&&n.length>0&&(n[0].type=="PPL"||n[0].type=="BKS")&&(r=1),n.slice(0,r+1)},u.prototype.createFeatureStore=function(i,r,u,f,e,o,s,h,c){var ht=[],tt=0,ct=0,it=0,lt=i.queryToFetch.toLocaleLowerCase(),kt=function(n){return t.getGroupType(n)},at=n.getSumMruLaunches(f),vt=0,yt={},rt,ut,pt,d,ft,y,p,a,w,g,et,ot,b,nt,st,v,l,k,wt,bt;for(f&&(rt=n.evaluateGroupLaunches(f),vt=rt.otherGroupLaunches,yt=rt.groupLaunches),ut=n.computeGroupBackpropagatedClicks(i.queryToFetch,c),pt=n.computeSuggestionBackpropagatedClicks(i.queryToFetch,c),d=0,ft=r;d<ft.length;d++)y=ft[d],y.handoffType==2&&(p=t.getAppItem(y),p&&(ct+=p.totalLaunches,p.totalLaunches>tt&&(tt=p.totalLaunches)),y.deviceItem&&y.deviceItem.rankScore>it&&(it=y.deviceItem.rankScore));for(a={},n.isWeekend()&&(a[440]=1),a[441]=this.getLocalHourBucket(new Date),w=lt.split(" "),g=0,et=w;g<et.length;g++){if(ot=et[g],ot=="install"){a[451]=1;break}if(ot=="uninstall"){a[450]=1;break}}for(w&&w.length>0&&(b=w[0],a[452]=b.indexOf("c:")>-1||b.indexOf("d:")>-1||b.indexOf("e:")>-1||b.indexOf("f:")>-1?1:0),nt=0,st=r;nt<st.length;nt++)v=st[nt],l=this.getSuggestionFeatureStore(lt,v,e,u,ct,s),l[13]=tt,l[7]=it,l[60]=t.isMobileCache?1:0,u&&u.WebSignalsAvailable&&(l[93]=1),n.setMRUSignal(t.getSuggestionKey(v),l,f,at),this.setMRUGroupLaunchRatios(l,v,at,yt,vt,h),n.setMRUBackPropSignal(t.getSuggestionKey(v),l,pt),ut&&n.setMRUGroupBackpropClicks(l,v,kt,ut),k=n.getTextForLexicalFeatures(v),k&&(v.handoffType==1&&(n.computeUrlFeatures(k,i.queryToFetch,l,o),wt=n.getDomain(k),n.computeDomainFeatures(v,i.queryToFetch,l,o,wt,e)),t.isFileOrFolder(v.type)&&(bt=o.cvid+o.privacyNumber+k,l[131]=n.stringHashCode(bt))),a&&(l[440]=a[440],l[441]=a[441],l[451]=a[451],l[450]=a[450],l[452]=a[452]),n.removeUndefinedAndZeroAndTrimValues(l),ht.push(l);return ht},u.prototype.setGroupSuppressionSignals=function(n,i){var f,e,u;if(n)for(n.maxGroupCCR={},n.maxGroupProbSugClickGivenPref={},n.mruGroupBackpropRatios={},n.mruGroupBackpropWeights={},f=0,e=i;f<e.length;f++)if(u=e[f],u.featureStore){var r=t.getGroupType(u),o=u.featureStore[94]||0,s=u.featureStore[0]||0;n.maxGroupCCR[r]=n.maxGroupCCR[r]?Math.max(n.maxGroupCCR[r],o):o;n.maxGroupProbSugClickGivenPref[r]=n.maxGroupProbSugClickGivenPref[r]?Math.max(n.maxGroupProbSugClickGivenPref[r],s):s;n.mruGroupBackpropRatios[r]=u.featureStore[266];n.mruGroupBackpropWeights[r]=u.featureStore[267];(n.mruGroupBackpropWeights[r]||n.mruGroupBackpropRatios[r])&&(n.backPropDataExists=!0)}},u.prototype.setMRUGroupLaunchRatios=function(n,i,r,u,f,e){var s,o;if(r){e&&(e.mruGroupRatios={});n[186]=f/r;for(s in u){o=u[s]/r;t.getGroupType(i)==Number(s)&&(n[271]=o);e&&(e.mruGroupRatios[s]=o);switch(Number(s)){case t.GroupType.Apps:n[169]=o;break;case t.GroupType.Settings:n[170]=o;break;case t.GroupType.Cortana:n[171]=o;break;case t.GroupType.Command:n[172]=o;break;case t.GroupType.Photos:n[173]=o;break;case t.GroupType.Videos:n[174]=o;break;case t.GroupType.Music:n[175]=o;break;case t.GroupType.Documents:n[176]=o;break;case t.GroupType.Folders:n[177]=o;break;case t.GroupType.Emails:n[178]=o;break;case t.GroupType.Store:n[179]=o;break;case t.GroupType.SearchSuggestions:n[262]=o;n[180]=u[t.GroupType.Websites]?(u[t.GroupType.Websites]+u[s])/r:o;break;case t.GroupType.Websites:n[263]=o;n[180]=u[t.GroupType.SearchSuggestions]?(u[t.GroupType.SearchSuggestions]+u[s])/r:o;break;case t.GroupType.PathCompletion:n[181]=o;break;case t.GroupType.PowerBi:n[182]=o;break;case t.GroupType.People:n[184]=o;break;case t.GroupType.EdgeHistory:n[185]=o;break;case t.GroupType.Bookmarks:n[260]=o;break;case t.GroupType.LocalPlaces:n[261]=o}}}},u.prototype.getRank=function(n){if(n.type=="EBH")return undefined;if(n.deviceItem&&typeof n.deviceItem.rankScore!="undefined")return n.deviceItem.rankScore;var i=t.isJumpListSuggestion(n)?n.jumpListItem.usagePoints:undefined;return typeof i!="undefined"?i:undefined},u.prototype.getSuggestionFeatureStore=function(i,r,u,f,e,o){var s={},l,v,d,a,y,p,w,c,h,g,it,b,nt,rt,k,tt;if(this.setTypeSignal(r,s),l=t.getAppItem(r),l?(s[2]=l.totalLaunches,s[92]=l.launchArguments?1:0,e>0&&(s[103]=l.totalLaunches/e),this.addLastAccessDate(l.lastAccessed,s)):this.addLastAccessDate(t.isJumpListSuggestion(r)?r.jumpListItem.lastAccessed:null,s),v=t.getBrowsingHistoryItem(r),v&&(v.visitCount&&(s[138]=v.visitCount),this.addLastAccessDate(v.dateVisited,s)),s[96]=r.catalogScore,s[97]=r.avgRating,s[98]=r.ratingCount,s[99]=r.confidence,s[150]=r.source,s[283]=r.pinnedToTaskbar?1:undefined,r.hc&&(s[189]=1),s[17]=r.highConfidenceMetaSuggestionScore,d=this.getRank(r),typeof d!="undefined"?s[16]=d:s[4]=1,a=r,a.matchedOnlyOnContent&&(s[259]=1),a.matchedOnlyOnAuthor&&(s[273]=1),a.lastModifiedDate&&(s[268]=n.getTimeDiffInDays(a.lastModifiedDate)),a.extensionLC==".lnk"&&(s[272]=1),s[23]=r.prefetchConfidenceScore,s[264]=f&&f.ProbNextKS!==undefined?f.ProbNextKS:1,s[296]=f&&f.ProbNextKSV2!==undefined?f.ProbNextKSV2:1,this.setThresholdRatios(s,f),this.setRatios(s,f),y=t.getGroupType(r),p=r.query,r.type=="SW"&&(p="SearchTheWeb"),w=n.getAthenaGroupKey(String(y),String(r.handoffType),r.type),n.setEngagementSignals(s,u,w,p,!1,!1),n.setEngagementSignals(s,o,w,p,!1,!0),o&&!u&&n.setEngagementSignals(s,o,w,p,!1,!1),s[10]=i.length,(r.isAnswer||y==t.GroupType.Cortana)&&(s[11]=1),c=n.getTextForLexicalFeatures(r),h=c?c.toLocaleLowerCase():null,c||(s[132]=1),h==i&&(s[133]=1),r.handoffType==2&&(r.type!="PBI"&&(s[8]=1),t.isSetting(r.type)&&(s[64]=1),t.isApp(r.type)&&(s[83]=1)),y==t.GroupType.SearchSuggestions&&(r.type!="SW"&&(s[82]=1),s[25]=1),g=s[132]==1,g?s[137]=i.length:(s[137]=c.length,s[134]=n.getEditDistance(i,h),s[135]=Math.min(100,n.computeEditDistanceRatio(s[134],i.length,c.length)),s[136]=n.isWordBoundary(i,c),s[284]=Math.abs(c.length-i.length)),!g&&h){for(h.indexOf(i)>-1&&(s[143]=1),h.substring(0,i.length)===i&&(s[188]=1),it=h.split(" "),b=0,nt=it;b<nt.length;b++)if(rt=nt[b],rt==i){s[145]=1;break}s[420]=n.computeJaroSimilarity(i,h);s[421]=n.computeJaroWinklerSimilarity(i,h)}return s[1]==1&&r.deviceItem&&(k=t.getAppItem(r),k.extension&&(s[400]=k.extension===".exe"?1:0,s[401]=k.extension===".appref-ms"?1:0),h&&(s[402]=h.indexOf("install")>-1?1:0)),s[1]||r.type!="FL"&&r.type!="FD"&&r.type!="ST"||(s[403]=1),(r.type=="QP"||r.type=="QS"||r.type=="SC"||r.type=="OS")&&(s[404]=1),s[8]==1&&(s[27]=s[133]),(r.isAnswer||y==t.GroupType.Cortana)&&(s[55]=s[133]),(r.type=="HS"||r.fromHistory)&&(s[121]=1),s[41]=s[83]==1?s[40]:s[64]==1?s[39]:s[11]==1?s[32]:s[89]==1?s[54]:s[85]==1?s[30]:s[86]==1?s[53]:s[87]==1?s[52]:s[61]==1?s[31]:s[88]==1?s[51]:s[63]==1?s[35]:s[82]==1?s[29]:s[90]==1?s[50]:s[59]==1?s[34]:s[37],(t.isSetting(r.type)||t.isApp(r.type))&&(tt=r.ciMetaData,this.computeConstraintIndexFeatures(r.deviceItem,s,tt),r.ciMatchedQuery=this.getConstraintIndexMatchedQuery(tt),s[269]&&s[270]&&(s[405]=Math.sqrt(s[269]*s[270]))),r.signals&&(s[230]=r.signals.DistanceToEntity,s[231]=r.signals.DistanceToEntityPrecision,s[232]=r.signals.RankingScore),s},u.prototype.addLastAccessDate=function(t,i){var r=n.getTimeDiffInDays(t);r!=null?i[9]=r:i[19]=1},u.prototype.setTypeSignal=function(n,t){switch(n.type){case"LDOC":case"FL":t[61]=1;break;case"LI":t[85]=1;break;case"LV":t[86]=1;break;case"MU":t[87]=1;break;case"FD":t[88]=1;break;case"CG":t[89]=1;break;case"PT":t[90]=1;break;case"PP":case"IBA":t[1]=1;break;case"ML":case"MD":t[21]=1;break;case"CS":t[63]=1;break;case"SW":t[59]=1}},u.prototype.setRatios=function(n,t){t&&t.AppsRatio!==undefined&&(n[26]=t.AppsRatio,t.SettingsRatio&&(n[5]=t.SettingsRatio),t.StoreRatio&&(n[57]=t.StoreRatio),t.PrefixProbability&&(n[12]=t.PrefixProbability),t.FilesRatio&&(n[24]=t.FilesRatio),t.WebRatio&&(n[18]=t.WebRatio),t.PhotosVideosMusicRatio&&(n[28]=t.PhotosVideosMusicRatio),t.ContactsRatio&&(n[56]=t.ContactsRatio),t.LocalProtocolRatio&&(n[91]=t.LocalProtocolRatio))},u.prototype.setThresholdRatios=function(n,t){t&&t.ThApps!==undefined?(n[40]=t.ThApps,t.ThStore&&(n[35]=t.ThStore),t.ThSetting&&(n[39]=t.ThSetting),t.ThCortAns&&(n[32]=t.ThCortAns),t.ThPrefixCount&&(n[38]=t.ThPrefixCount),t.ThWeb&&(n[29]=t.ThWeb),t.ThSearchTheWeb&&(n[34]=t.ThSearchTheWeb),t.ThOther&&(n[37]=t.ThOther),t.ThFile&&(n[31]=t.ThFile),t.ThFolder&&(n[51]=t.ThFolder),t.ThPath&&(n[50]=t.ThPath),t.ThEmail&&(n[33]=t.ThEmail),t.ThCommAns&&(n[54]=t.ThCommAns),t.ThPhotoAns&&(n[30]=t.ThPhotoAns),t.ThVideoAns&&(n[53]=t.ThVideoAns),t.ThMusicAns&&(n[52]=t.ThMusicAns),t.ThDNav&&(n[147]=t.ThDNav)):n[42]=1},u.prototype.computeConstraintIndexFeatures=function(n,t,i){var u,o,f,e,s,r;if(n&&n.rawIndexResponse){if(!i)return;if(t[157]=i.GrammarScore,t[158]=i.MatchScore,i.Parses&&i.Parses.length>0&&i.Parses[0].Entities&&i.Parses[0].Entities.length>0)for(u=0,o=i.Parses[0].Entities;u<o.length;u++)if(f=o[u],t[159]=f.EntityScore,f.Attributes)for(e=0,s=f.Attributes;e<s.length;e++)r=s[e],r.Name=="gscore"?t[269]=Number(r.Value):r.Name=="lscore"&&(t[270]=Number(r.Value))}},u.prototype.getConstraintIndexMatchedQuery=function(n){return!n||n.MatchScore==0?null:n.Query},u.prototype.getLocalHourBucket=function(n){var t=n.getHours(),i=1;return t>=0&&t<6?i=1:t>=6&&t<12?i=2:t>=12&&t<18?i=3:t>=18&&t<=23&&(i=4),i},u}();i.FastRankRanker=u})(i=t.Ranking||(t.Ranking={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=function(){function i(n,t){var i=this;this._instrumentationProvider=t;this._MCkeystrokeAggregatedMeasure={DataSourceResponseTimes:{},TopResultsRendered:null};n.bindDismissed(function(){return i.flushAggregatedMeasure(!0)})}return i.prototype.onNewKeystroke=function(n,t,i){this.flushAggregatedMeasure();this._aggregatedMeasureFlushed=!1;this._currentLeftPaneSuggestions=null;this._currentRawImpressionGuid=t;this._currentRawClientImpressionGuid=SearchAppWrapper.CortanaApp.impressionId;this._keystrokeAggregatedMeasure={CVID:n};this._currentKeystrokeAggregatedMeasureIsForSearchHome=i},i.prototype.flushAggregatedMeasure=function(n){(t.config.logPerf&&this._MCkeystrokeAggregatedMeasure&&Object.keys(this._MCkeystrokeAggregatedMeasure.DataSourceResponseTimes).length>1&&(this._instrumentationProvider.logProfilerMarker(1,0,"MCKeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._MCkeystrokeAggregatedMeasure),this._MCkeystrokeAggregatedMeasure={DataSourceResponseTimes:{},TopResultsRendered:null}),n||this._currentKeystrokeAggregatedMeasureIsForSearchHome)&&!this._aggregatedMeasureFlushed&&this._keystrokeAggregatedMeasure&&Object.keys(this._keystrokeAggregatedMeasure).length>1&&(this.logProfilerMarker(1,0,"KeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._currentRawClientImpressionGuid,this._keystrokeAggregatedMeasure),this._aggregatedMeasureFlushed=!0)},i.prototype.logSingleMeasure=function(n,t,i){this.logProfilerMarker(1,0,n,t,SearchAppWrapper.CortanaApp.impressionId||t,i)},i.prototype.logProfilerMarker=function(n,t,i,r,u,f){u!=r&&(f.ServerIG=r);this._instrumentationProvider.logProfilerMarker(n,t,i,u,f)},i.prototype.logAggregate=function(n,t){this._keystrokeAggregatedMeasure[n]=t},i.prototype.getItemLayoutFromSuggestionsList=function(n){var u,e,i,f,r,t;if(this._currentLeftPaneSuggestions){for(u=this._currentLeftPaneSuggestions.topResults,e=this._currentLeftPaneSuggestions.groups,t=0;t<u.length;++t)if(u[t].instItem==n)return{IsInTopResult:!0,GroupType:undefined,PositionInGroup:t};for(i=0,f=e;i<f.length;i++)for(r=f[i],t=0;t<r.suggestions.length;++t)if(r.suggestions[t].instItem==n)return{IsInTopResult:undefined,GroupType:r.typeWithSource.type,PositionInGroup:t}}return undefined},i.prototype.updateSuggestionsList=function(n,t){this._currentLeftPaneSuggestions={topResults:n,groups:t}},i.prototype.logDataSourcePerformancesMeasure=function(n){var r=n.RequestBegin,i=Object.keys(n.ResponseReceived).map(function(t){return{Name:t,ResponseReceivedTime:n.ResponseReceived[t]-r,RenderedTime:n.RenderFinished[t]-r,Status:n.DataSourcesState&&n.DataSourcesState[t]}}),f=n.TopResultRendered.map(function(n){return{Type:n.T,Time:n.V-r}}),e={DataSources:i,TopResultRendered:f},u;if(this.logAggregate("DataSourcePerformancesMeasure",e),t.config.logPerf)for(u in i)this._MCkeystrokeAggregatedMeasure.DataSourceResponseTimes[i[u].Name]=i[u].ResponseReceivedTime},i.prototype.logNewKeystrokeMeasure=function(t,i,r){this.onNewKeystroke(t,i,r.isSearchHomeZI);var u={ScopeInQuery:r.scopePrefix,Scope:r.scope,IsSearchHome:r.isSearchHomeZI};u.CIVersion=n.WSB.ConstraintIndex.currentCIVersion;this.logAggregate("NewKeystrokeMeasure",u)},i.prototype.logTopResultsRenderedMeasure=function(i,r,u){this._instrumentationProvider.logProfilerMarker(1,0,"topResultRendered",i,{CI:n.WSB.ConstraintIndex.currentCIVersion});var f={SuggestionTypes:r};this.logAggregate("TopResultsRenderedMeasure",f);t.config.logPerf&&(this._MCkeystrokeAggregatedMeasure.TopResultsRendered=u)},i.prototype.logGroupsRenderedMeasure=function(n){var t={GroupTypes:n};this.logAggregate("GroupsRenderedMeasure",t)},i.prototype.logPreviewPaneOpenedMeasure=function(n,t,i){var r={ParentType:n.getQsCode(),PreviewPaneType:t,ParentLayoutInfo:this.getItemLayoutFromSuggestionsList(n),AutoOpened:i||undefined};this.logAggregate("LastPreviewPaneOpened",r)},i.prototype.logConversationStartMeasure=function(n,t){var i={CVID:n,StartTime:t};this.logSingleMeasure("ConversationStartMeasure",n,i)},i.prototype.logItemClickedMeasure=function(n,t,i,r){var u={CVID:n,ItemType:i.getQsCode(),InputType:r,LayoutInfo:this.getItemLayoutFromSuggestionsList(i)};this.flushAggregatedMeasure(!0);this.logSingleMeasure("ItemClickedMeasure",t,u)},i}();t.WindowsTelemetry=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=/[+.\\*?\[\]()]/g,r={".":"\\.","+":"\\+","*":"\\*","\\":"\\\\","?":"\\?","[":"\\[","]":"\\]","(":"\\(",")":"\\)"},u=/^(?:https?:\/\/)?(.*)/,f=/^(?:(?:https?:\/\/(?:www\.)?)|(?:www\.))(.*)/,e=/^\s+/,o=function(){function o(t){var i=this;this._host=t;t.bindKeyDown(function(t){n.isUpOrDownKey(t)&&i.reset()});t.bindQueryChangedOrInitialized(function(n){i._currentQuery=n;!i._fullAutoCompletedQuery||i._fullAutoCompletedQuery.startsWith(n.originalQuery)||n.originalQuery.startsWith(i._fullAutoCompletedQuery)||i.reset()})}return o.prototype.apply=function(n){var r,o,i;if(n.query!=this._autoCompletedQuery){if(r=this._currentQuery.originalQuery,this._host.setAutoCompleteQueryText(""),(!t.config.disableGhosting&&n.type!="EBH"||t.config.disableGhosting&&n.type=="PT")&&this._currentQuery.originalCursorPosition===r.length){var s=this._currentQuery.scopePrefix?this._currentQuery.scopePrefix.length+1:0,u=r.substr(s).replace(e,"").toLowerCase(),f=n.query.toLowerCase();if(u!==f&&(o=1,i=this.fullAutoCompleteOffset(f,u),i<0&&(t.config.allowInfixGhosting||n.url)&&(i=this.infixAutoCompleteOffset(f,u),o=2),i<0&&(i=this.directNavAutoCompleteOffset(f,u)),i>=0)){this.setAutoCompletedQuery(r,n.query,i);n.autoCompleteType=o;return}}this._autoCompletedQuery&&(this.reset(),this._host.setAutoCompleteQueryText(r))}},o.prototype.reset=function(){this._autoCompletedQuery=null;this._fullAutoCompletedQuery=null},o.prototype.fullAutoCompleteOffset=function(n,t){var i=n.startsWith(t);return i?t.length:-1},o.prototype.infixAutoCompleteOffset=function(n,t){var f=n.search("[ .:,\\\\/+_&-]"+t.replace(i,function(n){return r[n]})),e,o;return f>0&&(e=n.substring(0,f+1).match(u)[1],o=e?e.match(/[ .:,\\/+_&-]+/g).length+1:1,o<3)?f+1+t.length:-1},o.prototype.directNavAutoCompleteOffset=function(n,t){var i=t.match(f),r;return i&&(r=i[1],r.length>0&&n.startsWith(i[1]))?r.length:-1},o.prototype.setAutoCompletedQuery=function(n,t,i){var r=n+t.slice(i);this._host.setAutoCompleteQueryText(r);this._autoCompletedQuery=t;this._fullAutoCompletedQuery=r},o}();t.WSBAutoComplete=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function o(n,i){var r,u;return i?(r=t.getKnownFolderPathLC(t.FOLDERID_SkyDrive),r?r+="\\":r="\\onedrive\\",u=n.indexOf(r),u>=0&&(n=n.substr(u+r.length))):n.startsWith("onedrive:\\")&&(n=n.substr(10)),n}function s(n,i,r){var u,f,o,e;return i?(u=t.getKnownFolderPathLC(t.FOLDERID_Profile)+"\\onedrive - ",f=n.indexOf(u),f>=0&&(o=n.indexOf("\\",f+u.length),n=n.substr(o+1))):t.windowsIdentity&&n.startsWith("onedrive for business:\\")&&r&&(e=t.windowsIdentity.indexOf("@"),e!=-1&&r.toLocaleLowerCase().indexOf("personal/"+t.windowsIdentity.substr(0,e))>0&&(n=n.substr(23))),n}function a(n){return{fullySuppressedGroups:n.fullySuppressedGroups?n.fullySuppressedGroups.slice(0):[],partiallySuppressedGroups:n.partiallySuppressedGroups?n.partiallySuppressedGroups.slice(0):[],suppressedSuggestions:n.suppressedSuggestions?n.suppressedSuggestions.slice(0):[]}}function h(n,i,r){var f="",e,o,u,s;return r?(e=t.getKnownFolderPathLC(t.FOLDERID_Profile)+"\\"+t.SubstrateTenantName.toLocaleLowerCase()+"\\",o=i.indexOf(e),o>=0&&(u=o+e.length,s=i.indexOf(" - ",u),f=i.substr(u,s-u).toLocaleLowerCase(),i=i.substr(s+3))):i.startsWith("sharepoint:\\")&&(i=i.substr(12),f=n.siteTitle.toLocaleLowerCase()),[i,f]}function v(n){return n.type=="SW"||n.type=="PWL"}function u(n,t){return!n.suppressed&&n.handoffType==0&&!n.htmlContent&&n.query.toLocaleLowerCase()==t.queryToFetch.toLocaleLowerCase()}function c(n){return n.length>=2&&n[0].type=="MB"&&n[1].type=="MB"}var f={"Microsoft.Windows.ControlPanel":"ControlPanel","Microsoft.AutoGenerated.{923DD477-5846-686B-A659-0FCCD73851A8}":"Classic_{E9C71548-B580-43B2-ACDB-1BA924002754}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\dfrgui.exe":"Classic_{7D13A5DB-6081-48BD-8EA3-A9D7FE67A335}","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows Defender\\MSASCui.exe":"NameSpace_Classic_{D8559EB9-20C0-410E-BEDA-7ED416AECC2A}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\cleanmgr.exe":"Classic_{AACA901F-E74F-4894-B074-F55059532853}","Microsoft.AutoGenerated.{BB044BFD-25B7-2FAA-22A8-6371A93E0456}":"Classic_{45FDB5DF-1457-4A41-A824-7AD9C75767BC}","Microsoft.Windows.PCSettings.DefaultApps":"AAA_SettingsPageAppsDefaults"},e={"NameSpace_Classic_{F942C606-0914-47AB-BE56-1321B8035096}":"Classic_{232A1851-808C-4B44-A92A-38E862989CE5",AAA_Proxy_Automatic_Config_Group:"AAA_SettingsPageNetworkProxy",AAA_Settings_DeveloperModeGroup:"AAA_SettingsPageRestoreDeveloperOptions",AAA_SystemSettings_Users_PicturePassword:"AAA_SettingsGroupPicturePassword"},r,l;(function(n){n[n.NotDuplicate=0]="NotDuplicate";n[n.NoMetadata=1]="NoMetadata";n[n.MergeMetadata=2]="MergeMetadata"})(r||(r={}));i.isWebSuggestionForPrefix=u;i.topHitIsMultiEntity=c;l=function(){function i(n,t,i,r,u,f,e,o){this._host=n;this._instrumentationHelper=t;this._navigationHelper=i;this._previousKeystrokeCache=r;this._ranker=u;this._renderedTopResults=f;this._previewPane=e;this._imageSearchViewModel=o}return i.prototype.launchWebSearch=function(n,t,i,r){var u=n.queryToFetch;this._host.launchSearch(u,this._navigationHelper.getSearchUrl(n.fullPartialQuery,u,i,null,r),t)},i.prototype.getProtocol=function(i,r){var o=this,f="PWL",u=this._instrumentationHelper.getInstrumentedSyntheticSuggestion(r,f),e;return u?u:(u=t.createSuggestion(i,null,this._host.getEdgeIcon,null,f,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(f,t.SyntheticQSCodesMaps.KValues),1,r,!1,"tp",function(){return o._host.launchUri(u.url)}),u.notAResult=!0,e=function(i){var r=n.prettyPrintUrl(i.fixedUrl,i.queryToFetch,!0);u.url=i.fixedUrl;u.tooltip=i.fixedUrl;u.query=r;u.text=HitHighlightingParser.addMarkers(r);u.narratorText=t.getNarratorText(u,o._host.getLocString("DirectNavSuggestion"))},e(i),u.updateFromQuery=function(n){return n.isProtocol?(e(n),!0):!1},this._instrumentationHelper.instrumentSyntheticSuggestion(r,u),u)},i.prototype.getWebSearch=function(i,r,u,f,e,o){var s=this,h=n.contains([13,14],e);return t.getSyntheticSuggestion(this._instrumentationHelper,i,r,u,f,e,o,h,function(n,t){return s.launchWebSearch(t,n.useRaf,u,e)})},i.prototype.getExplorerSearch=function(n,i){var u=this,r=t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"SDFE",{content:"&#xEC50",type:1},2,this._host.getLocString("SearchInFileExplorer"),!0,function(n,t){return u._host.launchSearchInFileExplorer(t.queryToFetch)});return t.shouldSetThisPcGroupSource(t.GroupType.Documents,n)&&(r.sourceForGroup=1),r},i.prototype.getOutlookWebAccessSearch=function(n,i){var u=this,r=t.getAccountTypeForCloudContent()==1;return t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"OWA",{content:"&#xE715",type:2},r?8:12,this._host.getLocString("SearchInOutlookWeb"),!0,function(){return u._host.launchUri(r?"https://outlook.office.com/owa":"https://outlook.live.com/owa")})},i.prototype.getStoreSearch=function(n,i){var r=this;return t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"STS",{content:"&#xEA96",type:2},3,this._host.getLocString("SearchForAppsInTheStore"),!0,function(n,t){return r._host.launchStoreSearch(t.queryToFetch)})},i.prototype.getRecourse=function(i,r){if(!i.queryToFetch||i.taskFrame)return null;switch(t.getEffectiveScope(i)){case t.Scope.Apps:return n.isBingEnabled()?this.getStoreSearch(i,r):null;case t.Scope.Documents:return this.getExplorerSearch(i,r);case t.Scope.Emails:return t.ScopeConfig[t.Scope.Emails].showUpsellOnSuggestionsList()?null:this.getOutlookWebAccessSearch(i,r);case t.Scope.Photos:return n.isBingEnabled()?this.getWebSearch(i,r,"SBI",{content:"&#xEB9F",type:2},13,this._host.getLocString("SearchForWebImages")):null;case t.Scope.Videos:return n.isBingEnabled()?this.getWebSearch(i,r,"SBV",{content:"&#xE714",type:1},14,this._host.getLocString("SearchForWebVideos")):null;default:return null}},i.prototype.getSyntheticSuggestions=function(i,r){var o=i.queryToFetch&&n.isSuggestionTypeEnabled(n.WebDataSource,"SW",0,i)?this.getWebSearch(i,r,"SW",t.getSearchSuggestionIcon(),0,t.getWebSuggestionAnnotation(this._host)):null,s=i.isProtocol&&t.RuntimeConfig.AllowProtocolSyntheticSuggestions?this.getProtocol(i,r):null,f=this.getRecourse(i,r),u,e;return f&&(f.rankingScore=-Number.MAX_VALUE),u=[],this._imageSearchViewModel&&n.isDataSourceEnabled("QSCH",i)&&u.push(this._imageSearchViewModel.getSnipSearchSyntheticSuggestion(i,r)),t.TweakSearch&&(e=t.TweakSearch.getTweakSearchSuggestion(i,r),e&&u.push(e)),{protocol:s,searchTheWeb:o,recourse:f,others:u}},i.prototype.canHaveDuplicates=function(i,r){switch(i){case n.WebDataSource:case n.MRUDataSource:case"OSTMA":case"BAW":case"MSBS":case"MSBC":case"QS":case"PP":case"IBA":case"LRA":case"ST":case"FL":case"LM":case"IFF":case"LDIC":case"CG":case"PT":case"MPP":case"MST":case"MFF":case"ODC":case"MODC":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"EBH":case"SSUE":case"SSUC":return!0;case"PBI":case"SM":case"FEH":case"AFC":case"TOPP":case"QSCH":case"LSQS":return!1;case"SSEE":return r.scope==t.Scope.Documents||r.scope==t.Scope.Emails||t.RuntimeConfig.QfMode==5;case"SSEC":return r.scope==t.Scope.Emails}throw new Error("New data source "+i+" needs to be explicity classified as needed deduping with other data sources or not");},i.prototype.canHaveDuplicatesWithinDataSource=function(i,r){switch(i){case"MPP":case"MST":case n.MRUDataSource:return!0;case"SSEE":case"SSEC":return r.scope==t.Scope.Emails}return t.supportsShortcuts(i,r)},i.prototype.isDuplicate=function(i,u,c){var v,y,l,a,nt,tt,it,rt,g,p,w,ut,ft,k,d;if(this.isMsbDuplicate(u,c)||n.contains([5,4],u.handoffType)&&n.contains([5,4],c.handoffType)&&u.actionUri==c.actionUri&&u.query.toLocaleLowerCase()==c.query.toLocaleLowerCase()||u.handoffType==10&&c.handoffType==10&&u.type==c.type&&!u.htmlContent&&!c.htmlContent&&u.query.toLocaleLowerCase()==c.query.toLocaleLowerCase()||u.type!="PWL"&&u.handoffType==1&&c.handoffType==1&&n.isDuplicateUrl(i,u.url,c.url)||(v=t.getAppItem(u),y=t.getAppItem(c),l=v?v.filePath:u.path,l&&(l=l.toLocaleLowerCase()),a=y?y.filePath:c.path,a&&(a=a.toLocaleLowerCase()),nt=t.getAppPfn(u),tt=t.getAppPfn(c),nt&&tt&&nt.toLocaleLowerCase()==tt.toLocaleLowerCase()))return r.NoMetadata;if(it=t.getCommandLineItem(u),rt=t.getCommandLineItem(c),it&&y||rt&&v){var et=l||a,b=it||rt,ot=b.encodedPath;return et&&ot&&et==ot.toLocaleLowerCase()?(g=v||y,!b.launchArguments||(g.launchArguments||"").toLocaleLowerCase()==b.launchArguments.toLocaleLowerCase()||!g.launchArguments&&b.launchArguments&&g.displayName.toLocaleLowerCase().startsWith(b.displayName.toLocaleLowerCase())?r.NoMetadata:r.NotDuplicate):r.NotDuplicate}if(u.deviceItem&&c.deviceItem){if(p=u.deviceItem.id||"",w=c.deviceItem.id||"",p.toLocaleLowerCase()==w.toLocaleLowerCase())return l&&!v&&a&&!y?r.MergeMetadata:r.NoMetadata;if(v){if(t.isSetting(c.type)&&f[p]==w)return r.NoMetadata}else if(t.isSetting(u.type)&&(y&&f[w]==p||t.isSetting(c.type)&&(e[p]==w||e[w]==p)))return r.NoMetadata}if(this.isIcoShortcutDuplicate(u,c)||this.isIcoShortcutDuplicate(c,u))return r.NoMetadata;if(l&&a){if(l==a)return r.MergeMetadata;if(!v&&!y)if(u.handoffType==c.handoffType){if(u.handoffType==8&&u.url==c.url)return r.MergeMetadata}else{if((l=o(l,u.handoffType!=7),a=o(a,c.handoffType!=7),l==a)||(ut=u.handoffType!=8,ft=c.handoffType!=8,l=s(l,ut,u.url),a=s(a,ft,c.url),l==a))return r.MergeMetadata;if(t.SubstrateTenantName){var st=h(u,l,ut),ht=st[0],at=st[1],ct=h(c,a,ft),lt=ct[0],vt=ct[1];if(at==vt&&(lt.endsWith(ht)||ht.endsWith(lt)))return r.MergeMetadata}}if(k=u.targetPathLC,d=c.targetPathLC,v&&c.type=="IBA"&&(l=t.resolveKnownFolderGUIDsInPath(l)),y&&u.type=="IBA"&&(a=t.resolveKnownFolderGUIDsInPath(a)),(k&&d&&k==d||k&&k==a||d&&l==d||l==a)&&(!v||!y||(v.launchArguments||"").toLocaleLowerCase()==(y.launchArguments||"").toLocaleLowerCase()))return r.NoMetadata}return this.isCortanaSettingDuplicate(u,c)||this.isCortanaSettingDuplicate(c,u)?r.NoMetadata:u.type==="PPL"&&c.type==="PPL"&&u.uniqueName&&c.uniqueName&&u.uniqueName.toLocaleLowerCase()===c.uniqueName.toLocaleLowerCase()?r.NoMetadata:u.type==="OLE"&&c.type==="OLE"&&u.internetMessageId===c.internetMessageId?r.NoMetadata:u.type==="BKS"&&c.type==="BKS"&&u.url&&c.url&&u.url===c.url?r.NoMetadata:r.NotDuplicate},i.prototype.mergeDuplicates=function(i,u,f){var e=this.isDuplicate(i,u,f);return e?(e==r.MergeMetadata&&t.enrichMetadataFromDuplicate(i,u,f,this._host),u.duplicates=u.duplicates||[],n.contains(u.duplicates,f)||(u.duplicates.push(f),u.needsRefreshAfterDeduping=!0),!0):!1},i.prototype.isIcoShortcutDuplicate=function(n,i){return n.targetPathLC&&t.isApp(n.type)&&t.isApp(i.type)&&n.targetPathLC.includes("\\installer\\")&&n.targetPathLC.endsWith(".ico")&&n.text==i.text},i.prototype.isCortanaSettingDuplicate=function(n,t){return n.handoffType==5&&n.actionUri=="ms-cortana://navigate/Settings"&&t.deviceItem&&t.deviceItem.id=="CortanaSettings"},i.prototype.isMsbDuplicate=function(n,t){return n.msbDomain!=null&&n.msbDomain===t.msbDomain&&n.msbId!=null&&n.msbId===t.msbId},i.prototype.rankStartMenu=function(n){n=n.slice();n.sort(function(n,t){return n.text.localeCompare(t.text)});var i=[{type:t.GroupType.StartMenu,source:1}];return{topResults:[],suggestionsToAdd:n,suggestionsToRemove:[],groupOrder:i}},i.prototype.rank=function(i,r,f,e,o,s,h,c){var ti=this,yt,p,tt,ot,bt,rt,ct,d,lt,ut,v,g,dt,ft,at,gt,vt,k,ni;if(t.shouldFetchStartMenu(e))return this.rankStartMenu(r);t.isL2(e)&&(h=!1);p=null;n.isDataSourceEnabled("WRS",e)&&(p=f.WRS);p||(p=f[n.WebDataSource]);var et=p?p.rankingSignals:null,ii=p?p.webTopResultRoutingType:1,nt=f[n.MRUDataSource],pt=null,l=null,wt=null;et&&(et.WebSignalsAvailable=!0,pt=p.engagementSignals,l=p.suppressedGroups,(t.config.groupsToNeverFullySuppress||[]).length>0&&l&&(l.fullySuppressedGroups||[]).length>0&&(tt=[],ot=[],l.fullySuppressedGroups.forEach(function(i){n.contains(t.config.groupsToNeverFullySuppress,i)?tt.push(i):ot.push(i)}),tt.length>0&&(l=a(l),l.fullySuppressedGroups=ot,(yt=l.partiallySuppressedGroups).push.apply(yt,tt))));this._previousKeystrokeCache&&(wt=this._previousKeystrokeCache.getPreviousEventWebSignalsData(e.queryToFetch));var ri=nt?nt.SuggestionEngagementData:null,ui=nt?nt.LookupCompletions:null,fi={cvid:this._host.getConversationId(),privacyNumber:this._host.getPrivacyNumber()},y=this.getSyntheticSuggestions(e,s);r=r.slice();l&&(l.fullySuppressedGroups&&l.fullySuppressedGroups.length>0&&(r=r.filter(function(t){return!n.contains(l.fullySuppressedGroups,String(ti.getGroupTypeForSuppressions(t)))})),t.config.honorSuppressedSuggestions&&l.suppressedSuggestions&&l.suppressedSuggestions.length>0&&(r=r.filter(function(i){return!n.contains(l.suppressedSuggestions,t.getSuggestionKey(i))})));t.config.suppressFileFolders&&e.queryToFetch.length<t.config.maxPrefixLengthForSupp&&e.scope==t.Scope.All&&(bt=[t.GroupType.Documents,t.GroupType.Folders],r=r.filter(function(i){return!n.contains(bt,t.getGroupType(i))}));i.length==0&&(y.others.length>0&&r.unshift.apply(r,y.others),y.protocol&&r.unshift(y.protocol));var st=o.length==1&&o[0].childSuggestions&&o[0].childSuggestions.some(function(n){return n.displayed}),kt=this.getSuggestionsToRank(st,i,r,y,s),it=this._ranker.rank(e,kt,et,ri,ui,pt,fi,wt,c,y);this._previousKeystrokeCache&&!h&&this._previousKeystrokeCache.updateSpellerTriggerData(e.queryToFetch,kt);i.length==0&&y.recourse&&r.push(y.recourse);var w=this.determineTopResults(o,r,it,y,e,s,st),ht=i.filter(function(t){return!n.contains(o,t)}),b=this.determineSuggestionsToAddToGroups(ht,r,o,w,y,e,st,h);if(!t.RuntimeConfig.FlatListWithoutGroups&&it.mruSuppressions&&it.mruSuppressions.backPropDataExists)this.applyMRUSuppressions(it,o,w,b,e);else if(l&&l.partiallySuppressedGroups&&this.canPartiallySuppressGroups(w,b))for(rt=0,ct=b;rt<ct.length;rt++)d=ct[rt],u(d,e)||(lt=this.getGroupTypeForSuppressions(d),this.canBePartiallySuppressed(d,lt)&&n.contains(l.partiallySuppressedGroups,String(lt))&&(n.contains(o,d)||(d.suppressed=!0)));if(ut=[],this.removeProtocolIfDuplicate(e,y,w,ht,b,ut),this.setUseRafFlag(w,b,e,ii),v=this.getGroupOrder(e,b,ht),e.staticGroupOrder){for(g=[],dt=function(n){var t=v.findIndex(function(t){return t.type==n});t>=0&&(g.push(v[t]),v.splice(t,1))},ft=0,at=e.staticGroupOrder;ft<at.length;ft++)gt=at[ft],dt(gt);g.length>0&&(g.push.apply(g,v),v=g)}else e.forceGroupOnTop&&(vt=e.forceGroupOnTop,k=v.findIndex(function(n){return t.sameGroup(n,vt)}),k>=0&&(v.splice(k,1),v.unshift(vt)),k=v.findIndex(function(n){return t.isTopHitChildGroup(n)}),k>=0&&(ni=v[k],v.splice(k,1),v.unshift(ni)));if(t.RuntimeConfig.FlatListWithoutGroups&&(w=w.concat(b.filter(function(n){return!n.suppressed})),b=[],n.trimList(w,t.RuntimeConfig.MaxSuggestionsWhenFlatList,function(t){return!n.contains(i,t)&&!t.notAResult}),ut.length!=0))throw new Error("Can't remove suggestions from groups when there are no groups");return{topResults:w,suggestionsToAdd:b,suggestionsToRemove:ut,groupOrder:v}},i.prototype.applyMRUSuppressions=function(i,r,f,e,o){var c,l,a,h,s;if(this.canPartiallySuppressGroups(f,e))for(c={},l=0,a=e;l<a.length;l++)if(h=a[l],!u(h,o)&&(s=t.getGroupType(h),this.canBePartiallySuppressed(h,s))){if(!c[s]){var v=i.mruSuppressions.maxGroupCCR?i.mruSuppressions.maxGroupCCR[s]||0:0,y=i.mruSuppressions.maxGroupProbSugClickGivenPref?i.mruSuppressions.maxGroupProbSugClickGivenPref[s]||0:0,p=i.mruSuppressions.mruGroupRatios?i.mruSuppressions.mruGroupRatios[s]||0:0,w=i.mruSuppressions.mruGroupBackpropRatios?i.mruSuppressions.mruGroupBackpropRatios[s]||0:0,b=i.mruSuppressions.mruGroupBackpropWeights?i.mruSuppressions.mruGroupBackpropWeights[s]||0:0,k=t.config.wtMaxGroupCCR*v+t.config.wtMaxGroupProbSugClickGivenPref*y+t.config.wtMruGroupRatio*p+t.config.wtMruGroupBackpropRatio*w+t.config.wtMruGroupBackpropWeight*b+t.config.wtLRBias,d=1/(1+Math.exp(-k));c[s]=n.trimFeatureStoreValue(d)}h.mruSuppressionScore=c[s];h.mruSuppressionScore<t.config.lRModelCutOff&&(n.contains(r,h)||(h.suppressed=!0))}},i.prototype.allowedInGroups=function(n){return n.isAnswer?n.allowedInGroups:!0},i.prototype.getGroupTypeForSuppressions=function(n){var i=t.getGroupType(n);return i==t.GroupType.LocalPlaces?t.GroupType.SearchSuggestions:i},i.prototype.canBePartiallySuppressed=function(n,i){return t.getScope(i)!=t.Scope.All},i.prototype.canPartiallySuppressGroups=function(n,i){return t.RuntimeConfig.ScopesAvailable?n.every(function(n){return t.getGroupType(n)==t.GroupType.SearchSuggestions})&&i.every(function(n){return t.getGroupType(n)==t.GroupType.SearchSuggestions})?!1:!0:!1},i.prototype.isProtocolDuplicate=function(t,i,r){return t==r?!1:t.type=="MD"?!0:t.handoffType==1&&n.isDuplicateUrl(i,t.url,r.url)},i.prototype.removeProtocolIfDuplicate=function(t,i,r,u,f,e){var h=this,o,s;i.protocol&&(o=function(n){return!n.suppressed&&h.isProtocolDuplicate(n,t,i.protocol)},(r.some(o)||u.some(o)||f.some(o))&&(n.tryRemove(r,i.protocol)?r.length||(s=n.removeFirstWhere(u,o)||n.removeFirstWhere(f,o),r.push(s)):n.tryRemove(f,i.protocol)||n.contains(u,i.protocol)&&e.push(i.protocol),i.protocol=null))},i.prototype.getSuggestionsToRank=function(i,r,u,f){i&&(r=r.filter(function(n){return!t.isChildSuggestion(n)}));f.recourse&&(r=r.filter(function(n){return n!=f.recourse}));var e=r.concat(u);return f.searchTheWeb&&!n.contains(r,f.searchTheWeb)&&e.push(f.searchTheWeb),e},i.prototype.determineTopResults=function(i,r,f,e,o,s,h){var et=this,l,d,p,w,b,it,g,nt,y,k,ut,tt,a,ft;if(h||!o.queryToFetch||t.config.stickyTopResultsV2&&i.length>1&&!t.isL2(o))return i;if(l=t.config.forceVoiceFlowOnTopHit?[]:f.topResults,d=this._previewPane?this._previewPane.getPreviewedSuggestionToForceTopHit():null,d&&this._ranker.allowInTopHit(o,d)&&(p=function(n){return t.isEquivalentForPreviewPanePurposes(o,d,n)},w=l.findIndex(p),w!=0&&(b=void 0,w>0?(b=l[w],l.splice(w,1)):b=i.find(p)||r.find(p)||(e.searchTheWeb?[e.searchTheWeb]:[]).find(p),b&&l.unshift(b))),e.protocol&&e.searchTheWeb&&this._ranker.allowInTopHit(o,e.protocol)&&n.tryRemove(l,e.searchTheWeb),e.searchTheWeb&&(it=l.indexOf(e.searchTheWeb),it>=0&&l.some(function(n){return n!=e.searchTheWeb&&u(n,o)})&&l.splice(it,1)),l.length==0&&(t.config.stickyTopResultsV2&&i.length>0?l.push.apply(l,i):e.protocol&&this._ranker.allowInTopHit(o,e.protocol)?l.push(e.protocol):e.searchTheWeb&&this._ranker.allowInTopHit(o,e.searchTheWeb)?l.push(e.searchTheWeb):e.recourse&&this._ranker.allowInTopHit(o,e.recourse)&&l.push(e.recourse)),g=t.getEffectiveScope(o)==t.Scope.Emails?t.config.maxNumberOfEmailsInTopResult:Math.max(t.config.maxNumberOfTopResults,c(l)?2:0,i.length),t.config.bypassFallbackOnMSBTopHit==4&&l.length>0&&(l[0].type=="PPL"||l[0].type=="BKS")&&(g=2),l.length>g&&(l=l.slice(0,g)),t.config.synthWebNoBestMatch&&l.length==1){var rt=[t.GroupType.SearchSuggestions,t.GroupType.Websites],ot=r.filter(function(i){return!n.contains(rt,t.getGroupType(i))}),st=l.filter(function(i){return!n.contains(rt,t.getGroupType(i))});ot.length==0&&st.length==0&&(l=[])}for(nt=i.length-1;nt>=0;--nt)y=i[nt],n.contains(l,y)||(y.useRaf&&(y.useRaf=!1),y!=e.searchTheWeb&&r.unshift(y));return l.length==1&&n.safeExecute(function(){return et.applyAppOverride(l,r)},"applyDeviceInfoOverride"),l.forEach(function(n){return n.suppressed=!1}),k=t.isL2(o),t.config.stickyTopResultsV2&&l.length==1&&i.length==1&&!k&&(ut=l[0],tt=i[0],ut==tt||v(tt)||l.unshift(tt)),t.config.stickyConversation&&l.length==1&&this._previousKeystrokeCache&&(a=this._previousKeystrokeCache.getPreviousTopHit(),ft=a?a.ciMatchedQuery||a.query.toLocaleLowerCase():"",a&&!k&&o.queryToFetch.length>t.config.stickyConversationMinPrefixLength&&(a.type=="PP"||a.type=="ST")&&ft.startsWith(o.queryToFetch.toLocaleLowerCase())&&!(a.query.toLocaleLowerCase()==l[0].query.toLocaleLowerCase()&&a.type==l[0].type)&&this._previousKeystrokeCache.getPreviousQuery().length<o.queryToFetch.length&&(a.sequenceNumber=s,a.instItem=n.InstrumentedItem.createInstrumentedItem(s,a.type),l[0]=a),this._previousKeystrokeCache.setPreviousTopHit(k?null:l[0]),this._previousKeystrokeCache.setPreviousQuery(o.queryToFetch.toLocaleLowerCase())),t.config.enableCISpeller&&l.length==1&&this._previousKeystrokeCache&&(l[0].type=="PP"||l[0].type=="ST")&&this._previousKeystrokeCache.setPreviousTopHit(k?null:l[0]),l},i.prototype.applyAppOverride=function(n,t){var r=["Microsoft.Office.WINWORD.EXE","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows NT\\Accessories\\wordpad.exe"],u=n[0].deviceItem?n[0].deviceItem.id:null,i;u&&u.startsWith(r[1])&&(i=t.findIndex(function(n){return n.deviceItem&&n.deviceItem.id&&n.deviceItem.id.startsWith(r[0])}),i>=0&&n.splice(0,1,t[i]))},i.prototype.setUseRafFlag=function(n,i,r,u){var e,s,o,h,f;if(t.isCortanaEnabledCache)if(u==2||t.config.forceVoiceFlowOnTopHit)for(e=0,s=n;e<s.length;e++)f=s[e],f.handoffType!=0||f.isAnswer||(f.useRaf=!0);else for(o=0,h=n;o<h.length;o++)f=h[o],f.handoffType==0&&!f.isAnswer&&this._host.matchesVcd(f.query)&&(f.useRaf=!0)},i.prototype.determineSuggestionsToAddToGroups=function(i,r,f,e,o,s,h,c){var k=this,l=r.filter(function(t){return!n.contains(e,t)}),w=[],a,v,y,p,b;for(t.RuntimeConfig.FlatListWithoutGroups||l.forEach(function(n,i){k.allowedInGroups(n)||(t.getScope(t.getGroupType(n))==t.Scope.All?w.push(i):n.suppressed=!0)}),a=w.length-1;a>=0;--a)l.splice(a,1);return o.searchTheWeb&&(v=e.indexOf(o.searchTheWeb),v!=-1&&(y=n.removeFirstWhere(l,function(n){return u(n,s)}),y&&(e[v]=y))),p=l.filter(function(i){return n.contains([t.GroupType.SearchSuggestions,t.GroupType.Websites,t.GroupType.LocalPlaces],t.getGroupType(i))}),b=l.filter(t.enforceOriginalOrder),!h&&this.canRenderChildSuggestions(e,c,s)&&this.addChildSuggestions(e[0],l),s.queryToFetch&&l.sort(function(n,t){return t.rankingScore-n.rankingScore}),this.insertDefaultSearchTheWeb(s,o,e,i,l,p),l=this.insertSuggestionsToRightPlace(l,b),this.insertSuggestionsToRightPlace(l,p)},i.prototype.insertDefaultSearchTheWeb=function(n,i,r,f,e,o){var s,h;i.searchTheWeb&&(n.scope==t.Scope.Web||n.scope==t.Scope.All)&&(s=o.findIndex(function(t){return u(t,n)}),f.some(function(t){return u(t,n)})||r.some(function(t){return u(t,n)})?s!=-1&&(h=o[s],o.splice(s,1),e.splice(e.indexOf(h),1)):s==-1&&(o.unshift(i.searchTheWeb),e.unshift(i.searchTheWeb)))},i.prototype.getGroupOrder=function(n,i,r){var f,o,a,u,w,b,h,v,k,d,c,y,s;switch(n.scope){case t.Scope.Web:if(!n.queryToFetch)return[{type:t.GroupType.EdgeHistory},{type:t.GroupType.Websites},{type:t.GroupType.SearchSuggestions}];break;case t.Scope.Apps:return[{type:t.GroupType.Apps},{type:t.GroupType.Store}];case t.Scope.Photos:return[{type:t.GroupType.Photos},{type:t.GroupType.SearchSuggestions}];case t.Scope.Videos:return[{type:t.GroupType.Videos},{type:t.GroupType.SearchSuggestions}];case t.Scope.PeopleEmail:return[{type:t.GroupType.People},{type:t.GroupType.Emails}]}f=r.concat(i);f.sort(function(n,t){return t.rankingScore-n.rankingScore});var p=[],l=[],e=[],g=function(n){if(n.suppressed)l.push(n);else if(p.push(n),t.config.enableStaticGroupRanking){var r=t.getGroupType(n),i={type:r,source:n.sourceForGroup};e.some(function(n){return t.sameGroup(n,i)})||e.push(i)}};for(o=0,a=f;o<a.length;o++)s=a[o],g(s);if(l.length!=0&&(f=p.concat(l)),u=[],t.config.enableStaticGroupRanking&&f.length>0&&t.getGroupType(f[0])!=t.GroupType.SearchSuggestions){for(w=[{type:t.GroupType.Apps},{type:t.GroupType.Settings},{type:t.GroupType.Documents,source:1}],b=function(n){e.some(function(i){return t.sameGroup(i,n)})&&u.push(n)},h=0,v=w;h<v.length;h++)k=v[h],b(k);t.RuntimeConfig.QfMode!=8&&e.some(function(n){return t.sameGroup(n,{type:t.GroupType.SearchSuggestions})})&&u.push({type:t.GroupType.SearchSuggestions})}for(d=function(n){var r=t.getGroupType(n),i={type:r,source:n.sourceForGroup};u.some(function(n){return t.sameGroup(n,i)})||(t.RuntimeConfig.QfMode==8&&i.type==t.GroupType.SearchSuggestions?u.unshift(i):t.config.enableStaticGroupRanking&&t.isTopHitChildGroup(i)?u.unshift(i):u.push(i))},c=0,y=f;c<y.length;c++)s=y[c],d(s);return u},i.prototype.addChildSuggestions=function(i,r){i.calculateChildSuggestions&&i.calculateChildSuggestions();i.childSuggestions&&i.childSuggestions.length>0&&Object.keys(t.config.topHitChildGroups).forEach(function(u,f){var e=parseInt(u),o=n.contains(t.config.suppressedTopHitChildGroups,e)?0:t.config.topHitChildGroups[u],s;o>0&&(s=i.childSuggestions.filter(function(n){return n.groupType==e}).slice(0,o),s.forEach(function(n,t){n.rankingScore=1e4-100*f-t;r.push(n)}))})},i.prototype.canRenderChildSuggestions=function(n,i){var r,u;return t.RuntimeConfig.FlatListWithoutGroups?!1:n.length!=1?!1:(r=n[0],t.RuntimeConfig.AlwaysWide&&r.previewPaneType!=1)?!1:i?this._renderedTopResults.topResults.length==1?(u=this._renderedTopResults.topResults[0],u.hasChildSuggestionsDisplayed&&u.query==r.query&&t.getGroupType(u)==t.getGroupType(r)):!1:!0},i.prototype.insertSuggestionsToRightPlace=function(t,i){var r,e,u,f;if(i.length==0)return t;for(r=[],e=i[0],u=0;u<t.length;u++)f=t[u],f==e?r=r.concat(i):n.contains(i,f)||r.push(f);return r},i}();i.Aggregator=l})(i=t.Ranking||(t.Ranking={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(n,t,i,r){var u=this;this._instrumentationHelper=t;this._sequenceNumberReader=i;this._page=r;this._itemLaunchEventHandlers=[];this.groups=[];this.topResults=[];this._lastUpdatedSequenceNumber=-1;this._topResultsRenderingDisabled=!1;this._groupRenderingDisabled=!1;n.bindShown(function(){u._selectedItem=null})}return t.prototype.onDismiss=function(){this.topResults=[];this.renderTopResults();this.groups=[];this.renderGroups();this._partialQuery=null;this._lastUpdatedSequenceNumber=-1},t.prototype.bindItemLaunch=function(n){this._itemLaunchEventHandlers.push(n)},t.prototype.onSuggestionLaunch=function(n,t,i){this._itemLaunchEventHandlers.forEach(function(r){return r(n,t,i)})},t.prototype.onQueryChanged=function(n){this._partialQuery=n},t.prototype.getCurrentTopResults=function(){return this.topResults.slice(0)},t.prototype.getTopResultsWhichFitInCanvas=function(n){return n},t.prototype.resetAriaSelected=function(n){n&&this._page.render(function(){var t=_ge(n.id);t&&(t.setAttribute("aria-selected","false"),t.setAttribute("aria-selected","true"))})},t.prototype.updateTopResults=function(t,i,r,u,f,e){var s=this,a,o,h,y;t!=(u!=this._lastUpdatedSequenceNumber)&&SharedLogHelper.LogError("updateTopResult",t+" != (sequenceNumber "+u+" != lastUpdateSequenceNumber "+this._lastUpdatedSequenceNumber+")",new Error("Precondition failed"));this._lastUpdatedSequenceNumber=u;t&&(this.groups=[],this.onGroupsCleared());a=this._selectedItem;o=this.topResults;i=this.getTopResultsWhichFitInCanvas(i);h=!n.sequenceEqual(i,o)||o.some(function(n){return n.needsRefreshAfterDeduping});h&&(this.topResults=i.slice(0));var c=!1,l=h?i.length:0,v=function(){c&&l==0&&(n.config.enableLocalInstrumentation&&s._instrumentationHelper.instrumentRenderedLocalSuggestion(u,i),s._instrumentationHelper.instrumentTopResultRendered(u,i.map(function(n){return n.type})),c=!1)};return h?(this.renderTopResultsAfter(function(){for(var i,t=0,h=s.topResults;t<h.length;t++)i=h[t],i.needsRefreshAfterDeduping=!1,n.contains(o,i)?l-=1:s.setupIcon(u,i,!0,function(){l-=1;v()});s.onBeforeRenderTopResults(o,f,r,e)}),c=!0):(y=this.onBeforeRenderTopResults(o,f,r,e),y==0&&(this.renderTopResults(),c=!0)),this._selectedItem&&(a!=this._selectedItem||t)&&n.contains(this.topResults,this._selectedItem)&&this.resetAriaSelected(this._selectedItem),[h,v]},t.prototype.setupIcon=function(n,t,i,r){r()},t.prototype.renderGroups=function(){this._groupRenderingDisabled||(this._page.updateGroupsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups}),this._instrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderGroupsAfter=function(n){var t=this._groupRenderingDisabled;this._groupRenderingDisabled=!0;try{n()}finally{this._groupRenderingDisabled=t;this.renderGroups()}},t.prototype.renderTopResults=function(){this._topResultsRenderingDisabled||(this._page.updateTopResultsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups}),this._instrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderTopResultsAfter=function(n){var u=this._topResultsRenderingDisabled,t,i,r;this._topResultsRenderingDisabled=!0;try{n()}finally{for(this._topResultsRenderingDisabled=u,this.renderTopResults(),t=0,i=this.topResults;t<i.length;t++)r=i[t],r.executeScript&&r.executeScript()}},t}();n.BaseRootViewModel=t}(AutoSuggest||(AutoSuggest={})),function(n){function r(t,i){t(n.getCurrentTime(),n.getInputType(i),i)}var t="aria-selected",i;n.invokeClickHandler=r;i=function(){function i(i){var r=this,u;this._host=i;this._renderingInProgress=!1;this._narratorLaunchHandlers=[];this._viewData={};this._targetElemCache={};u=new MutationObserver(function(n){var i,o,u,f,s,e;if(!r._renderingInProgress){for(i=[],u=0,f=n;u<f.length;u++)s=f[u],e=s.target,o=e.id,i.push(e.getAttribute(t)=="true"?1:0);(i.length==1&&i[0]==0||i.length==2&&i[0]^i[1])&&r._narratorLaunchHandlers.forEach(function(n){return n(o)})}});u.observe(document,{subtree:!0,attributes:!0,attributeFilter:[t]});n.View.getLocString=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i.getLocString.apply(i,[n].concat(r))};this.addViewData("TestHooksEnabled",n.config.th)}return i.prototype.adjustHeightAsync=function(){var t=this;n.safeSetTimeout(function(){return t._host.adjustHeight()},0,"adjustHeightAsync")},i.prototype.bindOnNarratorLaunch=function(n){this._narratorLaunchHandlers.push(n)},i.prototype.render=function(t){var i=this;this._renderingTimer&&sb_ct(this._renderingTimer);this._renderingInProgress=!0;try{n.View.ViewData=this.getViewData();t()}finally{this._renderingTimer=n.safeSetTimeout(function(){i._renderingTimer=null;i._renderingInProgress=!1},0,"BasePage render")}},i.prototype.renderReactView=function(n,t,i){var f=this,r=this._targetElemCache[n],u;r||(this._targetElemCache[n]=r=_ge(n));u=i;u.adjustHeight||(u.adjustHeight=function(){return f.adjustHeightAsync()});this.render(function(){return _w.ReactDOM.render(React.createElement(t,i),r)},n)},i.prototype.addViewData=function(n,t){this._viewData[n]=t},i.prototype.getViewData=function(){return this._viewData},i}();n.BasePage=i}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){function r(n,t){var i=parseInt(n.substr(1),16),r=i>>16&255,u=i>>8&255,f=i&255;return"rgba("+r+","+u+","+f+","+t+")"}function s(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)-t),u=Math.max(0,(i>>8&255)-t),f=Math.max(0,(i&255)-t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}function u(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)*t),u=Math.max(0,(i>>8&255)*t),f=Math.max(0,(i&255)*t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}var e="slideInMessage",o="indexingMessage",i,f;t.SinglePaneWidth=344;t.PreviewPaneWidth=440;t.DebugWindowWidth=800;f=function(f){function h(r){var u=f.call(this,r)||this,e;return u.host=r,u._root=_ge("root"),u._windowsTemporaryMessageShown=!1,u._windowsIndexingMessageShown=!1,u._progressBarVisible=!1,u._previewPaneVisible=!1,u._debugWindowVisible=!1,u._suggestionsContainerHeight=0,u._immersiveSearchHeightExpandedInThisConversation=!1,i=SearchAppWrapper.CortanaApp,u._windowsTemporaryMessageWrapper=_ge("temporaryMessageWrapper"),u._windowsIndexingMessageWrapper=_ge("temporaryMessageWrapper"),u._qfContainer=_ge("qfContainer"),u._previewContainer=_ge("previewContainer"),r.bindAppVisible(function(){var e=i.width,f=i.height;e&&f?u.setDimensions(e,f):ThresholdUtilities.getCortanaHeaders(function(n){if(n){var t=n["X-BM-DeviceDimensionsLogical"].split("x"),i=t[0],r=t[1];u.setDimensions(parseInt(i),r)}});t.RuntimeConfig.PreviewPaneAvailable&&(u.initPreviewPane(),t.setVisibility(u._previewPane,t.RuntimeConfig.AlwaysWide),!t.RuntimeConfig.AlwaysWide&&r.hasFallbackHappened()&&i.resetToDefaultSize());u.initDebugWindow();u.setConditionalCss("panelCanResize",t.RuntimeConfig.PanelCanResize);u.setConditionalCss("flatListWithoutGroups",t.RuntimeConfig.FlatListWithoutGroups);u.setConditionalCss("searchBoxOnTop",t.RuntimeConfig.SearchBoxOnTop);u.setConditionalCss("wideByDefault",t.RuntimeConfig.AlwaysWide||t.RuntimeConfig.QfMode==2);u.setConditionalCss("centerScreen",t.RuntimeConfig.QfMode==2);u.setConditionalCss("noPPOpenedArrow",t.config.noPPOpenedArrow);u.setConditionalCss("whitePreview",t.config.whitePreview);u.setConditionalCss("searchHomeQuickAnswer",t.config.quickAnswer&&t.RuntimeConfig.PreviewPaneAvailable);u.setConditionalCss("searchHomeQuickAnswerSmallHeight",t.config.quickAnswer&&t.RuntimeConfig.PreviewPaneAvailable&&f<640);u.setConditionalCss("webDisabled",!n.isMiniSerpEnabled());u.setConditionalCss("enableSnipSearchSmallButton",t.config.EnableSnipSearchSmallButton);u.setQueryBasedCss(null)}),r.bindShown(function(){if(t.config.isThemeAware&&i.theme){var n=i.theme.startsWith("000000");u.setThemeBasedCss(n)}u.setConditionalCss("snipSearch",i.entryPoint=="WNSSBS"&&t.config.enableSnipSearchV2);t.setVisibility(u._root,!0)}),r.bindAppHidden(function(){u._openPreviewPaneButtonCache=undefined;u.markWebViewExpandedState(!1);t.setVisibility(u._previewPane,!1)}),e=function(){t.RuntimeConfig.AlwaysWide||(u._previewPaneVisible=!1,t.setVisibility(u._previewPane,!1));u.setDebugWindowVisibility(!1)},r.bindQueryChangedOrInitialized(function(n){n.fullPartialQuery&&u.ensureWebViewHeightExpanded();t.RuntimeConfig.QfMode==5&&u.updateFENarratorSuggestionCount(null)}),r.bindSearchBoxClick(function(){return u.ensureWebViewHeightExpanded()}),r.bindKeyDown(function(n){n==40&&u.ensureWebViewHeightExpanded()}),r.bindDismissed(function(){u.resetSuggestionsContainerHeight();e()}),r.bindAccentColorAndThemeRefreshed(function(n,t){u.applyAccentColor();u.setThemeBasedCss(t)}),t.config.alwaysWideBeforeRS5&&i.addEventListener("openanimationcompleted",function(){u.ensureWebViewWidthExpanded()}),i.addEventListener("resettingtodefaultsize",function(){e()}),sj_be(sj_b,"contextmenu",function(n){for(var t=n.target;t;){if(t.classList.contains("allowcontextmenu"))break;t=t.parentElement}t||sj_pd(n)}),u}return __extends(h,f),h.prototype.setConditionalCss=function(n,t){t?this._root.classList.add(n):this._root.classList.remove(n)},h.prototype.setQueryBasedCss=function(n){var i=t.shouldFetchStartMenu(n);this.setConditionalCss("fileExplorer",t.RuntimeConfig.QfMode==5);this.setConditionalCss("startMenu",i);this.setConditionalCss("noScopes",!t.RuntimeConfig.ScopesAvailable||i);this.setConditionalCss("settingsApp",t.RuntimeConfig.QfMode==7);this.setConditionalCss("santorini",t.RuntimeConfig.QfMode==8);this.setConditionalCss("lockscreen",t.RuntimeConfig.QfMode==6);this.setConditionalCss("darkBackground",i);t.RuntimeConfig.QfMode!=8&&this.setConditionalCss("zeroInput19H1",n?n.isSearchHomeZI:t.RuntimeConfig.SearchHomeAvailable==1)},h.prototype.setThemeBasedCss=function(n){t.config.isThemeAware?(t.RuntimeConfig.QfMode==7&&(n=n&&i.appsUseLightTheme===!1),t.RuntimeConfig.QfMode==5&&i.fileExplorerSuggestionPage&&(n=i.fileExplorerSuggestionPage.useDarkTheme),this.setConditionalCss("darkTheme19H1",n),this.setConditionalCss("lightTheme19H1",!n)):t.config.searchHomeSupported&&(this.setConditionalCss("lightTheme19H1",!0),this.setConditionalCss("lightThemeRS5",!0))},h.prototype.initPreviewPane=function(){var n=i.textScaleFactor||1,f=t.PreviewPaneWidth/n,r,u;this._previewPane||(this._previewPane=_ge("qfPreviewPane"),this._previewPane.classList.remove("transitionOn"));t.RuntimeConfig.QfMode==2?(r=470,u=r/n,this._previewPane.style.minWidth=u+"px"):this._previewPane.style.minWidth=f+"px"},h.prototype.initDebugWindow=function(){this._debugWindow||(this._debugWindow=_ge("qfDebugPane"),this._debugWindow&&(this._debugWindow.style.flexBasis=t.DebugWindowWidth+"px"))},h.prototype.setDimensions=function(n,i){if(t.isMobileCache&&i&&(this._root.style.height=i+"px"),!this._previewPaneVisible&&!this._debugWindowVisible){this.onPaneWidthSet(n);this._originalPaneWidth=n}},h.prototype.ensureWebViewWidthExpanded=function(){var n=t.SinglePaneWidth+t.PreviewPaneWidth;t.RuntimeConfig.QfMode==1&&i.width<n&&(i.setPaneWidth(n),this.setDimensions(n,null))},h.prototype.ensureWebViewHeightExpanded=function(){if(t.RuntimeConfig.QfMode==2&&!this._immersiveSearchHeightExpandedInThisConversation){var n=i.height;i.setCenterScreenAcrylicBackgroundHeight(n+12);i.setWebViewHeight(n);this.markWebViewExpandedState(!0)}},h.prototype.markWebViewExpandedState=function(n){this._immersiveSearchHeightExpandedInThisConversation=n;this.setConditionalCss("webViewExpanded",n)},h.prototype.getScrollTop=function(){return this._qfContainer.scrollTop},h.prototype.scrollToTop=function(){this._qfContainer.scrollTop=0;_d.body.scrollTop=0},h.prototype.scrollTo=function(n){var r=_ge(n.id),i;this.scrollToElement(r,this._qfContainer,this._qfContainer.offsetHeight);i=window.innerHeight;t.isMobileCache&&_d.body.scrollHeight>i&&this.scrollToElement(r,_d.body,i)},h.prototype.scrollToElement=function(n,t,i){var u=t.scrollTop,r=n.offsetTop-t.offsetTop,f=r+n.offsetHeight;f>u+i?t.scrollTop=f-i:r<u&&(t.scrollTop=r)},h.prototype.getSuggestionsContainerHeight=function(){return t.RuntimeConfig.QfMode==2&&!this._immersiveSearchHeightExpandedInThisConversation?i.height:(this._suggestionsContainerHeight||this.calculateSuggestionsContainerHeight(),this._suggestionsContainerHeight)},h.prototype.getSuggestionsContainerWidth=function(){return i.width},h.prototype.resetSuggestionsContainerHeight=function(){this._suggestionsContainerHeight=0},h.prototype.calculateSuggestionsContainerHeight=function(){var n=_ge("root").clientHeight,t;n<440&&(n=440);t=_ge("temporaryMessage");n-=t.offsetHeight;this._suggestionsContainerHeight=n},h.prototype.getPanelWidthFor=function(n){var i=this._originalPaneWidth;return i+=n&1?t.PreviewPaneWidth:0,i+(n&2?t.DebugWindowWidth:0)},h.prototype.getPanelState=function(){switch(i.width-this._originalPaneWidth){case 0:return 0;case t.PreviewPaneWidth:return 1;case t.DebugWindowWidth:return 2;case t.PreviewPaneWidth+t.DebugWindowWidth:return 3;default:return 0}},h.prototype.openSidePanel=function(n){var t=this.getPanelState(),u,r;if(t==0&&this.setDimensions(i.width,null),!(t&n)){u=t|n;r=this.getPanelWidthFor(u);i.setPaneWidth(r);this.onPaneWidthSet(r)}},h.prototype.closeSidePanel=function(n){var u=this.getPanelState(),f,r;if(u&n){f=u&~n;r=this.getPanelWidthFor(f);r!=this._originalPaneWidth||t.config.alwaysWideBeforeRS5?i.setPaneWidth(r):i.resetToDefaultSize();this.onPaneWidthSet(r)}},h.prototype.onPaneWidthSet=function(t){n.safeFireEvent("CortanaPaneWidthSet",t)},h.prototype.getOpenPreviewPaneButton=function(){if(!t.RuntimeConfig.PreviewPaneAvailable)return null;if(!this._openPreviewPaneButtonCache){var n=t.isRtl(),i=n?"&#xE96F":"&#xE970";t.config.chevronMed&&(i=n?"&#xE973":"&#xE974");this._openPreviewPaneButtonCache={defaultIcon:{content:i,type:2},openedIcon:{content:n?"&#xE72B":"&#xE72A",type:2},clickHandler:this._openPreviewPaneClickHandler}}return this._openPreviewPaneButtonCache},h.prototype.setContextMenuHandler=function(n){this._contextMenuHandler=n},h.prototype.setSuggestionClickHandler=function(n){this._suggestionClickHandler=n},h.prototype.setOpenPreviewPaneClickHandler=function(n){this._openPreviewPaneClickHandler=n},h.prototype.setExpanderClickInstrumentation=function(n){this._expanderClickInstrumentation=n},h.prototype.updateGroupsView=function(i){if(t.config.th&&ClientTestHooks.isTesthookParamSet("forceRenderingCrashOnSecondConversation")&&this._host.getPaneCloseCount())throw new Error("Simulated exception");this.setQueryBasedCss(i.query);this.setConditionalCss("noSuggestions",i.topResults.length==0&&i.groups.length==0);var r=i.query&&i.query.isSearchHomeZI,u=r?null:" - "+t.getWebSuggestionAnnotation(this._host),f=t.shouldFetchStartMenu(i.query)&&i.groups.some(function(n){return n.typeWithSource.type==t.GroupType.StartMenu})?n.View.StartMenuGroups:n.View.WindowsGroups;this.renderReactView("groups",f,{groups:i.groups,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton(),webSuggestionAnnotation:u})},h.prototype.updateFENarratorSuggestionCount=function(i){var r="";t.RuntimeConfig.QfMode==5&&i&&(r=this.host.getLocString("SuggestionCountNarrator",""+i));this.renderReactView("narratorMessageContainer",n.View.FileExplorerNarratorAnnouncement,{message:r})},h.prototype.updateTopResultsView=function(i){if(this.setQueryBasedCss(i.query),this.setConditionalCss("noSuggestions",i.topResults.length==0&&i.groups.length==0),t.RuntimeConfig.QfMode==5){var r=i.topResults.length;this.updateFENarratorSuggestionCount(r>0?r:null)}this.renderReactView("topResults",n.View.WindowsTopResults,{suggestions:i.topResults,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton()})},h.prototype.showTemporaryMessage=function(i){var r=this,u;this._windowsTemporaryMessageShown?(this.hideTemporaryMessage(),n.safeSetTimeout(function(){return r.showTemporaryMessage(i)},100,"showTemporaryMessage")):(u={messageText:i,clickHandler:function(){r.hideTemporaryMessage();r._host.setFocusInSearchBox(null,"temporaryMessage")}},this.updateTemporaryMessageView(u),this._windowsTemporaryMessageShown=!0,t.setVisibility(this._windowsTemporaryMessageWrapper,!0))},h.prototype.hideTemporaryMessage=function(){this._windowsTemporaryMessageShown&&(this.updateTemporaryMessageView(null),this._windowsTemporaryMessageShown=!1,t.setVisibility(this._windowsTemporaryMessageWrapper,!1))},h.prototype.updateTemporaryMessageView=function(t){this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:t,icon:{content:"&#xE946",type:2},messageClassName:e})},h.prototype.updateIndexingMessageView=function(i){var r=!!i;this._windowsIndexingMessageShown!=r&&(this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:i,icon:i&&i.messageText==this._host.getLocString("WindowsIndexingInProgressMessage")?{content:"&#xE895",type:2}:null,messageClassName:o}),this._windowsIndexingMessageShown=r,t.setVisibility(this._windowsIndexingMessageWrapper,r),this.resetSuggestionsContainerHeight())},h.prototype.updateDialogBox=function(t){t.isVisible?this._host.setFocusInWebView("updateDialogBox"):this._host.setFocusInSearchBox(null,"updateDialogBox: hidden");this.renderReactView("dialogBox",n.View.WindowsDialogBox,{dataModel:t})},h.prototype.updateTopHitHeaderView=function(t){this.renderReactView("topHitHeader",n.View.TopHitHeader,{dataModel:t})},h.prototype.updateScopesHeaderView=function(t){this.renderReactView("scopesHeader",n.View.ScopesHeader,{dataModel:t})},h.prototype.updatePreviewErrorMessageView=function(t){this.renderReactView("previewErrorMessageContainer",n.View.PreviewErrorMessageContainer,{dataModel:t})},h.prototype.updatePreviewContainerView=function(t){t?this._previewContainer.classList.add("localPreviewContainer"):this._previewContainer.classList.remove("localPreviewContainer");this.renderReactView("previewContainer",n.View.WindowsPreviewContainer,{dataModel:t,expanderClickInstrumentation:this._expanderClickInstrumentation,chevronDownIcon:{content:"&#xE70D",type:2},cortanaInfoIcon:{content:"&#xE946",type:2}})},h.prototype.updateMsbPreviewContainerView=function(n){var i=this,t;this._previewContainer.innerHTML="";t=sj_ce("div","b_bfb");this._previewContainer.appendChild(t);t.addEventListener("click",function(n){var t=i.findBfbAnchor(n.target);t&&t.href&&(n.preventDefault(),i._host.launchUri(t.href))});n.suggestion?this._previewContainer.classList.add("localPreviewContainer","msbPreviewContainer"):this._previewContainer.classList.remove("localPreviewContainer","msbPreviewContainer")},h.prototype.findBfbAnchor=function(n){return n?n.tagName==="a"||n.tagName==="A"?n:this.findBfbAnchor(n.parentElement):undefined},h.prototype.updateMenuView=function(t){this.renderReactView("menuContainer",n.View.WindowsMenu,{dataModel:t})},h.prototype.updateSnipSearchMessageView=function(t){this.renderReactView("messageContainer",n.View.SnipSearchMessage,{dataModel:t})},h.prototype.setProgressIndicatorVisibility=function(n){this._progressBarVisible!=n&&(this._progressBar||(this._progressBar=_ge("b_progress")),t.setVisibility(this._progressBar,n),this._progressBarVisible=n)},h.prototype.setPreviewPaneVisibility=function(n){this._previewPaneVisible!=n&&(n||this.closeSidePanel(1),t.setVisibility(this._previewPane,n),n&&this.openSidePanel(1),this._previewPaneVisible=n)},h.prototype.toggleDebugWindowVisibility=function(){return this.setDebugWindowVisibility(!this._debugWindowVisible),this._debugWindowVisible},h.prototype.setDebugWindowVisibility=function(n){t.setVisibility(this._debugWindow,n);t.RuntimeConfig.AlwaysWide?this.setConditionalCss("debugWindowOpen",n):n?this.openSidePanel(2):this.closeSidePanel(2);this._debugWindowVisible=n},h.prototype.applyAccentColor=function(){var i=this._host.getAccentColor(),o,e,f,t;this._lastAccentColor!=i&&(e="accent-style",f=_ge(e),f||(f=_d.createElement("style"),f.setAttribute("id",e),f.type="text/css",o=!0),t=".icon svg { fill: {0} }",t+=".gridLayout .suggestion.sa_hv, .gridLayout .suggestion.sa_hv:hover { border-color: {1}; }",t+=".toggleSwitch input:checked + label::before { background-color: {0}; border-color: {0}; }",n.isHighContrastEnabled()||(t+=".accentColor, .accentColor:visited { color: {0}; }",t+=".sa_hv, .sa_hv.selectable:active, .sa_hv.selectable:hover, .sa_hv .openPreviewPaneBtn:active, #root.zeroInput19H1 .selectable.sa_hv, #root.zeroInput19H1 .selectable.sa_hv:hover { background-color: {1}; }",t+=".sa_hv.suggestion:hover { background-color: {3}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .openPreviewPaneBtn:hover { background-color: {2}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .suggDetailsContainer:hover { background-color: {2}; }",t+="#footer { background-color: {8}; }",t+="#footer:hover { background-color: {9}; }",t+="#footer:active { background-color: {10}; }",t+=":not(.groupContainer).topHitConnectedToGroup:not(.sa_hv):not(.previewPaneOpened) { background: {2}; }",t+="#root:not(.wideByDefault) .selectedScope { background-color: {3}; }",t+="#root:not(.wideByDefault) .selectedScope:hover { background-color: {4}; }",t+="#root:not(.wideByDefault) .selectedScope:active { background-color: {5}; }",t+="#root.wideByDefault .selectedScope { border-color: {0}; }",t+="#startMenu .icon { background-color: {5}; }",t+=".accentButtonBackground { background-color: {6}; }",t+=".accentButtonBackground:focus { background-color: {1}; }",t+=".scopeOptions input[type='button'], .topOptions input[type='button'] { background-color: {12}; border-color: {12} }",t+=".scopeOptions input[type='button']:hover, .topOptions input[type='button']:hover { border-color: {3} }",t+=".expanderContainer.selectedExpander .expanderInnerCircle, .expanderContainer:hover .expanderInnerCircle { background-color: {1}; border-color: {11} }",t+="#previewContainer .expanderContainer.selectedExpander .divider, #previewContainer .expanderContainer:hover .divider { border-color: {1} }",t+=".zeroInput19H1 .secondaryText.selectable { color: {12} }",t+=".zeroInput19H1.darkTheme19H1 .secondaryText.selectable { color: {13} }",t+=".zeroInput19H1 .santorini .sa_hv.selectable, .santorini .sa_hv.selectable  { background-color: {14}; }",t+=".radial { stroke: {0} }"),f.innerHTML=n.formatString(t,[i,r(i,.3),r(i,.1),r(i,.4),r(i,.6),r(i,.7),r(i,.15),s(i,35),u(i,.65),u(i,.8),u(i,.9),r(i,0),this._host.getAccentColor(1),this._host.getAccentColor(-2),r(i,.2),]),o&&_d.head.appendChild(f),this._lastAccentColor=i)},h}(n.BasePage);t.Page=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t=54e5,i=function(){function i(i,r){var u=this;this._host=i;this._appCacheInstrumentationHelper=r;this._isReloadSuppressed=!1;this._pendingReload=!1;r.registerSuperFresh();i.hasFallbackHappened()&&(this._isReloadSuppressed=!0,this._lastReloadAfterFallback=n.getCurrentTime());i.bindAppHidden(function(){(u._isReloadSuppressed=u._lastReloadAfterFallback&&n.getCurrentTime()-u._lastReloadAfterFallback<t,u._isReloadSuppressed)||(!u._pendingReload&&n.config.reloadAfterConversations&&i.getPaneCloseCount()>=n.config.reloadAfterConversations&&(u._pendingReload=!0),u._pendingReload&&(u.logReloadAttempt(),u.reload()))});sj_be(applicationCache,"updateready",function(){return u.onUpdateReady()});i.bindConversationStart(function(){u._isReloadSuppressed=!0;u.shouldCheckForUpdate()&&n.contains([1,4,5],applicationCache.status)&&n.safeExecute(function(){return applicationCache.update()},"probe for manifest update")})}return i.prototype.shouldCheckForUpdate=function(){if(!n.isBingEnabled())return!1;return n.config.th&&ClientTestHooks.isTesthookParamSet("disableAppCache")?!1:!0},i.prototype.onUpdateReady=function(){this.logReloadAttempt();this._isReloadSuppressed?this._pendingReload=!0:this.reload()},i.prototype.reload=function(){this._host.reloadWebView()},i.prototype.logReloadAttempt=function(){this._appCacheInstrumentationHelper.instrumentSuperFreshUpdate(this._isReloadSuppressed)},i}();n.SuperFreshAppCache=i}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i,r;(function(t){function u(t,i,r,u,f,e,o,s){var c,l=function(n){c&&f.unregister(c);o&&o==n.number||SharedLogHelper.LogError(t,e,s||n);u&&u(n)},h,a;try{h=i();h?(f&&h.cancel&&(c=f.register(function(){return h.cancel()},!1,t+" cancellation")),a=function(i){c&&f.unregister(c);r&&n.safeExecute(function(){return r(i)},t+" completion")},h.done?h.done(a,l):h.then(a,l)):l(new Error("No promise returned"))}catch(v){l(v)}}function r(t,i,r,u){i.completed=!0;i.result=r;i.pendingCallbacks.forEach(function(t){return n.safeExecute(function(){return t(r)},u)});i.pendingCallbacks=null}function f(){i={}}function e(){var n=[];for(var t in i)i[t].completed||n.push(t);n.forEach(function(n){return delete i[n]})}function o(u,f,e,o,s,h,c,l){return function(a,v){var p=e(a),y=i[p],w;y||(y={started:!1,completed:!1,result:null,pendingCallbacks:[]},i[p]=y);y.completed?v(y.result):(y.pendingCallbacks.push(v),y.started||(y.started=!0,w=function(){t.safeChain(u,function(){return f(a)},function(n){h&&!h(n)&&delete i[p];r(p,y,o?o(n):n,u)},function(t){n.isCancellation(t)?r(p,y,null,u):l?(l-=1,w()):r(p,y,s,u)},null,c)},w()))}}t.safeChain=u;var i={};t.clearGlobalCache=f;t.clearPendingItemsFromCache=e;t.safeChainWithGlobalCaching=o})(i=t.Promise||(t.Promise={})),function(n){function t(n,t,i){for(var u,f,e={},r=0,o=n;r<o.length;r++)u=o[r],f=t[u],f&&(e[u]=i(f));return e}function i(n){for(var t in n)if(n[t])return!1;return!0}n.map=t;n.isEmpty=i}(r=t.Map||(t.Map={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var r="show",i=10,u=function(){function u(i,r,u,f,e){var o=this;this._host=i;this._page=r;this._instHelper=u;this._showIcons=f;this.adjustHeight=e;this._root=_ge("root");this._menuStack=[];this._menuContainer=_ge("menuContainer");this._itemClickHandler=function(t,i){i.button==0&&t.click&&t.click(n.getCurrentTime(),n.getInputType(i))};this._itemEnterHandler=function(t){t.isSelectable&&!t.isExpanded&&(t.subItems&&(o._hoverTimer&&sb_ct(o._hoverTimer),o._hoverTimer=n.safeSetTimeout(function(){o._hoverTimer=0;var n=_ge(t.id);t&&!t.isExpanded&&n&&n.matches(":hover")&&o.showSubMenu(t)},500,"menu item mouse enter")),o.stickParent(t))};this._itemLeaveHandler=function(t){t.isExpanded&&!t.isSticky&&n.safeSetTimeout(function(){var n=_ge(t.id);t&&!t.isSticky&&n&&!n.matches(":hover")&&(t.subItems.some(function(n){return n==o._selectedItem})&&o.select(null,!1),o.dismissSubMenu(t))},450,"menu item mouse leave")};sj_be(_d.body,"mouseup",function(n){o._menuContainer.contains(n.target)||o.dismiss()});t.config.th||sj_be(_w,"blur",function(){return o.dismiss()});sj_evt.bind("ajax.threshold.pageStart",function(){return o.dismiss()});i.bindKeyEscape(function(n){o.isMenuVisible()&&(n.handled=!0,o._menuStack.length>0?o.reselectParentItem():o.dismiss(!0))})}return u.prototype.showSubMenu=function(n){if(!n.isExpanded){this._selectedItem&&this.select(null,!1);var i=_ge(n.id),r=i.querySelector(".contextMenu");n.isExpanded=!0;t.setVisibility(r,!0);this.adjustSubMenuPosition(i,r);this._menuStack.push(n);this._page.updateMenuView(this.getDataModel())}},u.prototype.dismissSubMenu=function(n){var u,f,i,e,r;if(this._selectedItem&&this.select(null,!1),n){if(i=this._menuStack.indexOf(n),i<0)return;for(e=this._menuStack.slice(i),r=0;r<e.length;++r)this.dismissSubMenu()}else n=this._menuStack.pop(),u=_ge(n.id),f=u.querySelector(".contextMenu"),n.isExpanded=!1,n.isSticky=!1,t.setVisibility(f,!1);this._page.updateMenuView(this.getDataModel())},u.prototype.showMenu=function(i,u){var f=this,o,c,e,s,l,h;if(this._menuItems.length){for(t.setVisibility(this._menuContainer,!0),o=this.getDataModel(),this._page.updateMenuView(o),c=function(n){n.getIcon&&n.getIcon(1,function(t){n.icon=t;f._page.updateMenuView(f.getDataModel())})},e=0,s=this._menuItems;e<s.length;e++)l=s[e],c(l);h="renderContextMenu";n.safeSetTimeout(function(){f.adjustPosition(i,u,o.menuType!=0);f._menuContainer.classList.add(r);var n=_qs("#menuContainer > .contextMenu");n.focus();n.scrollTop=0;f._host.setFocusInWebView(h)},0,h)}},u.prototype.innerShowContextMenu=function(n,t,i,r,u){this.dismiss();var f=this.getContextMenuItems(n,r);f&&f.length>0&&(this._menuItems=f,this._onDismiss=u,this._menuType=0,t-=this._root.offsetLeft,i-=this._root.offsetTop,this.showMenu(t,i))},u.prototype.showDropdownMenu=function(n,i,r,u){if(this.dismiss(),this._parentElement=i,n&&n.length>0){this._menuItems=n;this._onDismiss=u;this._menuType=r;var f=i.offsetLeft,e=i.offsetTop+i.offsetHeight+1;t.isRtl()&&(f+=i.offsetWidth);this.showMenu(f,e)}},u.prototype.showContextMenuOnElement=function(n,t,i,r){var u=t.getBoundingClientRect(),f=u.left+t.offsetWidth/2,e=u.top+this._page.getScrollTop()+t.offsetHeight/2;this.showContextMenuOnXY(n,f,e,i,r)},u.prototype.showContextMenuOnXY=function(i,r,u,f,e){var o=this,s,h;this._parentElement=null;e&&(s=i.childSuggestions.filter(function(n){return n.text===e.text}),s&&s.length&&(i=s[0]));h=t.getVerbsAsync("showContextMenu",i,t.config.rawVerbs,!1,function(e){return n.safeSetTimeout(function(){return o.innerShowContextMenu(t.extendVerbs(e,i,o._page,o._host),r,u,function(n,t,r,u){o._instHelper.instrumentItemClickForContextMenu(t,i.instItem,i.sequenceNumber,i.instrumentPingBack,r,u,n)},f)},0,"showContextMenu handler")},function(){return!0});e||h||(this._page.hideTemporaryMessage(),this._host.setFocusInSearchBox(null,"noContextMenu"))},u.prototype.getSelectableItems=function(){var n,t;return this._menuItems?(n=[],this._menuStack.length>0?(t=this._menuStack[this._menuStack.length-1],n=t.subItems):n=this._menuItems,n.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(n){return n.isSelectable})):[]},u.prototype.getSelectableItemsByGroup=function(){return[]},u.prototype.getSelectedItem=function(){return this._selectedItem},u.prototype.getDataModel=function(){return{items:this._menuItems,showIcons:this._showIcons,clickHandler:this._itemClickHandler,menuType:this._menuType,enterHandler:this._itemEnterHandler,leaveHandler:this._itemLeaveHandler,expandIcon:this.getExpandIcon()}},u.prototype.getExpandIcon=function(){return{content:t.isRtl()?"&#xE76B":"&#xE76C",type:2}},u.prototype.select=function(n){var t;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.blur(),this._selectedItem.selected=!1);this._selectedItem=n;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.focus(),this._selectedItem.selected=!0);n&&this.stickParent(n);this._page.updateMenuView(this.getDataModel())},u.prototype.stickParent=function(n){var u=this.getParent(n),f,t,r,i;for(u&&(u.isSticky=!0),f=this.getSiblings(n),t=0,r=f;t<r.length;t++)i=r[t],i.isSticky&&(i.isSticky=!1,this._itemLeaveHandler(i,null))},u.prototype.isItemInMenuOrMenuGroup=function(n,t){return t.some(function(t){return t==n||t.groupItems&&t.groupItems.indexOf(n)>=0})},u.prototype.getParent=function(n){for(var r,t=0,i=this._menuStack;t<i.length;t++)if(r=i[t],this.isItemInMenuOrMenuGroup(n,r.subItems))return r;if(this.isItemInMenuOrMenuGroup(n,this._menuItems))return null;throw new Error("Item: '"+n.id+"' was not found");},u.prototype.getSiblings=function(n,t){t===void 0&&(t=!1);var i=this.getParent(n),r=i?i.subItems:this._menuItems;return r.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(i){return i.isSelectable&&(t||i!=n)})},u.prototype.selectSubItem=function(n,t){this.showSubMenu(n);this.select(t,!1)},u.prototype.reselectParentItem=function(){var n=this._menuStack[this._menuStack.length-1];this.dismissSubMenu();this.select(n,!1)},u.prototype.onAfterKeyDown=function(i,r,u,f){var e,s,o;if((u||f)&&!n.isUpOrDownKey(i))return!1;if(i=t.getRtlAdjustedKey(i),i==39||i==13){if(e=this._selectedItem,e&&e.subItems&&e.subItems[0]&&(s=e.subItems.filter(function(n){return n.isSelectable})[0],s))return this.selectSubItem(e,s),!0}else if(i==37){if(this._menuStack.length>0)return this.reselectParentItem(),!0}else if(n.isUpOrDownKey(i)&&this._selectedItem)return o=this._menuStack.length==0?_qs(".contextMenu"):_ge(this._menuStack[this._menuStack.length-1].id).querySelector(".contextMenu"),o&&this._page.scrollToElement(_ge(this._selectedItem.id),o,o.offsetHeight),!0;return i==13},u.prototype.isMenuVisible=function(){return!!this._menuItems},u.prototype.dismiss=function(n){if(this._menuItems&&(this._menuItems=null,this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null),this._page.updateMenuView(this.getDataModel()),this._menuContainer.classList.remove(r),this._menuContainer.style.width=null,t.setVisibility(this._menuContainer,!1),t.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight="",this.adjustHeight()),this._menuStack=[]),n&&this._parentElement&&this._parentElement.focus(),this._parentElement=null,this._onDismiss){var i=this._onDismiss;this._onDismiss=null;i()}},u.prototype.adjustSubMenuPosition=function(n,r){var h,y,d,o;if(this._menuItems){var f=this._menuContainer,p=f.offsetWidth,w=r.offsetHeight,s=r.offsetWidth,b=0,e=window.getComputedStyle(r).paddingTop;e.endsWith("px")&&(e=e.substr(0,e.length-2),b=+e+1);var l=0,k=_qs("#menuContainer .contextMenu").scrollTop,a=t.isRtl(),v=6;for(h=0,y=this._menuStack;h<y.length;h++)d=y[h],o=_ge(d.id).querySelector(".contextMenu"),v=+o.style.zIndex,l+=o.offsetLeft,k+=o.scrollTop,a=o.offsetLeft<0;++v;var u=f.offsetLeft+l+n.offsetLeft,c=f.offsetTop+n.offsetTop-k-b,g=this._root.offsetWidth-(u+p),nt=u,tt=s<g,it=s<nt;(a||!tt)&&it?u-=s:a&&it||!tt?u=nt>g?i:this._root.offsetWidth-s-i:u+=p-2;c+w>this._root.offsetHeight&&(c=Math.max(this._root.offsetHeight-w,this._root.offsetTop));u-=f.offsetLeft+l;c-=f.offsetTop;r.style.left=u+"px";r.style.top=c+"px";r.style.zIndex=v.toString()}},u.prototype.adjustPosition=function(n,r,u){var e,s;if(this._menuItems){var o=this._menuContainer,f=o.offsetWidth,h=o.offsetHeight;f>this._root.offsetWidth&&(f=this._root.offsetWidth,o.style.width=f+"px");e=n;s=r;t.isRtl()?(e-=f,e<0&&(e=u?i:n)):e+f>this._root.offsetWidth&&(e=u?this._root.offsetWidth-f-i:Math.max(n-f,this._root.offsetLeft));!u&&s+h>this._root.offsetHeight&&(s=Math.max(this._root.offsetHeight-h,this._root.offsetTop));o.style.left=e+"px";o.style.top=s+"px";t.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight=s+h+"px",this.adjustHeight())}},u.prototype.getContextMenuItems=function(i,r){var u=this;return i.map(function(i){var f={id:encodeURIComponent(i.verb),text:i.displayName,isSeparator:!i.verb,selected:!1,isDefault:i.isDefault,icon:i.icon,getIcon:i.getIcon,click:undefined,title:undefined,cssClass:undefined,isSelectable:!!i.verb};return f.isSeparator||(f.click=function(f,e){r(i.verb,f,e,null);i.executeSync?(n.safeExecute(function(){return i.executeSync()},"verb.executeSync",null,i.verb),u.dismiss()):t.Promise.safeChain("verb.executeAsync",function(){return i.executeAsync()},function(){return u.dismiss()},null,null,i.verb)}),f})},u}();t.MenuFactory=u})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t="ConnectedAccounts",i=function(){function i(t){this._storage=t;this._accountsCache={};n.config.th&&ClientTestHooks.isTesthookParamSet("clearSSOCache")&&this.clear();this.init()}return i.prototype.setToken=function(n,t){this.setTokenInfo(t,n);this.writeToLocalStorage()},i.prototype.findAccount=function(n,t){var i=this._accountsCache[n];return i&&!this.isExpired(i.LastUpdated,t,i.ExpireDateTime)?i:null},i.prototype.clear=function(){this._accountsCache={};this.writeToLocalStorage()},i.prototype.init=function(){this._accountsCache={};var i=this._storage.getItem(t);i&&(this._accountsCache=n.safeExecute(function(){return JSON.parse(i)},"parseConnectedAccountString",{}))},i.prototype.writeToLocalStorage=function(){this._storage.setItem(t,JSON.stringify(this._accountsCache))},i.prototype.isExpired=function(t,i,r){var f,u,e,o;return i===undefined?!1:n.config.th&&(f=ClientTestHooks.isTesthookParamSet("forceTokenRefresh"),f)?!0:(u=n.getCurrentTime(),r&&u>r)?!0:(e=6e4,o=Math.floor((u-t)/e),o>=i)},i.prototype.setTokenInfo=function(t,i){var r=this._accountsCache[t],u=n.getCurrentTime();r={Token:i.Token,LastUpdated:u,ExpireDateTime:i.ExpireDateTime,TenantName:i.TenantName,RoutingHint:i.RoutingHint,UserName:i.UserName};this._accountsCache[t]=r},i}();n.TokenStore=i}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,r="SelectedAuthAccountId",u=60,f=function(){function f(n,t){var r=this;this._storage=n;this._tokenStore=t;this._pendingCallbacks={};this._availableMsaAccounts=[];this._availableAadAccounts=[];this._accessTokenAvailableHandlers=[];this._accountTypeChangedHandlers=[];this._selectedAccountChangedHandlers=[];i.addEventListener("experiencelaunched",function(){i.experienceId=="NotebookOffline"&&r._tokenStore.clear()})}return f.prototype.authTypeMatchesWindowsAccountType=function(n){return t.windowsAccountType==4||(n==0?t.windowsAccountType==2:t.windowsAccountType==1)},f.prototype.setWindowsAccountType=function(n,i){var r=t.windowsAccountType;t.windowsAccountType=n;i&&t.windowsAccountType!=r&&this.fireAccountTypeChanged()},f.prototype.clearCachedAccountInfo=function(){this._cachedAAD=null;this._cachedMSA=null},f.prototype.getAllSyncingAccounts=function(n,t,r,u,f,e){var a=i.fileExplorerSuggestionPage.registeredSyncRootInfo,h=[],v,s,c,l,o;for(v in a)o=a[v],typeof o=="string"&&o.includes("@")&&h.push(o);for(h.length==0&&f([]),s={responses:0,accounts:[]},c=0,l=h;c<l.length;c++)o=l[c],this.getAccountByUserName(n,t,o,r,u,function(n){++s.responses;n&&n.Token&&s.accounts.push(n);s.responses==h.length&&f(s.accounts)},e)},f.prototype.getAllAvailableAccounts=function(n){return n==0?this._availableMsaAccounts.slice(0):this._availableAadAccounts.slice(0)},f.prototype.getCachedAccountInfo=function(n){if(!this.authTypeMatchesWindowsAccountType(n))return null;switch(n){case 1:return this._cachedAAD;case 0:return this._cachedMSA;default:return null}},f.prototype.getSelectedAccountInfo=function(){if(t.windowsAccountType==2&&this._cachedMSA)return this._cachedMSA;if(t.windowsAccountType==1&&this._cachedAAD)return this._cachedAAD;var u=this._storage.getItem(r),n,i=this._availableAadAccounts.concat(this._availableMsaAccounts);return i.length>0&&(u&&(n=i.filter(function(n){return n.accountId==u})[0]),n||(n=i.filter(function(n){return n.isDefaultAccount})[0]),n||(n=i[0]),n&&this.setSelectedAccount(n)),n},f.prototype.setSelectedAccount=function(n){if(this.cacheAccount(n),t.windowsAccountType!=4){var i=n.accountProviderAuthority=="consumers"?2:1;this.setWindowsAccountType(i,!0)}this._storage.setItem(r,n.accountId);this.fireSelectedAccountChangedHandlers(n)},f.prototype.isMsaAvailable=function(){return this._availableMsaAccounts.length>0},f.prototype.isAadAvailable=function(){return this._availableAadAccounts.length>0},f.prototype.cacheAccount=function(n){n.accountProviderAuthority=="consumers"?this._cachedMSA=n:this._cachedAAD=n},f.prototype.cacheAllAccounts=function(n){var t,r,i;for(this._availableMsaAccounts=[],this._availableAadAccounts=[],t=0,r=n;t<r.length;t++)i=r[t],i.accountProviderAuthority=="consumers"?this._availableMsaAccounts.push(i):this._availableAadAccounts.push(i)},f.prototype.getAccountByUserName=function(n,i,r,u,f,e,o){var s,h=i==0?this._availableMsaAccounts:this._availableAadAccounts,c;h.length>0&&(s=h.find(function(n){return n.accountUserName.toLocaleLowerCase()==r.toLocaleLowerCase()}));s?(c=n?t.getSubstrateResourceOrScope(i):t.getBingResourceOrScope(i),this.getAccount(i,c,u,f,e,o,s)):e(null)},f.prototype.getAccount=function(n,t,i,r,u,f,e){var s=this,h,o;if(!t)throw new Error("Resource or Scope has to be set");if(h=function(n){var t=s._pendingCallbacks[o];s._pendingCallbacks[o]=null;t.forEach(function(t){return t(n)})},!this.authTypeMatchesWindowsAccountType(n)){u(null);return}if(e||(e=this.getCachedAccountInfo(n)),o=t+i+r+f+(e?e.accountId:""),this._pendingCallbacks[o]){this._pendingCallbacks[o].push(u);return}this._pendingCallbacks[o]=[u];this.authenticate(n,t,i,r,f,h,e)},f.prototype.authenticate=function(r,f,e,o,s,h,c){var y=this,k=e?0:u,v=f+s+(c?c.accountId:""),p=this._tokenStore.findAccount(v,k),d=t.config.th&&ClientTestHooks.isTesthookParamSet("noAuthCache"),l,a,w,b;o&&p&&!d?h(p):(l=function(){return h(null)},n.isBrowserOnline()?(a=i.authenticationManager.createAuthenticateRequest(),a.accountType=s,a.silentMode=o,r==1?a.resource=f:a.scope=f,w=c&&i.authenticationManager.authenticateSearchWebAccountAsync,b=w?function(){return i.authenticationManager.authenticateSearchWebAccountAsync(a,c)}:function(){return i.authenticationManager.authenticateAsync(a)},t.Promise.safeChain("authenticateAsyncWAM",b,function(i){var u,e,s;if(t.config.th&&(f=="https://substrate.office.com"||f=="https://substrate.office.com/SubstrateSearch-Internal.ReadWrite"))if(o){if(ClientTestHooks.isTesthookParamSet("ssoAuthFail")){l();return}}else if(ClientTestHooks.isTesthookParamSet("uxAuthFail")){l();return}if(!i){n.log("WAM returned null");l();return}if(i.token){if(u=i.properties,e=u.UPN||i.userName,!e){n.log("WAM didn't return UPN");l();return}s={Token:i.token,ExpireDateTime:u.exp?parseInt(u.exp)*1e3-3e5:null,TenantName:u.tenant_display_name||"",RoutingHint:e,UserName:e};r==0&&(s.ExpireDateTime=n.getCurrentTime()+36e5);y._tokenStore.setToken(s,v);h(y._tokenStore.findAccount(v))}else i.errorCode||i.errorMessage?n.log("WAM error "+i.errorCode+": "+i.errorMessage):n.log("WAM returned an empty token"),l()},l)):l())},f.prototype.bindAccessTokenAvailable=function(n){this._accessTokenAvailableHandlers.push(n)},f.prototype.bindAccountTypesChanged=function(n){this._accountTypeChangedHandlers.push(n)},f.prototype.bindSelectedAccountChanged=function(n){this._selectedAccountChangedHandlers.push(n)},f.prototype.fireAccountTypeChanged=function(){this._accountTypeChangedHandlers.forEach(function(n){return n()})},f.prototype.fireSelectedAccountChangedHandlers=function(n){this._selectedAccountChangedHandlers.forEach(function(t){return t(n)})},f.prototype.tryConnect=function(i,r,u){var f=this,e=i==1?t.isSubstrateO365AccountConnected:t.isSubstrateOutlookAccountConnected;e||this.getAccount(i,t.getSubstrateResourceOrScope(i),!1,!0,function(r){var e=!!r,o;i==1?t.isSubstrateO365AccountConnected=e:t.isSubstrateOutlookAccountConnected=e;e&&u()&&(o=i.toString(),f._accessTokenAvailableHandlers.forEach(function(t){return n.safeExecute(function(){return t(i)},"accessTokenAvailable",null,o)}))},t.getAuthAccountForCloudContent(),r)},f.prototype.updateWindowsAccountType=function(n){for(var o,i,s,r=!1,u=!1,f=0,e=n;f<e.length;f++)o=e[f],o.accountProviderAuthority=="consumers"?r=t.isCloudSearchEnabledMsaCache:u=t.isCloudSearchEnabledAadCache;i=3;t.config.userProfileButtonEnabled?(s=this.getSelectedAccountInfo(),i=s.accountProviderAuthority=="consumers"?2:1):r&&u?i=4:u?i=1:r&&(i=2);this.setWindowsAccountType(i,!0)},f.prototype.setCortanaAccountType=function(){(t.windowsAccountType==4||t.windowsAccountType==2)&&(t.cortanaAccountType=2)},f.prototype.connectAccounts=function(n,i){var u,f,r;for(t.isSubstrateO365AccountConnected=!1,t.isSubstrateOutlookAccountConnected=!1,u=0,f=n;u<f.length;u++)r=f[u],r.accountProviderAuthority=="consumers"&&t.isCloudSearchEnabledMsaCache?this.tryConnect(0,r,i):r.accountProviderAuthority=="organizations"&&t.isCloudSearchEnabledAadCache&&this.tryConnect(1,r,i)},f.prototype.enumerateAccountAuthority=function(n,r){var u=this;t.config.wamSupported&&t.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return i.authenticationManager.enumerateAccountAuthorityAsync()},function(i){var e,o,f;if(t.windowsAccountType==0){e=3;switch(i.Windows){case"consumers":e=2;break;case"organizations":e=1}u.setWindowsAccountType(e,!0);t.windowsAccountType!=3&&(f=t.accountTypeToAuthType(t.windowsAccountType),u.getAccount(f,t.getBingResourceOrScope(f),!1,!0,function(n){return t.windowsIdentity=n&&n.UserName?n.UserName:""},"Windows"))}n()&&(t.cortanaAccountType=i.Cortana=="organizations"?1:i.Cortana=="consumers"?2:3);t.isCloudSearchEnabledCache&&t.substrateProvidersEnabled()&&(o=t.getAccountTypeForCloudContent(),o==1?u.tryConnect(1,null,n):o==2&&u.tryConnect(0,null,n));t.windowsAccountType==t.cortanaAccountType&&t.windowsAccountType!=3&&(f=t.accountTypeToAuthType(t.cortanaAccountType),u.getAccount(f,t.getBingResourceOrScope(f),!1,!0,function(n){return t.cortanaIdentity=n&&n.UserName?n.UserName:""},"Cortana"));r()})},f.prototype.enumerateMultiAccountAuthority=function(n,r){var u=this;if(t.config.wamSupported){if(!i.authenticationManager.getAllSearchWebAccountsAsync){this.enumerateAccountAuthority(n,r);return}this.clearCachedAccountInfo();this.setWindowsAccountType(3,!1);t.Promise.safeChain("getAllSearchWebAccountsAsync",function(){return i.authenticationManager.getAllSearchWebAccountsAsync()},function(i){var f,o,s,c,v,l,h,a,e;if(u.cacheAllAccounts(i),f=[],u._availableMsaAccounts.length>0&&(o=Math.max(u._availableMsaAccounts.findIndex(function(n){return n.isDefaultAccount}),0),f.push(u._availableMsaAccounts[o])),u._availableAadAccounts.length>0&&(o=Math.max(u._availableAadAccounts.findIndex(function(n){return n.isDefaultAccount}),0),f.push(u._availableAadAccounts[o])),!t.config.userProfileButtonEnabled)for(s=0,c=f;s<c.length;s++)e=c[s],u.cacheAccount(e);if(v=t.windowsAccountType,u.updateWindowsAccountType(f),t.windowsAccountType!=v)for(l=function(n,i){u.getAccount(n,t.getBingResourceOrScope(n),!1,!0,function(n){return t.windowsIdentity=n&&n.UserName?n.UserName:""},"Windows",i)},h=0,a=f;h<a.length;h++)e=a[h],e.accountProviderAuthority=="consumers"&&t.isCloudSearchEnabledMsaCache?l(0,e):e.accountProviderAuthority=="organizations"&&t.isCloudSearchEnabledAadCache&&l(1,e);n()&&u.setCortanaAccountType();t.isCloudSearchEnabledCache&&t.substrateProvidersEnabled()&&u.connectAccounts(f,n);r()})}},f.prototype.promptAutheticateDialog=function(i,r,u,f){var e=this,o=function(r){var o=!!r;i==1?t.isSubstrateO365AccountConnected=o:t.isSubstrateOutlookAccountConnected=o;o?(u(),e._accessTokenAvailableHandlers.forEach(function(t){return n.safeExecute(function(){return t(i)},"promptAccessTokenAvailable",null,i.toString())})):f()};this.getAccount(i,r,!1,!1,o,t.getAuthAccountForCloudContent())},f}();t.AccessTokenManager=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function y(t){t.bindAppHidden(function(){SearchAppWrapper.CortanaApp.isBingEnabled&&n.isBrowserOnline()&&n.safeExecute(function(){return ft("asgw",["fp.msedge.net/conf/v1/asgw/fpconfig.min.json"],2e3)},"AFDFootprint.start",null,null)})}function ft(n,t,i){var o;if(n&&n.trim().length!==0&&Number(i)===i&&i%1==0&&!(i<0)){var r=c,h=ut,y=v(),p=e(),s="MonitorID="+n+"&rid="+p+"&w3c="+y+"&prot="+window.location.protocol+"&v="+h+"&DATA=";if(u)a(r,s,i);else{for(o in t)t[o]=r+t[o];f(t,0,l,r,s,i)}}}function a(n,t,i){var o=et(u,n),s,f,r,e,h;if(o.length!==0){for(s=ot(o,n,b),f=[],r=0,e=u.r;r<e.length;r++)h=e[r],f.push(n+h+"?"+t);ct(s,d,i,f)}}function f(n,i,r,e,o,s){var l=r!==rt?0:1,h=n[i],v=SearchAppWrapper.CortanaApp.createStringMap(),c=SearchAppWrapper.CortanaApp.createStringMap();c["Content-Type"]="application/json";t.Promise.safeChain("fetchAFDUrl",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(l,h,v,"",c)},function(c){c.statusCode===200&&e!=null&&o!=null&&s!=null&&t.Promise.safeChain("readAFDResponse",function(){return c.readAsStringAsync()},function(n){u=JSON.parse(n);a(e,o,s)},function(){++i<n.length&&f(n,i,r,e,o,s)},null,h)},function(){++i<n.length&&f(n,i,r,e,o,s)},null,h,null,"makeHttpRequestAsync failed")}function et(n,t){var e=[],l,a,i,v,y,u,s,b;if(!n||!n.e)return e;var k=t.toLowerCase()===w?h:o,d=n.e,f=[],c=0;for(l=0,a=d;l<a.length;l++)i=a[l],i.w>0&&(o<=i.m&&i.m<=p&&i.m&k||i.m===r)&&(c+=i.w,f.push({endpoint:i.e,cumWeight:c,weight:i.w,measurementType:i.m}));for(v=Math.min(n.n,f.length);e.length<v;){y=Math.floor(Math.random()*c);u=null;for(s in f)u==null?y<f[s].cumWeight&&(u=f[s],delete f[s]):f[s].cumWeight-=u.weight;c-=u.weight;b=u.measurementType&r?nt:g;e.push({id:u.endpoint,testImage:b,measurementType:u.measurementType})}return e.sort(function(n,t){return n.measurementType-t.measurementType}),e}function ot(n,t,i){for(var f,p,d,a=[],v=0,w=n;v<w.length;v++){var y=w[v],l=y.measurementType,b=y.testImage,u=y.id,s=t+u;u.indexOf(".")===-1?s+=".clo.footprintdns.com":u.charAt(0)==="*"&&(f=u.substring(2),p=e(),s=t+p+"."+f,u=f==="clo.footprintdns.com"||f==="nrb.footprintdns.com"||f==="azr.footprintdns.com"?p:f);s+=k;var g=s+i+"?"+e(),nt=l===r?t===c?o:h:l,tt=l!==r;a.push({url:g,requestID:u,object:i,conn:"cold",measurementType:nt,report:tt});d=s+b+"?"+e();a.push({url:d,requestID:u,object:b,conn:"warm",measurementType:l,report:!0})}return a}function st(n,t){for(var r=[],i=0;i<t.length;i++)if(t[i].report){var f=n[i],u=t[i].measurementType,e=ht(f,u);r.push({RequestID:t[i].requestID,Object:t[i].object,Conn:t[i].conn,Result:e,T:u})}return JSON.stringify(r)}function ht(n,t){if(n===s)return n;if(t===r&&n>0){var i=tt/(n/it);return Math.round(i)}return Math.round(n)}function e(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+n()+n()+n()+n()+n()+n()}function v(){return window.performance&&window.performance.getEntriesByName?!0:!1}function ct(n,t,i,r){function c(i){var k,p,g,w,nt,d,b,tt;if(u!=null&&clearTimeout(u),o[i]=h!=null?(new Date).getTime()-h:s,i=(a+y)%n.length,e=new Image,a++<n.length)h=(new Date).getTime(),e.onload=function(){c(i)},k=function(){e.onload=null;e.onerror=null;h=null;c(i)},u=setTimeout(function(){k()},t),e.onerror=function(){u!=null&&clearTimeout(u);u=null;k()},e.src=n[i].url;else if(r!=null&&r.length!==0){if(v())for(p=0;p<n.length;p++)g=n[p].url,w=window.performance.getEntriesByName(g),o[p]!==s&&w&&w[0]&&(o[p]=w[0].duration);for(nt=st(o,n),d=[],b=0;b<r.length;b++)tt=r[b]+nt,d.push(tt);f(d,0,l,null,null,null)}}var h=null,u=null,o=[],a=0,e,y=0;setTimeout(function(){c(0)},i)}i.init=y;var u,o=1,h=2,p=3,r=8,w="http://",c="https://",b="trans.gif",k="/apc/",d=5e3,g="trans.gif",nt="100k.gif",tt=822.128,it=1e3,l="GET",rt="POST",s=-1,ut="20180228"})(i=t.AFDFootprint||(t.AFDFootprint={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));1
1;1;1;var AutoSuggest;(function(n){var t;(function(n){var t=/[0-9a-zA-Z]/,i=/\s+/g,r=function(){function r(n,t){var i=this;this._accessTokenManager=t;n.bindAccessTokenAvailable(function(n){i.getProfilePictureToken(n,function(){})})}return r.prototype.getProfilePictureToken=function(t,i){this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(n){return i(n?n.Token:null)},n.getAuthAccountForCloudContent())},r.prototype.getProfilePictureIconInternal=function(t,i,r,u){return n.Promise.safeChainWithGlobalCaching("getProfilePictureIcon",function(){return ThresholdUtilities.createPromise(function(u){return t(function(t){var f,e,o;if(!t){u(null);return}f=SearchAppWrapper.CortanaApp.createStringMap();e=SearchAppWrapper.CortanaApp.createStringMap();f.Authorization="Bearer "+t;i==0&&(f["X-AnchorMailbox"]=r);o=i==1?"https://substrate.office.com/api/v2.0/Users('"+r+"')/photo/$value":"https://substrate.office.com/profile/v0/users/"+r+"/image/$value";n.Promise.safeChain("getProfilePictureIcon",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(0,o,f,"",e)},function(t){if(t.statusCode!==200){u(null);return}n.Promise.safeChain("getProfilePictureIcon",function(){return t.readAsStreamAsync()},u,function(){return u(null)})},function(){return u(null)})})})},function(){return r+"_icon"},function(t){var i=n.toIcon(t,"getProfilePictureIcon",u);return i&&(i.className="peopleIcon"),i},u)},r.prototype.getProfilePictureIconForToken=function(n,t,i,r){return this.getProfilePictureIconInternal(function(n){return n(t)},n,i,r)},r.prototype.getProfilePictureIcon=function(n,t,i){var r=this;return this.getProfilePictureIconInternal(function(t){return r.getProfilePictureToken(n,t)},n,t,i)},r.prototype.getPersonDefaultIcon=function(n){var r,u=n.trim().replace(i," ").split(" ",2),f,e;return u.length>0&&(f=u[0][0],t.test(f)&&(r=f),u.length==2&&(e=u[1][0],r&&t.test(e)?r+=e:r="")),{type:r?5:2,content:r?r.toUpperCase():"&#xE77B",className:"peopleIcon"}},r}();n.SubstrateProfilePictureProvider=r})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));var AutoSuggest;(function(n){var t;(function(t){var i="pp_",r=100,u=200,f=function(){function f(t,i,r){var u=this;this._page=t;this._host=i;this._sections=[];this._selectedItemIndex=-1;this._scrollArea=_ge("qfPreviewScrollArea");this._itemClickEventHandler=function(t,i){var r=document.getSelection();r.toString()&&r.focusNode==i.target||t.click(n.getCurrentTime(),n.getInputType(i))};this._contextMenuHandler=function(t,i,f){i&&(i.pageX||i.pageY)?n.safeExecute(function(){return r.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return u.focus(!1)},f)},"contextMenuHandler"):n.safeExecute(function(){return r.showContextMenuOnElement(t,f?_ge(f.id):_ge(t.id),function(){return u.focus(!1)},f)},"contextMenuHandler")};i.bindSearchBoxGotFocus(function(){u.blur()});i.bindKeyDown(function(n){u.hasFocus()&&(n==36||n==35)&&u.selectFirstOrLastItem(n==36)})}return f.prototype.init=function(t){var i=this;this._previewPaneViewModelParent=t;this._suggestionClickEventHandler=function(t,r){var u=n.getCurrentTime(),f=n.getInputType(r);i._previewPaneViewModelParent.onBeforeItemLaunch(u,f,4,null);t.click(u,f);i._previewPaneViewModelParent.onAfterItemLaunch(4)}},f.prototype.finalizeKeystroke=function(){this.instrumentOnPreviewPaneRendered(!1,!0)},f.prototype.instrumentOnPreviewPaneRendered=function(n,t){if(this._timestampFirstRender&&this._onPreviewPaneRendered){var i={firstRenderTS:this._timestampFirstRender,layout:this.getLayoutDataForPPRenderedInstrumentation()};this._onPreviewPaneRendered(t,!n,i)}},f.prototype.update=function(t,i,r,u,f,e){var o=this,h,s;f&&!e&&(this.instrumentOnPreviewPaneRendered(!1,!0),this._onPreviewPaneRendered=f,this._timestampFirstRender=null,this._settingsOnlineModules=[],this._settingsOnlineModulesRetrieved=!1);this._previewPaneId=u;this._previewedSuggestion=t;this._sections=[];this._hasPreviewIconBeenSet=!1;this._haveActionsBeenFetched=!1;this._sectionRetrieved_jumplist=!1;this._sectionRetrieved_settingsFaq=!1;this._sectionRetrieved_settingsRelatedSettings=!1;this._allSectionsRetrieved=function(){return o._sectionRetrieved_jumplist&&o._sectionRetrieved_settingsFaq&&o._sectionRetrieved_settingsRelatedSettings};h=e&&this.hasFocus();s=function(t){o._previewPaneViewModelParent.onResponseReceived(n.getCurrentTime());t?o.delayedRender():o.render();(o._previewPaneViewModelParent.focusPending||h)&&(o._previewPaneViewModelParent.focusPending=!1,o.focus(!1))};t&&this.updateSelection(t,i,function(){return u==o._previewPaneId&&t==o._previewedSuggestion},function(){return s(!1)},function(){return s(!0)})},f.prototype.setPreviewIcon=function(i,r,f,e,o){var s=this,h=typeof ClientTestHooks!="undefined"&&ClientTestHooks&&ClientTestHooks.isTesthookParamSet("isTest"),c=h&&ClientTestHooks.isTesthookParamSet("DisablePreviewGetIcon"),l;c||(l=t.config.largePhotoIcon&&i.type=="LI"?5:4,i.getIcon(l,function(n){s._hasPreviewIconBeenSet=!0;i.previewIcon=n;t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)})}));(c||!h)&&n.safeSetTimeout(function(){s._hasPreviewIconBeenSet||(s._hasPreviewIconBeenSet=!0,i.previewIcon=t.ScopeConfig[t.getScope(t.getGroupType(i))].icon,t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)}))},u,"setPreviewIcon")},f.prototype.updateSelection=function(n,t,i,r,u){n.getIcon?this.setPreviewIcon(n,t,i,r,u):(n.icon&&(n.previewIcon={content:n.icon.content,type:n.icon.type,bgColor:n.icon.bgColor,needsAccentColor:!0,ratio:n.icon.ratio,className:n.icon.className}),this.getActions(t,r,u,i))},f.prototype.hasFocus=function(){return!!this._selectedItem},f.prototype.focus=function(n){var t=this.getSelectableItems(),i,r;t.length>0?(i=n?0:this._selectedItemIndex!=-1?this._selectedItemIndex:0,r=t[i],this.select(r,!1),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView("localPP focus")):this._previewPaneViewModelParent.focusPending=!0},f.prototype.readyToBlur=function(){return!0},f.prototype.blur=function(){this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null,this.render())},f.prototype.clear=function(){this._selectedItem=null;this._selectedItemIndex=-1;this._previewedSuggestion=null;this._onPreviewPaneRendered=null;this._sections=[];this._settingsOnlineModules=[];this._settingsOnlineModulesRetrieved=!1;sb_ct(this._renderTimer);this._hasPreviewIconBeenSet=!1;this._renderTimer=null;this.render()},f.prototype.getSelectableItems=function(){return[].concat.apply([],this.getSelectableItemsByGroup())},f.prototype.getSelectableItemsByGroup=function(){for(var n,t,f,s,r,e,h,i=[],u=0,o=this._sections;u<o.length;u++)n=o[u],t=[],t=t.concat(n.items),f=n.collapsedItems.length>0,f&&(s=_ge(n.collapsedItems[0].id).classList,s.contains("collapsedItem")||(t=t.concat(n.collapsedItems))),i.push(t),f&&i.push([n.expander]);for(r=0,e=this._settingsOnlineModules;r<e.length;r++)h=e[r],i.push(h.settingLinks);return i},f.prototype.getSelectedItem=function(){return this._selectedItem},f.prototype.select=function(n,t){var r,i;if(t){SharedLogHelper.LogError("selectPreviewPaneItem",null,new Error("Can't update search box value when selecting preview pane item"));return}this._selectedItem==n&&this._selectedItem.selected||(this._selectedItem&&(this._selectedItem.selected=!1),n&&(r=this.getSelectableItems().findIndex(function(t){return t==n}),r<0?SharedLogHelper.LogError("LocalPreviewPane.Select",null,new Error("select called on unknown item")):(n.selected=!0,this._selectedItem=n,this._selectedItemIndex=r,this.render(),i=_ge(n.id),i&&(i.focus(),this._page.scrollToElement(i,this._scrollArea,this._scrollArea.offsetHeight)))))},f.prototype.onAfterKeyDown=function(t,i){return n.isContextMenuKey(t,i.shiftKey)?(this._contextMenuHandler(this._previewedSuggestion,null,this._selectedItem),!0):!1},f.prototype.selectFirstOrLastItem=function(n){var t=this.getSelectableItems(),i;t.length!=0&&(i=n?0:t.length-1,this.select(t[i],!1))},f.prototype.getDataModel=function(){if(this._previewedSuggestion){var n=this._previewedSuggestion.uninstallationInProgress?{messageText:this._host.getLocString("UninstallationInProgress",HitHighlightingParser.removeMarkers(this._previewedSuggestion.text))}:null;return{suggestion:this._previewedSuggestion,sections:this._sections,suggestionClickHandler:this._suggestionClickEventHandler,itemClickHandler:this._itemClickEventHandler,contextMenuClickHandler:this._contextMenuHandler,settingsOnlineModules:this._settingsOnlineModules,messageDataModel:n}}return null},f.prototype.render=function(){this._page.updatePreviewContainerView(this.getDataModel());this._previewedSuggestion&&(this._timestampFirstRender||(this._timestampFirstRender=n.getCurrentTime()),this.instrumentIfAllSectionsRetrieved())},f.prototype.instrumentIfAllSectionsRetrieved=function(){this._previewedSuggestion&&this._allSectionsRetrieved()&&this.instrumentOnPreviewPaneRendered(!0,!1)},f.prototype.delayedRender=function(){var t=this;this._renderTimer||(this._renderTimer=n.safeSetTimeout(function(){t.render();t._renderTimer=null},r,"delayedRender"))},f.prototype.getActions=function(i,r,u,f){var o=this,e;if(f()){if(this._haveActionsBeenFetched){r();return}this._haveActionsBeenFetched=!0;e=this._previewedSuggestion;this.addToSection(this.createSyntheticAction(e),null,this._host.getLocString("ActionsSection"));t.config.settingsOnlineModuleEnabled&&t.isSetting(e.type)&&e.deviceItem&&!this._settingsOnlineModulesRetrieved?n.fetchUrlJson(this.getRelatedSearchUrl(e.deviceItem.id,t.uiLanguageCache),null,null,function(n){return o.createSettingOnlineModules(n,f)}):(this._sectionRetrieved_settingsFaq=!0,this._sectionRetrieved_settingsRelatedSettings=!0);t.getVerbsAsync("PreviewPaneExtraActions",e,t.config.rawVerbs,!0,function(n){return o.processVerbs(n,i,r,u,f)},f)}},f.prototype.processVerbs=function(n,i,r,u,f){var k=this,w,l,h,v,b,y,c,p,e;if(f()){w=this._host.getLocString("ActionsSection");l=this._previewedSuggestion;n=t.extendVerbs(n,l,this._page,this._host,function(){return k.render()});var s=-1,o=-1,a=0;for(h=0,v=n;h<v.length;h++)e=v[h],e.verb==="copy"&&(s=a),e.verb==="S_CopyFullPath"&&(o=a),a++;for(s!=-1&&o!=-1&&(e=n[o],s<o?(n.splice(o,1),n.splice(s+1,0,e)):(n.splice(s+1,0,e),n.splice(o,1))),b=function(n){if(n.verb){var t=y.createAction(n);n.getIcon&&n.getIcon(1,function(n){t.icon=n;u()});y.addToSection(t,null,w)}},y=this,c=0,p=n;c<p.length;c++)e=p[c],b(e);this.processChildSuggestions(l,i,function(){f()&&u()});this._sectionRetrieved_jumplist=!0;r()}},f.prototype.createSyntheticAction=function(i){var r=i.type=="CS",e=r?t.JumplistActionItemType.S_Install:t.JumplistActionItemType.S_Open,u="",f;return u=r?i.primaryMetadata:i.type=="PPL"&&t.windowsAccountType!=2?this._host.getLocString("OpenContact"):i.previewPaneType==1?this._host.getLocString("OpenInBrowser"):this._host.getLocString("Open"),f={verb:t.JumplistActionItemType[e],displayName:u,icon:{type:2,content:r?"&#xEA96":"&#xE8A7"},executeSync:function(){return i.click(n.getCurrentTime(),0)}},this.createAction(f,t.GroupType.JumpListSynthetic)},f.prototype.createAction=function(r,u){var f=this,e=t.JumplistActionItemType[r.verb],o={ppId:this._previewPaneId,st:u||t.GroupType.JumpListActions,vbt:e||undefined,vbr:e?undefined:r.verb};return{id:i+r.verb,text:r.displayName,click:function(i,u){var e=5;f._previewPaneViewModelParent.onBeforeItemLaunch(i,u,e,o);if(r.executeSync){n.safeExecute(function(){return r.executeSync()},"verb.executeSync",null,r.verb);f._previewPaneViewModelParent.onAfterItemLaunch(e)}else t.Promise.safeChain("verb.executeAsync",function(){return r.executeAsync()},function(){return f._previewPaneViewModelParent.onAfterItemLaunch(e)},null,null,r.verb)},icon:r.icon,selected:!1,narratorText:r.displayName,instData:o}},f.prototype.createAnnotation=function(t,i){var r=t?unescape(t.replace("file:///","")):"",u=r.indexOf("?"),f,e,o;return u!=-1&&(r=r.substr(0,u)),n.isHttpProtocol(r)||(f=r.toLocaleLowerCase(),e="https:",f.includes(e)?(u=f.indexOf(e),r=r.substr(u,r.length)):(o=/\//gi,r=r.replace(o,"\\")),r=r.replace("\\"+i,"")),r},f.prototype.processChildSuggestions=function(n,r,u){var o=this,e;if(n.previewPaneType!=1||t.RuntimeConfig.MiniSERPMode!=0){if(n.calculateChildSuggestions&&n.calculateChildSuggestions(),n.childSuggestions){var s=1,h=function(e){var h=n.childSuggestions[e],l=h.groupType==t.GroupType.JumpListTasks,a={ppId:f._previewPaneId,st:h.groupType},c={id:i+n.id+"_"+e,text:HitHighlightingParser.removeMarkers(h.text),click:function(n,t){var i=l?5:6;o._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,a);h.click(n,t);o._previewPaneViewModelParent.onAfterItemLaunch(i)},icon:h.icon,selected:!1,narratorText:h.narratorText,annotationClass:"annotation",isJumpListTaskItem:!!l,instData:a},v=void 0,y=void 0;if(!l){var w=h,b=w.jumpListItem,p=t.getGroupTitleAndNarratorText(r,f._host,h.groupType,h,null);c.tooltip=h.tooltip;v=p.title;y=p.narratorText;t.config.doubleLinePreviewJumpList?(c.annotation=f.createAnnotation(b.path,c.text),c.annotationClass+=" lastAccessedText"):c.annotation=h.additionalInfoText}h.getIcon&&h.getIcon(1,function(n){c.icon=n;t.populateImageRatio(c.icon,h.type,function(){return u()})});f.addToSection(c,v,y,l?s++:null)},f=this;for(e=0;e<n.childSuggestions.length;e++)h(e)}t.config.itemsBeforeExpander&&this.processItemsForExpander()}},f.prototype.addToSection=function(n,t,i,r){var u=this._sections.find(function(n){return(n.title||"")==(t||"")});u?typeof r=="number"?u.items.splice(r,0,n):u.items.push(n):(u={title:t,narratorText:i,items:[n],collapsedItems:[],expander:null},this._sections.push(u))},f.prototype.processItemsForExpander=function(){var n;if(this._sections.length!=0){var r=function(n,t,i){n.pi=t;i&&(n.c=1)},i=this._sections.length,u=1,f=function(n){var f=e._sections[n],o=f.items,c,l,h,a,s,v;if(n==0){for(c=!1,l=!1,h=0;h<o.length;++h)if(a=o[h],a.instData.st==t.GroupType.JumpListTasks){l=!0;break}else a.instData.st==t.GroupType.JumpListActions&&(c=!0);f.sectionType=l?t.GroupType.JumpListTasks:c?t.GroupType.JumpListActions:t.GroupType.JumpListSynthetic}else f.sectionType=f.items[0].instData.st;if(n==0)for(s=0;s<o.length;s++)s!=0&&!o[s].isJumpListTaskItem&&(i!=1||o[1].isJumpListTaskItem)&&(f.collapsedItems=o.splice(s),f.expander={id:"expander"+u++,selected:!1,text:null});else i!==n+1&&o.length>t.config.itemsBeforeExpander+1&&(f.collapsedItems=o.splice(t.config.itemsBeforeExpander),f.expander={id:"expander"+u++,selected:!1,text:null});v=0;f.items.forEach(function(n){return r(n.instData,v++,!1)});f.collapsedItems.forEach(function(n){return r(n.instData,v++,!0)})},e=this;for(n=0;n<i;n++)f(n)}},f.prototype.getLayoutDataForPPRenderedInstrumentation=function(){var t={sectionTypes:[],sectionLengths:[]},i,u,r,f,n;if(this._sections)for(i=0,u=this._sections;i<u.length;i++)n=u[i],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.items.length+n.collapsedItems.length);if(this._settingsOnlineModules)for(r=0,f=this._settingsOnlineModules;r<f.length;r++)n=f[r],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.settingLinks.length);return t.sectionTypes.length>0?t:undefined},f.prototype.onAnyOptionClick=function(n){this.select(n,!1);this.hasFocus||this.focus(!1)},f.prototype.getRelatedSearchUrl=function(t,i){return"/PPRelatedSearch?query="+n.encodeQueryParameter(t)+"&lang="+n.encodeQueryParameter(i)},f.prototype.createSettingOnlineModules=function(n,t){t()&&(this._settingsOnlineModulesRetrieved=!0,this.createSettingFaqModule(n),this.createSettingRelatedSettingsModuleAsync(n,t))},f.prototype.createSettingFaqModule=function(n){var u=this,o=this._host.getLocString("SettingsFAQModuleHeader"),i=n&&n.SettingPageQnAs,r,e;if(i&&i.length>0){var f=[],s=function(n){var r=i[n],e,o;r.Query&&r.BingIALink&&(e={ppId:h._previewPaneId,st:t.GroupType.JumpListSettingsFaq,pi:n},o={id:"faq"+n,narratorText:r.Query,selected:!1,text:r.Query,click:function(n,t){var i=9;u._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,e,0);u._host.launchUri(r.BingIALink);u._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:e},f.push(o))},h=this;for(r=0;r<i.length;++r)s(r);f.length>0&&(e={header:o,settingLinks:f,sectionType:t.GroupType.JumpListSettingsFaq},this._settingsOnlineModules.push(e),this.render())}this._sectionRetrieved_settingsFaq=!0;this.instrumentIfAllSectionsRetrieved()},f.prototype.createSettingRelatedSettingsModuleAsync=function(n,i){var r=this,f=this._host.getLocString("RelatedSettingsModuleHeader"),u=n&&n.SettingPageRelatedSettingsIds;u&&u.length>0?t.LocalDataProvider.getSettings(u,function(n){var e,s,o,h;if(i()){for(e=[],s=function(i){var s=u[i],f=n[s],o,h;f&&(o={ppId:r._previewPaneId,st:t.GroupType.JumpListSettingsRelatedSettings,pi:i},h={id:s,narratorText:f.deviceItem.displayName,selected:!1,text:f.deviceItem.displayName,click:function(n,t){var i=9;r._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,o);r._host.launchDeviceItem(f.deviceItem,"THST");r._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:o},e.push(h))},o=0;o<u.length;++o)s(o);e.length>0&&(h={header:f,settingLinks:e,sectionType:t.GroupType.JumpListSettingsRelatedSettings},r._settingsOnlineModules.push(h),r.render());r._sectionRetrieved_settingsRelatedSettings=!0;r.instrumentIfAllSectionsRetrieved()}}):(this._sectionRetrieved_settingsRelatedSettings=!0,this.instrumentIfAllSectionsRetrieved())},f}();t.WSBLocalPreviewPaneViewModel=f})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));1;1;1;1;1;
1;1;1;var AutoSuggest;(function(n){var t;(function(n){var t=/[0-9a-zA-Z]/,i=/\s+/g,r=function(){function r(n,t){var i=this;this._accessTokenManager=t;n.bindAccessTokenAvailable(function(n){i.getProfilePictureToken(n,function(){})})}return r.prototype.getProfilePictureToken=function(t,i){this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(n){return i(n?n.Token:null)},n.getAuthAccountForCloudContent())},r.prototype.getProfilePictureIconInternal=function(t,i,r,u){return n.Promise.safeChainWithGlobalCaching("getProfilePictureIcon",function(){return ThresholdUtilities.createPromise(function(u){return t(function(t){var f,e,o;if(!t){u(null);return}f=SearchAppWrapper.CortanaApp.createStringMap();e=SearchAppWrapper.CortanaApp.createStringMap();f.Authorization="Bearer "+t;i==0&&(f["X-AnchorMailbox"]=r);o=i==1?"https://substrate.office.com/api/v2.0/Users('"+r+"')/photo/$value":"https://substrate.office.com/profile/v0/users/"+r+"/image/$value";n.Promise.safeChain("getProfilePictureIcon",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(0,o,f,"",e)},function(t){if(t.statusCode!==200){u(null);return}n.Promise.safeChain("getProfilePictureIcon",function(){return t.readAsStreamAsync()},u,function(){return u(null)})},function(){return u(null)})})})},function(){return r+"_icon"},function(t){var i=n.toIcon(t,"getProfilePictureIcon",u);return i&&(i.className="peopleIcon"),i},u)},r.prototype.getProfilePictureIconForToken=function(n,t,i,r){return this.getProfilePictureIconInternal(function(n){return n(t)},n,i,r)},r.prototype.getProfilePictureIcon=function(n,t,i){var r=this;return this.getProfilePictureIconInternal(function(t){return r.getProfilePictureToken(n,t)},n,t,i)},r.prototype.getPersonDefaultIcon=function(n){var r,u=n.trim().replace(i," ").split(" ",2),f,e;return u.length>0&&(f=u[0][0],t.test(f)&&(r=f),u.length==2&&(e=u[1][0],r&&t.test(e)?r+=e:r="")),{type:r?5:2,content:r?r.toUpperCase():"&#xE77B",className:"peopleIcon"}},r}();n.SubstrateProfilePictureProvider=r})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));var AutoSuggest;(function(n){var t;(function(t){var i="pp_",r=100,u=200,f=function(){function f(t,i,r){var u=this;this._page=t;this._host=i;this._sections=[];this._selectedItemIndex=-1;this._scrollArea=_ge("qfPreviewScrollArea");this._itemClickEventHandler=function(t,i){var r=document.getSelection();r.toString()&&r.focusNode==i.target||t.click(n.getCurrentTime(),n.getInputType(i))};this._contextMenuHandler=function(t,i,f){i&&(i.pageX||i.pageY)?n.safeExecute(function(){return r.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return u.focus(!1)},f)},"contextMenuHandler"):n.safeExecute(function(){return r.showContextMenuOnElement(t,f?_ge(f.id):_ge(t.id),function(){return u.focus(!1)},f)},"contextMenuHandler")};i.bindSearchBoxGotFocus(function(){u.blur()});i.bindKeyDown(function(n){u.hasFocus()&&(n==36||n==35)&&u.selectFirstOrLastItem(n==36)})}return f.prototype.init=function(t){var i=this;this._previewPaneViewModelParent=t;this._suggestionClickEventHandler=function(t,r){var u=n.getCurrentTime(),f=n.getInputType(r);i._previewPaneViewModelParent.onBeforeItemLaunch(u,f,4,null);t.click(u,f);i._previewPaneViewModelParent.onAfterItemLaunch(4)}},f.prototype.finalizeKeystroke=function(){this.instrumentOnPreviewPaneRendered(!1,!0)},f.prototype.instrumentOnPreviewPaneRendered=function(n,t){if(this._timestampFirstRender&&this._onPreviewPaneRendered){var i={firstRenderTS:this._timestampFirstRender,layout:this.getLayoutDataForPPRenderedInstrumentation()};this._onPreviewPaneRendered(t,!n,i)}},f.prototype.update=function(t,i,r,u,f,e){var o=this,h,s;f&&!e&&(this.instrumentOnPreviewPaneRendered(!1,!0),this._onPreviewPaneRendered=f,this._timestampFirstRender=null,this._settingsOnlineModules=[],this._settingsOnlineModulesRetrieved=!1);this._previewPaneId=u;this._previewedSuggestion=t;this._sections=[];this._hasPreviewIconBeenSet=!1;this._haveActionsBeenFetched=!1;this._sectionRetrieved_jumplist=!1;this._sectionRetrieved_settingsFaq=!1;this._sectionRetrieved_settingsRelatedSettings=!1;this._allSectionsRetrieved=function(){return o._sectionRetrieved_jumplist&&o._sectionRetrieved_settingsFaq&&o._sectionRetrieved_settingsRelatedSettings};h=e&&this.hasFocus();s=function(t){o._previewPaneViewModelParent.onResponseReceived(n.getCurrentTime());t?o.delayedRender():o.render();(o._previewPaneViewModelParent.focusPending||h)&&(o._previewPaneViewModelParent.focusPending=!1,o.focus(!1))};t&&this.updateSelection(t,i,function(){return u==o._previewPaneId&&t==o._previewedSuggestion},function(){return s(!1)},function(){return s(!0)})},f.prototype.setPreviewIcon=function(i,r,f,e,o){var s=this,h=typeof ClientTestHooks!="undefined"&&ClientTestHooks&&ClientTestHooks.isTesthookParamSet("isTest"),c=h&&ClientTestHooks.isTesthookParamSet("DisablePreviewGetIcon"),l;c||(l=t.config.largePhotoIcon&&i.type=="LI"?5:4,i.getIcon(l,function(n){s._hasPreviewIconBeenSet=!0;i.previewIcon=n;t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)})}));(c||!h)&&n.safeSetTimeout(function(){s._hasPreviewIconBeenSet||(s._hasPreviewIconBeenSet=!0,i.previewIcon=t.ScopeConfig[t.getScope(t.getGroupType(i))].icon,t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)}))},u,"setPreviewIcon")},f.prototype.updateSelection=function(n,t,i,r,u){n.getIcon?this.setPreviewIcon(n,t,i,r,u):(n.icon&&(n.previewIcon={content:n.icon.content,type:n.icon.type,bgColor:n.icon.bgColor,needsAccentColor:!0,ratio:n.icon.ratio,className:n.icon.className}),this.getActions(t,r,u,i))},f.prototype.hasFocus=function(){return!!this._selectedItem},f.prototype.focus=function(n){var t=this.getSelectableItems(),i,r;t.length>0?(i=n?0:this._selectedItemIndex!=-1?this._selectedItemIndex:0,r=t[i],this.select(r,!1),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView("localPP focus")):this._previewPaneViewModelParent.focusPending=!0},f.prototype.readyToBlur=function(){return!0},f.prototype.blur=function(){this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null,this.render())},f.prototype.clear=function(){this._selectedItem=null;this._selectedItemIndex=-1;this._previewedSuggestion=null;this._onPreviewPaneRendered=null;this._sections=[];this._settingsOnlineModules=[];this._settingsOnlineModulesRetrieved=!1;sb_ct(this._renderTimer);this._hasPreviewIconBeenSet=!1;this._renderTimer=null;this.render()},f.prototype.getSelectableItems=function(){return[].concat.apply([],this.getSelectableItemsByGroup())},f.prototype.getSelectableItemsByGroup=function(){for(var n,t,f,s,r,e,h,i=[],u=0,o=this._sections;u<o.length;u++)n=o[u],t=[],t=t.concat(n.items),f=n.collapsedItems.length>0,f&&(s=_ge(n.collapsedItems[0].id).classList,s.contains("collapsedItem")||(t=t.concat(n.collapsedItems))),i.push(t),f&&i.push([n.expander]);for(r=0,e=this._settingsOnlineModules;r<e.length;r++)h=e[r],i.push(h.settingLinks);return i},f.prototype.getSelectedItem=function(){return this._selectedItem},f.prototype.select=function(n,t){var r,i;if(t){SharedLogHelper.LogError("selectPreviewPaneItem",null,new Error("Can't update search box value when selecting preview pane item"));return}this._selectedItem==n&&this._selectedItem.selected||(this._selectedItem&&(this._selectedItem.selected=!1),n&&(r=this.getSelectableItems().findIndex(function(t){return t==n}),r<0?SharedLogHelper.LogError("LocalPreviewPane.Select",null,new Error("select called on unknown item")):(n.selected=!0,this._selectedItem=n,this._selectedItemIndex=r,this.render(),i=_ge(n.id),i&&(i.focus(),this._page.scrollToElement(i,this._scrollArea,this._scrollArea.offsetHeight)))))},f.prototype.onAfterKeyDown=function(t,i){return n.isContextMenuKey(t,i.shiftKey)?(this._contextMenuHandler(this._previewedSuggestion,null,this._selectedItem),!0):!1},f.prototype.selectFirstOrLastItem=function(n){var t=this.getSelectableItems(),i;t.length!=0&&(i=n?0:t.length-1,this.select(t[i],!1))},f.prototype.getDataModel=function(){if(this._previewedSuggestion){var n=this._previewedSuggestion.uninstallationInProgress?{messageText:this._host.getLocString("UninstallationInProgress",HitHighlightingParser.removeMarkers(this._previewedSuggestion.text))}:null;return{suggestion:this._previewedSuggestion,sections:this._sections,suggestionClickHandler:this._suggestionClickEventHandler,itemClickHandler:this._itemClickEventHandler,contextMenuClickHandler:this._contextMenuHandler,settingsOnlineModules:this._settingsOnlineModules,messageDataModel:n}}return null},f.prototype.render=function(){this._page.updatePreviewContainerView(this.getDataModel());this._previewedSuggestion&&(this._timestampFirstRender||(this._timestampFirstRender=n.getCurrentTime()),this.instrumentIfAllSectionsRetrieved())},f.prototype.instrumentIfAllSectionsRetrieved=function(){this._previewedSuggestion&&this._allSectionsRetrieved()&&this.instrumentOnPreviewPaneRendered(!0,!1)},f.prototype.delayedRender=function(){var t=this;this._renderTimer||(this._renderTimer=n.safeSetTimeout(function(){t.render();t._renderTimer=null},r,"delayedRender"))},f.prototype.getActions=function(i,r,u,f){var o=this,e;if(f()){if(this._haveActionsBeenFetched){r();return}this._haveActionsBeenFetched=!0;e=this._previewedSuggestion;this.addToSection(this.createSyntheticAction(e),null,this._host.getLocString("ActionsSection"));t.config.settingsOnlineModuleEnabled&&t.isSetting(e.type)&&e.deviceItem&&!this._settingsOnlineModulesRetrieved?n.fetchUrlJson(this.getRelatedSearchUrl(e.deviceItem.id,t.uiLanguageCache),null,null,function(n){return o.createSettingOnlineModules(n,f)}):(this._sectionRetrieved_settingsFaq=!0,this._sectionRetrieved_settingsRelatedSettings=!0);t.getVerbsAsync("PreviewPaneExtraActions",e,t.config.rawVerbs,!0,function(n){return o.processVerbs(n,i,r,u,f)},f)}},f.prototype.processVerbs=function(n,i,r,u,f){var k=this,w,l,h,v,b,y,c,p,e;if(f()){w=this._host.getLocString("ActionsSection");l=this._previewedSuggestion;n=t.extendVerbs(n,l,this._page,this._host,function(){return k.render()});var s=-1,o=-1,a=0;for(h=0,v=n;h<v.length;h++)e=v[h],e.verb==="copy"&&(s=a),e.verb==="S_CopyFullPath"&&(o=a),a++;for(s!=-1&&o!=-1&&(e=n[o],s<o?(n.splice(o,1),n.splice(s+1,0,e)):(n.splice(s+1,0,e),n.splice(o,1))),b=function(n){if(n.verb){var t=y.createAction(n);n.getIcon&&n.getIcon(1,function(n){t.icon=n;u()});y.addToSection(t,null,w)}},y=this,c=0,p=n;c<p.length;c++)e=p[c],b(e);this.processChildSuggestions(l,i,function(){f()&&u()});this._sectionRetrieved_jumplist=!0;r()}},f.prototype.createSyntheticAction=function(i){var r=i.type=="CS",e=r?t.JumplistActionItemType.S_Install:t.JumplistActionItemType.S_Open,u="",f;return u=r?i.primaryMetadata:i.type=="PPL"&&t.windowsAccountType!=2?this._host.getLocString("OpenContact"):i.previewPaneType==1?this._host.getLocString("OpenInBrowser"):this._host.getLocString("Open"),f={verb:t.JumplistActionItemType[e],displayName:u,icon:{type:2,content:r?"&#xEA96":"&#xE8A7"},executeSync:function(){return i.click(n.getCurrentTime(),0)}},this.createAction(f,t.GroupType.JumpListSynthetic)},f.prototype.createAction=function(r,u){var f=this,e=t.JumplistActionItemType[r.verb],o={ppId:this._previewPaneId,st:u||t.GroupType.JumpListActions,vbt:e||undefined,vbr:e?undefined:r.verb};return{id:i+r.verb,text:r.displayName,click:function(i,u){var e=5;f._previewPaneViewModelParent.onBeforeItemLaunch(i,u,e,o);if(r.executeSync){n.safeExecute(function(){return r.executeSync()},"verb.executeSync",null,r.verb);f._previewPaneViewModelParent.onAfterItemLaunch(e)}else t.Promise.safeChain("verb.executeAsync",function(){return r.executeAsync()},function(){return f._previewPaneViewModelParent.onAfterItemLaunch(e)},null,null,r.verb)},icon:r.icon,selected:!1,narratorText:r.displayName,instData:o}},f.prototype.createAnnotation=function(t,i){var r=t?unescape(t.replace("file:///","")):"",u=r.indexOf("?"),f,e,o;return u!=-1&&(r=r.substr(0,u)),n.isHttpProtocol(r)||(f=r.toLocaleLowerCase(),e="https:",f.includes(e)?(u=f.indexOf(e),r=r.substr(u,r.length)):(o=/\//gi,r=r.replace(o,"\\")),r=r.replace("\\"+i,"")),r},f.prototype.processChildSuggestions=function(n,r,u){var o=this,e;if(n.previewPaneType!=1||t.RuntimeConfig.MiniSERPMode!=0){if(n.calculateChildSuggestions&&n.calculateChildSuggestions(),n.childSuggestions){var s=1,h=function(e){var h=n.childSuggestions[e],l=h.groupType==t.GroupType.JumpListTasks,a={ppId:f._previewPaneId,st:h.groupType},c={id:i+n.id+"_"+e,text:HitHighlightingParser.removeMarkers(h.text),click:function(n,t){var i=l?5:6;o._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,a);h.click(n,t);o._previewPaneViewModelParent.onAfterItemLaunch(i)},icon:h.icon,selected:!1,narratorText:h.narratorText,annotationClass:"annotation",isJumpListTaskItem:!!l,instData:a},v=void 0,y=void 0;if(!l){var w=h,b=w.jumpListItem,p=t.getGroupTitleAndNarratorText(r,f._host,h.groupType,h,null);c.tooltip=h.tooltip;v=p.title;y=p.narratorText;t.config.doubleLinePreviewJumpList?(c.annotation=f.createAnnotation(b.path,c.text),c.annotationClass+=" lastAccessedText"):c.annotation=h.additionalInfoText}h.getIcon&&h.getIcon(1,function(n){c.icon=n;t.populateImageRatio(c.icon,h.type,function(){return u()})});f.addToSection(c,v,y,l?s++:null)},f=this;for(e=0;e<n.childSuggestions.length;e++)h(e)}t.config.itemsBeforeExpander&&this.processItemsForExpander()}},f.prototype.addToSection=function(n,t,i,r){var u=this._sections.find(function(n){return(n.title||"")==(t||"")});u?typeof r=="number"?u.items.splice(r,0,n):u.items.push(n):(u={title:t,narratorText:i,items:[n],collapsedItems:[],expander:null},this._sections.push(u))},f.prototype.processItemsForExpander=function(){var n;if(this._sections.length!=0){var r=function(n,t,i){n.pi=t;i&&(n.c=1)},i=this._sections.length,u=1,f=function(n){var f=e._sections[n],o=f.items,c,l,h,a,s,v;if(n==0){for(c=!1,l=!1,h=0;h<o.length;++h)if(a=o[h],a.instData.st==t.GroupType.JumpListTasks){l=!0;break}else a.instData.st==t.GroupType.JumpListActions&&(c=!0);f.sectionType=l?t.GroupType.JumpListTasks:c?t.GroupType.JumpListActions:t.GroupType.JumpListSynthetic}else f.sectionType=f.items[0].instData.st;if(n==0)for(s=0;s<o.length;s++)s!=0&&!o[s].isJumpListTaskItem&&(i!=1||o[1].isJumpListTaskItem)&&(f.collapsedItems=o.splice(s),f.expander={id:"expander"+u++,selected:!1,text:null});else i!==n+1&&o.length>t.config.itemsBeforeExpander+1&&(f.collapsedItems=o.splice(t.config.itemsBeforeExpander),f.expander={id:"expander"+u++,selected:!1,text:null});v=0;f.items.forEach(function(n){return r(n.instData,v++,!1)});f.collapsedItems.forEach(function(n){return r(n.instData,v++,!0)})},e=this;for(n=0;n<i;n++)f(n)}},f.prototype.getLayoutDataForPPRenderedInstrumentation=function(){var t={sectionTypes:[],sectionLengths:[]},i,u,r,f,n;if(this._sections)for(i=0,u=this._sections;i<u.length;i++)n=u[i],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.items.length+n.collapsedItems.length);if(this._settingsOnlineModules)for(r=0,f=this._settingsOnlineModules;r<f.length;r++)n=f[r],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.settingLinks.length);return t.sectionTypes.length>0?t:undefined},f.prototype.onAnyOptionClick=function(n){this.select(n,!1);this.hasFocus||this.focus(!1)},f.prototype.getRelatedSearchUrl=function(t,i){return"/PPRelatedSearch?query="+n.encodeQueryParameter(t)+"&lang="+n.encodeQueryParameter(i)},f.prototype.createSettingOnlineModules=function(n,t){t()&&(this._settingsOnlineModulesRetrieved=!0,this.createSettingFaqModule(n),this.createSettingRelatedSettingsModuleAsync(n,t))},f.prototype.createSettingFaqModule=function(n){var u=this,o=this._host.getLocString("SettingsFAQModuleHeader"),i=n&&n.SettingPageQnAs,r,e;if(i&&i.length>0){var f=[],s=function(n){var r=i[n],e,o;r.Query&&r.BingIALink&&(e={ppId:h._previewPaneId,st:t.GroupType.JumpListSettingsFaq,pi:n},o={id:"faq"+n,narratorText:r.Query,selected:!1,text:r.Query,click:function(n,t){var i=9;u._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,e,0);u._host.launchUri(r.BingIALink);u._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:e},f.push(o))},h=this;for(r=0;r<i.length;++r)s(r);f.length>0&&(e={header:o,settingLinks:f,sectionType:t.GroupType.JumpListSettingsFaq},this._settingsOnlineModules.push(e),this.render())}this._sectionRetrieved_settingsFaq=!0;this.instrumentIfAllSectionsRetrieved()},f.prototype.createSettingRelatedSettingsModuleAsync=function(n,i){var r=this,f=this._host.getLocString("RelatedSettingsModuleHeader"),u=n&&n.SettingPageRelatedSettingsIds;u&&u.length>0?t.LocalDataProvider.getSettings(u,function(n){var e,s,o,h;if(i()){for(e=[],s=function(i){var s=u[i],f=n[s],o,h;f&&(o={ppId:r._previewPaneId,st:t.GroupType.JumpListSettingsRelatedSettings,pi:i},h={id:s,narratorText:f.deviceItem.displayName,selected:!1,text:f.deviceItem.displayName,click:function(n,t){var i=9;r._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,o);r._host.launchDeviceItem(f.deviceItem,"THST");r._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:o},e.push(h))},o=0;o<u.length;++o)s(o);e.length>0&&(h={header:f,settingLinks:e,sectionType:t.GroupType.JumpListSettingsRelatedSettings},r._settingsOnlineModules.push(h),r.render());r._sectionRetrieved_settingsRelatedSettings=!0;r.instrumentIfAllSectionsRetrieved()}}):(this._sectionRetrieved_settingsRelatedSettings=!0,this.instrumentIfAllSectionsRetrieved())},f}();t.WSBLocalPreviewPaneViewModel=f})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));1;1;1;1;1;
PuTTY
uiInputType
uiInputType
inputType
inputType
inputType
inputType
inputType
inputType
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
SystemSettings_Accessibility_Braille_Table_OutputType
SystemSettings_Accessibility_Braille_Table_InputType
SystemSettings_Accessibility_Braille_Table_OutputType
SystemSettings_Accessibility_Braille_Table_InputType
            <xs:element name="InputTypes">
                  <xs:element name="InputType" type="CT_MediaCodecInput" minOccurs="1" maxOccurs="1000"/>
            <xs:element name="OutputTypes">
                  <xs:element name="OutputType" type="CT_MediaCodecOutput" minOccurs="1" maxOccurs="1000"/>
      <xs:element name="InputTypes">
            <xs:element name="InputType">
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
SimonTatham.PuTTY	5622
{6D809377-6AF0-444B-8957-A3773F02200E}\PuTTY\puttygen.exe	9442
{6D809377-6AF0-444B-8957-A3773F02200E}\PuTTY\pageant.exe	10211
{7C5A40EF-A0FB-4BFC-874A-C0F2E0B9FA8E}\SuperPuTTY\SuperPutty.exe	10955
{7C5A40EF-A0FB-4BFC-874A-C0F2E0B9FA8E}\MTPuTTY\mtputty.exe	11251
{6D809377-6AF0-444B-8957-A3773F02200E}\ExtraPuTTY\Bin\putty.exe	12120
{6D809377-6AF0-444B-8957-A3773F02200E}\PuTTY\psftp.exe	12559
*|	*|putty.exe	8035
*|	*|puttycm	10578
*|	*|mtputty	9908
*|	*|puttygen	9097
*|	*|superputty	9395
*|putty	*|pputty	10432
*|putty	*|puitty	10476
*|putty	*|puttty	7773
*|putty	*|putty'	9549
*|putty	*|puttyu	9575
*|putty	*|puttyy	10003
*|putty	*|[utty	10315
*|putty	*|outty	7343
*|putty	*|puttu	8881
*|putty	*|putyt	8978
*|putty	*|putyy	6661
*|putty	*|puuty	8019
*|putty	*|ptty	9605
*|putty	*|pytt	10212
*|puttygen	*|putty gen	5531
AAA_SystemSettings_Accessibility_Braille_Table_OutputType	10448
AAA_SystemSettings_Accessibility_Braille_Table_InputType	11001
OutputTypeAttributes
OutputTypeParameters
OutputType
OutputTypeNamePair
OutputTypeParameterConstraints
InputTypeListEmptyError
InputTypeListEmptyError
    var inputType;
    (function (inputType) {
        inputType[inputType["readonly"] = 1] = "readonly";
        inputType[inputType["hidden"] = 2] = "hidden";
        inputType[inputType["text"] = 4] = "text";
        inputType[inputType["password"] = 8] = "password";
    })(inputType = Dom.inputType || (Dom.inputType = {}));
                    if (elementPresent(stream, (e) => ((e.tagId == Dom.tagType.input) && ((e.flags & Dom.inputType.password) != 0)))) {
OutputTypeBuilder
m_InputType
PutType
putType
e:n.text,executeSync:function(){return c(u,n,f)},getIcon:t};i.push(o)}),o=!1,r.childSuggestions.filter(function(t){return t.type=="JL"&&!t.displayed&&t.groupType!=n.GroupType.JumpListTasks}).slice(0,n.config.maxJLcm).forEach(function(n,t){var r,h;e&&!o&&(r={},i.push(r));o=!0;h={verb:"JumpList_"+l+"_"+t,displayName:n.text,executeSync:function(){return c(u,n,f)},getIcon:s(n.jumpListItem,n.parent,!0,l)};i.push(h)}))),i},!0))}function ii(t,i,r,u,f,l,a,v,y){var k,w,ut,p,d,it,b,g,rt,ot;if(u.calculateChildSuggestions=null,k=f.jumpList,k&&k.length!=0){for(w=r||"",ut=w.indexOf("}"),w=w.substr(ut+1),p=[],d=0,it=k;d<it.length;d++)if(b=it[d],!l||n.contains(l,b.type)){var ft=h(b.type),et=ft!=n.GroupType.JumpListTasks,st=function(r){var y;if(tt(r))return"continue";var k=nt(u.deviceItem.id,h(b.type))?u.getIcon:s(r,u,et,i),l="JL",o=n.createSuggestion(t,r.displayName,k,null,l,r.displayName,n.InstrumentedItem.createInstrumentedItem(v,l),2,u.sequenceNumber,et,null,null,!0);o.click=function(){return c(f,o,a)};o.jumpListItem=r;o.groupType=ft;o.groupDisplayName=b.name;o.parent=u;o.tooltip=r.description;y=w&&r.path.endsWith(w);y||(o.path=r.path);e(o,"calculateJumpListSuggestions")&&(p.push(o),ri(f,o,a))};for(g=0,rt=b.items;g<rt.length;g++)ot=rt[g],st(ot)}p.length>0&&(u.childSuggestions=u.childSuggestions?u.childSuggestions.concat(p):p,o(p),n.InstrumentationHelper.instrumentDataSource(v,y,p,null))}}function s(t,i,r,u){return function(f,e){return n.getIcon(t,u+"_"+t.path+"_"+t.displayName,"jumpList",!r,!1,null,null,0)(f,function(n){n?e(n):i.getIcon(f,e)})}}function tt(t){return t.displayName?!n.RuntimeConfig.AlwaysWide&&n.olderThan2Weeks(t.lastAccessed)?!0:!1:!0}function h(t){switch(t){case 0:return n.GroupType.JumpListTasks;case 1:return n.GroupType.JumpListPinned;case 2:return n.GroupType.JumpListRecent;case 3:return n.GroupType.JumpListFrequent;default:return n.GroupType.JumpListCustom}}function c(t,i,r){n.Promise.safeChain("launchJumpList",function(){return i.jumpListItem.launchAsync()},null,function(){n.DialogBox?n.DialogBox.show(n.Host.getLocString("JumpListItemUnavailableDeleteConfirmation"),[{id:null,text:n.Host.getLocString("Cancel"),selected:!0,action:function(){return n.Host.setFocusInSearchBox(null,"jumpListItemDialogBoxCancel")}},{id:null,text:n.Host.getLocString("Remove"),selected:!1,action:function(){l(t,i,r);n.Host.setFocusInSearchBox(null,"jumpListItemUnavailable1")}}]):(r.showTemporaryMessage(n.Host.getLocString("JumpListItemUnavailable")),l(t,i,r),n.Host.setFocusInSearchBox(null,"jumpListItemUnavailable2"))})}function l(t,i,r){var u=function(){return r.showTemporaryMessage(n.Host.getLocString("RemoveFromListFailure",i.text))},f=i.parent.childSuggestions.length==1;n.Promise.safeChain("deleteJumpList",function(){return i.jumpListItem.deleteAsync()},function(){n.Promise.safeChain("getJumpListAsync",function(){return t.getJumpListAsync()},function(t){f&&t.some(function(n){return h(n.type)==i.groupType&&n.items.some(function(n){return!tt(n)})})?u():(n.Host.refreshCurrentPane(),r.showTemporaryMessage(n.Host.getLocString("RemovedFromList",i.text)))},u)},u)}function ri(t,r,u){r.jumpListItem.deleteAsync&&i(r,function(){var i={verb:"RemoveFromThisList",displayName:n.Host.getLocString("RemoveFromThisList"),executeSync:function(){return l(t,r,u)},icon:{type:2,content:"&#xE711"}};return[i]},!0)}function ui(t,i){if(t&&t.uxHint){var r=i?HitHighlightingParser.addMarkers(t.uxHint,i):t.uxHint;return n.Host.getLocString("RelatedSynonym",r)}return null}var it={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[0],"Microsoft.InternetExplorer.Default":[0],Chrome:[0],"360browser":[0]},a={skype:[],outlook:[0],"360browser":[0],chrome:[0],iexplore:[0],opera:[0],firefox:[0],safari:[0]},v={"\\msedge.exe":[0]},rt=["Microsoft.Windows.Explorer",],f=[[!0,"LastAccessed","lastAccessDateString"],[!1,"LastModified","lastModifiedDateString"],[!1,"LastModifiedBy","lastModifiedBy"],[!1,"Author","author"],[!1,"Artist","artist"],[!1,"Album","album"],[!1,"Genre","genre"],[!1,"Tags","tags"],],y={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[n.GroupType.JumpListTasks],"Microsoft.MicrosoftStickyNotes_8wekyb3d8bbwe!App":[n.GroupType.JumpListTasks],"Microsoft.XboxApp_8wekyb3d8bbwe!Microsoft.XboxApp":[n.GroupType.JumpListCustom],"com.squirrel.Teams.Teams":[n.GroupType.JumpListTasks],"Microsoft.ScreenSketch_8wekyb3d8bbwe!App":[n.GroupType.JumpListTasks]},b;n.getFileExtension=ut;n.toDate=ft;n.getTodayTimeString=et;n.setFileTemplate=r;n.enrichMetadataFromDuplicate=ot;n.getIconForTypeAsync=st;n.isValidIcon=w;n.isValidSuggestion=e;n.setExtraVerbs=i;n.setExtraVerbsAsync=ht;b=function(){function t(n){this._temporaryMessageHandler=n}return t.prototype.parse=function(t,i,r,u,f,e){for(var l,a,v=this,s=[],y=function(u){n.safeExecute(function(){return g(t,u,r,i,v._temporaryMessageHandler,u.suggestionType,s,function(){return!0})},"parseLocalSuggestion "+r)},h=0,c=u.suggestions;h<c.length;h++)l=c[h],y(l);(n.isFileOrFolderLocalDataSource(r)||r=="IBA")&&o(s);a={maxedOut:u.maxedOut};e(r,s,a)},t}();n.SuggestionsParser=b;n.lookupById=yt;n.decorateSuggestionsWithParentFolder=o;n.parseLocalSuggestion=g}(WSB||(WSB={})),function(n){var t;(function(t){t.currentCIVersion="-1";var i=function(){function i(r,u){var f=this;(this._lightweightStorage=u,n.Host.bindShown(function(){var n=f.getContstraintIndexInfo(r.lastUrl);t.currentCIVersion=n?String(n.version):"-1"}),n.Host.hasFallbackHappened())||n.Host.bindAppHidden(function(){var l,s,e,h;if(n.isBingEnabled()&&n.isBrowserOnline()){var c=f.safeGetLastUrl(r),w=f.safeGetUrlResult(r),b=n.getWindowHost().toLowerCase(),nt=b=="bing.com"||b.endsWith(".bing.com");if(!nt&&!(n.MockUrlParameters===null||n.MockUrlParameters===void 0?void 0:n.MockUrlParameters.isTest))return;if(l=f._lightweightStorage.getItem(i.LastCIDownloadAttemptKey),s=null,l&&(s=new Date(l)),s&&(f.getTimeDiffInMins(s)<n.config.waitBetweenCIDownloadCallsInMins?n.config.waitBetweenCIDownloadCallsInMins:0))return;e=f.getContstraintIndexInfo(c);t.currentCIVersion=String(e.version);var a=n.getCurrentLanguage(),u=n.config.ciVersion,o=f.parseUrlResult(w),v=f.getUrlForCiCab(u,a),k=n.contains(n.config.blocklistedCiVersions,e.version)&&u<e.version,tt=u==o.version&&o.errorCode!="00000000";if(u>0&&n.config.supportedCiMarkets[a]&&(a!=e.language||u>e.version||k||tt)&&(!o.url||k||c==o.url||o.errorCode!="00000000")){var y="cis_v"+u,p="ci_v"+u,d=f._lightweightStorage.getItem(y)?parseInt(f._lightweightStorage.getItem(y)):0,g=f._lightweightStorage.getItem(p)?parseInt(f._lightweightStorage.getItem(p)):0;f._lightweightStorage.setItem(i.LastCIDownloadAttemptKey,n.getCurrentDate().toString());h="constraintIndexDownloader.tryDownloadFromUrlAsync";n.Promise.safeChain(h,function(){return r.tryDownloadFromUrlAsync(v)},function(n){if(n){var i=f.getContstraintIndexInfo(c);t.currentCIVersion=String(i.version);d++;f._lightweightStorage.setItem(y,d.toString())}else SharedLogHelper.LogError(h,"urlResult: "+w,"Download failed");g++;f._lightweightStorage.setItem(p,g.toString())},function(n){SharedLogHelper.LogError(h,"onError - url:  "+v,n.message)},null,v,0)}}})}return i.prototype.parseUrlResult=function(n){var r=null,t=null,u=1,i,f;return n?(i=n.split(":0x"),i.length>1?(r=i[0],t=i[1],t!="00000000"&&SharedLogHelper.LogWarning("constraintIndexDownloader.urlResult",t,"Download encountered problems"),f=this.getContstraintIndexInfo(r),u=f.version):SharedLogHelper.LogError("constraintIndexDownloader.parseUrlResult","urlResult: "+n,"Invalid URL")):SharedLogHelper.LogError("constraintIndexDownloader.parseUrlResult","No urlResult"),{url:r,version:u,errorCode:t}},i.prototype.getContstraintIndexInfo=function(n){var r=-1,u="",t,i;return n?(t=n.split("/"),t.length>1?(i=t[t.length-1].split("."),u=i.length==2?i[0]:"",r=+t[t.length-2]):SharedLogHelper.LogError("constraintIndexDownloader.getContstraintIndexInfo","url: "+n,"Invalid URL")):SharedLogHelper.LogError("constraintIndexDownloader.getContstraintIndexInfo","No Url"),{version:r,language:u}},i.prototype.safeGetLastUrl=function(t){if(!n.config.ciDownloadUpdate)return t.lastUrl;var r="https://www.bing.com/bcs/ci/-1/en-us.cab",i=r;try{return i=t.lastUrl,n.isNullOrUndefined(i)||i.length==0?r:i}catch(u){return r}},i.prototype.safeGetUrlResult=function(t){if(!n.config.ciDownloadUpdate)return t.urlResult;var r="https://www.bing.com/bcs/ci/-1/en-us.cab:0x8000FFFF",i=r;try{return i=t.urlResult,n.isNullOrUndefined(i)||i.length==0?r:i}catch(u){return r}},i.prototype.getUrlForCiCab=function(n,t){return"https://www.bing.com/bcs/ci/"+n+"/"+t+".cab"},i.prototype.getTimeDiffInMins=function(t){if(!n.isValidDate(t))return 0;var i=t.getTime(),r=n.getCurrentTime();return Math.round((r-i)%n.DayToMs%n.HourToMs/n.MinuteToMs)},i.LastCIDownloadAttemptKey="LastCIDownloadAttempt",i}();t.ConstraintIndexDataLoader=i})(t=n.ConstraintIndex||(n.ConstraintIndex={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){function h(n){switch(n.type){case"Folder":return"FD";case"Photo":return"LI";case"Video":return"LV";case"Audio":case"Music":return"MU";default:return n.fileSize?"FL":"FD"}}function c(t){switch(t){case"FD":return n.Scope.Folders;case"LI":return n.Scope.Photos;case"LV":return n.Scope.Videos;case"MU":return n.Scope.Music;default:return n.Scope.Documents}}var t="https://onedrive.live.com",i=t+"/redir.aspx?resid=",f="&ancestorId=",e="&contentMatch=",r="OneDrive provider called without {0}",o=621355968e5,s=function(t){function i(n){var i=t.call(this,"ODC")||this;return i._accessTokenManager=n,i}return __extends(i,t),i.prototype.getName=function(){return"OneDriveDataProvider"},i.prototype.addOneDriveAncestorResourceIdQueryString=function(){if(n.RuntimeConfig.QfMode==5&&!n.isFileExplorerCurrentPathThisPcOrQuickAccess){var t=void 0,i=SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootContentUri?n.tryParseUrl(SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootContentUri,!1):null;if(i&&i.parameters&&(t=i.parameters.substr(1).split("&").find(function(n){return n.startsWith("id=")}).substr(3)),t)return f+t;SharedLogHelper.LogError("OneDriveParser","QfMode="+n.RuntimeConfig.QfMode,new Error(n.formatString(r,["currentSyncRootResourceId"])))}return""},i.prototype.addOneDriveContentMatchQueryString=function(t){return n.RuntimeConfig.QfMode==5||t.scope==n.Scope.Documents?e+"1":""},i.prototype.createUrl=function(t){var i=decodeURIComponent(n.config.oneDriveDotComRootUrl),r;return i+=this.addOneDriveAncestorResourceIdQueryString(),i+=this.addOneDriveContentMatchQueryString(t),r=t?n.encodeQueryParameter(t.queryToFetch.toLowerCase()):"",i+"&q="+r},i.prototype.getAllAccountTokens=function(t){if(n.RuntimeConfig.QfMode==5){var i=SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootAccount;i?this._accessTokenManager.getAccountByUserName(!1,0,i,!1,!0,function(n){n&&n.Token?t([n.Token]):t(null,"AccountNotFound")}):n.isFileExplorerCurrentPathThisPcOrQuickAccess?this._accessTokenManager.getAllSyncingAccounts(!1,0,!1,!0,function(n){n.length>0?t(n.map(function(n){return n.Token})):t(null,"NoAccountsFound")}):(SharedLogHelper.LogError("OneDriveParser","QfMode="+n.RuntimeConfig.QfMode,new Error(n.formatString(r,["currentSyncRootAccount"]))),t(null,"CurrentSyncRootAccount"))}else n.AccessTokenManager.getWindowsAccountType()==2?this._accessTokenManager.getAccount(0,n.getBingResourceOrScope(0),!1,!0,function(n){n&&n.Token?t([n.Token]):t(null,"NoAccountsFound")}):t(null)},i.prototype.fetch=function(i,r,u,f,e,o,s){var l=this,h,c;n.isDataSourceEnabled(this._dataSource,i)&&(h={numOfPendingResponses:0},s||(s={}),s["BingAPIs-Authorization-Source"]="Explicit",c=function(c){var v=Object.assign({},s),a;c&&(v["X-Search-RPSToken"]=c);a=Object.assign({},o);delete a[n.Service.QueryParams.ImpressionGuid];delete a[n.Service.QueryParams.RequestElToken];t.prototype.fetch.call(l,i,function(n,t,i,u,f){--h.numOfPendingResponses;r(n,t,i,u,f,h.numOfPendingResponses!=0)},u,f,e,a,v)},this.getAllAccountTokens(function(n,t){t?r(l._dataSource,null,t,null,null,!1):n?(h.numOfPendingResponses=n.length,n.forEach(function(n){return c(n)})):(h.numOfPendingResponses=1,c(null))}))},i}(n.JsonDataProvider),u;n.OneDriveDataProvider=s;u=function(){function r(){}return r.prototype.parse=function(t,i,r,u,f,e){var h=[],o,c,l,s,a,v;if(u&&u.suggestionGroups)for(o=0,c=u.suggestionGroups;o<c.length;o++)if(l=c[o],l.searchSuggestions)for(s=0,a=l.searchSuggestions;s<a.length;s++)v=a[s],this.addContent(t,h,v,i);n.decorateSuggestionsWithParentFolder(h);e("ODC",h,null)},r.prototype.isValidSuggestion=function(n){return!n.result||n.result.length!=1?!1:n.result[0].type==="History"?(SharedLogHelper.LogError("OneDriveParser",null,new Error("History should be disabled in the request URL")),!1):n.result[0].type==="Tag"?!1:!0},r.prototype.addContent=function(r,u,f,e){var l,a,w;if(this.isValidSuggestion(f)&&(l=f.result[0],a=h(l),n.isSuggestionTypeEnabled("ODC",a,7,r))){var v=l.rawResourceId,b="https://storage.live.com/items/"+v+":Cropped176x176#h=176&w=176",p=n.ScopeConfig[c(a)].icon,y=a=="FD"?"":n.getFileExtension(l.path),k=this.getOneDriveSuggestionIcon(n.isMedia(a),p,b,y,v),s=n.createSuggestion(r,f.displayText,k,p,a,f.query,n.InstrumentedItem.createInstrumentedItem(e,a),7,e,!0);s.url=i+v;s.path="OneDrive:\\"+l.path.slice(1).replace(/[/]/g,"\\");s.extensionLC=y?y.toLocaleLowerCase():undefined;w=+l.dateModified/1e4-o;s.lastModifiedDate=n.toDate(w);s.sourceForGroup=2;n.setFileTemplate(r,n.getEffectiveQuery(r),n.isL2(r),s);s.click=function(){return n.Host.launchUri(s.url)};s.locationUrl=l.parentFolder&&l.parentFolder.id?i+l.parentFolder.id:t;n.setExtraVerbs(s,function(){var t={verb:n.JumplistActionItemType[n.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:n.Host.getLocString("OpenFileLocationIn",n.getGroupSourceDisplayName(2)),executeSync:function(){return n.Host.launchUri(s.locationUrl)},icon:{type:2,content:"&#xE838"}};return[t]},!0);n.isValidSuggestion(s,"OneDriveParser")&&u.push(s)}},r.prototype.getOneDriveSuggestionIcon=function(t,i,r,u){return n.getIconForTypeAsync(i,u)},r}();n.OneDriveParser=u}(WSB||(WSB={})),function(n){var t;(function(t){var i=function(){function t(){var t=this;n.Host.bindQueryChangedOrInitialized(function(){t._previousWebSignals=t._currentWebSignals;t._currentWebSignals=null;(!n.config.enableCISpeller||t._currentSpellerTrigger)&&(t._previousSpellerTrigger=t._currentSpellerTrigger,t._currentSpellerTrigger=null)});n.Host.bindConversationStart(function(){t._previousWebSignals=null;t._currentWebSignals=null;t._previousSpellerTrigger=null;t._currentSpellerTrigger=null;t._previousBestMatchSuggestion=null;t._previousQuery=null})}return t.prototype.setPreviousQuery=function(n){this._previousQuery=n},t.prototype.getPreviousQuery=function(){return this._previousQuery||""},t.prototype.updateWebSignalsData=function(n,t){this._currentWebSignals={query:n,signals:t}},t.prototype.setPreviousTopHit=function(n){this._previousBestMatchSuggestion=n},t.prototype.getPreviousTopHit=function(){return this._previousBestMatchSuggestion},t.prototype.updateSpellerTriggerData=function(n,t){this._currentSpellerTrigger={query:n,triggerSpeller:this.triggerSpellerOnTheNextKeyStroke(t,n)}},t.prototype.getPreviousEventWebSignalsData=function(n){return this._previousWebSignals&&this.isPreviousEventQuery(this._previousWebSignals.query,n)?this._previousWebSignals.signals:null},t.prototype.disableCISpeller=function(n){return this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.isPossibleFirstMisspelling(n,this._previousSpellerTrigger.query)?!0:!1},t.prototype.enableCISpeller=function(t){return n.config.enableCISpeller?this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.disableCISpeller(t)?!1:this._previousSpellerTrigger&&this.isPossibleFirstMisspelling(this._previousSpellerTrigger.query,t)?!0:this._previousSpellerTrigger&&(this.isTypedEventQuery(this._previousSpellerTrigger.query,t)||this.isBackspaceEventQuery(this._previousSpellerTrigger.query,t))&&this._previousSpellerTrigger.triggerSpeller:this._previousSpellerTrigger&&this.isPreviousEventQuery(this._previousSpellerTrigger.query,t)&&this._previousSpellerTrigger.triggerSpeller},t.prototype.triggerSpellerOnTheNextKeyStroke=function(t,i){return n.config.enableCISpeller==1?!0:t.every(function(n){return n.notAResult})?!0:t.length>0&&this.isWebSpellCorrectedSuggestion(t[0])&&t.every(function(n){return n.handoffType==0})?!0:n.config.enableCISpeller==2&&!t.some(function(t){return n.isApp(t.type)||n.isSetting(t.type)})?!0:this.enableCISpeller(i)?!0:!1},t.prototype.isWebSpellCorrectedSuggestion=function(n){return n.type=="SC"||n.type=="OS"},t.prototype.isPreviousEventQuery=function(n,t){return n&&t&&n.length==t.length-1&&t.startsWith(n)},t.prototype.isBackspaceEventQuery=function(n,t){return n&&t&&n.length==t.length+1&&n.startsWith(t)},t.prototype.isTypedEventQuery=function(n,t){return(n||n==="")&&t&&n.length<t.length&&t.startsWith(n)},t.prototype.isPossibleFirstMisspelling=function(t,i){if(this._previousBestMatchSuggestion){var r=this._previousBestMatchSuggestion.ciMatchedQuery||this._previousBestMatchSuggestion.query;return r.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!r.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1}return this._previousBestMatchSuggestion&&this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1},t}();t.PreviousKeystrokeCache=i})(t=n.Cache||(n.Cache={}))}(WSB||(WSB={})),function(n){var t;(function(t){function c(t){e=t;var f=_ge("dialogBox");f&&(sj_be(f,"click",function(n){var r=n.target.id,t=i().filter(function(n){return n.id==r}).shift();t?(t.action&&t.action(),u()):r=="dialog_overlay"&&u();sj_sp(n)},!0),n.Host.bindKeyDown(function(n){var e,o,t,s,f,u;if(r){e=void 0;switch(n){case 39:for(t=i(),o=!1,f=0,u=void 0;u=t[f];f++)if(o){e=u;break}else if(o=u.selected==!0,o&&f+1==t.length){e=t[0];break}break;case 37:for(t=i(),s=void 0,f=0,u=void 0;u=t[f];f++){if(u.selected==!0){e=s?s:t[t.length-1];break}s=u}}e&&h(e)}}),n.Host.bindKeyEscape(function(n){o()&&(u(),n.handled=!0)}))}function l(t,i,u,o){var s,h;if(f=[],i.length==0)throw new Error("DialogBox: Empty buttons array");f=i.map(function(n,t){var i=n;return i.id="dialog_b"+t,i.narratorText=i.text,i.selected&&(s=i.id),i});h={isVisible:!0,title:u,messageText:t,buttons:f,isModal:o};e.updateDialogBox(h);s&&n.safeSetTimeout(function(){return _ge(s).focus()},0,"DialogBox.show");n.Host.setFocusInWebView("dialogBoxViewModel");r=!0}function u(){if(r)e.updateDialogBox({isVisible:!1}),r=!1}function o(){return r}function i(){return f}function a(){return i().map(function(n){return[n]})}function s(){return i().filter(function(n){return n.selected}).shift()}function h(n){for(var r,t=0,u=i();t<u.length;t++)r=u[t],r.selected=r.id==n.id,r.selected&&_ge(n.id).focus()}function v(){if(o()){var n=s();n&&(n.action&&n.action(),u())}}function y(){return!1}var f=[],e,r=!1;t.init=c;t.show=l;t.hide=u;t.isVisible=o;t.getSelectableItems=i;t.getSelectableItemsByGroup=a;t.getSelectedItem=s;t.select=h;t.submit=v;t.onAfterKeyDown=y})(t=n.DialogBox||(n.DialogBox={}))}(WSB||(WSB={})),function(n){function h(n){return n.includes("form=vsranf")}function c(t){var i=n.tryParseUrl(t,!0);return!!i&&/[\?\&]q=/i.test(i.parameters)&&!/[\?\&]view=detail/i.test(i.parameters)}function lt(t){var i=n.tryParseUrl(t,!0);return!!i&&ct.test(i.parameters)}function at(n){switch(n){case 17:case 1:case 0:return 1;case 13:return 2;case 14:return 3;default:throw Error("Unsupported handoff type: "+n);}}function l(n){switch(n){case 1:return 1;case 2:return 7;case 3:return 8;default:throw Error("Unsupported vertical: "+n);}}function a(t){var i=n.tryGetBingPathLC(t);return i?n.contains(st,i)?2:n.contains(ht,i)?3:n.contains(n.WebSearchPaths,i)?1:null:null}var o=n.PreviewPaneWidth-24,y="miniserp_focus",p="disableOutline",i=2,w=["tab-active","slide"],b=["aria-expanded"],k="videoPreview",d=300,u=30,g="IsSearchAppXYFocusEnabled",nt="WinJS",tt="dFocusExit",t="win-xyfocus-suspended",it="Rewards.ReportActivity.Success",rt="Rewards.ReportActivity.Failure",v,e;n.MiniSerpIframeId="miniIframeSerp";n.MiniSerpFetchEvent="miniSERP.Fetch";n.MiniSerpLoadedEvent="MiniSerpContentLoaded";n.MiniSerpClearingEvent="MiniSerpContentClearing";var ut=["/account/","/settings.aspx"],r=function(){var n={};return n[37]="left",n[39]="right",n[38]="up",n[40]="down",n}(),ft=1e4,s=800,et=100,ot=["&form=s00037&"],st=["/images/search","/images"],ht=["/videos/search","/videos"],ct=/[\?\&]FORM=HDRSC[1-3]/i,f="ClientInst";v=function(){function t(t,i){var r=this;this._navigationHelper=t;this._msRewardsViewModel=i;this._deviceScale=1;this._previewRequestId=0;this._previousURLs=[];this.blockedMiniSERPUrls=[_w.location.origin+_w.location.pathname];n.Host.bindShown(function(){ThresholdUtilities.getCortanaHeaders(function(n){n&&n["X-BM-DeviceScale"]&&(r._deviceScale=+n["X-BM-DeviceScale"]/100)});r.setVertical(1)});n.Host.bindAppHidden(function(){r._seeAllResults&&(r._seeAllResults.innerText="");r._currentVertical=null});n.Host.bindSearchBoxGotFocus(function(){r._focusHelper&&r._focusHelper.onSearchBoxFocusChanged()});sj_evt.bind(n.MiniSerpLoadedEvent,function(){r._onIFrameLoadedCallback&&(r._onIFrameLoadedCallback(),r._onIFrameLoadedCallback=null)});this._msRewardsViewModel&&(sj_evt.bind(it,function(n){var t=n[1];r._msRewardsViewModel.notifyPointsRewarded(t)}),sj_evt.bind(rt,function(n){var t=n[1];SharedLogHelper.LogError("RewardsReportActivityFailureEvent",null,t?new Error(t):null)}))}return t.prototype.init=function(t,i){var u=this;this._previewPaneViewModelParent=t;this._root=i;this._seeAllResults=this._root.querySelector("#seeAllResults");this._footer=this._root.querySelector("#footer");this._mask=this._root.querySelector("#previewMask");this._forceLoadScreen=this._root.querySelector("#forceLoadMessage");this._contentContainer=this._root.querySelector("#miniSerpPaneContainer");this._scrollArea=this._root.querySelector("#miniSerpScollArea");this._loadingScreen=this._root.querySelector("#loadingScreen");sj_be(this._scrollArea,"scroll",function(t){u._iframe&&n.contains([2,3],u._currentVertical)&&u._iframe.contentWindow.dispatchEvent(new Event(t.type,t));u._calculateIFrameHeight&&u._calculateIFrameHeight()});this._footer&&sj_be(this._footer,"keydown",function(t){u._iframe&&n.isUpOrDownKey(t.keyCode)?(t.keyCode==38?u.tryExecuteFocusOnMiniSerp(function(){return u._focusHelper.moveFocusToEdgeFocusableElement(1)}):n.RuntimeConfig.AllowKeyboardNavCycling&&u.tryExecuteFocusOnMiniSerp(function(){return u._focusHelper.moveFocusToEdgeFocusableElement(0)}),sj_pd(t),sj_sp(t)):t.keyCode==13&&u._footer.click()});this._mask&&n.RuntimeConfig.MiniSERPMode!=0&&sj_be(this._mask,"keydown",function(n){n.keyCode==13&&u._mask.click()});sj_be(_w,"message",function(t){var f=t.data?t.data.msWinJSXYFocusControlMessage:null,i,e;f&&f.type==tt&&(i=f.direction,e=f.keyCode,u._focusHelper&&!u._focusHelper.isL2Visible()&&u._focusHelper.getXYFocusRoot()!=u._originalMiniSerpXYFocusRoot?(u._focusHelper.setXYFocusRoot(u._originalMiniSerpXYFocusRoot),u.tryExecuteFocusOnMiniSerp(function(){return u._focusHelper.moveFocus(i,e)})):(i!=r[n.getRtlAdjustedKey(39)]&&t.source.blur(),i==r[40]||i==r[38]&&n.RuntimeConfig.AllowKeyboardNavCycling?u._footer?u._footer.focus():u._focusHelper.moveFocusToEdgeFocusableElement(i==r[38]?1:0):i!=r[n.getRtlAdjustedKey(37)]||n.Host.searchBoxHasFocus()||n.Host.setFocusInSearchBox(e,"previewPaneUnfocus")))})},t.prototype.finalizeKeystroke=function(){this.instrumentOnPreviewPaneRendered(!1,!0)},t.prototype.getSelectableItems=function(){return[]},t.prototype.getSelectableItemsByGroup=function(){return[]},t.prototype.getSelectedItem=function(){return null},t.prototype.select=function(){},t.prototype.onAfterKeyDown=function(){return!1},t.prototype.clear=function(){this._previewedSuggestion=null;this._onPreviewPaneRendered=null;this._footer&&(n.setVisibility(this._footer,!1),this._footer.onclick=null);this._mask&&(n.setVisibility(this._mask,!1),this._mask.onclick=null);this._forceLoadScreen&&this.clearForceLoadPage();this.clearContent();this._previousURLs=[]},t.prototype.showForceLoad=function(t,i){var r=this;n.InstrumentationHelper.logClientInstEvent("Select","ForceLoadOpened",n.SequenceNumberManager.getSequenceNumber(),{suggestionText:t});this.stopLoadingScreen();n.setVisibility(this._scrollArea,!1);n.setVisibility(this._footer,!1);n.setVisibility(this._mask,!1);n.setVisibility(this._forceLoadScreen,!0);this.formatForceLoadPage(t);this._forceLoadScreen.onclick=function(){r.clearForceLoadPage();r.startLoadingScreen();i()}},t.prototype.clearForceLoadPage=function(){for(n.setVisibility(this._forceLoadScreen,!1),n.setVisibility(this._scrollArea,!0),this._forceLoadScreen.onclick=null,this._forceLoadScreen.classList.remove("forceLoadContainer");this._forceLoadScreen.hasChildNodes();)this._forceLoadScreen.removeChild(this._forceLoadScreen.lastChild)},t.prototype.formatForceLoadPage=function(t){var h=n.Host.getLocString("ForceLoadMessage"),c=n.Host.getLocString("ForceLoadButton"),o=h.split("{0}"),s=sj_ce("div","","accentColor"),u,r,f,e,i;this._forceLoadScreen.appendChild(s);u=_d.createElement("span");u.id="forceLoadIcon";u.innerHTML="&#xE721";s.appendChild(u);r=sj_ce("div","forceLoadQueryText","");r.appendChild(_d.createTextNode(o[0]));f=_d.createElement("span");f.textContent=t;r.appendChild(f);r.appendChild(_d.createTextNode(o[1]));this._forceLoadScreen.appendChild(r);e=sj_ce("div","","");this._forceLoadScreen.appendChild(e);i=_d.createElement("button");i.className="c-button";i.id="forceLoadSubmit";i.type="submit";i.textContent=c;e.appendChild(i)},t.prototype.startLoadingScreen=function(){n.setVisibility(this._scrollArea,!1);n.setVisibility(this._footer,!1);n.setVisibility(this._mask,!1);n.setVisibility(this._loadingScreen,!0)},t.prototype.stopLoadingScreen=function(){n.setVisibility(this._loadingScreen,!1);n.setVisibility(this._scrollArea,!0)},t.prototype.clearContent=function(){for(this._previewRequestId+=1,this._focusHelper=null,this._onIFrameLoadedCallback=null,sj_evt.fire(n.MiniSerpClearingEvent);this._contentContainer.hasChildNodes();)this._contentContainer.removeChild(this._contentContainer.lastChild);this._iframe&&(this._iframe=null,this._calculateIFrameHeight=null);this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)},t.prototype.hasFocus=function(){if(n.Host.searchBoxHasFocus())return!1;var t=n.getCurrentActiveElement();return t&&t!=this._iframe&&this._root.contains(t)},t.prototype.focus=function(){var i=this,t;this.hasFocus()||(this._iframe?(t=this.tryExecuteFocusOnMiniSerp(function(){return i._focusHelper.moveFocusToLastFocusedElement()}),t?n.Host.setFocusInWebView("miniserp focus"):n.Host.setFocusInSearchBox(null,"MiniSERP VM Focus failed")):this._previewPaneViewModelParent.focusPending=!0)},t.prototype.readyToBlur=function(){return!0},t.prototype.blur=function(){},t.prototype.setVertical=function(t){if(t!=this._currentVertical){if(this._seeAllResults)switch(t){case 1:this._seeAllResults.innerText=n.Host.getLocString("OpenResultsBrowser");break;case 2:this._seeAllResults.innerText=n.Host.getLocString("SeeAllImageResults");break;case 3:this._seeAllResults.innerText=n.Host.getLocString("SeeAllVideoResults");break;default:throw new Error("Unsupported vertical type: "+t);}this._currentVertical=t}},t.prototype.instrumentOnPreviewPaneRendered=function(n,t){if(this._timestampFirstRender&&this._onPreviewPaneRendered){var i={firstRenderTS:this._timestampFirstRender};this._onPreviewPaneRendered(t,!n,i)}},t.prototype.update=function(t,i,r,u,f,e){var o=this,h,l,a,c;if(this._onPreviewPaneErrored=e,!f){this.instrumentOnPreviewPaneRendered(!0,!1);return}if(this.instrumentOnPreviewPaneRendered(!1,!0),this.miniSERPRenderTimeoutInstrumentation("miniSerpViewModelUpdate"),n.config.disableOfflineRequest&&!n.isBrowserOnline()){this.renderOfflineMessage(t.query);return}if(this._previewedSuggestion=t,this._onPreviewPaneRendered=f,this._timestampFirstRender=null,h=t.type=="MB"&&t.segments=="Organization"?null:t.baseSearchUrl,l=at(t.handoffType),this.setVertical(l),this._footer&&(this._footer.onclick=function(r){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(r),3);n.Host.launchSearch(t.query,o._navigationHelper.getSearchUrl(i.fullPartialQuery,t.query,t.type,h,t.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),this._mask&&(this._mask.onclick=function(r){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(r),3);n.Host.launchSearch(t.query,o._navigationHelper.getSearchUrl(i.fullPartialQuery,t.query,t.type,h,t.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.noSerp){this.renderIframe(null,"<html><body><\/body><\/html>",{},undefined,!1);a=n.getCurrentTime();this._previewPaneViewModelParent.onResponseReceived(a);return}var v=r==0,y=n.RuntimeConfig.QfMode==6?undefined:v?"WMSRPA":"WMSRPM",s=this._navigationHelper.getSearchUrl(i.fullPartialQuery,t.query,t.type,h,t.handoffType,y,!0,null,v);if(s+="&qfig="+n.InstrumentationHelper.getImpressionGuid(n.SequenceNumberManager.getSequenceNumber()),this._msRewardsViewModel&&this._msRewardsViewModel.isRewardsEnabled()&&(s+="&rewards=1"),i.serpURLParams)for(c in i.serpURLParams)s=ThresholdUtilities.setUrlParameter(s,c,i.serpURLParams[c]);this._previousURLs=[];this.downloadAndDisplayMiniSerp(t,s,null,r)},t.prototype.miniSERPRenderTimeoutInstrumentation=function(t){var i;i={FunctionCalled:t};n.InstrumentationHelper.logClientInstEvent(f,"MiniSERPRenderTimeout",n.SequenceNumberManager.getSequenceNumber(),i)},t.prototype.miniSerpErrorInstrumentation=function(t,i,r){var u;u=r?{ErrorCause:t,ResponseRecievedTimeStamp:i.toString(),ResponseText:r.responseText,ContentType:r.contentType,ResponseStatusCode:r.status.toString(),RequestStatusCode:r.result.toString()}:{ErrorCause:t};n.InstrumentationHelper.notifyTopHitPreviewPaneOpenedOrInterrupted(n.SequenceNumberManager.getSequenceNumber());n.InstrumentationHelper.logClientInstEvent(f,"MiniSERPError",n.SequenceNumberManager.getSequenceNumber(),u)},t.prototype.renderOfflineMessage=function(t){for(var f,e=n.isBrowserOnline(),o=n.Host.getLocString("PreviewPaneOfflineTitle"),r=n.Host.getLocString("PreviewPaneOfflineMessage").split("{0}"),u=[],s=r.length-1,i=0;i<r.length;i++)i==s?u.push({text:r[i],click:function(){return n.Host.launchUri("ms-settings:troubleshoot")}}):u.push({text:r[i]});f={isOnline:e,previewPaneTitle:o,previewPaneItems:u,fullPartialQuery:t};this._onPreviewPaneErrored(f)},t.prototype.renderErrorMessage=function(t){for(var f,e=n.isBrowserOnline(),r=n.Host.getLocString("PreviewPaneErrorMessage").split("{0}"),u=[],i=0;i<r.length;i++)u.push({text:r[i]});f={isOnline:e,previewPaneTitle:"",previewPaneItems:u,fullPartialQuery:t};this._onPreviewPaneErrored(f)},t.prototype.downloadAndDisplayMiniSerp=function(t,i,r,u){var f=this,s=!1,h,c,l,a,v,e,y,p,w;(n.TestHookUrlParameters||n.MockUrlParameters)&&(s=!!n.MockUrlParameters,h=n.TestHookUrlParameters!==null&&n.TestHookUrlParameters!==void 0?n.TestHookUrlParameters:n.MockUrlParameters,c=h.previewPaneUrlOverride,i=c?decodeURIComponent(c):n.UrlParameters.copyTestParametersTo(i),s&&(i=ThresholdUtilities.setUrlParameter(i,"client","windowsMiniSerp")),l=h.miniSerpBag,l&&(i=ThresholdUtilities.setUrlParameter(i,"bag",l)),a=h.dummyref,a&&(i=ThresholdUtilities.setUrlParameter(i,"dummyref",a)));v=u==0;sj_evt.fire(n.MiniSerpFetchEvent,t,v);e=n.Host.getCustomHeaders(null);e["X-BM-DeviceDimensionsLogical"]=o+"x"+this._root.clientHeight;e["X-BM-DeviceDimensions"]=String(Math.round(o*this._deviceScale))+"x"+this._root.clientHeight;s||(e["User-Agent"]=navigator.userAgent+" RestrictedAPI");r&&(e["Content-Type"]=r.contentType);e["X-Search-SafeSearch"]="Strict";y=++this._previewRequestId;p=function(u){if(f._shouldRenderMiniSerp)sb_ct(f._ppMiniSerpRenderTimer),f._ppMiniSerpRenderTimer=null,f._shouldRenderMiniSerp=!1;else return;f.miniSERPRenderTimeoutInstrumentation("miniSerpViewModelCallback");var o=n.getCurrentTime();f._previewPaneViewModelParent.onResponseReceived(o);u.status==200&&u.responseText?(f._previousURLs.push(i),f.renderIframe(i,u.responseText,e,s,!!r)):(n.InstrumentationHelper.notifyTopHitPreviewPaneOpenedOrInterrupted(n.SequenceNumberManager.getSequenceNumber()),f.miniSerpErrorInstrumentation("renderErrorMessage",o,u),f.renderErrorMessage(t.query))};this._ppMiniSerpRenderTimer&&(sb_ct(this._ppMiniSerpRenderTimer),this._ppMiniSerpRenderTimer=null);this._shouldRenderMiniSerp=!0;w=(n.config.miniSERPRequestRetries+1)*n.config.miniSERPRequestTimeout+1e3;this._ppMiniSerpRenderTimer=n.safeSetTimeout(function(){f._previewedSuggestion!=null&&f._previewedSuggestion==t&&(f._shouldRenderMiniSerp=!1,n.InstrumentationHelper.notifyTopHitPreviewPaneOpenedOrInterrupted(n.SequenceNumberManager.getSequenceNumber()),f.miniSERPRenderTimeoutInstrumentation("ppMiniSerpRenderTimeout"),f.stopLoadingScreen(),f.renderErrorMessage(t.query))},w,"ppMiniSerpRenderTimer");this.fetchMiniSerpUrl(i,r?r.data:null,e,p,y,r?0:n.config.miniSERPRequestRetries)},t.prototype.isDarkModeEnabled=function(){var t=n.Host.getWindowsTheme(),i=n.Host.getAppTheme();return t==2&&i==2},t.prototype.fetchMiniSerpUrl=function(t,i,r,u,e,o){var s=this,h=u;o>0&&(h=function(i){if(i.result==0&&i.responseText)u(i);else{var h={Url:t,StatusCode:i.status.toString(),Timeout:n.config.miniSERPRequestTimeout.toString(),RetriesRemaining:o.toString()};n.InstrumentationHelper.logClientInstEvent(f,"MiniSERPRefetch",n.SequenceNumberManager.getSequenceNumber(),h);s.fetchMiniSerpUrl(t,null,r,u,e,o-1)}});n.config.darkMode&&this.isDarkModeEnabled()&&!t.includes("&darkschemeovr=1")&&(t+="&darkschemeovr=1");n.fetchUrl(t,r,i,h,null,function(){return e==s._previewRequestId},!0,i?undefined:n.config.miniSERPRequestTimeout)},t.prototype.renderIframe=function(t,i,r,u,f){var e=this;this.clearContent();this._iframe=sj_ce("iframe",n.MiniSerpIframeId);this._iframe.setAttribute("scrolling","no");this._contentContainer.appendChild(this._iframe);var s=this._iframe.contentWindow,o=this._iframe.contentDocument,h=!1;this._footer&&(n.setVisibility(this._footer,!f),n.setVisibility(this._mask,!f));this.setIframeHeight(0);this._onIFrameLoadedCallback=function(){var f=o.body,h=0,i;e._calculateIFrameHeight=function(){var n=f.offsetHeight;n!=h&&n>0&&(h=e.setIframeHeight(n))};e._calculateIFrameHeight();e.overrideAjaxCalls(s,r,u);e.captureNavigationsAndSizeEvents(t,f,s,o);e._scrollArea.scrollTop=0;n.config.backStackSearchEnabled&&(e._shouldAddSearchBackStack=!0,e._currentBackStackTimeout&&clearTimeout(e._currentBackStackTimeout),e._currentBackStackTimeout=sb_st(function(){e._shouldAddSearchBackStack=!1},n.config.miniSerpRedirectTimeoutInMs));n.contains([2,3],e._currentVertical)&&(i={childList:!0,subtree:!0},e._mutationObserver=new MutationObserver(function(){e._calculateIFrameHeight&&e._calculateIFrameHeight()}),n.safeExecute(function(){e._currentVertical===2?e._mutationObserver.observe(o.getElementById("images"),i):e._currentVertical===3&&e._mutationObserver.observe(o.getElementById("video"),i)},"onIFrameLoadedCallback"));e._msRewardsViewModel&&e._msRewardsViewModel.isRewardsEnabled()&&s.sj_rra&&s.sj_rra(t);e._timestampFirstRender=n.getCurrentTime();e.instrumentOnPreviewPaneRendered(!0,!1)};this._iframe.onload=function(){if(h){e.tryLaunchUrl(t,s.location.href,0);return}h=!0;e.overrideAjaxCalls(s,r,u)};o.open();o.write(i);o.write("<base href='"+t+"' target='_parent' />");o.write("<script>window.parent.sj_evt.fire('"+n.MiniSerpLoadedEvent+"')<\/script>");o.close()},t.prototype.setIframeHeight=function(n){return n<s&&(n=s),this._iframe.style.height=n+"px",n},t.prototype.overrideAjaxCalls=function(n,t,i){var r=this;n.sj_gx=function(){var n=sj_gx(),u=n.open;return n.open=function(f,e,o,s,h){if(r.blockedMiniSERPUrls.some(function(n){return e.startsWith(n)}))throw new Error("MiniSERP blocked URL request: iFrame URL: "+r._iframe.contentDocument.baseURI+" requestUrl: "+e);f=="GET"&&i&&(e=ThresholdUtilities.setUrlParameter(e,"client","windowsMiniSerp"));u(f,e,o,s,h);for(var c in t)n.setRequestHeader(c,t[c])},n}},t.prototype.captureNavigationsAndSizeEvents=function(t,i,r,u){var e=this,c;this._focusHelper=this.createFocusHelper(r,u);this._focusHelper&&(this._originalMiniSerpXYFocusRoot=this._focusHelper.getXYFocusRoot());this._previewPaneViewModelParent.focusPending&&(this._previewPaneViewModelParent.focusPending=!1,this.focus());this._iframe.contentWindow.overlay_onBeforeContentLoad=function(){e.setIframeHeight(ft)};this._iframe.contentWindow.overlay_onBeforeSuccess=function(n){e.setIframeHeight(n.clientHeight+et)};var o=function(){r.sj_lc=function(n){if(n)e.tryLaunchUrl(t,n,0);else{var i=e._previousURLs[e._previousURLs.length-2];e._previousURLs.splice(e._previousURLs.length-2,2);e.tryLaunchUrl(t,i,0)}};r.MiniSerp=!0;e._calculateIFrameHeight()},h=function(n){e._focusHelper.setXYFocusRoot(n);e._focusHelper.moveFocusToEdgeFocusableElement(0)},s=r.sj_evt;s?(c=["onP1","ajaxReady"],c.forEach(function(n){return s.bind(n,o)}),s.bind("l2_overlay_visible",function(n){o();var t=e._iframe.contentDocument.getElementById(n[1]);t&&(e._focusHelper.setIsL2Visible(!0),h(t))}),s.bind("l2_overlay_hidden",function(){o();e._focusHelper.setIsL2Visible(!1);h(e._iframe.contentDocument.body)})):o();r.open=function(n){return e.tryLaunchUrl(t,n,0),null};i.onclick=function(i){var r=i.target;if(r){if(r.id=="miniSERPToWeb"){n.InstrumentationHelper.logClientInstEvent(f,"AdultExplicitLoad",n.SequenceNumberManager.getSequenceNumber(),{url:t,query:e._previewedSuggestion.query});e._footer.click();return}while(r&&!r.href)r=r.parentNode}r&&e.tryLaunchUrl(t,r.href,n.getInputType(i))==0&&i.preventDefault()}},t.prototype.navigateInPlace=function(t,i,r,u){var s=this,f=l(u),e,o;this._previewPaneViewModelParent.onBeforeItemLaunch(i,r,f);this._footer&&(this._footer.onclick=function(){return n.Host.launchSearch(null,s.enrichBingSearchUrlParameters(t),!1)});this.clearContent();this._previewPaneViewModelParent.focusPending=!0;this.startLoadingScreen();e=this.enrichBingSearchUrlParameters(t,!0);this.setVertical(u);o={destinationVertical:u.toString(),url:t};n.InstrumentationHelper.logClientInstEvent("Select","NavigateInPlace",n.SequenceNumberManager.getSequenceNumber(),o);this.downloadAndDisplayMiniSerp(this._previewedSuggestion,e,null,1);this._previewPaneViewModelParent.onAfterItemLaunch(f)},t.prototype.tryLaunchUrl=function(t,i,r){var o,u,s,f,v,e;if(!i)return 1;if(o=n.getCurrentTime(),i=i.trim(),u=i.toLowerCase(),s=a(i),s!==null&&c(i)&&!h(u)&&lt(i)&&s!==this._currentVertical)return this.navigateInPlace(i,o,r,s),0;if(u.startsWith("javascript:location.reload"))return 0;if(i==t+"#"||u.startsWith("javascript:"))return 1;if(u=="/loading")return 0;if(i.startsWith(window.location.href))return SharedLogHelper.LogError("previewPane.tryLaunchUrl",t,new Error("Anchor navigation on PreviewPane")),0;if(i.startsWith("/")&&(i=n.getWindowProtocol()+"//"+n.getWindowHost()+i),f=a(i),f){if(f==this._currentVertical&&c(i)&&ot.some(function(n){return u.includes(n)}))return this.navigateInPlace(i,o,r,f),0;i=this.enrichBingSearchUrlParameters(i)}v=f?l(f):2;this._previewPaneViewModelParent.onBeforeItemLaunch(o,r,v);if(e=n.tryGetBingPathLC(i),e)if(ut.some(function(n){return e.startsWith(n)})||h(u))n.Host.launchUri(n.config.settingsUri);else if(e.startsWith("/profile/interests"))n.Host.launchCat1(null,"ms-cortana://navigate/Notebook",null);else if(e.startsWith("/fd/auth/")){var y=SearchAppWrapper.CortanaApp,p=y.isCortanaEnabled?n.safeExecute(function(){return y.getCortanaCapabilities()},"getCortanaCapabilities","").split(","):[],w=n.contains(p,"Personalization");w?SharedLogHelper.LogError("previewPane.tryLaunchUrl",t,new Error("Redirecting to sign in page when already signed in")):n.Host.launchUri("ms-cortana://CapabilitiesPrompt/?RequestedCapabilities=Personalization")}else n.config.backStackAdsEnabled&&this._shouldAddSearchBackStack&&i.indexOf("aclk?ld=")>-1&&(sb_ct(this._currentBackStackTimeout),i=this.buildAdsRedirectUrl(this._previewedSuggestion.query,i)),n.Host.launchUri(i);else this._shouldAddSearchBackStack&&!u.startsWith("ms-settings")&&(sb_ct(this._currentBackStackTimeout),i=this.buildRedirectUrl(this._previewedSuggestion.query,i)),n.Host.launchUri(i);this._previewPaneViewModelParent.onAfterItemLaunch(v);return 0},t.prototype.enrichBingSearchUrlParameters=function(n,t){return t===void 0&&(t=!1),n=this._navigationHelper.enrichUrlWithMarketInfo(n),n=this._navigationHelper.enrichUrlWithDeviceInfo(n),n=this._navigationHelper.enrichUrlWithCvid(n),n=this._navigationHelper.enrichUrlWithSuggestionType(n,this._previewedSuggestion.type),t||(n=this._navigationHelper.enrichUrlWithMuidInfo(n),n=this._navigationHelper.enrichUrlWithSafeSearchInfo(n)),n},t.prototype.createFocusHelper=function(n,t){var i=this.getSearchAppWinJSXYFocus(n);return!i&&SearchAppWinJS&&SearchAppWinJS.initXYFocus&&(SearchAppWinJS.initXYFocus(n),i=this.getSearchAppWinJSXYFocus(n),n[g]=i?!0:!1),i?new e(t,n,i,this._scrollArea,this._currentVertical):null},t.prototype.getSearchAppWinJSXYFocus=function(n){var i,t=n[nt];return t&&t.UI&&(i=t.UI.XYFocus),i},t.prototype.tryExecuteFocusOnMiniSerp=function(n){var t=!1;return this._focusHelper&&(t=n()),t||this._footer&&(this._footer.focus(),t=!0),t},t.prototype.buildAdsRedirectUrl=function(t,i){var r=new URL(i);return!r||!r.search||r.search.length<1?i:_w.location.protocol+"//"+_w.location.host+"/WS/redirect/?q="+n.encodeQueryParameter(t)+"&form=WSBBST&cvid="+n.encodeQueryParameter(n.Host.getConversationId())+"&rtk="+this._iframe.contentWindow.rtk+"&"+r.search.substring(1)},t.prototype.buildRedirectUrl=function(t,i){return _w.location.protocol+"//"+_w.location.host+"/WS/redirect/?q="+n.encodeQueryParameter(t)+"&url="+btoa(i)+"&form=WSBBST&cvid="+n.encodeQueryParameter(n.Host.getConversationId())+"&rtk="+this._iframe.contentWindow.rtk},t}();n.MiniSerpViewModel=v;e=function(){function f(t,i,r,u,f,e){var o=this,s;this._targetDocument=t;this._targetWindow=i;this._searchAppXYFocus=r;this._scrollArea=u;this._verticalType=f;this._useStickyFocusOverride=e;this._isL2Visible=!1;this._useStickyFocus=!1;(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.stickyFocus)===!0&&(this._useStickyFocus=!0);this._useStickyFocusOverride!=null&&(this._useStickyFocus=this._useStickyFocusOverride);var h="b_hide",c="acc-inactive",l=".b_slidebar";this._focusDiv=sj_ce("div",y,h);t.body.appendChild(this._focusDiv);sj_be(t,"blur",function(t){o._useStickyFocus?(!t.srcElement.offsetParent||t.srcElement.classList.contains("b_hide")||t.relatedTarget)&&n.setVisibility(o._focusDiv,!1):n.setVisibility(o._focusDiv,!1)},!0);s=!0;sj_be(t,"click",function(){return s=!1},!0);sj_be(t,"keydown",function(){return s=!0},!0);sj_be(t,"focus",function(){return o.updateFocusedElementAndOutline(o._targetDocument.activeElement,s)},!0);sj_be(t,"scroll",function(n){o._lastElementFocused&&(n.srcElement==o._lastElementFocused||o._lastElementFocused.compareDocumentPosition(n.srcElement)&Node.DOCUMENT_POSITION_CONTAINS)&&o.updateFocusedElementAndOutline(o._lastElementFocused,s)},!0);sj_be(t,"transitionend",function(n){var t=o._targetDocument.activeElement;(n.propertyName=="height"||n.srcElement==t.closest(l))&&(o._focusOutlineTimeout?(o.clearFocusOutlineTimeout(),o.outlineElementAndScrollIntoView(t)):o._focusDiv.classList.contains(h)||o.outlineElementAndScrollIntoView(t),n.srcElement.style.height=="0px"?n.srcElement.classList.add(c):n.srcElement.classList.remove(c))});this._searchAppXYFocus.keyCodeMap.home.push(36);this._searchAppXYFocus.keyCodeMap.end.push(35)}return f.prototype.getXYFocusRoot=function(){return this._searchAppXYFocus.focusRoot},f.prototype.isL2Visible=function(){return this._isL2Visible},f.prototype.setIsL2Visible=function(n){this._isL2Visible=n},f.prototype.setXYFocusRoot=function(n){this._searchAppXYFocus.focusRoot=n},f.prototype.moveFocus=function(n,t){return this._searchAppXYFocus._xyFocus(n,t)},f.prototype.moveFocusToEdgeFocusableElement=function(n,t){var i,h;if(t===void 0&&(t=!1),this._targetWindow.focus(),t&&n==0)i=this.focusFirstSerpElement();else{var f=void 0,e=void 0,u=void 0,o=this._targetWindow.innerWidth,s=this._targetWindow.innerHeight;n==0?(f=-1,e=0,u=40):n==1&&(f=s,e=s+1,u=38);h={top:f,bottom:e,right:o,left:0,height:1,width:o};i=this._searchAppXYFocus._xyFocus(r[u],u,h)}return i&&(this.scrollTo(n),this.updateFocusedElementAndOutline(this._targetDocument.activeElement)),i},f.prototype.onSearchBoxFocusChanged=function(){this._targetDocument.hasFocus()?this.updateFocusedElementAndOutline(this._targetDocument.activeElement):this._useStickyFocus||n.setVisibility(this._focusDiv,!1)},f.prototype.isVisible=function(n){var t=_w.getComputedStyle(n);return!(t.visibility=="hidden"||t.display=="none"||n.offsetWidth===0&&n.offsetHeight===0)},f.prototype.moveFocusToLastFocusedElement=function(){return this._lastElementFocused&&this.isVisible(this._lastElementFocused)?(this._lastElementFocused.focus(),this.updateFocusedElementAndOutline(this._lastElementFocused),!0):this.moveFocusToEdgeFocusableElement(0,!0)},f.prototype.updateFocusedElementAndOutline=function(t,i){var r=this,u;(i===void 0&&(i=!0),t&&t!=this._targetDocument.body)&&(this.processFocusedElement(t),i)&&(u=this._lastElementFocused&&t.elementType&&t.elementType==this._lastElementFocused.elementType&&t.parentElement==this._lastElementFocused.parentElement?d:0,u?(n.setVisibility(this._focusDiv,!1),this._focusOutlineTimeout=n.safeSetTimeout(function(){r._targetDocument.activeElement==t&&r.outlineElementAndScrollIntoView(t);r.clearFocusOutlineTimeout()},u,"updateFocusedElementAndOutline")):this.outlineElementAndScrollIntoView(t),this._lastElementFocused=t)},f.prototype.outlineElementAndScrollIntoView=function(t){var f,o,s;if(t!=this._targetDocument.body&&(this._useStickyFocus||this._targetDocument.hasFocus())){var r=t.getBoundingClientRect(),y=this._targetDocument.documentElement.scrollWidth-i*2,p=this._targetDocument.documentElement.scrollHeight-i*2,h=r.top+this._targetWindow.pageYOffset,e=r.left+this._targetWindow.pageXOffset,w=y-e,b=p-h,c=e<0?Math.floor(r.width+e-i):r.width;if(c<=0){n.setVisibility(this._focusDiv,!1);return}if(f=r.height,f<=0&&t.children.length>0)for(o=0;o<t.children.length;o++)s=t.children[o].getBoundingClientRect(),s.height>f&&(f=s.height,h=s.top);this._focusDiv.style.top=Math.max(i,h)+"px";this._focusDiv.style.left=Math.max(this.isL2Visible?i:i*4,e)+"px";this._focusDiv.style.width=Math.min(w,c)+"px";this._focusDiv.style.height=Math.min(b,f)+"px";n.setVisibility(this._focusDiv,!0);var l=t.getBoundingClientRect(),a=this._scrollArea.offsetHeight+this._scrollArea.scrollTop-l.bottom-u,v=l.top-this._scrollArea.scrollTop-u;a<0?this._scrollArea.scrollTop+=u-a:v<0&&(this._scrollArea.scrollTop+=v-u)}},f.prototype.scrollTo=function(n){var t=0;n==1&&(t=this._scrollArea.scrollHeight);this._scrollArea.scrollTop=t},f.prototype.processFocusedElement=function(i){var r=this,u,e,o,c,f,s,h;i.isProcessed||(u=i.tagName.toLocaleLowerCase(),e=i.getAttribute("type"),u=="select"&&(sj_be(i,"keydown",function(n){n.keyCode==32?i.classList.add(t):n.keyCode==13&&i.classList.remove(t)},!0),this.reactivateXYFocusOnBlur(i)),u=="input"&&e=="range"&&(sj_be(i,"keydown",function(n){var r=n.target,f=+r.getAttribute("min"),e=+r.getAttribute("step"),u=n.keyCode==37,o=n.keyCode==39,s=+r.value-e<f&&u;n.keyCode==38||n.keyCode==40||s?i.classList.remove(t):(u||o)&&i.classList.add(t)},!0),this.reactivateXYFocusOnBlur(i)),o=function(n,r){var u;if(!r.readOnly){if(u=r.selectionStart!=r.selectionEnd,u){i.classList.add(t);return}var f=r.selectionEnd==0,e=r.selectionEnd==r.value.length,o=n.keyCode==36&&!f,s=n.keyCode==35&&!e,h=n.keyCode==37&&!f,c=n.keyCode==39&&!e;h||c||o||s?i.classList.add(t):i.classList.remove(t)}},u=="textarea"&&(sj_be(i,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(i)),u=="input"&&(e=="number"||e=="text")&&(sj_be(i,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(i)),w.some(function(n){return i.classList.contains(n)})?(i.elementType="slide",c=Array.prototype.slice.call(i.querySelectorAll("a:not([onclick='TestHooks.HideShowTestHooks(this);']):not([disabled])"),0),f=c.filter(function(n){return r.isVisible(n)&&n.offsetHeight>0&&n.offsetWidth>0}),f&&sj_be(i,"keydown",function(n){var t=r.countUniqueHrefs(f),u=n.keyCode;n.srcElement==i&&(t>1&&u==40?(n.preventDefault(),r._searchAppXYFocus.focusRoot=i,f[0].focus()):t==1&&u==13&&f[0].click())})):b.some(function(n){return i.hasAttribute(n)})?(i.elementType="expansion",s=function(t){t===void 0&&(t=!0);n.setVisibility(r._focusDiv,!1);r.updateFocusedElementAndOutline(r._targetDocument.activeElement,t)},sj_be(i,"keyup",function(n){n.keyCode==13&&s()},!0),sj_be(i,"click",function(){s(!1)})):i.classList.contains(k)&&(h=function(){var n=r._targetDocument.getElementById("vidPreStopButton"),t,u;n&&n.focus();t=function(){i.focus()};sj_be(n,"click",t);sj_be(n,"keydown",function(n){n=sj_ev(n);n.keyCode===13&&t()});u=r._targetDocument.getElementsByTagName("video")[0];sj_be(u,"ended",t)},sj_be(i,"keydown",function(n){n.keyCode==13&&h()},!0),sj_be(i,"click",function(){h()})),i.classList.add(p),i.isProcessed=!0)},f.prototype.countUniqueHrefs=function(n){var r={},t,i;if(n)for(t=0;t<n.length;t++)i=n[t],i&&(r[i.href]=!0);return Object.keys(r).length},f.prototype.reactivateXYFocusOnBlur=function(n){sj_be(n,"blur",function(){n.classList.remove(t)})},f.prototype.focusFirstSerpElement=function(){var n,i,t,r;switch(this._verticalType){case 1:n=this._targetDocument.getElementById("b_content");break;case 2:n=this._targetDocument.getElementById("images");break;case 3:n=this._targetDocument.getElementById("video");break;default:throw Error("Unknown vertical type "+this._verticalType);}if(n)for(i=n.querySelectorAll('a:not([onclick=\'TestHooks.HideShowTestHooks(this);\']):not([disabled]):not([tabindex="-1"]), button:not([disabled]), input[type=text]:not([disabled]), input[type=submit]:not([disabled]), textarea:not([disabled]), select:not([disabled]):not(#tta_sl):not(#tta_srcsl), [tabindex]:not([disabled]):not([tabindex="-1"]):not(#tta_playiconsrc)'),t=0;t<i.length;t++)if(r=i[t],this.isVisible(r))return r.focus(),!0;return!1},f.prototype.clearFocusOutlineTimeout=function(){sb_ct(this._focusOutlineTimeout);this._focusOutlineTimeout=null},f}();n.WSBMiniSerpFocusHelper=e}(WSB||(WSB={})),function(n){function i(n,t){switch(n){case"arrowRight":case"button":case"submit":return 1;case"autoContent":case"keepOpen":case"alwaysWide":case"refresh":return t&&t.inorganic?3:0;case"arrowUpOrDown":return 0;default:throw new Error("Unknown open type: "+n);}}var t="noScroll",r=function(){function r(t,i,r,u){var f=this;this._page=t;this._previewPaneId=0;this._beforeItemLaunchEventHandlers=[];this._afterItemLaunchEventHandlers=[];var h=function(n,t,i,r,u){f._clickLoggedForCurrentPreviewPane||f._beforeItemLaunchEventHandlers.forEach(function(e){return e(n,f._previewedSuggestion,t,i,r,u)})},c=function(n){f._clickLoggedForCurrentPreviewPane||(f._afterItemLaunchEventHandlers.forEach(function(t){return t(f._previewedSuggestion,f._queryForPreviewedSuggestion,n)}),f._clickLoggedForCurrentPreviewPane=!0)},l=function(t){f._previewPaneResponseReceivedTimeStamp=t;(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.isLoading)||!f.isPreviewPaneWithLoaderViewModel(f._activePreviewPaneViewModel)||f._activePreviewPaneViewModel.stopLoadingScreen()};this._previewPaneViewModelParent={focusPending:!1,onBeforeItemLaunch:h,onAfterItemLaunch:c,onResponseReceived:l};var e=_ge("localPane"),o=_ge("miniSerpPane"),s=_ge("msbPane");i.init(this._previewPaneViewModelParent,o);r&&r.init(this._previewPaneViewModelParent,e);u&&u.init(this._previewPaneViewModelParent,s);SearchAppWrapper.CortanaApp.addEventListener("resettingtodefaultsize",function(){return f.dismiss()});n.Host.bindKeyDown(function(){f._previewPaneViewModelParent.focusPending=!1});n.Host.bindSearchBoxGotFocus(function(){return f._previewPaneViewModelParent.focusPending=!1});n.Host.bindQueryChangedOrInitialized(function(n){return f._currentQuery=n},!0);n.Host.bindAccountChanged(function(){f._miniSerpMustRefresh=!0});n.InstrumentationHelper.bindFinalizeKeystroke(function(n){f._activePreviewPaneViewModel&&n&&f._activePreviewPaneViewModel.finalizeKeystroke()});this._previewPaneInfos=[];this._previewPaneInfos[0]={paneElement:_ge("errorPane"),viewModel:null};this._previewPaneInfos[1]={paneElement:o,viewModel:i,disableRootScroll:!0};this._previewPaneInfos[2]={paneElement:e,viewModel:r};this._previewPaneInfos[3]={paneElement:s,viewModel:u};this._previewPaneScrollElement=_ge("qfPreviewScrollArea")}return r.prototype.init=function(n){this._selectionHandler=n},r.prototype.getSelectableItems=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItems():[]},r.prototype.getSelectableItemsByGroup=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItemsByGroup():[]},r.prototype.getSelectedItem=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectedItem():null},r.prototype.select=function(n,t){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.select(n,t)},r.prototype.onAfterKeyDown=function(n,t,i,r){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.onAfterKeyDown(n,t,i,r):!1},r.prototype.getPreviewedSuggestion=function(){return this._previewedSuggestion},r.prototype.getPreviewedSuggestionToForceTopHit=function(){return this._forceTopHitForPreviewedSuggestion&&!this._closeTimer?this._previewedSuggestion:null},r.prototype.getOnPreviewPaneRendered=function(t,r,u,f){var o=this,h=++this._previewPaneId,s=!0,c=n.getCurrentTime(),e;if(this._instrumentedOpenThisImpression=!1,e="None",t)switch(t.previewPaneType){case 2:e="Local";break;case 3:e="Msb";break;case 1:e="Web"}return n!==undefined&&n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark("RenderPreviewPane - "+e),function(l,a,v){var y,p;if(l||!a){if(a||(s=!1),!o._instrumentedOpenThisImpression){if(y={ppId:""+h,openType:r,suggestion:t?t.instItem.getLayoutKValue():undefined,suggestionType:t?t.type:undefined,startOpening:""+c,openDelay:u?""+u:undefined},v)for(p in v)y[p]=v[p];y.waitingForMore=s?"true":undefined;n.InstrumentationHelper.previewPaneOpenedOrClosed(!0,n.SequenceNumberManager.getSequenceNumber(),t?t.instItem:undefined,t?t.previewPaneType:undefined,i(r,f)==0,y)}o._instrumentedOpenThisImpression=!0;l&&(o._instrumentedOpenThisImpression=!1,r="keepOpen");!s&&n!==undefined&&n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark("RenderPreviewPane - "+e)}}},r.prototype.onPreviewPaneErrored=function(i){for(var f,r=0,u=this._previewPaneInfos;r<u.length;r++)f=u[r],n.setVisibility(f.paneElement,!1);this._previewPaneScrollElement.classList.remove(t);this._page.updatePreviewErrorMessageView(i);n.setVisibility(this._previewPaneInfos[0].paneElement,!0)},r.prototype.showPreview=function(t,r,u,f,e,o){var h=this,s;u===void 0&&(u="button");f===void 0&&(f=!1);e===void 0&&(e=0);o===void 0&&(o=!1);this._previewPaneOpenedForThisQuery=!0;this.clearSuggOpeningState(this._pendingPreviewedSuggestion);this.clearOpenTimer();this.clearCloseTimer();(r!=this._previewedSuggestion||f)&&(n.RuntimeConfig.AlwaysWide||this._page.setPreviewPaneVisibility(!0),s=this.getOnPreviewPaneRendered(r,u,e,t),o?n.InstrumentationHelper.notifyPreviewPanePending(n.SequenceNumberManager.getSequenceNumber(),r.previewPaneType,r.type):n.InstrumentationHelper.notifyTopHitPreviewPaneOpenedOrInterrupted(n.SequenceNumberManager.getSequenceNumber()),this.setPreviewPaneContent(t,r,i(u,t),this._previewPaneId,s,function(n){return h.onPreviewPaneErrored(n)}));u!="button"&&this._selectionHandler.updateSelectionState(r)},r.prototype.showPreviewAndFocus=function(n,t,i){i===void 0&&(i="submit");(this._closeTimer||this._previewedSuggestion!=t)&&this.showPreview(n,t,i);this._activePreviewPaneViewModel.focus(!1);this._forceTopHitForPreviewedSuggestion=!0},r.prototype.focus=function(n){return this._activePreviewPaneViewModel?(this._activePreviewPaneViewModel.focus(n),!0):!1},r.prototype.blur=function(){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.blur()},r.prototype.dismiss=function(){this.close(!0)},r.prototype.close=function(t){var r=this,i;this.clearOpenTimer();i=t?0:n.config.closePreviewPaneDelay;i?this._closeTimer||(this._closeTimer=n.safeSetTimeout(function(){r._closeTimer=null;r.innerClose(t)},i,"ppCloseTimer")):(this.clearCloseTimer(),this.innerClose(t))},r.prototype.innerClose=function(t){var i,r;this._previewedSuggestion&&(i=!0,t&&(this._clickLoggedForCurrentPreviewPane?i=!1:this._previewPaneResponseReceivedTimeStamp&&n.getCurrentTime()>this._previewPaneResponseReceivedTimeStamp+1e3&&(i=!1)),i&&(r=t?{fromQFDismiss:"1"}:undefined,n.InstrumentationHelper.previewPaneOpenedOrClosed(!1,n.SequenceNumberManager.getSequenceNumber(),this._previewedSuggestion.instItem,this._previewedSuggestion.previewPaneType,undefined,r)),n.RuntimeConfig.AlwaysWide||t||this._page.setPreviewPaneVisibility(!1),this.isPreviewPaneWithLoaderViewModel(this._activePreviewPaneViewModel)&&this._activePreviewPaneViewModel.stopLoadingScreen(),this.clear())},r.prototype.clear=function(){for(var t=0;t<this._previewPaneInfos.length;++t)n.setVisibility(this._previewPaneInfos[t].paneElement,!1);this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!1,this._selectionHandler.updateSelectionState(this._previewedSuggestion),this._previewedSuggestion=null);this._forceTopHitForPreviewedSuggestion=!1;this._clickLoggedForCurrentPreviewPane=!1;this._previewPaneViewModelParent.focusPending=!1;this._activePreviewPaneViewModel&&(this._activePreviewPaneViewModel.clear(),this.isPreviewPaneWithLoaderViewModel(this._activePreviewPaneViewModel)&&this._activePreviewPaneViewModel.stopLoadingScreen());this._queryForPreviewedSuggestion=null;this._previewPaneResponseReceivedTimeStamp=null;this._activePreviewPaneViewModel=null},r.prototype.onQueryChanged=function(t){var i,r;if((this._previewPaneOpenedForThisQuery=!1,i=this._queryForPendingPreviewedSuggestion||this._queryForPreviewedSuggestion,this._queryIsContinuationOfPreviousQuery=i&&t.queryToFetch.toLocaleLowerCase().startsWith(i.queryToFetch.toLocaleLowerCase()),i&&t.queryToFetch.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase())&&(r=this._pendingPreviewedSuggestion&&this._pendingPreviewedSuggestion.updateFromQuery?this._pendingPreviewedSuggestion:this._previewedSuggestion&&!this._closeTimer&&this._previewedSuggestion.updateFromQuery?this._previewedSuggestion:null,r)){if(n.RuntimeConfig.AlwaysWide){this.autoOpen(t,r,"alwaysWide",!0,!0);return}this._queryIsContinuationOfPreviousQuery?(this._forceTopHitForPreviewedSuggestion=!1,this.autoOpen(t,r,"keepOpen",!0,!0)):this.close(!1)}},r.prototype.clearSuggOpeningState=function(n){n&&(n.isPreviewPaneOpening=!1,this._selectionHandler.updateSelectionState(n))},r.prototype.clearOpenTimer=function(){this._openTimer&&(sb_ct(this._openTimer),this._openTimer=null,this._pendingPreviewedSuggestion=null,this._queryForPendingPreviewedSuggestion=null,this.isPreviewPaneWithLoaderViewModel(this._activePreviewPaneViewModel)&&this._activePreviewPaneViewModel.stopLoadingScreen())},r.prototype.clearCloseTimer=function(){this._closeTimer&&(sb_ct(this._closeTimer),this._closeTimer=null)},r.prototype.onTopHitUpdated=function(t,i,r,u){if(r){if(!this._closeTimer&&(this._openTimer&&this._pendingPreviewedSuggestion!=r&&this.clearOpenTimer(),!this._miniSerpMustRefresh||r.previewPaneType!=1)){if(this._pendingPreviewedSuggestion&&n.isEquivalentForPreviewPanePurposes(t,this._pendingPreviewedSuggestion,r)){this._pendingPreviewedSuggestion=r;this._queryForPendingPreviewedSuggestion=t;r.hasPreviewPaneOpened=!0;this._selectionHandler.updateSelectionState(r);return}if(this._previewedSuggestion&&n.isEquivalentForPreviewPanePurposes(t,this._previewedSuggestion,r)){(!n.contains(u,i)||r.previewPaneNeedsRefreshAfterDeduping)&&(this._previewedSuggestion=r,this._queryForPreviewedSuggestion=t,r.hasPreviewPaneOpened=!0,this._selectionHandler.updateSelectionState(r),this.refreshLocalContent(t,r,n.SequenceNumberManager.getSequenceNumber()));return}}if(this._miniSerpMustRefresh=!1,this._forceTopHitForPreviewedSuggestion=!1,r.previewPaneType){if(n.RuntimeConfig.AlwaysWide){this.autoOpen(t,r,"alwaysWide",!1,!0);return}if(r==u[0]&&!this._previewPaneOpenedForThisQuery){if(r.autoOpenPreviewPaneWhenOnTopHit){this.autoOpen(t,r,"autoContent",!1,!0);return}if(this._previewedSuggestion&&this._queryIsContinuationOfPreviousQuery){this.autoOpen(t,r,"keepOpen",!1,!0);return}}}}this._openTimer&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer());this._previewedSuggestion&&this.close(!1)},r.prototype.getDelayForMiniSerp=function(t,i,r){var u=n.getTweakedSetting("preventAutomaticMiniSerp");switch(t){case"keepOpen":case"alwaysWide":return r&&r.inorganic?0:u?Number.MAX_VALUE:n.config.probabilityNextKeyStrokeEnabled&&i.featureStore&&i.featureStore[264]!==undefined?this.calculateDelayForProbabilitySignal(i.featureStore[264]):n.RuntimeConfig.AlwaysWide?i.isAnswer?0:n.getTenantMsbStatus&&n.getTenantMsbStatus()===n.TenantMsbStatus.Enabled?n.config.msbMiniSerpDelay:n.config.autoOpenMiniSerpDelay:n.config.keepMiniSerpOpenDelay;case"arrowUpOrDown":return u?Number.MAX_VALUE:n.config.openOnKeybNavMiniSerpDelay}return 0},r.prototype.calculateDelayForProbabilitySignal=function(t){for(var i=n.config.probabilityNextKeyStrokeThresholds.length-1;i>=0;i--)if(t>=n.config.probabilityNextKeyStrokeThresholds[i])return n.config.probabilityNextKeyStrokeDelays[i];return 0},r.prototype.shouldOpenMiniSerp=function(t){return SearchAppWrapper.CortanaApp.hostingEnvironment==4?!0:n.RuntimeConfig.MiniSERPMode==0||t.previewPaneType!=1?!1:t.isAnswer?(n.RuntimeConfig.MiniSERPMode&1)!=0:t.type=="MD"?(n.RuntimeConfig.MiniSERPMode&2)!=0:(n.RuntimeConfig.MiniSERPMode&4)!=4?!1:t.query.length>=n.config.minPrefixLengthForMiniSerp},r.prototype.autoOpen=function(t,i,r,u,f){var e=this,s,h,o;n.InstrumentationHelper.notifyPreviewPaneStartRender(n.SequenceNumberManager.getSequenceNumber());f&&n.InstrumentationHelper.notifyPreviewPanePending(n.SequenceNumberManager.getSequenceNumber(),i.previewPaneType,i.type);h=n.config.disableOfflineRequest?n.isBrowserOnline()&&this.shouldOpenMiniSerp(i):this.shouldOpenMiniSerp(i);o=h?this.getDelayForMiniSerp(r,i,t):0;o?((i===null||i===void 0?void 0:i.previewPaneType)!=((s=this._previewedSuggestion)===null||s===void 0?void 0:s.previewPaneType)&&this.clear(),r=="arrowUpOrDown"&&(this.clear(),this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion)),i.isPreviewPaneOpening=!0,this._selectionHandler.updateSelectionState(i),this.clearOpenTimer(),this.clearCloseTimer(),this._pendingPreviewedSuggestion=i,this._queryForPendingPreviewedSuggestion=t,this.setActivePreviewPaneContainer(i),this._openTimer=o==Number.MAX_VALUE?Number.MAX_VALUE:n.safeSetTimeout(function(){e._openTimer=null;i=e._pendingPreviewedSuggestion;e._pendingPreviewedSuggestion=null;e._queryForPendingPreviewedSuggestion=null;e.showPreview(t,i,r,u,o,f)},o,"ppOpenTimer"),this.isPreviewPaneWithLoaderViewModel(this._activePreviewPaneViewModel)&&this._activePreviewPaneViewModel.startLoadingScreen()):this.showPreview(t,i,r,u,null,f)},r.prototype.onAfterKeyDownWhenNewSelection=function(t,i,r){var f=n.RuntimeConfig.AlwaysWide&&n.config.openOnKeybNavMiniSerp,u;if(n.isGroup(r)){f&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion),n.InstrumentationHelper.notifyTopHitPreviewPaneOpenedOrInterrupted(n.SequenceNumberManager.getSequenceNumber()),this.clear(),this.clearOpenTimer(),this.clearCloseTimer(),this.isPreviewPaneWithLoaderViewModel(this._activePreviewPaneViewModel)&&this._activePreviewPaneViewModel.stopLoadingScreen());return}u=r;u.previewPaneType?f&&(t==40||t==38)?this._previewedSuggestion!=u&&this.autoOpen(i,u,"arrowUpOrDown",!1,!1):t==n.getRtlAdjustedKey(39)&&this._currentQuery.originalCursorPosition==this._currentQuery.originalQuery.length&&n.Host.searchBoxHasFocus()?this.showPreviewAndFocus(i,u,"arrowRight"):t==n.getRtlAdjustedKey(37)&&this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.hasFocus()&&this._activePreviewPaneViewModel.readyToBlur()&&n.Host.setFocusInSearchBox(t,"previewPaneUnfocus"):this.clear()},r.prototype.refreshLocalContent=function(t,i,r){var e=this,u=null,f;this._instrumentedOpenThisImpression&&(u=this.getOnPreviewPaneRendered(i,"refresh",0,t));f=function(n){return e.onPreviewPaneErrored(n)};n.InstrumentationHelper.notifyPreviewPanePending(r,i.previewPaneType,i.type);this._activePreviewPaneViewModel.update(i,t,0,this._previewPaneId,u,f,!0)},r.prototype.setActivePreviewPaneContainer=function(i){var r=i.previewPaneType;i.previewPaneType!=2&&(this.shouldOpenMiniSerp(i)||i.previewPaneType!=1)||(r=2);n.setVisibility(this._previewPaneInfos[r].paneElement,!0);this._activePreviewPaneViewModel=this._previewPaneInfos[r].viewModel;this._previewPaneInfos[r].disableRootScroll?this._previewPaneScrollElement.classList.add(t):this._previewPaneScrollElement.classList.remove(t);this.isPreviewPaneWithLoaderViewModel(this._activePreviewPaneViewModel)&&this._activePreviewPaneViewModel.startLoadingScreen()},r.prototype.setPreviewPaneContent=function(n,t,i,r,u,f){this.clear();this._previewedSuggestion=t;this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!0,this._previewedSuggestion.isPreviewPaneOpening=!1);this._previewPaneResponseReceivedTimeStamp=null;this._queryForPreviewedSuggestion=n;this.setActivePreviewPaneContainer(t);this._activePreviewPaneViewModel.update(t,n,i,r,u,f,t.previewPaneNeedsRefreshAfterDeduping)},r.prototype.bindBeforeItemLaunch=function(n){this._beforeItemLaunchEventHandlers.push(n)},r.prototype.bindAfterItemLaunch=function(n){this._afterItemLaunchEventHandlers.push(n)},r.prototype.hasFocus=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.hasFocus():!1},r.prototype.isOpened=function(){return!!this._previewedSuggestion},r.prototype.isPreviewPaneWithLoaderViewModel=function(n){var t;return!!((t=n)===null||t===void 0?void 0:t.startLoadingScreen)},r}();n.PreviewPane=r}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.fetchUrl=function(t,i,r,u,f,e){var s=this,o;if(n.isBrowserOnline()){var a=r?1:0,h=SearchAppWrapper.CortanaApp,c=h.createStringMap(),l=h.createStringMap();if(i)for(o in i)o.toLowerCase().startsWith("content")?l[o]=i[o]:c[o]=i[o];n.Promise.safeChain("makeHttpRequestAsync",function(){return h.makeHttpRequestAsync(a,t,c,r,l)},function(t){e()&&(t.statusCode===200?n.Promise.safeChain("readResponse",function(){return t.readAsStringAsync()},function(t){if(e()){n.TestHookUrlParameters&&t&&(t=t.replace(new RegExp("<!--[^]*?-->","gm"),""));var i=t?n.safeExecute(function(){return JSON.parse(t)},"parseCortanaHttpResponse",null,null):null;i!=null?u(s._dataSource,i,null):u(s._dataSource,null,null)}},function(){return u(s._dataSource,null,null)},f):u(s._dataSource,null,t.statusCode.toString()))},function(){return u(s._dataSource,null,null)},f)}else u(this._dataSource,null,null,null,!0)},i}(n.JsonDataProvider);n.CortanaJsonDataProvider=t}(WSB||(WSB={}));1
PuTTY
PuTTY
PuTTY
PuTTY
PuTTY64
InputType
SynchronizedInputType
inputType
SynchronizeInputType
get_SynchronizeInputType
_synchronizedInputType
Validate_InputType
GetPairedInputType
MapInputTypeToRoutedEvents
E'{0}' is not a valid System.Windows.Automation.SynchronizedInputType.
InputType
OutputTypeAttributes
OutputTypeParameters
OutputType
OutputTypeNamePair
OutputTypeParameterConstraints
putty.fr.uptodown.com
putty.fr.uptodown.com
putty.fr.uptodown.com
putty.fr.uptodown.com
Fputty.fr.uptodown.com
putty.fr.uptodown.com
https://putty.fr.uptodown.com/
putty.fr.uptodown.com
{6D809377-6AF0-444B-8957-A3773F02200E}\PuTTY\psftp.exe	12559
InputTypeListEmptyError
InputType
OutputTypeBuilder
m_InputType
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
simontatham.puttypackageid
simontatham.puttywindows_win32
simontatham.puttywindows_win32W
Xputty-0-74-64-bit.msi
Xputty-0-74-64-bit.msi
Xputty-0-74-64-bit.msi
Xputty-0-74-64-bit.msi
inputType
SetSpatialInputType() Failed setting fIsSpatial =%d with error = %d
CDDPlusDecTransform::OnOutputTypeChanged
DoCheckInputType
CDDPlusDecTransform::DoCheckInputType
DoCheckInputType() invalid number of channels = %d
DoCheckInputType() invalid sample rate %d
DoCheckInputType() invalid channel mask %d
DoCheckOutputType
CDDPlusDecTransform::DoCheckOutputType
DoCheckOutputType() MF_MT_AUDIO_SAMPLES_PER_SECOND missing or mismatch with internal value %d, suggested value %d
 DoCheckOutputType() returning 0x%8X
DoCheckOutputType() MF_MT_SPATIAL_AUDIO_MAX_DYNAMIC_OBJECTS out of range %d (limited to %d)
DoCheckOutputType() MF_MT_AUDIO_NUM_CHANNELS missing or mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_CHANNEL_MASK missing or mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_BITS_PER_SAMPLE missing or mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_BLOCK_ALIGNMENT mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_AVG_BYTES_PER_SECOND mismatch with internal value %d suggested value %d
DoCheckOutputType() MF_MT_AUDIO_VALID_BITS_PER_SAMPLE mismatch with internal value %d suggested value %d
ConfigInputTypes
CDDPlusDecTransform::ConfigInputTypes
ConfigInputTypes() There are now %d available input types:
ConfigInputTypes() ========= %d ===========
ConfigInputTypes failed
ConfigOutputTypes
CDDPlusDecTransform::ConfigOutputTypes
ConfigOutputTypes() There are now %d available output types:
ConfigOutputTypes() ========= %d ===========
ConfigOutputTypes failed
OnOutputTypeChanged
OnInputTypeChanged
CheckOutputTypeError
CheckInputTypeError
CHdcpDecryptMft::SetInputType
CHdcpDecryptMft::SetOutputType
InputType
InputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
inputTypeUint
inputType
UIInputType
inputType
inputType
inputType
inputType
inputType
inputType
inputType
InputType
InputType
InputType
InputType
InputType
InputType
dwInputTypes
InputType
CAACMFTTypeHandler::InitInputType
CAACMFTTypeHandler::InitOutputType
CAACMFTTypeHandler::DoCheckInputType
CAACMFTTypeHandler::DoCheckOutputType
CDTSMFTTypeHandler::DoCheckInputType
CDTSMFTTypeHandler::DoCheckOutputType
CDTSMFTDataHandler::OnOutputTypeChanged
CMLPMFTTypeHandler::DoCheckInputType
CMLPMFTTypeHandler::DoCheckOutputType
CMLPMFTTypeHandler::OnInputTypeChanged
CMLPMFTDataHandler::OnOutputTypeChanged
CLPCMMFTTypeHandler::DoCheckInputType
CLPCMMFTTypeHandler::DoCheckOutputType
CdvmftMFTDataHandler::OnInputTypeChanged
CdvmftMFTTypeHandler::DoCheckInputType
CdvmftMFTDataHandler::SetSupportedOutputType
CdvmftMFTDataHandler::OnOutputTypeChanged
CdvmftMFTTypeHandler::DoCheckOutputType
CH264MFTInternal::OnInputTypeChanged
CH264MFTInternal::OnOutputTypeChanged
CH264MFTInternal::UpdateAvailableInputTypeArray
CDShowTransform::SetInputType
CDShowTransform::SetOutputType
?get_output_type@VoiceSkin@ngeo@Microsoft@@QBE?AW4OutputType@123@XZ
CMPEG2MuxMFTTypeHandlerImpl::SetInputType
CMPEG2MuxMFTTypeHandlerImpl::SetOutputType
CMPEG2MuxMFTTypeHandlerImpl::IsInputTypeSet
CMFDynamicVFW::MFTSetInputType
CMFDynamicVFW::MFTSetOutputType
CMFDynamicVFW::DetermineOutputType
CMFReadWriteTransform::SetInputType
CMFReadWriteTransform::SetOutputType
CMFReadWriteTransformChain::GetOutputType
CMFReadWriteTransform::GetOutputType
CMFReadWriteTransform::GetInputType
],OutputType=[
InputType=[
CMFSourceReaderStream::CreatePartialOutputType
CMFSourceReaderStream::ConfigureCapturePluginInputType
CMFSourceReaderStream::NegotiateInputTypeWithEffectChain
LCMFReadWriteTransformChain::CreateConverterOutputType
CMFReadWriteTransformChain::SetInputType
CMFReadWriteTransformChain::GetInputType
CMFReadWriteTransformChain::SetOutputType
CMFReadWriteTransformChain::OnTransformInputTypeChange
CMFReadWriteTransformChain::SetOutputTypeIfSupported
CMFReadWriteTransformChain::ConfigureOutputTypeInternal
CMFReadWriteTransformChain::ConfigureOutputTypeWithConverter
CMFReadWriteTransformChain::ConfigureOutputTypeWithoutConverter
CMFReadWriteTransform::LockOutputType
OutputType=[
SerializeOutputTypeAttribute
DeserializeOutputTypeAttribute
COOPMFTProxy::SetInputType
COOPMFTProxy::SetOutputType
COOPMFTStub::SetInputType
COOPMFTStub::SetOutputType
MFWMEncoderConfigUtil::SetOutputTypeToWMVEncoder
CMFTWrapperAsync::SetInputType
CMFTWrapperAsync::SetOutputType
CMFTWrapperAsync::PropagateOutputTypeChange
CMFTWrapperAsync::StartInputTypeChange
CMFTWrapperAsync::SetInputTypeInternal
CMPTopology::GetMFTNodeNewOutputType
CMPTopology::GetAudioResamplerNodeNewOutputType
CMPTopology::IsBestMatchedOutputType
CMPMFTDriver::SetInputType
CMediaSession::UpdateInputTypeGUID
CMediaSession::UpdateInputTypeUINT32
CMediaSession::UpdateInputTypeUINT64
CMediaSession::UpdateOutputTypeGUID
CMediaSession::UpdateOutputTypeUINT32
CMediaSession::UpdateOutputTypeUINT64
CAudioCaptureMFT::MFTSetOutputType
CACMCodecWrapper::MFTSetInputType
CACMCodecWrapper::MFTSetOutputType
CACMCodecWrapper::EnumerateInputTypes
CACMCodecWrapper::EnumerateOutputTypes
CACMCodecWrapper::AddInputType
CACMCodecWrapper::AddOutputType
CCopierMFTTypeHandler::OnOutputTypeChanged
CCopierMFTTypeHandler::OnInputTypeChanged
CMFSeamlessAudioEffect::ValidateOutputType
CMFSeamlessAudioEffect::ValidateInputType
CMFSeamlessAudioEffect::MFTSetInputType
CMFSeamlessAudioEffect::MFTSetOutputType
MFWMEncoderConfigUtil::SetOutputTypeWithAudioCodecDataToWMAEncoder
MFWMEncoderConfigUtil::SetOutputTypeToWMVEncoder
SerializeOutputTypeAttribute
DeserializeOutputTypeAttribute
SerializeOutputTypeAttribute
DeserializeOutputTypeAttribute
MFWMEncoderConfigUtil::SetOutputTypeToWMVEncoder
    <xsl:param name="outputTypeAttribute" select="'false'" />
        <xsl:if test="$outputTypeAttribute = 'true'">
      <xsl:with-param name="outputTypeAttribute" select="'true'" />
      <xsl:with-param name="outputTypeAttribute" select="'true'" />
      <xsl:with-param name="outputTypeAttribute" select="'true'" />
OnOutputTypeChanged
OnCheckInputType
OnCheckInputType
OnCheckInputType
OnCheckInputType
ConfigInputTypes
OnCheckOutputType
OnInputTypeChanged
ConfigOutputTypes
OnCheckOutputType
OutputTypeChangedCount
OnCheckInputType
OnInputTypeChanged
OnCheckOutputType
CMFTH264DecoderTransform::SetOutputType : Enter.
}CMFTH264DecoderTransform::DoCheckOutputType : Enter.
CMFTH264DecoderTransform::OnOutputTypeChanged : Enter.
CMFTH264DecoderTransform::OnOutputTypeChanged
CMFTH264DecoderTransform::OnInputTypeChanged : Enter.
CMFTH264DecoderTransform::OnInputTypeChanged
CMFTH264DecoderTransform::DoCheckOutputType
CVTVS_MFT::SetInputType
CVTVS_MFT::SetOutputType
CVTVS_MFT::OnCheckInputType
CVTVS_MFT::OnCheckOutputType
CVTVS_MFT::OnSetInputType
CVTVS_MFT::OnSetOutputType
ipx::mtf::CMtfInputTypeAttributes::GetRomajiMaxKeyCharCount
CreateInputTypeAttributes
CxCodeVideoProcMFTTypeHandler::DoCheckInputType
CxCodeVideoProcMFTTypeHandler::InternalCheckInputType
CxCodeVideoProcMFTTypeHandler::UpdateAvailableOutputTypesD3D
CxCodeVideoProcMFTDataHandler::OnInputTypeChanged
CxCodeVideoProcMFTTypeHandler::OnInputTypeChangedD3D
AvaliableInputTypesWithExtension
CxCodeVideoProcMFTTypeHandler::UpdateAvailableInputTypesD3D
CxCodeVideoProcMFTDataHandler::OnOutputTypeChanged
RendererEffectWrapper::CheckOutputTypeSupported
CxCodeVideoProcMFT::GetNaturalOutputType
CxCodeVideoProcMFTDataHandler::GetNaturalOutputType
CRolling420FrameStitcherMFTTypeHandler::DoCheckInputType
CRolling420FrameStitcherMFTTypeHandler::OnInputTypeChanged
CRolling420FrameStitcherMFTTypeHandler::DoCheckOutputType
CRolling420FrameStitcherMFTDataHandler::OnOutputTypeChanged
CMSVidTVTuner::DoTune() -- pre put_InputType
CMSVidTVTuner::DoTune() -- post put_InputType
.?AW4tagTunerInputType@@
tagTunerInputTypeWWW0
IInputTypeWWW
hInputTypeVal
        val InputType       = d '0'
        val InputType       = d '1'
        val InputType           = d '1'
        val InputType           = d '0'
        val InputType       = d '0'
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
spDecoder->SetInputType() failed
ColorConversionYUV2RGB::FindOutputType() failed
spDecoder->SetOutputType() failed
FindOutputType() failed
spColorConverter->SetInputType() failed
spColorConverter->SetOutputType() failed
spOutputType->SetGUID(MF_MT_SUBTYPE) failed
spOutputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spOutputType
m_spMFWrapper->TS_MFCreateMediaType(&spOutputType) failed
spOutputType->SetUINT32(MF_MT_AUDIO_AVG_BYTES_PER_SECOND) failed
spOutputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spOutputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spOutputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType
m_spMFWrapper->TS_MFCreateMediaType(&spInputType) failed
m_spMFTEncoderObj->SetOutputType(spOutputType) failed
m_spMFTEncoderObj->SetOutputType(NULL) failed
spInputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spInputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType->SetGUID(MF_MT_SUBTYPE) failed
spInputType->SetGUID(MF_MT_MAJOR_TYPE) failed
CRdpAACEncoder::SetInputType(spInputType) failed
CRdpAACEncoder::SetInputType(NULL) failed
spInputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
m_spMFTDecoderObj->SetInputType(NULL) failed
spInputType->SetBlob failed
m_spMFTDecoderObj->SetOutputType(spOutputType) failed
m_spMFTDecoderObj->SetOutputType(NULL) failed
m_spMFTDecoderObj->SetInputType failed
spColorConverter->SetOutputType()
pIATSCTuningSpace2->get_InputType() failed.
Set inputType as Antenna (default)
 Failed to get the InputType!
GetEapCredentialsInputType failed with error: %d.
GetEapCredentialsInputType returned error 0x%.8x. Marking as non-fatal and continuing.
FindEntryAndSetDialParams:GetEapCredentialsInputType failed: %d. Marking as non-fatal and continuing.
m_spMFWrapper->TS_MFCreateMediaType(&spOutputType) failed
spOutputType
spOutputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spOutputType->SetGUID(MF_MT_SUBTYPE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spOutputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spOutputType->SetUINT32(MF_MT_AUDIO_AVG_BYTES_PER_SECOND) failed
m_spMFTEncoderObj->SetOutputType(NULL) failed
m_spMFTEncoderObj->SetOutputType(spOutputType) failed
m_spMFWrapper->TS_MFCreateMediaType(&spInputType) failed
spInputType
spInputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spInputType->SetGUID(MF_MT_SUBTYPE) failed
spInputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spInputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
CRdpAACEncoder::SetInputType(NULL) failed
CRdpAACEncoder::SetInputType(spInputType) failed
spInputType->SetBlob failed
m_spMFTDecoderObj->SetInputType(NULL) failed
m_spMFTDecoderObj->SetInputType failed
m_spMFTDecoderObj->SetOutputType(NULL) failed
m_spMFTDecoderObj->SetOutputType(spOutputType) failed
GetEapCredentialsInputType returned error 0x%.8x. Marking as non-fatal and continuing.
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
m_spMFWrapper->TS_MFCreateMediaType(&spOutputType) failed
spOutputType
spOutputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spOutputType->SetGUID(MF_MT_SUBTYPE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spOutputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spOutputType->SetUINT32(MF_MT_AUDIO_AVG_BYTES_PER_SECOND) failed
m_spMFTEncoderObj->SetOutputType(NULL) failed
m_spMFTEncoderObj->SetOutputType(spOutputType) failed
m_spMFWrapper->TS_MFCreateMediaType(&spInputType) failed
spInputType
spInputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spInputType->SetGUID(MF_MT_SUBTYPE) failed
spInputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spInputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
CRdpAACEncoder::SetInputType(NULL) failed
CRdpAACEncoder::SetInputType(spInputType) failed
spInputType->SetBlob failed
m_spMFTDecoderObj->SetInputType(NULL) failed
m_spMFTDecoderObj->SetInputType failed
m_spMFTDecoderObj->SetOutputType(NULL) failed
m_spMFTDecoderObj->SetOutputType(spOutputType) failed
pEncoder->SetOutputType() failed
pEncoder->SetInputType() failed
m_spEncoderMFT->SetOutputType() failed
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
m_spMFWrapper->TS_MFCreateMediaType(&spOutputType) failed
spOutputType
spOutputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spOutputType->SetGUID(MF_MT_SUBTYPE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spOutputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spOutputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
spOutputType->SetUINT32(MF_MT_AUDIO_AVG_BYTES_PER_SECOND) failed
m_spMFTEncoderObj->SetOutputType(NULL) failed
m_spMFTEncoderObj->SetOutputType(spOutputType) failed
m_spMFWrapper->TS_MFCreateMediaType(&spInputType) failed
spInputType
spInputType->SetGUID(MF_MT_MAJOR_TYPE) failed
spInputType->SetGUID(MF_MT_SUBTYPE) failed
spInputType->SetUINT32(MF_MT_AUDIO_BITS_PER_SAMPLE) failed
spInputType->SetUINT32(MF_MT_AUDIO_SAMPLES_PER_SECOND) failed
spInputType->SetUINT32(MF_MT_AUDIO_NUM_CHANNELS) failed
CRdpAACEncoder::SetInputType(NULL) failed
CRdpAACEncoder::SetInputType(spInputType) failed
spInputType->SetBlob failed
m_spMFTDecoderObj->SetInputType(NULL) failed
m_spMFTDecoderObj->SetInputType failed
m_spMFTDecoderObj->SetOutputType(NULL) failed
m_spMFTDecoderObj->SetOutputType(spOutputType) failed
pEncoder->SetOutputType() failed
pEncoder->SetInputType() failed
m_spEncoderMFT->SetOutputType() failed
<xs:complexType name="OutputType">
<xs:complexType name="InputType">
<xs:element name="outType" type="man:OutputType" minOccurs="0" maxOccurs="unbounded"/>
<xs:element name="inTypes" type="man:InputTypeListType"/>
<xs:complexType name="InputTypeListType">
<xs:element name="inType" type="man:InputType" maxOccurs="unbounded"/>
NewEnumWithSynchronizedInputType
SynchronizedInputTypeWWW
SynchronizedInputType_KeyUpW
SynchronizedInputType_KeyDownWWW
SynchronizedInputType_LeftMouseUpWWW
#0:QSynchronizedInputType_LeftMouseDownW
SynchronizedInputType_RightMouseUpWW
$0xXSynchronizedInputType_RightMouseDown|
IinputTypeWWW|
SynchronizedInputTypeWWW
SynchronizedInputType_KeyUpW
SynchronizedInputType_KeyDownWWW
SynchronizedInputType_LeftMouseUpWWW
#0:QSynchronizedInputType_LeftMouseDownW
SynchronizedInputType_RightMouseUpWW
$0xXSynchronizedInputType_RightMouseDownt
IinputTypeWWWt
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
GetUndimSourceInputTypeMask
GetWakeSourceInputTypeMask
IsGetUndimSourceInputTypeMaskSupported
IsGetWakeSourceInputTypeMaskSupported
IsIsPointerInputTypeRedirectedSupported
IsPointerInputTypeRedirected
?GetLastInputType@CInputGlobals@@QBE?AW4_LINP_SOURCE@@XZ
3DVideoOutputType
VideoCompositorMFTWrapper::InternalCheckInputType
VideoCompositorMFTWrapper::InternalCheckOutputType
VideoCompositorMFTWrapper::OnInputTypeChanged
VideoCompositorMFTWrapper::OnOutputTypeChanged
BasicVideoEffectMFTWrapper::InternalCheckInputType
BasicVideoEffectMFTWrapper::SetInputType
BasicVideoEffectMFTWrapper::OnInputTypeChanged
BasicVideoEffectMFTWrapper::InternalCheckOutputType
BasicVideoEffectMFTWrapper::OnOutputTypeChanged
BasicAudioEffectMFTWrapper::SetInputType
BasicAudioEffectMFTWrapper::InternalCheckOutputType
BasicAudioEffectMFTWrapper::InternalCheckInputType
BasicAudioEffectMFTWrapper::OnOutputTypeChanged
BasicAudioEffectMFTWrapper::OnInputTypeChanged
CMRCVideoTransform::SetInputType
CDWMScreenCapture::GetOutputType
CVideoStabilizerBase::CalculateOutputType
CVideoAntiAliasing::CalculateOutputType
MRCVideoTransformOutputTypeChanged
MRCVideoTransformInputTypeChanged
3DVideoOutputType
3DVideoOutputType
PdfPrivate::EraseInputFilter::IsEraserInputType
InputType
BasicVideoEffectMFTWrapper::InternalCheckOutputType
BasicVideoEffectMFTWrapper::OnInputTypeChanged
BasicVideoEffectMFTWrapper::SetInputType
BasicVideoEffectMFTWrapper::InternalCheckInputType
BasicVideoEffectMFTWrapper::OnOutputTypeChanged
BasicAudioEffectMFTWrapper::InternalCheckOutputType
BasicAudioEffectMFTWrapper::OnInputTypeChanged
BasicAudioEffectMFTWrapper::SetInputType
BasicAudioEffectMFTWrapper::InternalCheckInputType
BasicAudioEffectMFTWrapper::OnOutputTypeChanged
InkManagerInputTypeChanged
DirectInkInputTypeChanged
(L"DirectInkCoreServer::put_InputTypes" L"[Exit]")
InputTypes
InputTypes
(L"DirectInkCoreServer::put_InputTypes" L"[Exit]")
InputTypes
fHasInputTypes
fHasInputTypes
(L"CDirectInkImpl::SetInputTypes" L"[Exit]")
InputTypes
(L"CDirectInkImpl::SetInputTypes" L"[Exit]")
InputTypes
InputTypes
(L"CInputContext::SetInputTypes" L"[Exit]")
inputTypes
(L"CInputContext::SetInputTypes" L"[Exit]")
inputTypes
InputTypes
InputTypes
(L"CInputProvider::SetInputType" L"[Exit]")
InputTypes
(L"CInputProvider::SetInputType" L"[Exit]")
InputTypes
InputType
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
<xsd:simpleType name="inputTypes">
<xsd:complexType name="inputType">
<xsd:attribute name="type" type="inputTypes" use="required"></xsd:attribute>
<xsd:element name="input" type="inputType"></xsd:element>
	OutputTypeChangedCount
CWMVideoDecMediaObject::GenerateAvailableOutputTypes
CWMVideoDecMediaObject::SetOutputType
CWMVideoDecMediaObject::CheckOutputType
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
OutputTypeAttribute
OutputTypeAttribute
OutputTypeAttribute
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
]?$","i"),wt=/((^[\\]{2}).+)|(^[a-z]:\\.*)/i,f=/^([a-z0-9\-]+):/i,bt=/\s/,g=/\s+/g,kt=/\s+\/(?!\/)/g,dt=/([^\/]|^)\/(?!\/)/,nt,et;n.WebSearchPaths=["/search","/entityexplore"];nt=[33,39,40,41,42,91,93];n.tryParseUrl=u;n.getQueryStringParam=ri;var ui=/file:\/\/\/[^:\/]+:\/[^\/]+\/[^\/]+\/AppData\//i,fi=["ms-appx:","ms-appx-web:","ms-browser-extension:",],ei="microsoft.microsoftedge_8wekyb3d8bbwe";n.isJunkUrl=oi;n.computeUrlMatchLengths=si;n.isUncOrLocalPath=ai;n.startsWithProtocol=tt;n.startsWithWww=vi;n.isHttpProtocol=h;n.isNonHttpProtocol=yi;n.cleanAndFixUrlProtocol=pi;n.cleanAndFixUncOrLocalPath=wi;n.parsedUrlToString=c;var rt=/^ht+ps:\/*(.*)/i,ut=/^ht+p:\/*(.*)/i,ft=/^\/{2,}(.*)/,l=/^www\.(.*)/i,ki=/^(.*[^:\/])\/+$/;n.normalizeUrl=i;n.hasWww=di;n.getProtocol=e;n.prettyPrintUrl=gi;n.isDuplicateUrl=tr;et=["bing","staging-bing-int","working-bing-int","bing-int","bing-exp","binginternal"];n.tryGetBingPathLC=ot;n.isBingHost=st;n.isBingSearchUrl=ir;n.getDomain=rr;n.isEmptyUrlPrefix=ur;n.queryLooksLikeUrl=fr;n.buildBfbSearchUrl=er;n.encodeURIComponentForWindowsProtocol=or}(WSB||(WSB={})),function(n){var t,i;(function(n){function t(t,i,r,u,f,e){var o={T:n.QFPERFPING_EVENT_NAME,ST:r,CVID:u,OFFSETS:i,STATE:f,V:n.QFPERFPING_VERSION,RFC:e};return{ImpressionGuid:t,EventType:n.CLIENTINST_EVENT_TYPE,Data:o}}n.CLIENTINST_EVENT_TYPE="ClientInst";n.QFPERFPING_EVENT_NAME="QFPerfPing";n.CLICK_EVENT_TYPE="Click";n.QFPERFPING_VERSION="2";n.QFPERFPING_INVALID_MEASURE=-2;n.INVALID_SEQUENCE_NUMBER=-2;n.KVALUE_SUGGESTIONS_START=1e3;n.KVALUE_SUFFIX_START=1;n.KVALUE_NON_SUGGESTIONS_START=100;n.DEFAULT_APP_NAMESPACE="SmartSearch";n.DEFAULT_SERVICE_NAME="AutoSuggest";n.createPerfPingEvent=t})(t=n.InstrumentationCommon||(n.InstrumentationCommon={}));i=function(){function n(n,t,i){this._kValue=n;this._qsCode=t;this._handOffType=i;this._properties={}}return n.createInstrumentedItem=function(t,i){return new n(n.generateKValue(t),i)},n.createInstrumentedItemHandOffOverride=function(t,i,r){return new n(n.generateKValue(t),i,r)},n.createInstrumentedItemForReformulation=function(t,i){return new n(n.generateKValue(t),i,998)},n.createInstrumentedItemNoHandOff=function(t,i){return new n(n.generateKValue(t),i,999)},n.getNonSuggestionInstrumentedItem=function(t,i,r){if(!i[t])throw new Error(t+" not found in kvalues map");return new n(i[t],t,r)},n.prototype.getKValue=function(){return this._kValue},n.prototype.getAppNS=function(){return n.AppNS},n.prototype.getLayoutKValue=function(){return this._kValue+"."+n.Suffix},n.prototype.getHValue=function(){return"ID="+n.AppNS+","+this.getLayoutKValue()},n.prototype.getHandoffType=function(){return this._handOffType},n.prototype.getQsCode=function(){return this._qsCode},n.prototype.setProperty=function(n,t){this._properties[n]=t},n.prototype.getProperties=function(){return Object.keys(this._properties).length>0?this._properties:undefined},n.resetKValues=function(n){delete this._keystrokesKValues[n]},n.generateKValue=function(n){var r=n,i=this._keystrokesKValues[r];return i>0||(i=t.KVALUE_SUGGESTIONS_START),this._keystrokesKValues[r]=++i,i},n.AppNS=t.DEFAULT_APP_NAMESPACE,n.Suffix=t.KVALUE_SUFFIX_START,n._keystrokesKValues={},n}();n.InstrumentedItem=i}(WSB||(WSB={}));__spreadArrays=this&&this.__spreadArrays||function(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var u=Array(i),f=0,n=0;n<r;n++)for(var e=arguments[n],t=0,o=e.length;t<o;t++,f++)u[f]=e[t];return u},function(n){function vt(){return matchMedia("screen and (-ms-high-contrast)").matches}function yt(){return(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.isOffline)?!1:navigator.onLine}function c(n){return n?n.replace(ot,"$1").replace(st,"$1 "):n}function pt(n){return n?n.replace(/[-{}]/g,"").toLowerCase():null}function wt(n){return!n||Object.keys(n).length===0}function bt(n){return n.canFail}function l(n,t,i,r){var u,e;n&&(n=n.slice(0,t)+f+n.slice(t,n.length));u=i(n);u&&(e=u.indexOf(f),t=e!=-1?e:t,u=u.replace(f,""));r(u,t)}function kt(n){if(!n)return SharedLogHelper.LogError("getInputType",null,new Error("event object is missing")),0;switch(n.pointerType){case"mouse":return 2;case"touch":return 3;case"pen":return 4;default:return 1}}function a(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];i.forEach(function(t){return delete n.enabledDataSources[t]})}function v(i,r){if(!i||!r)return!1;var u=!n.config.bingFetchEnabledRegions||n.config.bingFetchEnabledRegions.length==0||t(n.config.bingFetchEnabledRegions,i.toLowerCase()),f=r.split("-")[0],e=!n.config.bingFetchEnabledLang||n.config.bingFetchEnabledLang.length==0||t(n.config.bingFetchEnabledLang,f.toLowerCase());return u&&e}function dt(i,r){if(!i||!r)return!1;var u=!n.config.miniSerpEnabledRegions||n.config.miniSerpEnabledRegions.length==0||t(n.config.miniSerpEnabledRegions,i.toLowerCase()),f=r.split("-")[0],e=!n.config.miniSerpEnabledLang||n.config.miniSerpEnabledLang.length==0||t(n.config.miniSerpEnabledLang,f.toLowerCase());return u&&e}function gt(t,i,r){var u=t.queryToFetch&&t.queryToFetch.length<n.config.minQueryLengthForWebProvider||!v(i,r);return u&&a(t,"Web"),u}function y(t){if(t){t=n.normalizeUrl(t,15);for(var i=1;i<t.length-1;++i)if(ct.includes(t[i]))return!0}return!1}function ni(t,i,r){var u,f;return r||(r=0),l(t,i,function(n){return c(n)},function(n,t){u=n;f=t}),u&&(n.config&&n.config.doNotRemoveSpaceAfterIn&&u.toLocaleLowerCase().endsWith(" in ")||(u=u.trim()),f=Math.min(f,u.length)),{originalQuery:t,originalCursorPosition:i,queryToFetch:u,cursorPosition:f,enabledDataSources:{},equals:function(n){return(u?u.toLowerCase():u)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&r==n.topHitRestriction},isMultiWord:y(u),getCacheKey:function(){return u},topHitRestriction:r}}function p(i,r){return r&&!r.enabledDataSources[i]?!1:t(n.config.enabledDataSources,i)}function w(i,r,u,f){var e=f.enabledDataSources[i];return e?e.suggestionIsEnabled&&!e.suggestionIsEnabled(r,u)?!1:t(n.config.enabledDataSources,i):!1}function t(n,t){return n.indexOf(t)!=-1}function ti(n,t){var i=n.indexOf(t);return i!=-1?(n.splice(i,1),!0):!1}function ii(n,t){var i=n.findIndex(t);return i!=-1?n.splice(i,1)[0]:null}function ri(n,t,i){if(t<100)for(var r=n.length-1;n.length>t&&r>=0;--r)i(n[r])&&n.splice(r,1)}function ui(n,i){return n.filter(function(n){return!t(i,n)})}function fi(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;++i)if(n[i]!=t[i])return!1;return!0}function ei(n,t){if(n===t)return!0;if(!n||!t||Object.keys(n).length!=Object.keys(t).length)return!1;for(var i in n)if(n[i]!=t[i])return!1;return!0}function b(){return n.getCurrentDate().getTime()}function r(n){var t=Math.abs(Math.floor(n));return(t<10?"0":"")+t}function oi(){var t=n.getCurrentDate(),i=-t.getTimezoneOffset(),u=i>=0?"+":"-";return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+"."+r(t.getMilliseconds())+u+r(i/60)+":"+r(i%60)}function si(n,t){return n?n.replace(ht,function(n,i){return t[i]}):n}function hi(n){var t=n?n.number:null,i=n?n.name:null;return t==-2147023673||i=="Canceled"}function u(n,t,i,r,u,f){try{return n()}catch(e){return f||SharedLogHelper.LogError(t,r,e),u&&u(e),i}}function o(n,t,i,r,f,e){return sb_st(function(){return u(n,i,null,r,f,e)},t)}function ci(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];u(function(){return sj_evt.fire.apply(sj_evt,__spreadArrays([n],i))},n)}function li(n,t){o(t,1,n)}function s(n,t){var i=[],r=!0,u=function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];r?i.push(u):t.apply(null,u)};n(u);r=!1;i.forEach(function(n){return t.apply(null,n)})}function ai(n,t,i){e=n&&it()!="ms-appx-web:";k=e&&v(t,i);d=e&&dt(t,i)}function vi(){return e}function yi(){return k}function pi(){return d}function ki(n){return t(wi,n)}function di(n){return t(tt,n)}function gi(n){return t(g,n)}function nr(n){return t(nt,n)}function tr(n){return t(bi,n)}function ir(n,t){return n==121&&t||n==93}function rr(n,t){return n==8||n==46||n==88&&t.ctrlKey}function it(){return _w.location.protocol}function ur(){return _w.location.host}function fr(){return _w.location.pathname}function er(){var n=_d.activeElement;return!n||n.id.endsWith("sb_form_q")?_d.body:n}function rt(t){return t&&+t!=n.WindowsApiDefaultDate&&t.getTime&&!isNaN(t.getTime())&&t.getFullYear()!=1600}function ut(t){if(!rt(t))return null;var i=t.getTime(),r=b();return Math.abs(r-i)/n.DayToMs}function or(n){var t=ut(n);return t!==null&&t>14}function sr(n){return n==="i"?13:n==="v"?14:0}function hr(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")}var f=String.fromCharCode(57346),ot=new RegExp("^\\s*("+f+")?\\s*"),st=new RegExp("\\s*("+f+")?\\s+","g"),ht=/{([0-9]+)}/g,ct=" -_/\\",lt=-2147215328,at=-2147023673,h,ft,i,et;n.DayToMs=864e5;n.HourToMs=36e5;n.MinuteToMs=6e4;n.DebugSourceName="WindowsSearchBox";SharedLogHelper.RegisterErrorFilter(function(n){var t=n?n.number:null,i=n?n.name:null;return t===at||t===lt||i==="Canceled"});n.isHighContrastEnabled=vt;n.isBrowserOnline=yt;n.cleanQuery=c;n.cleanGuid=pt;n.isEmpty=wt;n.canIconFail=bt;n.mantainCursorPositionIn=l;n.getInputType=kt;n.disableDataSources=a;n.disableWebDataSourceIfNeeded=gt;n.isMultiWord=y;n.baseParseQuery=ni;n.isDataSourceEnabled=p;n.isSuggestionTypeEnabled=w;n.contains=t;n.tryRemove=ti;n.removeFirstWhere=ii;n.trimList=ri;n.except=ui;n.sequenceEqual=fi;n.objEquals=ei;n.log=function(){};n.getCurrentDate=function(){return new Date};n.getCurrentTime=b;n.getDateWithTimezone=oi;n.fetchWrapper=function(n,t,i){return i()};n.formatString=si;n.isCancellation=hi;n.safeExecute=u;n.safeSetTimeout=o;n.safeFireEvent=ci;n.invokeAsynchronously=li;n.ensureCallbackIsAsync=s;var e=!0,k=!0,d=!0;n.refreshBingEnabledCache=ai;n.isBingEnabled=vi;n.isWebProviderEnabled=yi;n.isMiniSerpEnabled=pi;var wi=[3,16,17,18,19,20,144,145,],g=[38,203,211,],nt=[40,204,212,],tt=g.concat(nt),bi=tt.concat(37,39,36,35);n.isFunctionalKey=ki;n.isUpOrDownKey=di;n.isUpKey=gi;n.isDownKey=nr;n.isMovingCursorKey=tr;n.isContextMenuKey=ir;n.isDeletionKey=rr;n.getWindowProtocol=it;n.getWindowHost=ur;n.getWindowPath=fr;n.getCurrentActiveElement=er;n.WindowsApiDefaultDate=-116444736e5;n.isValidDate=rt;n.getTimeDiffInDays=ut;n.olderThan2Weeks=or;n.verticalToHandoffType=sr;h=function(){function n(){this._cancellations={};this._lastId=0}return n.prototype.register=function(n,t,i){var r=++this._lastId;return this._cancellations[r]={action:n,skipOnDismissAndLaunch:t,where:i},r},n.prototype.unregister=function(n){delete this._cancellations[n]},n.prototype.cancelAll=function(n){var t=function(t){var r=i._cancellations[t];r.skipOnDismissAndLaunch&&n||u(function(){return r.action()},r.where)},i=this;for(var r in this._cancellations)t(r);this._cancellations={}},n}();n.CancellationManager=h;ft=function(){function n(){}return n.prototype.getItem=function(n){try{return _w.localStorage?_w.localStorage.getItem(n):undefined}catch(t){return SharedLogHelper.LogError("localStorage",t,new Error("getItem")),undefined}},n.prototype.setItem=function(n,t){try{_w.localStorage&&_w.localStorage.setItem(n,t)}catch(i){SharedLogHelper.LogError("localStorage",i,new Error("setItem"))}},n.prototype.removeItem=function(n){try{return _w.localStorage.removeItem(n)}catch(t){SharedLogHelper.LogError("localStorage",t,new Error("removeItem"))}},n}();n.LightweightStorage=ft;i=function(){function n(){}return n.resetSequenceNumber=function(){this._sequenceNumber=0},n.getSequenceNumber=function(){return this._sequenceNumber},n.incrementSequenceNumber=function(){this._sequenceNumber++},n._sequenceNumber=0,n}();n.SequenceNumberManager=i;et=function(){function t(t,i,r,u,f){var e=this;this._suggestionsParsers=t;this._rootViewModel=i;this._suggestionsRenderingManager=r;this._webProviders=u;this._otherProviders=f;n.config.cancellationEnabled&&(this._cancellationManager=new h);n.Host.bindShown(function(){e._lastQuery=null;e._currentQuery=null;e._isPaneDismissed=!1});n.Host.bindDismissed(function(){e.clearFetchTimer();e.finishPreviousQuery(!0);e.finalizeKeystroke(!0);e._isPaneDismissed=!0;e._rootViewModel.onDismiss()});n.Host.bindQueryChangedOrInitialized(function(t,i){return e.onQueryChanged(t,n.config.d,i)});n.Host.bindOnSubmit(function(n,t,i){return e.onSubmit(n,t,i)});n.Host.initializeEvents();sj_be(_d.body,"dragstart",function(n){return n.preventDefault(),n.stopPropagation(),!1});sj_b.addEventListener("click",function(n){n.shiftKey&&sj_pd(n)})}return t.prototype.clearFetchTimer=function(){this._fetchTimer&&(sb_ct(this._fetchTimer),this._fetchTimer=null)},t.prototype.finishPreviousQuery=function(n){this.cancelPreviousQuery(n);this._suggestionsRenderingManager.resetTimers()},t.prototype.finalizeKeystroke=function(t){var r=i.getSequenceNumber();r>0&&n.InstrumentationHelper.finalizeKeystrokeLog(r);t||i.incrementSequenceNumber()},t.prototype.onQueryChanged=function(n,t,r){var u=this;if(this._currentQuery=n,!r&&this._lastQuery&&this._lastQuery.equals(this._currentQuery))this._rootViewModel.onQueryChanged(this._currentQuery,i.getSequenceNumber());else this.clearFetchTimer(),this._completedDataSources={},(this._lastQuery||r)&&this.cancelPreviousQuery(!1),this.logQueryChange(r,!1),t<=0||this._currentQuery.isSearchHomeZI?this.fetchForQueryChange(r):this._fetchTimer=o(function(){u._fetchTimer=null;u.fetchForQueryChange(r)},t,"fetchTimer"),this._lastQuery=this._currentQuery},t.prototype.logQueryChange=function(t,r){var f=t?this._currentQuery:n.Host.getQuery(),u;f.equals(this._currentQuery)&&((this._lastQuery||t)&&this.finishPreviousQuery(r),this.finalizeKeystroke(!1),u=i.getSequenceNumber(),n.InstrumentationHelper.instrumentQueryChangedRequest(u,this._currentQuery))},t.prototype.onSubmit=function(t,r,u){this._fetchTimer&&(this._currentQuery||(this._currentQuery=n.Host.getQuery()),this.logQueryChange(!1,!0),this.fetchForQueryChange(!1));this._rootViewModel.submit(t,r,i.getSequenceNumber(),u,this._isPaneDismissed)},t.prototype.cancelPreviousQuery=function(n){this._cancellationManager&&this._cancellationManager.cancelAll(n)},t.prototype.fetchForQueryChange=function(t){var r=this,f,u,o,h;if(this.clearFetchTimer(),f=t?this._currentQuery:n.Host.getQuery(),f.equals(this._currentQuery)){if(u=i.getSequenceNumber(),o=!n.config.enabledDataSources.some(function(n){return p(n,r._currentQuery)}),o)this._rootViewModel.onQueryChanged(this._currentQuery,u);if(h=!1,this._suggestionsRenderingManager.initiateSequenceNumber(u,this._currentQuery,function(){return h=!0}),!o){var e=function(){return!r._isPaneDismissed&&(n.config.d>0?f.equals(r._currentQuery):u==i.getSequenceNumber())&&!h},c=(new Date).getTime(),l=function(n,t,i,o,s,h){return r.onResponseReceived(f,u,n,t,i,e,o,s,c,h)},a=function(t){n.InstrumentationHelper.instrumentFetchesBegin(u);n.config.enabledDataSources.forEach(function(t){n!==undefined&&n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().beginMark(t+".Fetch")});n.fetchWrapper(f,e,function(){r._webProviders.forEach(function(n){r.fetchWeb(f,n,u,t,e)});r._otherProviders.forEach(function(n){r.fetch(f,n,u,t,e)})});n.InstrumentationHelper.instrumentFetchesEnd(u);r._rootViewModel.onQueryChanged(r._currentQuery,u)};s(a,l)}}},t.prototype.fetchWeb=function(t,i,r,f,e){var c=this,s=n.Service.QueryParams,o=n.Host.getCustomUrlParameters(t),h;n.Host.shouldRequestEltoken()&&(o[s.RequestElToken]="1");o[s.CursorPosition]=t.cursorPosition.toString();o[s.ConversationId]=n.Host.getConversationId();o[s.ImpressionGuid]=n.InstrumentationHelper.getImpressionGuid(r);h=n.Host.getCustomHeaders(t);u(function(){return i.fetch(t,f,r,c._cancellationManager,e,o,h)},"fetch "+i.getName())},t.prototype.fetch=function(n,t,i,r,f){var e=this;u(function(){return t.fetch(n,r,i,e._cancellationManager,f)},"fetch "+t.getName())},t.prototype.onResponseReceived=function(t,i,r,u,f,e,o,h,c,l){var a=this,v,y;if(e()){if(this._completedDataSources[r]){SharedLogHelper.LogError("onResponseReceived",r,new Error("Data source already completed"));return}n!==undefined&&n.config.perfLogging&&n.WSBPerformance&&n.WSBPerformance.getInstance().endMark(r+".Fetch");this._completedDataSources[r]=!l;n.InstrumentationHelper.instrumentResponseReceived(i,r,f,o,h,l);v=function(r,u,o){if(n.InstrumentationHelper.instrumentDataSourceParsed(i,r),e())a.onSuggestionsParsed(t,i,r,f,u,o,l)};y=function(n){var f=a._suggestionsParsers[r];f?f.parse(t,i,r,u,e,n,a._cancellationManager):(SharedLogHelper.LogError("onResponseReceived",r,new Error("No parser for data source")),n(r,[],null))};s(y,v)}},t.prototype.onSuggestionsParsed=function(t,i,r,u,f,e,o){f=f.filter(function(n){return w(r,n.type,n.handoffType,t)});n.InstrumentationHelper.instrumentDataSource(i,r,f,e);this._rootViewModel.onSuggestionsParsed(t,i,r,u,f,e);this._suggestionsRenderingManager.queueSuggestions(i,r,f,e,o)},t}();n.Core=et;n.encodeQueryParameter=hr}(WSB||(WSB={})),function(n){function wt(t){return n.contains(at,t)}function bt(t){return n.contains(vt,t)}function kt(t){return n.contains(d,t)}function dt(t){return n.contains(yt,t)}function gt(t){return n.contains(pt,t)}function e(t){return{dataSource:"ODC",requirements:[1,2],conditionalRequirements:function(){var t=n.AccessTokenManager===null||n.AccessTokenManager===void 0?void 0:n.AccessTokenManager.getWindowsAccountType();return n.isCloudSearchEnabledCache&&(t==2||t==4)},suggestionIsEnabled:t?function(n){return n==t}:undefined}}function g(){return n.isDataSourceEnabled("SSUE",null)}function nt(t){var r=n.AccessTokenManager===null||n.AccessTokenManager===void 0?void 0:n.AccessTokenManager.getWindowsAccountType(),i=!n.config.userProfileButtonEnabled||r==t;switch(t){case 2:return i&&n.isSubstrateOutlookAccountConnected;case 1:return i&&n.isSubstrateO365AccountConnected;case 4:return i&&n.isSubstrateO365AccountConnected&&n.isSubstrateOutlookAccountConnected;default:return!1}}function ni(t){var i=SearchAppWrapper.CortanaApp.authenticationManager.getAllSearchWebAccountsAsync,r=n.AccessTokenManager===null||n.AccessTokenManager===void 0?void 0:n.AccessTokenManager.getWindowsAccountType();return i?!0:r==t}function ti(){return{dataSource:"ANA",groupType:t.AnaheimData,requirements:[1],conditionalRequirements:function(){return n.config.enableAnaheimData},suggestionIsEnabled:function(n){return n=="ANAH"}}}function r(n,t,i,r){return o(n,undefined,t,i,r)}function o(t,i,r,u,f){return{dataSource:t,groupType:i,requirements:[1],conditionalRequirements:function(t){return n.isCloudSearchEnabledCache&&(!f||f())&&(u||t&&t.queryToFetch&&t.queryToFetch.length>=n.config.minLengthFor3SonL1)&&ni(r)&&nt(r)}}}function a(t){return{dataSource:"MSBC",requirements:[1,2],conditionalRequirements:function(i){var r=n.AccessTokenManager===null||n.AccessTokenManager===void 0?void 0:n.AccessTokenManager.getWindowsAccountType();return n.isCloudSearchEnabledCache&&(t||i&&i.queryToFetch&&i.queryToFetch.length>=n.config.msbClientQfMinQueryLength)&&(r==1||r==4)&&typeof n.isTenantMsbEnabled=="function"&&n.isTenantMsbEnabled()}}}function v(t){return{dataSource:"MSBS",requirements:[1,2],conditionalRequirements:function(i){var r=n.AccessTokenManager===null||n.AccessTokenManager===void 0?void 0:n.AccessTokenManager.getWindowsAccountType();return n.isCloudSearchEnabledCache&&(t||i&&i.queryToFetch&&i.queryToFetch.length>=n.config.msbServerQfMinQueryLength)&&(r==1||r==4)&&typeof n.isTenantMsbEnabled=="function"&&n.isTenantMsbEnabled()}}}function s(){var t=n.AccessTokenManager===null||n.AccessTokenManager===void 0?void 0:n.AccessTokenManager.getWindowsAccountType();return!n.isCloudSearchEnabledCache||t==3||t==0||!g()?!1:!nt(t)}function tt(){var t=n.AccessTokenManager===null||n.AccessTokenManager===void 0?void 0:n.AccessTokenManager.getWindowsAccountType();return t==2||t==4}function it(t){return t.isSearchHomeZI&&(n.isDataSourceEnabled("SSUE",t)||n.isDataSourceEnabled("SREE",t))}function ii(t,i){return i.siteTitle&&(t.isSearchHomeZI||n.config.nicerCloudFiles&&n.isMsftAccountConnected)}function ri(){n.ScopeConfig[i.All].getEmptyZIMessages=function(){return u(i.All,n.config.useNewEmptyQueryMessages?"EmptyAllMessage":"EmptyScopeMessage",n.isBingEnabled()?"EmptyAllSubMessage":"EmptyAllSubMessageNoWeb",ut(!0))};n.RuntimeConfig.QfMode==6?(n.ScopeConfig[i.All].icon={type:1,content:"&#xE721"},n.ScopeConfig[i.All].getEmptyZIMessages=function(){return u(i.Web,"EmptyLockscreenMessage","EmptyLockscreenSubMessage")}):n.RuntimeConfig.QfMode==8?(n.ScopeConfig[i.All_Santorini].icon=n.getSearchSuggestionIcon(),n.ScopeConfig[i.All_Santorini].enabledDataSourcesForZeroInput=[{dataSource:"QSCH",groupType:t.QuickSearch,suggestionGroupToggler:l(t.QuickSearch)},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:"MRS"},{dataSource:"MRU"},],n.ScopeConfig[i.All_Santorini].staticGroupOrderForZeroInput=function(){return[t.SearchSuggestions,t.Settings,t.Documents,t.Apps,t.QuickSearch,t.VisualSearch]}):n.RuntimeConfig.SearchHomeAvailable==1?(n.ScopeConfig[i.All].icon=n.getSearchSuggestionIcon(),n.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"TOPP",groupType:t.TopApps,suggestionGroupToggler:l(t.TopApps),conditionalRequirements:function(){return!(n.cohortProfileManager===null||n.cohortProfileManager===void 0?void 0:n.cohortProfileManager.isWWEVisibleSinglePane())&&!(n.enableProngWeather(n.getCurrentLanguage())&&!n.config.prong1TopApps)}},{dataSource:"MSNW",groupType:n.config.prong1&&n.isConsumerWindowsSKU()&&n.RuntimeConfig.AlwaysWide&&n.config.weatherTileMarkets[n.getCurrentLanguage()]?t.MSNWeather:t.TopApps,suggestionGroupToggler:l(t.MSNWeather),conditionalRequirements:function(){return(n.config.prong1?n.enableProngWeather(n.getCurrentLanguage())&&n.isConsumerWindowsSKU():n.shouldEnableWeatherTile(n.getCurrentLanguage()))&&n.isWeatherTileVisible(f)&&!(n.cohortProfileManager===null||n.cohortProfileManager===void 0?void 0:n.cohortProfileManager.isWWEVisibleSinglePane())}},{dataSource:"WWE",groupType:t.WelcomeExperience,conditionalRequirements:function(){if(n.cohortProfileManager!==null&&n.cohortProfileManager!==void 0)return n.cohortProfileManager.isWWEVisible()}},{dataSource:"QSCH",groupType:t.QuickSearch,suggestionGroupToggler:l(t.QuickSearch),conditionalRequirements:function(){return n.canShowQuickSearch(f)}},{dataSource:"MSNN",groupType:t.MSNNews,suggestionGroupToggler:l(t.MSNNews),conditionalRequirements:function(){return n.config.msnNewsSearch&&n.shouldEnableMSNNewsSearches(n.getCurrentLanguage())&&n.canShowMSNNewsTab(f)}},{dataSource:"BIMG",groupType:t.BingDailyImage,conditionalRequirements:function(){return n.canShowBingDailyImage(f)}},{dataSource:"MRU",groupType:t.MRUHistory,conditionalRequirements:function(){return n.enableMRUSearchHome()}},{dataSource:"MPP",groupType:t.MRUHistory,conditionalRequirements:function(){return n.enableMRUSearchHome()}},{dataSource:"MST",groupType:t.MRUHistory,conditionalRequirements:function(){return n.enableMRUSearchHome()}},{dataSource:"MFF",suggestionIsEnabled:function(){return!0},groupType:t.MRUHistory,conditionalRequirements:function(){return n.enableMRUSearchHome()}},o("SSUE",t.RecommendedDocs,1,!0,function(){return n.config.enableSsueOnZeroInput&&n.isMsftAccountConnected}),o("SREE",t.RecommendedDocs,1,!0,function(){return n.isMsftAccountConnected}),o("SMP",t.MeetingPrep,1,!0,function(){return n.isMsftAccountConnected})],n.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.TopApps,t.MSNWeather,t.MRUHistory,t.WelcomeExperience,t.BingDailyImage,t.MSNNews,t.RecommendedDocs,t.QuickSearch,t.MeetingPrep,t.Upsell,t.PromoBanner,t.VisualSearch,]},n.config.enableEdgeUpsellSHTop&&(n.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.Upsell,t.PromoBanner,t.TopApps,t.MSNWeather,t.MRUHistory,t.WelcomeExperience,t.BingDailyImage,t.MSNNews,t.RecommendedDocs,t.QuickSearch,t.MeetingPrep,t.VisualSearch,]}),n.config.prong1&&n.RuntimeConfig.AlwaysWide&&n.config.weatherTileMarkets[n.getCurrentLanguage()]&&(n.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.MSNWeather,t.MSNNews,t.WelcomeExperience,t.TopApps,t.MRUHistory,t.BingDailyImage,t.RecommendedDocs,t.QuickSearch,t.MeetingPrep,t.Upsell,t.PromoBanner,t.VisualSearch,]}),n.config.prong1Right&&n.RuntimeConfig.AlwaysWide&&n.config.weatherTileMarkets[n.getCurrentLanguage()]&&(n.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.TopApps,t.MRUHistory,t.MSNWeather,t.MSNNews,t.WelcomeExperience,t.BingDailyImage,t.RecommendedDocs,t.QuickSearch,t.MeetingPrep,t.Upsell,t.PromoBanner,t.VisualSearch,]})):n.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[]}function rt(){n.ScopeConfig={};n.ScopeConfig[i.All_FileExplorer]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"FEH"},{dataSource:"IFF"},{dataSource:"MDOC",conditionalRequirements:function(){return n.config.useL2ProvidersInFileExplorer}},{dataSource:"MPHO",conditionalRequirements:function(){return n.config.useL2ProvidersInFileExplorer}},{dataSource:"MVID",conditionalRequirements:function(){return n.config.useL2ProvidersInFileExplorer}},{dataSource:"ODC",requirements:[1,2],conditionalRequirements:function(){return n.config.cloudSearchInFileExplorer&&(n.isFileExplorerCurrentPathThisPcOrQuickAccess||!!SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSUE",requirements:[1,2],conditionalRequirements:function(){return n.config.cloudSearchInFileExplorer&&(n.isFileExplorerCurrentPathThisPcOrQuickAccess||!!SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSEE",requirements:[1,2],conditionalRequirements:function(){return n.config.cloudSearchInFileExplorer&&(n.isFileExplorerCurrentPathThisPcOrQuickAccess||!!SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootAccount)}},],enabledDataSourcesForZeroInput:[{dataSource:"FEH"},],getEmptyZIMessages:null};n.ScopeConfig[i.All_Lockscreen]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"Web",requirements:[1,2]},],enabledDataSourcesForZeroInput:[{dataSource:"LSQS"}],webSyntheticEnabled:function(t){return t.queryToFetch&&n.isBingEnabled()},getEmptyZIMessages:null};n.ScopeConfig[i.All_SettingsApp]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"ST"},{dataSource:"MST"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};n.ScopeConfig[i.All_ControlPanel]={icon:{content:"&#xE713",type:2},prefixesLocString:"ScopeSettings",enabledDataSources:[{dataSource:"Web",suggestionIsEnabled:function(){return!1},requirements:[1,2]},{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},{dataSource:"ST"},{dataSource:"QS",requirements:[1,2]}],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},],getEmptyZIMessages:null};n.ScopeConfig[i.All_Santorini]={icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"IFF"},{dataSource:"MRU"},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:"Web",requirements:[1,2]},{dataSource:"OSTMA",requirements:[1,2]},{dataSource:"QS",requirements:[1,2]},e(),r("SSUE",1,!1),],enabledDataSourcesForZeroInput:[],webSyntheticEnabled:function(t){return t.queryToFetch&&n.isBingEnabled()},getEmptyZIMessages:null,showUpsellOnSuggestionsList:n.config.accountVerificationInAllScope?function(){return s()}:undefined};n.ScopeConfig[i.All]={icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:"MRU"},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:"MRS",requirements:[1,2]},{dataSource:"Web",requirements:[1,2]},{dataSource:"OSTMA",requirements:[1,2]},{dataSource:"QS",requirements:[1,2]},ti(),r("SSUE",1,!1),a(!1),v(!1)],enabledDataSourcesForZeroInput:[],webSyntheticEnabled:function(t){return t.queryToFetch&&n.isBingEnabled()},getEmptyZIMessages:null,showUpsellOnSuggestionsList:n.config.accountVerificationInAllScope||n.config.msbAccountVerificationInSearchHome?function(){return s()}:undefined};n.ScopeConfig[i.Apps]={icon:{content:"&#xEB3B",type:2},prefixesLocString:"ScopeApps",enabledDataSources:[{dataSource:"Web",suggestionIsEnabled:function(){return!1},requirements:[1,2]},{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MPP"},{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}},{dataSource:"OSTMA",requirements:[1,2]},{dataSource:"IBA"},],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"TOPP",conditionalRequirements:function(n){return n.isSearchHomeZI}},{dataSource:"MPP"},n.contains(n.config.enabledDataSources,"LRA")?{dataSource:"LRA"}:{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}}],staticGroupOrderForZeroInput:function(n){return n.isSearchHomeZI?[t.TopApps,t.Apps]:undefined},getEmptyZIMessages:function(){return u(i.Apps,n.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage","EmptyScopeSearchLocation_PC")}};n.ScopeConfig[i.Settings]={icon:{content:"&#xE713",type:2},prefixesLocString:"ScopeSettings",enabledDataSources:[{dataSource:"Web",suggestionIsEnabled:function(){return!1},requirements:[1,2]},{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},{dataSource:"ST"},{dataSource:"QS",requirements:[1,2]}],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},],getEmptyZIMessages:function(){return u(i.Settings,n.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptySettingsSubMessage")}};n.ScopeConfig[i.Photos]={icon:{content:"&#xEB9F",type:2},prefixesLocString:"ScopePhotos",enabledDataSources:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="LI"}},e("LI"),],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},],getEmptyZIMessages:function(){return c(i.Photos,!0)}};n.ScopeConfig[i.Videos]={icon:{content:"&#xE714",type:1},prefixesLocString:"ScopeVideos",enabledDataSources:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="LV"}},e("LV"),],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},],getEmptyZIMessages:function(){return c(i.Videos,!0)}};n.ScopeConfig[i.Music]={icon:{content:"&#xE8D6",type:2},prefixesLocString:"ScopeMusic",enabledDataSources:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},{dataSource:"MMUS",suggestionIsEnabled:function(n){return n=="MU"}},e("MU"),],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},],getEmptyZIMessages:function(){return c(i.Music,!1)}};n.ScopeConfig[i.Documents]={icon:{content:"&#xE7C3",type:2},prefixesLocString:"ScopeDocuments",enabledDataSources:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MDOC",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},{dataSource:"MPVD",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(t){return n.config.mergeQueries&&(!t||!t.taskFrame)}},e("FL"),{dataSource:"PP",suggestionIsEnabled:function(n){return n=="LDOC"}},r("SSUE",1,!0),r("SSEE",1,!0),],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},o("SSUE",t.RecommendedDocs,1,!0,function(){return n.config.enableSsueOnZeroInput&&n.config.cloudDocsOnZiL2&&n.isMsftAccountConnected}),o("SREE",t.RecommendedDocs,1,!0,function(){return n.config.cloudDocsOnZiL2&&n.isMsftAccountConnected}),],showUpsellOnSuggestionsList:function(){return s()},getEmptyZIMessages:function(){return c(i.Documents,!1)}};n.ScopeConfig[i.Folders]={icon:{content:"&#xE838",type:2},prefixesLocString:"ScopeFolders",enabledDataSources:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"MFOL",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"LDIC"},e("FD"),],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},],getEmptyZIMessages:function(){return c(i.Folders,!1)}};n.ScopeConfig[i.Web]={icon:{content:"&#xE774",type:1},prefixesLocString:"ScopeWeb",enabledDataSources:[{dataSource:"MRU",suggestionIsEnabled:function(n,t){return t==1}},{dataSource:"Web",suggestionIsEnabled:function(t,i){return n.contains([0,13,14,10,5,1],i)},requirements:[1,2]},{dataSource:"PP",suggestionIsEnabled:function(n,t){return t==1}},a(!0),v(!0)],enabledDataSourcesForZeroInput:[{dataSource:"MRU",suggestionIsEnabled:function(n,t){return t==1}},{dataSource:"Web",requirements:[1,2],conditionalRequirements:function(){return tt()}},],webSyntheticEnabled:function(t){return t.queryToFetch&&n.isBingEnabled()},getEmptyZIMessages:function(){return u(i.Web,n.config.useNewEmptyQueryMessages?"EmptyWebMessage":"EmptyScopeMessageWeb","EmptyWebSubMessage")}};n.ScopeConfig[i.PathCompletion]={icon:{content:"&#xE782",type:2,needsAccentColor:!0},scopeNameLocString:n.config.pathCompletionReplacesAll?"PathCompletionScopeName":null,prefixesLocString:null,enabledDataSources:[{dataSource:"PT"},{dataSource:"CG"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};n.ScopeConfig[i.Emails]={icon:{content:"&#xE715",type:2},prefixesLocString:"ScopeEmails",enabledDataSources:[r("SSEE",1,!0),r("SSEC",2,!0),],enabledDataSourcesForZeroInput:[],showUpsellOnSuggestionsList:function(){return s()},getEmptyZIMessages:function(){return u(i.Emails,n.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyEmailSubMessage")}};n.ScopeConfig[i.People]={icon:{content:"&#xE716",type:2},prefixesLocString:"ScopePeople",enabledDataSources:[r("SSUE",1,!0,function(){return!(typeof n.isTenantMsbEnabled=="function"&&n.isTenantMsbEnabled())}),r("SSUC",2,!0),a(!0),v(!0)],enabledDataSourcesForZeroInput:[r("SSUE",1,!0,function(){return!(typeof n.isTenantMsbEnabled=="function"&&n.isTenantMsbEnabled())}),r("SSUC",2,!0),],showUpsellOnSuggestionsList:function(){return s()},getEmptyZIMessages:function(){return u(i.People,n.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};for(var f in n.ScopeConfig)n.ScopeConfig[f].enabledDataSources=n.ScopeConfig[f].enabledDataSources.filter(function(t){return n.contains(n.config.enabledDataSources,t.dataSource)}),n.ScopeConfig[f].enabledDataSourcesForZeroInput=n.ScopeConfig[f].enabledDataSourcesForZeroInput.filter(function(t){return n.contains(n.config.enabledDataSources,t.dataSource)})}function ui(){h=null}function ut(t){var u=n.Host.getConnectedAccountInfo(0),f=n.Host.getConnectedAccountInfo(1),i=!!(u||f),r=t&&n.isBingEnabled();return i&&r?"EmptyScopeSearchLocation_PCCloudAndWeb":i?"EmptyScopeSearchLocation_PCAndCloud":r?"EmptyScopeSearchLocation_PCAndWeb":"EmptyScopeSearchLocation_PC"}function c(t,i){return u(t,n.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage",ut(i))}function u(t,i,r,u){var f=ft(n.ScopeConfig[t]).toLocaleLowerCase(),e=u?n.Host.getLocString(u):"",o=n.Host.getLocString(i,f,e),s=n.config.useNewEmptyQueryMessages||n.RuntimeConfig.QfMode==6?n.Host.getLocString(r,f,e):"";return[o,s]}function fi(){var u=function(n){return HitHighlightingParser.removeDiacritics(n.toLocaleLowerCase().trim())},t,r;if(h={},n.RuntimeConfig.ScopesAvailable){t=function(t){var f=parseInt(t),r=n.ScopeConfig[f],e,o;f!=i.All&&y(f,r)&&(!r.prefixes&&r.prefixesLocString&&(e=n.Host.getLocString(r.prefixesLocString),o=n.Host.getEnUsLocString(r.prefixesLocString),r.prefixes=et(e,o)),r.prefixes&&r.prefixes.forEach(function(n){return h[u(n)]=f}))};for(r in n.ScopeConfig)t(r)}}function ft(t){if(t.scopeNameLocString)return n.Host.getLocString(t.scopeNameLocString);if(t.prefixes)return t.prefixes[0].trim();if(t.prefixesLocString){var i=et(n.Host.getLocString(t.prefixesLocString));return i[0].trim()}return""}function et(n,t){var i=n;return t&&(i+=","+t),i.search(k)>-1&&(i=i.replace(k,",")),i.split(",")}function y(t,r){var u,o,f,e,s;if(!n.contains(n.config.enabledScopes,i[t])||t==i.Web&&!n.isBingEnabled())return!1;if(r.showUpsellOnSuggestionsList&&r.showUpsellOnSuggestionsList())return!0;for(u=n.config.enabledDataSources.filter(function(n){return n!="MRU"}),n.isBingEnabled()&&t!=i.Web&&(u=u.filter(function(n){return n!="Web"})),o=function(n){ht(n,null)||(u=u.filter(function(t){return t!=n.dataSource}))},f=0,e=r.enabledDataSources;f<e.length;f++)s=e[f],o(s);return r.enabledDataSources.some(function(t){return n.contains(u,t.dataSource)})?!0:!1}function ot(t){switch(n.RuntimeConfig.QfMode){case 5:return n.ScopeConfig[i.All_FileExplorer];case 6:return n.ScopeConfig[i.All_Lockscreen];case 7:return n.ScopeConfig[i.All_SettingsApp];case 9:return n.ScopeConfig[i.All_ControlPanel];case 8:return n.ScopeConfig[i.All_Santorini];default:return n.ScopeConfig[w(t)]}}function ei(t,r,u,f,e){var h,c,p,l,a,v,s,y;e||(e={});var b=e.topHitRestriction,k=e.forceGroupOnTop,d=e.fromSearchHome,g=e.fromSuggestionType,nt=e.inorganic,tt=e.serpURLParams,o=n.baseParseQuery(t,r,b);if(o.fullPartialQuery=o.queryToFetch,o.scope=SearchAppWrapper.CortanaApp.hostingEnvironment==5||n.config.forceSantoriniExperience?i.All_Santorini:i.All,o.forceGroupOnTop=k,o.fromSuggestionType=g,o.fromSearchHome=d,o.inorganic=nt,o.serpURLParams=tt,hi(o,f))o.taskFrame=f,o.isFormulatedQuery=!0,h=n.ScopeConfig[w(o)];else{for(o.fullPartialQuery&&(oi(o),u&&o.scope!=u.scope&&(o.isFormulatedQuery=!0)),o.isSearchHomeZI=!o.queryToFetch&&(n.RuntimeConfig.SearchHomeAvailable==1||n.RuntimeConfig.SearchHomeAvailable==2&&o.scope!=i.All),(o.scope==i.All||o.scope==i.Web)&&(c=n.tryParseUrl(o.queryToFetch,!0),c&&c.type==0?(o.isProtocol=!0,o.fixedUrl=n.cleanAndFixUrlProtocol(c)):st.test(o.queryToFetch)&&(o.isProtocol=!0,o.fixedUrl=n.cleanAndFixUrlProtocol(o.queryToFetch))),h=ot(o),p=o.queryToFetch?h.enabledDataSources:h.enabledDataSourcesForZeroInput,o.availableDataSources={},l=0,a=p;l<a.length;l++)s=a[l],n.contains(n.config.enabledDataSources,s.dataSource)&&(o.availableDataSources[s.dataSource]=s);o.enabledDataSources={};for(v in o.availableDataSources)s=o.availableDataSources[v],s.suggestionGroupToggler&&s.suggestionGroupToggler.isHidden()||(o.enabledDataSources[v]=s);y=o.queryToFetch?h.staticGroupOrder:h.staticGroupOrderForZeroInput;y&&(o.staticGroupOrder=y(o))}return si(o,h),o.showProgressBar=n.isL2(o)&&n.config.dataSourcesWithProgressBar.some(function(n){return!!o.enabledDataSources[n]}),o.equals=function(n){return(o.queryToFetch?o.queryToFetch.toLowerCase():o.queryToFetch)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&n.scope==o.scope&&(n.taskFrame?n.taskFrame.raw:"")==(o.taskFrame?o.taskFrame.raw:"")&&n.topHitRestriction==o.topHitRestriction},o.getCacheKey=function(){return o.cursorPosition+o.queryToFetch.toLocaleLowerCase()+o.scope+n.regionCache},o}function oi(t){var f,s,e,r,o;if(n.RuntimeConfig.ScopesAvailable){if(f=n.isDataSourceEnabled("PT",null),s=f&&p.test(t.fullPartialQuery),s){t.canBePathCompletion=!0;t.scope=i.PathCompletion;return}if(e=HitHighlightingParser.removeDiacritics(t.originalQuery),r=e.match(/^(([^:
SynchronizedInputType
inputType
                    [OutputType([System.Security.Cryptography.X509Certificates.X509Certificate2])]
                    [OutputType([System.Security.Cryptography.X509Certificates.X509Certificate2])]
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
m_InputType
OutputTypeBuilder
TransformInputType
inputType
get_InputTypes
m_inputTypes
get_OutputTypes
m_outputTypes
UnsupportedInputTypeForTransform
E'{0}' is not a valid System.Windows.Automation.SynchronizedInputType.
InputType
SynchronizedInputType
inputType
get_SynchronizeInputType
_synchronizedInputType
SynchronizeInputType
Validate_InputType
GetPairedInputType
MapInputTypeToRoutedEvents
inputTypeName
SynchronizedInputType
inputType
SynchronizedInputType
inputType
SynchronizedInputType
InputType
inputTypeName
OutputType
OutputTypeNamePair
OutputTypeAttributes
OutputTypeParameters
OutputTypeParameterConstraints
get_InputType
_haveInputType
_inputType
_inputTypes
InputTypeListEmptyError
E'{0}' is not a valid System.Windows.Automation.SynchronizedInputType.
InputType
SynchronizedInputType
inputType
get_SynchronizeInputType
_synchronizedInputType
SynchronizeInputType
Validate_InputType
GetPairedInputType
MapInputTypeToRoutedEvents
m_InputType
OutputTypeBuilder
get_InputType
_haveInputType
_inputType
_inputTypes
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
(Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Binary) || (Params->InputType == Windows::Microdom::Rtl::CreateMicrodomSource::Xml)
InitInputType
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
<!ENTITY % InputType
  type        %InputType;    "text"
https://putty.fr.uptodown.com/windows/telechargerT
charger PuTTY pour Windows gratuit | Uptodown.com
https://putty.fr.uptodown.com/windowsPuTTY 0.74 (64-bit) pour Windows - T
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531putty - Bing
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
bInputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
cLInputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
InputTypes
OutputTypes
PreferredByOutputType
?inputTypesForMethod@QDBusMetaObject@@QBEPBHH@Z
?outputTypesForMethod@QDBusMetaObject@@QBEPBHH@Z
var WSB;(function(n){function di(n,i){var r=[],u,f;if(i)if(n)r=i.slice();else{u=function(n){var t=i.find(function(t){return t.verb&&t.verb.toLocaleLowerCase()==n.toLocaleLowerCase()});t&&r.push(t)};for(f in t)u(f)}return r}function gi(n){return n?n.filter(function(n){return!n.verb||n.verb.toLowerCase()!="open"}):[]}function f(t,i,r,u,f,e){e()&&(t=t.slice(),i.getExtraVerbsAsync?n.Promise.safeChain("getExtraVerbsAsync",function(){return i.getExtraVerbsAsync(u)},function(n){return h(k(t,n,!0),i,u,f,e)},function(){return h(t,i,u,f,e)},null,r):h(t,i,u,f,e))}function h(n,t,i,r,u){if(u()){var f=t.getExtraVerbs?k(n,t.getExtraVerbs(i),!1):n;f[0]==v&&f.shift();r(f)}}function nr(i,r,u,f){return i.map(function(i){var e,o,s,h;if(i.verb){switch(i.verb.toLocaleLowerCase()){case at:e="PinnedToStart";break;case w:e="PinnedToTaskbar";break;case vt:e="UnpinnedFromStart";break;case b:e="UnpinnedFromTaskbar";break;case lt:o="UninstallConfirmation";e="UninstallationInProgress"}return s=function(t){t();n.RuntimeConfig.AlwaysWide&&e=="UninstallationInProgress"?(r.uninstallationInProgress=!0,f&&f()):e?u.showTemporaryMessage(n.Host.getLocString(e,HitHighlightingParser.removeMarkers(r.text))):u.hideTemporaryMessage();i.verb.toLocaleLowerCase()==w&&n.Host.addItemToPinnedToTaskbar(r.deviceItem.id);i.verb.toLocaleLowerCase()==b&&n.Host.removeItemFromPinnedToTaskbar(r.deviceItem.id)},h=i.icon||t[i.verb.toLocaleLowerCase()],new n.DeviceItemVerbWrapper(i,h,function(t){o&&n.DialogBox?n.DialogBox.show(n.Host.getLocString(o),[{id:null,text:i.displayName,action:function(){return s(t)},selected:!1},{id:null,text:n.Host.getLocString("Cancel"),selected:!0}]):s(t)})}return i})}function wt(t,i,r,u,e,o){if(n.isJumpListSuggestion(i))return n.Promise.safeChain("jumpListItem.getVerbsAsync",function(){return i.jumpListItem.getVerbsAsync()},function(n){return f(gi(n),i,s,u,e,o)},function(){return f([],i,s,u,e,o)},null,t+" "+i.type),!0;var s=t+" "+i.type,c=n.getItemWithFileMetadata(i);return c&&c.canHaveContextMenu?(n.Promise.safeChain("item.getVerbsAsync",function(){return c.getVerbsAsync()},function(n){return f(di(r,n),i,s,u,e,o)},function(){return f([],i,s,u,e,o)},null,s),!0):i.getExtraVerbsAsync?(f([],i,s,u,e,o),!0):i.getExtraVerbs?(h([],i,u,e,o),!0):(u&&e([]),!1)}function e(n,t,i){var r=HitHighlightingParser.removeMarkers(n.text),u=r?r.length:0;return n.additionalInfoText&&!i&&(u+=n.additionalInfoText.length),u>(i?bi:ki)}function bt(n){for(var i,r={topResults:n.topResults.slice(0),groups:[]},t=0,u=n.groups;t<u.length;t++)i=u[t],r.groups.push({typeWithSource:i.typeWithSource,suggestions:i.suggestions.slice(0)});return r}function kt(t,i){if(t.isHtmlAnswer)return si;if(t.grid)return(i?n.IconSize_GridLayout:n.IconSize_GridLayout_Medium)+2*r;var u=t.numberOfLines==3?oi:t.numberOfLines==2?ei:fi;return t.mainTextWrapsToTwoLines&&(u+=rt),u<it&&(u=it),u}function tr(t,i){if(i&&n.uses3lineTemplate(n.getScope(i.type)))return kt({mainTextWrapsToTwoLines:!1,numberOfLines:3,isHtmlAnswer:!1,isSuppressed:t.isSuppressed,grid:!1},!1);if(t.isSuppressed)return 0;var r=ri;return t.hasTwoLines?r+=l+2:t.mainTextWrapsToTwoLines&&(r+=rt),r}function ir(t,i){var r=tt;if(i.typeWithSource&&n.displayedInGridLayout(i.typeWithSource.type)){var u=n.isL2(t),f=Math.ceil(i.suggestions.length/(u?ht:ct)),e=u?ut:ft;r+=e*f;r+=2*a}else i.suggestions.forEach(function(n){return r+=tr(n,i.typeWithSource)});return n.config.enableEdgeUpsellBottom&&i&&i.typeWithSource&&i.typeWithSource.type==n.GroupType.Upsell&&(r=li),r}function rr(n){switch(n){case 0:return"CP";case 7:return"DI";case 1:return"PP";case 2:return"PD";case 4:return"SP";case 5:return"TP";case 6:return"SD"}return undefined}function k(n,t,i){if(n.length>0&&t.length>0){var r=i?n.concat(v):n;return r.concat(t)}return n.length>0?n:t.length>0?i?[v].concat(t):t:[]}function i(t,i){return t.find(function(t){return n.sameGroup(t.typeWithSource,i)})}function dt(t,i){return t.find(function(t){return n.sameGroup(t.group.typeWithSource,i)})}function gt(n,t){return n.queryToFetch.substring(0,t.queryToFetch.lastIndexOf("\\"))}function ni(t){switch(t){case n.GroupType.TopApps:case n.GroupType.MSNWeather:case n.GroupType.People:return!0}return!1}function ur(t,i){if(!t.isSearchHomeZI||t.scope==n.Scope.All||i==n.GroupType.RecommendedDocs)return null;if(t.scope==n.Scope.Web){if(i==n.GroupType.Websites)return n.Host.getLocString("RecentWebsiteSection");if(i==n.GroupType.SearchSuggestions)return n.Host.getLocString("RecentWebSearchSection")}return ni(i)?n.Host.getLocString("FrequentSection"):n.Host.getLocString("RecentSection")}function fr(t){return n.Host.getLocString(t?"SearchWorkAndWeb":"SearchTheWeb")}function er(){return n.Host.getLocString("Websites")}function ti(t,i,r,u){var o,e,f,h,s,c;if(i==n.GroupType.PathCompletion)return o=gt(t,t)+"\\"+String.fromCharCode(8206),{title:o,narratorText:o};if(r&&(e=r.groupDisplayName,e))return{title:e,narratorText:u?n.Host.getLocString("AddingScopeNarratorText",e):e};if(f=ur(t,i),!f)switch(i){case n.GroupType.Command:f=n.Host.getLocString("CommandGroup");break;case n.GroupType.Cortana:f=n.Host.getLocString("CortanaGroup");break;case n.GroupType.Store:f=n.Host.getLocString("StoreGroup");break;case n.GroupType.LocalPlaces:f=n.Host.getLocString("LocalPlacesGroup");break;case n.GroupType.Related:f=n.Host.getLocString("RelatedSuggestionsGroup");break;case n.GroupType.SearchSuggestions:f=fr(n.msbEnabledForQuery(t));break;case n.GroupType.Websites:f=er();break;case n.GroupType.Contact:f=n.Host.getLocString("ContactGroup");break;case n.GroupType.LocalSearchHistory:f="Search history";break;case n.GroupType.TopApps:f=n.Host.getLocString("TopAppsSection");break;case n.GroupType.QuickSearch:f=n.Host.getLocString("QuickSearchSuggestionsSection");break;case n.GroupType.VisualSearch:f="Visual search";break;case n.GroupType.MSNNews:f=n.Host.getLocString(n.config.msnNewsTitleResource);break;case n.GroupType.LockscreenQuickSearch:f=n.Host.getLocString("LockscreenQuickSearchSection");break;case n.GroupType.WelcomeExperience:f=n.Host.getLocString("WelcomeExperienceTitle");break;case n.GroupType.Upsell:f=n.Host.getLocString("RecommendedGroup");break;case n.GroupType.MRUHistory:f=n.Host.getLocString("MRUHistoryGroup");break;case n.GroupType.BingDailyImage:f=n.Host.getLocString("BingImageOfDay");break;case n.GroupType.MSNWeather:f=n.Host.getLocString("Weather");break;case n.GroupType.MeetingPrep:h=r;f=h.timeUntilMeeting;break;case n.GroupType.AnaheimData:f=n.Host.getLocString("AnaheimData");break;case n.GroupType.RecommendedDocs:f=n.Host.getLocString("RecommendedDocsGroup");break;case n.GroupType.PromoBanner:f=n.Host.getLocString("VaccineUpdate")}if(!f){if(s=n.getScope(i),s==n.Scope.All)throw new Error("Unknown group type: "+i);c=n.ScopeConfig[s];f=n.getScopeDisplayName(c)}return{title:f,narratorText:u?n.Host.getLocString("AddingScopeNarratorText",f.toLocaleLowerCase()):f}}var d=4,g=6,c=8,r=12,nt=1,u=20,l=16,ri=u+2*c,tt=16+2*c,ui=tt,it=60,fi=u+2*r,ei=u+l+d+2*r,oi=u+2*(l+d)+2*r,si=80+2*r,hi=c,rt=u,ci=48,li=140,a=1,ut=n.IconSize_GridLayout+2*(g+nt),ft=n.IconSize_GridLayout_Medium+2*(g+nt),ai=32,vi=8,et=140,yi=156,ot=8,pi=510,wi=600,st=200,ht=3,ct=4,bi=39,ki=42,v={},y="runas",p="tabletmode_opennewwindow",lt="tile.uninstall",at="startpin",w="taskbarpin",vt="startunpin",b="taskbarunpin",yt="MRUNoItemsAvailable",o=[{id:"FlyoutNextButton",selected:!1,text:null},{id:"FlyoutButton",selected:!1,text:null},{id:"FlyoutDismissFooterButton",selected:!1,text:null},{id:"flyoutDismissIcon",selected:!1,text:null}],s={id:"SearchBox",selected:!1,text:"SearchBox"},t={},pt,ii;t[y]={content:"&#xE7EF",type:1};t.runasuser={content:"&#xE7EE",type:1};t.openinbrowser={content:"&#xE774",type:1};t.openfilelocation={content:"&#xE838",type:2};t.opencontaining={content:"&#xE838",type:2};t[p]={content:"&#xE8A7",type:2};t[vt]={content:"&#xE77A",type:1};t[b]={content:"&#xE77A",type:1};t[at]={content:"&#xE718",type:2};t[w]={content:"&#xE718",type:2};t.settings={content:"&#xE713",type:2};t.manage={content:"&#xE912",type:1};t.review={content:"&#xE728",type:2};t.share={content:"&#xE72D",type:1};t.connectnetworkdrive={content:"&#xE8CE",type:1};t.disconnectnetworkdrive={content:"&#xE8CD",type:1};t.uninstall={content:"&#xE74D",type:2};t[lt]={content:"&#xE74D",type:2};t.itemproperties={content:"&#xF106",type:2};pt=function(){var t={};return t[n.GroupType.PathCompletion]="GPT",t[n.GroupType.Store]="GT",t[n.GroupType.SearchSuggestions]="GW",t[n.GroupType.WelcomeExperience]="WWE",t[n.GroupType.MRUHistory]="MRUH",t[n.GroupType.QuickSearch]="QSCH",t[n.GroupType.MSNNews]="MSNN",t[n.GroupType.VisualSearch]="SNSC",t}();n.extendVerbs=nr;n.getVerbsAsync=wt;n.wrapsToTwoLines=e;n.joinVerbs=k;n.getGroupTitleAndNarratorText=ti;ii=function(){function t(t,i,r,u,f,e,o,s,h){var c=this;this._autoComplete=t;this._navigationHelper=i;this._page=r;this._previewPane=u;this._menuFactory=f;this._upsellViewModel=e;this._lightweightStorage=o;this._popoverFactory=s;this._headerFooterViewModel=h;this._pendingSubmitSequenceNumber=-1;this._pendingSubmitModifierKeys=null;this._pendingSubmitTimeStamp=null;this._itemLaunchEventHandlers=[];this.groups=[];this.topResults=[];this._lastUpdatedSequenceNumber=-1;this._topResultsRenderingDisabled=!1;this._groupRenderingDisabled=!1;this._resultsCounter={topResults:[],groups:[]};this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];n.Host.bindShown(function(){c._selectedItem=null});r.setSuggestionClickHandler(this.doubleClickGuardedHandler(function(t,i){c.clickedWeatherButton(i)||n.safeExecute(function(){return c.click(n.getCurrentTime(),t,n.getInputType(i),null)},"suggestionClickHandler")}));r.setContextMenuHandler(function(t,i){n.safeExecute(function(){return c._menuFactory.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return n.Host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")});r.setOpenPreviewPaneClickHandler(function(t,i){n.safeExecute(function(){return c.openPreviewPane(t,i)},"openPreviewPaneClickHandler")});r.setExpanderClickInstrumentation(function(t,i,r){var u="Expander"+(r?"Opened":"Closed"),f={st:i,K:t.instItem.getLayoutKValue()};n.InstrumentationHelper.logClientInstEvent("Select",u,null,f)});this._previewPane&&(this._previewPane.init(this),this._previewPane.bindBeforeItemLaunch(function(t,i,r,u,f,e){return n.InstrumentationHelper.instrumentItemClickForPreviewPane(t,i.instItem,i.sequenceNumber,i.instrumentPingBack,r,null,u,f,e)}),this._previewPane.bindAfterItemLaunch(function(n,t,i){return c.onSuggestionLaunch(n,t,i)}));n.Host.bindShown(function(){n.config.setIndexerDefaultValue&&(n.config.searchServiceDisabled=!0);SearchAppWrapper.CortanaApp.queryFormulationView.deviceSearch.getSearchServiceStatusAsync&&n.Promise.safeChain("getSearchServiceStatusAsync",function(){return SearchAppWrapper.CortanaApp.queryFormulationView.deviceSearch.getSearchServiceStatusAsync()},function(t){n.InstrumentationHelper.setSearchServiceStatus(rr(t));switch(t){case 1:case 2:case 5:case 6:case 7:n.config.searchServiceDisabled=!0;c.showIndexingMessage(!1);break;case 0:case 4:if(n.config.queryIndexerOnRunningOnly){n.config.searchServiceDisabled=!0;c.showIndexingMessage(!0);break}n.config.searchServiceDisabled=!1;break;case 3:n.config.searchServiceDisabled=!1}})});r.bindOnNarratorLaunch(function(t){for(var i,f=n.getCurrentTime(),e=c.getSelectableItems(),r=0,u=e;r<u.length;r++)if(i=u[r],i.id==t){c.isSuggestionOrGroup(i)?(c.select(i,!1),c.submit(f,!1,i.sequenceNumber,null,!0)):c.isScopeElement(i)&&_ge(i.id).click();break}});n.Host.bindSearchBoxGotFocus(function(){c._menuFactory.dismiss();var t=n.getCurrentActiveElement();t&&t.blur();c._selectedItem&&!c.isScopeElement(c._selectedItem)&&c.renderSelectedSuggestionState(!1)});n.Host.bindSearchBoxLostFocus(function(){var t=c.isScopeTile(n.getCurrentActiveElement());t?n.safeSetTimeout(function(){n.Host.searchBoxHasFocus()||c.isScopeElement(c._selectedItem)||c.renderSelectedSuggestionState(!0)},75,"RootViewModel.bindSearchBoxLostFocus"):c.renderSelectedSuggestionState(!0)});sj_evt.bind("CortanaPaneWidthSet",function(n){return c.onPaneWidthSet(n[1])});sj_be(_ge("qfContainer"),"scroll",function(){c._menuFactory.dismiss();c._popoverFactory&&c._popoverFactory.dismiss()});this._iconRenderInfos=[]}return t.prototype.isScopeTile=function(n){return n&&n.classList.contains("scopeTile")},t.prototype.onDismiss=function(){this.topResults=[];this.renderTopResults(!0);this.groups=[];this.renderGroups(!0);this._partialQuery=null;this._lastUpdatedSequenceNumber=-1;this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this.toggleProgressBar(!1);this._menuFactory.dismiss();this._previewPane&&n.RuntimeConfig.PreviewPaneAvailable&&this._previewPane.dismiss();this._page.hideTemporaryMessage();this.hideIndexingMessage();n.DialogBox&&n.DialogBox.hide();this._headerFooterViewModel&&this._headerFooterViewModel.render(null,!1,!1,!1,!0);n.Host.setSearchBoxGlyphIcon()},t.prototype.bindItemLaunch=function(n){this._itemLaunchEventHandlers.push(n)},t.prototype.onPaneWidthSet=function(n){ct=Math.floor((n-2*a)/ft);ht=Math.floor((n-2*a)/ut)},t.prototype.setSelectedStyleSuspended=function(t,i){t.selectedStyleSuspended=i&&n.Host.isRequestFocusAvailable()},t.prototype.renderSelectedSuggestionState=function(n){this._selectedItem&&(this.setSelectedStyleSuspended(this._selectedItem,n),this.renderSelection(this._selectedItem))},t.prototype.toggleProgressBar=function(t){var i=this;n.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),t?(this._partialQuery.showProgressBar||this._partialQuery.queryToFetch=="")&&(this._progressTimer=n.safeSetTimeout(function(){i._progressTimer&&(i._page.setProgressIndicatorVisibility(!0),i._progressTimer=null)},250,"showProgress")):n.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),this._page.setProgressIndicatorVisibility(!1)))},t.prototype.resetPendingSubmitSequenceNumber=function(){this._pendingSubmitSequenceNumber=null;this._pendingSubmitModifierKeys=null;this._pendingSubmitTimeStamp=null},t.prototype.onAfterKeyDown=function(t,i,r,u){var e,f,v,s,h,c,y,p,l,a;if(!this._partialQuery||!this._menuFactory.isMenuVisible()&&(!this._popoverFactory||!this._popoverFactory.isPopoverVisible())&&t==13)return!1;if(e=i&&i.shiftKey,n.DialogBox&&n.DialogBox.isVisible())return t!=9||u||this.handleCrossViewModelsTabKeyNavigation(null,e),!0;if(f=this._previewPane&&this._previewPane.hasFocus(),v="rvm onAfterKeyDown",this._page.hideTemporaryMessage(),this.resetPendingSubmitSequenceNumber(),!r&&n.isContextMenuKey(t,e)&&!f)return this.tryShowContextMenuOnSelectedSuggestion(),!0;if(this._menuFactory.isMenuVisible()){if(t==37||t==39||t==13||n.isUpOrDownKey(t)){if(s=this._menuFactory.onAfterKeyDown(t,i,r,u),s)return!0;if(n.isUpOrDownKey(t))return!1}this._menuFactory.dismiss(!0)}if(this._popoverFactory&&this._popoverFactory.isPopoverVisible()){if(t==37||t==39||t==13||n.isUpOrDownKey(t)){if(s=this._popoverFactory.onAfterKeyDown(t,i,r,u),s)return!0;if(t==37||t==39)return!1}this._popoverFactory.dismiss(!1)}if(n.RuntimeConfig.QfMode==5&&t==46)return(h=this._selectedItem,h&&h.removeIcon)?(h.removeIcon.click(n.getCurrentTime(),1),!0):!1;if(c=n.getCurrentActiveElement(),!this.isScopeTile(c)||f||this._menuFactory.isMenuVisible()||this._popoverFactory&&this._popoverFactory.isPopoverVisible()||t!=39&&t!=37){if(t==9)n.config.allowTabToSelectSuggestions||e||!this._selectedItem||f||this.isScopeElement(this._selectedItem)?u||this.handleCrossViewModelsTabKeyNavigation(c,e):this.select(this._headerFooterViewModel.getSelectableItems()[0],!1);else if(n.RuntimeConfig.PreviewPaneAvailable&&this._previewPane&&this._selectedItem&&!this.isScopeElement(this._selectedItem)){this._previewPane.onAfterKeyDownWhenNewSelection(t,this._partialQuery,this._selectedItem);if(f)return!0}}else y=n.getRtlAdjustedKey(t),this._headerFooterViewModel.focusNextScopeTile(c,y==39),p=this._headerFooterViewModel.getSelectableItems(),this.select(p[0],!1);return f=this._previewPane&&this._previewPane.hasFocus(),this._selectedItem&&(n.isUpOrDownKey(t)||t==9)&&!f&&(l=this.isScopeElement(this._selectedItem),l||this._selectedItem==this.topResults[0]?this._page.scrollToTop():this._page.scrollTo(this._selectedItem),a=v+"-AdjustFocus",l||this.isAdvancedOption(this._selectedItem)||this.isFlyout(this._selectedItem)?(this.isAdvancedOption(this._selectedItem)?_ge(this._selectedItem.id).querySelector("input").focus():_ge(this._selectedItem.id).focus(),n.Host.searchBoxHasFocus()&&n.Host.setFocusInWebView(a)):t!=9&&n.Host.searchBoxHasFocus()||n.Host.setFocusInSearchBox(t,a)),this.isFlyoutVisible()&&o.indexOf(this._selectedItem)>=0&&(t==39?this.selectNextFlyoutItem(1):t==37&&this.selectNextFlyoutItem(-1)),!1},t.prototype.isFlyoutVisible=function(){return n.config.enableEducationalFlyout&&!_ge("flyoutContainer").classList.contains("b_hide")},t.prototype.selectNextFlyoutItem=function(n){if(this.isFlyoutVisible()){var t=o.filter(function(n){return _ge(n.id)}),r=t.indexOf(this._selectedItem),i=(r+n)%t.length;this._selectedItem=t[i>=0?i:t.length-1];_ge(this._selectedItem.id).focus()}},t.prototype.handleCrossViewModelsTabKeyNavigation=function(t,i){var a=n.RuntimeConfig.PreviewPaneAvailable&&!!this._previewPane,o=a&&this._previewPane.isOpened(),v=o&&this._previewPane.hasFocus(),e,s,f,l,u,h,c,r;n.DialogBox&&n.DialogBox.isVisible()?(e=n.DialogBox.getSelectableItemsByGroup(),i?this.select(e[e.length-1][0],!1):this.select(e[0][0],!1)):v?i?(this._previewPane.blur(),r=null,this._headerFooterViewModel&&(s=this._headerFooterViewModel.getSelectableItemsByGroup(),r=s[s.length-1][0]),this.select(r,!1)):(this._previewPane.blur(),u=this.getSelectableItems(),this.select(u[0],!0)):this.isScopeTile(t)?!o||i?(f=this.getSelectableSuggestionsByGroup(!0),f.length>0?(l=i?f[f.length-1][0]:f[0][0],this.select(l,!0)):(u=this.getSelectableItems(),u.length>0?this.select(u[0],!0):this.select(null,!0)),h="handleCrossBordersNavigationWithTab",n.safeSetTimeout(function(){return n.Host.setFocusInSearchBox(9,h)},0,h)):(this.select(this._previewPane.getPreviewedSuggestion(),!0),this._previewPane.focus(!0)):this._selectedItem?i?o?this._previewPane.focus():(c=this.getSelectableItemsByGroup(),r=c[c.length-1][0],this.select(r,!1)):this.select(this.getSelectableItemsByGroup()[0][0],!1):this.select(this.getSelectableItemsByGroup()[0][0],!1)},t.prototype.tryShowContextMenuOnSelectedSuggestion=function(){var i=this,t=this._selectedItem&&this.isSuggestion(this._selectedItem)?this._selectedItem:null;t&&n.safeExecute(function(){return i._menuFactory.showContextMenuOnElement(t,_ge(t.id),function(){return n.Host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")},t.prototype.onQueryChanged=function(t,i){var s=this,h,u,f,e,c,l,o,a,r;if(n.DialogBox&&n.DialogBox.hide(),this._menuFactory.dismiss(),!this._partialQuery||!this._partialQuery.equals(t)){if(this._page.hideTemporaryMessage(),n.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),t.showProgressBar?this._progressTimer=n.safeSetTimeout(function(){s._progressTimer&&(s._page.setProgressIndicatorVisibility(!0),s._progressTimer=null)},250,"showProgress"):this._page.setProgressIndicatorVisibility(!1)),this._partialQuery&&this._partialQuery.scope!=t.scope&&(this._turnOnIndexingInstItem||this.hideIndexingMessage()),h=this._partialQuery?this._partialQuery.queryToFetch:"",u=t.queryToFetch,this._previewPane&&n.RuntimeConfig.PreviewPaneAvailable)this._previewPane.onQueryChanged(t);for(this._partialQuery=t,f=!1,e=0,c=this.topResults;e<c.length;e++)r=c[e],r.updateFromQuery&&!r.hasPreviewPaneOpened?r.updateFromQuery(t)&&(f=!0):u.length>h.length&&u.startsWith(h)&&r.query.toLowerCase().includes(t.queryToFetch.toLowerCase())&&(l=r.text.indexOf(HitHighlightingParser.endMarker),l>=0&&l<r.text.length-1&&(r.text=HitHighlightingParser.addMarkers(HitHighlightingParser.removeMarkers(r.text),u),f=!0));if(f){for(o=0,a=this.topResults;o<a.length;o++)r=a[o],r.sequenceNumber=i,this.updateNarratorWithPreviewMessage(r);this.renderTopResults()}this.resetIconTimers();this._iconRenderInfos=[]}},t.prototype.onSuggestionsParsed=function(t,i,r,u,f){var s=t.enabledDataSources[r].groupType,e,o,h;if(typeof s=="number")for(e=0,o=f;e<o.length;e++)h=o[e],h.staticGroupType=s;(u==="NI"||u==="PI")&&(r=="PP"||r=="ST"||t.scope!=n.Scope.All)&&n.RuntimeConfig.ScopesAvailable&&t.scope!=n.Scope.Web&&this.showIndexingMessage(!0)},t.prototype.areSuggestionsPresent=function(){return this.topResults.length>0||this.groups.length>0&&this.groups.some(function(n){return n.suggestions.length>0})},t.prototype.getSuggestions=function(n){var t=this.getCurrentTopResults();return this.groups.forEach(function(n){return t=t.concat(n.suggestions)}),n&&(this._pendingSuggestionsInExistingGroups.forEach(function(n){return t=t.concat(n.suggestions)}),this._pendingSuggestionsInMissingGroups.forEach(function(n){return t=t.concat(n.suggestions)})),t},t.prototype.getSelectableItems=function(){var t,i,u,r,f;if(n.DialogBox&&n.DialogBox.isVisible())return n.DialogBox.getSelectableItems();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItems();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItems();for(t=[],t.push.apply(t,this.topResults),i=0,u=this.groups;i<u.length;i++)r=u[i],r.click&&t.push(r),f=r.suggestions.filter(function(n){return!n.suppressed}),f.forEach(function(n){n.unselectable||t.push(n);n.subItems&&t.push.apply(t,n.subItems.filter(function(n){return!n.disabled}))});return this.areSuggestionsPresent()||t.push(s),n.config.allowUpForScopes&&this._headerFooterViewModel&&t.push.apply(t,this._headerFooterViewModel.getSelectableItems()),t},t.prototype.getSelectableSuggestionsByGroup=function(t){if(n.config.allowTabToSelectSuggestions){var i=[];return i.push(this.topResults),this.groups.forEach(function(n){n.click&&i.push([n]);var t=[],r=n.suggestions.filter(function(n){return!n.suppressed});r.forEach(function(n){n.unselectable||t.push(n);n.subItems&&t.push.apply(t,n.subItems.filter(function(n){return!n.disabled}))});i.push(t)}),!t&&this._headerFooterViewModel&&i.push(this._headerFooterViewModel.getSelectableItems()),i.filter(function(n){return n.length>0})}return[]},t.prototype.getSelectableItemsByGroup=function(){if(n.DialogBox&&n.DialogBox.isVisible())return n.DialogBox.getSelectableItemsByGroup();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItemsByGroup();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItemsByGroup();var t=[];return this.isFlyoutVisible()&&t.push([o.find(function(n){return!!_ge(n.id)})]),this._headerFooterViewModel&&t.push.apply(t,this._headerFooterViewModel.getSelectableItemsByGroup()),this.areSuggestionsPresent()?t.push.apply(t,this.getSelectableSuggestionsByGroup(!0)):t.push([s]),t},t.prototype.getSelectedItem=function(){return n.DialogBox&&n.DialogBox.isVisible()?n.DialogBox.getSelectedItem():this._menuFactory.isMenuVisible()?this._menuFactory.getSelectedItem():this._previewPane&&this._previewPane.hasFocus()?this._previewPane.getSelectedItem():this._selectedItem?this._selectedItem:s},t.prototype.updateSelectionState=function(t){n.contains(this.topResults,t)?this.renderTopResults():this.groups.some(function(i){return n.contains(i.suggestions,t)})&&this.renderGroups()},t.prototype.isSubItem=function(n){return n&&typeof n.itemView!="undefined"},t.prototype.getSuggestionById=function(n){for(var i,t=0;t<this.groups.length;t++)for(i=0;i<this.groups[t].suggestions.length;i++)if(this.groups[t].suggestions[i].id==n)return this.groups[t].suggestions[i];return null},t.prototype.renderSelection=function(t,i){this.isSubItem(t)&&(t=this.getSuggestionById(t.suggestionId));i&&this.isSubItem(i)&&(i=this.getSuggestionById(i.suggestionId));(t&&this.isSuggestion(t)&&n.contains(this.topResults,t)||i&&this.isSuggestion(i)&&n.contains(this.topResults,i))&&this.renderTopResults();this._headerFooterViewModel&&(t&&this.isAdvancedOption(t)||i&&this.isAdvancedOption(i))&&this._headerFooterViewModel.updateTopHitHeader();(t&&n.isGroup(t)&&n.contains(this.groups,t)||t&&this.isSuggestion(t)&&this.groups.some(function(i){return n.contains(i.suggestions,t)})||i&&n.isGroup(i)&&n.contains(this.groups,i)||i&&this.isSuggestion(i)&&this.groups.some(function(t){return n.contains(t.suggestions,i)}))&&this.renderGroups()},t.prototype.renderGroups=function(t){if(this._partialQuery){var i=this._partialQuery.queryToFetch?n.config.maxSuggestionsPerGroup:0;i&&i>0&&this.groups.forEach(function(n,t,r){r[t].suggestions=n.suggestions.slice(0,i)})}this._groupRenderingDisabled||(this._page.updateGroupsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups},t),n.InstrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.select=function(t,i){var f,r,u;(n.cohortProfileManager===null||n.cohortProfileManager===void 0?void 0:n.cohortProfileManager.isTourVisible())&&((f=t===null||t===void 0?void 0:t.id)===null||f===void 0?void 0:f.toLowerCase().search(/flyout/i))==-1||(n.DialogBox&&n.DialogBox.isVisible()?n.DialogBox.select(t):this._menuFactory.isMenuVisible()&&n.contains(this._menuFactory.getSelectableItems(),t)?this._menuFactory.select(t,!1):this._previewPane&&n.contains(this._previewPane.getSelectableItems(),t)?this._previewPane.select(t,!1):(r=this._selectedItem,r&&(r.selected=!1,this.setSelectedStyleSuspended(r,!1)),t==s?(this._selectedItem=null,n.Host.searchBoxHasFocus()||n.Host.setFocusInSearchBox(null,"rvm_select")):(this._selectedItem=t,t&&(t.selected=!0,this.setSelectedStyleSuspended(t,!n.Host.searchBoxHasFocus()))),this.renderSelection(this._selectedItem,r),this.isScopeElement(t)&&this._headerFooterViewModel.select(t,!1),i&&(u=t?t.query:null,u&&this._partialQuery.scopePrefix&&(u=this._partialQuery.scopePrefix.trim()+": "+u),n.Host.updateQueryWithoutRefetching(u))))},t.prototype.resetIconTimers=function(n,t){var o=typeof n=="undefined"||!n,s=typeof n=="undefined"||n,i,f,u,e,r;if(o){if(t)for(i=0,f=this._renderGroupsIconsCBs;i<f.length;i++)r=f[i],r();this._renderGroupsIconsCBs=[];this._renderGroupsTimerForIcons&&(sb_ct(this._renderGroupsTimerForIcons),this._renderGroupsTimerForIcons=null)}if(s){if(t)for(u=0,e=this._renderTopResultsIconsCBs;u<e.length;u++)r=e[u],r();this._renderTopResultsIconsCBs=[];this._renderTopResultsTimerForIcons&&(sb_ct(this._renderTopResultsTimerForIcons),this._renderTopResultsTimerForIcons=null)}},t.prototype.setupIcon=function(i,r,u,f){var e=this,o,s,h;if(n.config.noFetchIcons||n.config.reactGroups){f();return}if(o=function(){u.isTopResult?e.renderTopResults():e.renderGroups();e.resetIconTimers(u.isTopResult,!0)},s=function(t){u.iconsPendingReturn==0?(o(),t&&t()):u.isTopResult?(t&&e._renderTopResultsIconsCBs.push(t),e._renderTopResultsTimerForIcons||(e._renderTopResultsTimerForIcons=n.safeSetTimeout(function(){e._renderTopResultsTimerForIcons=null;o()},st,"renderTRIconsAsync"))):(t&&e._renderGroupsIconsCBs.push(t),e._renderGroupsTimerForIcons||(e._renderGroupsTimerForIcons=n.safeSetTimeout(function(){e._renderGroupsTimerForIcons=null;o()},st,"renderGRPIconsAsync")))},++u.iconsPendingReturn,!r.suppressed&&r.getIcon)n.InstrumentationHelper.notifyIconPending(i,u.isTopResult),h=this._partialQuery,r.getIcon(t.getImageSize(h,r,u.isTopResult),function(t){r.icon=t;var o=function(){--u.iconsPendingReturn;e._partialQuery&&i==n.SequenceNumberManager.getSequenceNumber()&&(n.InstrumentationHelper.notifyIconReadyOrFailed(i,u.isTopResult),(u.isTopResult&&n.contains(e.topResults,r)||!u.isTopResult&&e.groups.some(function(t){return n.contains(t.suggestions,r)}))&&s(f))};n.populateImageRatio(r.icon,r.type,o)});else if(!r.suppressed&&r.icon&&n.canIconFail(r.icon)){n.InstrumentationHelper.notifyIconPending(i,u.isTopResult);var c=r.icon.getFallbackIcon,l=function(n,t){return t(r.icon)},a=r.icon.isValidSize,v=function(){r.getIcon=c;e.setupIcon(i,r,u,f);n.InstrumentationHelper.notifyIconReadyOrFailed(i,u.isTopResult)},y=function(){r.icon.isSmall=!0;r.getIcon=l;e.setupIcon(i,r,u,f);n.InstrumentationHelper.notifyIconReadyOrFailed(i,u.isTopResult)};r.icon.onIconError=v;r.icon.onIconRendered=function(t,e){a(t,e)||r.icon.isSmall?(n.InstrumentationHelper.notifyIconReadyOrFailed(i,u.isTopResult),f()):y()};--u.iconsPendingReturn;s()}else--u.iconsPendingReturn,f()},t.getImageSize=function(t,i,r){return t.isSearchHomeZI?i.type=="TOPL"?7:8:t.scope==n.Scope.Apps&&!t.queryToFetch?3:n.displayedInGridLayout(i.type)?2:r?0:1},t.prototype.isSuggestionOrGroup=function(n){return!this.isScopeElement(n)},t.prototype.isSuggestion=function(t){return!n.isGroup(t)&&!this.isScopeElement(t)&&!this.isAdvancedOption(t)},t.prototype.isAdvancedOption=function(n){return typeof n.layout=="number"},t.prototype.isFlyout=function(n){return this.isFlyoutVisible()&&o.indexOf(n)>=0},t.prototype.isBodyOrSuggestion=function(n){return n&&(n.tagName.toLowerCase()=="body"||n.tagName.toLowerCase()=="iframe"||n.className&&n.classList.contains("suggestion"))},t.prototype.submit=function(t,i,r,u,f){var s=f?5:i?6:1,c=n.getCurrentActiveElement(),e,o,h,l;if(n.DialogBox&&n.DialogBox.isVisible()){n.DialogBox.submit();return}if(this._previewPane&&this._previewPane.hasFocus()){if(e=this._previewPane.getSelectedItem(),e&&e.click&&e.optionType===undefined){e.click(t,s);return}}else if(!this._selectedItem||!this.isScopeElement(this._selectedItem)||this._menuFactory.isMenuVisible()||this._popoverFactory&&this._popoverFactory.isPopoverVisible()){if((n.RuntimeConfig.QfMode==5||n.RuntimeConfig.QfMode==9)&&!this._selectedItem){n.Host.submitFileExplorerTextSuggestion(this._partialQuery.queryToFetch);return}}else{_ge(this._selectedItem.id).click();return}if(o=this._menuFactory.getSelectedItem(),o){o.click&&o.click(t,s,u);return}if(h=this._popoverFactory?this._popoverFactory.getSelectedItem():null,h){this._popoverFactory.submit(h);return}if(l=!this.isBodyOrSuggestion(c),l){n.Host.isRequestFocusAvailable()||c.click();return}if(this._lastUpdatedSequenceNumber!=r&&(!this._selectedItem||this._selectedItem==this.topResults[0])){this._pendingSubmitSequenceNumber=r;this._pendingSubmitModifierKeys=u;this._pendingSubmitTimeStamp=t;return}this._selectedItem?this.click(t,this._selectedItem,s,u):this.groups.length>0&&this._partialQuery.fullPartialQuery&&this.showDisableEnterMessage()},t.prototype.doubleClickGuardedHandler=function(t){var i;return function(r,u){i&&n.getCurrentTime()-i<=250||(i=n.getCurrentTime(),t(r,u))}},t.prototype.click=function(t,i,r,u){if(this._page.hideTemporaryMessage(),this.isAdvancedOption(i)){i.click&&i.click(t,r,u);return}var f=n.isGroup(i)||this.isSubItem(i)?null:i;if(!i.instItem||f&&f.isReformulation||n.InstrumentationHelper.instrumentItemClick(t,i.instItem,i.sequenceNumber,f?f.instrumentPingBack:null,r,u),!f){i.click&&i.click(t,r,u);return}u=u||n.Host.getModifierKeyState();u.ctrlKey&&u.shiftKey?this.launchVerb(f,y,t):u.shiftKey?this.launchVerb(f,p,t):f.click(t,r,u);this.onSuggestionLaunch(f,this._partialQuery)},t.prototype.onSuggestionLaunch=function(t,i,r){n.isChildSuggestion(t)&&(t=t.parent);this._itemLaunchEventHandlers.forEach(function(n){return n(t,i,r)})},t.prototype.launchVerb=function(t,i,r){var u=wt("launchVerb",t,n.config.rawVerbs,!1,function(u){for(var s,h,e=!1,c=function(t){if(t.verb&&t.verb.toLocaleLowerCase()==i.toLocaleLowerCase())return t.executeSync?n.safeExecute(function(){return t.executeSync()},"verb.executeSync",null,i):n.Promise.safeChain("verb.executeAsync",function(){return t.executeAsync()},null,null,null,i),e=!0,"break"},f=0,o=u;f<o.length;f++)if(s=o[f],h=c(s),h==="break")break;e||t.click(r,0)},function(){return!0});u||t.click(r,0)},t.prototype.getGroupHeaderClickAction=function(t,i,r,u){var h=this,f,o,e,s,c,l,a;if(n.RuntimeConfig.QfMode==8)return[null,null,null,null,null];if(e=null,s=null,n.RuntimeConfig.ScopesAvailable&&(c=n.getScope(i.type),c!=n.Scope.All))if(i.type==n.GroupType.SearchSuggestions&&t.isSearchHomeZI)o=n.Host.getLocString("OpenPrivacyPortalButtonText"),e=n.Host.getLocString("ManageSearchHistory"),f=function(){return n.Host.launchPrivacyPortal()};else return n.isL2(t)||!n.isScopeEnabled(c,n.ScopeConfig[c])?[null,null,null,null,null]:(l=function(){return h._headerFooterViewModel.clickHandler(c,"groupHeader",i)},[l,null,null,null,null]);if(!f)switch(i.type){case n.GroupType.Store:f=function(){return n.Host.launchStoreSearch(t.queryToFetch)};break;case n.GroupType.SearchSuggestions:f=function(){return h.launchSearch(t,r)};break;case n.GroupType.PathCompletion:f=function(){return n.Host.launchFolder(gt(t,h._partialQuery))};break;case n.GroupType.MSNNews:if(!n.config.msnNewsAlternativeUX)return o=n.Host.getLocString("QuickSearchSuggestionsSection"),e=n.Host.getLocString("MSNNewsQuickSearchHover"),f=function(){h._lightweightStorage.setItem(n.currentTabStorageKey,n.MSNNewsTabs.QuickSearches);n.Host.refreshCurrentPane();n.InstrumentationHelper.logClientInstEvent("Select","MSNNewsTabChange",null,{newtab:"QuickSearches"})},[f,null,o,e,s];break;case n.GroupType.Upsell:if(t.isSearchHomeZI||n.config.enableEdgeUpsellBottom)return s={content:"&#xE711",type:2},o=n.Host.getLocString("DismissUpsell"),e=n.Host.getLocString("DismissUpsell"),f=this._upsellViewModel.getDismissButtonAction(t),[f,null,o,e,s];break;case n.GroupType.MeetingPrep:return s={content:"&#xE711",type:2,narratorText:n.Host.getLocString("DismissMeeting")},o=n.Host.getLocString("DismissMeeting"),e=n.Host.getLocString("DismissMeeting"),f=u.dismissAction,[f,null,o,e,s];case n.GroupType.QuickSearch:if(n.config.msnNewsSearch&&n.shouldEnableMSNNewsSearches(n.getCurrentLanguage()))return o=n.Host.getLocString(n.config.msnNewsTitleResource),e=n.Host.getLocString(n.config.msnNewsHoverResource),f=function(){h._lightweightStorage.setItem(n.currentTabStorageKey,n.MSNNewsTabs.News);n.Host.refreshCurrentPane();n.InstrumentationHelper.logClientInstEvent("Select","MSNNewsTabChange",null,{newtab:"MSNNews"})},[f,null,o,e,s];break;case n.GroupType.WelcomeExperience:if(n.config.enableWWETour&&n.RuntimeConfig.PreviewPaneAvailable&&SearchAppWrapper.CortanaApp.height>=615)return s={content:"&#xE711",type:2},o=n.Host.getLocString("DismissUpsell"),e=n.Host.getLocString("DismissUpsell"),f=function(){return h.dismissTour(t)},[f,null,o,e,s];break;case n.GroupType.BingDailyImage:if(n.canShowBingDailyImage(this._lightweightStorage))return s={content:"&#xE711",type:2,className:"bingImageDismissGroup"},o=n.Host.getLocString("DismissBingImage"),e=n.Host.getLocString("DismissBingImage"),f=function(){h._lightweightStorage.setItem("BingImageDismissed","1");n.Host.refreshCurrentPane();n.InstrumentationHelper.logClientInstEvent("Select","BingImageDismiss",null)},[f,null,o,e,s];break;case n.GroupType.PromoBanner:return s={content:"&#xE711",type:2},o=n.Host.getLocString("DismissUpsell"),e=n.Host.getLocString("DismissUpsell"),f=this._upsellViewModel.getDismissButtonAction(t),[f,null,o,e,s]}if(f){if(!r)throw"No QS code for: "+n.GroupType[i.type];return a=n.InstrumentedItem.getNonSuggestionInstrumentedItem(r,n.SyntheticQSCodesMaps.KValues),[f,a,o,e,s]}return[null,null,null,null,null]},t.prototype.shouldShowPlusIconInGroupHeader=function(t,i){if(n.getScope(t)==n.Scope.Web||t==n.GroupType.Store)return!1;if(t==n.GroupType.Apps&&this._partialQuery.queryToFetch.length<n.config.minLengthForIBAonL1)return!0;if(t==n.GroupType.Apps||t==n.GroupType.Settings){var r=i[t==n.GroupType.Apps?"PP":"ST"];return!(r&&r.maxedOut)}return!0},t.prototype.shouldHideGroupHeader=function(t){if(t===n.GroupType.MSNWeather||t===n.GroupType.TopApps&&this._partialQuery.scope==n.Scope.All&&n.shouldEnableWeatherTile(n.getCurrentLanguage())&&!n.config.prong1)return n.isWeatherTileVisible(this._lightweightStorage);if(t===n.GroupType.QuickSearch&&n.shouldEnableMSNNewsSearches(n.getCurrentLanguage())&&n.canShowMSNNewsTab(this._lightweightStorage))return!0;if(n.RuntimeConfig.QfMode!=8||t==n.GroupType.QuickSearch||this._partialQuery&&this._partialQuery.queryToFetch){if(t===n.GroupType.VisualSearch||t===n.GroupType.MSNNews&&n.config.msnNewsAlternativeUX)return!0}else return!0;return!1},t.prototype.addGroup=function(t,r,u,f,e){var w,o,a;if(i(this.groups,t))throw new Error("Trying to add repeated group "+t);var v=pt[t.type],s=this.getGroupHeaderClickAction(this._partialQuery,t,v,r),h=s[0],c=s[1],y=s[2],b=s[3],p=s[4],l=ti(this._partialQuery,t.type,r,!!h);return t.source&&(l.title+=" - "+n.getGroupSourceDisplayName(t.source)),o=[],n.isTopHitChildGroup(t)?o.push("topHitConnectedToGroup"):t.type==n.GroupType.TopApps||this._partialQuery.isSearchHomeZI&&t.type==n.GroupType.People?o.push("topItemsGroup"):t.type==n.GroupType.QuickSearch?o.push("balloonSuggGroup"):t.type==n.GroupType.VisualSearch?o.push("snipSuggGroup"):t.type==n.GroupType.MSNNews?o.push("msnNewsGroup"):t.type==n.GroupType.LockscreenQuickSearch?o.push("lockscreenQuickSuggGroup"):t.type==n.GroupType.WelcomeExperience?o.push("welcomeExperience"):t.type==n.GroupType.Upsell?o.push("upsellSuggGroup"):t.type==n.GroupType.MeetingPrep?o.push("meetingPrepSuggGroup"):t.type==n.GroupType.PromoBanner?o.push("skypePromoSuggGroup"):t.type==n.GroupType.BingDailyImage?o.push("bingImageGroup"):t.type==n.GroupType.MSNWeather?o.push("msnWeatherGroup"):n.RuntimeConfig.QfMode==8?t.type==n.GroupType.Apps?o.push("appsGroup"):(t.type==n.GroupType.Documents||t.type==n.GroupType.Photos||t.type==n.GroupType.Videos||t.type==n.GroupType.Folders)&&o.push("filesGroup"):t.type==n.GroupType.MRUHistory?(o.push("mruHistory"),w=n.Host.getLocString("MRUHistoryEducation")):(t.type==n.GroupType.RecommendedDocs||t.type==n.GroupType.Documents&&n.isRecommendedDocsGroupEnabled(this._partialQuery))&&o.push("recommendedDocsGroup"),a={type:t.type,typeWithSource:t,id:"gr"+t.type+(t.source||""),text:l.title,secondaryText:y,secondaryIcon:p,narratorText:l.narratorText,tooltip:b,click:(n.cohortProfileManager===null||n.cohortProfileManager===void 0?void 0:n.cohortProfileManager.isTourVisible())?null:h,onlyAnnotationIsClickable:h&&(!!y||!!p),suggestions:[],instRegionName:n.GroupType[t.type],instItem:c,selected:!1,cssClasses:o.join(" ")||undefined,sequenceNumber:u,showPlusIconInHeader:this.shouldShowPlusIconInGroupHeader(t.type,e),hideGroupHeader:this.shouldHideGroupHeader(t.type),education:w},c&&n.InstrumentationHelper.instrumentSyntheticInstrumentedItem(u,v,c),this._resultsCounter.groups.push({typeWithSource:t,suggestions:[]}),this.insertGroup(a,f),a},t.prototype.insertGroup=function(t,i){for(var f,e=this,o=i.findIndex(function(i){return n.sameGroup(i,t.typeWithSource)}),u=!1,s=function(r){var f=i.findIndex(function(t){return n.sameGroup(t,e.groups[r].typeWithSource)});if(f>o)return h.groups.splice(r,0,t),u=!0,"break"},h=this,r=0;r<this.groups.length;r++)if(f=s(r),f==="break")break;u||this.groups.push(t)},t.prototype.handlePendingSubmit=function(t){if(this._pendingSubmitSequenceNumber==this._lastUpdatedSequenceNumber)try{if(this.topResults.length==0)(this.groups.length>0||t.length>0)&&this.showDisableEnterMessage();else{var i=this.topResults[0];return n.InstrumentationHelper.instrumentItemClick(this._pendingSubmitTimeStamp,i.instItem,i.sequenceNumber,i.instrumentPingBack,1,this._pendingSubmitModifierKeys),this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.ctrlKey&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(i,y,this._pendingSubmitTimeStamp):this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(i,p,this._pendingSubmitTimeStamp):i.click(this._pendingSubmitTimeStamp,0,this._pendingSubmitModifierKeys),0}}finally{this.resetPendingSubmitSequenceNumber()}return 1},t.prototype.showDisableEnterMessage=function(){this._page.showTemporaryMessage(n.Host.getLocString("EnterOnAmbiguousTopHitMessageText"))},t.prototype.showIndexingMessage=function(t){var i=this,r,u;t?this._turnOnIndexingInstItem=null:(this._turnOnIndexingInstItem=n.InstrumentedItem.getNonSuggestionInstrumentedItem("IMIO",n.SyntheticQSCodesMaps.KValues),r={id:null,selected:null,text:n.Host.getLocString("WindowsIndexingDisabledAction"),title:null,instItem:this._turnOnIndexingInstItem,click:function(t,r){var u=n.SequenceNumberManager.getSequenceNumber();u>i._lastUpdatedSequenceNumber&&n.InstrumentationHelper.instrumentSyntheticInstrumentedItem(u,"IMIO",i._turnOnIndexingInstItem);n.InstrumentationHelper.instrumentItemClick(t,i._turnOnIndexingInstItem,u,null,r,null);n.LocalDataProvider.launchIndexingOptions(!1)},layout:1,isSelectable:!0});u={messageText:t?n.Host.getLocString("WindowsIndexingInProgressMessage"):n.Host.getLocString("WindowsIndexingDisabledMessage"),title:t?n.Host.getLocString("WindowsIndexingInProgressToolTip"):n.Host.getLocString("WindowsIndexingDisabledToolTip"),action:r};this._page.updateIndexingMessageView(u)},t.prototype.hideIndexingMessage=function(){this._turnOnIndexingInstItem=null;this._page.updateIndexingMessageView(null)},t.prototype.getAvailableSpace=function(t){var r=this,i;return n.isL2(this._partialQuery)&&this._partialQuery.queryToFetch?Number.MAX_VALUE:(i=this._page.getSuggestionsContainerHeight(),n.config.extraTopPadding&&!n.RuntimeConfig.SearchBoxOnTop&&(i-=n.config.extraTopPadding),n.RuntimeConfig.ScopesAvailable&&(i-=ci),t.topResults.length==0||n.RuntimeConfig.FlatListWithoutGroups||(i-=ui),t.topResults.forEach(function(t){return i-=kt(t,n.isL2(r._partialQuery))}),t.groups.forEach(function(n){return i-=ir(r._partialQuery,n)}),t.groups.some(function(t){return t.typeWithSource&&n.isTopHitChildGroup(t.typeWithSource)})&&t.groups.some(function(t){return t.typeWithSource&&!n.isTopHitChildGroup(t.typeWithSource)})&&(i-=hi),i)},t.prototype.getAvailableSpaceForZeroInputHomeTopSection=function(t,i){var r=this._page.getSuggestionsContainerWidth(),u,f;return r-=n.RuntimeConfig.AlwaysWide?ai:vi,r-=ot,u=t?t.suggestions.filter(function(n){return n&&!n.suppressed}).length:0,u+=i.suppressed?0:1,f=n.RuntimeConfig.AlwaysWide?et:yi,r-(f+ot)*u},t.prototype.canFitSuggestion=function(t,r,u){if(u.suppressed||n.getTweakedSetting("scrollBarInL1"))return!0;var o=bt(this._resultsCounter),f;return t?(f={typeWithSource:r,suggestions:[]},o.groups.push(f)):f=i(o.groups,r),f.suggestions.push({mainTextWrapsToTwoLines:u&&e(u,r.type,!1),isSuppressed:u&&u.suppressed,hasTwoLines:u&&n.contains(u.classNames,"forceNoWrapOutsideTopResult")}),this._partialQuery.isSearchHomeZI?this.canFitSuggestionInZeroInputHome(r,u):this.getAvailableSpace(o)>=0},t.prototype.canFitSuggestionInZeroInputHome=function(t,r){var u,e,o,s,f;return r.type==="SNSC"?!0:(u=i(this.groups,t),t.type==n.GroupType.MRUHistory)?!0:ni(t.type)?this._partialQuery.scope===n.Scope.All&&n.config.prong1&&t.type==n.GroupType.TopApps?(e=u?u.suggestions.length:0,e<5):n.isWeatherTileVisible(this._lightweightStorage)&&this._partialQuery.scope===n.Scope.All&&n.shouldEnableWeatherTile(n.getCurrentLanguage())?(o=n.config.prong1Menu?0:et,u?this.getAvailableSpaceForZeroInputHomeTopSection(u,r)>=o:!0):this.getAvailableSpaceForZeroInputHomeTopSection(u,r)>=0:t.type===n.GroupType.QuickSearch?(s=n.config.maxQuickSearches+(n.config.resumeSearch?1:0),f=0,SearchAppWrapper.CortanaApp.height<600&&(f=2),(u?u.suggestions.length:0)>=s-f)?!1:!0:t.type===n.GroupType.LockscreenQuickSearch?!0:(u?u.suggestions.length:0)<this.getMaxNumberOfRecentItems(t.type)},t.prototype.getMaxNumberOfRecentItems=function(t){var r,u,i;return t===n.GroupType.MSNNews?5:n.enableProngWeather(n.getCurrentLanguage())&&t===n.GroupType.MRUHistory?(i=SearchAppWrapper.CortanaApp.height,i<600)?4:i<620?6:7:(t==n.GroupType.MRUHistory||t==n.GroupType.RecommendedDocs)&&(r=n.ScopeConfig[n.Scope.All].enabledDataSourcesForZeroInput,u=r.some(function(n){return n&&n.suggestionGroupToggler&&n.suggestionGroupToggler.isHidden()}),n.RuntimeConfig.PreviewPaneAvailable&&n.shouldEnableQuickSearches(n.Host.getLanguage().toLowerCase())&&!u)?n.isL2(this._partialQuery)?10:(i=SearchAppWrapper.CortanaApp.height,i<pi?Math.min(2,n.config.activityInZI):i<wi?Math.min(3,n.config.activityInZI):Math.min(4,n.config.activityInZI)):n.config.activityInZI},t.prototype.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup=function(){var i,r,u,t,f;if(n.isL2(this._partialQuery)&&this._partialQuery.queryToFetch||n.getTweakedSetting("scrollBarInL1"))return Number.MAX_VALUE;if(this._partialQuery.isSearchHomeZI)return n.RuntimeConfig.QfMode==8?4:4;for(i=bt(this._resultsCounter),r=0,u=i.groups;r<u.length;r++)for(t=u[r];t.suggestions.length<n.config.minSuggestionsPerGroup;)t.suggestions.push(t.suggestions[0]);while(this.getAvailableSpace(i)>0){for(t={suggestions:[]},f=0;f<n.config.minSuggestionsPerGroup;++f)t.suggestions.push({mainTextWrapsToTwoLines:!1,isSuppressed:!1,hasTwoLines:!1});i.groups.push(t)}return i.groups.length-1},t.prototype.onSuggestionAddedToGroup=function(t,r){var f=this,u,o;this.updateNarratorWithPreviewMessage(t);n.isChildSuggestion(t)&&(t.displayed=!0,u=t.parent,t.id=u.id+"_"+u.childSuggestions.indexOf(t),n.isJumpListSuggestion(t)&&t.tooltip===undefined&&n.Promise.safeChain("getJumpListDescription",function(){return t.jumpListItem.getDescriptionAsync()},function(i){t.tooltip=i;f.groups.some(function(i){return n.contains(i.suggestions,t)})&&f.renderGroups()}));this.setRemoveIcon(t);o=i(this._resultsCounter.groups,r.typeWithSource);o.suggestions.push({mainTextWrapsToTwoLines:e(t,r.typeWithSource.type,!1),isSuppressed:t.suppressed,hasTwoLines:n.contains(t.classNames,"forceNoWrapOutsideTopResult")});n.displayedInGridLayout(r.typeWithSource.type)&&r.suggestions.filter(function(n){return!n.suppressed}).length>0&&n.RuntimeConfig.QfMode!=8&&(r.cssClasses+=n.isL2(this._partialQuery)?" gridLayout":" gridLayout gridLayoutMedium")},t.prototype.onGroupsCleared=function(){this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this._resultsCounter.groups=[];this._turnOnIndexingInstItem&&n.InstrumentationHelper.instrumentSyntheticInstrumentedItem(this._lastUpdatedSequenceNumber,"IMIO",this._turnOnIndexingInstItem)},t.prototype.dismissTour=function(t){var i={query:t.queryToFetch};this._lightweightStorage.setItem("wweTourTook","1");this._lightweightStorage.setItem("wweTourRefreshed","1");this._lightweightStorage.removeItem("wweTourEnabled");_ge("root").classList.remove("overlayEnabled");n.setZeroInputDataSourcesForL1();n.Host.refreshCurrentPane();this._lightweightStorage.removeItem("wweTourRefreshed");n.InstrumentationHelper.logClientInstEvent("Select","WWETourDismiss",null,i)},t.prototype.launchSearch=function(t,i){var r=t.queryToFetch;n.Host.launchSearch(r,this._navigationHelper.getSearchUrl(t.fullPartialQuery,r,i),!1)},t.prototype.setRemoveIcon=function(t){var r=this,i;if(n.RuntimeConfig.QfMode!=8){var u=t.getExtraVerbs&&t.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromDeviceHistory"}),o=t.type=="HS"&&n.config.removeSuggUrl,s=n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.forceRemoveIcon,f=t.getExtraVerbs&&t.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromDeviceHistoryAll"}),e=t.getExtraVerbs&&t.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromWeatherTile"});(s||u||o||f||e)&&(i=f?"RemoveFromDeviceHistoryAll":u?"RemoveFromDeviceHistory":e?"RemoveFromWeatherTile":"RemoveFromWebHistory",t.removeIcon={icon:{content:"&#xE711",type:2},title:n.Host.getLocString(i),click:function(u,f){r._page.hideTemporaryMessage();n.InstrumentationHelper.instrumentItemClickForContextMenu(u,t.instItem,t.sequenceNumber,t.instrumentPingBack,f,null,i);r.launchVerb(t,i,u);n.Host.setFocusInSearchBox(null,"remove")}})}},t.prototype.updateNarratorWithPreviewMessage=function(t){var r=n.RuntimeConfig.AlwaysWide?"PreviewPaneButtonNarratorMessageWidePane":"PreviewPaneButtonNarratorMessage",i=n.Host.getLocString(r);t.narratorText&&t.previewPaneType&&t.narratorText.indexOf(i)==-1&&(t.narratorText+=", "+i)},t.prototype.onBeforeRenderTopResults=function(t,i,r,u,f){var e=this,h,c,o,a,v,l,s,y;return this.topResults.forEach(function(n){e.setRemoveIcon(n);e.updateNarratorWithPreviewMessage(n)}),h=1,this.topResults.length!=1||this.topResults[0].hasChildSuggestionsDisplayed||r.some(function(t){return n.isChildSuggestion(t)})&&(this.topResults[0].hasChildSuggestionsDisplayed=!0,h=0),c=this.getSelectableItems(),n.RuntimeConfig.FirstSuggestionSelectedByDefault?(!this._selectedItem||!n.contains(c,this._selectedItem)||this.isScopeElement(this._selectedItem)||this._selectedItem==i[0]&&this.topResults[0]!=i[0]||this._selectedItem!=c[0]||this._selectedItem.previewPaneNeedsRefreshAfterDeduping)&&(o=this._partialQuery.queryToFetch&&this.topResults.length>0?this.topResults[0]:null,n.config.synthWebNoBestMatch&&n.isNullOrUndefined(o)&&(a=[n.GroupType.SearchSuggestions,n.GroupType.Websites],v=r.filter(function(t){return!n.contains(a,n.getGroupType(t))}),v.length==0&&(o=r.length>0?r[0]:null)),this._previewPane&&n.RuntimeConfig.PreviewPaneAvailable&&n.safeExecute(function(){return e._previewPane.onTopHitUpdated(e._partialQuery,e._selectedItem&&e.isSuggestion(e._selectedItem)?e._selectedItem:null,o,e.getSuggestions(!1))},"ppOnTopHitUpdated"),n.RuntimeConfig.QfMode==8&&n.isNullOrUndefined(o)&&(o=r.length>0?r[0]:null),this.select(o,!1),this._page.scrollToTop()):t&&this.select(null,!1),l=this.topResults.length>0,s=function(t){return!t.suppressed&&t.staticGroupType!=n.GroupType.VisualSearch&&(n.RuntimeConfig.QfMode!=6||t.type!="LSQS")},this._headerFooterViewModel&&(y=l||r.some(s)||this.groups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.some(s)}),this._headerFooterViewModel.render(this._partialQuery,l,y,u,f)),h},t.prototype.isRankable=function(t){return t.typeWithSource.type!=n.GroupType.SearchSuggestions&&t.typeWithSource.type!=n.GroupType.Websites&&t.typeWithSource.type!=n.GroupType.LocalPlaces&&!t.suggestions.some(n.enforceOriginalOrder)},t.prototype.isNotRankableWithRecourse=function(t){return t.typeWithSource.type==n.GroupType.Emails},t.prototype.openPreviewPane=function(t,i){i.stopPropagation();this._previewPane.showPreview(this._partialQuery,t);this.select(t,!0);n.Host.setFocusInSearchBox(null,"openPreviewPane")},t.prototype.mayNeedFlush=function(){return!n.RuntimeConfig.FlatListWithoutGroups},t.prototype.update=function(t,i,r,u,f,o,s,h,c,l){var a=this,g=this.topResults,p,nt,tt,w,rt,v,ot,d;if(t&&(this._contentQuery=this._partialQuery,this._renderTopResultsTimerForIcons=null,this._renderGroupsTimerForIcons=null),n.config.enableMRUHint)for(p=0,nt=i;p<nt.length;p++)tt=nt[p],tt.mruHintEnabled&&(tt.uxHint=n.Host.getLocString("MruBestMatch"));var et=this.updateTopResults(t,i,r,u,f,c),it=et[0],ct=et[1];for(ct(),this._resultsCounter.topResults=[],w=0,rt=this.topResults;w<rt.length;w++)v=rt[w],v.previewPaneNeedsRefreshAfterDeduping=!1,ot=1+(v.primaryMetadata?1:0)+(v.secondaryMetadata?1:0),this._resultsCounter.topResults.push({mainTextWrapsToTwoLines:e(v,null,!0),numberOfLines:ot,isHtmlAnswer:!!v.htmlContent,isSuppressed:!1,grid:n.displayedInGridLayout(v.type)});if(this._autoComplete&&this.topResults.length>0&&this._selectedItem==this.topResults[0]&&this._autoComplete.apply(this.topResults[0]),this.handlePendingSubmit(f)==0)return this.toggleProgressBar(!0),0;this._partialQuery&&this._partialQuery.isSearchHomeZI&&this.toggleProgressBar(!c);var ut=!1,b=0,lt=this.createIconRenderInfo(),st=function(){if(ut){var t=a.groups.map(function(n){return n.typeWithSource.type}),i=a._contentQuery.queryToFetch&&n.RuntimeConfig.QfMode==8;a._contentQuery.queryToFetch||b!=0||n.InstrumentationHelper.instrumentZiRendered(u);n.InstrumentationHelper.instrumentRenderFinished(u,s,t,b!=0,i,!a._contentQuery.queryToFetch)}},ft=function(n,t){var r=!1,i;if(a.isRankable(t)&&a._partialQuery&&a._partialQuery.queryToFetch)for(i=0;i<t.suggestions.length;i++)if(n.rankingScore>t.suggestions[i].rankingScore){t.suggestions.splice(i,0,n);r=!0;break}r||t.suggestions.push(n);++b;a.setupIcon(u,n,lt,function(){--b;st()});a.onSuggestionAddedToGroup(n,t)},y=this.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup()-this.groups.length,k=!1,ht=function(){var i,f,t,e;if(y!=0&&r||a.flush(ft,u,h),a.groups.sort(function(t,i){return h.findIndex(function(i){return n.sameGroup(i,t.typeWithSource)})-h.findIndex(function(t){return n.sameGroup(t,i.typeWithSource)})}),a._partialQuery&&a._partialQuery.queryToFetch)for(i=0,f=a.groups;i<f.length;i++)t=f[i],a.isRankable(t)?t.suggestions.sort(function(n,t){return t.rankingScore-n.rankingScore}):a.isNotRankableWithRecourse(t)&&(e=t.suggestions.map(function(n){return n.notAResult}).findIndex(function(n){return n}),e!=-1&&t.suggestions.splice(t.suggestions.length-1,0,t.suggestions.splice(e,1)[0])),a.populateGroupHeaderFlags(t)};return t||f.length>0||o.length>0?(this.renderGroupsAfter(function(){for(var ut,s,c,k,d,v,nt,p,tt,i,w,rt,e=0,b=o;e<b.length;e++)i=b[e],ut=a.removeSuggestion(i,l),ut&&(y+=1);for(s=function(t,i){var e=a.getGroupData(t),f=e[0],r=e[1],o;(n.cohortProfileManager===null||n.cohortProfileManager===void 0?void 0:n.cohortProfileManager.isTourVisible())&&(t.click=undefined,t.tooltip=undefined);r?(r.count&&r.count++,o=n.config.minSuggestionsPerGroup&&!i?n.config.minSuggestionsPerGroup-r.suggestions.length:999,o>0&&a.canFitSuggestion(!1,f,t)?ft(t,r):a._partialQuery.isSearchHomeZI||a.queueSuggestionInExistingGroup(t,r)):y>0&&a.canFitSuggestion(!0,f,t)?(r=a.addGroup(f,t,u,h,l),a.shouldTrackGroupCount(r)&&(r.count=1),ft(t,r),y-=1):a._partialQuery.isSearchHomeZI||a.queueSuggestionInMissingGroup(t,f,l)},c=0,k=g;c<k.length;c++){var et=k[c],ot=a.getGroupData(et),r=ot[1];r&&r.count&&(r.count-=1)}if(d=function(){return a._contentQuery.isSearchHomeZI||n.getTweakedSetting("scrollBarInL1")},it&&!t){for(v=0,nt=f;v<nt.length;v++)i=nt[v],n.contains(g,i)&&s(i,!0);for(p=0,tt=f;p<tt.length;p++)i=tt[p],n.contains(g,i)||s(i,d())}else f.forEach(function(n){return s(n,d())});for(w=0,rt=a.topResults;w<rt.length;w++){var et=rt[w],st=a.getGroupData(et),r=st[1];r&&r.count&&(r.count+=1)}ht()}),k=!0,ut=!0):y!=0&&r||(this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.length>0})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))&&(this.renderGroupsAfter(function(){return ht()}),k=!0,ut=!0),(it||k)&&(d=void 0,it?k||(d=!0):d=!1,this.resetIconTimers(d,!0)),st(),c&&this.toggleProgressBar(!1),n.config.mruSearchHome&&this._partialQuery.isSearchHomeZI&&this._partialQuery.scope==n.Scope.All&&this.sortMRUList(),1},t.prototype.sortMRUList=function(){var r=this.groups.filter(function(t){return t.type==n.GroupType.MRUHistory}),u=this.groups.filter(function(t){return t.type!=n.GroupType.MRUHistory}),f=this.getMaxNumberOfRecentItems(n.GroupType.MRUHistory),t,i;r.length>0?(this._lightweightStorage.removeItem(yt),t=r[0],t.suggestions.sort(function(n,t){return t.lastLaunchTime-n.lastLaunchTime}),t.suggestions.length>f&&(t.suggestions=t.suggestions.splice(0,f)),i=-1,this.groups.forEach(function(t,r){i=t.type==n.GroupType.MRUHistory?r:i}),u.splice(i,0,t),this.groups=u,this.renderGroups()):this._lightweightStorage.setItem(yt,"1")},t.prototype.canGoToL2=function(n){return n.click&&!n.instItem},t.prototype.populateGroupHeaderFlags=function(n){if(this.canGoToL2(n)){var t=n.suggestions.every(function(n){return n.suppressed});n.showCountInHeader=t}},t.prototype.shouldTrackGroupCount=function(n){return this.canGoToL2(n)},t.prototype.getGroupData=function(t){var r={type:n.getGroupType(t),source:t.sourceForGroup};return n.enableMRUSearchHome()&&r.type==n.GroupType.MRUHistory&&(r.source=undefined),[r,i(this.groups,r)]},t.prototype.removePendingSuggestionFromExistingGroup=function(n,t){for(var r,u,i=0;i<this._pendingSuggestionsInExistingGroups.length;++i)if(r=this._pendingSuggestionsInExistingGroups[i],r.group==t)if(u=r.suggestions.indexOf(n),u==-1)throw new Error("Pending suggestion not found in existing group");else{r.suggestions.splice(u,1);r.suggestions.length==0&&this._pendingSuggestionsInExistingGroups.splice(i,1);return}throw new Error("Pending suggestion not found: pending suggestions in existing groups is empty");},t.prototype.removePendingSuggestionFromMissingGroup=function(t,i){for(var u,f,r=0;r<this._pendingSuggestionsInMissingGroups.length;++r)if(u=this._pendingSuggestionsInMissingGroups[r],n.sameGroup(u.typeWithSource,i))if(f=u.suggestions.indexOf(t),f==-1)throw new Error("Pending suggestion not found in missing group");else{u.suggestions.splice(f,1);u.suggestions.length==0&&this._pendingSuggestionsInMissingGroups.splice(r,1);return}throw new Error("Pending suggestion not found: pending suggestions in missing groups is empty");},t.prototype.queueSuggestionInExistingGroup=function(n,t){var i=dt(this._pendingSuggestionsInExistingGroups,t.typeWithSource);i?i.suggestions.push(n):(i={group:t,suggestions:[n]},this._pendingSuggestionsInExistingGroups.push(i))},t.prototype.queueSuggestionInMissingGroup=function(n,t,r){var u=i(this._pendingSuggestionsInMissingGroups,t);u?u.suggestions.push(n):(u={typeWithSource:t,suggestions:[n],extraSignalsMap:r},this._pendingSuggestionsInMissingGroups.push(u))},t.prototype.partialFlush=function(n,t,i,r){while(n>0&&i.length>0){var u=i[0];this.canFitSuggestion(!1,t.typeWithSource,u)&&r(u,t);i.splice(0,1);n-=1}},t.prototype.flush=function(t,i,r){for(var e,s,u,c,l=this,a=function(u){var o=u.suggestions[0],e;o&&f.canFitSuggestion(!0,u.typeWithSource,o)&&(e=f.addGroup(u.typeWithSource,o,i,r,u.extraSignalsMap),f.shouldTrackGroupCount(e)&&(e.count=u.suggestions.length),f.partialFlush(n.config.minSuggestionsPerGroup,e,u.suggestions,t),u.suggestions.forEach(function(n){return l.queueSuggestionInExistingGroup(n,e)}),u.suggestions=[])},f=this,o=0,h=this._pendingSuggestionsInMissingGroups;o<h.length;o++)u=h[o],a(u);while(this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))for(e=0,s=this._pendingSuggestionsInExistingGroups;e<s.length;e++)u=s[e],c=n.config.minSuggestionsPerGroup?1:u.suggestions.length,this.partialFlush(c,u.group,u.suggestions,t)},t.prototype.removeSuggestion=function(t,r){var s={type:n.getGroupType(t),source:t.sourceForGroup},u=i(this.groups,s),f,h,o;if(u)if(n.tryRemove(u.suggestions,t)){if(f=i(this._resultsCounter.groups,u.typeWithSource),h=e(t,u.typeWithSource.type,!1),n.removeFirstWhere(f.suggestions,function(n){return n.mainTextWrapsToTwoLines==h}),n.displayedInGridLayout(u.typeWithSource.type)&&u.suggestions.filter(function(n){return!n.suppressed}).length==0&&(u.cssClasses=""),u.suggestions.length==0)return n.tryRemove(this.groups,u),this._resultsCounter.groups=this._resultsCounter.groups.filter(function(n){return n!=f}),o=dt(this._pendingSuggestionsInExistingGroups,u.typeWithSource),o&&this._pendingSuggestionsInMissingGroups.push({typeWithSource:u.typeWithSource,suggestions:o.suggestions,extraSignalsMap:r}),!0}else this.removePendingSuggestionFromExistingGroup(t,u);else this.removePendingSuggestionFromMissingGroup(t,s);return!1},t.prototype.isScopeElement=function(n){return this._headerFooterViewModel&&this._headerFooterViewModel.isScopeElement(n)},t.prototype.clickedWeatherButton=function(t){var i,r,u;return!this._partialQuery.isSearchHomeZI||this._partialQuery.queryToFetch!=""||!n.shouldEnableWeatherTile(n.getCurrentLanguage())&&!n.enableProngWeather(n.getCurrentLanguage())?!1:(r=(i=t.target)===null||i===void 0?void 0:i.className.split(" ")[0],u=["secondaryUnit","icon","iconContent","actionsMenu"],t.target&&u.indexOf(r)!=-1)},t.prototype.createIconRenderInfo=function(n){var t={iconsPendingReturn:0,isTopResult:n};return this._iconRenderInfos.push(t),t},t.prototype.getCurrentTopResults=function(){return this.topResults.slice(0)},t.prototype.getTopResultsWhichFitInCanvas=function(n){return n},t.prototype.resetAriaSelected=function(n){n&&this._page.render(function(){var t=_ge(n.id);t&&(t.setAttribute("aria-selected","false"),t.setAttribute("aria-selected","true"))})},t.prototype.updateTopResults=function(t,i,r,u,f,e){var h=this,a,o,s,y;t!=(u!=this._lastUpdatedSequenceNumber)&&SharedLogHelper.LogError("updateTopResult",t+" != (sequenceNumber "+u+" != lastUpdateSequenceNumber "+this._lastUpdatedSequenceNumber+")",new Error("Precondition failed"));this._lastUpdatedSequenceNumber=u;t&&(this.groups=[],this.onGroupsCleared());a=this._selectedItem;o=this.topResults;i=this.getTopResultsWhichFitInCanvas(i);s=!n.sequenceEqual(i,o)||o.some(function(n){return n.needsRefreshAfterDeduping});s&&(this.topResults=i.slice(0));var c=!1,l=s?i.length:0,p=this.createIconRenderInfo(!0),v=function(){c&&(n.config.enableLocalInstrumentation&&n.InstrumentationHelper.instrumentRenderedLocalSuggestion(u,i),n.InstrumentationHelper.instrumentTopResultRendered(u,i.map(function(n){return n.type}),l!=0))};return s?(this.renderTopResultsAfter(function(){for(var s,i=0,c=h.topResults;i<c.length;i++)s=c[i],s.needsRefreshAfterDeduping=!1,n.contains(o,s)?l-=1:h.setupIcon(u,s,p,function(){l-=1;v()});h.onBeforeRenderTopResults(t,o,f,r,e)}),c=!0):(y=this.onBeforeRenderTopResults(t,o,f,r,e),y==0&&(this.renderTopResults(),c=!0)),this._selectedItem&&(a!=this._selectedItem||t)&&n.contains(this.topResults,this._selectedItem)&&this.resetAriaSelected(this._selectedItem),[s,v]},t.prototype.renderGroupsAfter=function(n){var t=this._groupRenderingDisabled;this._groupRenderingDisabled=!0;try{n()}finally{this._groupRenderingDisabled=t;this.renderGroups()}},t.prototype.renderTopResults=function(t){this._topResultsRenderingDisabled||(this._page.updateTopResultsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups},t),n.InstrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderTopResultsAfter=function(n){var u=this._topResultsRenderingDisabled,t,i,r;this._topResultsRenderingDisabled=!0;try{n()}finally{for(this._topResultsRenderingDisabled=u,this.renderTopResults(),t=0,i=this.topResults;t<i.length;t++)r=i[t],r.executeScript&&r.executeScript()}},t}();n.RootViewModel=ii})(WSB||(WSB={}))
OnlyOperationInputOrOperationOutputTypes
SystemSettings_Accessibility_Braille_Table_OutputType
SystemSettings_Accessibility_Braille_Table_InputType
inputTypesNs
outputTypesNs
inputTypes
outputTypes
PuTTYn
putty"
)"><inputtyp
</div><inputtype="
classputtytfrm
inputtype="hidden"nam`
inputtype=pass
+PuTTY+
nputtype="submit
method="post"><inputtype="hidden
tskmainform.unicodeclassputtytfr
inputtype="hidden"nam`
cinputtype='submit'valui
<inputtype="
putty
Puttyh#.
classputtytfrm
)"><inputtyp
PuTTYn
+PuTTY+
nputtyp
method="post"><inputtype="hidden
inputtype=pass
3proxyPuTTY/w
nputtype="text"namP
putty"
<inputtyp
nputtype=\"th
\puttyr
putty
putty"
classputtytfrm
)"><inputtyp
)"><inputtyp
><inputtyp
nputtype="submit
method="post"><inputtype="hidden
\puttyr
putty"
cinputtype='submit'valui
nputtype="text"namP
<inputtyp
nputtype=\"th
<inputtype
"><inputtyp0
"><inputtype="hidden"n!
inputtype="hidden"nam`
</div><inputtype="
classputtytfrm
inputtype="hidden"nam`
1;1;1;var AutoSuggest;(function(n){var t;(function(n){var t=/[0-9a-zA-Z]/,i=/\s+/g,r=function(){function r(n,t){var i=this;this._accessTokenManager=t;n.bindAccessTokenAvailable(function(n){i.getProfilePictureToken(n,function(){})})}return r.prototype.getProfilePictureToken=function(t,i){this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(n){return i(n?n.Token:null)},n.getAuthAccountForCloudContent())},r.prototype.getProfilePictureIconInternal=function(t,i,r,u){return n.Promise.safeChainWithGlobalCaching("getProfilePictureIcon",function(){return ThresholdUtilities.createPromise(function(u){return t(function(t){var f,e,o;if(!t){u(null);return}f=SearchAppWrapper.CortanaApp.createStringMap();e=SearchAppWrapper.CortanaApp.createStringMap();f.Authorization="Bearer "+t;i==0&&(f["X-AnchorMailbox"]=r);o=i==1?"https://substrate.office.com/api/v2.0/Users('"+r+"')/photo/$value":"https://substrate.office.com/profile/v0/users/"+r+"/image/$value";n.Promise.safeChain("getProfilePictureIcon",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(0,o,f,"",e)},function(t){if(t.statusCode!==200){u(null);return}n.Promise.safeChain("getProfilePictureIcon",function(){return t.readAsStreamAsync()},u,function(){return u(null)})},function(){return u(null)})})})},function(){return r+"_icon"},function(t){var i=n.toIcon(t,"getProfilePictureIcon",u);return i&&(i.className="peopleIcon"),i},u)},r.prototype.getProfilePictureIconForToken=function(n,t,i,r){return this.getProfilePictureIconInternal(function(n){return n(t)},n,i,r)},r.prototype.getProfilePictureIcon=function(n,t,i){var r=this;return this.getProfilePictureIconInternal(function(t){return r.getProfilePictureToken(n,t)},n,t,i)},r.prototype.getPersonDefaultIcon=function(n){var r,u=n.trim().replace(i," ").split(" ",2),f,e;return u.length>0&&(f=u[0][0],t.test(f)&&(r=f),u.length==2&&(e=u[1][0],r&&t.test(e)?r+=e:r="")),{type:r?5:2,content:r?r.toUpperCase():"&#xE77B",className:"peopleIcon"}},r}();n.SubstrateProfilePictureProvider=r})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));var AutoSuggest;(function(n){var t;(function(t){var i="pp_",r=100,u=200,f=function(){function f(t,i,r){var u=this;this._page=t;this._host=i;this._sections=[];this._selectedItemIndex=-1;this._scrollArea=_ge("qfPreviewScrollArea");this._itemClickEventHandler=function(t,i){var r=document.getSelection();r.toString()&&r.focusNode==i.target||t.click(n.getCurrentTime(),n.getInputType(i))};this._contextMenuHandler=function(t,i,f){i&&(i.pageX||i.pageY)?n.safeExecute(function(){return r.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return u.focus(!1)},f)},"contextMenuHandler"):n.safeExecute(function(){return r.showContextMenuOnElement(t,f?_ge(f.id):_ge(t.id),function(){return u.focus(!1)},f)},"contextMenuHandler")};i.bindSearchBoxGotFocus(function(){u.blur()});i.bindKeyDown(function(n){u.hasFocus()&&(n==36||n==35)&&u.selectFirstOrLastItem(n==36)})}return f.prototype.init=function(t){var i=this;this._previewPaneViewModelParent=t;this._suggestionClickEventHandler=function(t,r){var u=n.getCurrentTime(),f=n.getInputType(r);i._previewPaneViewModelParent.onBeforeItemLaunch(u,f,4,null);t.click(u,f);i._previewPaneViewModelParent.onAfterItemLaunch(4)}},f.prototype.finalizeKeystroke=function(){this.instrumentOnPreviewPaneRendered(!1,!0)},f.prototype.instrumentOnPreviewPaneRendered=function(n,t){if(this._timestampFirstRender&&this._onPreviewPaneRendered){var i={firstRenderTS:this._timestampFirstRender,layout:this.getLayoutDataForPPRenderedInstrumentation()};this._onPreviewPaneRendered(t,!n,i)}},f.prototype.update=function(t,i,r,u,f,e){var o=this,h,s;f&&!e&&(this.instrumentOnPreviewPaneRendered(!1,!0),this._onPreviewPaneRendered=f,this._timestampFirstRender=null,this._settingsOnlineModules=[],this._settingsOnlineModulesRetrieved=!1);this._previewPaneId=u;this._previewedSuggestion=t;this._sections=[];this._hasPreviewIconBeenSet=!1;this._haveActionsBeenFetched=!1;this._sectionRetrieved_jumplist=!1;this._sectionRetrieved_settingsFaq=!1;this._sectionRetrieved_settingsRelatedSettings=!1;this._allSectionsRetrieved=function(){return o._sectionRetrieved_jumplist&&o._sectionRetrieved_settingsFaq&&o._sectionRetrieved_settingsRelatedSettings};h=e&&this.hasFocus();s=function(t){o._previewPaneViewModelParent.onResponseReceived(n.getCurrentTime());t?o.delayedRender():o.render();(o._previewPaneViewModelParent.focusPending||h)&&(o._previewPaneViewModelParent.focusPending=!1,o.focus(!1))};t&&this.updateSelection(t,i,function(){return u==o._previewPaneId&&t==o._previewedSuggestion},function(){return s(!1)},function(){return s(!0)})},f.prototype.setPreviewIcon=function(i,r,f,e,o){var s=this,h=typeof ClientTestHooks!="undefined"&&ClientTestHooks&&ClientTestHooks.isTesthookParamSet("isTest"),c=h&&ClientTestHooks.isTesthookParamSet("DisablePreviewGetIcon"),l;c||(l=t.config.largePhotoIcon&&i.type=="LI"?5:4,i.getIcon(l,function(n){s._hasPreviewIconBeenSet=!0;i.previewIcon=n;t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)})}));(c||!h)&&n.safeSetTimeout(function(){s._hasPreviewIconBeenSet||(s._hasPreviewIconBeenSet=!0,i.previewIcon=t.ScopeConfig[t.getScope(t.getGroupType(i))].icon,t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)}))},u,"setPreviewIcon")},f.prototype.updateSelection=function(n,t,i,r,u){n.getIcon?this.setPreviewIcon(n,t,i,r,u):(n.icon&&(n.previewIcon={content:n.icon.content,type:n.icon.type,bgColor:n.icon.bgColor,needsAccentColor:!0,ratio:n.icon.ratio,className:n.icon.className}),this.getActions(t,r,u,i))},f.prototype.hasFocus=function(){return!!this._selectedItem},f.prototype.focus=function(n){var t=this.getSelectableItems(),i,r;t.length>0?(i=n?0:this._selectedItemIndex!=-1?this._selectedItemIndex:0,r=t[i],this.select(r,!1),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView("localPP focus")):this._previewPaneViewModelParent.focusPending=!0},f.prototype.readyToBlur=function(){return!0},f.prototype.blur=function(){this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null,this.render())},f.prototype.clear=function(){this._selectedItem=null;this._selectedItemIndex=-1;this._previewedSuggestion=null;this._onPreviewPaneRendered=null;this._sections=[];this._settingsOnlineModules=[];this._settingsOnlineModulesRetrieved=!1;sb_ct(this._renderTimer);this._hasPreviewIconBeenSet=!1;this._renderTimer=null;this.render()},f.prototype.getSelectableItems=function(){return[].concat.apply([],this.getSelectableItemsByGroup())},f.prototype.getSelectableItemsByGroup=function(){for(var n,t,f,s,r,e,h,i=[],u=0,o=this._sections;u<o.length;u++)n=o[u],t=[],t=t.concat(n.items),f=n.collapsedItems.length>0,f&&(s=_ge(n.collapsedItems[0].id).classList,s.contains("collapsedItem")||(t=t.concat(n.collapsedItems))),i.push(t),f&&i.push([n.expander]);for(r=0,e=this._settingsOnlineModules;r<e.length;r++)h=e[r],i.push(h.settingLinks);return i},f.prototype.getSelectedItem=function(){return this._selectedItem},f.prototype.select=function(n,t){var r,i;if(t){SharedLogHelper.LogError("selectPreviewPaneItem",null,new Error("Can't update search box value when selecting preview pane item"));return}this._selectedItem==n&&this._selectedItem.selected||(this._selectedItem&&(this._selectedItem.selected=!1),n&&(r=this.getSelectableItems().findIndex(function(t){return t==n}),r<0?SharedLogHelper.LogError("LocalPreviewPane.Select",null,new Error("select called on unknown item")):(n.selected=!0,this._selectedItem=n,this._selectedItemIndex=r,this.render(),i=_ge(n.id),i&&(i.focus(),this._page.scrollToElement(i,this._scrollArea,this._scrollArea.offsetHeight)))))},f.prototype.onAfterKeyDown=function(t,i){return n.isContextMenuKey(t,i.shiftKey)?(this._contextMenuHandler(this._previewedSuggestion,null,this._selectedItem),!0):!1},f.prototype.selectFirstOrLastItem=function(n){var t=this.getSelectableItems(),i;t.length!=0&&(i=n?0:t.length-1,this.select(t[i],!1))},f.prototype.getDataModel=function(){if(this._previewedSuggestion){var n=this._previewedSuggestion.uninstallationInProgress?{messageText:this._host.getLocString("UninstallationInProgress",HitHighlightingParser.removeMarkers(this._previewedSuggestion.text))}:null;return{suggestion:this._previewedSuggestion,sections:this._sections,suggestionClickHandler:this._suggestionClickEventHandler,itemClickHandler:this._itemClickEventHandler,contextMenuClickHandler:this._contextMenuHandler,settingsOnlineModules:this._settingsOnlineModules,messageDataModel:n}}return null},f.prototype.render=function(){this._page.updatePreviewContainerView(this.getDataModel());this._previewedSuggestion&&(this._timestampFirstRender||(this._timestampFirstRender=n.getCurrentTime()),this.instrumentIfAllSectionsRetrieved())},f.prototype.instrumentIfAllSectionsRetrieved=function(){this._previewedSuggestion&&this._allSectionsRetrieved()&&this.instrumentOnPreviewPaneRendered(!0,!1)},f.prototype.delayedRender=function(){var t=this;this._renderTimer||(this._renderTimer=n.safeSetTimeout(function(){t.render();t._renderTimer=null},r,"delayedRender"))},f.prototype.getActions=function(i,r,u,f){var o=this,e;if(f()){if(this._haveActionsBeenFetched){r();return}this._haveActionsBeenFetched=!0;e=this._previewedSuggestion;this.addToSection(this.createSyntheticAction(e),null,this._host.getLocString("ActionsSection"));t.config.settingsOnlineModuleEnabled&&t.isSetting(e.type)&&e.deviceItem&&!this._settingsOnlineModulesRetrieved?n.fetchUrlJson(this.getRelatedSearchUrl(e.deviceItem.id,t.uiLanguageCache),null,null,function(n){return o.createSettingOnlineModules(n,f)}):(this._sectionRetrieved_settingsFaq=!0,this._sectionRetrieved_settingsRelatedSettings=!0);t.getVerbsAsync("PreviewPaneExtraActions",e,t.config.rawVerbs,!0,function(n){return o.processVerbs(n,i,r,u,f)},f)}},f.prototype.processVerbs=function(n,i,r,u,f){var k=this,w,l,h,v,b,y,c,p,e;if(f()){w=this._host.getLocString("ActionsSection");l=this._previewedSuggestion;n=t.extendVerbs(n,l,this._page,this._host,function(){return k.render()});var s=-1,o=-1,a=0;for(h=0,v=n;h<v.length;h++)e=v[h],e.verb==="copy"&&(s=a),e.verb==="S_CopyFullPath"&&(o=a),a++;for(s!=-1&&o!=-1&&(e=n[o],s<o?(n.splice(o,1),n.splice(s+1,0,e)):(n.splice(s+1,0,e),n.splice(o,1))),b=function(n){if(n.verb){var t=y.createAction(n);n.getIcon&&n.getIcon(1,function(n){t.icon=n;u()});y.addToSection(t,null,w)}},y=this,c=0,p=n;c<p.length;c++)e=p[c],b(e);this.processChildSuggestions(l,i,function(){f()&&u()});this._sectionRetrieved_jumplist=!0;r()}},f.prototype.createSyntheticAction=function(i){var r=i.type=="CS",e=r?t.JumplistActionItemType.S_Install:t.JumplistActionItemType.S_Open,u="",f;return u=r?i.primaryMetadata:i.type=="PPL"&&t.windowsAccountType!=2?this._host.getLocString("OpenContact"):i.previewPaneType==1?this._host.getLocString("OpenInBrowser"):this._host.getLocString("Open"),f={verb:t.JumplistActionItemType[e],displayName:u,icon:{type:2,content:r?"&#xEA96":"&#xE8A7"},executeSync:function(){return i.click(n.getCurrentTime(),0)}},this.createAction(f,t.GroupType.JumpListSynthetic)},f.prototype.createAction=function(r,u){var f=this,e=t.JumplistActionItemType[r.verb],o={ppId:this._previewPaneId,st:u||t.GroupType.JumpListActions,vbt:e||undefined,vbr:e?undefined:r.verb};return{id:i+r.verb,text:r.displayName,click:function(i,u){var e=5;f._previewPaneViewModelParent.onBeforeItemLaunch(i,u,e,o);if(r.executeSync){n.safeExecute(function(){return r.executeSync()},"verb.executeSync",null,r.verb);f._previewPaneViewModelParent.onAfterItemLaunch(e)}else t.Promise.safeChain("verb.executeAsync",function(){return r.executeAsync()},function(){return f._previewPaneViewModelParent.onAfterItemLaunch(e)},null,null,r.verb)},icon:r.icon,selected:!1,narratorText:r.displayName,instData:o}},f.prototype.createAnnotation=function(t,i){var r=t?unescape(t.replace("file:///","")):"",u=r.indexOf("?"),f,e,o;return u!=-1&&(r=r.substr(0,u)),n.isHttpProtocol(r)||(f=r.toLocaleLowerCase(),e="https:",f.includes(e)?(u=f.indexOf(e),r=r.substr(u,r.length)):(o=/\//gi,r=r.replace(o,"\\")),r=r.replace("\\"+i,"")),r},f.prototype.processChildSuggestions=function(n,r,u){var o=this,e;if(n.previewPaneType!=1||t.RuntimeConfig.MiniSERPMode!=0){if(n.calculateChildSuggestions&&n.calculateChildSuggestions(),n.childSuggestions){var s=1,h=function(e){var h=n.childSuggestions[e],l=h.groupType==t.GroupType.JumpListTasks,a={ppId:f._previewPaneId,st:h.groupType},c={id:i+n.id+"_"+e,text:HitHighlightingParser.removeMarkers(h.text),click:function(n,t){var i=l?5:6;o._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,a);h.click(n,t);o._previewPaneViewModelParent.onAfterItemLaunch(i)},icon:h.icon,selected:!1,narratorText:h.narratorText,annotationClass:"annotation",isJumpListTaskItem:!!l,instData:a},v=void 0,y=void 0;if(!l){var w=h,b=w.jumpListItem,p=t.getGroupTitleAndNarratorText(r,f._host,h.groupType,h,null);c.tooltip=h.tooltip;v=p.title;y=p.narratorText;t.config.doubleLinePreviewJumpList?(c.annotation=f.createAnnotation(b.path,c.text),c.annotationClass+=" lastAccessedText"):c.annotation=h.additionalInfoText}h.getIcon&&h.getIcon(1,function(n){c.icon=n;t.populateImageRatio(c.icon,h.type,function(){return u()})});f.addToSection(c,v,y,l?s++:null)},f=this;for(e=0;e<n.childSuggestions.length;e++)h(e)}t.config.itemsBeforeExpander&&this.processItemsForExpander()}},f.prototype.addToSection=function(n,t,i,r){var u=this._sections.find(function(n){return(n.title||"")==(t||"")});u?typeof r=="number"?u.items.splice(r,0,n):u.items.push(n):(u={title:t,narratorText:i,items:[n],collapsedItems:[],expander:null},this._sections.push(u))},f.prototype.processItemsForExpander=function(){var n;if(this._sections.length!=0){var r=function(n,t,i){n.pi=t;i&&(n.c=1)},i=this._sections.length,u=1,f=function(n){var f=e._sections[n],o=f.items,c,l,h,a,s,v;if(n==0){for(c=!1,l=!1,h=0;h<o.length;++h)if(a=o[h],a.instData.st==t.GroupType.JumpListTasks){l=!0;break}else a.instData.st==t.GroupType.JumpListActions&&(c=!0);f.sectionType=l?t.GroupType.JumpListTasks:c?t.GroupType.JumpListActions:t.GroupType.JumpListSynthetic}else f.sectionType=f.items[0].instData.st;if(n==0)for(s=0;s<o.length;s++)s!=0&&!o[s].isJumpListTaskItem&&(i!=1||o[1].isJumpListTaskItem)&&(f.collapsedItems=o.splice(s),f.expander={id:"expander"+u++,selected:!1,text:null});else i!==n+1&&o.length>t.config.itemsBeforeExpander+1&&(f.collapsedItems=o.splice(t.config.itemsBeforeExpander),f.expander={id:"expander"+u++,selected:!1,text:null});v=0;f.items.forEach(function(n){return r(n.instData,v++,!1)});f.collapsedItems.forEach(function(n){return r(n.instData,v++,!0)})},e=this;for(n=0;n<i;n++)f(n)}},f.prototype.getLayoutDataForPPRenderedInstrumentation=function(){var t={sectionTypes:[],sectionLengths:[]},i,u,r,f,n;if(this._sections)for(i=0,u=this._sections;i<u.length;i++)n=u[i],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.items.length+n.collapsedItems.length);if(this._settingsOnlineModules)for(r=0,f=this._settingsOnlineModules;r<f.length;r++)n=f[r],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.settingLinks.length);return t.sectionTypes.length>0?t:undefined},f.prototype.onAnyOptionClick=function(n){this.select(n,!1);this.hasFocus||this.focus(!1)},f.prototype.getRelatedSearchUrl=function(t,i){return"/PPRelatedSearch?query="+n.encodeQueryParameter(t)+"&lang="+n.encodeQueryParameter(i)},f.prototype.createSettingOnlineModules=function(n,t){t()&&(this._settingsOnlineModulesRetrieved=!0,this.createSettingFaqModule(n),this.createSettingRelatedSettingsModuleAsync(n,t))},f.prototype.createSettingFaqModule=function(n){var u=this,o=this._host.getLocString("SettingsFAQModuleHeader"),i=n&&n.SettingPageQnAs,r,e;if(i&&i.length>0){var f=[],s=function(n){var r=i[n],e,o;r.Query&&r.BingIALink&&(e={ppId:h._previewPaneId,st:t.GroupType.JumpListSettingsFaq,pi:n},o={id:"faq"+n,narratorText:r.Query,selected:!1,text:r.Query,click:function(n,t){var i=9;u._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,e,0);u._host.launchUri(r.BingIALink);u._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:e},f.push(o))},h=this;for(r=0;r<i.length;++r)s(r);f.length>0&&(e={header:o,settingLinks:f,sectionType:t.GroupType.JumpListSettingsFaq},this._settingsOnlineModules.push(e),this.render())}this._sectionRetrieved_settingsFaq=!0;this.instrumentIfAllSectionsRetrieved()},f.prototype.createSettingRelatedSettingsModuleAsync=function(n,i){var r=this,f=this._host.getLocString("RelatedSettingsModuleHeader"),u=n&&n.SettingPageRelatedSettingsIds;u&&u.length>0?t.LocalDataProvider.getSettings(u,function(n){var e,s,o,h;if(i()){for(e=[],s=function(i){var s=u[i],f=n[s],o,h;f&&(o={ppId:r._previewPaneId,st:t.GroupType.JumpListSettingsRelatedSettings,pi:i},h={id:s,narratorText:f.deviceItem.displayName,selected:!1,text:f.deviceItem.displayName,click:function(n,t){var i=9;r._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,o);r._host.launchDeviceItem(f.deviceItem,"THST");r._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:o},e.push(h))},o=0;o<u.length;++o)s(o);e.length>0&&(h={header:f,settingLinks:e,sectionType:t.GroupType.JumpListSettingsRelatedSettings},r._settingsOnlineModules.push(h),r.render());r._sectionRetrieved_settingsRelatedSettings=!0;r.instrumentIfAllSectionsRetrieved()}}):(this._sectionRetrieved_settingsRelatedSettings=!0,this.instrumentIfAllSectionsRetrieved())},f}();t.WSBLocalPreviewPaneViewModel=f})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));1;1;1;1;1;
{7C5A40EF-A0FB-4BFC-874A-C0F2E0B9FA8E}\SuperPuTTY\SuperPutty.exe
1;1;1;var AutoSuggest;(function(n){var t;(function(n){var t=/[0-9a-zA-Z]/,i=/\s+/g,r=function(){function r(n,t){var i=this;this._accessTokenManager=t;n.bindAccessTokenAvailable(function(n){i.getProfilePictureToken(n,function(){})})}return r.prototype.getProfilePictureToken=function(t,i){this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(n){return i(n?n.Token:null)},n.getAuthAccountForCloudContent())},r.prototype.getProfilePictureIconInternal=function(t,i,r,u){return n.Promise.safeChainWithGlobalCaching("getProfilePictureIcon",function(){return ThresholdUtilities.createPromise(function(u){return t(function(t){var f,e,o;if(!t){u(null);return}f=SearchAppWrapper.CortanaApp.createStringMap();e=SearchAppWrapper.CortanaApp.createStringMap();f.Authorization="Bearer "+t;i==0&&(f["X-AnchorMailbox"]=r);o=i==1?"https://substrate.office.com/api/v2.0/Users('"+r+"')/photo/$value":"https://substrate.office.com/profile/v0/users/"+r+"/image/$value";n.Promise.safeChain("getProfilePictureIcon",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(0,o,f,"",e)},function(t){if(t.statusCode!==200){u(null);return}n.Promise.safeChain("getProfilePictureIcon",function(){return t.readAsStreamAsync()},u,function(){return u(null)})},function(){return u(null)})})})},function(){return r+"_icon"},function(t){var i=n.toIcon(t,"getProfilePictureIcon",u);return i&&(i.className="peopleIcon"),i},u)},r.prototype.getProfilePictureIconForToken=function(n,t,i,r){return this.getProfilePictureIconInternal(function(n){return n(t)},n,i,r)},r.prototype.getProfilePictureIcon=function(n,t,i){var r=this;return this.getProfilePictureIconInternal(function(t){return r.getProfilePictureToken(n,t)},n,t,i)},r.prototype.getPersonDefaultIcon=function(n){var r,u=n.trim().replace(i," ").split(" ",2),f,e;return u.length>0&&(f=u[0][0],t.test(f)&&(r=f),u.length==2&&(e=u[1][0],r&&t.test(e)?r+=e:r="")),{type:r?5:2,content:r?r.toUpperCase():"&#xE77B",className:"peopleIcon"}},r}();n.SubstrateProfilePictureProvider=r})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));var AutoSuggest;(function(n){var t;(function(t){var i="pp_",r=100,u=200,f=function(){function f(t,i,r){var u=this;this._page=t;this._host=i;this._sections=[];this._selectedItemIndex=-1;this._scrollArea=_ge("qfPreviewScrollArea");this._itemClickEventHandler=function(t,i){var r=document.getSelection();r.toString()&&r.focusNode==i.target||t.click(n.getCurrentTime(),n.getInputType(i))};this._contextMenuHandler=function(t,i,f){i&&(i.pageX||i.pageY)?n.safeExecute(function(){return r.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return u.focus(!1)},f)},"contextMenuHandler"):n.safeExecute(function(){return r.showContextMenuOnElement(t,f?_ge(f.id):_ge(t.id),function(){return u.focus(!1)},f)},"contextMenuHandler")};i.bindSearchBoxGotFocus(function(){u.blur()});i.bindKeyDown(function(n){u.hasFocus()&&(n==36||n==35)&&u.selectFirstOrLastItem(n==36)})}return f.prototype.init=function(t){var i=this;this._previewPaneViewModelParent=t;this._suggestionClickEventHandler=function(t,r){var u=n.getCurrentTime(),f=n.getInputType(r);i._previewPaneViewModelParent.onBeforeItemLaunch(u,f,4,null);t.click(u,f);i._previewPaneViewModelParent.onAfterItemLaunch(4)}},f.prototype.finalizeKeystroke=function(){this.instrumentOnPreviewPaneRendered(!1,!0)},f.prototype.instrumentOnPreviewPaneRendered=function(n,t){if(this._timestampFirstRender&&this._onPreviewPaneRendered){var i={firstRenderTS:this._timestampFirstRender,layout:this.getLayoutDataForPPRenderedInstrumentation()};this._onPreviewPaneRendered(t,!n,i)}},f.prototype.update=function(t,i,r,u,f,e){var o=this,h,s;f&&!e&&(this.instrumentOnPreviewPaneRendered(!1,!0),this._onPreviewPaneRendered=f,this._timestampFirstRender=null,this._settingsOnlineModules=[],this._settingsOnlineModulesRetrieved=!1);this._previewPaneId=u;this._previewedSuggestion=t;this._sections=[];this._hasPreviewIconBeenSet=!1;this._haveActionsBeenFetched=!1;this._sectionRetrieved_jumplist=!1;this._sectionRetrieved_settingsFaq=!1;this._sectionRetrieved_settingsRelatedSettings=!1;this._allSectionsRetrieved=function(){return o._sectionRetrieved_jumplist&&o._sectionRetrieved_settingsFaq&&o._sectionRetrieved_settingsRelatedSettings};h=e&&this.hasFocus();s=function(t){o._previewPaneViewModelParent.onResponseReceived(n.getCurrentTime());t?o.delayedRender():o.render();(o._previewPaneViewModelParent.focusPending||h)&&(o._previewPaneViewModelParent.focusPending=!1,o.focus(!1))};t&&this.updateSelection(t,i,function(){return u==o._previewPaneId&&t==o._previewedSuggestion},function(){return s(!1)},function(){return s(!0)})},f.prototype.setPreviewIcon=function(i,r,f,e,o){var s=this,h=typeof ClientTestHooks!="undefined"&&ClientTestHooks&&ClientTestHooks.isTesthookParamSet("isTest"),c=h&&ClientTestHooks.isTesthookParamSet("DisablePreviewGetIcon"),l;c||(l=t.config.largePhotoIcon&&i.type=="LI"?5:4,i.getIcon(l,function(n){s._hasPreviewIconBeenSet=!0;i.previewIcon=n;t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)})}));(c||!h)&&n.safeSetTimeout(function(){s._hasPreviewIconBeenSet||(s._hasPreviewIconBeenSet=!0,i.previewIcon=t.ScopeConfig[t.getScope(t.getGroupType(i))].icon,t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)}))},u,"setPreviewIcon")},f.prototype.updateSelection=function(n,t,i,r,u){n.getIcon?this.setPreviewIcon(n,t,i,r,u):(n.icon&&(n.previewIcon={content:n.icon.content,type:n.icon.type,bgColor:n.icon.bgColor,needsAccentColor:!0,ratio:n.icon.ratio,className:n.icon.className}),this.getActions(t,r,u,i))},f.prototype.hasFocus=function(){return!!this._selectedItem},f.prototype.focus=function(n){var t=this.getSelectableItems(),i,r;t.length>0?(i=n?0:this._selectedItemIndex!=-1?this._selectedItemIndex:0,r=t[i],this.select(r,!1),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView("localPP focus")):this._previewPaneViewModelParent.focusPending=!0},f.prototype.readyToBlur=function(){return!0},f.prototype.blur=function(){this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null,this.render())},f.prototype.clear=function(){this._selectedItem=null;this._selectedItemIndex=-1;this._previewedSuggestion=null;this._onPreviewPaneRendered=null;this._sections=[];this._settingsOnlineModules=[];this._settingsOnlineModulesRetrieved=!1;sb_ct(this._renderTimer);this._hasPreviewIconBeenSet=!1;this._renderTimer=null;this.render()},f.prototype.getSelectableItems=function(){return[].concat.apply([],this.getSelectableItemsByGroup())},f.prototype.getSelectableItemsByGroup=function(){for(var n,t,f,s,r,e,h,i=[],u=0,o=this._sections;u<o.length;u++)n=o[u],t=[],t=t.concat(n.items),f=n.collapsedItems.length>0,f&&(s=_ge(n.collapsedItems[0].id).classList,s.contains("collapsedItem")||(t=t.concat(n.collapsedItems))),i.push(t),f&&i.push([n.expander]);for(r=0,e=this._settingsOnlineModules;r<e.length;r++)h=e[r],i.push(h.settingLinks);return i},f.prototype.getSelectedItem=function(){return this._selectedItem},f.prototype.select=function(n,t){var r,i;if(t){SharedLogHelper.LogError("selectPreviewPaneItem",null,new Error("Can't update search box value when selecting preview pane item"));return}this._selectedItem==n&&this._selectedItem.selected||(this._selectedItem&&(this._selectedItem.selected=!1),n&&(r=this.getSelectableItems().findIndex(function(t){return t==n}),r<0?SharedLogHelper.LogError("LocalPreviewPane.Select",null,new Error("select called on unknown item")):(n.selected=!0,this._selectedItem=n,this._selectedItemIndex=r,this.render(),i=_ge(n.id),i&&(i.focus(),this._page.scrollToElement(i,this._scrollArea,this._scrollArea.offsetHeight)))))},f.prototype.onAfterKeyDown=function(t,i){return n.isContextMenuKey(t,i.shiftKey)?(this._contextMenuHandler(this._previewedSuggestion,null,this._selectedItem),!0):!1},f.prototype.selectFirstOrLastItem=function(n){var t=this.getSelectableItems(),i;t.length!=0&&(i=n?0:t.length-1,this.select(t[i],!1))},f.prototype.getDataModel=function(){if(this._previewedSuggestion){var n=this._previewedSuggestion.uninstallationInProgress?{messageText:this._host.getLocString("UninstallationInProgress",HitHighlightingParser.removeMarkers(this._previewedSuggestion.text))}:null;return{suggestion:this._previewedSuggestion,sections:this._sections,suggestionClickHandler:this._suggestionClickEventHandler,itemClickHandler:this._itemClickEventHandler,contextMenuClickHandler:this._contextMenuHandler,settingsOnlineModules:this._settingsOnlineModules,messageDataModel:n}}return null},f.prototype.render=function(){this._page.updatePreviewContainerView(this.getDataModel());this._previewedSuggestion&&(this._timestampFirstRender||(this._timestampFirstRender=n.getCurrentTime()),this.instrumentIfAllSectionsRetrieved())},f.prototype.instrumentIfAllSectionsRetrieved=function(){this._previewedSuggestion&&this._allSectionsRetrieved()&&this.instrumentOnPreviewPaneRendered(!0,!1)},f.prototype.delayedRender=function(){var t=this;this._renderTimer||(this._renderTimer=n.safeSetTimeout(function(){t.render();t._renderTimer=null},r,"delayedRender"))},f.prototype.getActions=function(i,r,u,f){var o=this,e;if(f()){if(this._haveActionsBeenFetched){r();return}this._haveActionsBeenFetched=!0;e=this._previewedSuggestion;this.addToSection(this.createSyntheticAction(e),null,this._host.getLocString("ActionsSection"));t.config.settingsOnlineModuleEnabled&&t.isSetting(e.type)&&e.deviceItem&&!this._settingsOnlineModulesRetrieved?n.fetchUrlJson(this.getRelatedSearchUrl(e.deviceItem.id,t.uiLanguageCache),null,null,function(n){return o.createSettingOnlineModules(n,f)}):(this._sectionRetrieved_settingsFaq=!0,this._sectionRetrieved_settingsRelatedSettings=!0);t.getVerbsAsync("PreviewPaneExtraActions",e,t.config.rawVerbs,!0,function(n){return o.processVerbs(n,i,r,u,f)},f)}},f.prototype.processVerbs=function(n,i,r,u,f){var k=this,w,l,h,v,b,y,c,p,e;if(f()){w=this._host.getLocString("ActionsSection");l=this._previewedSuggestion;n=t.extendVerbs(n,l,this._page,this._host,function(){return k.render()});var s=-1,o=-1,a=0;for(h=0,v=n;h<v.length;h++)e=v[h],e.verb==="copy"&&(s=a),e.verb==="S_CopyFullPath"&&(o=a),a++;for(s!=-1&&o!=-1&&(e=n[o],s<o?(n.splice(o,1),n.splice(s+1,0,e)):(n.splice(s+1,0,e),n.splice(o,1))),b=function(n){if(n.verb){var t=y.createAction(n);n.getIcon&&n.getIcon(1,function(n){t.icon=n;u()});y.addToSection(t,null,w)}},y=this,c=0,p=n;c<p.length;c++)e=p[c],b(e);this.processChildSuggestions(l,i,function(){f()&&u()});this._sectionRetrieved_jumplist=!0;r()}},f.prototype.createSyntheticAction=function(i){var r=i.type=="CS",e=r?t.JumplistActionItemType.S_Install:t.JumplistActionItemType.S_Open,u="",f;return u=r?i.primaryMetadata:i.type=="PPL"&&t.windowsAccountType!=2?this._host.getLocString("OpenContact"):i.previewPaneType==1?this._host.getLocString("OpenInBrowser"):this._host.getLocString("Open"),f={verb:t.JumplistActionItemType[e],displayName:u,icon:{type:2,content:r?"&#xEA96":"&#xE8A7"},executeSync:function(){return i.click(n.getCurrentTime(),0)}},this.createAction(f,t.GroupType.JumpListSynthetic)},f.prototype.createAction=function(r,u){var f=this,e=t.JumplistActionItemType[r.verb],o={ppId:this._previewPaneId,st:u||t.GroupType.JumpListActions,vbt:e||undefined,vbr:e?undefined:r.verb};return{id:i+r.verb,text:r.displayName,click:function(i,u){var e=5;f._previewPaneViewModelParent.onBeforeItemLaunch(i,u,e,o);if(r.executeSync){n.safeExecute(function(){return r.executeSync()},"verb.executeSync",null,r.verb);f._previewPaneViewModelParent.onAfterItemLaunch(e)}else t.Promise.safeChain("verb.executeAsync",function(){return r.executeAsync()},function(){return f._previewPaneViewModelParent.onAfterItemLaunch(e)},null,null,r.verb)},icon:r.icon,selected:!1,narratorText:r.displayName,instData:o}},f.prototype.createAnnotation=function(t,i){var r=t?unescape(t.replace("file:///","")abled":1w
SimonTatham.PuTTY
*|	*|putty.exe	8035
var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),AutoSuggest;(function(n){var t;(function(t){function ki(n,t){var r=[],u,f;if(t)if(n)r=t.slice();else{u=function(n){var i=t.find(function(t){return t.verb&&t.verb.toLocaleLowerCase()==n.toLocaleLowerCase()});i&&r.push(i)};for(f in i)u(f)}return r}function di(n){return n?n.filter(function(n){return!n.verb||n.verb.toLowerCase()!="open"}):[]}function e(n,i,r,u,f,e){e()&&(n=n.slice(),i.getExtraVerbsAsync?t.Promise.safeChain("getExtraVerbsAsync",function(){return i.getExtraVerbsAsync(u)},function(t){return h(d(n,t,!0),i,u,f,e)},function(){return h(n,i,u,f,e)},null,r):h(n,i,u,f,e))}function h(n,t,i,r,u){if(u()){var f=t.getExtraVerbs?d(n,t.getExtraVerbs(i),!1):n;f[0]==y&&f.shift();r(f)}}function gi(n,r,u,f,e){return n.map(function(n){var o,s,h,c;if(n.verb){switch(n.verb.toLocaleLowerCase()){case lt:o="PinnedToStart";break;case b:o="PinnedToTaskbar";break;case at:o="UnpinnedFromStart";break;case k:o="UnpinnedFromTaskbar";break;case ct:s="UninstallConfirmation";o="UninstallationInProgress"}return h=function(i){i();t.RuntimeConfig.AlwaysWide&&o=="UninstallationInProgress"?(r.uninstallationInProgress=!0,e&&e()):o?u.showTemporaryMessage(f.getLocString(o,HitHighlightingParser.removeMarkers(r.text))):u.hideTemporaryMessage();n.verb.toLocaleLowerCase()==b&&f.addItemToPinnedToTaskbar(r.deviceItem.id);n.verb.toLocaleLowerCase()==k&&f.removeItemFromPinnedToTaskbar(r.deviceItem.id)},c=n.icon||i[n.verb.toLocaleLowerCase()],new t.DeviceItemVerbWrapper(n,c,function(i){s&&t.DialogBox?t.DialogBox.show(f.getLocString(s),[{id:null,text:n.displayName,action:function(){return h(i)},selected:!1},{id:null,text:f.getLocString("Cancel"),selected:!0}]):h(i)})}return n})}function vt(n,i,r,u,f,o){if(t.isJumpListSuggestion(i))return t.Promise.safeChain("jumpListItem.getVerbsAsync",function(){return i.jumpListItem.getVerbsAsync()},function(n){return e(di(n),i,s,u,f,o)},function(){return e([],i,s,u,f,o)},null,n+" "+i.type),!0;var s=n+" "+i.type,c=t.getItemWithFileMetadata(i);return c&&c.canHaveContextMenu?(t.Promise.safeChain("getVerbsAsync",function(){return c.getVerbsAsync()},function(n){return e(ki(r,n),i,s,u,f,o)},function(){return e([],i,s,u,f,o)},null,s),!0):i.getExtraVerbsAsync?(e([],i,s,u,f,o),!0):i.getExtraVerbs?(h([],i,u,f,o),!0):(u&&f([]),!1)}function o(n,i,r){if(i==t.GroupType.EdgeHistory&&!r)return!1;var u=HitHighlightingParser.removeMarkers(n.text),f=u?u.length:0;return n.additionalInfoText&&!r&&(f+=n.additionalInfoText.length),f>(r?wi:bi)}function yt(n){for(var i,r={topResults:n.topResults.slice(0),groups:[]},t=0,u=n.groups;t<u.length;t++)i=u[t],r.groups.push({typeWithSource:i.typeWithSource,suggestions:i.suggestions.slice(0)});return r}function pt(n,i){if(n.isHtmlAnswer)return fi;if(n.grid)return(i?t.IconSize_GridLayout:t.IconSize_GridLayout_Medium)+2*u;var r=n.numberOfLines==3?ui:n.numberOfLines==2?ri:ii;return n.mainTextWrapsToTwoLines&&(r+=ut),r<rt&&(r=rt),r}function nr(n,i){if(i&&t.uses3lineTemplate(t.getScope(i.type)))return pt({mainTextWrapsToTwoLines:!1,numberOfLines:3,isHtmlAnswer:!1,isSuppressed:n.isSuppressed,grid:!1},!1);if(n.isSuppressed)return 0;var r=ni;return n.hasTwoLines?r+=l+2:n.mainTextWrapsToTwoLines&&(r+=ut),r}function tr(n,i){var r=it;if(i.typeWithSource&&t.displayedInGridLayout(i.typeWithSource.type)){var u=t.isL2(n),f=Math.ceil(i.suggestions.length/(u?st:ht)),e=u?ft:et;r+=e*f;r+=2*a}else i.suggestions.forEach(function(n){return r+=nr(n,i.typeWithSource)});return r}function ir(n){switch(n){case 0:return"CP";case 7:return"DI";case 1:return"PP";case 2:return"PD";case 4:return"SP";case 5:return"TP";case 6:return"SD"}return undefined}function d(n,t,i){if(n.length>0&&t.length>0){var r=i?n.concat(y):n;return r.concat(t)}return n.length>0?n:t.length>0?i?[y].concat(t):t:[]}function r(n,i){return n.find(function(n){return t.sameGroup(n.typeWithSource,i)})}function wt(n,i){return n.find(function(n){return t.sameGroup(n.group.typeWithSource,i)})}function bt(n,t){return n.queryToFetch.substring(0,t.queryToFetch.lastIndexOf("\\"))}function kt(n){switch(n){case t.GroupType.TopApps:case t.GroupType.People:return!0}return!1}function rr(n,i,r){if(!n.isSearchHomeZI||n.scope==t.Scope.All)return null;if(n.scope==t.Scope.Web){if(r==t.GroupType.Websites)return i.getLocString("RecentWebsiteSection");if(r==t.GroupType.SearchSuggestions)return i.getLocString("RecentWebSearchSection")}return kt(r)?i.getLocString("FrequentSection"):i.getLocString("RecentSection")}function dt(n,i,r,u,f){var h,o,e,s,c;if(r==t.GroupType.PathCompletion)return h=bt(n,n)+"\\"+String.fromCharCode(8206),{title:h,narratorText:h};if(u&&(o=u.groupDisplayName,o))return{title:o,narratorText:f?i.getLocString("AddingScopeNarratorText",o):o};if(e=rr(n,i,r),!e)switch(r){case t.GroupType.Command:e=i.getLocString("CommandGroup");break;case t.GroupType.Cortana:e=t.config.useCortanaGroupString?i.getLocString("CortanaGroup"):i.getLocString("CortanaArchivedMessageGroup");break;case t.GroupType.Store:e=i.getLocString("StoreGroup");break;case t.GroupType.PowerBi:e="Power BI";break;case t.GroupType.EdgeHistory:e=i.getLocString("EdgeHistoryGroup");break;case t.GroupType.LocalPlaces:e=i.getLocString("LocalPlacesGroup");break;case t.GroupType.Related:e=i.getLocString("RelatedSuggestionsGroup");break;case t.GroupType.SearchSuggestions:e=t.getWebSuggestionsGroupHeader(i);break;case t.GroupType.Websites:e=t.getWebsitesGroupHeader(i);break;case t.GroupType.Contact:e=i.getLocString("ContactGroup");break;case t.GroupType.StartMenu:e="Start menu";break;case t.GroupType.LocalSearchHistory:e="Search history";break;case t.GroupType.ActivityFeedSuggestions:e=i.getLocString("RecentActivitiesSection");break;case t.GroupType.TopApps:e=i.getLocString("TopAppsSection");break;case t.GroupType.QuickSearch:e=t.config.quickAnswer?i.getLocString("QuickSearchSuggestionsSection"):i.getLocString("LastSearchSection");break;case t.GroupType.LockscreenQuickSearch:e=i.getLocString("LockscreenQuickSearchSection")}if(!e){if(s=t.getScope(r),s==t.Scope.All)throw new Error("Unknown group type: "+r);t.config.newFilesScope2&&r==t.GroupType.Documents&&(s=t.Scope.AllFiles);c=t.ScopeConfig[s];e=t.getScopeDisplayName(c,i)}return{title:e,narratorText:f?i.getLocString("AddingScopeNarratorText",e.toLocaleLowerCase()):e}}var g=4,nt=6,c=8,u=12,tt=1,f=20,l=16,ni=f+2*c,it=16+2*c,ti=it,rt=60,ii=f+2*u,ri=f+l+g+2*u,ui=f+2*(l+g)+2*u,fi=80+2*u,ei=c,ut=f,oi=48,a=1,ft=t.IconSize_GridLayout+2*(nt+tt),et=t.IconSize_GridLayout_Medium+2*(nt+tt),si=24,hi=12,ci=140,li=156,ai=8,vi=4,yi=6,pi=2,ot=200,st=3,ht=4,wi=39,bi=42,v=SearchAppWrapper.CortanaApp,y={},p="runas",w="tabletmode_opennewwindow",ct="tile.uninstall",lt="startpin",b="taskbarpin",at="startunpin",k="taskbarunpin",s={id:"SearchBox",selected:!1,text:"SearchBox"},i={},gt;i[p]={content:"&#xE7EF",type:1};i.runasuser={content:"&#xE7EE",type:1};i.openinbrowser={content:"&#xE774",type:1};i.openfilelocation={content:"&#xE838",type:2};i.opencontaining={content:"&#xE838",type:2};i[w]={content:"&#xE8A7",type:2};i[at]={content:"&#xE77A",type:1};i[k]={content:"&#xE77A",type:1};i[lt]={content:"&#xE718",type:2};i[b]={content:"&#xE718",type:2};i.settings={content:"&#xE713",type:2};i.manage={content:"&#xE912",type:1};i.review={content:"&#xE728",type:2};i.share={content:"&#xE72D",type:1};i.connectnetworkdrive={content:"&#xE8CE",type:1};i.disconnectnetworkdrive={content:"&#xE8CD",type:1};i.uninstall={content:"&#xE74D",type:2};i[ct]={content:"&#xE74D",type:2};i.itemproperties={content:"&#xF106",type:2};t.config.extraActions&&(i.copy={content:"&#xE8C8",type:1},i.print={content:"&#xE749",type:1},i.edit={content:"&#xE70F",type:2},i.shelledit={content:"&#xE70F",type:2},i["3d edit"]={content:"&#xE70F",type:2},i.properties={content:"&#xE946",type:2});t.extendVerbs=gi;t.getVerbsAsync=vt;t.wrapsToTwoLines=o;t.joinVerbs=d;t.getGroupTitleAndNarratorText=dt;gt=function(i){function u(r,u,f,e,o,s,h,c,l){var a=i.call(this,r,f,e,s)||this;return a._host=r,a._autoComplete=u,a._navigationHelper=o,a._headerFooterViewModel=h,a._previewPane=c,a._menuFactory=l,a._pendingSubmitSequenceNumber=-1,a._pendingSubmitModifierKeys=null,a._pendingSubmitTimeStamp=null,a._resultsCounter={topResults:[],groups:[]},a._pendingSuggestionsInExistingGroups=[],a._pendingSuggestionsInMissingGroups=[],s.setSuggestionClickHandler(a.doubleClickGuardedHandler(function(t,i){n.safeExecute(function(){return a.click(n.getCurrentTime(),t,n.getInputType(i),null)},"suggestionClickHandler")})),s.setContextMenuHandler(function(t,i){n.safeExecute(function(){return a._menuFactory.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return a._host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")}),s.setOpenPreviewPaneClickHandler(function(t,i){n.safeExecute(function(){return a.openPreviewPane(t,i)},"openPreviewPaneClickHandler")}),s.setExpanderClickInstrumentation(function(n,t,i){var r="Expander"+(i?"Opened":"Closed"),u={st:t,K:n.instItem.getLayoutKValue()};a._instrumentationHelper.logClientInstEvent("Select",r,null,u)}),a._previewPane&&(a._previewPane.init(a),a._previewPane.bindBeforeItemLaunch(function(n,t,i,r,u,f){return a._instrumentationHelper.instrumentItemClickForPreviewPane(n,t.instItem,t.sequenceNumber,t.instrumentPingBack,i,null,r,u,f)}),a._previewPane.bindAfterItemLaunch(function(n,t,i){return a.onSuggestionLaunch(n,t,i)})),r.bindShown(function(){!t.isMobileCache&&v.queryFormulationView.deviceSearch.getSearchServiceStatusAsync&&t.Promise.safeChain("getSearchServiceStatusAsync",function(){return v.queryFormulationView.deviceSearch.getSearchServiceStatusAsync()},function(n){a._instrumentationHelper.setSearchServiceStatus(ir(n));n!=0&&n!=4&&n!=3&&n!=7&&a.showIndexingMessage(!1)})}),s.bindOnNarratorLaunch(function(t){for(var i,f=n.getCurrentTime(),e=a.getSelectableItems(),r=0,u=e;r<u.length;r++)if(i=u[r],i.id==t){a.isSuggestionOrGroup(i)?(a.select(i,!1),a.submit(f,!1,i.sequenceNumber,null,!0)):a._headerFooterViewModel.isScopeElement(i)&&_ge(i.id).click();break}}),r.bindSearchBoxGotFocus(function(){a._menuFactory.dismiss();var t=n.getCurrentActiveElement();t&&t.blur();a._selectedItem&&!a._headerFooterViewModel.isScopeElement(a._selectedItem)&&a.renderSelectedSuggestionState(!1)}),r.bindSearchBoxLostFocus(function(){var i=t.isScopeTile(n.getCurrentActiveElement());i?n.safeSetTimeout(function(){a._host.searchBoxHasFocus()||a._headerFooterViewModel.isScopeElement(a._selectedItem)||a.renderSelectedSuggestionState(!0)},75,"RootViewModel.bindSearchBoxLostFocus"):a.renderSelectedSuggestionState(!0)}),sj_evt.bind("CortanaPaneWidthSet",function(n){return a.onPaneWidthSet(n[1])}),sj_be(_ge("qfContainer"),"scroll",function(){return a._menuFactory.dismiss()}),a}return __extends(u,i),u.prototype.onDismiss=function(){i.prototype.onDismiss.call(this);this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this.toggleProgressBar(!1);this._menuFactory.dismiss();this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable&&this._previewPane.dismiss();this._page.hideTemporaryMessage();this.hideIndexingMessage();t.DialogBox&&t.DialogBox.hide();this._headerFooterViewModel.render(null,!1,!1,!1,!0);t.config.glyphInSearchBox&&this._host.setSearchBoxGlyphIcon()},u.prototype.onPaneWidthSet=function(n){ht=Math.floor((n-2*a)/et);st=Math.floor((n-2*a)/ft)},u.prototype.setSelectedStyleSuspended=function(n,t){n.selectedStyleSuspended=t&&this._host.isRequestFocusAvailable()},u.prototype.renderSelectedSuggestionState=function(n){this._selectedItem&&(this.setSelectedStyleSuspended(this._selectedItem,n),this.renderSelection(this._selectedItem))},u.prototype.toggleProgressBar=function(i){var r=this;t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),i?(this._partialQuery.showProgressBar||this._partialQuery.queryToFetch=="")&&(this._progressTimer=n.safeSetTimeout(function(){r._progressTimer&&(r._page.setProgressIndicatorVisibility(!0),r._progressTimer=null)},250,"showProgress")):t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),this._page.setProgressIndicatorVisibility(!1)))},u.prototype.resetPendingSubmitSequenceNumber=function(){this._pendingSubmitSequenceNumber=null;this._pendingSubmitModifierKeys=null;this._pendingSubmitTimeStamp=null},u.prototype.onAfterKeyDown=function(i,r,u,f){var a,o,v,y,c,l,s,p;if(!this._partialQuery||!this._menuFactory.isMenuVisible()&&i==13)return!1;var h=r&&r.shiftKey,e=this._previewPane&&this._previewPane.hasFocus();if(this._page.hideTemporaryMessage(),this.resetPendingSubmitSequenceNumber(),!u&&n.isContextMenuKey(i,h)&&!e)return this.tryShowContextMenuOnSelectedSuggestion(),!0;if(this._menuFactory.isMenuVisible()){if(i==37||i==39||i==13||n.isUpOrDownKey(i)){if(a=this._menuFactory.onAfterKeyDown(i,r,u,f),a)return!0;if(n.isUpOrDownKey(i))return!1}this._menuFactory.dismiss(!0)}if(o=n.getCurrentActiveElement(),!t.isScopeTile(o)||e||this._menuFactory.isMenuVisible()||i!=39&&i!=37)if(i==9)t.config.allowTabToSelectSuggestions||h||!this._selectedItem||e||this._headerFooterViewModel.isScopeElement(this._selectedItem)?f||this.handleCrossViewModelsTabKeyNavigation(o,h):this.select(this._headerFooterViewModel.getSelectableItems()[0],!1);else{if(t.DialogBox&&t.DialogBox.isVisible())return!0;if(t.RuntimeConfig.PreviewPaneAvailable&&this._previewPane&&this._selectedItem&&!this._headerFooterViewModel.isScopeElement(this._selectedItem)){this._previewPane.onAfterKeyDownWhenNewSelection(i,this._partialQuery,this._selectedItem);if(e)return!0}}else v=t.getRtlAdjustedKey(i),this._headerFooterViewModel.focusNextScopeTile(o,v==39),y=this._headerFooterViewModel.getSelectableItems(),this.select(y[0],!1);return e=this._previewPane&&this._previewPane.hasFocus(),this._selectedItem&&(n.isUpOrDownKey(i)||i==9)&&!e&&(c=this._headerFooterViewModel.isScopeElement(this._selectedItem),c||this._selectedItem==this.topResults[0]?this._page.scrollToTop():this._page.scrollTo(this._selectedItem),l="rvm onAfterKeyDown-AdjustFocus",c||this.isAdvancedOption(this._selectedItem)?(this.isAdvancedOption(this._selectedItem)?_ge(this._selectedItem.id).querySelector("input").focus():_ge(this._selectedItem.id).focus(),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView(l)):i!=9&&this._host.searchBoxHasFocus()||this._host.setFocusInSearchBox(i,l)),t.config.forceTypedQueryOnTopSupported&&i==46&&this._partialQuery&&this._selectedItem&&this._selectedItem===this.topResults[0]&&this.topResults[0].query.toLocaleLowerCase()!=this._partialQuery.queryToFetch.toLocaleLowerCase()&&(s=this._host.getQuery(),s.originalQuery==this._partialQuery.originalQuery&&(p=s.originalCursorPosition==s.originalQuery.length,p&&this._host.reformulate(this._partialQuery.originalQuery,null,1))),!1},u.prototype.handleCrossViewModelsTabKeyNavigation=function(i,r){var v=this,y=t.RuntimeConfig.PreviewPaneAvailable&&!!this._previewPane,s=y&&this._previewPane.isOpened(),p=s&&this._previewPane.hasFocus(),e,h,f,a,u,c,l,o;t.DialogBox&&t.DialogBox.isVisible()?(e=t.DialogBox.getSelectableItemsByGroup(),r?this.select(e[e.length-1][0],!1):this.select(e[0][0],!1)):p?r?(this._previewPane.blur(),h=this._headerFooterViewModel.getSelectableItemsByGroup(),o=h[h.length-1][0],this.select(o,!1)):(this._previewPane.blur(),u=this.getSelectableItems(),this.select(u[0],!0)):t.isScopeTile(i)?!s||r?(f=this.getSelectableSuggestionsByGroup(!0),f.length>0?(a=r?f[f.length-1][0]:f[0][0],this.select(a,!0)):(u=this.getSelectableItems(),u.length>0?this.select(u[0],!0):this.select(null,!0)),c="handleCrossBordersNavigationWithTab",n.safeSetTimeout(function(){return v._host.setFocusInSearchBox(9,c)},0,c)):(this.select(this._previewPane.getPreviewedSuggestion(),!0),this._previewPane.focus(!0)):this._selectedItem?r?s?this._previewPane.focus():(l=this.getSelectableItemsByGroup(),o=l[l.length-1][0],this.select(o,!1)):this.select(this.getSelectableItemsByGroup()[0][0],!1):this.select(this.getSelectableItemsByGroup()[0][0],!1)},u.prototype.tryShowContextMenuOnSelectedSuggestion=function(){var i=this,t=this._selectedItem&&this.isSuggestion(this._selectedItem)?this._selectedItem:null;t&&n.safeExecute(function(){return i._menuFactory.showContextMenuOnElement(t,_ge(t.id),function(){return i._host.setFocusInSearchBox(null,"contextMenuDismiss")})},"contextMenuHandler")},u.prototype.onQueryChanged=function(r,u){var c=this,l,e,p,w,b,o,s,a,v,h,y,f;if(t.DialogBox&&t.DialogBox.hide(),this._menuFactory.dismiss(),!this._partialQuery||!this._partialQuery.equals(r)){if(this._page.hideTemporaryMessage(),t.config.dataSourcesWithProgressBar.length>0&&(this._progressTimer&&(sb_ct(this._progressTimer),this._progressTimer=null),r.showProgressBar?this._progressTimer=n.safeSetTimeout(function(){c._progressTimer&&(c._page.setProgressIndicatorVisibility(!0),c._progressTimer=null)},250,"showProgress"):this._page.setProgressIndicatorVisibility(!1)),this._partialQuery&&this._partialQuery.scope!=r.scope&&(this._turnOnIndexingInstItem||this.hideIndexingMessage()),l=this._partialQuery?this._partialQuery.queryToFetch:"",e=r.queryToFetch,this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable)this._previewPane.onQueryChanged(r);for(p=this._partialQuery?this._partialQuery.scope:t.Scope.All,i.prototype.onQueryChanged.call(this,r,u),w=t.config.glyphInSearchBox==1,w&&r.scope!=p&&(b=t.ScopeConfig[r.scope],r.scope==t.Scope.All?this._host.setSearchBoxGlyphIcon():this._host.setSearchBoxGlyphIcon(b.icon)),o=!1,s=0,a=this.topResults;s<a.length;s++)f=a[s],f.updateFromQuery&&!f.hasPreviewPaneOpened?f.updateFromQuery(r)&&(o=!0):e.length>l.length&&e.startsWith(l)&&f.query.toLowerCase().includes(r.queryToFetch.toLowerCase())&&(v=f.text.indexOf(HitHighlightingParser.endMarker),v>=0&&v<f.text.length-1&&(f.text=HitHighlightingParser.addMarkers(HitHighlightingParser.removeMarkers(f.text),e),o=!0));if(o){for(h=0,y=this.topResults;h<y.length;h++)f=y[h],f.sequenceNumber=u,this.updateNarratorWithPreviewMessage(f);this.renderTopResults()}}},u.prototype.onSuggestionsParsed=function(n,i,r,u,f){var s=n.enabledDataSources[r].groupType,e,o,h;if(typeof s=="number")for(e=0,o=f;e<o.length;e++)h=o[e],h.staticGroupType=s;(u==="NI"||u==="PI")&&(r=="PP"||r=="ST"||n.scope!=t.Scope.All)&&n.scope!=t.Scope.Web&&this.showIndexingMessage(!0)},u.prototype.areSuggestionsPresent=function(){return this.topResults.length>0||this.groups.length>0&&this.groups.some(function(n){return n.suggestions.length>0})},u.prototype.getSuggestions=function(n){var t=this.getCurrentTopResults();return this.groups.forEach(function(n){return t=t.concat(n.suggestions)}),n&&(this._pendingSuggestionsInExistingGroups.forEach(function(n){return t=t.concat(n.suggestions)}),this._pendingSuggestionsInMissingGroups.forEach(function(n){return t=t.concat(n.suggestions)})),t},u.prototype.getSelectableItems=function(){var n,i,u,r;if(t.DialogBox&&t.DialogBox.isVisible())return t.DialogBox.getSelectableItems();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItems();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItems();for(n=[],n.push.apply(n,this.topResults),i=0,u=this.groups;i<u.length;i++)r=u[i],r.click&&n.push(r),n.push.apply(n,r.suggestions.filter(function(n){return!n.suppressed}));return this.areSuggestionsPresent()||n.push(s),t.config.allowUpForScopes&&n.push.apply(n,this._headerFooterViewModel.getSelectableItems()),n},u.prototype.getSelectableSuggestionsByGroup=function(n){if(t.config.allowTabToSelectSuggestions){var i=[];return i.push(this.topResults),this.groups.forEach(function(n){n.click&&i.push([n]);i.push(n.suggestions.filter(function(n){return!n.suppressed}))}),n||i.push(this._headerFooterViewModel.getSelectableItems()),i.filter(function(n){return n.length>0})}return[]},u.prototype.getSelectableItemsByGroup=function(){if(t.DialogBox&&t.DialogBox.isVisible())return t.DialogBox.getSelectableItemsByGroup();if(this._menuFactory.isMenuVisible())return this._menuFactory.getSelectableItemsByGroup();if(this._previewPane&&this._previewPane.hasFocus())return this._previewPane.getSelectableItemsByGroup();var n=[];return n.push.apply(n,this._headerFooterViewModel.getSelectableItemsByGroup()),this._previewPane&&n.push.apply(n,this._previewPane.getSelectableItemsByGroup()),this.areSuggestionsPresent()?n.push.apply(n,this.getSelectableSuggestionsByGroup(!0)):n.push([s]),n},u.prototype.getSelectedItem=function(){return t.DialogBox&&t.DialogBox.isVisible()?t.DialogBox.getSelectedItem():this._menuFactory.isMenuVisible()?this._menuFactory.getSelectedItem():this._previewPane&&this._previewPane.hasFocus()?this._previewPane.getSelectedItem():this._selectedItem?this._selectedItem:s},u.prototype.updateSelectionState=function(t){n.contains(this.topResults,t)?this.renderTopResults():this.groups.some(function(i){return n.contains(i.suggestions,t)})&&this.renderGroups()},u.prototype.renderSelection=function(i,r){(i&&this.isSuggestion(i)&&n.contains(this.topResults,i)||r&&this.isSuggestion(r)&&n.contains(this.topResults,r))&&this.renderTopResults();(i&&this.isAdvancedOption(i)||r&&this.isAdvancedOption(r))&&this._headerFooterViewModel.updateTopHitHeader();(i&&t.isGroup(i)&&n.contains(this.groups,i)||i&&this.isSuggestion(i)&&this.groups.some(function(t){return n.contains(t.suggestions,i)})||r&&t.isGroup(r)&&n.contains(this.groups,r)||r&&this.isSuggestion(r)&&this.groups.some(function(t){return n.contains(t.suggestions,r)}))&&this.renderGroups()},u.prototype.select=function(i,r){var u,e,f;t.DialogBox&&t.DialogBox.isVisible()?t.DialogBox.select(i):this._menuFactory.isMenuVisible()&&n.contains(this._menuFactory.getSelectableItems(),i)?this._menuFactory.select(i,!1):this._previewPane&&n.contains(this._previewPane.getSelectableItems(),i)?this._previewPane.select(i,!1):(u=this._selectedItem,u&&(u.selected=!1,this.setSelectedStyleSuspended(u,!1)),i==s?(this._selectedItem=null,this._host.searchBoxHasFocus()||this._host.setFocusInSearchBox(null,"rvm_select")):(this._selectedItem=i,i&&(i.selected=!0,this.setSelectedStyleSuspended(i,!this._host.searchBoxHasFocus()))),this.renderSelection(this._selectedItem,u),e=t.config.glyphInSearchBox==2,e&&this.setSearchBoxGlyphIcon(i),this._headerFooterViewModel.isScopeElement(i)&&this._headerFooterViewModel.select(i,!1),r&&(t.config.dontUpdateSB&&i.handoffType!=0?this._host.updateQueryWithoutRefetching(null):(f=i?i.query:null,f&&this._partialQuery.scopePrefix&&(f=this._partialQuery.scopePrefix.trim()+": "+f),this._host.updateQueryWithoutRefetching(f))))},u.prototype.setSearchBoxGlyphIcon=function(i){var u,r,f,e;i&&(r=i.icon,r&&n.contains([2,1],r.type)?u=r:(f=t.isGroup(i)?i.typeWithSource.type:this.isSuggestion(i)?t.getGroupType(i):null,f!=null&&(e=t.getScope(f),u=e==t.Scope.All?null:t.ScopeConfig[e].icon)));this._host.setSearchBoxGlyphIcon(u)},u.prototype.renderTopResultsToUpdateIcons=function(){var i=this;t.config.delayRenderingForIcons?this._renderTopResultsTimerForIcons||(this._renderTopResultsTimerForIcons=n.safeSetTimeout(function(){i._renderTopResultsTimerForIcons=null;i.renderTopResults()},ot,"renderTopResultsToUpdateIcons")):this.renderTopResults()},u.prototype.renderGroupsToUpdateIcons=function(){var i=this;t.config.delayRenderingForIcons?this._renderGroupsTimerForIcons||(this._renderGroupsTimerForIcons=n.safeSetTimeout(function(){i._renderGroupsTimerForIcons=null;i.renderGroups()},ot,"renderGroups")):this.renderGroups()},u.prototype.setupIcon=function(i,r,u,f){var e=this,o;if(!r.suppressed&&r.getIcon)this._instrumentationHelper.notifyIconPending(i,u,r.instItem.getLayoutKValue(),r.type),o=this._partialQuery,r.getIcon(this.getImageSize(o,r,u),function(o){r.icon=o;var s=function(){e._partialQuery&&i==e._sequenceNumberReader.getSequenceNumber()&&(e._instrumentationHelper.notifyIconReady(i,u,r.instItem.getLayoutKValue(),r.type),u?n.contains(e.topResults,r)&&e.renderTopResultsToUpdateIcons():e.groups.some(function(t){return n.contains(t.suggestions,r)})&&e.renderGroupsToUpdateIcons(),f())};t.populateImageRatio(r.icon,r.type,s)});else if(!r.suppressed&&r.icon&&n.canIconFail(r.icon)){this._instrumentationHelper.notifyIconPending(i,u,r.instItem.getLayoutKValue(),r.type);var s=r.icon.getFallbackIcon,h=function(n,t){return t(r.icon)},c=r.icon.isValidSize,l=function(){r.getIcon=s;e.setupIcon(i,r,u,f)},a=function(){r.icon.isSmall=!0;r.getIcon=h;e.setupIcon(i,r,u,f)};r.icon.onIconError=l;r.icon.onIconRendered=function(n,t){c(n,t)?(e._instrumentationHelper.notifyIconReady(i,u,r.instItem.getLayoutKValue(),r.type),f()):a()};u?this.renderTopResultsToUpdateIcons():this.renderGroupsToUpdateIcons()}else f()},u.prototype.getImageSize=function(n,i,r){return n.isSearchHomeZI?i.type=="TOPL"?7:i.type=="AFC"?6:8:n.scope==t.Scope.Apps&&!n.queryToFetch?3:t.displayedInGridLayout(i.type)?2:r?0:1},u.prototype.isSuggestionOrGroup=function(n){return!this._headerFooterViewModel.isScopeElement(n)},u.prototype.isSuggestion=function(n){return!t.isGroup(n)&&!this._headerFooterViewModel.isScopeElement(n)&&!this.isAdvancedOption(n)},u.prototype.isAdvancedOption=function(n){return typeof n.layout=="number"},u.prototype.submit=function(i,r,u,f,e){var h=e?5:r?6:1,c=n.getCurrentActiveElement(),o,s,l;if(t.DialogBox&&t.DialogBox.isVisible()){t.DialogBox.submit();return}if(this._previewPane&&this._previewPane.hasFocus()){if(o=this._previewPane.getSelectedItem(),o&&o.click&&o.optionType===undefined){o.click(i,h);return}}else{if(this._selectedItem&&this._headerFooterViewModel.isScopeElement(this._selectedItem)&&!this._menuFactory.isMenuVisible()){_ge(this._selectedItem.id).click();return}if(t.RuntimeConfig.QfMode==5&&!this._selectedItem){this._host.submitFileExplorerTextSuggestion(this._partialQuery.queryToFetch);return}}if(s=this._menuFactory.getSelectedItem(),s){s.click&&s.click(i,h,f);return}if(l=!t.isBodyOrSuggestion(c),l){this._host.isRequestFocusAvailable()||c.click();return}if(this._lastUpdatedSequenceNumber!=u&&(!this._selectedItem||this._selectedItem==this.topResults[0])){this._pendingSubmitSequenceNumber=u;this._pendingSubmitModifierKeys=f;this._pendingSubmitTimeStamp=i;return}this._selectedItem?this.click(i,this._selectedItem,h,f):this.groups.length>0&&this._partialQuery.fullPartialQuery&&this.showDisableEnterMessage()},u.prototype.doubleClickGuardedHandler=function(t){var i;return function(r,u){i&&n.getCurrentDate().getTime()-i<=250||(i=n.getCurrentDate().getTime(),t(r,u))}},u.prototype.click=function(n,i,r,u){if(this._page.hideTemporaryMessage(),this.isAdvancedOption(i)){i.click&&i.click(n,r,u);return}var f=t.isGroup(i)?null:i;if(!i.instItem||f&&f.isReformulation||this._instrumentationHelper.instrumentItemClick(n,i.instItem,i.sequenceNumber,f?f.instrumentPingBack:null,r,u),!f){i.click&&i.click(n,r,u);return}u=u||this._host.getModifierKeyState();u.ctrlKey&&u.shiftKey?this.launchVerb(f,p,n):u.shiftKey?this.launchVerb(f,w,n):f.click(n,r,u);this.onSuggestionLaunch(f,this._partialQuery)},u.prototype.onSuggestionLaunch=function(n,r,u){t.isChildSuggestion(n)&&(n=n.parent);i.prototype.onSuggestionLaunch.call(this,n,r,u)},u.prototype.launchVerb=function(i,r,u){var f=vt("launchVerb",i,t.config.rawVerbs,!1,function(f){for(var h,c,o=!1,l=function(i){if(i.verb&&i.verb.toLocaleLowerCase()==r.toLocaleLowerCase())return i.executeSync?n.safeExecute(function(){return i.executeSync()},"verb.executeSync",null,r):t.Promise.safeChain("verb.executeAsync",function(){return i.executeAsync()},null,null,null,r),o=!0,"break"},e=0,s=f;e<s.length;e++)if(h=s[e],c=l(h),c==="break")break;o||i.click(u,0)},function(){return!0});f||i.click(u,0)},u.prototype.getGroupHeaderClickAction=function(i,r,u){var e=this,f,s,h=null,o,c,l;if(t.RuntimeConfig.ScopesAvailable&&(o=t.getScope(r.type),o!=t.Scope.All))if((t.config.newFilesScope1||t.config.newFilesScope2)&&t.isFileOrFolderScope(o)&&(o=t.Scope.AllFiles),r.type==t.GroupType.SearchSuggestions&&i.isSearchHomeZI)s=this._host.getLocString("OpenPrivacyPortalButtonText"),h=this._host.getLocString("ManageSearchHistory"),f=function(){return e._host.launchPrivacyPortal()};else return t.isL2(i)||!t.isScopeEnabled(o,t.ScopeConfig[o])?[null,null,null,null]:(c=function(){return e._headerFooterViewModel.clickHandler(o,"groupHeader",r)},[c,null,null,null]);if(!f)switch(r.type){case t.GroupType.Store:f=function(){return e._host.launchStoreSearch(i.queryToFetch)};break;case t.GroupType.SearchSuggestions:f=function(){return e.launchSearch(i,u)};break;case t.GroupType.PathCompletion:f=function(){return e._host.launchFolder(bt(i,e._partialQuery))};break;case t.GroupType.TopApps:t.config.getPopularApps&&(s=this._host.getLocString("GetPopularApps"),f=function(){return e._host.launchUri(t.config.getPopularAppsUrl)});break;case t.GroupType.ActivityFeedSuggestions:s=this._host.getLocString("OpenTimelineButtonText");h=this._host.getLocString("ManageActivityFeed");f=function(){return e._host.launchUri("ms-taskswitcher://?invoketo=timeline")}}if(f){if(!u)throw"No QS code for: "+t.GroupType[r.type];return l=n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,t.SyntheticQSCodesMaps.KValues),[f,l,s,h]}return[null,null,null,null]},u.prototype.shouldShowPlusIconInGroupHeader=function(n,i){if(t.getScope(n)==t.Scope.Web||n==t.GroupType.Store)return!1;if(n==t.GroupType.Apps&&this._partialQuery.queryToFetch.length<t.config.minLengthForIBAonL1)return!0;if(n==t.GroupType.Apps||n==t.GroupType.Settings){var r=i[n==t.GroupType.Apps?"PP":"ST"];return!(r&&r.maxedOut)}return!0},u.prototype.addGroup=function(n,i,u,f,e){var o,a;if(r(this.groups,n))throw new Error("Trying to add repeated group "+n);var v=t.GroupHeaderQSCodes[n.type],s=this.getGroupHeaderClickAction(this._partialQuery,n,v),h=s[0],c=s[1],y=s[2],p=s[3],l=dt(this._partialQuery,this._host,n.type,i,!!h);return n.source&&(l.title+=" - "+t.getGroupSourceDisplayName(n.source,this._host)),o=[],t.isTopHitChildGroup(n)?o.push("topHitConnectedToGroup"):n.type==t.GroupType.TopApps||this._partialQuery.isSearchHomeZI&&n.type==t.GroupType.People?o.push("topItemsGroup"):n.type==t.GroupType.ActivityFeedSuggestions?o.push("activityFeedGroup"):n.type==t.GroupType.QuickSearch?(o.push("balloonSuggGroup"),t.config.quickAnswer&&o.push("quickAnswerGroup")):n.type==t.GroupType.LockscreenQuickSearch?o.push("lockscreenQuickSuggGroup"):t.RuntimeConfig.QfMode==8&&(n.type==t.GroupType.Apps?o.push("appsGroup"):(n.type==t.GroupType.Documents||n.type==t.GroupType.Photos||n.type==t.GroupType.Videos||n.type==t.GroupType.Folders)&&o.push("filesGroup")),a={type:n.type,typeWithSource:n,id:"gr"+n.type+(n.source||""),text:l.title,secondaryText:y,narratorText:l.narratorText,tooltip:p,click:h,onlyAnnotationIsClickable:h&&!!y,suggestions:[],instRegionName:t.GroupType[n.type],instItem:c,selected:!1,cssClasses:o.join(" ")||undefined,sequenceNumber:u,showPlusIconInHeader:this.shouldShowPlusIconInGroupHeader(n.type,e)},c&&this._instrumentationHelper.instrumentSyntheticInstrumentedItem(u,v,c),this._resultsCounter.groups.push({typeWithSource:n,suggestions:[]}),this.insertGroup(a,f),a},u.prototype.insertGroup=function(n,i){for(var f,e=this,o=i.findIndex(function(i){return t.sameGroup(i,n.typeWithSource)}),u=!1,s=function(r){var f=i.findIndex(function(n){return t.sameGroup(n,e.groups[r].typeWithSource)});if(f>o)return h.groups.splice(r,0,n),u=!0,"break"},h=this,r=0;r<this.groups.length;r++)if(f=s(r),f==="break")break;u||this.groups.push(n)},u.prototype.handlePendingSubmit=function(n){if(this._pendingSubmitSequenceNumber==this._lastUpdatedSequenceNumber)try{if(this.topResults.length==0)(this.groups.length>0||n.length>0)&&this.showDisableEnterMessage();else{var t=this.topResults[0];return this._instrumentationHelper.instrumentItemClick(this._pendingSubmitTimeStamp,t.instItem,t.sequenceNumber,t.instrumentPingBack,1,this._pendingSubmitModifierKeys),this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.ctrlKey&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(t,p,this._pendingSubmitTimeStamp):this._pendingSubmitModifierKeys&&this._pendingSubmitModifierKeys.shiftKey?this.launchVerb(t,w,this._pendingSubmitTimeStamp):t.click(this._pendingSubmitTimeStamp,0,this._pendingSubmitModifierKeys),0}}finally{this.resetPendingSubmitSequenceNumber()}return 1},u.prototype.showDisableEnterMessage=function(){this._page.showTemporaryMessage(this._host.getLocString("EnterOnAmbiguousTopHitMessageText"))},u.prototype.showIndexingMessage=function(i){var r=this,u,f;t.isMobileCache||(i?this._turnOnIndexingInstItem=null:(this._turnOnIndexingInstItem=n.InstrumentedItem.getNonSuggestionInstrumentedItem("IMIO",t.SyntheticQSCodesMaps.KValues),u={id:null,selected:null,text:this._host.getLocString("WindowsIndexingDisabledAction"),title:null,instItem:this._turnOnIndexingInstItem,click:function(n,i){var u=r._sequenceNumberReader.getSequenceNumber();u>r._lastUpdatedSequenceNumber&&r._instrumentationHelper.instrumentSyntheticInstrumentedItem(u,"IMIO",r._turnOnIndexingInstItem);r._instrumentationHelper.instrumentItemClick(n,r._turnOnIndexingInstItem,u,null,i,null);t.LocalDataProvider.launchIndexingOptions(r._host,!1)},layout:1,isSelectable:!0}),f={messageText:i?this._host.getLocString("WindowsIndexingInProgressMessage"):this._host.getLocString("WindowsIndexingDisabledMessage"),title:i?this._host.getLocString("WindowsIndexingInProgressToolTip"):this._host.getLocString("WindowsIndexingDisabledToolTip"),action:u},this._page.updateIndexingMessageView(f))},u.prototype.hideIndexingMessage=function(){t.isMobileCache||(this._turnOnIndexingInstItem=null,this._page.updateIndexingMessageView(null))},u.prototype.getAvailableSpace=function(n){var r=this,i;return t.isL2(this._partialQuery)&&this._partialQuery.queryToFetch?Number.MAX_VALUE:(i=this._page.getSuggestionsContainerHeight(),t.config.extraTopPadding&&!t.RuntimeConfig.SearchBoxOnTop&&(i-=t.config.extraTopPadding),t.RuntimeConfig.ScopesAvailable&&(i-=oi),n.topResults.length==0||t.RuntimeConfig.FlatListWithoutGroups||(i-=ti),n.topResults.forEach(function(n){return i-=pt(n,t.isL2(r._partialQuery))}),n.groups.forEach(function(n){return i-=tr(r._partialQuery,n)}),n.groups.some(function(n){return n.typeWithSource&&t.isTopHitChildGroup(n.typeWithSource)})&&n.groups.some(function(n){return n.typeWithSource&&!t.isTopHitChildGroup(n.typeWithSource)})&&(i-=ei),i)},u.prototype.getAvailableSpaceForZeroInputHomeTopSection=function(n){var f=v.textScaleFactor||1,i=this._page.getSuggestionsContainerWidth()/f,r,u;return i-=t.RuntimeConfig.AlwaysWide?si:hi,r=n.suggestions.filter(function(n){return!n.isSuppressed}).length,u=t.RuntimeConfig.AlwaysWide?ci:li,i-(u+ai)*r},u.prototype.canFitSuggestion=function(i,u,f){if(f.suppressed||u.type==t.GroupType.StartMenu||t.getTweakedSetting("scrollBarInL1"))return!0;var s=yt(this._resultsCounter),e;return i?(e={typeWithSource:u,suggestions:[]},s.groups.push(e)):e=r(s.groups,u),e.suggestions.push({mainTextWrapsToTwoLines:f&&o(f,u.type,!1),isSuppressed:f&&f.suppressed,hasTwoLines:f&&n.contains(f.classNames,"forceNoWrapOutsideTopResult")}),this._partialQuery.isSearchHomeZI?this.canFitSuggestionInZeroInputHome(e):this.getAvailableSpace(s)>=0},u.prototype.canFitSuggestionInZeroInputHome=function(n){if(kt(n.typeWithSource.type))return this.getAvailableSpaceForZeroInputHomeTopSection(n)>=0;switch(n.typeWithSource.type){case t.GroupType.QuickSearch:return t.config.quickAnswer?t.RuntimeConfig.QfMode==4||t.RuntimeConfig.QfMode==0?n.suggestions.length<=pi:n.suggestions.length<=yi:!0;case t.GroupType.LockscreenQuickSearch:return!0}return n.suggestions.length<=vi},u.prototype.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup=function(){var i,r,u,n,f;if(t.isL2(this._partialQuery)&&this._partialQuery.queryToFetch||t.getTweakedSetting("scrollBarInL1"))return Number.MAX_VALUE;for(i=yt(this._resultsCounter),r=0,u=i.groups;r<u.length;r++)for(n=u[r];n.suggestions.length<t.config.minSuggestionsPerGroup;)n.suggestions.push(n.suggestions[0]);while(this.getAvailableSpace(i)>0){for(n={suggestions:[]},f=0;f<t.config.minSuggestionsPerGroup;++f)n.suggestions.push({mainTextWrapsToTwoLines:!1,isSuppressed:!1,hasTwoLines:!1});i.groups.push(n)}return i.groups.length-1},u.prototype.onSuggestionAddedToGroup=function(i,u){var e=this,f,s;this.updateNarratorWithPreviewMessage(i);t.isChildSuggestion(i)&&(i.displayed=!0,f=i.parent,i.id=f.id+"_"+f.childSuggestions.indexOf(i),t.isJumpListSuggestion(i)&&i.tooltip===undefined&&t.Promise.safeChain("getJumpListDescription",function(){return i.jumpListItem.getDescriptionAsync()},function(t){i.tooltip=t;e.groups.some(function(t){return n.contains(t.suggestions,i)})&&e.renderGroups()}));this.setRemoveIconHistorySuggestions(i);s=r(this._resultsCounter.groups,u.typeWithSource);s.suggestions.push({mainTextWrapsToTwoLines:o(i,u.typeWithSource.type,!1),isSuppressed:i.suppressed,hasTwoLines:n.contains(i.classNames,"forceNoWrapOutsideTopResult")});t.displayedInGridLayout(u.typeWithSource.type)&&u.suggestions.filter(function(n){return!n.suppressed}).length>0&&t.RuntimeConfig.QfMode!=8&&(u.cssClasses+=t.isL2(this._partialQuery)?" gridLayout":" gridLayout gridLayoutMedium")},u.prototype.onGroupsCleared=function(){this._pendingSuggestionsInExistingGroups=[];this._pendingSuggestionsInMissingGroups=[];this._resultsCounter.groups=[];this._turnOnIndexingInstItem&&this._instrumentationHelper.instrumentSyntheticInstrumentedItem(this._lastUpdatedSequenceNumber,"IMIO",this._turnOnIndexingInstItem)},u.prototype.launchSearch=function(n,t){var i=n.queryToFetch;this._host.launchSearch(i,this._navigationHelper.getSearchUrl(n.fullPartialQuery,i,t),!1)},u.prototype.setRemoveIconHistorySuggestions=function(n){var i=this,r=n.getExtraVerbs&&n.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromDeviceHistory"}),e=n.type=="HS"&&t.config.removeSuggUrl,f=n.getExtraVerbs&&n.getExtraVerbs(!1).some(function(n){return n.verb=="RemoveFromActivityFeed"}),o=t.config.th&&ClientTestHooks.isTesthookParamSet("forceRemoveIcon"),u;(o||r||e||f)&&(u=r?"RemoveFromDeviceHistory":f?"RemoveFromActivityFeed":"RemoveFromWebHistory",n.removeIcon={icon:{content:"&#xE711",type:2},title:this._host.getLocString(r?"RemoveFromDeviceHistory":"RemoveFromWebHistory"),click:function(t,r){i._page.hideTemporaryMessage();i._instrumentationHelper.instrumentItemClickForContextMenu(t,n.instItem,n.sequenceNumber,n.instrumentPingBack,r,null,u);i.launchVerb(n,u,t);i._host.setFocusInSearchBox(null,"remove")}})},u.prototype.updateNarratorWithPreviewMessage=function(n){var r=t.RuntimeConfig.AlwaysWide?"PreviewPaneButtonNarratorMessageWidePane":"PreviewPaneButtonNarratorMessage",i=this._host.getLocString(r);n.narratorText&&n.previewPaneType&&n.narratorText.indexOf(i)==-1&&(n.narratorText+=", "+i)},u.prototype.onBeforeRenderTopResults=function(i,r,u,f){var e=this,h,c,o,l,a;this.topResults.forEach(function(n){e.setRemoveIconHistorySuggestions(n);e.updateNarratorWithPreviewMessage(n)});h=1;this.topResults.length!=1||this.topResults[0].hasChildSuggestionsDisplayed||r.some(function(n){return t.isChildSuggestion(n)})&&(this.topResults[0].hasChildSuggestionsDisplayed=!0,h=0);c=this.getSelectableItems();t.RuntimeConfig.FirstSuggestionSelectedByDefault&&(this._selectedItem&&n.contains(c,this._selectedItem)&&!this._headerFooterViewModel.isScopeElement(this._selectedItem)&&(this._selectedItem!=i[0]||this.topResults[0]==i[0])||(o=this._partialQuery.queryToFetch&&this.topResults.length>0?this.topResults[0]:null,t.config.synthWebNoBestMatch&&t.isNullOrUndefined(o)&&(l=[t.GroupType.SearchSuggestions,t.GroupType.Websites],a=r.filter(function(i){return!n.contains(l,t.getGroupType(i))}),a.length==0&&(o=r.length>0?r[0]:null)),this._previewPane&&t.RuntimeConfig.PreviewPaneAvailable&&n.safeExecute(function(){return e._previewPane.onTopHitUpdated(e._partialQuery,e._selectedItem&&e.isSuggestion(e._selectedItem)?e._selectedItem:null,o,e.getSuggestions(!1))},"ppOnTopHitUpdated"),this.select(o,!1),this._page.scrollToTop()));var v=this.topResults.length>0,s=function(n){return!n.suppressed&&(!t.config.recourseOnlyInGroups||!t.isRecourse(n))&&(!t.config.quickAnswer||n.staticGroupType!=t.GroupType.QuickSearch)&&(t.RuntimeConfig.QfMode!=6||n.type!="LSQS")},y=v||r.some(s)||this.groups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.some(s)})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.some(s)});return this._headerFooterViewModel.render(this._partialQuery,v,y,u,f),h},u.prototype.isRankable=function(n){return n.typeWithSource.type!=t.GroupType.SearchSuggestions&&n.typeWithSource.type!=t.GroupType.Websites&&n.typeWithSource.type!=t.GroupType.LocalPlaces&&!n.suggestions.some(t.enforceOriginalOrder)},u.prototype.isNotRankableWithRecourse=function(n){return n.typeWithSource.type==t.GroupType.Emails},u.prototype.openPreviewPane=function(n,i){i.stopPropagation();this._previewPane.showPreview(this._partialQuery,n);this.select(n,!t.config.dontUpdateSB);this._host.setFocusInSearchBox(null,"openPreviewPane")},u.prototype.mayNeedFlush=function(){return!t.RuntimeConfig.FlatListWithoutGroups},u.prototype.shouldRenderGroup=function(i){return t.RuntimeConfig.PreviewPaneAvailable&&t.config.suppressedGroups&&n.contains(t.config.suppressedGroups,i)?!1:!0},u.prototype.update=function(i,r,u,f,e,s,h,c,l,a){var v=this,d=this.topResults,w,g,nt,b,tt,y,ft;if(i&&(this._contentQuery=this._partialQuery,this._renderTopResultsTimerForIcons=null,this._renderGroupsTimerForIcons=null),t.config.enableMRUHint)for(w=0,g=r;w<g.length;w++)nt=g[w],nt.mruHintEnabled&&(nt.uxHint=this._host.getLocString("MruBestMatch"));var ut=this.updateTopResults(i,r,u,f,e,l),st=ut[0],ht=ut[1];for(ht(),this._resultsCounter.topResults=[],b=0,tt=this.topResults;b<tt.length;b++)y=tt[b],ft=1+(y.primaryMetadata?1:0)+(y.secondaryMetadata||y.stars?1:0),this._resultsCounter.topResults.push({mainTextWrapsToTwoLines:o(y,null,!0),numberOfLines:ft,isHtmlAnswer:!!y.htmlContent,isSuppressed:!1,grid:t.displayedInGridLayout(y.type)});if(this._autoComplete&&this.topResults.length>0&&this._selectedItem==this.topResults[0]&&this._autoComplete.apply(this.topResults[0]),this.handlePendingSubmit(e)==0)return this.toggleProgressBar(!0),0;this._partialQuery&&this._partialQuery.isSearchHomeZI&&this.toggleProgressBar(!l);var k=!1,it=0,et=function(){if(k&&it==0){var n=v.groups.map(function(n){return n.typeWithSource.type});v._instrumentationHelper.instrumentRenderFinished(f,h,n);k=!1}},rt=function(n,t){var r=!1,i;if(v.isRankable(t)&&v._partialQuery&&v._partialQuery.queryToFetch)for(i=0;i<t.suggestions.length;i++)if(n.rankingScore>t.suggestions[i].rankingScore){t.suggestions.splice(i,0,n);r=!0;break}r||t.suggestions.push(n);it+=1;v.setupIcon(f,n,!1,function(){it-=1;et()});v.onSuggestionAddedToGroup(n,t)},p=this.getMaxNumberOfGroupsToFitMinSuggestionsPerGroup()-this.groups.length,ot=function(){var i,r,n,e;if(p!=0&&u||v.flush(rt,f,c),v._partialQuery&&v._partialQuery.queryToFetch)for(v.groups.sort(function(n,i){return c.findIndex(function(i){return t.sameGroup(i,n.typeWithSource)})-c.findIndex(function(n){return t.sameGroup(n,i.typeWithSource)})}),i=0,r=v.groups;i<r.length;i++)n=r[i],v.isRankable(n)?n.suggestions.sort(function(n,t){return t.rankingScore-n.rankingScore}):v.isNotRankableWithRecourse(n)&&(e=n.suggestions.map(function(n){return n.notAResult}).findIndex(function(n){return n}),e!=-1&&n.suggestions.splice(n.suggestions.length-1,0,n.suggestions.splice(e,1)[0])),v.populateGroupHeaderFlags(n)};return i||e.length>0||s.length>0?(this.renderGroupsAfter(function(){for(var ft,h,l,g,nt,y,tt,w,it,r,b,ut,o=0,k=s;o<k.length;o++)r=k[o],ft=v.removeSuggestion(r,a),ft&&(p+=1);for(h=function(n,i){var e=v.getGroupData(n),u=e[0],r=e[1],o;v.shouldRenderGroup(u.type)&&(r?(r.count&&r.count++,o=t.config.minSuggestionsPerGroup&&!i?t.config.minSuggestionsPerGroup-r.suggestions.length:999,o>0&&v.canFitSuggestion(!1,u,n)?rt(n,r):v._partialQuery.isSearchHomeZI||v.queueSuggestionInExistingGroup(n,r)):p>0&&v.canFitSuggestion(!0,u,n)?(r=v.addGroup(u,n,f,c,a),v.shouldTrackGroupCount(r)&&(r.count=1),rt(n,r),p-=1):v._partialQuery.isSearchHomeZI||v.queueSuggestionInMissingGroup(n,u,a))},l=0,g=d;l<g.length;l++){var et=g[l],ht=v.getGroupData(et),u=ht[1];u&&u.count&&(u.count-=1)}if(nt=function(){return v._contentQuery.isSearchHomeZI||t.shouldFetchStartMenu(v._contentQuery)||t.getTweakedSetting("scrollBarInL1")},st&&!i){for(y=0,tt=e;y<tt.length;y++)r=tt[y],n.contains(d,r)&&h(r,!0);for(w=0,it=e;w<it.length;w++)r=it[w],n.contains(d,r)||h(r,nt())}else e.forEach(function(n){return h(n,nt())});for(b=0,ut=v.topResults;b<ut.length;b++){var et=ut[b],ct=v.getGroupData(et),u=ct[1];u&&u.count&&(u.count+=1)}ot()}),k=!0):p!=0&&u||(this._pendingSuggestionsInMissingGroups.some(function(n){return n.suggestions.length>0})||this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))&&(this.renderGroupsAfter(function(){return ot()}),k=!0),et(),l&&this.toggleProgressBar(!1),1},u.prototype.populateGroupHeaderFlags=function(n){if(t.canGoToL2(n)){var i=n.suggestions.every(function(n){return n.suppressed});n.showCountInHeader=i}},u.prototype.shouldTrackGroupCount=function(n){return t.canGoToL2(n)},u.prototype.getGroupData=function(n){var i={type:t.getGroupType(n),source:n.sourceForGroup};return[i,r(this.groups,i)]},u.prototype.removePendingSuggestionFromExistingGroup=function(n,t){for(var r,u,i=0;i<this._pendingSuggestionsInExistingGroups.length;++i)if(r=this._pendingSuggestionsInExistingGroups[i],r.group==t)if(u=r.suggestions.indexOf(n),u==-1)throw new Error("Pending suggestion not found");else{r.suggestions.splice(u,1);r.suggestions.length==0&&this._pendingSuggestionsInExistingGroups.splice(i,1);return}throw new Error("Pending suggestion not found");},u.prototype.removePendingSuggestionFromMissingGroup=function(n,i){for(var u,f,r=0;r<this._pendingSuggestionsInMissingGroups.length;++r)if(u=this._pendingSuggestionsInMissingGroups[r],t.sameGroup(u.typeWithSource,i))if(f=u.suggestions.indexOf(n),f==-1)throw new Error("Pending suggestion not found");else{u.suggestions.splice(f,1);u.suggestions.length==0&&this._pendingSuggestionsInMissingGroups.splice(r,1);return}throw new Error("Pending suggestion not found");},u.prototype.queueSuggestionInExistingGroup=function(n,t){var i=wt(this._pendingSuggestionsInExistingGroups,t.typeWithSource);i?i.suggestions.push(n):(i={group:t,suggestions:[n]},this._pendingSuggestionsInExistingGroups.push(i))},u.prototype.queueSuggestionInMissingGroup=function(n,t,i){var u=r(this._pendingSuggestionsInMissingGroups,t);u?u.suggestions.push(n):(u={typeWithSource:t,suggestions:[n],extraSignalsMap:i},this._pendingSuggestionsInMissingGroups.push(u))},u.prototype.partialFlush=function(n,t,i,r){while(n>0&&i.length>0){var u=i[0];this.canFitSuggestion(!1,t.typeWithSource,u)&&r(u,t);i.splice(0,1);n-=1}},u.prototype.flush=function(n,i,r){for(var e,s,u,c,l=this,a=function(u){var o=u.suggestions[0],e;o&&f.canFitSuggestion(!0,u.typeWithSource,o)&&(e=f.addGroup(u.typeWithSource,o,i,r,u.extraSignalsMap),f.shouldTrackGroupCount(e)&&(e.count=u.suggestions.length),f.partialFlush(t.config.minSuggestionsPerGroup,e,u.suggestions,n),u.suggestions.forEach(function(n){return l.queueSuggestionInExistingGroup(n,e)}),u.suggestions=[])},f=this,o=0,h=this._pendingSuggestionsInMissingGroups;o<h.length;o++)u=h[o],a(u);while(this._pendingSuggestionsInExistingGroups.some(function(n){return n.suggestions.length>0}))for(e=0,s=this._pendingSuggestionsInExistingGroups;e<s.length;e++)u=s[e],c=t.config.minSuggestionsPerGroup?1:u.suggestions.length,this.partialFlush(c,u.group,u.suggestions,n)},u.prototype.removeSuggestion=function(i,u){var h={type:t.getGroupType(i),source:i.sourceForGroup},f=r(this.groups,h),e,c,s;if(f)if(n.tryRemove(f.suggestions,i)){if(e=r(this._resultsCounter.groups,f.typeWithSource),c=o(i,f.typeWithSource.type,!1),n.removeFirstWhere(e.suggestions,function(n){return n.mainTextWrapsToTwoLines==c}),t.displayedInGridLayout(f.typeWithSource.type)&&f.suggestions.filter(function(n){return!n.suppressed}).length==0&&(f.cssClasses=""),f.suggestions.length==0)return n.tryRemove(this.groups,f),this._resultsCounter.groups=this._resultsCounter.groups.filter(function(n){return n!=e}),s=wt(this._pendingSuggestionsInExistingGroups,f.typeWithSource),s&&this._pendingSuggestionsInMissingGroups.push({typeWithSource:f.typeWithSource,suggestions:s.suggestions,extraSignalsMap:u}),!0}else this.removePendingSuggestionFromExistingGroup(i,f);else this.removePendingSuggestionFromMissingGroup(i,h);return!1},u}(n.BaseRootViewModel);t.RootViewModel=gt})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}))
"||t.RuntimeConfig.QfMode==2)&&(n.reformulate(""),b.setFocusInSearchBox("clear search box"),y.logClientInstEvent("Select","ClearSearchBox",null))}),n.bindScopeListRequiresUpdate(function(){b.init();b._currentQuery&&b.renderScopes(!0)}),n.bindOnFeedbackClosing(function(n){!n&&t.RuntimeConfig.AlwaysWide&&_ge(r).focus()}),this._substrateUpsellDismiss={action:function(){b._upsellGotDismissed=!0;w.setItem(u,"1");n.refreshCurrentPane()},icon:{content:"&#xE711",type:2}},l&&l.bindRewardsBadgeUpdated(function(){b._currentQuery&&b.renderScopes(!0)}))}return h.prototype.focusNextScopeTile=function(n,i){var r=[].slice.call(this._scopesHeaderElement.getElementsByClassName("scopeTile")),u=t.shouldSkipSelectedScope()?r.filter(function(n){return!n.classList.contains("selectedScope")}):r;this._currentScopeTileIndex=u.indexOf(n);i?this._currentScopeTileIndex!=u.length-1&&++this._currentScopeTileIndex:this._currentScopeTileIndex>0&&--this._currentScopeTileIndex;t.shouldSkipSelectedScope()&&(this._currentScopeTileIndex=r.indexOf(u[this._currentScopeTileIndex]));this._menuFactory.dismiss();r[this._currentScopeTileIndex].focus()},h.prototype.render=function(n,i,r,u,f){if(t.config.renderScopeBarOnAppShown||(this._currentQuery=n),n){var e=t.getEffectiveScope(n);this.innerRender(n.scope,e,n,i,r,u,f)}else this.cleanUp()},h.prototype.getScopeToolTip=function(n,i){var u=t.ScopeConfig[n],f=t.getScopeDisplayName(u,this._host),r;return r=i&&!this._allScopeButtonPresent?"RemovingScopeNarratorText2":n==t.Scope.All?"AddingScopeNarratorTextAll2":"AddingScopeNarratorText",this._host.getLocString(r,f.toLocaleLowerCase())},h.prototype.selectScope=function(n){var i,r,t;for(this._selectedScope&&(this._selectedScope.tooltip=this.getScopeToolTip(this._selectedScope.type,!1),this._selectedScope.enabled=!1,this._selectedScope=null),i=0,r=this._scopeTiles;i<r.length;i++)if(t=r[i],t.enabled=t.type==n,t.enabled){t.tooltip=this.getScopeToolTip(n,!0);this._selectedScope=t;break}},h.prototype.innerRender=function(n,i,r,u,f,e,o){this._topHitPresent=u;this._resultsPresent=f;this.renderTopHitHeader(n,i,r,f,e,o);t.RuntimeConfig.ScopesAvailable&&(this._scopeTiles||this.init(),this._scopeTiles&&(!this._selectedScope||this._selectedScope.type!=n)&&this.selectScope(n),this.renderScopes(!0))},h.prototype.renderTopHitHeader=function(n,i,r,u,f,e){var o=t.ScopeConfig[i],l=r.showProgressBar?e:!f,a=!r||!r.queryToFetch,v=this.getEmptyResultsMessage(u,l,a,i,o),s=v[0],h=v[1],c=l||a||u||!this._lastRenderedTopHitHeader||t.uses3lineTemplate(i)?this.getHeaderText(i,o):this._lastRenderedTopHitHeader.headerText,y;(this._advancedOptionsScope=t.RuntimeConfig.ScopesAvailable&&o.showUpsellOnSuggestionsList&&o.showUpsellOnSuggestionsList()?this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),0):[],t.RuntimeConfig.AlwaysWide&&(this._advancedOptionsScope=this._advancedOptionsScope.concat(this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),1))),this._lastRenderedTopHitHeader&&this._lastRenderedTopHitHeader.scope==n&&this._lastRenderedTopHitHeader.message==s&&this._lastRenderedTopHitHeader.subMessage==h&&this._lastRenderedTopHitHeader.headerText==c&&this._lastRenderedTopHitHeader.advancedOptions==this._advancedOptionsScope)||(this._lastRenderedTopHitHeader={scope:n,headerText:c,message:s,subMessage:h,advancedOptions:this._advancedOptionsScope,scopeForDisplay:i},y={headerText:c,message:s,subMessage:h,messageIcon:s?o.icon:null,advancedOptions:this._advancedOptionsScope},this._page.updateTopHitHeaderView(y))},h.prototype.updateTopHitHeader=function(){if(this._lastRenderedTopHitHeader){var n=t.ScopeConfig[this._lastRenderedTopHitHeader.scopeForDisplay],i={headerText:this._lastRenderedTopHitHeader.headerText,message:this._lastRenderedTopHitHeader.message,subMessage:this._lastRenderedTopHitHeader.subMessage,messageIcon:this._lastRenderedTopHitHeader.message?n.icon:null,advancedOptions:this._advancedOptionsScope};this._page.updateTopHitHeaderView(i)}},h.prototype.renderScopes=function(n){var i=this,r;if(n){var u=this.getScopeBarElements(),f=this.getHiddenScopeElements(u)||[],e=t.config.userProfileButtonEnabled?this.getUserProfileButtonData():[null,null],o=e[0],s=e[1];r={scopes:u,showFeedback:this.isFeedbackEnabled()?function(){return i.showFeedback()}:null,rewardsBadgeDataModel:this._msRewardsViewModel&&this._msRewardsViewModel.getDataModel(),moreMenuDataModel:f.length>0?{opened:this._moreMenuOpened,buttonClickHandler:function(){return i._moreMenuOpened?i.closeMoreMenuDropDown():i.openMoreMenuDropDown(f)}}:null,optionsMenuDataModel:{opened:this._optionsMenuOpened,buttonClickHandler:function(){return i._optionsMenuOpened?i.closeOptionsMenuDropDown():i.openOptionsMenuDropDown()}},userProfileButtonDataModel:t.config.userProfileButtonEnabled&&o?{opened:this._userProfileMenuOpened,buttonClickHandler:function(){return i._userProfileMenuOpened?i.closeUserProfileDropDown():i.openUserProfileDropDown()},icon:o,userName:s}:null,lockscreenMenuDataModel:{opened:this._lockscreenMenuOpened,buttonClickHandler:function(){return i._lockscreenMenuOpened?i.closeLockscreenMenuDropDown():i.openLockscreenMenuDropDown()}}}}this._page.updateScopesHeaderView(r)},h.prototype.openMoreMenuDropDown=function(t){var i=this;this._page.ensureWebViewHeightExpanded();this._menuFactory.showDropdownMenu(t,document.getElementById(this._moreButton.id),1,function(){n.safeSetTimeout(function(){return i.closeMoreMenuDropDown()},0,"closeMoreMenuDropDown")});this._moreMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeMoreMenuDropDown=function(){this._moreMenuOpened=!1;this.renderScopes(!0)},h.prototype.openOptionsMenuDropDown=function(){var u=this,i,r;this._page.ensureWebViewHeightExpanded();i=t.RuntimeConfig.AlwaysWide?1:2;r=this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),i);this._menuFactory.showDropdownMenu(r,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return u.closeOptionsMenuDropDown()},0,"closeOptionsMenuDropDown")});this._optionsMenuOpened=!0;this.renderScopes(!0)},h.prototype.openLockscreenMenuDropDown=function(){var r=this,t,i;this._page.ensureWebViewHeightExpanded();t=4;i=this.getAdvancedOptions(this._sequenceNumberReader.getSequenceNumber(),t);this._menuFactory.showDropdownMenu(i,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return r.closeLockscreenMenuDropDown()},0,"closeLockscreenMenuDropDown")});this._lockscreenMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeOptionsMenuDropDown=function(){this._optionsMenuOpened=!1;this.renderScopes(!0)},h.prototype.closeLockscreenMenuDropDown=function(){this._lockscreenMenuOpened=!1;this.renderScopes(!0)},h.prototype.openUserProfileDropDown=function(){var t=this,i=this.getAccountOptionsForUserProfileButton(this._sequenceNumberReader.getSequenceNumber());this._menuFactory.showDropdownMenu(i,document.getElementById(this._optionsButton.id),2,function(){n.safeSetTimeout(function(){return t.closeUserProfileDropDown()},0,"closeUserProfileDropDown")});this._userProfileMenuOpened=!0;this.renderScopes(!0)},h.prototype.closeUserProfileDropDown=function(){this._userProfileMenuOpened=!1;this.renderScopes(!0)},h.prototype.cleanUp=function(){this._lastRenderedTopHitHeader=null;this._page.updateTopHitHeaderView(null);this._page.updateScopesHeaderView(null)},h.prototype.scopeNamesElements=function(n){var i=this;return n.map(function(n){return i._scopeTiles.find(function(i){return t.Scope[i.type]==n})}).filter(function(n){return!!n})},h.prototype.getEffectiveScopeOrder=function(){var i,r,o,n,u,s,e;if(!this._scopeTiles||this._scopeTiles.length==0)return[];if(this._effectiveScopeOrder&&!t.config.pathCompletionReplacesAll)return this._effectiveScopeOrder.slice(0);if(t.RuntimeConfig.AlwaysWide?(i=t.config.scopesOrderBeginAlwaysWide,r=t.config.scopesOrderLastAlwaysWide,o=t.config.numberOfScopesToRenderAlwaysWide):(i=t.config.scopesOrderBegin,r=t.config.scopesOrderLast,o=t.config.numberOfScopesToRender),n=[],i){if(t.config.pathCompletionReplacesAll&&(r=r.filter(function(n){return n!="PathCompletion"}),this._currentQuery&&this._currentQuery.canBePathCompletion&&(i=i.map(function(n){return n=="All"?"PathCompletion":n}))),u=r?this.scopeNamesElements(r):[],n=this.scopeNamesElements(i),t.RuntimeConfig.AlwaysWide){var f=0,h=10,c=26,l=t.config.scopeMenuWidth*this._scopesHeaderElement.clientWidth;for(s=0;s<u.length;s++)f+=u[s].text.length*h+c;for(l-=f,f=0,e=0;e<n.length;e++)if(f+=n[e].text.length*h+c,f>l)break;o=e+u.length}n=n.slice(0,o-u.length);n.push.apply(n,u)}return this._effectiveScopeOrder=n,n.slice(0)},h.prototype.getHiddenScopeElements=function(n){return this._moreScopeTiles?this._moreScopeTiles.filter(function(i){return n.find(function(n){return n.type==i.type})==undefined&&t.Scope[i.type]!="PathCompletion"&&t.Scope[i.type]!="All"}):[]},h.prototype.getScopeBarElements=function(){var u=this,n,i,r;return this._scopeTiles?(n=this.getEffectiveScopeOrder(),i=n.some(function(n){return n.enabled}),!i&&this._selectedScope&&(t.config.pathCompletionReplacesAll&&t.Scope[this._selectedScope.type]=="PathCompletion"||(r=this._scopeTiles.find(function(n){return n.type==u._selectedScope.type}),n.push(r),i=!0)),n):[]},h.prototype.isFeedbackEnabled=function(){return n.isBingEnabledByClient()},h.prototype.showFeedback=function(){this._page.ensureWebViewHeightExpanded();typeof WindowsFeedbackForm!="undefined"&&WindowsFeedbackForm.Show("")},h.prototype.getHeaderText=function(n,i){var r,u;if(t.RuntimeConfig.FlatListWithoutGroups||t.config.hideBestMatchTag)return null;if(r=t.getScopeDisplayName(i,this._host),r){if(this._topHitPresent)return n==t.Scope.All||n==t.Scope.PathCompletion?(u=t.config.quickMatchLabel?"QuickMatch":"BestMatch",this._host.getLocString(u)):(u=t.config.quickMatchLabel?"QuickMatchFor":"BestMatchFor",this._host.getLocString(u,r.toLocaleLowerCase()));if(this._resultsPresent)return null;if(n!=t.Scope.All)return r}return this._host.getLocString("BestMatch")},h.prototype.getEmptyResultsMessage=function(n,i,r,u,f){return t.RuntimeConfig.QfMode==5||n||!i&&!r||u!=t.Scope.Documents&&f.showUpsellOnSuggestionsList&&f.showUpsellOnSuggestionsList()?["",""]:r?f.getEmptyZIMessages(this._host):[this._host.getLocString("NoResults",this._currentQuery.queryToFetch),""]},h.prototype.init=function(){var u,f,r,i;if(t.initScopePrefixes(this._host),this._scopeTiles=[],this._moreScopeTiles=[],t.RuntimeConfig.ScopesAvailable){u=t.RuntimeConfig.AlwaysWide?t.config.scopesOrderBeginAlwaysWide:t.config.scopesOrderBegin;this._allScopeButtonPresent=n.contains(u,"All");for(f in t.ScopeConfig)(r=parseInt(f),i=t.ScopeConfig[r],(i.prefixes||i.prefixesLocString||i.scopeNameLocString)&&t.isScopeEnabled(r,i))&&((r!=t.Scope.All||this._allScopeButtonPresent)&&this._scopeTiles.push(this.createScopeElement(r,i,!1)),this._moreScopeTiles.push(this.createScopeElement(r,i,!0)));this._moreScopeTiles.sort(function(n,i){return n.type==t.Scope.All?-1:i.type==t.Scope.All?1:n.text.localeCompare(i.text)});this._selectedScope&&this.selectScope(this._selectedScope.type);this._effectiveScopeOrder=null}},h.prototype.createScopeElement=function(n,i,r){var u=this;return{isScopeElement:!0,id:(r?"scope":"l1scope")+n,type:n,enabled:!1,text:t.getScopeDisplayName(i,this._host),title:null,icon:n==t.Scope.All?{content:"&#xE8A9",type:1}:i.icon,click:function(){return u.clickHandler(n,"scopeBar")},selected:!1,tooltip:this.getScopeToolTip(n,!1),isSelectable:!0}},h.prototype.clickHandler=function(n,i,r){var h=t.getScopeDisplayName(t.ScopeConfig[n],this._host),e,u=this._currentQuery,f=u.scope,o,s,c;if(this._scopeTiles.some(function(n){return n.type==f})||(f=t.Scope.All),h&&f!=n)e=(n==t.Scope.All||n==t.Scope.PathCompletion?"":h.toLocaleLowerCase()+": ")+u.queryToFetch,this.innerRender(n,n,u,this._topHitPresent,this._resultsPresent,!0,!1),o={query:this._currentQuery,topResults:[],groups:[]},this._page.updateTopResultsView(o),this._page.updateGroupsView(o);else{if(f==t.Scope.All||this._allScopeButtonPresent){this._page.ensureWebViewHeightExpanded();this.setFocusInSearchBox("scope clickHandler noop");return}e=u.queryToFetch;n=t.Scope.All;this.innerRender(n,n,u,this._topHitPresent,this._resultsPresent,!0,!1)}s=t.Scope[n];c={Scope:s,Source:i,GroupSource:r&&r.source?r.source.toString():undefined};this._instHelper.logClientInstEvent("Select","ScopeChanged",null,c);f!=n&&this._host.reformulate(e,undefined,undefined,r);this.setFocusInSearchBox("scope clickHandler "+s)},h.prototype.setFocusInSearchBox=function(t){this._host.setFocusInSearchBox(null,t);var i=n.getCurrentActiveElement();i&&i.blur()},h.prototype.isScopeElement=function(t){return t&&this._scopeTiles&&(this.isScopeButton(t.id)||n.contains(this._scopeTiles,t))},h.prototype.isMenuElement=function(n){return n&&this.isMenuButton(n.id)},h.prototype.isScopeButton=function(n){return n==this._feedbackButton.id||n==this._rewardsBadgeButton.id||n==this._userProfileButton.id||this.isMenuButton(n)},h.prototype.isMenuButton=function(n){return n==this._moreButton.id||n==this._optionsButton.id},h.prototype.getSelectableItems=function(){var n=[],i;return t.RuntimeConfig.ScopesAvailable&&(n=n.concat(this.getScopeSelectableItems())),i=this._advancedOptionsScope.filter(function(n){return n.layout==0||n.layout==6}),i.length>0&&(n=n.concat(i)),n},h.prototype.getSelectableItemsByGroup=function(){var i=[],n=this.getScopeBarElements(),r,u,e,f;return t.shouldSkipSelectedScope()&&this._selectedScope==n[0]&&(n=n.slice(1)),i.push(n.slice(0,1)),r=n.findIndex(function(n){return n.selected}),r>0?i.push(n.slice(r,r+1)):t.shouldSkipSelectedScope()||(u=n.findIndex(function(n){return n.enabled}),u>0&&i.push(n.slice(u,u+1))),e=[this._moreButton,this._rewardsBadgeButton,this._userProfileButton,this._feedbackButton,this._optionsButton],e.forEach(function(n){_ge(n.id)&&i.push([n])}),f=this._advancedOptionsScope.filter(function(n){return n.layout==0||n.layout==6}),f.length>0&&i.push.apply(i,f.map(function(n){return[n]})),i},h.prototype.getScopeSelectableItems=function(){var u=this.getScopeBarElements(),i=this._currentScopeTileIndex,c=u.length,h;if(t.shouldSkipSelectedScope()&&this._selectedScope==u[0]&&(u=u.slice(1),--i,--c),i<0&&this._selectedScope&&!t.shouldSkipSelectedScope())return[this._selectedScope];if(h=n.getCurrentActiveElement(),h)switch(h.id){case f:return[this._moreButton];case r:return[this._feedbackButton];case e:return[this._optionsButton];case o:return[this._rewardsBadgeButton];case s:return[this._userProfileButton]}return(i<0||i>=c)&&(i=0),u.slice(i,i+1)},h.prototype.getSelectedItem=function(){return null},h.prototype.select=function(n){var i=[].slice.call(this._scopesHeaderElement.getElementsByClassName("scopeTile")),r=t.shouldSkipSelectedScope()?i.filter(function(n){return!n.classList.contains("selectedScope")}):i;this._currentScopeTileIndex=r.indexOf(_ge(n.id));t.shouldSkipSelectedScope()&&(this._currentScopeTileIndex=i.indexOf(r[this._currentScopeTileIndex]))},h.prototype.onAfterKeyDown=function(){return!1},h.prototype.getSubstrateUpsellClickHandler=function(n){var i=this,r=function(){i._host.refreshCurrentPane();i._host.setFocusInSearchBox(null,"SubstrateUpsell")};return function(){return i._accessTokenManager.promptAutheticateDialog(n,t.getSubstrateResourceOrScope(n),r,r)}},h.prototype.getSubstrateUpsell=function(n,i,r){var s=null,u="VerifyAccountToSearch",e=0,l="CloudSearch",a=["Verify"],o=null,h=[],f,c;if(r==0){f=t.getEffectiveScope(this._currentQuery);switch(f){case t.Scope.People:u+="Contacts";break;case t.Scope.Emails:u+="Emails";break;case t.Scope.Documents:u+="Documents";e=1;s={content:"&#xE9BE",type:2,needsAccentColor:!0};o=this._substrateUpsellDismiss}t.config.accountVerifyMessage&&(e=6,c=this._accessTokenManager?this._accessTokenManager.getCachedAccountInfo(n):null,c&&h.push(c.accountUserName),(f==t.Scope.People||f==t.Scope.Emails||f==t.Scope.Documents)&&(h.length>0&&(u="VerifyAccount"),o=this._substrateUpsellDismiss));l=""}else r==2&&(u=null,e=2,s={content:"&#xE9BE",type:2,needsAccentColor:!0},o=this._substrateUpsellDismiss,a=["VerifyAccountToSearch"]);return this.createAdvancedOption(n==1?"COFA":"COOA",i,l,u,a,this.getSubstrateUpsellClickHandler(n),e,o,s,null,h,"VerifyButton")},h.prototype.getOneDriveUpsell=function(n){var t=this;return this.createAdvancedOption("SDSC",n,null,null,["SeeResultsFromOneDrive"],function(){t._host.launchCortanaSignIn()},2,null,{content:"&#xE9BE",type:2,needsAccentColor:!1})},h.prototype.getIndexingOption=function(n){var i=this,r=t.config.controlPanelSearchSettings?function(){return i._host.launchSearchSettings()}:function(){return t.LocalDataProvider.launchIndexingOptions(i._host,!1)};return this.createAdvancedOption("OMIO",n,"",null,["OptionsMenuIndexing"],r,2,null,{type:2,content:"&#xED52"})},h.prototype.getAdvancedOptionCssClass=function(n){return n==4?"menuInfo":n==5?"menuLabel":null},h.prototype.createContextMenuGroup=function(n,t,i,r){var u=this.createAdvancedOption(n,t,null,i,null,null,5);return u.groupItems=r,u.narratorText=u.message,u},h.prototype.createBuildVersionOption=function(){var n=this._host.getLocString("Build");return{id:"advancedOption"+this._advancedOptionsIdCounter++,selected:!1,title:n,message:undefined,text:n+": "+t.config.snrVersion,instItem:undefined,click:undefined,layout:4,cssClass:this.getAdvancedOptionCssClass(4),isSelectable:!1,subItems:undefined,isExpanded:!1}},h.prototype.createCossOptInOption=function(n){var r=this,i=t.RuntimeConfig.QfMode==2?"CossOptOut":"CossOptIn";return this.createAdvancedOption(null,n,i,null,[i],function(){return r.onCossOptInOutClick()},2,null,{type:2,content:"&#xE8A7"})},h.prototype.createAdvancedOption=function(i,r,u,f,e,o,s,h,c,l,a,v){var k=this,w,y,b,p;return i&&(y=n.InstrumentedItem.getNonSuggestionInstrumentedItem(i,t.SyntheticQSCodesMaps.KValues),this._instHelper.instrumentSyntheticInstrumentedItem(r,i,y)),b="advancedOption"+this._advancedOptionsIdCounter++,l&&l.length==0&&(l=null),p={id:b,selected:!1,title:this._host.getLocString(u),message:f?(w=this._host).getLocString.apply(w,[f].concat(a)):null,text:this._host.getLocString.apply(this._host,e),instItem:y,click:undefined,layout:s,dismiss:h,icon:c,cssClass:this.getAdvancedOptionCssClass(s),isSelectable:!!o||!!l,subItems:l,buttonLabel:this._host.getLocString(v),isExpanded:!l?undefined:!1},p.click=o?function(n,t){y&&k._instHelper.instrumentItemClick(n,y,r,null,t,null);o(p)}:undefined,p},h.prototype.getAccountOptions=function(n){var u=this,r=[];if(!this._accessTokenManager)return r;var f=this._accessTokenManager.getCachedAccountInfo(0),e=this._accessTokenManager.getCachedAccountInfo(1),c=this._accessTokenManager.isMsaAvailable(),l=this._accessTokenManager.isAadAvailable(),o="menuItemWithButton focusable",s="removeHover",h="highlight",i;return(f||e)&&(i=this.createAdvancedOption(null,n,null,"ConnectedAccounts",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),f&&t.isCloudSearchEnabledMsaCache&&(i=this.createAdvancedOption(null,n,null,null,["MicrosoftAccount"],null,4),i.message=f.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),t.config.accountVerifyMessage&&!t.isSubstrateOutlookAccountConnected&&(i.cssClass+=" "+h),r.push(i),t.config.accountVerifyMessage&&!t.isSubstrateOutlookAccountConnected&&(i=this.createAdvancedOption(null,n,null,"VerifyAccountAttention",null,this.getSubstrateUpsellClickHandler(0),4),i.cssClass=s,i.icon={type:2,content:"&#xE946"},r.push(i),i=this.createAdvancedOption(null,n,null,"VerifyButton",null,this.getSubstrateUpsellClickHandler(0),2),i.cssClass=o,r.push(i))),e&&t.isCloudSearchEnabledAadCache&&(i=this.createAdvancedOption(null,n,null,null,["AadAccount"],null,4),i.message=e.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),r.push(i),t.config.accountVerifyMessage&&!t.isSubstrateO365AccountConnected&&(i.cssClass+=" "+h),t.config.accountVerifyMessage&&!t.isSubstrateO365AccountConnected&&(i=this.createAdvancedOption(null,n,null,"VerifyAccountAttention",null,this.getSubstrateUpsellClickHandler(1),4),i.cssClass=s,i.icon={type:2,content:"&#xE946"},r.push(i),i=this.createAdvancedOption(null,n,null,"VerifyButton",null,this.getSubstrateUpsellClickHandler(1),2),i.cssClass=o,r.push(i))),r.push(this.getMenuDividerOption()),i=this.createAdvancedOption(null,n,null,null,["ManageAccounts"],function(){return u._host.launchWindowsAccountSettings()},2,null,{type:2,content:"&#xE716"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),f&&(t.isCloudSearchEnabledMsaCache||!c)||(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledMsaCache?["AddMicrosoftAccount"]:["EnableMsaSearch"],t.isCloudSearchEnabledMsaCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),e&&(t.isCloudSearchEnabledAadCache||!l)||(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledAadCache?["AddAadAccount"]:["EnableAadSearch"],t.isCloudSearchEnabledAadCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),r},h.prototype.getUserProfileButtonData=function(){var i=this,r,t,n=this._accessTokenManager.getSelectedAccountInfo(),u;return n?(t=n.accountProviderAuthority=="consumers"?0:1,r=this._userProfilesCache[n.accountUserName],!r)?(u=this._substrateProfilePictureProvider.getPersonDefaultIcon(n.accountUserName),this._userProfilesCache[n.accountUserName]=u,this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(r){if(r&&r.Token){var u=i._substrateProfilePictureProvider.getProfilePictureIconForToken(t,r.Token,n.accountUserName);u&&u(1,function(t){t&&(i._userProfilesCache[n.accountUserName]=t,i.renderScopes(!0))})}},"Windows"),[u,n.accountUserName]):[r,n.accountUserName]:[null,null]},h.prototype.getAccountOptionsForUserProfileButton=function(n){var u=this,r,i,f,a,c,o,l,v;if(!this._accessTokenManager)return[];var s=this._accessTokenManager.getAllAvailableAccounts(0),h=this._accessTokenManager.getAllAvailableAccounts(1),e=s.concat(h);if(s.length+h.length==0)return[];if(r=[],f=this._accessTokenManager.getSelectedAccountInfo(),f&&(e=e.filter(function(n){return n.accountUserName!=f.accountUserName}),i=this.createAdvancedOption(null,n,null,"ConnectedAccount",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),i=this.createAdvancedOption(null,n,null,null,f.accountProviderAuthority=="consumers"?["MicrosoftAccount"]:["AadAccount"],null,4),i.message=f.accountUserName,i.cssClass=this.getAdvancedOptionCssClass(4),r.push(i)),e.length>0)for(i=this.createAdvancedOption(null,n,null,"AvailableAccounts",null,null,5),i.cssClass=this.getAdvancedOptionCssClass(5),r.push(i),a=function(t){i=c.createAdvancedOption(null,n,null,null,t.accountProviderAuthority=="consumers"?["MicrosoftAccount"]:["AadAccount"],function(){u._accessTokenManager.setSelectedAccount(t);u._host.notifyAccountSelected(t);u._menuFactory.dismiss()},0,null,{type:2,content:"&#xE77B"});i.message=t.accountUserName;i.cssClass=c.getAdvancedOptionCssClass(0);r.push(i)},c=this,o=0,l=e;o<l.length;o++)v=l[o],a(v);return r.push(this.getMenuDividerOption()),i=this.createAdvancedOption(null,n,null,null,["ManageAccounts"],function(){return u._host.launchWindowsAccountSettings()},2,null,{type:2,content:"&#xE716"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i),s.length==0&&(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledMsaCache?["AddMicrosoftAccount"]:["EnableMsaSearch"],t.isCloudSearchEnabledMsaCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),h.length==0&&(i=this.createAdvancedOption(null,n,null,null,t.isCloudSearchEnabledAadCache?["AddAadAccount"]:["EnableAadSearch"],t.isCloudSearchEnabledAadCache?function(){return u._host.launchWindowsAccountSettings()}:function(){return u._host.launchSearchPermissions()},2,null,{type:2,content:t.isCloudSearchEnabledMsaCache?"&#xE8FA":"&#xE9BE"}),i.cssClass=this.getAdvancedOptionCssClass(2),r.push(i)),r},h.prototype.getMenuDividerOption=function(){return{id:null,selected:!1,title:"",message:null,isSeparator:!0,text:"",instItem:null,click:null,layout:3,isSelectable:!1}},h.prototype.addZiCustomization=function(n,i,r){var s=this,f,l,u,h,o,c,v,y;if(r===void 0&&(r=!0),t.config.enableSearchHomeCustomization&&this._currentQuery.isSearchHomeZI&&this._currentQuery.scope==t.Scope.All){f={};for(l in this._currentQuery.availableDataSources)if(u=this._currentQuery.availableDataSources[l],u&&u.suggestionGroupToggler){if(typeof u.groupType!="number")throw new Error("missing groupType declaration for suggestionGroupToggler");f[u.groupType]||(f[u.groupType]=u.suggestionGroupToggler)}if(h=this._currentQuery.staticGroupOrder?this._currentQuery.staticGroupOrder.filter(function(n){return!!f[n]}):Object.keys(f).map(function(n){return+n}),h.length!=0){var a=[],p=function(n){var r=f[n],u=r.isHidden(),o=e.createAdvancedOption(null,i,null,null,[],function(){r.toggle(!u);s._menuFactory.dismiss();s._host.refreshCurrentPane()},2,null,null,null),h=t.getGroupTitleAndNarratorText(e._currentQuery,e._host,n,null,!1).title;o.text=e._host.getLocString(u?"ShowSomething":"HideSomething",h);a.push(o)},e=this;for(o=0,c=h;o<c.length;o++)v=c[o],p(v);y=this.createAdvancedOption(null,i,null,null,["CustomizeSearchHome"],function(n){return s._menuFactory.showSubMenu(n)},2,null,{type:2,content:"&#xE70F"},a);r&&n.push(this.getMenuDividerOption());n.push(y)}}},h.prototype.addSinglepPaneOptions=function(n,r){var e=this,o=this.getScopeBarElements(),s=this.getHiddenScopeElements(o).filter(function(n){return n.type!=t.Scope.All}).map(function(n){var t=n;return t.layout=0,t}),u,f;n.push(this.createContextMenuGroup(null,r,"MoreScopesListToolTip",s));n.push(this.getMenuDividerOption());u=[];i.authenticationManager.getAllSearchWebAccountsAsync?t.config.userProfileButtonEnabled||(f=this.getAccountOptions(r),u.push(this.createAdvancedOption(null,r,null,null,["ConnectedAccounts"],null,2,null,{type:2,content:"&#xE716"},f))):t.isCloudSearchEnabledCache&&this.addCloudSearchUpsells(u,r,2);u.push(this.getIndexingOption(r,1));this.addZiCustomization(u,r,!1);n.push(this.createContextMenuGroup(null,r,"OptionsButtonToolTip",u));this.isFeedbackEnabled()&&(n.push(this.getMenuDividerOption()),n.push(this.createAdvancedOption(null,r,null,null,["FeedbackButtonText"],function(){return e.showFeedback()},2,null,{type:2,content:"&#xE8F2"},null)))},h.prototype.getAdvancedOptions=function(n,r){var f=this,u=[],e,o;return r==1&&(i.authenticationManager.getAllSearchWebAccountsAsync&&(t.config.userProfileButtonEnabled||u.push.apply(u,this.getAccountOptions(n)),e=this.createAdvancedOption(null,n,null,null,["SearchSettings"],function(){return t.config.controlPanelSearchSettings?f._host.launchSearchPermissions():f._host.launchSearchSettings()},2,null,{type:2,content:"&#xE713"}),e.cssClass=this.getAdvancedOptionCssClass(2),u.push(e)),u.push(this.getIndexingOption(n,r)),this.addZiCustomization(u,n)),r==2&&this.addSinglepPaneOptions(u,n),r==0&&t.isCloudSearchEnabledCache&&this.addCloudSearchUpsells(u,n,r),r!=2&&t.config.troubleshootButton&&u.push(this.getMenuDividerOption()),t.config.troubleshootButton&&(r==1||r==2)&&u.push(this.createAdvancedOption(null,n,null,null,["Troubleshoot"],function(){return f._host.launchUri("https://aka.ms/fixsearch")},2,null,{type:2,content:"&#xE90F"},null)),t.config.cossOptIn&&(r==1||r==2)&&u.push(this.createCossOptInOption(n)),t.config.snrVersion&&(r==1||r==2)&&u.push(this.createBuildVersionOption()),r==4&&(o=this.createAdvancedOption(null,this._sequenceNumberReader.getSequenceNumber(),null,null,["LockScreenSettings"],function(){return f._host.launchLockscreenSettings()},2,null,{type:1,content:"&#xEE3F"}),o.cssClass=this.getAdvancedOptionCssClass(2),u.push(o)),u},h.prototype.addCloudSearchUpsells=function(i,r,u){var e=t.substrateProvidersEnabled(),f;if((u==0||u==2)&&(u!=0||!this._selectedScope||this._selectedScope.type==t.Scope.Emails||this._selectedScope.type==t.Scope.People||this._selectedScope.type==t.Scope.Documents))if(f=t.getAccountTypeForCloudContent(),e){if(this._upsellGotDismissed&&this._selectedScope&&(this._selectedScope.type==t.Scope.Documents||t.config.accountVerifyMessage&&(this._selectedScope.type==t.Scope.People||this._selectedScope.type==t.Scope.Emails))&&u==0)return;f!=1&&f!=4||t.isSubstrateO365AccountConnected||i.push(this.getSubstrateUpsell(1,r,u));f!=2&&f!=4||t.isSubstrateOutlookAccountConnected||i.push(this.getSubstrateUpsell(0,r,u))}else n.isBingEnabled()&&t.isCortanaEnabledCache&&!t.isCortanaPersonalized&&i.push(this.getOneDriveUpsell(r))},h.prototype.onCossOptInOutClick=function(){var r=this;n.safeSetTimeout(function(){t.RuntimeConfig.QfMode==2?i.disableCenterScreenAndRelaunch():i.enableCenterScreenAndRelaunch(!1);n.safeSetTimeout(function(){return r._host.reloadWebView()},0,"HeaderFooterViewModel.onCossOptInOutClick.reloadWebView")},0,"HeaderFooterViewModel.onCossOptInOutClick")},h}();t.HeaderFooterViewModel=h})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function i(n,t){var i=HitHighlightingParser.removeMarkers(n.text),r;!i.includes(t.queryToFetch)&&i.toLowerCase().startsWith(t.queryToFetch.toLowerCase())&&(r=t.queryToFetch+i.substr(t.queryToFetch.length),n.text=HitHighlightingParser.addMarkers(r,t.queryToFetch));!n.query.includes(t.queryToFetch)&&n.query.toLowerCase().startsWith(t.queryToFetch.toLowerCase())&&(n.query=t.queryToFetch+n.query.substr(t.queryToFetch.length))}function r(n,r,u,f,e,o,s,h){var l,c;if(n.actionUri=f,n.confidence=o,n.source=s,n.handoffType==4)if(l=n.query.toLowerCase()==r.queryToFetch.toLowerCase(),n.updateFromQuery=function(i){return l?(n.query=i.queryToFetch,n.text=HitHighlightingParser.addMarkers(n.query,i.queryToFetch),n.narratorText=t.getNarratorText(n),!0):!1},c=t.parseTaskFrame(e),c)n.isReformulation=!0,n.click=function(){return h.reformulate(n.query,c)};else return!1;else n.classNames.push("action"),n.click=function(){return h.launchCat1(n.query,f,e)};return n.icon={type:3},i(n,r),n.narratorText=t.getNarratorText(n),n.type!="CSK"&&(n.getMruData=function(){return{type:n.type,handoffType:n.handoffType,hc:n.hc,highConfidenceMetaSuggestionScore:n.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:n.prefetchConfidenceScore,query:n.query,textWithoutHH:HitHighlightingParser.removeMarkers(n.text),annotation:n.primaryMetadata,icon:n.getIcon?null:n.icon,actionUri:f,taskFrame:e,confidence:o,source:s,suggestionKey:t.getSuggestionKey(n)}}),!0}function o(n,r,u,e,o,s,h,c,l,a,v,y){if(n.isAnswer=!0,n.htmlContent=e&&e.Content?e.Content.HTML:null,n.baseSearchUrl=h,n.segments=c,n.htmlContent){var p=JsonInject.GetResourceKeys([e]);p&&(n.executeScript=function(){return JsonInject.WriteAfterContentResources(JsonInject.FilterResources(a,p))})}s&&(n.secondaryIcon={content:s,type:0});n.text.includes(HitHighlightingParser.startMarker)||(n.text=HitHighlightingParser.addMarkers(n.text,r.queryToFetch));n.htmlContent||o&&(n.primaryMetadata=o,n.additionalInfoText=" - "+o);n.handoffType==10?(n.classNames.push("action"),i(n,r),t.config.useCortanaLogoForAllCortanaSuggestions&&(n.icon={type:3}),n.click=function(){return v.launchCat2or3a(n.query,l)},n.allowedInGroups=!n.htmlContent):(f(n,v),n.click=function(){return v.launchSearch(n.query,y.getSearchUrl(r.fullPartialQuery,n.query,n.type,n.baseSearchUrl),!1)},n.allowedInGroups=n.secondaryIcon?!!n.additionalInfoText:!n.htmlContent);n.narratorText=t.getNarratorText(n)}function u(n,i,r,u,f){n.url=u;n.tooltip=i.isSearchHomeZI?n.text+"\n\n"+u:u+"\n\n"+HitHighlightingParser.removeMarkers(n.primaryMetadata);t.isValidIcon(n.icon)||(n.getIcon=f.getEdgeIcon);n.click=function(){return f.launchUri(u)};n.narratorText=t.getNarratorText(n,f.getLocString("DirectNavSuggestion"));n.getMruData=function(){return{type:n.type,handoffType:n.handoffType,hc:n.hc,highConfidenceMetaSuggestionScore:n.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:n.prefetchConfidenceScore,query:n.query,textWithoutHH:HitHighlightingParser.removeMarkers(n.text),title:n.primaryMetadata,icon:n.getIcon?null:n.icon,url:u,suggestionKey:t.getSuggestionKey(n)}}}function f(n,i){t.isValidIcon(n.icon)||(n.icon=n.type=="HS"?{content:"&#xE81C",type:2}:n.handoffType===13?{content:"&#xEB9F",type:2}:n.handoffType===14?{content:"&#xE714",type:1}:t.getSearchSuggestionIcon());n.primaryMetadata||n.secondaryIcon||n.htmlContent||n.additionalInfoText||(n.primaryMetadata=n.handoffType===13?i.getLocString("SearchForWebImages"):n.handoffType===14?i.getLocString("SearchForWebVideos"):t.getWebSuggestionAnnotation(i))}var e=function(){function i(n,t,i,r,u,f){this._host=n;this._instrumentationHelper=t;this._navigationHelper=i;this._temporaryMessageHandler=r;this._accessTokenManager=u;this._previousKeystrokeCache=f}return i.prototype.parse=function(n,t,i,r,u,f,e){this.parseOnlineSuggestions(n,t,r,u,f,e,i)},i.prototype.parseOnlineSuggestions=function(i,r,u,f,e,o,s){var a=this,h,l,k;if(!u){n.isDataSourceEnabled(n.WebDataSource,i)&&e(n.WebDataSource,[],null);n.isDataSourceEnabled("OSTMA",i)&&e("OSTMA",[],null);n.isDataSourceEnabled("QS",i)&&e("QS",[],null);return}u&&u.ELToken&&(this._host.setElToken(u.ELToken),u.LC==1&&this._host.sendElToken());var v=[],y=[],p=[],c=[],w=[],b=n.isDataSourceEnabled(n.WebDataSource,i);n.safeExecute(function(){for(var e,o=function(t){var o=t.Attributes,h=o.appId,f,e;if(h)return y.push(t),h.split(";").forEach(function(t){n.contains(c,t)||c.push(t)}),"continue";if(f=o.settingId,f)return p.push(t),w.push(f),"continue";b&&(e=n.safeExecute(function(){return a.parseOnlineSuggestion(i,t,r,u.Resources,s)},"parseOnlineSuggestion"),e&&v.push(e))},t=0,f=u.Suggestions;t<f.length;t++)e=f[t],o(e)},"parseOnlineSuggestions");b&&(h=null,l=null,u.RankingSignals&&(h=n.safeExecute(function(){return n.parseWebEngagementSignals(u.RankingSignals)},"parseWebEngagementSignals"),t.isL2(i)||(l=n.safeExecute(function(){return t.parseWebSuppressionSignals(u.RankingSignals,i)},"parseWebSuppressionSignals"))),this._previousKeystrokeCache&&this._previousKeystrokeCache.updateWebSignalsData(i.queryToFetch,h),k={rankingSignals:u.RankingSignals,engagementSignals:h,suppressedGroups:l,webTopResultRoutingType:u.PrefixRoutingType},e(n.WebDataSource,v,k));t.lookupById(i,"OSTMA",c,y,function(n){return n.Attributes.appId.split(";")},"QS",w,p,function(n){return n.Attributes.settingId},f,r,e,o,function(n,t,f,e){return a.parseIdLookupResponse(u,i,r,n,t,f,e)},null,null,null,null,this._instrumentationHelper,this._host)},i.prototype.parseIdLookupResponse=function(i,u,f,e,o,s,h){var c=this,l,a;if(e.Attributes.stype!="CS"||!(s.length>0)){if(s.length!=1){l=n.safeExecute(function(){return c.parseOnlineSuggestion(u,e,f,i.Resources,o)},"parseOnlineSuggestion "+o);l&&h.push(l);return}a=function(n){var i=e.Attributes;return c.compliesWithMinVersion(i.appMinVersion,n.deviceItem.version)?(n.appContext=i.appContext,c.setRankingSignals(n,e),e.Text&&i.query&&(!t.isApp(n.type)||n.appContext)&&(n.text=e.Text,n.query=i.query),e.SecondaryText&&(n.primaryMetadata=e.SecondaryText),n.handoffType==5)?r(n,u,f,i.actionUri,i.taskFrame,parseFloat(i.confidence),parseInt(i.source),c._host):!0:!1};n.safeExecute(function(){return t.parseLocalSuggestion(u,s[0],o,f,c._host,c._temporaryMessageHandler,e.Attributes.stype,c._instrumentationHelper,h,a)},"parseLocalSuggestion "+o)}},i.prototype.parseOnlineSuggestion=function(i,f,e,s,h){var d=this,c=f.Attributes,a=c.stype,y,l,v;if(c.appId&&a!="CS"||c.settingId)return null;if(y=c.isAnswer==="1"?c.url||c.vertical?n.verticalToHandoffType(c.vertical):10:c.taskFrame?c.actionUri.startsWith("action://FindMyStuff/")?4:5:a=="CS"?3:a=="MD"||a=="ML"?1:n.verticalToHandoffType(c.vertical),l=t.createSuggestion(i,f.Text,null,n.getIconFromOnlineResponse(f),a,c.query,n.InstrumentedItem.createInstrumentedItem(e,a),y,e,!1),l.primaryMetadata=f.SecondaryText,this.setRankingSignals(l,f),l.autoOpenPreviewPaneWhenOnTopHit=c.openPP==="1",c.isAnswer==="1"){if(!c.url&&!t.isCortanaEnabledCache)return null;l.signals=f.Signals;o(l,i,e,f.InstantAnswer,c.additionalInfoText,c.secondaryIconUrl,c.url,c.segments,c.taskFrame,s,this._host,this._navigationHelper);c.noHeightRestriction==="1"&&l.classNames.push("noHeightRestriction")}else if(c.taskFrame){if(!t.isCortanaEnabledCache||!r(l,i,e,c.actionUri,c.taskFrame,parseFloat(c.confidence),parseInt(c.source),this._host))return null}else if(l.type=="CS")this.setStoreSuggestionProperties(l,i,e,c);else{if(!c.url)return null;if(l.autoOpenPreviewPaneWhenOnTopHit=c.openPP==="1",l.type=="MD"||l.type=="ML")v=n.prettyPrintUrl(c.query,i.queryToFetch,!0),v!=l.query&&(l.query=v,l.text=i.queryToFetch?HitHighlightingParser.addMarkers(v,i.queryToFetch):v),l.primaryMetadata&&!l.primaryMetadata.includes(HitHighlightingParser.startMarker)&&(l.primaryMetadata=HitHighlightingParser.addMarkers(l.primaryMetadata,i.queryToFetch)),u(l,i,e,c.url,this._host);else{if(n.queryLooksLikeUrl(l.query))return null;this.setWebSearchSuggestionProperties(l,i,e,c.url)}}if(!t.isValidSuggestion(l,"parseOnlineSuggestion"))return null;var p=l.segments,w=p?p.split(","):[],b=w.some(function(i){return n.contains(t.config.relatedWebImageSupportedSegments,i)}),k=w.some(function(i){return n.contains(t.config.relatedWebVideoSupportedSegments,i)});return(f.ChildSuggestions||b||k)&&(l.calculateChildSuggestions=function(){return d.calculateRelatedSuggestions(l,i,f,h,b,k)}),l},i.prototype.setStoreSuggestionProperties=function(n,i,r,u){var e=this,f;n.icon.bgColor=u.bgColor=="transparent"?this._host.getAccentColor():u.bgColor;n.classNames.push("action");f=parseFloat(u.avgRating);n.stars=this.getStarsRating(f);n.starNarratorText=this._host.getLocString("StarRating",""+n.stars);n.catalogScore=parseFloat(u.catalogScore);n.avgRating=f;n.ratingCount=parseInt(u.ratingCount);n.packageFamilyName=u.appId;n.click=function(){return e._host.launchStorePdp(u.productId)};n.narratorText=t.getNarratorText(n)},i.prototype.getStarsRating=function(n){var t=Math.round(n*2)/2;return Math.max(0,Math.min(5,t))},i.prototype.setRankingSignals=function(n,t){var i=t.Attributes;n.hc=i.hc==="1";n.highConfidenceSuggestionScore=+i.hcs;n.highConfidenceMetaSuggestionScore=t.HighConfidenceMetaSuggestionScore;n.prefetchConfidenceScore=t.PrefetchConfidenceScore;n.suggestionLogMeta=i.lm},i.prototype.compliesWithMinVersion=function(n,t){var r,u,i,f,e;if(!n)return!0;if(!t)return!1;for(r=n.split("."),u=t.split(".");r.length>u.length;)u.push("0");for(i=0;i<r.length;++i){if(f=u[i],e=r[i],f<e)return!1;if(f>e)return!0}return!0},i.prototype.setWebSearchSuggestionProperties=function(n,i,r,u){var e=this;f(n,this._host);i.queryToFetch||(n.text=HitHighlightingParser.addMarkers(n.text));n.baseSearchUrl=u;n.click=function(){return e._host.launchSearch(n.query,e._navigationHelper.getSearchUrl(i.fullPartialQuery,n.query,n.type,n.baseSearchUrl,n.handoffType),n.useRaf)};n.narratorText=t.getNarratorText(n);n.type=="HS"&&t.setExtraVerbs(n,function(){var i=[{verb:"ManageSearchHistory",displayName:e._host.getLocString("ManageSearchHistory"),executeSync:function(){return e._host.launchPrivacyPortal()},icon:{content:"&#xE81C",type:2}}];return t.config.removeSuggUrl&&i.unshift({verb:"RemoveFromWebHistory",displayName:e._host.getLocString("RemoveFromWebHistory"),executeSync:function(){return e.removeBingHistorySuggestion(n.text)},icon:{content:"&#xE711",type:2}}),i},!0)},i.prototype.sendRemoveBingHistorySuggestionRequest=function(i,r){var u=this,f;i=HitHighlightingParser.removeMarkers(i);f=t.config.removeSuggUrl.replace("%7b0%7d",encodeURIComponent(i)).replace("%7bSID%7d",sj_cook.get("_SS","SID"));n.fetchUrlJson(f,r,null,function(t){t.success&&(u._host.refreshCurrentPane(),n.safeSetTimeout(function(){return u._temporaryMessageHandler.showTemporaryMessage(u._host.getLocString("RemoveFromWebHistoryConfirmation",i))},250,"removeBingHistorySuggestion"))})},i.prototype.removeBingHistorySuggestion=function(n){var i=this;this._accessTokenManager?this._accessTokenManager.getAccount(0,t.getBingResourceOrScope(0),!1,!0,function(t){if(t&&t.Token){var r={};r["X-Search-RPSToken"]=t.Token;i.sendRemoveBingHistorySuggestionRequest(n,r)}},t.getAuthAccountForCloudContent()):this.sendRemoveBingHistorySuggestionRequest(n,null)},i.prototype.addRelatedSuggestion=function(i,r,u,f,e,o,s){var h=t.createSuggestion(r,f,null,e,o,i?i.Query:u.query,n.InstrumentedItem.createInstrumentedItem(u.sequenceNumber,o),s,u.sequenceNumber,!1,null,null,!0);h.groupType=t.GroupType.Related;h.parent=u;h.tooltip=i?i.SecondaryText:null;h.rankingScore=i?i.RankingScore:0;h.category=i?i.Category:null;h.isAnswer=!0;this.setWebSearchSuggestionProperties(h,r,u.sequenceNumber,i?i.Url:null);h.primaryMetadata=null;t.isValidSuggestion(h,"calculateRelatedSuggestions")&&u.childSuggestions.push(h)},i.prototype.calculateRelatedSuggestions=function(t,i,r,u,f,e){var s,h,o;if(t.childSuggestions=[],r.ChildSuggestions)for(s=0,h=r.ChildSuggestions;s<h.length;s++)o=h[s],this.addRelatedSuggestion(o,i,t,o.Text,n.getIconFromOnlineResponse(o),o.Type,0);f&&this.addRelatedSuggestion(null,i,t,this._host.getLocString("Images"),null,"EIM",13);e&&this.addRelatedSuggestion(null,i,t,this._host.getLocString("Videos"),null,"EVI",14);t.childSuggestions.length>0&&this._instrumentationHelper.instrumentDataSource(t.sequenceNumber,u,t.childSuggestions,null)},i}();t.OnlineSuggestionsParser=e;t.adjustCasing=i;t.setCat1SuggestionProperties=r;t.setUrlSuggestionProperties=u})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function w(n){return n?[n]:[]}function et(n){if(n){var t=n.lastIndexOf(".");if(t>=0)return n.substring(t)}return""}function ot(t){var i=t?new Date(t):null;return n.isValidDate(i)?i:null}function st(i){if(i){var r=n.getCurrentDate();if(r.getDate()==i.getDate()&&r.getMonth()==i.getMonth()&&r.getFullYear()==i.getFullYear())return i.toLocaleTimeString(t.uiLanguageCache,{hour:"numeric",minute:"numeric"})}return null}function f(i,f,o,s,h,c){var k,v,tt,it,d,y,a,g,p,w,l,b,nt;for(c===void 0&&(c=!1),!c&&s.extensionLC&&r.hideFileExtensions&&!t.config.showFileExtn&&(k=s.extensionLC.length,v=s.query,v.toLocaleLowerCase().endsWith(s.extensionLC)&&(tt=HitHighlightingParser.addMarkers(v,f),tt.toLocaleLowerCase().endsWith(s.extensionLC)&&(s.query=v.substring(0,v.length-k),it=HitHighlightingParser.removeMarkers(s.text),v==it&&(d=s.text.toLocaleLowerCase().lastIndexOf(s.extensionLC),s.text=s.text.substring(0,d)+s.text.substr(d+k))))),s.lastModifiedDate&&(y=s.lastModifiedDate.toLocaleString(t.uiLanguageCache,{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})),a=s.path,s.tooltip=yt(s,a,y,h),s.primaryMetadata=s.sourceForGroup&&s.sourceForGroup!=1?t.getGroupSourceDisplayName(s.sourceForGroup,h):s.itemTypeDisplayName,(i.isSearchHomeZI||t.RuntimeConfig.QfMode==8)&&(s.additionalInfoText=a),s.classNames=[],s.match?(g=(pt(s.match.matchType)?h.getLocString(t.MatchType[s.match.matchType])+": ":"")+HitHighlightingParser.addMarkers(s.match.matchedText,f),s.additionalInfoText=g,s.secondaryMetadata=g,s.classNames.push("withMatchAnnotation","forceNoWrapOutsideTopResult")):y&&t.RuntimeConfig.QfMode!=5&&(s.secondaryMetadata=h.getLocString("LastModified")+": "+y),s.narratorText=t.getNarratorText(s),t.displayedInGridLayout(s.type)&&(o?s.classNames.push("bigIcon","biggerIcon"):s.classNames.push("bigIcon")),!c&&s.handoffType==2&&r.copyToClipboard&&u(s,function(){return[{verb:t.JumplistActionItemType[t.JumplistActionItemType.S_CopyFullPath],displayName:h.getLocString("CopyFullPath"),executeSync:function(){return r.copyToClipboard(s.path,"")},icon:{type:1,content:"&#xE8C8"}}]},!1),p={},a&&(w=a.lastIndexOf("/"),w<0&&(w=a.lastIndexOf("\\")),l=a.substring(0,w),l.endsWith(":")&&(l=l+"\\"),p[h.getLocString("Location")]=[{text:l,click:function(){return n.isUncOrLocalPath(l)?r.launcher.startLaunchFolder(l):s.locationUrl?r.launcher.launchUriAsync(decodeURI(s.locationUrl)):r.launcher.launchUriAsync(l)}}]),p[h.getLocString("LastModified")]=[{text:y}],b=0,nt=e;b<nt.length;b++){var rt=nt[b],ft=rt[0],et=rt[1],ut=s[et];ut&&(p[h.getLocString(t.MatchType[ft])]=[{text:ut}])}s.previewMetadata=p}function ht(n,i,r,u){var o,s;for(i.match||!r.match||i.parentFolderDisambig||(i.match=r.match,i.needsRefreshAfterDeduping=!0),o=0,s=e;o<s.length;o++){var l=s[o],h=l[1],c=r[h];c&&!i[h]&&(i[h]=c,i.needsRefreshAfterDeduping=!0)}t.RuntimeConfig.QfMode==5&&(i.needsRefreshAfterDeduping=!1);i.needsRefreshAfterDeduping&&f(n,t.getEffectiveQuery(n),t.isL2(n),i,u,!0)}function ct(n,i,u,f,e){return n?t.Promise.safeChainWithGlobalCaching("getImageWithLiveTokenAsync",function(){return r.getImageWithLiveTokenAsync(u)},function(){return e},function(n){return t.toIcon(n,"getImageWithLiveTokenAsync",i)},i,null,null,3):b(i,f)}function b(n,i){return t.Promise.safeChainWithGlobalCaching("getIconForTypeAsync",function(n){return r.queryFormulationView.deviceSearch.getIconForTypeAsync(i,t.getImageSizeValue(n))},function(n){return n+"_"+i},function(i){return t.toIcon(i,"getIconForTypeAsync",n)},n)}function k(n){return n!=null&&(n.type==3||!!n.content||!!n.className)}function o(n,t,i){i===void 0&&(i=!0);var r=n.mayContainPII;return n.text?n.query?!n.handoffType&&n.handoffType!==0?(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing handoff type")),!1):n.type?i&&!n.getIcon&&!k(n.icon)?(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing icon")),!1):!0:(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing suggestion type")),!1):(SharedLogHelper.LogError(t,r?"":n.text,new Error("Missing query")),!1):(SharedLogHelper.LogError(t,r?"":n.deviceItem?n.deviceItem.id:"",new Error("Missing text")),!1)}function u(n,i,r){var u=n.getExtraVerbs;n.getExtraVerbs=function(n){var f=u?u(n):[],e=i(n);return t.joinVerbs(f,e,r)}}function lt(n,i,r){var u=n.getExtraVerbsAsync;n.getExtraVerbsAsync=u?function(n){return ThresholdUtilities.createPromise(function(f){return u(n).then(function(u){return i(n).then(function(n){return f(t.joinVerbs(u,n,r))})})})}:i}function s(n,t){var r=n.propertyHits||[],i=r.indexOf(t);return typeof i=="object"&&i.returnValue!==undefined?i.returnValue:i>=0}function at(n){var i,t;if(n&&typeof n=="object"&&n.length){for(i="",t=0;t<n.length;t++)i+=n[t],t!=n.length-1&&(i+=", ");return i}return n}function i(t,i,r){return n.safeExecute(function(){return at(t.getProperty(i))},"get"+i,undefined,r)}function vt(n){for(var r,u,e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];for(r=0,u=e;r<u.length;r++){var f=u[r],h=f[0],o=f[1],c=f[2];if(o&&s(n,c))return t.createMatch(h,o)}return null}function yt(n,i,r,u){var f=i||"",s,h,o,c;for(n.textContentIfMatched&&(f+=(f?"\n\n":"")+n.textContentIfMatched),s=!!f,h=function(){f&&(f+="\n");s&&(f+="\n",s=!1)},r&&(h(),f+=u.getLocString("LastModified")+": "+r),o=0,c=e;o<c.length;o++){var l=c[o],v=l[0],a=l[1],y=n[a];y&&(h(),f+=u.getLocString(t.MatchType[v])+": "+n[a])}return f}function pt(n){switch(n){case t.MatchType.Author:case t.MatchType.LastModifiedBy:case t.MatchType.Tags:case t.MatchType.Genre:case t.MatchType.Album:case t.MatchType.Artist:return!0;case t.MatchType.Content:case t.MatchType.Location:return!1;default:throw new Error("Unknown match type: "+n);}}function wt(i,r,u,f,e,o,s,h,c,l,a,v,y,p,b,k,d,g,nt,tt){r&&n.isDataSourceEnabled(r,i)&&t.LocalDataProvider.getApps(u,function(t){var u,s,i,o,h;if(l()){for(nt.instrumentResponseReceived(a,r,null,0,!1),u=[],s=function(i){n.safeExecute(function(){return p(i,r,e(i).map(function(n){return t[n]}).filter(function(n){return!!n}),u)},"parseApp "+r)},i=0,o=f;i<o.length;i++)h=o[i],s(h);v(r,u,null)}},y,r,tt);o&&n.isDataSourceEnabled(o,i)&&t.LocalDataProvider.getSettings(s,function(t){var u,e,i,f,s;if(l()){for(nt.instrumentResponseReceived(a,o,null,0,!1),u=[],e=function(i){n.safeExecute(function(){return p(i,o,w(t[c(i)]),u)},"parseSetting "+r)},i=0,f=h;i<f.length;i++)s=f[i],e(s);v(o,u,null)}},y,o);b&&n.isDataSourceEnabled(b,i)&&t.LocalDataProvider.getFiles(k,function(t){var r,f,i,u,e;if(l()){for(nt.instrumentResponseReceived(a,b,null,0,!1),r=[],f=function(i){n.safeExecute(function(){return p(i,b,w(t[g(i)]),r)},"parseFile "+b)},i=0,u=d;i<u.length;i++)e=u[i],f(e);v(b,r,null)}},i,y,b)}function bt(n,i){return t.isMobileCache?null:n.id==t.EdgeAppId?i.getLocString("MicrosoftRecommendedBrowser"):i.getLocString("App")}function kt(n,i){return t.isModernSetting(n)?i.getLocString("SystemSettingsAnnotation"):i.getLocString("ControlPanelAnnotation")}function dt(i,r,u,e,o,s,h){var c=t.getAppItem(o),l,v,w,y,b,it,k,d,tt;if(c){e&&g(o,c);o.primaryMetadata=bt(c,h);o.narratorText=t.getNarratorText(o);o.tooltip=i.isSearchHomeZI?o.text:"";o.type=="IBA"&&(o.tooltip=c.id,o.path=c.id);return}if(t.isSetting(o.type)){o.primaryMetadata=kt(o.deviceItem,h);o.narratorText=t.getNarratorText(o);o.tooltip=i.isSearchHomeZI?o.text:"";return}if(o.type=="LURL"&&(c=o.deviceItem,c)){l=c.id;o.narratorText=t.getNarratorText(o,h.getLocString("DirectNavSuggestion"));o.tooltip=o.query+"\n\n"+l;o.url=l;return}if(v=t.getBrowsingHistoryItem(o),v){var l=v.url,p=n.prettyPrintUrl(l,r,!1),rt=r?HitHighlightingParser.addMarkers(p,r):p,a=v.title;a&&(o.primaryMetadata=r?HitHighlightingParser.addMarkers(a,r):a);o.text=rt;o.query=p;o.narratorText=t.getNarratorText(o,h.getLocString("DirectNavSuggestion"));o.template=1;o.tooltip=(a?a+"\n\n":"")+l;o.classNames.push("forceNoWrapOutsideTopResult");o.url=l;return}if(w=t.getFileItem(o),w){gt(i,r,u,e,s,o,w,h);return}if(o.type=="PT"||o.type=="CG"){if(y=o,o.type!="PT"&&o.deviceItem.launchArguments||(y.path=o.deviceItem.id),b=o.deviceItem,it=b.kind,it=="program"){nt(o,h);return}if(k=ni(b),k){y.itemTypeDisplayName=k;f(i,r,u,y,h);return}o.type=="CG"&&nt(o,h);return}if(o.type=="FEH"){o.narratorText=t.getNarratorText(o,h.getLocString("SearchHistorySuggestion"));r&&(o.text=HitHighlightingParser.addMarkers(o.text,r));return}if(d=t.getPowerBiItem(o),d){tt=d.modelDisplayName;o.primaryMetadata=tt;o.additionalInfoText=" - "+tt;o.narratorText=t.getNarratorText(o);return}throw new Error("Unexpected type: "+o.type);}function gt(r,u,e,o,h,c,l,a){var p,d,w,b,y,k,v,nt,tt;if(d=c.type=="LDOC"?t.resolveKnownFolderGUIDsInPath(l.id):t.indexerFilePathToRegularPath(l.id),c.path=d,c.itemTypeDisplayName=l.itemTypeDisplayName,o&&g(c,l),w=l.lastModifiedDate,n.isValidDate(w)&&(c.lastModifiedDate=w),b=l.extension,b&&(c.extensionLC=b.toLocaleLowerCase()),h!="MFF"||t.IndexerQueryGenerator){c.type=="MU"&&(c.artist=t.IndexerQueryGenerator?i(l,"System.Music.DisplayArtist",h):i(l,"System.Music.Artist",h),c.album=i(l,"System.Music.AlbumTitle",h));y=void 0;switch(h){case"MDOC":c.author=i(l,"System.Author",h);c.lastModifiedBy=i(l,"System.Document.LastAuthor",h);c.tags=i(l,"System.Keywords",h);s(l,"System.Search.Contents")&&(k=i(l,"System.Search.AutoSummary",h),k&&(p=t.tryGetTextContentMatch(k,u),c.textContentIfMatched=p[0],y=p[1]),l.propertyHits.length==1&&(c.matchedOnlyOnContent=!0));break;case"MPHO":c.tags=i(l,"System.Photo.TagViewAggregate",h);break;case"MVID":t.IndexerQueryGenerator&&(c.artist=i(l,"System.Music.DisplayArtist",h),c.genre=i(l,"System.Music.Genre",h));c.tags=i(l,"System.Keywords",h);break;case"MMUS":c.genre=i(l,"System.Music.Genre",h)}!c.text.includes(HitHighlightingParser.startMarker)&&u&&(v=void 0,nt=h!="LM"&&h!="FL",nt&&(h=="MFF"?(v=i(l,"System.Title",h),v&&!t.matchesOnPropertyHH(v,u)&&(v=undefined)):s(l,"System.Title")&&(v=i(l,"System.Title",h))),v?c.text=HitHighlightingParser.addMarkers(v,u):y?c.match=y:(tt=t.IndexerQueryGenerator?"System.Music.DisplayArtist":"System.Music.Artist",c.match=vt(l,h,[t.MatchType.Album,c.album,"System.Music.AlbumTitle"],[t.MatchType.Artist,c.artist,tt],[t.MatchType.Genre,c.genre,"System.Music.Genre"],[t.MatchType.Tags,c.tags,"System.Keywords"],[t.MatchType.Tags,c.tags,"System.Photo.TagViewAggregate"],[t.MatchType.Author,c.author,"System.Author"],[t.MatchType.LastModifiedBy,c.lastModifiedBy,"System.Document.LastAuthor"])))}f(r,u,e,c,a);ii(c,a)}function g(i,r){var u=n.safeExecute(function(){return r.getProperty("System.Link.TargetParsingPath")},"getTargetPath"),f,e,o;u&&(u=u.toLocaleLowerCase(),f=t.getKnownFolderPathLC(t.FOLDERID_Profile),f&&(e=t.getKnownFolderPathLC(t.FOLDERID_SystemX86),e&&u.startsWith(e+"\\config\\systemprofile")?u=f+u.substr(e.length+21):(o=t.getKnownFolderPathLC(t.FOLDERID_System),o&&u.startsWith(o+"\\config\\systemprofile")&&(u=f+u.substr(o.length+21)))),i.targetPathLC=u)}function ni(n){if(n.launchArguments)return null;var t=n.itemTypeDisplayName;return t&&t[0]!="."?t:null}function h(i,r){for(var o,y,h,c,a,u,l,f,v,s=[],e=0;e<i.length-1;++e)if(!t.displayedInGridLayout(i[e].type))for(o=e+1;o<i.length;++o)if(i[e].type==i[o].type&&i[e].text.toLocaleLowerCase()==i[o].text.toLocaleLowerCase()){s[e]=!0;s[o]=!0;break}if(s.length!=0)for(y=i.filter(function(n,t){return s[t]}),h=r.getLocString("InfoTextWithSource"),c=0,a=y;c<a.length;c++)if(u=a[c],u.path){if(l=u.path.lastIndexOf("\\"),l==-1)continue;if(f=u.path.slice(u.path.lastIndexOf("\\",l-1)+1,l),v=u.handoffType==2?null:u.primaryMetadata,v&&f.endsWith(":"))continue;u.type=="IBA"?(u.secondaryMetadata=u.primaryMetadata,u.primaryMetadata=f):u.primaryMetadata=u.primaryMetadata?v?n.formatString(h,[f,u.primaryMetadata]):n.formatString(h,[u.primaryMetadata,f]):f;u.additionalInfoText=n.formatString(h,[" -",f]);u.match&&(u.classNames=u.classNames.filter(function(n){return n!="withMatchAnnotation"&&n!="forceNoWrapOutsideTopResult"}));u.narratorText=t.getNarratorText(u);u.parentFolderDisambig=f}}function nt(n,i){n.primaryMetadata=i.getLocString("RunCommandPrompt");n.classNames.push("action");n.narratorText=t.getNarratorText(n)}function ti(n){return n=="EBH"}function tt(i,r,u,f,e,s,h,c,l,a){var d=t.localDataSourceMayContainPII(u),g,b,y,nt,tt,k,it;if(!h){g=r.deviceItem.kind;SharedLogHelper.LogError("parseLocalSuggestion"+u,d?"":r.deviceItem.displayName||r.deviceItem.id,new Error("Unrecognized kind: "+g));return}if(b=h=="LURL"||h=="EBH"?1:2,n.isSuggestionTypeEnabled(u,h,b,i)){var p=t.getEffectiveQuery(i),w=ti(h)?null:r.deviceItem.displayName,rt=w&&p?HitHighlightingParser.addMarkers(w,p):w,v=t.createSuggestion(i,rt,r.getIcon,r.icon,h,w,n.InstrumentedItem.createInstrumentedItem(f,h),b,f,d);v.uxHint=oi(r,p,e);r.deviceItem.isSimulated||(v.deviceItem=r.deviceItem);v.ciMetaData=r.ciMetaData;t.isApp(h)&&(v.pinnedToTaskbar=e.isPinnedToTaskbar(r.deviceItem.id));r.groupDisplayName&&(v.groupDisplayName=r.groupDisplayName);y=t.getAppItem(v);y?(v.click=function(){return e.launchAppItem(y,u,v.appContext)},t.config.maxJLcm&&ri(i,v,y,e,s,f,u,c)):v.type=="FEH"?v.click=function(){return e.submitFileExplorerTextSuggestion(v.query)}:v.type=="FD"&&t.RuntimeConfig.QfMode==5?v.click=function(){return e.submitFileExplorerFolderSuggestion(v.path)}:(nt=t.getBrowsingHistoryItem(v),nt?(tt=v.url,v.click=function(){return e.launchUri(tt)},v.getIcon=e.getEdgeIcon):v.click=function(){return e.launchDeviceItem(v.deviceItem,u)});y&&v.type!="IBA"||t.isSetting(v.type)||t.isFileOrFolder(v.type)&&v.type!="LDOC"?v.getMruData=function(){return{type:v.type,handoffType:v.handoffType,hc:v.hc,highConfidenceMetaSuggestionScore:v.highConfidenceMetaSuggestionScore,prefetchConfidenceScore:v.prefetchConfidenceScore,id:r.deviceItem.id,suggestionKey:t.getSuggestionKey(v),appContextData:v.appContext?{appContext:v.appContext,query:v.query,textWithoutHH:HitHighlightingParser.removeMarkers(v.text)}:undefined}}:(k=t.getCommandLineItem(v),k?v.hc=t.isRealCommand(v,k):h=="PBI"&&(v.hc=r.deviceItem.rankScore>900));it=t.getGroupType(v);t.shouldSetThisPcGroupSource(it,i)&&(v.sourceForGroup=1);dt(i,p,t.isL2(i),t.supportsShortcuts(u,i),v,u,e);t.RuntimeConfig.QfMode==5&&(v.additionalInfoText=undefined,v.primaryMetadata=undefined,v.secondaryMetadata=undefined);o(v,"parseLocalSuggestion "+u)&&a(v)&&l.push(v)}}function ii(n,i){u(n,function(){var r,u;return n.duplicates&&(r=n.duplicates.find(function(n){return n.handoffType==7||n.handoffType==8}),r)?(u=[],u.push({verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenInBrowser],displayName:i.getLocString("OpenInBrowser"),executeSync:function(){return i.launchUri(r.url+(r.handoffType==8?"?web=1":""))},icon:{type:1,content:"&#xE774"}}),r.locationUrl&&u.push({verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:i.getLocString("OpenFileLocationIn",t.getGroupSourceDisplayName(r.sourceForGroup,i)),executeSync:function(){return i.launchUri(r.locationUrl)},icon:{type:2,content:"&#xE838"}}),u):[]},!0)}function it(i,r){return!t.config.enableFallbackIconsForJumpLists||!p[i]?!1:n.contains(p[i],r)}function ri(n,i,r,f,e,o,s,h){var l=r.id,p=r.filePath,v=t.config.enableJumplistRestrictions&&ut[l],b,w;if(!v&&p&&t.config.enableJumplistRestrictions){b=p.toLowerCase();for(w in y)if(b.includes(w)){v=y[w];break}}v&&v.length==0||(t.RuntimeConfig.AlwaysWide||!ft.find(function(n){return n==l}))&&(i.calculateChildSuggestions=function(){return ui(n,l,p,i,r,v,f,e,o,s,h)},t.config.maxJLcm&&u(i,function(n){var u=[],o,s;return n||(i.calculateChildSuggestions&&i.calculateChildSuggestions(),!i.childSuggestions||t.RuntimeConfig.AlwaysWide&&i.previewPaneType||(o=!1,i.childSuggestions.filter(function(n){return n.type=="JL"&&!n.displayed&&n.groupType==t.GroupType.JumpListTasks}).slice(0,t.config.maxJLcm).forEach(function(n){o=!0;var t=it(i.deviceItem.id,n.groupType)?i.getIcon:c(n.jumpListItem,n.parent,!1,l),s={verb:"JumpListTask_"+l+"_"+n.text,displayName:n.text,executeSync:function(){return a(r,n,f,e)},getIcon:t};u.push(s)}),s=!1,i.childSuggestions.filter(function(n){return n.type=="JL"&&!n.displayed&&n.groupType!=t.GroupType.JumpListTasks}).slice(0,t.config.maxJLcm).forEach(function(n,t){var i,h;o&&!s&&(i={},u.push(i));s=!0;h={verb:"JumpList_"+l+"_"+t,displayName:n.text,executeSync:function(){return a(r,n,f,e)},getIcon:c(n.jumpListItem,n.parent,!0,l)};u.push(h)}))),u},!0))}function ui(i,r,u,f,e,s,v,y,p,w,b){var nt,d,ot,k,tt,ft,g,ut,et,ct;if(f.calculateChildSuggestions=null,nt=e.jumpList,nt&&nt.length!=0){for(d=u||"",ot=d.indexOf("}"),d=d.substr(ot+1),k=[],tt=0,ft=nt;tt<ft.length;tt++)if(g=ft[tt],!s||n.contains(s,g.type)){var st=l(g.type),ht=st!=t.GroupType.JumpListTasks,lt=function(u){var w;if(rt(u))return"continue";var b=it(f.deviceItem.id,l(g.type))?f.getIcon:c(u,f,ht,r),h="JL",s=t.createSuggestion(i,u.displayName,b,null,h,u.displayName,n.InstrumentedItem.createInstrumentedItem(p,h),2,f.sequenceNumber,ht,null,null,!0);s.click=function(){return a(e,s,v,y)};s.jumpListItem=u;s.groupType=st;s.groupDisplayName=g.name;s.parent=f;s.tooltip=u.description;w=d&&u.path.endsWith(d);w||(s.path=u.path);o(s,"calculateJumpListSuggestions")&&(k.push(s),fi(e,s,v,y))};for(ut=0,et=g.items;ut<et.length;ut++)ct=et[ut],lt(ct)}k.length>0&&(f.childSuggestions=f.childSuggestions?f.childSuggestions.concat(k):k,h(k,v),b.instrumentDataSource(p,w,k,null))}}function c(n,i,r,u){return function(f,e){return t.getIcon(n,u+"_"+n.path+"_"+n.displayName,"jumpList",!r,!1)(f,function(n){n?e(n):i.getIcon(f,e)})}}function rt(i){return i.displayName?!t.RuntimeConfig.AlwaysWide&&n.olderThan2Weeks(i.lastAccessed)?!0:!1:!0}function l(n){switch(n){case 0:return t.GroupType.JumpListTasks;case 1:return t.GroupType.JumpListPinned;case 2:return t.GroupType.JumpListRecent;case 3:return t.GroupType.JumpListFrequent;default:return t.GroupType.JumpListCustom}}function a(n,i,r,u){t.Promise.safeChain("launchJumpList",function(){return i.jumpListItem.launchAsync()},null,function(){i.jumpListItem.deleteAsync&&t.DialogBox?t.DialogBox.show(r.getLocString("JumpListItemUnavailableDeleteConfirmation"),[{id:null,text:r.getLocString("Cancel"),selected:!0,action:function(){return r.setFocusInSearchBox(null,"jumpListItemDialogBoxCancel")}},{id:null,text:r.getLocString("Remove"),selected:!1,action:function(){v(n,i,r,u);r.setFocusInSearchBox(null,"jumpListItemUnavailable1")}}]):(u.showTemporaryMessage(r.getLocString("JumpListItemUnavailable")),v(n,i,r,u),r.setFocusInSearchBox(null,"jumpListItemUnavailable2"))})}function v(n,i,r,u){var f=function(){return ei(i)},e;i.jumpListItem.deleteAsync?(e=i.parent.childSuggestions.length==1,t.Promise.safeChain("deleteJumpList",function(){return i.jumpListItem.deleteAsync()},function(){n.getJumpListAsync&&t.Promise.safeChain("getJumpListAsync",function(){return n.getJumpListAsync()},function(n){e&&n.some(function(n){return l(n.type)==i.groupType&&n.items.some(function(n){return!rt(n)})})?f():(r.refreshCurrentPane(),u.showTemporaryMessage(r.getLocString("RemovedFromList",i.text)))},f)},f)):f()}function fi(n,t,i,r){t.jumpListItem.deleteAsync&&u(t,function(){var u={verb:"RemoveFromThisList",displayName:i.getLocString("RemoveFromThisList"),executeSync:function(){return v(n,t,i,r)},icon:{type:2,content:"&#xE711"}};return[u]},!0)}function ei(n){var i=_ge(n.id);t.setVisibility(i,!1);n.suppressed=!0}function oi(n,t,i){if(n&&n.uxHint){var r=t?HitHighlightingParser.addMarkers(n.uxHint,t):n.uxHint;return i.getLocString("RelatedSynonym",r)}return null}var r=SearchAppWrapper.CortanaApp,ut={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[0],"Microsoft.InternetExplorer.Default":[0],Chrome:[0],"360browser":[0]},y={skype:[],outlook:[0],"360browser":[0],chrome:[0],iexplore:[0],opera:[0],firefox:[0],safari:[0]},e=[[t.MatchType.LastModifiedBy,"lastModifiedBy"],[t.MatchType.Author,"author"],[t.MatchType.Artist,"artist"],[t.MatchType.Album,"album"],[t.MatchType.Genre,"genre"],[t.MatchType.Tags,"tags"],],p={"Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge":[t.GroupType.JumpListTasks],"Microsoft.MicrosoftStickyNotes_8wekyb3d8bbwe!App":[t.GroupType.JumpListTasks],"Microsoft.XboxApp_8wekyb3d8bbwe!Microsoft.XboxApp":[t.GroupType.JumpListCustom],"com.squirrel.Teams.Teams":[t.GroupType.JumpListTasks],"Microsoft.ScreenSketch_8wekyb3d8bbwe!App":[t.GroupType.JumpListTasks]},ft=["Microsoft.Windows.Explorer",],d;t.getFileExtension=et;t.toDate=ot;t.getTodayTimeString=st;t.setFileTemplate=f;t.enrichMetadataFromDuplicate=ht;t.getOneDriveSuggestionIcon=ct;t.getIconForTypeAsync=b;t.isValidIcon=k;t.isValidSuggestion=o;t.setExtraVerbs=u;t.setExtraVerbsAsync=lt;d=function(){function i(n,t,i){this._host=n;this._instrumentationHelper=t;this._temporaryMessageHandler=i}return i.prototype.parse=function(i,r,u,f,e,o){for(var v,y,s=this,c=[],p=function(t){n.safeExecute(function(){return tt(i,t,u,r,s._host,s._temporaryMessageHandler,t.suggestionType,s._instrumentationHelper,c,function(){return!0})},"parseLocalSuggestion "+u)},l=0,a=f.suggestions;l<a.length;l++)v=a[l],p(v);(t.isFileOrFolderLocalDataSource(u)||u=="IBA")&&h(c,this._host);y={maxedOut:f.maxedOut};o(u,c,y)},i}();t.SuggestionsParser=d;t.lookupById=wt;t.decorateSuggestionsWithParentFolder=h;t.parseLocalSuggestion=tt})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){i.currentCIVersion="-1";var r=function(){function r(u,f,e,o){var s=this;(this._ariaLogger=e,this._lightweightStorage=o,f.bindShown(function(){var n=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=n?String(n.version):"-1"}),f.hasFallbackHappened())||f.bindAppHidden(function(){var a,h,o;if(n.isBingEnabled()&&n.isBrowserOnline()){var w=n.getWindowHost().toLowerCase(),nt=w=="bing.com"||w.endsWith(".bing.com"),tt=typeof ClientTestHooks=="undefined";if(!nt&&(tt||!ClientTestHooks||!ClientTestHooks.isTesthookParamSet("isTest")))return;if(a=s._lightweightStorage.getItem(r.LastCIDownloadAttemptKey),h=null,a&&(h=new Date(a)),h&&(s.getTimeDiffInMins(h)<t.config.waitBetweenCIDownloadCallsInMins?t.config.waitBetweenCIDownloadCallsInMins:0))return;o=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=String(o.version);var v=t.getCurrentLanguage(),e=t.config.ciVersion,b=u.urlResult,f=s.parseUrlResult(b),k=i.currentCIVersion,d=s.getUrlForCiCab(e,v),g=n.contains(t.config.blacklistedCiVersions,o.version)&&e<o.version,it=e==f.version&&f.errorCode!="00000000";if(e>0&&t.config.supportedCiMarkets[v]&&(v!=o.language||e>o.version||g||it)&&(!f.url||g||u.lastUrl==f.url||f.errorCode!="00000000")){var y="cis_v"+e,p="ci_v"+e,c=s._lightweightStorage.getItem(y)?parseInt(s._lightweightStorage.getItem(y)):0,l=s._lightweightStorage.getItem(p)?parseInt(s._lightweightStorage.getItem(p)):0;s._lightweightStorage.setItem(r.LastCIDownloadAttemptKey,n.getCurrentDate().toString());t.Promise.safeChain("constraintIndexDownloader.tryDownloadFromUrlAsync",function(){return u.tryDownloadFromUrlAsync(d)},function(n){if(n){var t=s.getContstraintIndexInfo(u.lastUrl);i.currentCIVersion=String(t.version);c++;s._lightweightStorage.setItem(y,c.toString())}else SharedLogHelper.LogError("constraintIndexDownloader.tryDownloadFromUrlAsync","urlResult: "+b,"Download failed");l++;s._lightweightStorage.setItem(p,l.toString());s._ariaLogger&&(f=s.parseUrlResult(u.urlResult),s._ariaLogger.logCIDownloadStatus(i.currentCIVersion==String(e)&&n,!1,f.version==1?!0:!1,String(e),k,i.currentCIVersion,c.toString(),l.toString(),f.errorCode))},function(n){s._ariaLogger&&(f=s.parseUrlResult(u.urlResult),s._ariaLogger.logCIDownloadStatus(!1,!0,f.version==1?!0:!1,String(e),k,i.currentCIVersion,c.toString(),l.toString(),f.errorCode,n.message))},null,d)}}})}return r.prototype.parseUrlResult=function(n){var r=null,t=null,u=1,i,f;return n&&(i=n.split(":0x"),i.length>1?(r=i[0],t=i[1],t!="00000000"&&SharedLogHelper.LogError("constraintIndexDownloader.urlResult",t,"Download encountered problems"),f=this.getContstraintIndexInfo(r),u=f.version):SharedLogHelper.LogError("constraintIndexDownloader.parseUrlResult","urlResult: "+n,"Invalid URL")),{url:r,version:u,errorCode:t}},r.prototype.getContstraintIndexInfo=function(n){var r=-1,u="",t,i;return n&&(t=n.split("/"),t.length>1?(i=t[t.length-1].split("."),u=i.length==2?i[0]:"",r=+t[t.length-2]):SharedLogHelper.LogError("constraintIndexDownloader.getContstraintIndexInfo","url: "+n,"Invalid URL")),{version:r,language:u}},r.prototype.getUrlForCiCab=function(n,t){return"https://www.bing.com/bcs/ci/"+n+"/"+t+".cab"},r.prototype.getTimeDiffInMins=function(t){if(!n.isValidDate(t))return 0;var i=t.getTime(),r=n.getCurrentTime();return Math.round((r-i)%864e5%36e5/6e4)},r.LastCIDownloadAttemptKey="LastCIDownloadAttempt",r}();i.ConstraintIndexDataLoader=r})(i=t.ConstraintIndex||(t.ConstraintIndex={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var r="OneDrive provider called without {0}",u=function(i){function u(n){var t=i.call(this,"MODC")||this;return t._accessTokenManager=n,t}return __extends(u,i),u.prototype.getName=function(){return"MyStuffOneDriveDataProvider"},u.prototype.getAllAccountTokens=function(i){if(t.RuntimeConfig.QfMode==5){var u=SearchAppWrapper.CortanaApp.fileExplorerSuggestionPage.currentSyncRootAccount;u?this._accessTokenManager.getAccountByUserName(!1,0,u,!1,!0,function(n){n&&n.Token?i([n.Token]):i(null,"AccountNotFound")},"Windows"):t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess?this._accessTokenManager.getAllSyncingAccounts(!1,0,!1,!0,function(n){n.length>0?i(n.map(function(n){return n.Token})):i(null,"NoAccountsFound")},"Windows"):(SharedLogHelper.LogError("MyStuffOneDriveParser","QfMode="+t.RuntimeConfig.QfMode,new Error(n.formatString(r,["currentSyncRootAccount"]))),i(null,"CurrentSyncRootAccount"))}else t.getAuthAccountForCloudContent()=="Windows"&&t.cortanaAccountType!=3&&t.getWindowsAndCortanaAccountIdentityDiff()!=1&&t.substrateProvidersEnabled()?this._accessTokenManager.getAccount(0,t.getBingResourceOrScope(0),!1,!0,function(n){n&&n.Token?i([n.Token]):i(null,"NoAccountsFound")},"Windows"):i(null)},u.prototype.getBaseUrl=function(){return t.config.myStuffOneDriveRootUrl},u.prototype.getPostBody=function(n){return n.taskFrame?n.taskFrame.raw:""},u.prototype.fetch=function(t,r,u,f,e,o,s){var l=this,h,c;n.isDataSourceEnabled(this._dataSource,t)&&(h={numOfPendingResponses:0},c=function(c){var v=Object.assign({},s),a;c&&(v["X-Search-RPSToken"]=c);a=Object.assign({},o);delete a[n.Service.QueryParams.ImpressionGuid];delete a[n.Service.QueryParams.RequestElToken];i.prototype.fetch.call(l,t,function(n,t,i,u,f){--h.numOfPendingResponses;r(n,t,i,u,f,h.numOfPendingResponses!=0)},u,f,e,a,v)},this.getAllAccountTokens(function(n,t){t?r(l._dataSource,null,t,null,null,!1):n?(h.numOfPendingResponses=n.length,n.forEach(function(n){return c(n)})):(h.numOfPendingResponses=1,c(null))}))},u}(n.JsonDataProvider),i;t.MyStuffOneDriveDataProvider=u;i=function(){function i(n){this._host=n}return i.prototype.parse=function(n,i,r,u,f,e){var o=[];u&&(u.Results?(this.addContent(n,o,u.Results.OneDriveDocuments,"FL",t.Scope.Documents,i),this.addContent(n,o,u.Results.OneDriveFolders,"FD",t.Scope.Folders,i),this.addContent(n,o,u.Results.OneDriveImages,"LI",t.Scope.Photos,i),this.addContent(n,o,u.Results.OneDriveVideos,"LV",t.Scope.Videos,i),this.addContent(n,o,u.Results.OneDriveAudio,"MU",t.Scope.Music,i)):SharedLogHelper.LogError("MyStuffOneDriveParser",null,new Error("Missing Results property")));t.decorateSuggestionsWithParentFolder(o,this._host);e("MODC",o,null)},i.prototype.addContent=function(i,r,u,f,e,o){var s=this,c,l,v,a;if(u&&n.isSuggestionTypeEnabled("MODC",f,7,i)){var h=t.Scope[e],y=function(u){var k,c,d,w,g,b;if(!u.Content)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing Content property")),{value:void 0};if(c=u.Content.OneDriveData,!c)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing OneDriveData property")),{value:void 0};if(d=c.propertyHits.length==1&&c.propertyHits[0]=="TextContent",d&&(!t.config.minLengthForContentMatch||i.queryToFetch.length<t.config.minLengthForContentMatch))return{value:void 0};if(w=c.SeeMore,!w)return SharedLogHelper.LogError("MyStuffOneDriveParser",h,new Error("Missing SeeMore property")),{value:void 0};var v=t.getEffectiveQuery(i),a=t.decodeHtml(c.Name),y=void 0;if(a.includes(HitHighlightingParser.startMarker)?y=HitHighlightingParser.removeMarkers(a):(y=a,a=HitHighlightingParser.addMarkers(y,v)),f=="FL"&&(g=c.FullPath.lastIndexOf("\\"),g!=-1)){var nt=c.FullPath.substr(g+1),tt=HitHighlightingParser.addMarkers(nt,v),rt=!tt.includes(HitHighlightingParser.startMarker)&&a.includes(HitHighlightingParser.startMarker);rt||(a=tt,y=nt)}var it=t.ScopeConfig[e].icon,ut=t.isMedia(f),ft=t.getOneDriveSuggestionIcon(ut,it,c.Thumbnail.replace(":Thumbnail",":Cropped176x176#h=176&w=176"),c.Extension,c.Id),l=t.createSuggestion(i,a,ft,it,f,y,n.InstrumentedItem.createInstrumentedItem(o,f),7,o,!0);l.url=w;l.path=c.FullPath;l.matchedOnlyOnContent=d;l.lastModifiedDate=t.toDate(c.DateModified);c.Extension&&(l.extensionLC=c.Extension.toLocaleLowerCase());b=void 0;f=="FL"&&c.TextContent&&n.contains(c.propertyHits,"TextContent")&&(k=t.tryGetTextContentMatch(c.TextContent,v),l.textContentIfMatched=k[0],b=k[1]);c.Artist&&(l.artist=HitHighlightingParser.removeMarkers(c.Artist));c.Album&&(l.album=HitHighlightingParser.removeMarkers(c.Album));a.includes(HitHighlightingParser.startMarker)||(b?l.match=b:c.Path&&n.contains(c.propertyHits,"Path")&&(l.match=t.tryGetLocationMatch(c.Path,v)));l.sourceForGroup=2;t.setFileTemplate(i,v,t.isL2(i),l,p._host);l.click=function(){return s._host.launchUri(w)};c.LocationUrl&&(l.locationUrl=c.LocationUrl,t.setExtraVerbs(l,function(){var n={verb:t.JumplistActionItemType[t.JumplistActionItemType.S_OpenFileLocationInBrowser],displayName:s._host.getLocString("OpenFileLocationIn",t.getGroupSourceDisplayName(2,s._host)),executeSync:function(){return s._host.launchUri(c.LocationUrl)},icon:{type:2,content:"&#xE838"}};return[n]},!0));t.isValidSuggestion(l,"MyStuffOneDriveParser "+h)&&r.push(l)},p=this;for(c=0,l=u;c<l.length;c++)if(v=l[c],a=y(v),typeof a=="object")return a.value}},i}();t.MyStuffOneDriveParser=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,r="AFC",u=864e5,f=t.config.activityFeedWindow||30,s=[1,7,f],e=4,h=32,c=32,l=function(){function o(n){var t=this;n.bindDismissed(function(){t._fetchContext&&(t._fetchContext.fetchInProgress=!1,t._fetchContext=null)});n.bindShown(function(){t._userActivityItemsCache=null})}return o.prototype.getName=function(){return"ActivityFeedDataProvider"},o.prototype.fetch=function(i,u,e,o,h){var l=this,c;i.enabledDataSources[r]&&(o.register(function(){l._callback=null},!1,"AFCfetch"),this._callback=u,this._userActivityItemsCache?(c=this._fetchContext&&this._fetchContext.fetchInProgress,n.invokeAsynchronously("ActivityFeedDataProvider.callback",function(){h()&&u(r,{items:l._userActivityItemsCache.slice(0)},undefined,c?3:1,undefined,c)})):this._fetchContext||(this._fetchContext={fetchInProgress:!0},this.fetchChunked(0,this.getUserActivityItemsCount(),0,t.config.chunkAFCReqs?s:[f],this._fetchContext)))},o.prototype.fetchChunked=function(t,i,r,f,e){var o=this;if(t>=i){SharedLogHelper.LogError("AFCfetchChunked",null,new Error("targetItemCount <= itemCount"));e.fetchInProgress=!1;return}var s=n.getCurrentTime(),h=new Date(s-r*u),c=new Date(s-f[0]*u);this.getUserActivityItemsWithOptionsAsync(function(n){if(e.fetchInProgress){t+=n.length;var r=t<i&&f.length>1&&f[1]>f[0];o.onChunkReceived(n,r);r?o.fetchChunked(t,i,f[0],f.slice(1),e):e.fetchInProgress=!1}},c,h,i-t)},o.prototype.onChunkReceived=function(n,t){var i;this._userActivityItemsCache||(this._userActivityItemsCache=[]);(i=this._userActivityItemsCache).push.apply(i,n);this._callback&&this._callback(r,{items:n},undefined,undefined,undefined,t)},o.prototype.getUserActivityItemsWithOptionsAsync=function(r,u,f,e){var s=i.userActivityForWebHelper,o;n.safeExecute(function(){o=s.createActivityQueryOptions();o.endTime=f;o.startTime=u;o.collapseOnActivityId=!0;o.activitySortAggregationType=4;o.activitySortByProperty="System.ActivityHistory.EndTime";o.activitySortOrder=0},"createActivityQueryOptions",undefined,undefined,function(){return o=null});o?t.Promise.safeChain("getUserActivityItemsWithOptionsAsync",function(){return s.getUserActivityItemsWithOptionsAsync(e,!!t.config.filterActivitiesToActivatableItems,o)},r,function(){return r([])}):r([])},o.prototype.getUserActivityItemsCount=function(){var n=i.textScaleFactor||1;return t.RuntimeConfig.AlwaysWide&&n==1?e:e-1},o}(),o;t.ActivityFeedDataProvider=l;o=function(){function r(n){var t=this;this._host=n;this._getEdgeIcon=n.getEdgeIcon;n.bindShown(function(){t._isInternetConnectionMetered=n.isInternetConnectionMetered()})}return r.prototype.parse=function(n,r,u,f,e,o,s){var c=this,h,l;t.config.backplateAllIconsInZI?this.innerParse(n,r,u,f,e,o,s):(h={},f.items.forEach(function(n){n&&n.appId&&(h[n.appId]=n.appId)}),l=Object.keys(h),t.Promise.safeChain("ActivityFeedSuggestionsParser parse",function(){return i.queryFormulationView.deviceSearch.findAppsAsync(l)},function(t){return c.innerParse(n,r,u,f,e,o,s,t)},function(){return c.innerParse(n,r,u,f,e,o,s)},s))},r.prototype.innerParse=function(i,r,u,f,e,o,s,h){for(var y,a=[],p=function(f){var y=!h||h[f.appId]&&h[f.appId].isImmersive,o=c.getGetIcon(f,y),s=c.getIcon(f,o),l="AFC",e=t.createSuggestion(i,f.activityDisplayText,s?undefined:o,s,l,f.activityDisplayText,n.InstrumentedItem.createInstrumentedItem(r,l),18,r,t.localDataSourceMayContainPII(u),f.id,function(){return f.launchActivity()}),v;e.additionalInfoText=f.description||f.contentUri;e.tooltip=f.activityDisplayText;e.additionalInfoText&&(e.tooltip+="\n\n"+e.additionalInfoText);f.deleteActivityAsync&&t.config.deleteActivity&&(v={verb:"RemoveFromActivityFeed",displayName:c._host.getLocString("RemoveFromActivityFeed"),executeSync:function(){return f.deleteActivityAsync()},icon:{content:"&#xE711",type:2}},n.WSB.setExtraVerbs(e,function(){return[v]},!1));a.push(e)},c=this,l=0,v=f.items;l<v.length;l++)y=v[l],p(y);o(u,a,undefined)},r.prototype.getIcon=function(n,t){return n.appImageUri&&!this._isInternetConnectionMetered?{content:n.appImageUri,type:0,canFail:!0,isValidSize:function(n,t){return n>=h&&t>=c},getFallbackIcon:t}:undefined},r.prototype.getGetIcon=function(n,i){return n.appId==t.EdgeAppId?this._getEdgeIcon:t.Promise.safeChainWithGlobalCaching("activityFeedClientIcon",function(r){return n.getActivityAppLogoAsync(t.getImageSizeValue(r)).then(function(r){return t.toIcon(r,"activityFeedClientIcon toIcon",null,i?n.logoBackgroundColor:undefined)})},function(i){return n.id+"_"+t.getImageSizeValue(i)+"px"})},r}();t.ActivityFeedSuggestionsParser=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function t(t){var i=this;t.bindQueryChangedOrInitialized(function(){(!n.config.keepLastKeystrokeCache||i._currentWebSignals)&&(i._previousWebSignals=i._currentWebSignals,i._currentWebSignals=null);(!n.config.enableCISpeller||i._currentSpellerTrigger)&&(i._previousSpellerTrigger=i._currentSpellerTrigger,i._currentSpellerTrigger=null)});t.bindConversationStart(function(){i._previousWebSignals=null;i._currentWebSignals=null;i._previousSpellerTrigger=null;i._currentSpellerTrigger=null;i._previousBestMatchSuggestion=null;i._previousQuery=null})}return t.prototype.setPreviousQuery=function(n){this._previousQuery=n},t.prototype.getPreviousQuery=function(){return this._previousQuery||""},t.prototype.updateWebSignalsData=function(n,t){this._currentWebSignals={query:n,signals:t}},t.prototype.setPreviousTopHit=function(n){this._previousBestMatchSuggestion=n},t.prototype.getPreviousTopHit=function(){return this._previousBestMatchSuggestion},t.prototype.updateSpellerTriggerData=function(n,t){this._currentSpellerTrigger={query:n,triggerSpeller:this.triggerSpellerOnTheNextKeyStroke(t,n)}},t.prototype.getPreviousEventWebSignalsData=function(n){return this._previousWebSignals&&this.isPreviousEventQuery(this._previousWebSignals.query,n)?this._previousWebSignals.signals:null},t.prototype.disableCISpeller=function(n){return this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.isPossibleFirstMisspelling(n,this._previousSpellerTrigger.query)?!0:!1},t.prototype.enableCISpeller=function(t){return n.config.enableCISpeller?this._previousSpellerTrigger&&this._previousSpellerTrigger.triggerSpeller&&this.disableCISpeller(t)?!1:this._previousSpellerTrigger&&this.isPossibleFirstMisspelling(this._previousSpellerTrigger.query,t)?!0:this._previousSpellerTrigger&&(this.isTypedEventQuery(this._previousSpellerTrigger.query,t)||this.isBackspaceEventQuery(this._previousSpellerTrigger.query,t))&&this._previousSpellerTrigger.triggerSpeller:this._previousSpellerTrigger&&this.isPreviousEventQuery(this._previousSpellerTrigger.query,t)&&this._previousSpellerTrigger.triggerSpeller},t.prototype.triggerSpellerOnTheNextKeyStroke=function(t,i){return n.config.enableCISpeller==1?!0:t.every(function(n){return n.notAResult})?!0:t.length>0&&this.isWebSpellCorrectedSuggestion(t[0])&&t.every(function(n){return n.handoffType==0})?!0:n.config.enableCISpeller==2&&!t.some(function(t){return n.isApp(t.type)||n.isSetting(t.type)})?!0:this.enableCISpeller(i)?!0:!1},t.prototype.isWebSpellCorrectedSuggestion=function(n){return n.type=="SC"||n.type=="OS"},t.prototype.isPreviousEventQuery=function(n,t){return n&&t&&n.length==t.length-1&&t.startsWith(n)},t.prototype.isBackspaceEventQuery=function(n,t){return n&&t&&n.length==t.length+1&&n.startsWith(t)},t.prototype.isTypedEventQuery=function(n,t){return(n||n==="")&&t&&n.length<t.length&&t.startsWith(n)},t.prototype.isPossibleFirstMisspelling=function(t,i){if(n.config.firstMisspellingOnMatchedQuery&&this._previousBestMatchSuggestion){var r=this._previousBestMatchSuggestion.ciMatchedQuery||this._previousBestMatchSuggestion.query;return r.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!r.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1}return this._previousBestMatchSuggestion&&this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())&&!this._previousBestMatchSuggestion.query.toLocaleLowerCase().startsWith(i.toLocaleLowerCase())&&this.isTypedEventQuery(t,i)&&i.length>=n.config.enableCISpellerAtPrefixLength?!0:!1},t}();t.PreviousKeystrokeCache=i})(t=n.Cache||(n.Cache={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(t){function c(n,t){e=n;var s=_ge("dialogBox");s&&(sj_be(s,"click",function(n){var r=n.target.id,t=i.filter(function(n){return n.id==r}).shift();t?(t.action&&t.action(),u()):r=="dialog_overlay"&&u();sj_sp(n)},!0),t.bindKeyDown(function(n){var e,o,t,s,u,i;if(r){e=void 0;switch(n){case 39:for(t=f(),o=!1,u=0,i=void 0;i=t[u];u++)if(o){e=i;break}else if(o=i.selected==!0,o&&u+1==t.length){e=t[0];break}break;case 37:for(t=f(),s=void 0,u=0,i=void 0;i=t[u];u++){if(i.selected==!0){e=s?s:t[t.length-1];break}s=i}}e&&h(e)}}),t.bindKeyEscape(function(n){o()&&(u(),n.handled=!0)}))}function l(t,u){var f,o;if(i=[],u.length==0)throw new Error("DialogBox: Empty buttons array");i=u.map(function(n,t){var i=n;return i.id="dialog_b"+t,i.narratorText=i.text,i.selected&&(f=i.id),i});o={isVisible:!0,messageText:t,buttons:i};e.updateDialogBox(o);f&&n.safeSetTimeout(function(){return _ge(f).focus()},0,"DialogBox.show");r=!0}function u(){if(r)e.updateDialogBox({isVisible:!1}),r=!1}function o(){return r}function f(){return i}function a(){return f().map(function(n){return[n]})}function s(){return f().filter(function(n){return n.selected}).shift()}function h(n){for(var r,t=0,u=i;t<u.length;t++)r=u[t],r.selected=r.id==n.id,r.selected&&_ge(n.id).focus()}function v(){if(o()){var n=s();n&&(n.action&&n.action(),u())}}function y(){return!1}var i=[],e,r=!1;t.init=c;t.show=l;t.hide=u;t.isVisible=o;t.getSelectableItems=f;t.getSelectableItemsByGroup=a;t.getSelectedItem=s;t.select=h;t.submit=v;t.onAfterKeyDown=y})(i=t.DialogBox||(t.DialogBox={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function l(n){return n.includes("form=vsranf")}function a(t){var i=n.tryParseUrl(t,!0);return!!i&&/[\?\&]q=/i.test(i.parameters)&&!/[\?\&]view=detail/i.test(i.parameters)}function vt(t){var i=n.tryParseUrl(t,!0);return!!i&&at.test(i.parameters)}function yt(n){switch(n){case 17:case 1:case 0:return 1;case 13:return 2;case 14:return 3;default:throw Error("Unsupported handoff type: "+n);}}function v(n){switch(n){case 1:return 1;case 2:return 7;case 3:return 8;default:throw Error("Unsupported vertical: "+n);}}function y(t){var i=n.tryGetBingPathLC(t);return i?n.contains(ct,i)?2:n.contains(lt,i)?3:n.contains(n.WebSearchPaths,i)?1:null:null}var s=t.PreviewPaneWidth-24,w="miniserp_focus",b="disableOutline",r=2,k=["tab-active","slide"],d=["aria-expanded"],g="videoPreview",nt=300,f=30,tt="IsSearchAppXYFocusEnabled",it="WinJS",rt="dFocusExit",i="win-xyfocus-suspended",h="MiniSerpContentLoaded",ut="Rewards.ReportActivity.Success",ft="Rewards.ReportActivity.Failure",p,o;t.MiniSerpFetchEvent="miniSERP.Fetch";var et=["/account/","/settings.aspx"],u=function(){var n={};return n[37]="left",n[39]="right",n[38]="up",n[40]="down",n}(),ot=1e4,c=800,st=100,ht=["&form=s00037&"],ct=["/images/search","/images"],lt=["/videos/search","/videos"],at=/[\?\&]FORM=HDRSC[1-3]/i,e="ClientInst";p=function(){function i(i,r,f,e,o,s,c){var l=this;this._page=i;this._host=r;this._navigationHelper=f;this._instrumentationHelper=e;this._sequenceNumberManager=o;this._msRewardsViewModel=s;this._latencyInstrumentation=c;this._deviceScale=1;this._previewRequestId=0;this._previousURLs=[];this.blockedMiniSERPUrls=[_w.location.origin+_w.location.pathname];this._root=_ge("qfPreviewPane");this._seeAllResults=_ge("seeAllResults");this._footer=_ge("footer");this._mask=_ge("previewMask");this._forceLoadScreen=_ge("forceLoadMessage");this._contentContainer=_ge("previewContainer");this._scrollArea=_ge("qfPreviewScrollArea");this._loadingScreen=_ge("loadingScreen");sj_be(this._scrollArea,"scroll",function(t){l._iframe&&n.contains([2,3],l._currentVertical)&&l._iframe.contentWindow.dispatchEvent(new Event(t.type,t));l._calculateIFrameHeight&&l._calculateIFrameHeight()});this._footer&&sj_be(this._footer,"keydown",function(i){l._iframe&&n.isUpOrDownKey(i.keyCode)?(i.keyCode==38?l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocusToEdgeFocusableElement(1)}):t.RuntimeConfig.AllowKeyboardNavCycling&&l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocusToEdgeFocusableElement(0)}),sj_pd(i),sj_sp(i)):i.keyCode==13&&l._footer.click()});this._mask&&t.RuntimeConfig.MiniSERPMode!=0&&sj_be(this._mask,"keydown",function(n){n.keyCode==13&&l._mask.click()});sj_be(_w,"message",function(n){var r=n.data?n.data.msWinJSXYFocusControlMessage:null,i,f;r&&r.type==rt&&(i=r.direction,f=r.keyCode,l._focusHelper&&!l._focusHelper.isL2Visible()&&l._focusHelper.getXYFocusRoot()!=l._originalMiniSerpXYFocusRoot?(l._focusHelper.setXYFocusRoot(l._originalMiniSerpXYFocusRoot),l.tryExecuteFocusOnMiniSerp(function(){return l._focusHelper.moveFocus(i,f)})):(i!=u[t.getRtlAdjustedKey(39)]&&n.source.blur(),i==u[40]||i==u[38]&&t.RuntimeConfig.AllowKeyboardNavCycling?l._footer?l._footer.focus():l._focusHelper.moveFocusToEdgeFocusableElement(i==u[38]?1:0):i!=u[t.getRtlAdjustedKey(37)]||l._host.searchBoxHasFocus()||l._host.setFocusInSearchBox(f,"previewPaneUnfocus")))});r.bindShown(function(){ThresholdUtilities.getCortanaHeaders(function(n){n&&n["X-BM-DeviceScale"]&&(l._deviceScale=+n["X-BM-DeviceScale"]/100)});l.setVertical(1)});r.bindAppHidden(function(){l._seeAllResults&&(l._seeAllResults.innerText="");l._currentVertical=null});r.bindSearchBoxGotFocus(function(){l._focusHelper&&l._focusHelper.onSearchBoxFocusChanged()});sj_evt.bind(h,function(){l._onIFrameLoadedCallback&&(l._onIFrameLoadedCallback(),l._onIFrameLoadedCallback=null)});this._msRewardsViewModel&&(sj_evt.bind(ut,function(n){var t=n[1];l._msRewardsViewModel.notifyPointsRewarded(t)}),sj_evt.bind(ft,function(n){var t=n[1];SharedLogHelper.LogError("RewardsReportActivityFailureEvent",null,t?new Error(t):null)}))}return i.prototype.init=function(n){this._previewPaneViewModelParent=n},i.prototype.finalizeKeystroke=function(){},i.prototype.getSelectableItems=function(){return[]},i.prototype.getSelectableItemsByGroup=function(){return[]},i.prototype.getSelectedItem=function(){return null},i.prototype.select=function(){},i.prototype.onAfterKeyDown=function(){return!1},i.prototype.clear=function(){this._previewedSuggestion=null;this._previewedQuery=null;this._onPreviewPaneRendered=null;this._footer&&(t.setVisibility(this._footer,!1),this._footer.onclick=null);this._mask&&(t.setVisibility(this._mask,!1),this._mask.onclick=null);this._forceLoadScreen&&this.clearForceLoadPage();this.clearContent();this._previousURLs=[]},i.prototype.showForceLoad=function(n,i){var r=this;this._instrumentationHelper.logClientInstEvent("Select","ForceLoadOpened",this._sequenceNumberManager.getSequenceNumber(),{suggestionText:n});this.stopLoadingScreen();t.setVisibility(this._scrollArea,!1);t.setVisibility(this._footer,!1);t.setVisibility(this._mask,!1);t.setVisibility(this._forceLoadScreen,!0);this.formatForceLoadPage(n);this._forceLoadScreen.onclick=function(){r.clearForceLoadPage();r.startLoadingScreen();i()}},i.prototype.clearForceLoadPage=function(){for(t.setVisibility(this._forceLoadScreen,!1),t.setVisibility(this._scrollArea,!0),this._forceLoadScreen.onclick=null,this._forceLoadScreen.classList.remove("forceLoadContainer");this._forceLoadScreen.hasChildNodes();)this._forceLoadScreen.removeChild(this._forceLoadScreen.lastChild)},i.prototype.formatForceLoadPage=function(n){var s=this._host.getLocString("ForceLoadMessage"),h=this._host.getLocString("ForceLoadButton"),e=s.split("{0}"),o=sj_ce("div","","accentColor"),r,i,u,f,t;this._forceLoadScreen.appendChild(o);r=_d.createElement("span");r.id="forceLoadIcon";r.innerHTML="&#xE721";o.appendChild(r);i=sj_ce("div","forceLoadQueryText","");i.appendChild(_d.createTextNode(e[0]));u=_d.createElement("span");u.textContent=n;i.appendChild(u);i.appendChild(_d.createTextNode(e[1]));this._forceLoadScreen.appendChild(i);f=sj_ce("div","","");this._forceLoadScreen.appendChild(f);t=_d.createElement("button");t.className="c-button";t.id="forceLoadSubmit";t.type="submit";t.textContent=h;f.appendChild(t)},i.prototype.startLoadingScreen=function(){t.setVisibility(this._scrollArea,!1);t.setVisibility(this._footer,!1);t.setVisibility(this._mask,!1);t.setVisibility(this._loadingScreen,!0)},i.prototype.stopLoadingScreen=function(){t.setVisibility(this._loadingScreen,!1);t.setVisibility(this._scrollArea,!0)},i.prototype.clearContent=function(){for(this._previewRequestId+=1,this._focusHelper=null,this._onIFrameLoadedCallback=null;this._contentContainer.hasChildNodes();)this._contentContainer.removeChild(this._contentContainer.lastChild);this._contentContainer.classList.remove("miniSerpContainer");this._contentContainer.classList.remove("errorMessageContainer");this._iframe&&(this._iframe=null,this._calculateIFrameHeight=null);this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)},i.prototype.hasFocus=function(){if(this._host.searchBoxHasFocus())return!1;var t=n.getCurrentActiveElement();return t&&t!=this._iframe&&this._root.contains(t)},i.prototype.focus=function(){var t=this,n;this.hasFocus()||(this._iframe?(n=this.tryExecuteFocusOnMiniSerp(function(){return t._focusHelper.moveFocusToLastFocusedElement()}),n?this._host.setFocusInWebView("miniserp focus"):this._host.setFocusInSearchBox(null,"MiniSERP VM Focus failed")):this._previewPaneViewModelParent.focusPending=!0)},i.prototype.readyToBlur=function(){return!0},i.prototype.blur=function(){},i.prototype.setVertical=function(n){if(n!=this._currentVertical){if(this._seeAllResults)switch(n){case 1:this._seeAllResults.innerText=t.config.miniSerpPreview?this._host.getLocString("SeeResultsBrowser"):t.config.wsbTransferText?this._host.getLocString("OpenResultsBrowser"):this._host.getLocString("SeeAllResults");break;case 2:this._seeAllResults.innerText=this._host.getLocString("SeeAllImageResults");break;case 3:this._seeAllResults.innerText=this._host.getLocString("SeeAllVideoResults");break;default:throw new Error("Unsupported vertical type: "+n);}this._currentVertical=n}},i.prototype.update=function(i,r,u,f,e){var o=this,s,l,h,v,a,p;if(this._previewedSuggestion=i,this._previewedQuery=r,this._onPreviewPaneRendered=e,s=i.type=="MB"&&i.segments=="Organization"?null:i.baseSearchUrl,l=yt(i.handoffType),this.setVertical(l),this._footer&&(this._footer.onclick=function(t){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(t),3);o._host.launchSearch(i.query,o._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),this._mask&&(this._mask.onclick=function(t){o._previewPaneViewModelParent.onBeforeItemLaunch(n.getCurrentTime(),n.getInputType(t),3);o._host.launchSearch(i.query,o._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType),!1);o._previewPaneViewModelParent.onAfterItemLaunch(3)}),h=l==2&&r.overrideAction==1,t.config.th&&ClientTestHooks.isTesthookParamSet("noSerp")){this.renderIframe(null,"<html><body><\/body><\/html>",{},undefined,h);v=n.getCurrentTime();this._previewPaneViewModelParent.onResponseReceived(v);return}var y=u==0,w=t.RuntimeConfig.QfMode==6?undefined:y?"WMSRPA":"WMSRPM",c=h?this._navigationHelper.getImageSearchUrl(t.config.enableSnipSearchV2):this._navigationHelper.getSearchUrl(r.fullPartialQuery,i.query,i.type,s,i.handoffType,w,!0,null,y);c+="&qfig="+this._instrumentationHelper.getImpressionGuid(this._sequenceNumberManager.getSequenceNumber());this._msRewardsViewModel&&this._msRewardsViewModel.isRewardsEnabled()&&(c+="&rewards=1");this._previousURLs=[];h?(a=function(){return o.renderErrorMessage(i.query)},p=r.overrideActionHandlerAsync,p(function(n){n?o.downloadAndDisplayMiniSerp(i,c,n,u,i.previewCallback):(o.miniSerpErrorInstrumentation("notHaveMultipartBody"),a())},function(){o.miniSerpErrorInstrumentation("bingImageSearchActionFailed");a()})):this.downloadAndDisplayMiniSerp(i,c,null,u,i.previewCallback)},i.prototype.miniSerpErrorInstrumentation=function(n,t,i){var r;r=i?{ErrorCause:n,ResponseRecievedTimeStamp:t.toString(),ResponseText:i.responseText,ContentType:i.contentType,ResponseStatusCode:i.status.toString(),RequestStatusCode:i.result.toString()}:{ErrorCause:n};this._instrumentationHelper.logClientInstEvent(e,"MiniSERPError",this._sequenceNumberManager.getSequenceNumber(),r)},i.prototype.renderErrorMessage=function(n){var t=this._host.getLocString("PreviewPaneErrorMessage"),i=t.split("{0}"),r={fullPartialQuery:n,textParts:i};this._page.updatePreviewErrorMessageView(r)},i.prototype.downloadAndDisplayMiniSerp=function(i,r,u,f,e){var h=this,c=!1,l,a,v,y,p,o;t.config.th&&(l=ClientTestHooks.getUrlValue("client"),c=l&&l.toLowerCase()=="windows",a=ClientTestHooks.getUrlValue("previewPaneUrlOverride"),r=a?decodeURIComponent(a):ClientTestHooks.CopyTestParameters(_w.location.search,r),c&&(r=ThresholdUtilities.setUrlParameter(r,"client","windowsMiniSerp")),v=ClientTestHooks.getUrlValue("miniSerpBag"),v&&(r=ThresholdUtilities.setUrlParameter(r,"bag",v)),y=ClientTestHooks.getUrlValue("dummyref"),y&&(r=ThresholdUtilities.setUrlParameter(r,"dummyref",y)));p=f==0;sj_evt.fire(t.MiniSerpFetchEvent,i,p);o=this._host.getCustomHeaders(null);o["X-BM-DeviceDimensionsLogical"]=s+"x"+this._root.clientHeight;o["X-BM-DeviceDimensions"]=String(Math.round(s*this._deviceScale))+"x"+this._root.clientHeight;c||(o["User-Agent"]=navigator.userAgent+" RestrictedAPI");u&&(o["Content-Type"]=u.contentType);(p||t.config.miniSerpStrictv2)&&(o["X-Search-SafeSearch"]="Strict");var w=++this._previewRequestId,b=n.getCurrentTime(),k=function(t){var f=n.getCurrentTime();h._previewPaneViewModelParent.onResponseReceived(f);t.status==200&&t.responseText?(h._latencyInstrumentation&&h._latencyInstrumentation.logMiniSERPRequestLatency(f-b),h._previousURLs.push(r),h.renderIframe(r,t.responseText,o,c,!!u,e)):(h.miniSerpErrorInstrumentation("renderErrorMessage",f,t),h.renderErrorMessage(i.query))};this.fetchMiniSerpUrl(r,u?u.data:null,o,k,w,u?0:t.config.miniSERPRequestRetries)},i.prototype.fetchMiniSerpUrl=function(i,r,u,f,o,s){var h=this,c=f;s>0&&(c=function(n){if(n.result==0&&n.responseText)f(n);else{var r={Url:i,StatusCode:n.status.toString(),Timeout:t.config.miniSERPRequestTimeout.toString(),RetriesRemaining:s.toString()};h._instrumentationHelper.logClientInstEvent(e,"MiniSERPRefetch",h._sequenceNumberManager.getSequenceNumber(),r);h.fetchMiniSerpUrl(i,null,u,f,o,s-1)}});n.fetchUrl(i,u,r,c,null,function(){return o==h._previewRequestId},!0,r?undefined:t.config.miniSERPRequestTimeout)},i.prototype.renderIframe=function(i,r,u,f,e,o){var s=this;this.clearContent();this._iframe=sj_ce("iframe","miniIframeSerp");this._iframe.setAttribute("scrolling","no");this._contentContainer.classList.add("miniSerpContainer");this._contentContainer.appendChild(this._iframe);var l=this._iframe.contentWindow,c=this._iframe.contentDocument,a=!1;this._footer&&(t.setVisibility(this._footer,!e),t.setVisibility(this._mask,!e));this.setIframeHeight(0);this._onIFrameLoadedCallback=function(){var r=c.body,e=0,t;s._calculateIFrameHeight=function(){var n=r.offsetHeight;n!=e&&n>0&&(e=s.setIframeHeight(n))};s._calculateIFrameHeight();s.overrideAjaxCalls(l,u,f);s.captureNavigationsAndSizeEvents(i,r,l,c);s._scrollArea.scrollTop=0;n.contains([2,3],s._currentVertical)&&(t={childList:!0,subtree:!0},s._mutationObserver=new MutationObserver(function(){s._calculateIFrameHeight&&s._calculateIFrameHeight()}),n.safeExecute(function(){s._currentVertical===2?s._mutationObserver.observe(c.getElementById("images"),t):s._currentVertical===3&&s._mutationObserver.observe(c.getElementById("video"),t)},"onIFrameLoadedCallback"));s._msRewardsViewModel&&s._msRewardsViewModel.isRewardsEnabled()&&l.sj_rra&&l.sj_rra(i);s._onPreviewPaneRendered&&(s._onPreviewPaneRendered(!0,!1,null),s._onPreviewPaneRendered=null)};this._iframe.onload=function(){if(a){s.tryLaunchUrl(i,l.location.href,0);return}a=!0;s.overrideAjaxCalls(l,u,f)};c.open();c.write(r);c.write("<base href='"+i+"' target='_parent' />");o&&o(this._iframe.contentWindow);c.write("<script>window.parent.sj_evt.fire('"+h+"')<\/script>");c.close()},i.prototype.setIframeHeight=function(n){return n<c&&(n=c),this._iframe.style.height=n+"px",n},i.prototype.overrideAjaxCalls=function(n,t,i){var r=this;n.sj_gx=function(){var n=sj_gx(),u=n.open;return n.open=function(f,e,o,s,h){if(r.blockedMiniSERPUrls.some(function(n){return e.startsWith(n)}))throw new Error("MiniSERP blocked URL request: iFrame URL: "+r._iframe.contentDocument.baseURI+" requestUrl: "+e);f=="GET"&&i&&(e=ThresholdUtilities.setUrlParameter(e,"client","windowsMiniSerp"));u(f,e,o,s,h);for(var c in t)n.setRequestHeader(c,t[c])},n}},i.prototype.captureNavigationsAndSizeEvents=function(i,r,u,f){var o=this,l;this._focusHelper=this.createFocusHelper(u,f);this._focusHelper&&(this._originalMiniSerpXYFocusRoot=this._focusHelper.getXYFocusRoot());this._previewPaneViewModelParent.focusPending&&(this._previewPaneViewModelParent.focusPending=!1,this.focus());this._iframe.contentWindow.overlay_onBeforeContentLoad=function(){o.setIframeHeight(ot)};this._iframe.contentWindow.overlay_onBeforeSuccess=function(n){o.setIframeHeight(n.clientHeight+st)};var s=function(){u.sj_lc=function(n){if(n)o.tryLaunchUrl(i,n,0);else{var t=o._previousURLs[o._previousURLs.length-2];o._previousURLs.splice(o._previousURLs.length-2,2);o.tryLaunchUrl(i,t,0)}};u.MiniSerp=!0;o._calculateIFrameHeight()},c=function(n){o._focusHelper.setXYFocusRoot(n);o._focusHelper.moveFocusToEdgeFocusableElement(0)},h=u.sj_evt;h?(l=["onP1","ajaxReady"],l.forEach(function(n){return h.bind(n,s)}),h.bind("l2_overlay_visible",function(n){s();var t=o._iframe.contentDocument.getElementById(n[1]);t&&(o._focusHelper.setIsL2Visible(!0),c(t))}),h.bind("l2_overlay_hidden",function(){s();o._focusHelper.setIsL2Visible(!1);c(o._iframe.contentDocument.body)})):s();u.open=function(n){return o.tryLaunchUrl(i,n,0),null};r.onclick=function(r){var u=r.target;if(u){if(u.id=="miniSERPToWeb"){o._instrumentationHelper.logClientInstEvent(e,"AdultExplicitLoad",o._sequenceNumberManager.getSequenceNumber(),{url:i,query:o._previewedSuggestion.query});t.config.miniSerpStrictv2?o._footer.click():(o.clearContent(),o.startLoadingScreen(),o.update(o._previewedSuggestion,o._previewedQuery,2,0,null));return}while(u&&!u.href)u=u.parentNode}u&&o.tryLaunchUrl(i,u.href,n.getInputType(r))==0&&r.preventDefault()}},i.prototype.navigateInPlace=function(n,t,i,r){var u=this,f=v(r),e,o;this._previewPaneViewModelParent.onBeforeItemLaunch(t,i,f);this._footer&&(this._footer.onclick=function(){return u._host.launchSearch(null,u.enrichBingSearchUrlParameters(n),!1)});this.clearContent();this._previewPaneViewModelParent.focusPending=!0;this._previewPaneViewModelParent.startLoadingScreen();e=this.enrichBingSearchUrlParameters(n,!0);this.setVertical(r);o={destinationVertical:r.toString(),url:n};this._instrumentationHelper.logClientInstEvent("Select","NavigateInPlace",this._sequenceNumberManager.getSequenceNumber(),o);this.downloadAndDisplayMiniSerp(this._previewedSuggestion,e,null,1);this._previewPaneViewModelParent.onAfterItemLaunch(f)},i.prototype.tryLaunchUrl=function(i,r,u){var s,f,h,e,c,o,p;if(!r)return 1;if(s=n.getCurrentTime(),r=r.trim(),f=r.toLowerCase(),h=y(r),h!==null&&a(r)&&!l(f)&&(t.config.navigateRequeriesInsideMiniSERP||vt(r))&&h!==this._currentVertical)return this.navigateInPlace(r,s,u,h),0;if(f.startsWith("javascript:location.reload"))return 0;if(r==i+"#"||f.startsWith("javascript:"))return 1;if(f=="/loading")return 0;if(r.startsWith(window.location.href))return SharedLogHelper.LogError("previewPane.tryLaunchUrl",i,new Error("Anchor navigation on PreviewPane")),0;if(r.startsWith("/")&&(r=n.getWindowProtocol()+"//"+n.getWindowHost()+r),e=y(r),e){if(e==this._currentVertical&&a(r)&&(t.config.navigateRequeriesInsideMiniSERP||ht.some(function(n){return f.includes(n)})))return this.navigateInPlace(r,s,u,e),0;r=this.enrichBingSearchUrlParameters(r)}c=e?v(e):2;this._previewPaneViewModelParent.onBeforeItemLaunch(s,u,c);o=n.tryGetBingPathLC(r);o?et.some(function(n){return o.startsWith(n)})||l(f)?this._host.launchUri(t.config.settingsUri):o.startsWith("/profile/interests")?this._host.launchCat1(null,"ms-cortana://navigate/Notebook",null):o.startsWith("/fd/auth/")?t.isCortanaPersonalized?SharedLogHelper.LogError("previewPane.tryLaunchUrl",i,new Error("Redirecting to sign in page when already signed in")):this._host.launchUri("ms-cortana://CapabilitiesPrompt/?RequestedCapabilities=Personalization"):this._host.launchUri(r):(t.config.openSearchTabMiniSerp&&(p=this._previewedSuggestion.baseSearchUrl,p&&this._host.launchUri(this.buildSearchUrl(p),!1)),this._host.launchUri(r));this._previewPaneViewModelParent.onAfterItemLaunch(c);return 0},i.prototype.enrichBingSearchUrlParameters=function(n,t){return t===void 0&&(t=!1),n=this._navigationHelper.enrichUrlWithMarketInfo(n),n=this._navigationHelper.enrichUrlWithDeviceInfo(n),n=this._navigationHelper.enrichUrlWithCvid(n),n=this._navigationHelper.enrichUrlWithSuggestionType(n,this._previewedSuggestion.type),t||(n=this._navigationHelper.enrichUrlWithMuidInfo(n),n=this._navigationHelper.enrichUrlWithSafeSearchInfo(n)),n},i.prototype.createFocusHelper=function(n,t){var i=this.getSearchAppWinJSXYFocus(n);return!i&&SearchAppWinJS&&SearchAppWinJS.initXYFocus&&(SearchAppWinJS.initXYFocus(n),i=this.getSearchAppWinJSXYFocus(n),n[tt]=i?!0:!1),i?new o(t,n,i,this._scrollArea,this._currentVertical):null},i.prototype.getSearchAppWinJSXYFocus=function(n){var i,t=n[it];return t&&t.UI&&(i=t.UI.XYFocus),i},i.prototype.tryExecuteFocusOnMiniSerp=function(n){var t=!1;return this._focusHelper&&(t=n()),t||this._footer&&(this._footer.focus(),t=!0),t},i.prototype.buildSearchUrl=function(t){return _w.location.protocol+"//"+_w.location.host+t+"&form=WSBBST&cvid="+n.encodeQueryParameter(this._host.getConversationId())},i}();t.MiniSerpViewModel=p;o=function(){function e(n,i,r,u,f,e){var o=this;this._targetDocument=n;this._targetWindow=i;this._searchAppXYFocus=r;this._scrollArea=u;this._verticalType=f;this._useStickyFocusOverride=e;this._isL2Visible=!1;this._useStickyFocus=!1;_w.ClientTestHooks&&ClientTestHooks.isTesthookParamSet("stickyFocus")===!0&&(this._useStickyFocus=!0);this._useStickyFocusOverride!=null&&(this._useStickyFocus=this._useStickyFocusOverride);var s="b_hide",h="acc-inactive",c=".b_slidebar";this._focusDiv=sj_ce("div",w,s);n.body.appendChild(this._focusDiv);sj_be(n,"blur",function(n){o._useStickyFocus?(!n.srcElement.offsetParent||n.srcElement.classList.contains("b_hide")||n.relatedTarget)&&t.setVisibility(o._focusDiv,!1):t.setVisibility(o._focusDiv,!1)},!0);sj_be(n,"focus",function(){return o.updateFocusedElementAndOutline(o._targetDocument.activeElement)},!0);sj_be(n,"scroll",function(n){o._lastElementFocused&&(n.srcElement==o._lastElementFocused||o._lastElementFocused.compareDocumentPosition(n.srcElement)&Node.DOCUMENT_POSITION_CONTAINS)&&o.updateFocusedElementAndOutline(o._lastElementFocused)},!0);sj_be(n,"transitionend",function(n){var t=o._targetDocument.activeElement;(n.propertyName=="height"||n.srcElement==t.closest(c))&&(o._focusOutlineTimeout?(o.clearFocusOutlineTimeout(),o.outlineElementAndScrollIntoView(t)):o._focusDiv.classList.contains(s)||o.outlineElementAndScrollIntoView(t),n.srcElement.style.height=="0px"?n.srcElement.classList.add(h):n.srcElement.classList.remove(h))});this._searchAppXYFocus.keyCodeMap.home.push(36);this._searchAppXYFocus.keyCodeMap.end.push(35)}return e.prototype.getXYFocusRoot=function(){return this._searchAppXYFocus.focusRoot},e.prototype.isL2Visible=function(){return this._isL2Visible},e.prototype.setIsL2Visible=function(n){this._isL2Visible=n},e.prototype.setXYFocusRoot=function(n){this._searchAppXYFocus.focusRoot=n},e.prototype.moveFocus=function(n,t){return this._searchAppXYFocus._xyFocus(n,t)},e.prototype.moveFocusToEdgeFocusableElement=function(n,t){var i,h;if(t===void 0&&(t=!1),this._targetWindow.focus(),t&&n==0)i=this.focusFirstSerpElement();else{var f=void 0,e=void 0,r=void 0,o=this._targetWindow.innerWidth,s=this._targetWindow.innerHeight;n==0?(f=-1,e=0,r=40):n==1&&(f=s,e=s+1,r=38);h={top:f,bottom:e,right:o,left:0,height:1,width:o};i=this._searchAppXYFocus._xyFocus(u[r],r,h)}return i&&(this.scrollTo(n),this.updateFocusedElementAndOutline(this._targetDocument.activeElement)),i},e.prototype.onSearchBoxFocusChanged=function(){this._targetDocument.hasFocus()?this.updateFocusedElementAndOutline(this._targetDocument.activeElement):this._useStickyFocus||t.setVisibility(this._focusDiv,!1)},e.prototype.isVisible=function(n){var t=_w.getComputedStyle(n);return!(t.visibility=="hidden"||t.display=="none"||n.offsetWidth===0&&n.offsetHeight===0)},e.prototype.moveFocusToLastFocusedElement=function(){return this._lastElementFocused&&this.isVisible(this._lastElementFocused)?(this._lastElementFocused.focus(),this.updateFocusedElementAndOutline(this._lastElementFocused),!0):this.moveFocusToEdgeFocusableElement(0,!0)},e.prototype.updateFocusedElementAndOutline=function(i){var r=this,u;i&&i!=this._targetDocument.body&&(this.processFocusedElement(i),u=this._lastElementFocused&&i.elementType&&i.elementType==this._lastElementFocused.elementType&&i.parentElement==this._lastElementFocused.parentElement?nt:0,u?(t.setVisibility(this._focusDiv,!1),this._focusOutlineTimeout=n.safeSetTimeout(function(){r._targetDocument.activeElement==i&&r.outlineElementAndScrollIntoView(i);r.clearFocusOutlineTimeout()},u,"updateFocusedElementAndOutline")):this.outlineElementAndScrollIntoView(i),this._lastElementFocused=i)},e.prototype.outlineElementAndScrollIntoView=function(n){var u,o,s;if(n!=this._targetDocument.body&&(this._useStickyFocus||this._targetDocument.hasFocus())){var i=n.getBoundingClientRect(),y=this._targetDocument.documentElement.scrollWidth-r*2,p=this._targetDocument.documentElement.scrollHeight-r*2,h=i.top+this._targetWindow.pageYOffset,e=i.left+this._targetWindow.pageXOffset,w=y-e,b=p-h,c=e<0?Math.floor(i.width+e-r):i.width;if(c<=0){t.setVisibility(this._focusDiv,!1);return}if(u=i.height,u<=0&&n.children.length>0)for(o=0;o<n.children.length;o++)s=n.children[o].getBoundingClientRect(),s.height>u&&(u=s.height,h=s.top);this._focusDiv.style.top=Math.max(r,h)+"px";this._focusDiv.style.left=Math.max(this.isL2Visible?r:r*4,e)+"px";this._focusDiv.style.width=Math.min(w,c)+"px";this._focusDiv.style.height=Math.min(b,u)+"px";t.setVisibility(this._focusDiv,!0);var l=n.getBoundingClientRect(),a=this._scrollArea.offsetHeight+this._scrollArea.scrollTop-l.bottom-f,v=l.top-this._scrollArea.scrollTop-f;a<0?this._scrollArea.scrollTop+=f-a:v<0&&(this._scrollArea.scrollTop+=v-f)}},e.prototype.scrollTo=function(n){var t=0;n==1&&(t=this._scrollArea.scrollHeight);this._scrollArea.scrollTop=t},e.prototype.processFocusedElement=function(n){var r=this,u,e,o,c,f,s,h;n.isProcessed||(u=n.tagName.toLocaleLowerCase(),e=n.getAttribute("type"),u=="select"&&(sj_be(n,"keydown",function(t){t.keyCode==32?n.classList.add(i):t.keyCode==13&&n.classList.remove(i)},!0),this.reactivateXYFocusOnBlur(n)),u=="input"&&e=="range"&&(sj_be(n,"keydown",function(t){var r=t.target,f=+r.getAttribute("min"),e=+r.getAttribute("step"),u=t.keyCode==37,o=t.keyCode==39,s=+r.value-e<f&&u;t.keyCode==38||t.keyCode==40||s?n.classList.remove(i):(u||o)&&n.classList.add(i)},!0),this.reactivateXYFocusOnBlur(n)),o=function(t,r){var u;if(!r.readOnly){if(u=r.selectionStart!=r.selectionEnd,u){n.classList.add(i);return}var f=r.selectionEnd==0,e=r.selectionEnd==r.value.length,o=t.keyCode==36&&!f,s=t.keyCode==35&&!e,h=t.keyCode==37&&!f,c=t.keyCode==39&&!e;h||c||o||s?n.classList.add(i):n.classList.remove(i)}},u=="textarea"&&(sj_be(n,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(n)),u=="input"&&(e=="number"||e=="text")&&(sj_be(n,"keydown",function(n){return o(n,n.target)},!0),this.reactivateXYFocusOnBlur(n)),k.some(function(t){return n.classList.contains(t)})?(n.elementType="slide",c=Array.prototype.slice.call(n.querySelectorAll("a:not([onclick='TestHooks.HideShowTestHooks(this);']):not([disabled])"),0),f=c.filter(function(n){return r.isVisible(n)&&n.offsetHeight>0&&n.offsetWidth>0}),f&&sj_be(n,"keydown",function(t){var i=r.countUniqueHrefs(f),u=t.keyCode;t.srcElement==n&&(i>1&&u==40?(t.preventDefault(),r._searchAppXYFocus.focusRoot=n,f[0].focus()):i==1&&u==13&&f[0].click())})):d.some(function(t){return n.hasAttribute(t)})?(n.elementType="expansion",s=function(){t.setVisibility(r._focusDiv,!1);r.updateFocusedElementAndOutline(r._targetDocument.activeElement)},sj_be(n,"keyup",function(n){n.keyCode==13&&s()},!0),sj_be(n,"click",function(){s()})):n.classList.contains(g)&&(h=function(){var t=r._targetDocument.getElementById("vidPreStopButton"),i,u;t&&t.focus();i=function(){n.focus()};sj_be(t,"click",i);sj_be(t,"keydown",function(n){n=sj_ev(n);n.keyCode===13&&i()});u=r._targetDocument.getElementsByTagName("video")[0];sj_be(u,"ended",i)},sj_be(n,"keydown",function(n){n.keyCode==13&&h()},!0),sj_be(n,"click",function(){h()})),n.classList.add(b),n.isProcessed=!0)},e.prototype.countUniqueHrefs=function(n){var r={},t,i;if(n)for(t=0;t<n.length;t++)i=n[t],i&&(r[i.href]=!0);return Object.keys(r).length},e.prototype.reactivateXYFocusOnBlur=function(n){sj_be(n,"blur",function(){n.classList.remove(i)})},e.prototype.focusFirstSerpElement=function(){var n,i,t,r;switch(this._verticalType){case 1:n=this._targetDocument.getElementById("b_content");break;case 2:n=this._targetDocument.getElementById("images");break;case 3:n=this._targetDocument.getElementById("video");break;default:throw Error("Unknown vertical type "+this._verticalType);}if(n)for(i=n.querySelectorAll('a:not([onclick=\'TestHooks.HideShowTestHooks(this);\']):not([disabled]):not([tabindex="-1"]), button:not([disabled]), input[type=text]:not([disabled]), input[type=submit]:not([disabled]), textarea:not([disabled]), select:not([disabled]):not(#tta_sl):not(#tta_srcsl), [tabindex]:not([disabled]):not([tabindex="-1"]):not(#tta_playiconsrc)'),t=0;t<i.length;t++)if(r=i[t],this.isVisible(r))return r.focus(),!0;return!1},e.prototype.clearFocusOutlineTimeout=function(){sb_ct(this._focusOutlineTimeout);this._focusOutlineTimeout=null},e}();t.WSBMiniSerpFocusHelper=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function i(n){switch(n){case"arrowRight":case"button":case"submit":return 1;case"autoContent":case"keepOpen":case"alwaysWide":case"arrowUpOrDown":return 0}throw new Error("Unknown open type: "+n);}var r=function(){function r(n,t,i,r,u,f,e,o){var s=this;this._page=n;this._host=t;this._instrumentationHelper=i;this._ariaLogger=r;this._sequenceNumberManager=u;this._miniSerpViewModel=f;this._localPreviewPaneViewModel=e;this._msbPreviewPaneViewModel=o;this._previewPaneId=0;this._beforeItemLaunchEventHandlers=[];this._afterItemLaunchEventHandlers=[];var h=function(n,t,i,r,u){s._clickLoggedForCurrentPreviewPane||s._beforeItemLaunchEventHandlers.forEach(function(f){return f(n,s._previewedSuggestion,t,i,r,u)})},c=function(n){s._clickLoggedForCurrentPreviewPane||(s._afterItemLaunchEventHandlers.forEach(function(t){return t(s._previewedSuggestion,s._queryForPreviewedSuggestion,n)}),s._clickLoggedForCurrentPreviewPane=!0)},l=function(n){s._previewPaneResponseReceivedTimeStamp=n;s._miniSerpViewModel.stopLoadingScreen()};this._previewPaneViewModelParent={focusPending:!1,onBeforeItemLaunch:h,onAfterItemLaunch:c,startLoadingScreen:function(){return s._miniSerpViewModel.startLoadingScreen()},onResponseReceived:l};this._miniSerpViewModel.init(this._previewPaneViewModelParent);this._localPreviewPaneViewModel&&this._localPreviewPaneViewModel.init(this._previewPaneViewModelParent);this._msbPreviewPaneViewModel&&this._msbPreviewPaneViewModel.init(this._previewPaneViewModelParent);SearchAppWrapper.CortanaApp.addEventListener("resettingtodefaultsize",function(){return s.dismiss()});t.bindKeyDown(function(){s._previewPaneViewModelParent.focusPending=!1});t.bindSearchBoxGotFocus(function(){return s._previewPaneViewModelParent.focusPending=!1});t.bindQueryChangedOrInitialized(function(n){return s._currentQuery=n},!0);t.bindAccountChanged(function(){s._miniSerpMustRefresh=!0});i.bindFinalizeKeystroke(function(n){s._activePreviewPaneViewModel&&n&&s._activePreviewPaneViewModel.finalizeKeystroke()})}return r.prototype.init=function(n){this._selectionHandler=n},r.prototype.getSelectableItems=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItems():[]},r.prototype.getSelectableItemsByGroup=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectableItemsByGroup():[]},r.prototype.getSelectedItem=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.getSelectedItem():null},r.prototype.select=function(n,t){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.select(n,t)},r.prototype.onAfterKeyDown=function(n,t,i,r){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.onAfterKeyDown(n,t,i,r):!1},r.prototype.getPreviewedSuggestion=function(){return this._previewedSuggestion},r.prototype.getPreviewedSuggestionToForceTopHit=function(){return this._forceTopHitForPreviewedSuggestion&&!this._closeTimer?this._previewedSuggestion:null},r.prototype.showPreview=function(r,u,f,e,o){var s=this;if(f===void 0&&(f="button"),e===void 0&&(e=!1),o===void 0&&(o=0),this._previewPaneOpenedForThisQuery=!0,this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer(),this.clearCloseTimer(),u!=this._previewedSuggestion||e){t.RuntimeConfig.AlwaysWide||this._page.setPreviewPaneVisibility(!0);var a=++this._previewPaneId,c=!0,h=!1,l=n.getCurrentTime(),v=function(t,r,e){var p,v,y;if(t||!r){if(r||(s._ariaLogger&&u&&(p=n.getCurrentDate().getTime()-l,s._ariaLogger.logPreviewPaneRenderLatency(u.type,p)),c=!1),!h){if(v={ppId:""+a,openType:f,suggestion:u?u.instItem.getLayoutKValue():undefined,suggestionType:u?u.type:undefined,startOpening:""+l,openDelay:o?""+o:undefined},e)for(y in e)v[y]=e[y];v.waitingForMore=c?"true":undefined;s._instrumentationHelper.previewPaneOpenedOrClosed(!0,s._sequenceNumberManager.getSequenceNumber(),u?u.instItem:undefined,u?u.previewPaneType:undefined,i(f)==0,v)}h=!0;t&&(h=!1,f="keepOpen")}};this.setPreviewPaneContent(r,u,i(f),this._previewPaneId,v)}f!="button"&&this._selectionHandler.updateSelectionState(u)},r.prototype.showPreviewAndFocus=function(n,t,i){i===void 0&&(i="submit");(this._closeTimer||this._previewedSuggestion!=t)&&this.showPreview(n,t,i);this._activePreviewPaneViewModel.focus(!1);this._forceTopHitForPreviewedSuggestion=!0},r.prototype.focus=function(n){return this._activePreviewPaneViewModel?(this._activePreviewPaneViewModel.focus(n),!0):!1},r.prototype.blur=function(){this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.blur()},r.prototype.dismiss=function(){this.close(!0)},r.prototype.close=function(i){var u=this,r;this.clearOpenTimer();r=i?0:t.config.closePreviewPaneDelay;r?this._closeTimer||(this._closeTimer=n.safeSetTimeout(function(){u._closeTimer=null;u.innerClose(i)},r,"ppCloseTimer")):(this.clearCloseTimer(),this.innerClose(i))},r.prototype.innerClose=function(i){var r,u;this._previewedSuggestion&&(r=!0,i&&(this._clickLoggedForCurrentPreviewPane?r=!1:this._previewPaneResponseReceivedTimeStamp&&n.getCurrentTime()>this._previewPaneResponseReceivedTimeStamp+1e3&&(r=!1)),r&&(u=i?{fromQFDismiss:"1"}:undefined,this._instrumentationHelper.previewPaneOpenedOrClosed(!1,this._sequenceNumberManager.getSequenceNumber(),this._previewedSuggestion.instItem,this._previewedSuggestion.previewPaneType,undefined,u)),t.RuntimeConfig.AlwaysWide||i||this._page.setPreviewPaneVisibility(!1),this._miniSerpViewModel.stopLoadingScreen(),this.clear())},r.prototype.clear=function(){this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!1,this._selectionHandler.updateSelectionState(this._previewedSuggestion),this._previewedSuggestion=null);this._queryForPreviewedSuggestion=null;this._previewPaneResponseReceivedTimeStamp=null;this._forceTopHitForPreviewedSuggestion=!1;this._clickLoggedForCurrentPreviewPane=!1;this._activePreviewPaneViewModel&&(this._activePreviewPaneViewModel.clear(),this._activePreviewPaneViewModel=null);this._previewPaneViewModelParent.focusPending=!1},r.prototype.onQueryChanged=function(n){var i,r;if((this._previewPaneOpenedForThisQuery=!1,i=this._queryForPendingPreviewedSuggestion||this._queryForPreviewedSuggestion,this._queryIsContinuationOfPreviousQuery=i&&n.queryToFetch.toLocaleLowerCase().startsWith(i.queryToFetch.toLocaleLowerCase()),i&&n.queryToFetch.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase())&&(r=this._pendingPreviewedSuggestion&&this._pendingPreviewedSuggestion.updateFromQuery?this._pendingPreviewedSuggestion:this._previewedSuggestion&&!this._closeTimer&&this._previewedSuggestion.updateFromQuery?this._previewedSuggestion:null,r)){if(t.RuntimeConfig.AlwaysWide){this.autoOpen(n,r,"alwaysWide",!0);return}this._queryIsContinuationOfPreviousQuery?(this._forceTopHitForPreviewedSuggestion=!1,this.autoOpen(n,r,"keepOpen",!0)):this.close(!1)}},r.prototype.clearSuggOpeningState=function(n){n&&(n.isPreviewPaneOpening=!1,this._selectionHandler.updateSelectionState(n))},r.prototype.clearOpenTimer=function(){this._openTimer&&(sb_ct(this._openTimer),this._openTimer=null,this._pendingPreviewedSuggestion=null,this._queryForPendingPreviewedSuggestion=null,this._miniSerpViewModel.stopLoadingScreen())},r.prototype.clearCloseTimer=function(){this._closeTimer&&(sb_ct(this._closeTimer),this._closeTimer=null)},r.prototype.onTopHitUpdated=function(i,r,u,f){if(u){if(!this._closeTimer&&(this._openTimer&&this._pendingPreviewedSuggestion!=u&&this.clearOpenTimer(),!this._miniSerpMustRefresh||u.previewPaneType!=1)){if(this._pendingPreviewedSuggestion&&t.isEquivalentForPreviewPanePurposes(i,this._pendingPreviewedSuggestion,u)){this._pendingPreviewedSuggestion=u;this._queryForPendingPreviewedSuggestion=i;u.hasPreviewPaneOpened=!0;this._selectionHandler.updateSelectionState(u);return}if(this._previewedSuggestion&&t.isEquivalentForPreviewPanePurposes(i,this._previewedSuggestion,u)){n.contains(f,r)||(this._previewedSuggestion=u,this._queryForPreviewedSuggestion=i,u.hasPreviewPaneOpened=!0,this._selectionHandler.updateSelectionState(u),this.refreshLocalContent(i,u));return}}if(this._miniSerpMustRefresh=!1,this._forceTopHitForPreviewedSuggestion=!1,u.previewPaneType){if(t.RuntimeConfig.AlwaysWide){this.autoOpen(i,u,"alwaysWide",!1);return}if(u==f[0]&&!this._previewPaneOpenedForThisQuery){if(u.autoOpenPreviewPaneWhenOnTopHit){this.autoOpen(i,u,"autoContent",!1);return}if(this._previewedSuggestion&&this._queryIsContinuationOfPreviousQuery){this.autoOpen(i,u,"keepOpen",!1);return}}}}this._openTimer&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearOpenTimer());this._previewedSuggestion&&this.close(!1)},r.prototype.getDelayForMiniSerp=function(n,i){var r=t.getTweakedSetting("preventAutomaticMiniSerp");switch(n){case"keepOpen":case"alwaysWide":return r?Number.MAX_VALUE:t.config.probabilityNextKeyStrokeEnabled&&i.featureStore&&i.featureStore[264]!==undefined?this.calculateDelayForProbabilitySignal(i.featureStore[264]):t.RuntimeConfig.AlwaysWide?i.isAnswer?0:t.config.autoOpenMiniSerpDelay:t.config.keepMiniSerpOpenDelay;case"arrowUpOrDown":return r?Number.MAX_VALUE:t.config.openOnKeybNavMiniSerpDelay}return 0},r.prototype.calculateDelayForProbabilitySignal=function(n){for(var i=t.config.probabilityNextKeyStrokeThresholds.length-1;i>=0;i--)if(n>=t.config.probabilityNextKeyStrokeThresholds[i])return t.config.probabilityNextKeyStrokeDelays[i];return 0},r.prototype.autoOpen=function(i,r,u,f){var e=this,s=t.shouldOpenMiniSerp(r),o=s&&!t.config.enableForceLoad?this.getDelayForMiniSerp(u,r):0;o?(u=="arrowUpOrDown"&&(this.clear(),this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion)),r.isPreviewPaneOpening=!0,this._selectionHandler.updateSelectionState(r),this.clearOpenTimer(),this.clearCloseTimer(),this._pendingPreviewedSuggestion=r,this._queryForPendingPreviewedSuggestion=i,this._openTimer=o==Number.MAX_VALUE?Number.MAX_VALUE:n.safeSetTimeout(function(){e._openTimer=null;r=e._pendingPreviewedSuggestion;e._pendingPreviewedSuggestion=null;e._queryForPendingPreviewedSuggestion=null;e.showPreview(i,r,u,f,o)},o,"ppOpenTimer"),s&&this._miniSerpViewModel.startLoadingScreen()):this.showPreview(i,r,u,f)},r.prototype.onAfterKeyDownWhenNewSelection=function(i,r,u){var e=t.RuntimeConfig.AlwaysWide&&t.config.openOnKeybNavMiniSerp,f;if(t.isGroup(u)){e&&(this.clearSuggOpeningState(this._pendingPreviewedSuggestion),this.clearSuggOpeningState(this._previewedSuggestion),this.clear(),this.clearOpenTimer(),this.clearCloseTimer(),this._miniSerpViewModel.stopLoadingScreen());return}f=u;f.previewPaneType&&(e&&(i==40||i==38)?this._previewedSuggestion!=f&&this.autoOpen(r,f,"arrowUpOrDown",!1):i==t.getRtlAdjustedKey(39)&&this._currentQuery.originalCursorPosition==this._currentQuery.originalQuery.length&&this._host.searchBoxHasFocus()?f.handoffType==999?f.click(n.getCurrentTime(),1):this.showPreviewAndFocus(r,f,"arrowRight"):i==t.getRtlAdjustedKey(37)&&this._activePreviewPaneViewModel&&this._activePreviewPaneViewModel.hasFocus()&&this._activePreviewPaneViewModel.readyToBlur()&&this._host.setFocusInSearchBox(i,"previewPaneUnfocus"))},r.prototype.refreshLocalContent=function(n,t){t.previewPaneType==2?this._localPreviewPaneViewModel.update(t,n,0,this._previewPaneId,null,!0):t.previewPaneType===3&&this._msbPreviewPaneViewModel.update(t,n,0,this._previewPaneId,null,!0)},r.prototype.setPreviewPaneContent=function(n,i,r,u,f){var e=this;this.clear();this._previewedSuggestion=i;this._previewedSuggestion&&(this._previewedSuggestion.hasPreviewPaneOpened=!0,this._previewedSuggestion.isPreviewPaneOpening=!1);this._previewPaneResponseReceivedTimeStamp=null;this._queryForPreviewedSuggestion=n;i.previewPaneType==3&&this._msbPreviewPaneViewModel!=null?(this._miniSerpViewModel&&this._miniSerpViewModel.stopLoadingScreen(),this._activePreviewPaneViewModel=this._msbPreviewPaneViewModel,this._msbPreviewPaneViewModel.update(i,n,r,u,f)):i.previewPaneType!=2&&(t.shouldOpenMiniSerp(i)||i.previewPaneType!=1)?t.config.enableForceLoad?(this._activePreviewPaneViewModel=this._miniSerpViewModel,this._miniSerpViewModel.showForceLoad(i.query,function(){e._miniSerpViewModel.update(i,n,r,u,f)})):(this._localPreviewPaneViewModel&&this._localPreviewPaneViewModel.clear(),this._msbPreviewPaneViewModel&&this._msbPreviewPaneViewModel.clear(),this._miniSerpViewModel.startLoadingScreen(),this._activePreviewPaneViewModel=this._miniSerpViewModel,this._miniSerpViewModel.update(i,n,r,u,f)):(this._miniSerpViewModel&&this._miniSerpViewModel.stopLoadingScreen(),this._activePreviewPaneViewModel=this._localPreviewPaneViewModel,this._localPreviewPaneViewModel.update(i,n,r,u,f))},r.prototype.bindBeforeItemLaunch=function(n){this._beforeItemLaunchEventHandlers.push(n)},r.prototype.bindAfterItemLaunch=function(n){this._afterItemLaunchEventHandlers.push(n)},r.prototype.hasFocus=function(){return this._activePreviewPaneViewModel?this._activePreviewPaneViewModel.hasFocus():!1},r.prototype.isOpened=function(){return!!this._previewedSuggestion},r}();t.PreviewPane=r})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,o=21600,s="/account/permissions/sso?",f="/agents/oauth?",r="Office365",u="Outlook",e="0a0a29f9-0a25-49c7-94bf-c53c3f8fa69d",h="fc1b2093-3a41-4edb-86db-cdaa2832d4e8",c="api://fc1b2093-3a41-4edb-86db-cdaa2832d4e8/CortanaConnect",l="6df4d00742ec458795c9588001737872-fbbe95f5-f25d-4197-9d6f-7c3eb54c745f-6908",a=function(){function a(i){var r=this;this._triggerSSO=!0;t.WebTelemetry&&t.WebTelemetry.init(l);sj_be(_w,"load",function(){r.launchSSO()});a._latestSSOTimestamp||(a._latestSSOTimestamp=n.getCurrentTime());i.bindAppHidden(function(){r.launchPeriodicalSSO()})}return a.prototype.launchPeriodicalSSO=function(){var t=(n.getCurrentTime()-a._latestSSOTimestamp)/1e3;t>=o&&(this._triggerSSO=!0,this.launchSSO(),a._latestSSOTimestamp=n.getCurrentTime())},a.prototype.launchSSO=function(){var f=this,e=function(){var e=i.isCortanaEnabled?n.safeExecute(function(){return i.getCortanaCapabilities()},"getCortanaCapabilities","").split(","):[],o=n.contains(e,"Personalization");i.currentState==0&&f._triggerSSO&&o&&(f._triggerSSO=!1,t.config.wamSupported?t.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return i.authenticationManager.enumerateAccountAuthorityAsync()},function(n){var o,i,e;t.config.enableSSOV2?(o=n.Cortana=="consumers"?u:r,f.silentSignIn(o)):(i=n.Windows,e=n.Cortana,t.WebTelemetry&&t.WebTelemetry.logSignInAccountEvent(i,e),i=="organizations"?f.silentSignIn(r):i=="consumers"&&e=="consumers"&&f.silentSignIn(u))}):t.Promise.safeChain("getQueryHeadersAsync",function(){return i.getQueryHeadersAsync()},function(n){n&&(f.silentSignIn(r),n["X-Search-RPSToken"]&&f.silentSignIn(u))}))};n.isBrowserOnline()?e():sj_be(_w,"online",function(){e()})},a.prototype.silentSignIn=function(o){var v=this,l=s+"campaign_source=WSB&provider="+o,a;t.config.th&&(l=ClientTestHooks.CopyTestParameters(_w.location.search,l));a=function(s){var a,y,l;t.WebTelemetry&&t.WebTelemetry.logShouldSSOEvent(o,s?!0:!1);s&&(a=o==u,y=function(n){var i=n&&!n.IsError;t.WebTelemetry&&t.WebTelemetry.logAuthCompleteEvent(o,o==r&&t.config.wamSupported?"assertion":"code",i)},n.isBrowserOnline()&&i.currentState==0&&(t.config.wamSupported&&(o==r||t.config.enableSSOV2)?(l=i.authenticationManager.createAuthenticateRequest(),t.config.enableSSOV2?(l.accountType="Cortana",l.resource=a?h:e,a&&(l.scope=c)):(l.accountType="Windows",l.resource=e),t.Promise.safeChain("authenticateAsyncOBO",function(){return i.authenticationManager.authenticateAsync(l)},function(i){var r=i&&i.token,u,e;t.WebTelemetry&&(u=r?0..toString():i&&i.status!=0?i.status.toString():"-1",t.WebTelemetry.logClientAuthEvent(o,"WAM",u));r&&(e=f+"provider="+o+"&campaign_source=WSB&assertion="+i.token,n.fetchUrlJson(e,{},null,y))})):v.refreshOAuthToken(o,s.AuthUrl,s.CallbackUrl,s.Options||1,y)))};n.fetchUrlJson(l,{},null,a)},a.prototype.refreshOAuthToken=function(r,u,e,o,s){t.Promise.safeChain("authenticateAsyncSSO",function(){return i.authenticateAsync(o,u,e)},function(i){if(t.WebTelemetry&&t.WebTelemetry.logClientAuthEvent(r,"WAB",i?0..toString():"-1"),i){var u=i.split("?")[1],e=f+u;n.fetchUrlJson(e,{},null,s)}})},a}();t.ProactiveSSO=a})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.fetchUrl=function(i,r,u,f,e,o){var h=this,s;if(n.isBrowserOnline()){var v=u?1:0,c=SearchAppWrapper.CortanaApp,l=c.createStringMap(),a=c.createStringMap();if(r)for(s in r)s.toLowerCase().startsWith("content")?a[s]=r[s]:l[s]=r[s];t.Promise.safeChain("makeHttpRequestAsync",function(){return c.makeHttpRequestAsync(v,i,l,u,a)},function(i){o()&&(i.statusCode===200?t.Promise.safeChain("readResponse",function(){return i.readAsStringAsync()},function(i){if(o()){t.config.th&&i&&(i=i.replace(new RegExp("<!--[^]*?-->","gm"),""));var r=i?n.safeExecute(function(){return JSON.parse(i)},"parseCortanaHttpResponse",null,null):null;r!=null?f(h._dataSource,r,null):f(h._dataSource,null,null)}},function(){return f(h._dataSource,null,null)},e):f(h._dataSource,null,i.statusCode.toString()))},function(){return f(h._dataSource,null,null)},e)}else f(this._dataSource,null,null,null,!0)},r}(n.JsonDataProvider);t.CortanaJsonDataProvider=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i="LSQS",u=function(){function t(n){this._host=n}return t.prototype.getName=function(){return"LockscreenQuickSearchDataProvider"},t.prototype.fetch=function(t,r){if(t.enabledDataSources[i]){var u={};n.isMiniSerpEnabled()&&(u.quickAnswers=[{label:this._host.getLocString("Weather"),icon:{type:2,content:"&#xE9C0"},query:this._host.getLocString("WeatherQuery")},{label:this._host.getLocString("News"),icon:{type:2,content:"&#xE900"},query:this._host.getLocString("News")},{label:this._host.getLocString("ThisDayInHistory"),icon:{type:2,content:"&#xE823"},query:this._host.getLocString("ThisDayInHistory")},{label:this._host.getLocString("NewMovies"),icon:{type:2,content:"&#xE8B2"},query:this._host.getLocString("NewMovies")}]);r(i,u,undefined)}},t}(),r;t.LockscreenQuickSearchDataProvider=u;r=function(){function i(n){this._host=n}return i.prototype.parse=function(i,r,u,f,e,o){var c=this,l=[],a="LSQS",v,s,h,y;if(f)for(v=function(f){var e=n.WSB.createSuggestion(i,f.label,null,f.icon,a,f.query,n.InstrumentedItem.createInstrumentedItem(r,a),999,r,t.localDataSourceMayContainPII(u));e.click=function(){c._host.reformulate(f.query);c._host.setFocusInSearchBox(null,"Quick answer clicked")};l.push(e)},s=0,h=f.quickAnswers;s<h.length;s++)y=h[s],v(y);o(u,l,undefined)},i}();t.LockscreenQuickSearchParser=r})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}))
]?$","i"),wt=/((^[\\]{2}).+)|(^[a-z]:\\.*)/i,f=/^([a-z0-9\-]+):/i,bt=/\s/,g=/\s+/g,kt=/\s+\/(?!\/)/g,dt=/([^\/]|^)\/(?!\/)/,nt,et;n.WebSearchPaths=["/search","/entityexplore"];nt=[33,39,40,41,42,91,93];n.tryParseUrl=u;n.getQueryStringParam=ri;var ui=/file:\/\/\/[^:\/]+:\/[^\/]+\/[^\/]+\/AppData\//i,fi=["ms-appx:","ms-appx-web:","ms-browser-extension:",],ei="microsoft.microsoftedge_8wekyb3d8bbwe";n.isJunkUrl=oi;n.computeUrlMatchLengths=si;n.isUncOrLocalPath=ai;n.startsWithProtocol=tt;n.startsWithWww=vi;n.isHttpProtocol=h;n.isNonHttpProtocol=yi;n.cleanAndFixUrlProtocol=pi;n.cleanAndFixUncOrLocalPath=wi;n.parsedUrlToString=c;var rt=/^ht+ps:\/*(.*)/i,ut=/^ht+p:\/*(.*)/i,ft=/^\/{2,}(.*)/,l=/^www\.(.*)/i,ki=/^(.*[^:\/])\/+$/;n.normalizeUrl=i;n.hasWww=di;n.getProtocol=e;n.prettyPrintUrl=gi;n.isDuplicateUrl=tr;et=["bing","staging-bing-int","working-bing-int","bing-int","bing-exp"];n.tryGetBingPathLC=ot;n.isBingHost=st;n.isBingSearchUrl=ir;n.getDomain=rr;n.isEmptyUrlPrefix=ur;n.queryLooksLikeUrl=fr;n.buildBfbSearchUrl=er}(AutoSuggest||(AutoSuggest={})),function(n){var t,i;(function(n){function t(t,i,r,u,f,e){var o={T:n.QFPERFPING_EVENT_NAME,ST:r,CVID:u,OFFSETS:i,STATE:f,V:n.QFPERFPING_VERSION,RFC:e};return{ImpressionGuid:t,EventType:n.CLIENTINST_EVENT_TYPE,Data:o}}n.CLIENTINST_EVENT_TYPE="ClientInst";n.QFPERFPING_EVENT_NAME="QFPerfPing";n.CLICK_EVENT_TYPE="Click";n.QFPERFPING_VERSION="2";n.QFPERFPING_INVALID_MEASURE=-2;n.INVALID_SEQUENCE_NUMBER=-2;n.KVALUE_SUGGESTIONS_START=1e3;n.KVALUE_SUFFIX_START=1;n.KVALUE_NON_SUGGESTIONS_START=100;n.DEFAULT_APP_NAMESPACE="SmartSearch";n.DEFAULT_SERVICE_NAME="AutoSuggest";n.createPerfPingEvent=t})(t=n.InstrumentationCommon||(n.InstrumentationCommon={}));i=function(){function n(n,t,i){this._kValue=n;this._qsCode=t;this._handOffType=i}return n.createInstrumentedItem=function(t,i){return new n(n.generateKValue(t),i)},n.createInstrumentedItemNoHandoff=function(t,i){return new n(n.generateKValue(t),i,999)},n.getNonSuggestionInstrumentedItem=function(t,i,r){return new n(i[t],t,r)},n.prototype.getKValue=function(){return this._kValue},n.prototype.getAppNS=function(){return n.AppNS},n.prototype.getLayoutKValue=function(){return this._kValue+"."+n.Suffix},n.prototype.getHValue=function(){return"ID="+n.AppNS+","+this.getLayoutKValue()},n.prototype.getHandoffType=function(){return this._handOffType},n.prototype.getQsCode=function(){return this._qsCode},n.resetKValues=function(n){delete this._keystrokesKValues[n]},n.generateKValue=function(n){var r=n,i=this._keystrokesKValues[r];return i>0||(i=t.KVALUE_SUGGESTIONS_START),this._keystrokesKValues[r]=++i,i},n.AppNS=t.DEFAULT_APP_NAMESPACE,n.Suffix=t.KVALUE_SUFFIX_START,n._keystrokesKValues={},n}();n.InstrumentedItem=i}(AutoSuggest||(AutoSuggest={})),function(n){function pt(){return matchMedia("screen and (-ms-high-contrast)").matches}function wt(){return navigator.onLine}function bt(n){return!n.isAnswer&&(n.handoffType==0||n.handoffType==11)}function v(n){return n?n.replace(st,"$1").replace(ht,"$1 "):n}function kt(n){return n?n.replace(/[-{}]/g,"").toLowerCase():null}function dt(n){return!n||Object.keys(n).length===0}function gt(n){return n.canFail}function y(n,t,i,r){var u,e;n&&(n=n.slice(0,t)+f+n.slice(t,n.length));u=i(n);u&&(e=u.indexOf(f),t=e!=-1?e:t,u=u.replace(f,""));r(u,t)}function ni(n){if(!n)return SharedLogHelper.LogError("getInputType",null,new Error("event object is missing")),0;switch(n.pointerType){case"mouse":return 2;case"touch":return 3;case"pen":return 4;default:return 1}}function o(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];i.forEach(function(t){return delete n.enabledDataSources[t]})}function ti(i){return i&&n.config.bingFetchEnabledRegionsList&&n.config.bingFetchEnabledRegionsList.length>0&&!t(n.config.bingFetchEnabledRegionsList,i.toLowerCase())}function ii(i){return i&&n.config.miniSerpEnabledRegionsList&&n.config.miniSerpEnabledRegionsList.length>0&&!t(n.config.miniSerpEnabledRegionsList,i.toLowerCase())}function ri(t){var i=t.queryToFetch&&t.queryToFetch.length<n.config.minQueryLengthForWebProvider;return i&&(o(t,n.WebDataSource),o(t,n.WebRankingSignalDataSource)),i}function p(t){if(t){t=n.normalizeUrl(t,15);for(var i=1;i<t.length-1;++i)if(lt.includes(t[i]))return!0}return!1}function ui(t,i,r){var u,f;return r||(r=0),y(t,i,function(n){return v(n)},function(n,t){u=n;f=t}),u&&(n.config&&n.config.doNotRemoveSpaceAfterIn&&u.toLocaleLowerCase().endsWith(" in ")||(u=u.trim()),f=Math.min(f,u.length)),{originalQuery:t,originalCursorPosition:i,queryToFetch:u,cursorPosition:f,enabledDataSources:{},equals:function(n){return(u?u.toLowerCase():u)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&r==n.topHitRestriction},isMultiWord:p(u),getCacheKey:function(){return u},topHitRestriction:r}}function w(i,r){return r&&!r.enabledDataSources[i]?!1:t(n.config.enabledDataSources,i)}function b(i,r,u,f){var e=f.enabledDataSources[i];return e?e.suggestionIsEnabled&&!e.suggestionIsEnabled(r,u)?!1:t(n.config.enabledDataSources,i):!1}function t(n,t){return n.indexOf(t)!=-1}function fi(n,t){var i=n.indexOf(t);return i!=-1?(n.splice(i,1),!0):!1}function ei(n,t){var i=n.findIndex(t);return i!=-1?n.splice(i,1)[0]:null}function oi(n,t,i){if(t<100)for(var r=n.length-1;n.length>t&&r>=0;--r)i(n[r])&&n.splice(r,1)}function si(n,i){return n.filter(function(n){return!t(i,n)})}function hi(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;++i)if(n[i]!=t[i])return!1;return!0}function ci(n,t){if(n===t)return!0;if(!n||!t||Object.keys(n).length!=Object.keys(t).length)return!1;for(var i in n)if(n[i]!=t[i])return!1;return!0}function k(){return n.getCurrentDate().getTime()}function r(n){var t=Math.abs(Math.floor(n));return(t<10?"0":"")+t}function li(){var t=n.getCurrentDate(),i=-t.getTimezoneOffset(),u=i>=0?"+":"-";return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+"."+r(t.getMilliseconds())+u+r(i/60)+":"+r(i%60)}function ai(n,t){return n?n.replace(ct,function(n,i){return t[i]}):n}function vi(n){var t=n?n.number:null,i=n?n.name:null;return t==-2147023673||i=="Canceled"}function u(n,t,i,r,u,f){try{return n()}catch(e){return f||SharedLogHelper.LogError(t,r,e),u&&u(e),i}}function s(n,t,i,r,f,e){return sb_st(function(){return u(n,i,null,r,f,e)},t)}function yi(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];u(function(){return sj_evt.fire.apply(sj_evt,[n].concat(i))},n)}function pi(n,t){s(t,1,n)}function h(n,t){var i=[],r=!0,u=function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];r?i.push(u):t.apply(null,u)};n(u);r=!1;i.forEach(function(n){return t.apply(null,n)})}function wi(n,t){return c=n,e=c&&it()!="ms-appx-web:",l=e&&!ti(t),d=e&&!ii(t),l}function bi(n){return n?l:e}function ki(){return c}function di(){return d}function tr(n){return t(gi,n)}function ir(n){return t(tt,n)}function rr(n){return t(g,n)}function ur(n){return t(nt,n)}function fr(n){return t(nr,n)}function er(n,t){return n==121&&t||n==93}function or(n,t){return n==8||n==46||n==88&&t.ctrlKey}function it(){return _w.location.protocol}function sr(){return _w.location.host}function hr(){var n=_d.activeElement;return!n||n.id.endsWith("sb_form_q")?_d.body:n}function rt(t){return t&&+t!=n.WindowsApiDefaultDate&&!isNaN(t.getTime())&&t.getFullYear()!=1600}function ut(n){if(!rt(n))return null;var t=n.getTime(),i=k();return Math.abs(i-t)/yt}function cr(n){var t=ut(n);return t!==null&&t>14}function lr(n){return n==="i"?13:n==="v"?14:0}function ar(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")}var f=String.fromCharCode(57346),st=new RegExp("^\\s*("+f+")?\\s*"),ht=new RegExp("\\s*("+f+")?\\s+","g"),ct=/{([0-9]+)}/g,lt=" -_/\\",at=-2147215328,vt=-2147023673,yt=864e5,i,a,ft,et,ot;n.DebugSourceName="AutoSuggest";SharedLogHelper.RegisterErrorFilter(function(n){var t=n?n.number:null,i=n?n.name:null;return t===vt||t===at||i==="Canceled"});n.isHighContrastEnabled=pt;n.isBrowserOnline=wt;n.isWebSuggestion=bt;n.cleanQuery=v;n.cleanGuid=kt;n.isEmpty=dt;n.canIconFail=gt;n.mantainCursorPositionIn=y;n.getInputType=ni;n.disableDataSources=o;n.disableWebDataSourceIfNeeded=ri;n.isMultiWord=p;n.parseQuery=ui;n.isDataSourceEnabled=w;n.isSuggestionTypeEnabled=b;n.contains=t;n.tryRemove=fi;n.removeFirstWhere=ei;n.trimList=oi;n.except=si;n.sequenceEqual=hi;n.objEquals=ci;n.log=function(){};n.getCurrentDate=function(){return new Date};_w.ClientTestHooks&&(n.log=function(n,t){return ClientTestHooks.ClientLog("- "+n,t)},i=ClientTestHooks.getUrlValue("currentdate",null),i&&(i.includes("-")||i.length!=8||(i=i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2)),n.getCurrentDate=function(){return new Date(i)}));n.getCurrentTime=k;n.getDateWithTimezone=li;n.fetchWrapper=function(n,t,i){return i()};n.formatString=ai;n.isCancellation=vi;n.safeExecute=u;n.safeSetTimeout=s;n.safeFireEvent=yi;n.invokeAsynchronously=pi;n.ensureCallbackIsAsync=h;n.WebDataSource="Web";n.WebRankingSignalDataSource="WRS";n.MRUDataSource="MRU";var c=!0,e=!0,l=!0,d=!0;n.refreshBingEnabledCache=wi;n.isBingEnabled=bi;n.isBingEnabledByClient=ki;n.isMiniSerpEnabled=di;var gi=[3,16,17,18,19,20,144,145,],g=[38,203,211,],nt=[40,204,212,],tt=g.concat(nt),nr=tt.concat(37,39,36,35);n.isFunctionalKey=tr;n.isUpOrDownKey=ir;n.isUpKey=rr;n.isDownKey=ur;n.isMovingCursorKey=fr;n.isContextMenuKey=er;n.isDeletionKey=or;n.getWindowProtocol=it;n.getWindowHost=sr;n.getCurrentActiveElement=hr;n.WindowsApiDefaultDate=-116444736e5;n.isValidDate=rt;n.getTimeDiffInDays=ut;n.olderThan2Weeks=cr;n.verticalToHandoffType=lr;a=function(){function n(){this._cancellations={};this._lastId=0}return n.prototype.register=function(n,t,i){var r=++this._lastId;return this._cancellations[r]={action:n,skipOnDismissAndLaunch:t,where:i},r},n.prototype.unregister=function(n){delete this._cancellations[n]},n.prototype.cancelAll=function(n){var t=function(t){var r=i._cancellations[t];r.skipOnDismissAndLaunch&&n||u(function(){return r.action()},r.where)},i=this;for(var r in this._cancellations)t(r);this._cancellations={}},n}();n.CancellationManager=a;ft=function(){function n(){}return n.prototype.getItem=function(n){try{return _w.localStorage?_w.localStorage.getItem(n):undefined}catch(t){return SharedLogHelper.LogError("localStorage",t,new Error("getItem")),undefined}},n.prototype.setItem=function(n,t){try{_w.localStorage&&_w.localStorage.setItem(n,t)}catch(i){SharedLogHelper.LogError("localStorage",i,new Error("setItem"))}},n.prototype.removeItem=function(n){try{return _w.localStorage.removeItem(n)}catch(t){SharedLogHelper.LogError("localStorage",t,new Error("removeItem"))}},n}();n.LightweightStorage=ft;et=function(){function n(){this._sequenceNumber=0}return n.prototype.getSequenceNumber=function(){return this._sequenceNumber},n.prototype.incrementSequenceNumber=function(){this._sequenceNumber++},n}();n.SequenceNumberManager=et;ot=function(){function t(t,i,r,u,f,e,o,s,h,c){var l=this;this._host=t;this._suggestionsParsers=i;this._rootViewModel=r;this._suggestionsRenderingManager=u;this._webProviders=f;this._otherProviders=e;this._instrumentationHelper=o;this._ariaLogger=s;this._sequenceNumberManager=h;this._latencyInstrumentation=c;n.config.cancellationEnabled&&(this._cancellationManager=new a);t.bindShown(function(){l._lastQuery=null;l._currentQuery=null;l._isPaneDismissed=!1});t.bindDismissed(function(){l.clearFetchTimer();l.finishPreviousQuery(!0);l.finalizeKeystroke(!0);l._isPaneDismissed=!0;l._rootViewModel.onDismiss()});t.bindQueryChangedOrInitialized(function(t,i){return l.onQueryChanged(t,n.config.d,i)});t.bindOnSubmit(function(n,t,i){return l.onSubmit(n,t,i)});t.initializeEvents();sj_be(_d.body,"dragstart",function(n){return n.preventDefault(),n.stopPropagation(),!1});sj_b.addEventListener("click",function(n){n.shiftKey&&sj_pd(n)})}return t.prototype.clearFetchTimer=function(){this._fetchTimer&&(sb_ct(this._fetchTimer),this._fetchTimer=null)},t.prototype.finishPreviousQuery=function(n){this.cancelPreviousQuery(n);this._suggestionsRenderingManager.resetTimers()},t.prototype.finalizeKeystroke=function(n){var t=this._sequenceNumberManager.getSequenceNumber();t>0&&this._instrumentationHelper.finalizeKeystrokeLog(t);n||this._sequenceNumberManager.incrementSequenceNumber()},t.prototype.onQueryChanged=function(n,t,i){var r=this,u;this.clearFetchTimer();this._currentQuery=n;this._lastQuery&&(!this._lastQuery.equals(this._currentQuery)||i)&&this.cancelPreviousQuery(!1);t<=0?this.fetchForQueryChange(0,!1,i):(u=Date.now(),this._fetchTimer=s(function(){r._fetchTimer=null;r.fetchForQueryChange(Date.now()-u,!1,i)},t,"fetchTimer"))},t.prototype.onSubmit=function(n,t,i){this._fetchTimer&&(this._currentQuery||(this._currentQuery=this._host.getQuery()),this.fetchForQueryChange(0,!0,!1));this._rootViewModel.submit(n,t,this._sequenceNumberManager.getSequenceNumber(),i,this._isPaneDismissed)},t.prototype.cancelPreviousQuery=function(n){this._cancellationManager&&this._cancellationManager.cancelAll(n)},t.prototype.fetchForQueryChange=function(t,i,r){var u=this,e,f,s;if(this.clearFetchTimer(),this._lastQuery&&this._lastQuery.equals(this._currentQuery)&&!r)this._rootViewModel.onQueryChanged(this._currentQuery,this._sequenceNumberManager.getSequenceNumber());else if(e=this._host.getQuery(),e.equals(this._currentQuery)){if(this.finishPreviousQuery(i),this.finalizeKeystroke(!1),this._lastQuery=this._currentQuery,f=this._sequenceNumberManager.getSequenceNumber(),this._instrumentationHelper.instrumentBeginRequest(f,this._currentQuery,t),s=!n.config.enabledDataSources.some(function(n){return w(n,u._currentQuery)}),s)this._rootViewModel.onQueryChanged(this._currentQuery,f);if(this._suggestionsRenderingManager.initiateSequenceNumber(f,this._currentQuery),!s){var o=function(){return!u._isPaneDismissed&&(n.config.d>0?e.equals(u._currentQuery):f==u._sequenceNumberManager.getSequenceNumber())},c=(new Date).getTime(),l=function(n,t,i,r,s,h){return u.onResponseReceived(e,f,n,t,i,o,r,s,c,h)},a=function(t){n.fetchWrapper(e,o,function(){u._webProviders.forEach(function(n){u.fetchWeb(e,n,f,t,o)});u._otherProviders.forEach(function(n){u.fetch(e,n,f,t,o)})});u._rootViewModel.onQueryChanged(u._currentQuery,f)};h(a,l)}}},t.prototype.fetchWeb=function(t,i,r,f,e){var c=this,s=n.Service.QueryParams,o=this._host.getCustomUrlParameters(t),h;this._host.shouldRequestEltoken()&&(o[s.RequestElToken]="1");o[s.CursorPosition]=t.cursorPosition.toString();o[s.ConversationId]=this._host.getConversationId();o[s.ImpressionGuid]=this._instrumentationHelper.getImpressionGuid(r);h=this._host.getCustomHeaders(t);u(function(){return i.fetch(t,f,r,c._cancellationManager,e,o,h)},"fetch "+i.getName())},t.prototype.fetch=function(n,t,i,r,f){var e=this;u(function(){return t.fetch(n,r,i,e._cancellationManager,f)},"fetch "+t.getName())},t.prototype.onResponseReceived=function(t,i,r,u,f,e,o,s,c,l){var a=this,v=n.getCurrentDate().getTime()-c,y,p;n.config.enableNetworkLatencyMeasurements&&o==0&&this._latencyInstrumentation&&this._latencyInstrumentation.logDataSourceRequestLatency(r,v);this._ariaLogger&&this._ariaLogger.logDataProviderLatency(r,v);e()&&(this._instrumentationHelper.instrumentResponseReceived(i,r,f,o,s),y=function(n,r,u){if(e())a.onSuggestionsParsed(t,i,n,f,r,u,l)},p=function(n){var f=a._suggestionsParsers[r];f?f.parse(t,i,r,u,e,n,a._cancellationManager):(SharedLogHelper.LogError("onResponseReceived",null,new Error("No parser for data source "+r)),n(r,[],null))},h(p,y))},t.prototype.onSuggestionsParsed=function(n,t,i,r,u,f,e){u=u.filter(function(t){return b(i,t.type,t.handoffType,n)});this._instrumentationHelper.instrumentDataSource(t,i,u,f);this._rootViewModel.onSuggestionsParsed(n,t,i,r,u,f);this._suggestionsRenderingManager.queueSuggestions(t,i,u,f,e)},t}();n.Core=ot;n.encodeQueryParameter=ar}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function dt(t){return n.contains(pt,t)}function gt(t){return n.contains(wt,t)}function ni(t){return n.contains(nt,t)}function ti(t){return n.contains(bt,t)}function ii(t){return n.contains(kt,t)}function u(n,i){return{dataSource:n,requirementLevel:function(){return h()?1:3},conditionalRequirements:function(){if(!t.isCloudSearchEnabledCache)return!1;var n=h()?t.getAccountTypeForCloudContent():t.isCortanaPersonalized?t.cortanaAccountType:t.windowsAccountType;return n==2||n==4},suggestionIsEnabled:i?function(n){return n==i}:undefined}}function h(){return t.config.wamSupported&&n.isDataSourceEnabled("SSUE",null)}function ri(){return t.config.wamSupported&&n.isDataSourceEnabled("BAW",null)}function tt(n){var i=!t.config.userProfileButtonEnabled||t.windowsAccountType==n;switch(n){case 2:return i&&t.isSubstrateOutlookAccountConnected;case 1:return i&&t.isSubstrateO365AccountConnected;case 4:return i&&t.isSubstrateO365AccountConnected&&t.isSubstrateOutlookAccountConnected;default:return!1}}function ui(n){var i=o.authenticationManager.getAllSearchWebAccountsAsync;return i?!0:t.getAccountTypeForCloudContent()==n}function r(n,i,r,u){return u===void 0&&(u=!0),{dataSource:n,requirementLevel:function(){return 0},conditionalRequirements:function(n){return t.config.wamSupported&&t.isCloudSearchEnabledCache&&u&&(r||n&&n.queryToFetch&&n.queryToFetch.length>=t.config.minLengthFor3SonL1)&&ui(i)&&tt(i)}}}function y(n){return{dataSource:"BAW",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bawminqlen)&&(r==1||r==4)}}}function p(n){return{dataSource:"MSBS",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bfbminqlens)&&(r==1||r==4)}}}function w(n){return{dataSource:"MSBC",requirementLevel:function(){return 1},conditionalRequirements:function(i){var r=t.getAccountTypeForCloudContent();return t.config.wamSupported&&t.isCloudSearchEnabledCache&&(n||i&&i.queryToFetch&&i.queryToFetch.length>=t.config.bfbminqlenc)&&(r==1||r==4)}}}function c(n){if(n===void 0&&(n=!0),!n||!t.isCloudSearchEnabledCache||!h())return!1;var i=t.getAccountTypeForCloudContent();return i==3||i==0?!1:!tt(i)}function it(){return n.contains(t.config.enabledDataSources,"EBH")&&t.config.enableEdgeBrowsingHistory}function l(){return{dataSource:"EBH",requiredCortanaCapabilities:function(){return["BrowsingHistory"]},conditionalRequirements:function(t){return it()&&(!t||!t.queryToFetch||n.normalizeUrl(t.queryToFetch,31).length>=3)}}}function rt(){return t.windowsAccountType==4?!0:t.cortanaAccountType==3?t.windowsAccountType==2:t.cortanaAccountType!=2?!1:t.config.windowsAuthForOMA&&ht()!=1?!1:!0}function ut(){return{dataSource:n.WebDataSource,requirementLevel:function(){return 1},conditionalRequirements:function(){return rt()}}}function fi(){t.ScopeConfig[i.All].getEmptyZIMessages=function(r){return f(r,i.All,t.config.useNewEmptyQueryMessages?"EmptyAllMessage":"EmptyScopeMessage",n.isBingEnabled()?"EmptyAllSubMessage":"EmptyAllSubMessageNoWeb",et(r,!0))};t.config.startMenuInWSB?t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"SM",conditionalRequirements:function(n){return n&&t.shouldFetchStartMenu(n)}},]:t.RuntimeConfig.QfMode==6?(t.ScopeConfig[i.All].icon={type:1,content:"&#xE721"},t.ScopeConfig[i.All].getEmptyZIMessages=function(n){return f(n,i.Web,"EmptyLockscreenMessage","EmptyLockscreenSubMessage")}):t.RuntimeConfig.SearchHomeAvailable==1&&t.RuntimeConfig.QfMode==8?(t.ScopeConfig[i.All].icon=t.getSearchSuggestionIcon(),t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"AFC",groupType:t.GroupType.ActivityFeedSuggestions,suggestionGroupToggler:v(t.GroupType.ActivityFeedSuggestions)},],t.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.GroupType.ActivityFeedSuggestions,]},t.ScopeConfig[i.AppsSettings].enabledDataSourcesForZeroInput=t.ScopeConfig[i.All].enabledDataSourcesForZeroInput,t.ScopeConfig[i.AppsSettings].staticGroupOrderForZeroInput=t.ScopeConfig[i.All].staticGroupOrderForZeroInput):t.RuntimeConfig.SearchHomeAvailable==1&&t.RuntimeConfig.QfMode!=7?(t.ScopeConfig[i.All].icon=t.getSearchSuggestionIcon(),t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[{dataSource:"TOPP",groupType:t.GroupType.TopApps,suggestionGroupToggler:v(t.GroupType.TopApps)},{dataSource:"AFC",groupType:t.GroupType.ActivityFeedSuggestions,suggestionGroupToggler:v(t.GroupType.ActivityFeedSuggestions)},{dataSource:"QSCH",groupType:t.GroupType.QuickSearch,suggestionGroupToggler:v(t.GroupType.QuickSearch)},],t.ScopeConfig[i.All].staticGroupOrderForZeroInput=function(){return[t.GroupType.TopApps,t.GroupType.ActivityFeedSuggestions,t.GroupType.QuickSearch,]},t.ScopeConfig[i.AppsSettings].enabledDataSourcesForZeroInput=t.ScopeConfig[i.All].enabledDataSourcesForZeroInput,t.ScopeConfig[i.AppsSettings].staticGroupOrderForZeroInput=t.ScopeConfig[i.All].staticGroupOrderForZeroInput):t.ScopeConfig[i.All].enabledDataSourcesForZeroInput=[]}function ft(){t.ScopeConfig={};t.ScopeConfig[i.All_FileExplorer]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"FEH"},{dataSource:"IFF"},{dataSource:"MDOC",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MPHO",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MVID",conditionalRequirements:function(){return t.config.useL2ProvidersInFileExplorer}},{dataSource:"MODC",requirementLevel:function(){return 1},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"ODC",requirementLevel:function(){return 1},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSUE",requirementLevel:function(){return 0},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},{dataSource:"SSEE",requirementLevel:function(){return 0},conditionalRequirements:function(){return t.config.cloudSearchInFileExplorer&&(t.config.fileExplorerCloudInSpecialFolders&&t.isFileExplorerCurrentPathThisPcOrQuickAccess||!!o.fileExplorerSuggestionPage.currentSyncRootAccount)}},],enabledDataSourcesForZeroInput:[{dataSource:"FEH"},],getEmptyZIMessages:null};t.ScopeConfig[i.All_Lockscreen]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},],enabledDataSourcesForZeroInput:[{dataSource:"LSQS"}],getEmptyZIMessages:null};t.ScopeConfig[i.All_SettingsApp]={icon:null,prefixesLocString:null,enabledDataSources:[{dataSource:"ST"},{dataSource:"MST"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.All]=t.config.lightAllScope?{icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:n.MRUDataSource},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"QS",requirementLevel:function(){return 1}},{dataSource:"WRS",requirementLevel:function(){return 1}},r("SSUE",1,!1),],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null}:{icon:{content:"&#xE782",type:2,needsAccentColor:!0},prefixesLocString:"ScopeAll",enabledDataSources:[{dataSource:"PP"},{dataSource:"ST"},{dataSource:"FL"},{dataSource:"LM"},{dataSource:"IFF"},{dataSource:"LDIC"},{dataSource:"CG"},{dataSource:"PBI",requirementLevel:function(){return 2},conditionalRequirements:function(n){return n&&n.queryToFetch&&n.queryToFetch.length>=6&&n.queryToFetch.trim().includes(" ")}},{dataSource:n.MRUDataSource},{dataSource:"MPP"},{dataSource:"MST"},{dataSource:"MFF"},{dataSource:n.WebDataSource,requirementLevel:function(){return 1}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"QS",requirementLevel:function(){return 1}},l(),r("SSUE",1,!1),r("SSUC",2,!1),y(!1),{dataSource:"WRS",requirementLevel:function(){return 1}},p(!1),w(!1)],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.Apps]={icon:{content:"&#xEB3B",type:2},prefixesLocString:"ScopeApps",enabledDataSources:[{dataSource:n.WebDataSource,suggestionIsEnabled:function(){return!1},requirementLevel:function(){return 1}},{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MPP"},{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}},{dataSource:"OSTMA",requirementLevel:function(){return 1}},{dataSource:"IBA"},],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"TOPP",conditionalRequirements:function(n){return n.isSearchHomeZI}},{dataSource:"MPP"},n.contains(t.config.enabledDataSources,"LRA")?{dataSource:"LRA"}:{dataSource:"PP",suggestionIsEnabled:function(n){return n=="PP"}}],staticGroupOrderForZeroInput:function(n){return n.isSearchHomeZI?[t.GroupType.TopApps,t.GroupType.Apps]:undefined},getEmptyZIMessages:function(n){return f(n,i.Apps,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage","EmptyScopeSearchLocation_PCAndStore")}};t.ScopeConfig[i.Settings]={icon:{content:"&#xE713",type:2},prefixesLocString:"ScopeSettings",enabledDataSources:[{dataSource:n.WebDataSource,suggestionIsEnabled:function(){return!1},requirementLevel:function(){return 1}},{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},{dataSource:"ST"},{dataSource:"QS",requirementLevel:function(){return 1}}],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MST"},],getEmptyZIMessages:function(n){return f(n,i.Settings,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptySettingsSubMessage")}};t.ScopeConfig[i.Photos]={icon:{content:"&#xEB9F",type:2},prefixesLocString:"ScopePhotos",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="LI"}},u("ODC","LI"),u("MODC","LI"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LI"}},],getEmptyZIMessages:function(n){return e(n,i.Photos,!0)}};t.ScopeConfig[i.Videos]={icon:{content:"&#xE714",type:1},prefixesLocString:"ScopeVideos",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="LV"}},u("ODC","LV"),u("MODC","LV"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="LV"}},],getEmptyZIMessages:function(n){return e(n,i.Videos,!0)}};t.ScopeConfig[i.Music]={icon:{content:"&#xE8D6",type:2},prefixesLocString:"ScopeMusic",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},{dataSource:"MMUS",suggestionIsEnabled:function(n){return n=="MU"}},u("ODC","MU"),u("MODC","MU"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="MU"}},],getEmptyZIMessages:function(n){return e(n,i.Music,!1)}};t.ScopeConfig[i.Documents]={icon:{content:"&#xE7C3",type:2},prefixesLocString:"ScopeDocuments",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MDOC",suggestionIsEnabled:function(n){return n=="FL"}},{dataSource:"MPHO",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},{dataSource:"MVID",suggestionIsEnabled:function(n){return n=="FL"},conditionalRequirements:function(n){return!n||!n.taskFrame}},u("ODC","FL"),u("MODC","FL"),{dataSource:"PP",suggestionIsEnabled:function(n){return n=="LDOC"}},r("SSUE",1,!0),r("SSEE",1,!0),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FL"}},r("SSEE",1,!0,!!t.config.zeroInputCloudDocs),],showUpsellOnSuggestionsList:function(){return c(t.getAccountTypeForCloudContent()==1||!!(t.config.accountVerifyMessage&&t.getAccountTypeForCloudContent()==4))},getEmptyZIMessages:function(n){return e(n,i.Documents,!1)}};t.ScopeConfig[i.Folders]={icon:{content:"&#xE838",type:2},prefixesLocString:"ScopeFolders",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"MFOL",suggestionIsEnabled:function(n){return n=="FD"}},{dataSource:"LDIC"},u("ODC","FD"),u("MODC","FD"),],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(){return!1}},{dataSource:"MFF",suggestionIsEnabled:function(n){return n=="FD"}},],getEmptyZIMessages:function(n){return e(n,i.Folders,!1)}};t.ScopeConfig[i.Web]={icon:{content:"&#xE774",type:1},prefixesLocString:"ScopeWeb",enabledDataSources:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(n,t){return t==1}},{dataSource:n.WebDataSource,suggestionIsEnabled:function(t,i){return n.contains([0,13,14,10,5,1],i)},requirementLevel:function(){return 1}},{dataSource:"PP",suggestionIsEnabled:function(n,t){return t==1}},l(),y(!0),{dataSource:"WRS",requirementLevel:function(){return 1}},p(!0),w(!0)],enabledDataSourcesForZeroInput:[{dataSource:n.MRUDataSource,suggestionIsEnabled:function(n,t){return t==1}},ut(),l(),],getEmptyZIMessages:function(n){return f(n,i.Web,t.config.useNewEmptyQueryMessages?"EmptyWebMessage":"EmptyScopeMessageWeb","EmptyWebSubMessage")}};t.ScopeConfig[i.PathCompletion]={icon:{content:"&#xE782",type:2,needsAccentColor:!0},scopeNameLocString:t.config.pathCompletionReplacesAll?"PathCompletionScopeName":null,prefixesLocString:null,enabledDataSources:[{dataSource:"PT"},{dataSource:"CG"},],enabledDataSourcesForZeroInput:[],getEmptyZIMessages:null};t.ScopeConfig[i.Emails]={icon:{content:"&#xE715",type:2},prefixesLocString:"ScopeEmails",enabledDataSources:[r("SSEE",1,!0),r("SSEC",2,!0),],enabledDataSourcesForZeroInput:[],showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.Emails,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyEmailSubMessage")}};t.ScopeConfig[i.People]={icon:{content:"&#xE716",type:2},prefixesLocString:"ScopePeople",enabledDataSources:[r("SSUE",1,!0),r("SSUC",2,!0),y(!0),p(!0),w(!0),],enabledDataSourcesForZeroInput:[r("SSUE",1,!0),r("SSUC",2,!0),],showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.People,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};t.ScopeConfig[i.PeopleEmail]={icon:{content:"&#xE716",type:2},prefixes:["People","people","email","Email"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.People].enabledDataSources.concat(t.ScopeConfig[i.Emails].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.People].enabledDataSourcesForZeroInput,showUpsellOnSuggestionsList:function(){return c()},getEmptyZIMessages:function(n){return f(n,i.PeopleEmail,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyPeopleSubMessage")}};t.ScopeConfig[i.AppsSettings]={icon:{content:"&#xEB3B",type:2},prefixes:["Apps/Settings","apps","app","settings","setting"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Apps].enabledDataSources.concat(t.ScopeConfig[i.Settings].enabledDataSources).filter(function(t){return!n.contains(["OSTMA","QS",n.WebDataSource],t.dataSource)}),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Apps].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Settings].enabledDataSourcesForZeroInput).filter(function(t){return!n.contains(["OSTMA","QS",n.WebDataSource],t.dataSource)}),getEmptyZIMessages:function(n){return e(n,i.AppsSettings,!1)}};t.ScopeConfig[i.FilesFolders]={icon:{content:"&#xE7C3",type:2},prefixes:["Files/Folders","documents","document","docs","doc","files","file","music","image","images","photo","photos","picture","pictures","video","videos"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Documents].enabledDataSources.concat(t.ScopeConfig[i.Folders].enabledDataSources,t.ScopeConfig[i.Photos].enabledDataSources,t.ScopeConfig[i.Music].enabledDataSources,t.ScopeConfig[i.Videos].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Documents].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Folders].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Photos].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Music].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Videos].enabledDataSourcesForZeroInput),getEmptyZIMessages:function(n){return e(n,i.FilesFolders,!1)}};t.ScopeConfig[i.AllFiles]={icon:{content:"&#xE7C3",type:2},prefixes:["Files","documents","document","docs","doc","files","file","music","image","images","photo","photos","picture","pictures","video","videos"],prefixesLocString:null,enabledDataSources:t.ScopeConfig[i.Documents].enabledDataSources.concat(t.ScopeConfig[i.Folders].enabledDataSources,t.ScopeConfig[i.Photos].enabledDataSources,t.ScopeConfig[i.Music].enabledDataSources,t.ScopeConfig[i.Videos].enabledDataSources),enabledDataSourcesForZeroInput:t.ScopeConfig[i.Documents].enabledDataSourcesForZeroInput.concat(t.ScopeConfig[i.Folders].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Photos].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Music].enabledDataSourcesForZeroInput,t.ScopeConfig[i.Videos].enabledDataSourcesForZeroInput),getEmptyZIMessages:function(n){return e(n,i.AllFiles,!1)}};for(var s in t.ScopeConfig)t.ScopeConfig[s].enabledDataSources=t.ScopeConfig[s].enabledDataSources.filter(function(i){return n.contains(t.config.enabledDataSources,i.dataSource)}),t.ScopeConfig[s].enabledDataSourcesForZeroInput=t.ScopeConfig[s].enabledDataSourcesForZeroInput.filter(function(i){return n.contains(t.config.enabledDataSources,i.dataSource)})}function ei(){s=null}function et(t,i){var f=t.getConnectedAccountInfo(0),e=t.getConnectedAccountInfo(1),r=!!(f||e),u=i&&n.isBingEnabled();return r&&u?"EmptyScopeSearchLocation_PCCloudAndWeb":r?"EmptyScopeSearchLocation_PCAndCloud":u?"EmptyScopeSearchLocation_PCAndWeb":"EmptyScopeSearchLocation_PC"}function e(n,i,r){return f(n,i,t.config.useNewEmptyQueryMessages?"EmptyScopeMessageNew":"EmptyScopeMessage","EmptyScopeSubMessage",et(n,r))}function f(n,i,r,u,f){var e=ot(t.ScopeConfig[i],n).toLocaleLowerCase(),o=f?n.getLocString(f):"",s=n.getLocString(r,e,o),h=t.config.useNewEmptyQueryMessages||t.RuntimeConfig.QfMode==6?n.getLocString(u,e,o):"";return[s,h]}function oi(n){var f=function(n){return HitHighlightingParser.removeDiacritics(n.toLocaleLowerCase().trim())},r,u;if(s={},t.RuntimeConfig.ScopesAvailable){r=function(r){var e=parseInt(r),u=t.ScopeConfig[e],o,h;e!=i.All&&a(e,u)&&(!u.prefixes&&u.prefixesLocString&&(o=n.getLocString(u.prefixesLocString),h=n.getEnUsLocString(u.prefixesLocString),u.prefixes=st(o,h)),u.prefixes&&u.prefixes.forEach(function(n){return s[f(n)]=e}))};for(u in t.ScopeConfig)r(u)}}function ot(n,t){if(n.scopeNameLocString)return t.getLocString(n.scopeNameLocString);if(n.prefixes)return n.prefixes[0].trim();if(n.prefixesLocString){var i=st(t.getLocString(n.prefixesLocString));return i[0].trim()}return""}function st(n,t){var i=n;return t&&(i+=","+t),i.search(g)>-1&&(i=i.replace(g,",")),i.split(",")}function a(r,u){var c=t.RuntimeConfig.AlwaysWide?t.config.enabledScopesAlwaysWide:t.config.enabledScopes,f,s,e,o,h;if(!n.contains(c,i[r])||r==i.Web&&!n.isBingEnabled())return!1;if(u.showUpsellOnSuggestionsList&&u.showUpsellOnSuggestionsList())return!0;for(f=t.config.enabledDataSources.filter(function(t){return t!=n.MRUDataSource}),n.isBingEnabled()&&r!=i.Web&&(f=f.filter(function(t){return t!=n.WebDataSource})),s=function(n){lt(n,null)||(f=f.filter(function(t){return t!=n.dataSource}))},e=0,o=u.enabledDataSources;e<o.length;e++)h=o[e],s(h);return u.enabledDataSources.some(function(t){return n.contains(f,t.dataSource)})?!0:!1}function ht(){if(t.windowsAccountType==0||t.cortanaAccountType==0)return 0;if(t.windowsAccountType!=t.cortanaAccountType)return 2;if(t.windowsAccountType!=3)if(t.windowsIdentity&&t.cortanaIdentity){if(t.windowsIdentity!=t.cortanaIdentity)return 2}else return 0;return 1}function si(r,u,f,e,o){var h,l,b,v,y,p,c,w;o||(o={});var k=o.topHitRestriction,d=o.forceGroupOnTop,g=o.overrideAction,nt=o.overrideActionHandlerAsync,s=n.parseQuery(r,u,k);if(s.fullPartialQuery=s.queryToFetch,s.scope=a(i.All,t.ScopeConfig[i.All])?i.All:i.AppsSettings,s.forceGroupOnTop=d,s.overrideAction=g,s.overrideActionHandlerAsync=nt,li(s,e))s.isFormulatedQuery=!0,h=t.ScopeConfig[yt(s)];else{s.fullPartialQuery&&(hi(s),f&&s.scope!=f.scope&&(s.isFormulatedQuery=!0));s.isSearchHomeZI=!s.queryToFetch&&(t.RuntimeConfig.SearchHomeAvailable==1||t.RuntimeConfig.SearchHomeAvailable==2&&s.scope!=i.All);(s.scope==i.All||s.scope==i.Web)&&(l=n.tryParseUrl(s.queryToFetch,!0),l&&l.type==0?(s.isProtocol=!0,s.fixedUrl=n.cleanAndFixUrlProtocol(l)):ct.test(s.queryToFetch)&&(s.isProtocol=!0,s.fixedUrl=n.cleanAndFixUrlProtocol(s.queryToFetch)));switch(t.RuntimeConfig.QfMode){case 5:h=t.ScopeConfig[i.All_FileExplorer];break;case 6:h=t.ScopeConfig[i.All_Lockscreen];break;case 7:h=t.ScopeConfig[i.All_SettingsApp];break;default:h=t.ScopeConfig[s.scope]}for(b=s.queryToFetch?h.enabledDataSources:h.enabledDataSourcesForZeroInput,s.availableDataSources={},v=0,y=b;v<y.length;v++)c=y[v],n.contains(t.config.enabledDataSources,c.dataSource)&&(s.availableDataSources[c.dataSource]=c);s.enabledDataSources={};for(p in s.availableDataSources)c=s.availableDataSources[p],c.suggestionGroupToggler&&c.suggestionGroupToggler.isHidden()||(s.enabledDataSources[p]=c);w=s.queryToFetch?h.staticGroupOrder:h.staticGroupOrderForZeroInput;w&&(s.staticGroupOrder=w(s))}return ci(s,h),s.showProgressBar=t.isL2(s)&&t.config.dataSourcesWithProgressBar.some(function(n){return!!s.enabledDataSources[n]}),s.equals=function(n){return(s.queryToFetch?s.queryToFetch.toLowerCase():s.queryToFetch)==(n.queryToFetch?n.queryToFetch.toLowerCase():n.queryToFetch)&&n.scope==s.scope&&(n.taskFrame?n.taskFrame.raw:"")==(s.taskFrame?s.taskFrame.raw:"")&&n.topHitRestriction==s.topHitRestriction},s.getCacheKey=function(){return s.cursorPosition+s.queryToFetch.toLocaleLowerCase()+s.scope+t.regionCache},s}function hi(r){var h=n.isDataSourceEnabled("PT",null),c=h&&b.test(r.fullPartialQuery),e,u,o;if(c){r.canBePathCompletion=!0;r.scope=i.PathCompletion;return}if(e=HitHighlightingParser.removeDiacritics(r.originalQuery),u=e.match(/^(([^:
]|^\/+/;b=/^[a-z]:\\|^%[^%]+%\\|^\\/i;t.parseQuery=si;t.parseTaskFrame=ai;at="action://FindMyStuff/FindDocument";vt="action://FindMyStuff/FindMessage";t.getEffectiveScope=yt;t.getEffectiveQuery=yi;d="HiddenSuggestionGroups";t.initQueryParser=wi})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){function lt(n,t){return n.type==t.type&&n.source==t.source}function vt(n){switch(n){case"PP":return"Apps";case"ST":return"Settings";case"FL":return"Files";case"LM":return"Media";default:return null}}function yt(n){switch(n){case"FL":case"LM":case"IFF":case"MFF":case"PT":case"CG":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"EBH":case"FEH":case"AFC":case"LDIC":return!0;case"OSTMA":case"QS":case"PP":case"LRA":case"ST":case"PBI":case"MPP":case"MST":case"IBA":case"SM":case"THST":case"TOPP":case"QSCH":case"LSQS":return!1}throw new Error("New local data source "+n+" needs to be explicity classified as potentially containing PII or not");}function pt(n){var t=e(n);return n.deviceItem&&n.handoffType==2?t+"\t"+n.deviceItem.id:t+"\t"+n.query}function l(n){switch(n.type){case"BKS":case"ML":case"MB":case"OS":case"RI":case"HS":case"EBH":return!0}switch(n.handoffType){case 1:case 17:case 13:case 16:case 0:case 11:case 14:return!0}return!1}function a(n){switch(n){case"MFF":case"FL":case"LM":case"IFF":case"MDOC":case"MPHO":case"MVID":case"MMUS":case"MFOL":return!0;default:return!1}}function wt(n,i){if(!t.IndexerQueryGenerator)return!1;if(t.RuntimeConfig.QfMode==5)return!0;switch(n){case"IBA":case"MDOC":case"MPHO":case"MVID":case"MMUS":case"MFOL":return!0;case"IFF":return nt(i)||!t.config.minLengthForIBAonL1||i.queryToFetch.length>=t.config.minLengthForIBAonL1;default:return!1}}function bt(n){return SearchAppWrapper.CortanaApp.hostingEnvironment==4?!0:t.RuntimeConfig.MiniSERPMode==0||n.previewPaneType!=1?!1:n.isAnswer?(t.RuntimeConfig.MiniSERPMode&1)!=0:n.type=="MD"?(t.RuntimeConfig.MiniSERPMode&2)!=0:(t.RuntimeConfig.MiniSERPMode&4)!=4?!1:n.query.length>=t.config.minPrefixLengthForMiniSerp}function kt(n){return a(n)||n=="IBA"||n=="EBH"}function dt(n){return n&&(n.tagName.toLowerCase()=="body"||n.tagName.toLowerCase()=="iframe"||n.className&&n.classList.contains("suggestion"))}function gt(n){return n.kind=="Modern Setting"}function v(n){return t.isApp(n.type)?n.deviceItem:null}function ni(n){var i=v(n),t;return i?i.packageFamilyName:(t=n,t.packageFamilyName)?t.packageFamilyName:null}function ti(n){return t.isFileOrFolder(n.type)?n.deviceItem:null}function y(n){switch(n){case"PBI":case"EBH":return!1}return!0}function ii(n){return!!n.suggestions}function ri(n){return y(n.type)?n.deviceItem:null}function ui(n){return n.type=="CG"?n.deviceItem:null}function fi(n){return n.type=="PT"?n.deviceItem:null}function ei(n){return n.type=="PBI"?n.deviceItem:null}function p(n){return n.type=="EBH"?n.deviceItem:null}function oi(n){return n&&n.classList.contains("scopeTile")}function e(n){if(typeof n.staticGroupType=="number")return n.staticGroupType;if(t.RuntimeConfig.QfMode==8&&l(n))return i.SearchSuggestions;if(t.config.newFilesScope2&&(n.type=="FL"||n.type=="FD"||n.type=="MU"||n.type=="LI"||n.type=="LV"))return i.Documents;switch(n.type){case"SM":return i.StartMenu;case"TOPL":return i.TopApps}if(t.isApp(n.type))return i.Apps;if(s(n))return n.groupType;if(t.isSetting(n.type))return i.Settings;switch(n.type){case"CG":return i.Command;case"PT":return i.PathCompletion;case"LI":return i.Photos;case"LV":return i.Videos;case"MU":return i.Music;case"PBI":return i.PowerBi;case"FL":case"LDOC":case"SDFE":return i.Documents;case"FD":return i.Folders;case"OLE":case"OWA":return i.Emails;case"PPL":return i.People;case"EBH":return i.EdgeHistory;case"BKS":return i.Bookmarks;case"ELA":return i.LocalPlaces;case"FEH":return i.LocalSearchHistory;case"SNSC":case"RSSG":return i.QuickSearch;case"LSQS":return i.LockscreenQuickSearch;default:switch(n.handoffType){case 3:return i.Store;case 5:case 4:return i.Cortana;case 10:return n.htmlContent?i.SearchSuggestions:i.Cortana;case 0:case 13:case 14:return i.SearchSuggestions;case 1:return i.Websites;case 18:return i.ActivityFeedSuggestions}throw new Error("Unexpected handoff type: "+n.handoffType);}}function si(n){return n.click&&!n.instItem}function o(n){switch(n){case i.JumpListTasks:case i.JumpListPinned:case i.JumpListRecent:case i.JumpListFrequent:case i.JumpListCustom:return!0;default:return!1}}function w(t){return t.notAResult&&!n.contains(["SW","PWL","SSTS"],t.type)}function hi(n){return t.config.recourseOnlyInGroups&&n.suggestions.every(function(n){return w(n)})}function ci(n){var t=n.type;return o(t)||t==i.Related||t==i.Contact}function li(n){if(o(n))return i.Apps;if(n==i.Related)return i.SearchSuggestions;if(n==i.Contact)return i.People;throw new Error("Not a top hit child group: "+n);}function s(n){return!!n.parent}function ai(n){return n.type=="JL"}function b(n){switch(n){case i.Apps:case i.Store:return t.Scope.Apps;case i.Settings:return t.Scope.Settings;case i.Documents:return t.Scope.Documents;case i.Folders:return t.Scope.Folders;case i.Photos:return t.Scope.Photos;case i.Videos:return t.Scope.Videos;case i.Music:return t.Scope.Music;case i.LocalPlaces:case i.SearchSuggestions:case i.Websites:case i.EdgeHistory:case i.Bookmarks:return t.Scope.Web;case i.Emails:return t.Scope.Emails;case i.People:return t.Scope.People}return t.Scope.All}function vi(n){if(t.RuntimeConfig.QfMode==8&&n==1)return 32;switch(n){case 0:case 6:case 7:case 8:return 32;case 1:return 16;case 2:return t.IconSize_GridLayout_Scaled;case 3:return 24;case 4:return 64;case 5:return 200}throw new Error("Unsupported image size: "+n);}function yi(n,t,i){if(n&&n.type==0&&it(t)){var u=function(t){n.ratio=t.height==t.width?1:t.height>t.width?3:2;i()},r=new Image;r.src=n.content;r.onload=function(){return u({height:r.height,width:r.width})}}else i()}function pi(){var n=t.uiLanguageCache.toLocaleLowerCase();return k[n]||n}function d(n,t,i,r,u,f,e,o,s,h,c,l,a){var v={text:t,getIcon:i,icon:r,type:u,query:f,ciMatchedQuery:null,id:c,click:l,handoffType:o,instItem:e,isAnswer:!1,htmlContent:null,classNames:[],selected:!1,featureStore:undefined,sequenceNumber:s,getMruData:function(){return null},template:0,mayContainPII:h,features:[],previewPaneType:undefined};return v.previewPaneType=er(n,v,a),v}function wi(t,i,r,u,f,e,o,s,h){var l=t.getInstrumentedSyntheticSuggestion(r,u),v,a;return l?l:(v=i.scope,l=d(i,null,null,f,u,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(u,c.KValues),e,r,!1,u),l.notAResult=!0,l.primaryMetadata=o,s&&(l.additionalInfoText=" - "+l.primaryMetadata),a=function(n){l.query=n.queryToFetch;l.text=HitHighlightingParser.addMarkers(n.queryToFetch);l.narratorText=g(l);l.click=function(){return h(l,n)}},a(i),l.updateFromQuery=function(n){return!n.isProtocol&&n.scope==v&&n.queryToFetch?(a(n),!0):!1},t.instrumentSyntheticSuggestion(r,l),l)}function g(n,t){var i,r,u;return n.htmlContent?null:(i=p(n)?[n.primaryMetadata||n.text]:[n.text],r=n.dateShort,r&&i.push(r),t?i.push(t):(n.primaryMetadata&&(i.push(n.primaryMetadata),u=n.department,u&&i.push(u)),n.template==1&&n.secondaryMetadata&&i.push(n.secondaryMetadata)),HitHighlightingParser.removeMarkers(i.join(", ")))}function nt(n){return n.scope!=t.Scope.All||!!n.taskFrame}function tt(n){return typeof n=="string"?n=="LI"||n=="LV":n==i.Photos||n==i.Videos}function it(n){return tt(n)||n=="PPL"}function bi(n){return!t.config.disableMediaGridLayout&&!t.RuntimeConfig.AlwaysWide&&tt(n)}function ki(n,i){var f,u,e,r;if(!n||!t.RuntimeConfig.ScopesAvailable)return null;if(i.scope==t.Scope.All){if(f=[],n.ISUPN&&n.ISUPG)if(u=n.ISUPN.split("\t"),e=n.ISUPG.split("\t"),u.length==e.length)for(r=0;r<u.length;r++)f.push(e[r]+"\t"+u[r]);else SharedLogHelper.LogError("parseWebSuppressionSignals",null,new Error("parsedNames.length != parsedGroups.length"));return{fullySuppressedGroups:n.FSUP?n.FSUP.split("\t"):null,partiallySuppressedGroups:n.PSUP?n.PSUP.split("\t"):null,suppressedSuggestions:f}}return null}function di(t){return r||(r=_d.createElement("span")),n.safeExecute(function(){return r.innerHTML=t,r.innerText},t,"decodeHtml")}function gi(n,t){return{matchType:n,matchedText:t}}function ut(n){return n.replace(rt,"\\$&")}function nr(n,t){if(t){var u=n.includes(HitHighlightingParser.startMarker),e=u?n:HitHighlightingParser.addMarkers(n,t),f=HitHighlightingParser.split(e).find(function(n){return n.highlighted});if(f){var r=u?HitHighlightingParser.removeMarkers(n):n,o=new RegExp("((?:\\\\[^\\\\]+)?\\\\[^\\\\]+)?\\\\"+ut(f.text)+".*","i"),i=o.exec(r);if(i&&i[0])return{matchType:h.Location,matchedText:r.startsWith(i[0])?r:String.fromCharCode(8230)+i[0]}}}return null}function tr(n,t){if(t){var r=n.includes(HitHighlightingParser.startMarker),o=r?n:HitHighlightingParser.addMarkers(n,t),u=HitHighlightingParser.split(o).find(function(n){return n.highlighted});if(u){var f=r?HitHighlightingParser.removeMarkers(n):n,s=new RegExp("(?:\\S+\\s){0,3}\\b"+ut(u.text)+"\\S*(?:\\s\\S+){0,5}","i"),i=s.exec(f),e=void 0;return i&&i[0]&&(e={matchType:h.Content,matchedText:i[0]}),[f,e]}}return[null,null]}function ir(n,t){return n&&t&&HitHighlightingParser.addMarkers(n,t).includes(HitHighlightingParser.startMarker)}function rr(n){return n==t.Scope.Emails}function ur(n){return n.isAnswer&&(n.handoffType==13||n.handoffType==14||n.handoffType==0&&(!!n.additionalInfoText||!!n.secondaryIcon))}function fr(n){if(s(n))return!1;switch(n.handoffType){case 0:case 13:case 14:case 5:case 10:case 4:return!0;case 3:return n.type=="STS";case 2:return n.type=="PBI"||n.type=="SDFE";case 8:case 12:return n.type=="OWA";default:return!1}}function er(r,u,f){var o=undefined,s;if(!t.RuntimeConfig.PreviewPaneAvailable||r.isSearchHomeZI)return o;if(s=function(){return n.isBingEnabled()&&n.contains([0,13,14],u.handoffType)&&!u.htmlContent?1:o},f)return s();switch(e(u)){case i.Store:return(t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn)&&u.type!="STS"?2:o;case i.Apps:case i.PowerBi:case i.Cortana:case i.Command:case i.Documents:case i.Folders:case i.Music:case i.PathCompletion:case i.Emails:case i.Photos:case i.Settings:case i.Videos:return t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn?2:o;case i.StartMenu:return 2;case i.People:return u.handoffType==0?1:u.handoffType==1?o:u.handoffType==17?3:t.RuntimeConfig.AlwaysWide||t.config.enableLocalPreviewPaneInSingleColumn?2:o;case i.Bookmarks:return u.handoffType==17?3:s();case i.Websites:return n.isBingEnabled()&&u.type!="LURL"?1:o;default:return s()}}function or(){return t.RuntimeConfig.QfMode==2?null:t.regionCache}function sr(n,t,i){var r=i.previewPaneType,u,f;return r?(u=t.previewPaneType,f=r==1&&u==1,t.query.toLocaleLowerCase()==i.query.toLocaleLowerCase()&&(!f&&r==u||f&&t.handoffType==i.handoffType)):!1}function hr(n){return t.config.startMenuInWSB&&n&&!n.queryToFetch&&n.scope==t.Scope.All}function cr(n){return n==null}function lr(r,u){return r==i.Documents&&t.isSubstrateO365AccountConnected||t.isFileOrFolderScope(b(r))&&(n.isDataSourceEnabled("ODC",u)||n.isDataSourceEnabled("MODC",u))}function ar(n,t){switch(n){case 2:return"OneDrive";case 3:return t.getLocString("OneDriveForBusiness");case 4:return"SharePoint";case 1:return t.getLocString("ThisPC");case 5:return t.getLocString("MsbPeopleGroups");case 6:return t.getLocString("MsbPeopleContacts")}return null}function vr(n){if(ot())switch(n){case 37:return 39;case 39:return 37}return n}function yr(){return{content:"&#xE721",type:2}}function pr(n){return n.getLocString("SearchTheWeb")}function wr(n){return n.getLocString("Websites")}function br(n){return n.getLocString("SeeWebResults")}function kr(n,t){var i="b_hide";n&&(t?n.classList.remove(i):n.classList.add(i))}function ot(){return ThresholdUtilities.isRightToLeftLanguage(t.uiLanguageCache)}function dr(){u={}}function st(t){var i=u[t],r;return typeof i=="undefined"&&(r=SearchAppWrapper.CortanaApp.queryFormulationView.deviceSearch,r.getFolderPathFromKnownFolderIdGuid?(i=n.safeExecute(function(){return r.getFolderPathFromKnownFolderIdGuid(t)},"getPathFromFolderID","",t),i=i.toLocaleLowerCase()):i="",u[t]=i),i}function gr(){f={}}function nu(n){var t,i;return n.startsWith("{")?(t=f[n],t||(i=n.match(ht),t=i?st(i[1])+i[2]:n,f[n]=t),t):n}function tu(n){return n.startsWith("file:")&&(n=n.slice(5)),n.replace(/\//g,"\\")}function iu(n){return t.config.enforceOriginalOrderForTypes[n.type]||t.config.enforceOriginalOrderForTypes[n.type+"|"+n.handoffType]}function ru(n){switch(n){case 2:return 0;case 1:return 1;default:throw new Error("Not a logged in account: "+n);}}function uu(n){return n==1?"https://substrate.office.com":"https://substrate.office.com/SubstrateSearch-Internal.ReadWrite"}function fu(n){return n==1?"https://www.bing.com/cortana":"service::cortana.bing.com::mbi_ssl"}function ct(){return"Windows"}function eu(){return ct()=="Windows"?t.windowsAccountType:t.cortanaAccountType}function ou(){return!1}function su(n){return t.TweakSearch&&t.TweakSearch.isTweakSearchEnabled()?t.config[n]:undefined}function hu(){return t.config.skipSelectedScope&&t.RuntimeConfig.AlwaysWide}function cu(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var i,c,at,k,r,h,rt,ft,et,u,f,ht;(function(n){n[n.Apps=0]="Apps";n[n.Settings=1]="Settings";n[n.Cortana=2]="Cortana";n[n.Command=3]="Command";n[n.Photos=4]="Photos";n[n.Videos=5]="Videos";n[n.Music=6]="Music";n[n.Documents=7]="Documents";n[n.Folders=8]="Folders";n[n.Emails=9]="Emails";n[n.Store=10]="Store";n[n.SearchSuggestions=11]="SearchSuggestions";n[n.PathCompletion=12]="PathCompletion";n[n.PowerBi=13]="PowerBi";n[n.JumpListTasks=14]="JumpListTasks";n[n.JumpListPinned=15]="JumpListPinned";n[n.JumpListRecent=16]="JumpListRecent";n[n.JumpListFrequent=17]="JumpListFrequent";n[n.JumpListCustom=18]="JumpListCustom";n[n.JumpListActivityFeed=19]="JumpListActivityFeed";n[n.People=20]="People";n[n.EdgeHistory=21]="EdgeHistory";n[n.LocalPlaces=22]="LocalPlaces";n[n.Bookmarks=25]="Bookmarks";n[n.Related=26]="Related";n[n.Websites=27]="Websites";n[n.Contact=28]="Contact";n[n.JumpListSynthetic=29]="JumpListSynthetic";n[n.JumpListActions=30]="JumpListActions";n[n.StartMenu=31]="StartMenu";n[n.LocalSearchHistory=32]="LocalSearchHistory";n[n.JumpListSettingsFaq=33]="JumpListSettingsFaq";n[n.JumpListSettingsRelatedSettings=34]="JumpListSettingsRelatedSettings";n[n.ActivityFeedSuggestions=35]="ActivityFeedSuggestions";n[n.TopApps=36]="TopApps";n[n.QuickSearch=37]="QuickSearch";n[n.LockscreenQuickSearch=38]="LockscreenQuickSearch";n[n.GroupHeader=104]="GroupHeader"})(i=t.GroupType||(t.GroupType={}));t.sameGroup=lt,function(n){n.KValues=function(){var n={};return n.GPT=108,n.GT=109,n.GW=110,n.SW=114,n.PWL=115,n.STS=116,n.SBI=117,n.SBV=118,n.SDSC=119,n.SDIO=120,n.IMIO=121,n.COFA=122,n.COOA=124,n.SDFE=126,n.OWA=128,n.OMCS=129,n.OMIO=130,n.OMCN=131,n.OMCD=132,n.OMAC=133,n.OMSC=134,n.OMVA=135,n.SSTS=136,n.AFOT=137,n.SNSC=138,n.RWBD=139,n}();n.HandoffsForNonSuggestions=function(){var n={};return n.GPT=2,n.GT=3,n.GW=0,n.SDSC=2,n.SDIO=2,n.IMIO=2,n.COFA=2,n.COOA=2,n}();n.GroupsForNonSuggestions=function(){var n={};return n.GPT=i.GroupHeader,n.GT=i.GroupHeader,n.GW=i.GroupHeader,n.SDSC=i.Settings,n.SDIO=i.Settings,n.IMIO=i.Settings,n.COFA=i.Settings,n.COOA=i.Settings,n}()}(c=t.SyntheticQSCodesMaps||(t.SyntheticQSCodesMaps={})),function(n){n[n.Open=1]="Open";n[n.RunAs=2]="RunAs";n[n.RunAsUser=3]="RunAsUser";n[n.OpenInBrowser=4]="OpenInBrowser";n[n.OpenFileLocation=5]="OpenFileLocation";n[n.OpenContaining=6]="OpenContaining";n[n.TabletMode_OpenNewWindow=7]="TabletMode_OpenNewWindow";n[n.PinToStartScreen=8]="PinToStartScreen";n[n.StartUnpin=9]="StartUnpin";n[n.TaskbarUnpin=10]="TaskbarUnpin";n[n.StartPin=11]="StartPin";n[n.TaskbarPin=12]="TaskbarPin";n[n.Manage=13]="Manage";n[n.ConnectNetworkDrive=14]="ConnectNetworkDrive";n[n.DisconnectNetworkDrive=15]="DisconnectNetworkDrive";n[n.Uninstall=16]="Uninstall";n[n["Tile.Uninstall"]=17]="Tile.Uninstall";n[n.ItemProperties=18]="ItemProperties";n[n.Settings=19]="Settings";n[n.Review=20]="Review";n[n.Share=21]="Share";n[n.S_Open=1e3]="S_Open";n[n.S_Install=1001]="S_Install";n[n.S_CopyFullPath=1002]="S_CopyFullPath";n[n.S_SendEmail=1003]="S_SendEmail";n[n.S_SendInstantMessage=1004]="S_SendInstantMessage";n[n.S_CopyPersonDetails=1005]="S_CopyPersonDetails";n[n.S_OpenFileLocationInBrowser=1006]="S_OpenFileLocationInBrowser";n[n.S_OpenInOutlookWeb=1007]="S_OpenInOutlookWeb";n[n.S_LaunchOutlookNative=1008]="S_LaunchOutlookNative";n[n.S_OpenInBrowser=1009]="S_OpenInBrowser"}(at=t.JumplistActionItemType||(t.JumplistActionItemType={}));t.GroupHeaderQSCodes=function(){var n={};return n[i.PathCompletion]="GPT",n[i.Store]="GT",n[i.SearchSuggestions]="GW",n[i.ActivityFeedSuggestions]="AFOT",n[i.TopApps]="ADS",n}();t.providerFailureLogName=vt;t.localDataSourceMayContainPII=yt;t.getSuggestionKey=pt;t.MRUDatabaseName="mruWithIndex";t.isSantoriniWeb=l;t.isFileOrFolderLocalDataSource=a;t.supportsShortcuts=wt;t.shouldOpenMiniSerp=bt;t.isIndexerBasedDataSource=kt;t.isBodyOrSuggestion=dt;t.isModernSetting=gt;t.getAppItem=v;t.getAppPfn=ni;t.getFileItem=ti;t.isItemWithFileMetadata=y;t.isGroup=ii;t.getItemWithFileMetadata=ri;t.getCommandLineItem=ui;t.getPathCompletionItem=fi;t.getPowerBiItem=ei;t.getBrowsingHistoryItem=p;t.isScopeTile=oi;t.getGroupType=e;t.canGoToL2=si;t.isJumpListGroup=o;t.isRecourse=w;t.useMoreSearchOptionsHeader=hi;t.isTopHitChildGroup=ci;t.getParentSuggestionGroupType=li;t.isChildSuggestion=s;t.isJumpListSuggestion=ai;t.getScope=b;t.IconSize_GridLayout=92;t.IconSize_GridLayout_Medium=68;t.IconSize_GridLayout_Scaled=130;t.getImageSizeValue=vi;t.populateImageRatio=yi;k={"zh-hans-cn":"zh-cn","zh-hans-sg":"zh-cn","zh-hant-hk":"zh-hk","zh-hant-tw":"zh-tw",ko:"ko-kr",ja:"ja-jp",nb:"nb-no"};t.getCurrentLanguage=pi;t.createSuggestion=d;t.getSyntheticSuggestion=wi;t.getNarratorText=g;t.isL2=nt;t.iconIsThumbnail=it;t.displayedInGridLayout=bi;t.parseWebSuppressionSignals=ki;t.decodeHtml=di,function(n){n[n.Author=1]="Author";n[n.LastModifiedBy=2]="LastModifiedBy";n[n.Content=3]="Content";n[n.Tags=4]="Tags";n[n.Album=5]="Album";n[n.Artist=6]="Artist";n[n.Genre=7]="Genre";n[n.Location=8]="Location"}(h=t.MatchType||(t.MatchType={}));t.createMatch=gi;rt=/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g;t.tryGetLocationMatch=nr;t.tryGetTextContentMatch=tr;t.matchesOnPropertyHH=ir;t.uses3lineTemplate=rr;t.isLightAnswer=ur;t.hasReverseHighlighting=fr;t.getMarketForBingAvailability=or;t.isEquivalentForPreviewPanePurposes=sr;t.shouldFetchStartMenu=hr;t.isNullOrUndefined=cr;ft=function(){function t(n,t){this.callback=n;this.counter=0;this.expired=!1;this.isBlocked=t}return t.prototype.check=function(n){this.expired||this.isBlocked||!n&&this.counter!=0||(this.callback(),this.expired=!0)},t.prototype.increase=function(){++this.counter;this.check(!1)},t.prototype.decrease=function(){if(this.counter==0)throw new Error("already zero");--this.counter;this.check(!1)},t.prototype.unblock=function(t){var i=this;if(!this.isBlocked)throw new Error("already unblocked");if(typeof t=="number"&&t<0)throw new Error("invalid timeout");this.isBlocked=!1;this.check(t===0);typeof t!="number"||this.expired||n.safeSetTimeout(function(){return i.check(!0)},t,"Semaphore.unblock")},t}();t.Semaphore=ft;et=function(){function n(n,t,i){this.verb=n.verb;this.displayName=n.displayName;this.executeSync=n.executeSync?function(){return i(function(){return n.executeSync()})}:function(){return i(function(){return n.executeAsync()})};this.isDefault=n.isDefault;this.icon=t;this.getIcon=n.getIcon}return n}();t.DeviceItemVerbWrapper=et;t.shouldSetThisPcGroupSource=lr;t.getGroupSourceDisplayName=ar;t.IndexingOptionsSettingId="Classic_{87d66a43-7b11-4a28-9811-c86ee395acf7}";t.EdgeAppId="Microsoft.MicrosoftEdge_8wekyb3d8bbwe!MicrosoftEdge";t.getRtlAdjustedKey=vr;t.getSearchSuggestionIcon=yr;t.getWebSuggestionsGroupHeader=pr;t.getWebsitesGroupHeader=wr;t.getWebSuggestionAnnotation=br;t.setVisibility=kr;t.isRtl=ot;t.FOLDERID_Profile="{5E6C858F-0E22-4760-9AFE-EA3317B67173}";t.FOLDERID_SkyDrive="{A52BBA46-E9E1-435f-B3D9-28DAA648C0F6}";t.FOLDERID_System="{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}";t.FOLDERID_SystemX86="{D65231B0-B2F1-4857-A4CE-A8E7C6EA7D27}";u={};t.clearFolderCaches=dr;t.getKnownFolderPathLC=st;f={};t.clearPathExpansionCache=gr;ht=/^\{([a-z0-9-]{36})\}(.*)/i;t.resolveKnownFolderGUIDsInPath=nu;t.indexerFilePathToRegularPath=tu;t.enforceOriginalOrder=iu;t.accountTypeToAuthType=ru;t.getSubstrateResourceOrScope=uu;t.getBingResourceOrScope=fu;t.getAuthAccountForCloudContent=ct;t.getAccountTypeForCloudContent=eu;t.isSmallerAnswersUX=ou;t.getTweakedSetting=su;t.shouldSkipSelectedScope=hu;t.escapeRegExp=cu})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t,i,r;(function(n){n.checking="checking";n.downloading="downloading";n.error="error";n.noUpdate="noupdate";n.obsolete="obsolete";n.updateReady="updateready"})(t||(t={}));i=[t.checking,t.downloading,t.error,t.noUpdate,t.obsolete,t.updateReady];r=function(){function r(n,t,i){i===void 0&&(i=Date.now);this._autoSuggestHost=n;this._instrumentationHelper=t;this.getNowTimestamp=i;this._appCacheEventIndex=1;this._superFreshEnabled=!1;this._appCache=_w.applicationCache;this.subscribeForEvents()}return r.prototype.instrumentSuperFreshUpdate=function(n){this._appCacheTimeline||(this._appCacheTimeline=this.createAppCacheTimelineObject());this._appCacheTimeline.SuperFreshUpdateData.T=this.getNowTimestamp();this._appCacheTimeline.SuperFreshUpdateData.S=n;this.sendAppCacheEvents()},r.prototype.registerSuperFresh=function(){this._superFreshEnabled=!0},r.prototype.subscribeForEvents=function(){var n=this;i.forEach(function(t,i){return sj_be(n._appCache,t,function(){return n.handleAppCacheEvent(t,i)})})},r.prototype.handleAppCacheEvent=function(n,i){n!=t.checking&&this._appCacheTimeline||(this._appCacheTimeline=this.createAppCacheTimelineObject());this._appCacheTimeline.AppCacheEvents[i]=this.getNowTimestamp();switch(n){case t.obsolete:SharedLogHelper.LogWarning("handleAppCacheEvent",null,"AppCache marked as obsolete and will be deleted");this.sendAppCacheEvents();break;case t.error:case t.noUpdate:this.sendAppCacheEvents();break;case t.updateReady:this._superFreshEnabled||this.sendAppCacheEvents()}},r.prototype.sendAppCacheEvents=function(){var f=_G.ServerIG,t,r,u,i;if(!f){SharedLogHelper.LogError("sendAppCacheEvents","Could not instrument as server IG not known",new Error("Could not instrument app cache event"));return}(t=this._appCacheTimeline,t)&&(r=t.AppCacheEvents,u=[{I:t.EventIndex,E:r,S:t.SuperFreshUpdateData,ABT:this._instrumentationHelper.getConversationStartTimestamp()}],r[2]&&(u[0].OL=navigator.onLine),i=n.InstrumentationCommon.createPerfPingEvent(f,u,"AppCache",this._autoSuggestHost.getConversationId()),Log2.LogEvent(i.EventType,i.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,i.ImpressionGuid,null,null),this._appCacheTimeline=this.createAppCacheTimelineObject())},r.prototype.createAppCacheTimelineObject=function(){var n={EventIndex:this._appCacheEventIndex,AppCacheEvents:{},SuperFreshUpdateData:{T:undefined,S:undefined}};return this._appCacheEventIndex++,n},r}();n.AppCacheInstrumentationHelper=r}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var u=["PP","ST","FL","LM"],i=SearchAppWrapper.CortanaApp,r=i.queryFormulationView,f=function(){function f(n){var i=this;this._host=n;this._startupPerfLogged=!1;t.config.logTimeToFocus&&(n.bindConversationStart(function(){return i._startupPerfLogged=!1}),n.bindQueryChangedOrInitialized(function(n){return i.logClientPerfMetric(n)}));ThresholdUtilities.getCortanaHeaders(function(n){n&&(i._windowsFlights=n["X-BM-WindowsFlights"])})}return f.prototype.logProfilerMarker=function(t,r,u,f,e){e||(e={});n.safeExecute(function(){t==1?i.logMeasure("Bing_QF_"+u,r,"QF",JSON.stringify(e),f):i.logVerboseTrace("Bing_QF_"+u,r,"QF",JSON.stringify(e),f)},"logProfilerMarker")},f.prototype.getEnrichedClientInfo=function(n){var u={},f,e;return u.entryPoint=i.entryPoint,u.previousExperience=r.previousExperience,u.qfMode=""+t.RuntimeConfig.QfMode,u.isSearchHome=n.isSearchHomeZI?1:undefined,f=this._host.getFeatureDWORD("WideAtStartupDelta"),f.validFeature&&typeof f.featureValue=="number"&&(u.WideAtStartupDelta=f.featureValue),n&&n.scope!=t.Scope.All&&(u.scope=t.Scope[n.scope]),e=r.searchHistory,u.deviceHistoryEnabled=e&&e.isDeviceHistoryEnabled?1:0,t.windowsAccountType!=0&&(u.windowsAccount=t.windowsAccountType.toString()),t.cortanaAccountType!=0&&(u.cortanaAccount=t.cortanaAccountType.toString()),t.isSubstrateO365AccountConnected&&(u.o365Connected=1),t.isSubstrateOutlookAccountConnected&&(u.outlookConnected=1),this._host.hasFallbackHappened()&&(u.fallback=1),this._host.isClientLocationAvailable()&&(u.clientLocationAvailable=1),this._host.isInputPanelVisible()&&(u.isInputPaneVisible=1),(t.windowsAccountType==2||t.windowsAccountType==1)&&(t.cortanaAccountType==2||t.cortanaAccountType==1)&&t.getWindowsAndCortanaAccountIdentityDiff()==2&&(u.diffAccForWindowsCortana=1),t.isMobileCache||(i.appsUseLightTheme===!1&&(u.darkMode=1),i.colorPrevalenceEnabled&&(u.colorPrevalence=1),i.isSearchBoxInTaskbar&&(u.searchBoxInTaskbar=1),i.taskbarOrientation&&(u.taskbarOrientation=i.taskbarOrientation)),t.config.snrVersion&&(u.snrVersion=t.config.snrVersion),u.ciVersion=t.ConstraintIndex.currentCIVersion,u.defaultBrowser=this._host.getDefaultBrowser().toString(),this._windowsFlights&&(u.windowsFlights=this._windowsFlights),u},f.prototype.getSuggestionsPageName=function(){return"Page.SmartSearch.AS.Suggestions"},f.prototype.getApplicationName=function(){return"SmartSearch"},f.prototype.getRankerModelId=function(){return t.config.mainRankerId},f.prototype.createNonSuggestionDataSourceObject=function(n,i){return{T:"D.Url",K:i.getKValue(),Val:n,Ho:t.SyntheticQSCodesMaps.HandoffsForNonSuggestions[n],Gr:t.SyntheticQSCodesMaps.GroupsForNonSuggestions[n],NR:1}},f.prototype.createDataSourceObject=function(i){var f=this,e=i.mayContainPII&&!t.config.th,r={T:"D.Url",K:i.instItem.getKValue(),Q:e?undefined:i.query,MQ:i.ciMatchedQuery?i.ciMatchedQuery:undefined,Val:i.type,Ho:i.handoffType,Ans:i.isAnswer?1:undefined,Gr:t.getGroupType(i),HC:i.hc?1:undefined,RAF:i.useRaf?1:undefined,HS:i.fromHistory?1:undefined,F:i.features.length>0?i.features.join(","):undefined,AC:i.autoCompleteType?i.autoCompleteType:undefined,HCMS:i.highConfidenceMetaSuggestionScore,HCS:i.highConfidenceSuggestionScore,LM:i.suggestionLogMeta,Uri:i.actionUri,Src:i.source,Sg:i.segments,NR:i.notAResult?1:undefined},u;return i.deviceItem?r.DeviceSignals=n.safeExecute(function(){return f.buildDeviceItemDataSource(e,i)},"buildDeviceItemDataSource"):t.isJumpListSuggestion(i)&&(r.DeviceSignals=n.safeExecute(function(){return f.buildJumpListItemDataSource(i)},"buildJumpListItemDataSource")),t.config.th&&(u=i,u.path&&(r.path=u.path),u.targetPathLC&&(r.targetPath=u.targetPathLC)),r.RankerSignals=this.buildRankerOutputDataSource(i),r},f.prototype.buildRankerOutputDataSource=function(n){if(!n.rankingScore&&!n.featureStore)return undefined;return{rankingScore:n.rankingScore,featureStore:n.featureStore,mruSuppressionScore:n.mruSuppressionScore,fbcScore:n.fbcScore,previewPaneScore:n.previewPaneScore}},f.prototype.buildJumpListItemDataSource=function(i){var u=i.jumpListItem,r={Rank:u.usagePoints||undefined,LAD:n.isValidDate(u.lastAccessed)?u.lastAccessed.toJSON():undefined};if(t.config.th)r.path=u.path,r.description=i.tooltip;else if(!r.Rank&&!r.LAD)return undefined;return r},f.prototype.buildDeviceItemDataSource=function(i,r){var e=r.deviceItem,u={Rank:e.rankScore},f,s,h,o;if(e.propertyHits&&e.propertyHits.length>0&&(u.PHits=e.propertyHits.join(",")),i||(u.Id=e.id,u.DName!=r.query&&(u.DName=e.displayName)),t.config.th&&(u.kind=e.kind),t.isSetting(r.type))return u.MDN=t.isModernSetting(e)?1:0,u;if(f=t.getAppItem(r),f)return u.LAD=n.isValidDate(f.lastAccessed)?f.lastAccessed.toJSON():undefined,u.AppLnch=f.totalLaunches,u.Args=f.launchArguments?1:0,u.MDN=f.isImmersive?1:0,u.Ext=f.extension,t.config.th&&(u.CDT=n.isValidDate(f.createdDate)?f.createdDate.toJSON():undefined,u.LMD=n.isValidDate(f.lastModifiedDate)?f.lastModifiedDate.toJSON():undefined,u.launchArguments=f.launchArguments,u.filePath=f.filePath),u;if(s=t.getItemWithFileMetadata(r),s){if(u.Ext=s.extension,t.config.th&&(u.itemTypeDisplayName=s.itemTypeDisplayName),h=t.getCommandLineItem(r),h)return t.config.th&&(u.launchArguments=h.launchArguments,u.encodedPath=h.encodedPath),u;t.getPathCompletionItem(r)||(o=r.deviceItem,u.CDT=n.isValidDate(o.createdDate)?o.createdDate.toJSON():undefined,u.LMD=n.isValidDate(o.lastModifiedDate)?o.lastModifiedDate.toJSON():undefined,u.Ext=o.extension?o.extension:"")}return u},f.prototype.logMasterPageImpression=function(t){n.safeExecute(function(){return ThresholdInst.LogPageImpression(t,null,t.enrichedClientInfo)},"logMasterImpressionForClient")},f.prototype.logDataSourceTimeout=function(i,f){var s,e,o,h;if(r.logProviderFailure)for(s=function(u){n.isDataSourceEnabled(u,f)&&!n.contains(i,u)&&n.safeExecute(function(){return r.logProviderFailure(t.providerFailureLogName(u),"NoReturnForTopHit")},"logProviderFailure")},e=0,o=u;e<o.length;e++)h=o[e],s(h)},f.prototype.onItemClick=function(){r.resetConversationIdNextTimeQFIsShown&&r.resetConversationIdNextTimeQFIsShown()},f.prototype.logClientPerfMetric=function(){if(!this._startupPerfLogged&&i.isCenterScreen){this._startupPerfLogged=!0;var f=n.cleanGuid(this._host.getRawImpressionGuid()),r=this.getClientPerfMetric(39),u=this.getClientPerfMetric(38),t=u-r;(t<=0||r==n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE||u==n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE)&&(t=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE);Log2.LogEvent("ClientPerf",{TTF:t.toString()},"SearchBoxFocused",null,null,f,null,null)}},f.prototype.getClientPerfMetric=function(t){var r=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,u=i.proactiveView?i.proactiveView.perfMetrics:null;if(u)try{r=u.lookup(t).getTime();r=r<=0?n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE:r}catch(f){}return r},f}();t.WSBInstrumentationProvider=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t="/QF_KEYSTROKE_VIRTUAL_URL?",i="autosuggest",r=function(){function r(t,i,r){var u=this;this._host=t;this._instrumentationProvider=i;this._clientTelemetry=r;this._conversationStartTimestamp=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE;this._keystrokesPerfPingData={};this._keystrokesInstrumentationData={};this._finalizeKeystrokeHandlers=[];ClientInstConfig.queueDumpInterval=n.config.logQueueDumpInterval;_w.ClTrCo.SharedClickSuppressed=!0;t.bindConversationStart(function(){return u.onConversationStart()})}return r.prototype.bindFinalizeKeystroke=function(n){this._finalizeKeystrokeHandlers.push(n)},r.prototype.getImpressionGuid=function(n){var t=this._keystrokesInstrumentationData[n];if(t&&t.ImpressionGuid)return t.ImpressionGuid;throw"getImpressionGuid(): No IG for sequence "+n;},r.prototype.updateSuggestionsList=function(n,t){this._clientTelemetry&&this._clientTelemetry.updateSuggestionsList(n,t)},r.prototype.instrumentItemClickForPreviewPane=function(n,t,i,r,u,f,e,o,s){var h=this.createBaseCustomGPingPayload(u,f);this.addPreviewPaneDataToGPingPayload(h,e,o,s);this.instrumentItemClickAndGPing(h,n,t,i,r,u)},r.prototype.instrumentItemClickForContextMenu=function(n,t,i,r,u,f,e){var o=this.createBaseCustomGPingPayload(u,f);this.addContextMenuDataToGPingPayload(o,e);this.instrumentItemClickAndGPing(o,n,t,i,r,u)},r.prototype.instrumentItemClick=function(n,t,i,r,u,f){if(t.getHandoffType()==999)this.instrumentLayoutItemSelect(t,i);else{var e=this.createBaseCustomGPingPayload(u,f);this.instrumentItemClickAndGPing(e,n,t,i,r,u)}},r.prototype.instrumentItemClickAndGPing=function(t,i,r,u,f,e){this.sendCustomGPing(t,r.getHValue(),i);var s=this._keystrokesInstrumentationData[u],o=this._keystrokesInstrumentationData[u];o?(s.RenderingStarted||this.updatePageIG(u),_G.IG!=o.ImpressionGuid&&SharedLogHelper.LogError("instrumentItemClick","IG ("+o.ImpressionGuid+") for sequenceNumber "+u+" does not match the page IG ("+_G.IG+")",new Error("IG for sequence number does not match the currently rendered page's IG (_G.IG)")),this._clientTelemetry&&this._clientTelemetry.logItemClickedMeasure(o.ConversationId,o.RawImpressionGuid,r,e)):SharedLogHelper.LogError("instrumentItemClick","sequenceNumber: "+u+" ConversationID: "+this._host.getConversationId(),new Error("No instrumentation data found for sequenceNumber"));this.finalizeKeystrokeLog(u,1);f&&f();this._instrumentationProvider.onItemClick();n.config.forceLogFlush?Log2.ForceFlush():Log2.FlushMainQueueDontForce();_w.clickFlushedTime=sb_gt()},r.prototype.instrumentLayoutItemSelect=function(n,t){var i={AppNS:n.getAppNS(),K:n.getLayoutKValue()};this.logClientInstEvent("Select","ItemClicked",t,i)},r.prototype.createBaseCustomGPingPayload=function(n,t){var i={};switch(n){case 1:i.i="k";i.mk=this.getModifierKeyCodes(t);break;case 3:i.i="t";break;case 4:i.i="p";break;case 5:i.i="n";break;case 6:i.i="b";break;case 0:i.i="x";i.mk=this.getModifierKeyCodes(t);break;default:i.mk=this.getModifierKeyCodes(t)}return i},r.prototype.addContextMenuDataToGPingPayload=function(n,t){n.cm=t},r.prototype.addPreviewPaneDataToGPingPayload=function(n,t,i,r){t&&(n.pp=t,i&&(n.ppit=i),typeof r=="number"&&(n.rho=r))},r.prototype.sendCustomGPing=function(t,i,r){var u=i;n.isEmpty(t)||(u+="&PR="+JSON.stringify(t));n.safeExecute(function(){return _w.si_T(u,null,null,0,r)},"logCustomGPing")},r.prototype.getModifierKeyCodes=function(n){if(n){var t=n.altKey?"A":"";if(t+=n.ctrlKey?"C":"",t+=n.shiftKey?"S":"",t)return t}return undefined},r.prototype.previewPaneOpenedOrClosed=function(n,t,i,r,u,f){var o=n?"Select":"Unselect",s=n?"PreviewPaneOpened":"PreviewPaneClosed",e;this.logClientInstEvent(o,s,t,f);n&&this._clientTelemetry&&(e=this._keystrokesInstrumentationData[t],e&&this._clientTelemetry.logPreviewPaneOpenedMeasure(i,r,u))},r.prototype.logClientInstEvent=function(n,t,i,r){var f=null,u;i&&(u=this._keystrokesInstrumentationData[i],u&&(f=u.ImpressionGuid));Log2.LogEvent(n,r,t,null,null,f,null,null)},r.prototype.safeInstrument=function(n,t,i,r){var u=this._keystrokesInstrumentationData[n];u?t(u):SharedLogHelper.LogError(i,(r?r+" ":"")+" sequenceNumber: "+n,new Error("No instrumentation data found for sequenceNumber"))},r.prototype.safeInstrumentPerf=function(n,t,i,r){var u=this._keystrokesPerfPingData[n];u?t(u):SharedLogHelper.LogError(i,(r?r+" ":"")+" sequenceNumber: "+n,new Error("No instrumentation data found for sequenceNumber"))},r.prototype.instrumentRenderingStarted=function(n){var t=this;this.safeInstrument(n,function(i){i.RenderingStarted=!0;t.updatePageIG(n)},"instrumentRenderingStarted")},r.prototype.instrumentBeginRequest=function(t,i,r){var e;delete this._keystrokesInstrumentationData[t-1];n.InstrumentedItem.resetKValues(t);e=this._keystrokesPerfPingData[t];e&&SharedLogHelper.LogError("instrumentBeginRequest","sequenceNumber: "+t,new Error("Duplicate BeginRequest for sequenceNumber"));var f=this._host.getConversationId(),u=this._host.getRawImpressionGuid(),o=n.cleanGuid(u),s=n.getCurrentTime()-r,h={RawImpressionGuid:u,ImpressionGuid:o,ConversationId:f,Query:i,PendingDataSources:{},DataSources:{},RankerExtraInfo:{},DuplicateDS:{},Layout:[],MasterPageImpressionCreated:!1,RenderingStarted:!1,PendingInstrumentedItems:{},PendingSyntheticSuggestions:{},OriginalTimestamp:s},c={RawImpressionGuid:u,ImpressionGuid:o,ConversationId:f,PrefixLength:i.queryToFetch?i.queryToFetch.length:0,RequestBegin:this.getOffsetedNow(s),ResponseReceived:{},MultipleResponsesReceived:{},DataSourcesState:this._searchServiceStatus?{Indexer:this._searchServiceStatus}:undefined,RenderFinished:{},AllDataSourcesProcessed:!1,PendingIcons:0,TopResultRendered:[],IconsRetrieved:{},ResponseFromCache:{}};this._keystrokesInstrumentationData[t]=h;this._keystrokesPerfPingData[t]=c;this._clientTelemetry&&this._clientTelemetry.logNewKeystrokeMeasure(f,u,i)},r.prototype.setSearchServiceStatus=function(n){this._searchServiceStatus=n},r.prototype.instrumentResponseReceived=function(n,t,i,r,u){var f=this;this.safeInstrumentPerf(n,function(n){if(!u){var e=f.getOffsetedNow();typeof n.ResponseReceived[t]!="number"?n.ResponseReceived[t]=e:(n.MultipleResponsesReceived[t]||(n.MultipleResponsesReceived[t]=[n.ResponseReceived[t]]),n.MultipleResponsesReceived[t].push(e))}i&&(n.DataSourcesState=n.DataSourcesState||{},n.DataSourcesState[t]=i);r&&(n.ResponseFromCache[t]=r)},"instrumentResponseReceived",t)},r.prototype.instrumentTopResultRendered=function(t,i){var r=this;this.safeInstrumentPerf(t,function(u){var f=r.getOffsetedNow(),e;u.TopResultRendered.push({V:f,T:i.join(",")});r.tryInstrumentRenderStopped(t,u);r._clientTelemetry&&(e=f-r._keystrokesPerfPingData[t].RequestBegin,r._clientTelemetry.logTopResultsRenderedMeasure(u.RawImpressionGuid,i,e));n.config.th&&n.safeFireEvent("TopResultRendered")},"instrumentTopResultRendered")},r.prototype.instrumentRenderedLocalSuggestion=function(n,t){var r=this._keystrokesInstrumentationData[n],u,f,i;if(r){for(u={},f={},i=0;i<t.length;i++)t[i].type=="FV"?u[i]="TBD":t[i].type=="HU"&&(f[i]="TBD");r.FvSug=u;r.HuSug=f}},r.prototype.instrumentAggregatorCall=function(t,i){var r=this;this.safeInstrument(t,function(t){var e={fastRankModelId:r._instrumentationProvider.getRankerModelId()},f,u;for(f in t.RankerExtraInfo)e[f]=t.RankerExtraInfo[f];t.RankerExtraInfo={};u={T:"D.Aggregator",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Aggregator",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:[],rankerModelIds:e};n.config.counterFactualLoggingOn&&(u.counterFactualDiff=u.counterFactualDiff||i);t.DataSources.aggregator=u},"instrumentAggregatorCall")},r.prototype.addDuplicatesDataSource=function(t){var i=Object.keys(t.DuplicateDS).map(function(n){return t.DuplicateDS[n]});i.length>0&&(t.DataSources.duplicates={T:"D.Duplicates",Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"Duplicates",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,DS:i})},r.prototype.instrumentDuplicate=function(t,i,r){this.safeInstrument(t,function(t){var u=t.DuplicateDS[i.instItem.getHValue()],f;u||(u={T:"D.Duplicate",DS:[{T:"D.DSRef",KRef:i.instItem.getKValue()}]},i.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(u.DS[0].AppNS=i.instItem.getAppNS()),t.DuplicateDS[i.instItem.getHValue()]=u);f={T:"D.DSRef",KRef:r.instItem.getKValue()};r.instItem.getAppNS()!=n.InstrumentationCommon.DEFAULT_APP_NAMESPACE&&(f.AppNS=r.instItem.getAppNS());u.DS.push(f)},"instrumentDuplicate")},r.prototype.renderingStopped=function(n){return n.PendingIcons==0&&n.AllDataSourcesProcessed},r.prototype.notifyAllDataSourcesProcessed=function(n){var t=this;this.safeInstrumentPerf(n,function(i){i.AllDataSourcesProcessed=!0;t.tryInstrumentRenderStopped(n,i)},"notifyAllDataSourcesProcessed")},r.prototype.notifyIconPending=function(t,i,r,u){var f=this;this.safeInstrumentPerf(t,function(t){var e=r+(i?"T":"S");t.IconsRetrieved[e]||(t.IconsRetrieved[e]={B:f.getOffsetedNow(),E:n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,T:u},t.PendingIcons++)},"notifyIconPending",i?"TR":"SUG")},r.prototype.notifyIconReady=function(n,t,i){var r=this;this.safeInstrumentPerf(n,function(n){var u=i+(t?"T":"S");n.IconsRetrieved[u]?n.IconsRetrieved[u].E=r.getOffsetedNow():SharedLogHelper.LogError("notifyIconReady",null,new Error("Instrumenting unseen icon"));n.PendingIcons--},"notifyIconReady",t?"TR":"SUG")},r.prototype.tryInstrumentRenderStopped=function(t,i){this.renderingStopped(i)&&(this.finalizeKeystrokeLog(t,2),n.config.th&&n.safeFireEvent("RenderStopped"))},r.prototype.isLayoutLogged=function(n){return this._keystrokesInstrumentationData[n].MasterPageImpressionCreated},r.prototype.finalizeKeystrokeLog=function(n,t){var r,i;t===void 0&&(t=0);this._finalizeKeystrokeHandlers.forEach(function(n){return n(t==0)});r=this._keystrokesInstrumentationData[n];r&&this.logKeystrokeData(r,n);t!=1&&(i=this._keystrokesPerfPingData[n],i&&(this.logPerfPingEvent(this.createKeystrokePerfPingEvent(n,i)),this._clientTelemetry&&this._clientTelemetry.logDataSourcePerformancesMeasure(i)))},r.prototype.instrumentRenderFinished=function(n,t,i){var r=this;this.safeInstrumentPerf(n,function(u){var f=r.getOffsetedNow();t.forEach(function(n){return u.RenderFinished[n]=f});r.tryInstrumentRenderStopped(n,u);r._clientTelemetry&&r._clientTelemetry.logGroupsRenderedMeasure(i)},"instrumentRenderFinished",t.join(","))},r.prototype.instrumentSyntheticInstrumentedItem=function(n,t,i){var r=this._keystrokesInstrumentationData[n];r?r.PendingInstrumentedItems[t]=i:SharedLogHelper.LogError("instrumentSyntheticInstrumentedItem",t,new Error("keystrokesInstrumentationData not found"))},r.prototype.instrumentSyntheticSuggestion=function(n,t){var i=this._keystrokesInstrumentationData[n];i?i.PendingSyntheticSuggestions[t.type]=t:SharedLogHelper.LogError("instrumentSyntheticSuggestion",t.type,new Error("Instrumentation synthetic suggestion after flush"))},r.prototype.getInstrumentedSyntheticSuggestion=function(n,t){return this._keystrokesInstrumentationData[n].PendingSyntheticSuggestions[t]},r.prototype.instrumentDataSource=function(n,t,i,r){this.safeInstrument(n,function(n){var u,f,e;if(r&&r.rankerExtraInfo)for(u in r.rankerExtraInfo)n.RankerExtraInfo[u]=r.rankerExtraInfo[u];f=i||[];e=n.PendingDataSources[t];n.PendingDataSources[t]=e?e.concat(f):f},"instrumentDataSource",t)},r.prototype.processPendingDataSources=function(t){var i,f,r,u,e,o;for(i in t.PendingDataSources)if(f=t.PendingDataSources[i],f.length>0){for(r=[],u=0,e=f;u<e.length;u++)o=e[u],r.push(this._instrumentationProvider.createDataSourceObject(o));i=="Web"&&(i="WebAS");r.length>0&&(t.DataSources[i]={T:"D."+i,AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:i,SC:r.length,DS:r})}t.PendingDataSources={}},r.prototype.instrumentSnRProviderFetchUrl=function(n,t){this.safeInstrument(n,function(n){n.SnRProviderFetchUrl=t},"instrumentSnRProviderFetchUrl")},r.prototype.onConversationStart=function(){if(this._conversationStartTimestamp=n.getCurrentTime(),this._searchServiceStatus=null,this._clientTelemetry){var t=this._host.getConversationId();this._clientTelemetry.logConversationStartMeasure(t,this._conversationStartTimestamp)}this._keystrokesPerfPingData=[]},r.prototype.getConversationStartTimestamp=function(){return this._conversationStartTimestamp},r.prototype.logDataSourceTimeout=function(n,t){this._instrumentationProvider.logDataSourceTimeout(n,t)},r.prototype.createKeystrokePerfPingEvent=function(t,i){var u={I:t,PL:i.PrefixLength,K:i.RequestBegin,RRT:i.ResponseReceived,MRT:i.MultipleResponsesReceived,RFT:i.RenderFinished,TRR:i.TopResultRendered,RS:undefined,IRT:i.IconsRetrieved},r,f,e,o,s;if(this.renderingStopped(i)){for(r=0,f=0,e=u.TRR;f<e.length;f++)o=e[f],r=Math.max(r,o.V);for(s in u.RFT)r=Math.max(r,u.RFT[s]);r&&(u.RS=r)}return n.InstrumentationCommon.createPerfPingEvent(i.ImpressionGuid,[u],"Keystroke",i.ConversationId,i.DataSourcesState,i.ResponseFromCache)},r.prototype.updatePageIG=function(n){_G.IG=this.getImpressionGuid(n)},r.prototype.createMasterPageImpression=function(t,r,u,f,e){var c=this,h={dataSources:e||[],layoutNodes:[],pageName:t,rawQuery:f?f.queryToFetch:"",isQuery:!1,impressionUrl:this.createVirtualImpressionURL(r,u),appName:this._instrumentationProvider.getApplicationName(),enrichedClientInfo:{FDPartnerEntry:i,nclid:_G.nclid,isOffline:n.isBrowserOnline()?0:1,webRequested:u?1:0}},o=n.safeExecute(function(){return c._instrumentationProvider.getEnrichedClientInfo(f)},"getEnrichedClientInfo"),s;if(o)for(s in o)h.enrichedClientInfo[s]=o[s];return h},r.prototype.logKeystrokeData=function(i){var u,f,r;(this.processPendingDataSources(i),n.config.th&&this.addDuplicatesDataSource(i),u=Object.keys(i.DataSources).map(function(n){return i.DataSources[n]}).concat(this.createNonSuggestionsDataSource(i.PendingInstrumentedItems,i.PendingSyntheticSuggestions)),i.DataSources={},i.PendingSyntheticSuggestions={},i.PendingInstrumentedItems={},u.length==0&&i.MasterPageImpressionCreated)||(i.RenderingStarted&&(f=DsLManager.CreateLayoutNode(_d.body,n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,!1,!0,i.MasterPageImpressionCreated)),i.MasterPageImpressionCreated?Log2.LogEvent("ClientInst",null,null,u,f,i.ImpressionGuid,null,null):(r=this.createMasterPageImpression(this._instrumentationProvider.getSuggestionsPageName(),t,i.SnRProviderFetchUrl?i.SnRProviderFetchUrl.substring(i.SnRProviderFetchUrl.indexOf("?")+1):"",i.Query,u),f&&(r.layoutNodes=f),i.FvSug&&Object.keys(i.FvSug).length>0&&(r.enrichedClientInfo.FvSug=i.FvSug),i.HuSug&&Object.keys(i.HuSug).length>0&&(r.enrichedClientInfo.HuSug=i.HuSug),r.clientTimestamp=i.OriginalTimestamp,this.logMasterPageImpression(i.ImpressionGuid,r),i.MasterPageImpressionCreated=!0))},r.prototype.logPerfPingEvent=function(t){Log2.LogEvent(t.EventType,t.Data,n.InstrumentationCommon.QFPERFPING_EVENT_NAME,null,null,t.ImpressionGuid,null,null);n.config.th&&ClientTestHooks.DebugLogNoConsole("perfPingEvent",[t])},r.prototype.logMasterPageImpression=function(t,i){if(i){if(!t){SharedLogHelper.LogError("logMasterPageImpression",null,new Error("Missing impressionGuid"));return}i.impressionGuid=t;this._instrumentationProvider.logMasterPageImpression(i,this._host.getConversationId());n.config.th&&ClientTestHooks.DebugLogNoConsole("masterPageImpression",i,t)}},r.prototype.instrumentInitializationFinish=function(t){var u=_G.ServerIG,i,r;if(!u){SharedLogHelper.LogError("instrumentInitializationFinish","Could not instrument as server IG not known",new Error("Could not instrument initilization finish"));return}if(i=n.InstrumentationCommon.QFPERFPING_INVALID_MEASURE,r=_w.performance,r&&r.timing&&(i=r.timing.navigationStart),!(i<=0)){var f=t.getTime()-i,e=n.getCurrentTime()-i,o=[{BLT:f,ILT:e}],s=n.InstrumentationCommon.createPerfPingEvent(u,o,"Load");this.logPerfPingEvent(s)}},r.prototype.getOffsetedNow=function(t){return t===void 0&&(t=n.getCurrentTime()),t-this._conversationStartTimestamp},r.prototype.createNonSuggestionsDataSource=function(t,i){var r=[],u,f;for(u in t)r.push(this._instrumentationProvider.createNonSuggestionDataSourceObject(u,t[u]));for(u in i)r.push(this._instrumentationProvider.createDataSourceObject(i[u]));return r.length?(f={T:"D.ContentGroup",AppNS:n.InstrumentationCommon.DEFAULT_APP_NAMESPACE,Service:n.InstrumentationCommon.DEFAULT_SERVICE_NAME,Scenario:"NonSuggestions",SC:r.length,DS:r},[f]):[]},r.prototype.createVirtualImpressionURL=function(t,i){var r=n.getWindowProtocol()+"//"+n.getWindowHost()+t;return r+=i?i:n.Service.QueryParams.ConversationId+"="+n.encodeQueryParameter(this._host.getConversationId()),_G.ServerIG&&(r+="&ASInitIG="+n.encodeQueryParameter(_G.ServerIG)),r},r}();n.InstrumentationHelper=r}(AutoSuggest||(AutoSuggest={})),function(n){var t="&nclid=",i="&ts=",r="&nclidts=",u="&tsms=",f="&elv=",e="&cc=",o="&setlang=",s="&cvid=",h="&qs=",c="&ao=",l="&wsso=",a=function(){function a(t,i,r,u){if(r===void 0&&(r=Date.now),u===void 0&&(u=n.getWindowProtocol()+"//"+n.getWindowHost()),this._host=t,this._searchPreCacheHandler=i,this.getNowTimestamp=r,this._baseUrl=u,n.config.overrideHost){var f=n.getWindowHost();f.startsWith("www.")&&(this._baseUrl=n.getWindowProtocol()+"//"+n.config.overrideHost+f.substring(3))}}return a.prototype.getSearchUrl=function(t,i,r,u,e,o,s,h,a){var b=e===13?"images":e===14?"videos":"",v,y,p,w;return u||(u=(b?"/"+b:"")+"/search?q="+n.encodeQueryParameter(i)),v=this._baseUrl+u,v+=n.config.th&&ClientTestHooks.isTesthookParamSet("isWindowsTest")?"&form=MONITR&traffictype=wintest":"&form="+n.encodeQueryParameter(o||this._host.getFormCode()),a&&(v+=c+"1"),v=this.enrichUrlWithSuggestionType(v,h?"P":r),v=this.enrichUrlWithCvid(v),n.config.suppressPqParameter||(v+="&pq="+n.encodeQueryParameter(t)),y=this._host.getMSNRefIg(),y&&(v+="&refig="+y),v=this.enrichUrlWithMarketInfo(v),v=this.enrichUrlWithDeviceInfo(v),s||(v=this.enrichUrlWithMuidInfo(v),p=this._host.getElToken(),p&&this._baseUrl.startsWith("https:")&&(v+=f+n.encodeQueryParameter(p)),v=this.enrichUrlWithSafeSearchInfo(v),this._searchPreCacheHandler&&(v=this._searchPreCacheHandler.attempPreCacheAndEnrichUrl(v))),w=this._host.getSafeSearchSetting(),w&&(v+=l+w),v},a.prototype.getImageSearchUrl=function(n){return n?this._baseUrl+"/images/detail/upload?FORM=SBIWSB":this._baseUrl+"/images/search?view=detailv2&iss=sbiupload"},a.prototype.enrichUrlWithDeviceInfo=function(n){this._host.isEducationEnvironment()&&(n+="&DAF0=1");this._host.isWindowsS()&&(n+="&DAF1=1");var t=this._host.getPartnerSearchCode();return t&&(n+="&PC="+t),n},a.prototype.enrichUrlWithMarketInfo=function(n){var t=this._host.getRegion(),i=this._host.getLanguage();return t&&(n+=e+t),i&&(n+=o+i),n},a.prototype.enrichUrlWithSafeSearchInfo=function(n){return this._host.getSafeSearchSetting()=="Strict"?n+"&adlt=strict":n},a.prototype.enrichUrlWithMuidInfo=function(f){var e,o,s;return _G.nclid&&(f+=t+n.encodeQueryParameter(_G.nclid),e=this.getNowTimestamp().toString(),f+=i+n.encodeQueryParameter(e),o=e.substring(0,e.length-3),f+=r+n.encodeQueryParameter(o),s=e.substring(e.length-3),f+=u+n.encodeQueryParameter(s)),f},a.prototype.enrichUrlWithCvid=function(t){return t+(s+n.encodeQueryParameter(this._host.getConversationId()))},a.prototype.enrichUrlWithSuggestionType=function(t,i){return t+(h+n.encodeQueryParameter(i))},a}();n.NavigationHelper=a}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(t,i){var r=this;this.host=t;this._selectableItemsContainer=i;t.bindKeyDown(function(t,u,f){var e=!1;t==9?e=r.selectFirstItemInNextGroup(u&&u.shiftKey):n.isUpOrDownKey(t)&&(e=r.selectNextItem(n.isUpKey(t)));i.onAfterKeyDown(t,u,f,e)})}return t.prototype.selectFirstItemInNextGroup=function(t){var i=this._selectableItemsContainer.getSelectableItemsByGroup();if(i.length==0)return!1;var f=this._selectableItemsContainer.getSelectedItem(),r=i.findIndex(function(t){return n.contains(t,f)}),e=r<0?-1:i[r].findIndex(function(n){return n==f}),u;return(r<0?u=i[0][0]:t&&e>0?u=i[r][0]:t?r>0&&(u=i[r-1][0]):r+1<i.length&&(u=i[r+1][0]),u)?(this._selectableItemsContainer.select(u,!0),!0):!1},t.prototype.selectNextItem=function(t){var i=this._selectableItemsContainer.getSelectableItems(),e;if(i.length==0)return!1;var u=this._selectableItemsContainer.getSelectedItem(),r=u?i.indexOf(u):-1,f=t?r==0:r==i.length-1;return f&&n.RuntimeConfig.AllowKeyboardNavOffCanvas?(this._selectableItemsContainer.select(null,!0),!0):f&&!n.RuntimeConfig.AllowKeyboardNavCycling?!1:(e=t?r<=0?i.length-1:r-1:(r+1)%i.length,this._selectableItemsContainer.select(i[e],!0),!0)},t}();n.KeyboardEvtHandler=t}(AutoSuggest||(AutoSuggest={})),function(n){var t=function(){function t(n,t,i,r,u){this._host=n;this._instrumentationHelper=t;this._ariaLogger=i;this._aggregator=r;this._rootViewModel=u;this._lastUsedId=-1;this._sequenceNumber=-1;this._suggestionsQueue={};this._dataSourcesCompleted={}}return t.prototype.initiateSequenceNumber=function(t,i){var o=this,u,f,r,s,e;if(this._sequenceNumber>=t){SharedLogHelper.LogError("initiateSequenceNumber",null,new Error("Unexpected sequence number"));return}for(this.resetStateForNewQuery(t,i),this._highPriorityDataSources=[],this._normalPriorityDataSources=[],this._lowPriorityDataSources=[],u=0,f=n.config.enabledDataSources;u<f.length;u++)(r=f[u],r!=n.WebDataSource||n.isBingEnabled(!0))&&(s=i.enabledDataSources[r],s&&(n.config.lowPriorityDataSources[r]?this._lowPriorityDataSources.push(r):n.config.highPriorityDataSources[r]?this._highPriorityDataSources.push(r):this._normalPriorityDataSources.push(r)));this._highPriorityDataSources.length==0&&this._normalPriorityDataSources.length==0&&this._lowPriorityDataSources.length==0?this.processSuggestions(!1):(e=this.getLatencyTimeout(),e>0&&(this._bufferingTimer=n.safeSetTimeout(function(){o._bufferingTimer=null;o.processSuggestions(!0)},e,"processSuggestionsBuffering")))},t.prototype.getLatencyTimeout=function(){return this._partialQuery.queryToFetch?n.config.latencyTimeout:n.config.latencyTimeoutForZeroInput},t.prototype.queueSuggestions=function(t,i,r,u,f){var e;if(t>this._sequenceNumber){SharedLogHelper.LogError("queueSuggestions",null,new Error("Unexpected sequence number"));return}if(!(t<this._sequenceNumber)){if(this._dataSourcesCompleted[i]){SharedLogHelper.LogError("queueSuggestions",i,new Error("Data source already completed"));return}if(!n.contains(this._highPriorityDataSources,i)&&!n.contains(this._normalPriorityDataSources,i)&&!n.contains(this._lowPriorityDataSources,i)){SharedLogHelper.LogError("queueSuggestions",i,new Error("Unexpected data source"));return}this._suggestionsQueue[i]&&!this._suggestionsQueue[i].updated?(e=this._suggestionsQueue[i].suggestions).push.apply(e,r):this._suggestionsQueue[i]={suggestions:r,updated:!1};this._dataSourcesCompleted[i]=!f;u&&(this._extraSignalsMap[i]=u);f||this._arrivedDataSources.push(i);this._allDataSourcesArrived=this._arrivedDataSources.length==this._highPriorityDataSources.length+this._normalPriorityDataSources.length+this._lowPriorityDataSources.length;this._processingStopped||this._instrumentationHelper.isLayoutLogged(this._sequenceNumber)?this._allDataSourcesArrived&&this._instrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber):this.processSuggestions(!1)}},t.prototype.resetTimers=function(){this._bufferingTimer&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null)},t.prototype.resetStateForNewQuery=function(t,i){this._arrivedDataSources=[];this._allProcessedDataSources={};this._sequenceNumber=t;this._partialQuery=i;this._suggestionsQueue={};this._dataSourcesCompleted={};this._extraSignalsMap={};this._renderedThisSequenceNumber=!1;this._waitingForMoreResults=!0;this._processingStopped=!1;this._allDataSourcesArrived=n.isEmpty(i.enabledDataSources);this.resetTimers()},t.prototype.getDependencies=function(t){var i=this;return this._host.dataSourceDependencies(t).filter(function(t){return n.isDataSourceEnabled(t,i._partialQuery)})},t.prototype.haveAllDataSourcesArrived=function(n){var t=this;return n.every(function(n){return!!t._suggestionsQueue[n]})},t.prototype.haveAllDataSourcesCompleted=function(n){var t=this;return n.every(function(n){return!!t._dataSourcesCompleted[n]})},t.prototype.processSuggestions=function(t){var i=this,u=[],o=[],r,l=this.getLatencyTimeout()>0&&this._bufferingTimer==null,s=this.haveAllDataSourcesArrived(this._highPriorityDataSources),a=s||l,v=this.haveAllDataSourcesCompleted(this._normalPriorityDataSources),y=this.haveAllDataSourcesCompleted(this._highPriorityDataSources),h=y&&v,c;t&&(this._instrumentationHelper.logDataSourceTimeout(Object.keys(this._suggestionsQueue),this._partialQuery),this._ariaLogger&&this._ariaLogger.logDataProviderFailure(Object.keys(this._suggestionsQueue),this._partialQuery.originalQuery));var f=t&&!this._renderedThisSequenceNumber,p=function(t,e){var s;if(!t.updated&&i.getDependencies(e).every(function(t){return n.contains(i._arrivedDataSources,t)})){if(o.push(e),i._allProcessedDataSources[e]=!0,t.suggestions.length>0&&(s=i.canHaveSuppressions(e)?t.suggestions.filter(function(n){return!i.isSuppressed(e,n,t.suggestions)}):t.suggestions,s.length>0)){r||(r=i._renderedThisSequenceNumber?i._rootViewModel.getSuggestions(!0):[]);var h=i.removeDuplicatesAndAssignIds(s,r,u,e),c=h[0],l=h[1];u=u.concat(c);l&&(f=!0)}t.updated=!0}},e=function(n){var u,t,r;for(u in n)t=n[u],r=i._suggestionsQueue[t],r&&p(r,t)};a&&e(this._highPriorityDataSources);this._bufferingTimer&&h&&(sb_ct(this._bufferingTimer),this._bufferingTimer=null);c=this.getLatencyTimeout()>0?this._bufferingTimer==null:s;c&&(e(this._normalPriorityDataSources),e(this._lowPriorityDataSources));this._waitingForMoreResults&&h&&(this._waitingForMoreResults=!1,(!this._renderedThisSequenceNumber||this._rootViewModel.mayNeedFlush()||(r||this._rootViewModel.getSuggestions(!0)).length==0)&&(f=!0));this._partialQuery.showProgressBar&&this._allDataSourcesArrived&&(f=!0);(u.length>0||f)&&(r||(r=this._renderedThisSequenceNumber?this._rootViewModel.getSuggestions(!0):[]),this.addSuggestions(r,u,o,f));this._allDataSourcesArrived&&this._instrumentationHelper.notifyAllDataSourcesProcessed(this._sequenceNumber)},t.prototype.getAggregatorResult=function(t,i,r){var e=this.waitingForWebProvider(),f=null,u,o;return n.config.counterFactualLoggingOn&&(f=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!0)),u=this._aggregator.rank(i,r,this._extraSignalsMap,this._partialQuery,t,this._sequenceNumber,e,!1),o=n.config.counterFactualLoggingOn&&(!this.isSuggestionOrderTheSame(u.topResults,f.topResults)||!this.isSuggestionOrderTheSame(u.suggestionsToAdd,f.suggestionsToAdd)),[u,o]},t.prototype.waitingForWebProvider=function(){var t=this;return n.isBrowserOnline()&&[n.WebDataSource].concat(this.getDependencies(n.WebDataSource)).some(function(i){return n.isDataSourceEnabled(i,t._partialQuery)&&!t._allProcessedDataSources[i]})},t.prototype.isSuggestionOrderTheSame=function(n,t){var r=function(n){return n.query+"\t"+n.type},i;if(n.length!=t.length)return!1;for(i=0;i<n.length;i++)if(r(n[i])!=r(t[i]))return!1;return!0},t.prototype.addSuggestions=function(t,i,r,u){var e=this,o=this._renderedThisSequenceNumber?this._rootViewModel.getCurrentTopResults():[],v=n.safeExecute(function(){return e.getAggregatorResult(o,t,i)},"getAggregatorResults",[null,!1]),f=v[0],p=v[1],s,h,l,c,a,y;for(f||(f={topResults:o,suggestionsToAdd:i,suggestionsToRemove:[],groupOrder:[]}),this._instrumentationHelper.instrumentAggregatorCall(this._sequenceNumber,p),i=f.suggestionsToAdd,s=f.suggestionsToRemove,h=0,l=f.topResults;h<l.length;h++)c=l[h],n.contains(t,c)&&!n.contains(o,c)&&s.push(c);(u||i.length!=0||s.length!=0||!n.sequenceEqual(o,f.topResults))&&(a=!this._renderedThisSequenceNumber,a&&(this._renderedThisSequenceNumber=!0,this._instrumentationHelper.instrumentRenderingStarted(this._sequenceNumber)),y=n.safeExecute(function(){return e._rootViewModel.update(a,f.topResults,e._waitingForMoreResults,e._sequenceNumber,i,s,r,f.groupOrder,e._allDataSourcesArrived,e._extraSignalsMap)},"rootViewModel.update",0,null,function(t){n.WSB&&n.WSB.fallbackToPrepopulatedBundle&&n.WSB.fallbackToPrepopulatedBundle(t)}),y==0&&(this._processingStopped=!0,this.resetTimers()))},t.prototype.removeDuplicatesAndAssignIds=function(n,t,i,r){var f=this,h=function(n){n.id||(n.id="id_"+ ++f._lastUsedId)},s=!1,o;if(this._aggregator.canHaveDuplicates(r,this._partialQuery)){var e=[],c=function(o){var a=n[o],l=t.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),c;if(l>=0)return c=t[l],c.needsRefreshAfterDeduping&&(s=!0),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,c,a),"continue";if(l=i.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),l>=0)return c=i[l],c.needsRefreshAfterDeduping&&(c.needsRefreshAfterDeduping=!1),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,c,a),"continue";if(u._aggregator.canHaveDuplicatesWithinDataSource(r,u._partialQuery)&&(l=e.findIndex(function(n){return f._aggregator.mergeDuplicates(f._partialQuery,n,a)}),l>=0))return c=e[l],c.needsRefreshAfterDeduping&&(c.needsRefreshAfterDeduping=!1),u._instrumentationHelper.instrumentDuplicate(u._sequenceNumber,e[l],a),"continue";h(a);e.push(a)},u=this;for(o=0;o<n.length;++o)c(o);return[e,s]}return n.forEach(function(n){return h(n)}),[n,s]},t.prototype.canHaveSuppressions=function(t){return n.config.suppressDataSources[t]||n.config.dataSourcesWithSuppressedTypes[t]},t.prototype.isSuppressed=function(t,i){return n.config.suppressDataSources[t]||n.config.suppressTypes[i.type]},t}();n.SuggestionsRenderingManager=t}(AutoSuggest||(AutoSuggest={})),function(n){function y(n){return n.handoffType==1?n.query:HitHighlightingParser.removeMarkers(n.text)}function f(n){var t,i;if(n.length==0)return 0;for(t=0,i=0;i<n.length;i++)t=(t<<5)-t+n.charCodeAt(i)|0;return t}function t(n,t){var u,i,r;if(!n)return t.length;if(!t)return n.length;for(u=[],i=0;i<=t.length;i++)u[i]=[i];for(r=0;r<=n.length;r++)u[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=n.length;r++)u[i][r]=t.charAt(i-1)==n.charAt(r-1)?u[i-1][r-1]:Math.min(u[i-1][r-1]+1,Math.min(u[i][r-1]+1,u[i-1][r]+1));return u[t.length][n.length]}function p(n,i){return n&&(n=n.toLocaleLowerCase()),i&&(i=i.toLocaleLowerCase()),t(n,i)}function o(n,t,i){var r=0,u;return(t>0||i>0)&&(t>0&&i>0?(i>t&&(u=t,t=i,i=u),r=n/(t-n+i)):r=Number.MAX_VALUE),r}function s(n,t){var r=n.length,e=t.length,a,v,f,o,i;if(r===0&&e===0)return 1;var h=new Array(r),s=new Array(e),u=0,c=0,l=Math.floor(Math.max(r,e)/2)-1;for(i=0;i<r;i++)for(a=Math.max(0,i-l),v=Math.min(e,i+l+1),f=a;f<=v;f++)if(!s[f]&&n[i]==t[f]){h[i]=!0;s[f]=!0;u++;break}if(u===0)return 0;for(o=0,i=0;i<r;i++)if(h[i]){while(!s[o])o++;n[i]!=t[o]&&c++;o++}return(u/r+u/e+(u-c/2)/u)/3}function w(n,t){var i=s(n,t),r,u;return i<1?i:(r=.1,u=h(n,t),i+u*r*(1-i))}function h(n,t){for(var i=0;i<4;i++)if(n[i]!=t[i])return i;return++i}function b(n,t){return!n||!t?0:n.length+1<=t.length&&t[n.length]==" "?1:n.length==t.length?1:0}function k(n){var r=0,i=1,t;if(n&&n.length>1)for(t=1;t<n.length;t++)n.charAt(t)==n.charAt(t-1)?i++:i=1,i>r&&(r=i);else if(n)return 1;return r}function d(n){return n&&n.length>0?n.trim().split(" ").length:0}function g(n){var t=new RegExp("^[0-9a-zA-Z ]+$");return n&&t.test(n)?1:0}function nt(n){return n&&n.length>0&&n.charAt(n.length-1)==" "?1:0}function tt(n){return n&&n.length>0&&(n.includes("http://")||n.includes("https://")||n.includes("."))?1:0}function it(t,i,r,u){var o,e,s,h;t.includes("?")&&(r[117]=1,ot(t)&&(r[127]=1));t.replace("///","").replace("//","").includes("/")&&(r[118]=1);t.includes(".")&&(r[119]=1);o=u.cvid+u.privacyNumber+t;r[120]=f(o);e=t.toLocaleLowerCase();(e.startsWith("www.")||e.startsWith("http://www.")||e.startsWith("https://www."))&&(r[122]=1);e.startsWith("www.")||e.startsWith("http://")?r[123]=1:e.startsWith("https://")?r[124]=1:e.startsWith("ftp://")?r[125]=1:r[126]=1;i&&(s=n.normalizeUrl(e,15),h=n.normalizeUrl(i,15).toLocaleLowerCase(),s.startsWith(h)&&(r[187]=1))}function rt(n,i,r,u,e){if(e){r[128]=t(e,i);r[129]=e.length;var o=u.cvid+u.privacyNumber+e;r[130]=f(o)}}function ut(n,i,r){var e=n.toLocaleLowerCase(),s,u,f,h,c;if(r[140]=n.length,s=e.split(" "),r[144]=s.length,i)for(r[141]=t(n,i),r[142]=Math.min(100,o(r[141],i.length,n.length)),u=i.toLocaleLowerCase(),e.includes(u)&&(r[143]=1),e.startsWith(u)&&(r[188]=1),f=0,h=s;f<h.length;f++)if(c=h[f],c==u){r[145]=1;break}}function ot(n){var t=et.find(function(t){return n.startsWith(t)});return n=t?n.substr(t.length):n,ft.some(function(t){return n.startsWith(t)})}function st(n){var i=0,r,t;if(n)for(r in n)t=n[r],t&&t.prefixLaunchCount&&(i+=t.prefixLaunchCount);return i}function ht(t,i,r,u){if(r){var f=r[t];f&&(i[47]=f.prefixLaunchCount,i[49]=f.lastLaunchTime,i[101]=u,u>0&&(i[100]=f.prefixLaunchCount/u),f.previewPaneLaunchCount&&f.lastPreviewPaneLaunchTime&&(i[301]=f.previewPaneLaunchCount,f.lastPreviewPaneLaunchTime==f.lastLaunchTime&&(i[302]=1),i[303]=n.getCurrentTime()-f.lastPreviewPaneLaunchTime))}}function ct(n,t,i){if(i){var r=i[n];r&&(t[281]=r.probability,t[282]=r.weight)}}function lt(n,t,r,u,f,e){if(t){var s=i(u,r),o=t[s];o&&(f?(n[153]=o.ProbSugClickGivenPref,n[152]=o.ClicksOnSugGivenPref):e?(n[161]=o.Loglikelihood,n[162]=o.ProbSugClickGivenBackground,n[163]=o.ClicksOnSugGivenPref,n[164]=o.ProbSugClickGivenPref,n[165]=o.CCR,n[166]=o.EventCount,n[293]=o.ProbSugClickGivenPrefTime,n[168]=o.CCRTime,n[294]=o.ProbSugClickGivenBackgroundTime,n[295]=o.LoglikelihoodTime):(n[6]=o.Loglikelihood,n[3]=o.ProbSugClickGivenBackground,n[151]=o.ClicksOnSugGivenPref,n[0]=o.ProbSugClickGivenPref,n[94]=o.CCR,n[95]=o.EventCount,n[290]=o.ProbSugClickGivenPrefTime,n[155]=o.CCRTime,n[291]=o.ProbSugClickGivenBackgroundTime,n[292]=o.LoglikelihoodTime))}}function at(n,t,i){if(t){var r=t[i];r&&(n[256]=r.PSGPCR,n[257]=r.PSGCCR,n[258]=r.PSGSTR,n[286]=r.PSGSATCCR,n[287]=r.PSGSATPCR)}}function i(n,t){return(n+"\t"+t).toLocaleLowerCase()}function r(t,i,r){i==11..toString()&&i==0..toString();switch(n.config.athenaKeyType){case 0:return t||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group is empty")),t;case 1:return i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),i;case 2:return r||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key suggestion type is empty")),i||SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key handoff is empty")),r+"_"+i;default:return SharedLogHelper.LogError("getAthenaGroupKey",null,new Error("Athena key group type is not set")),""}}function u(t,i,r){switch(n.config.athenaKeyType){case 0:return i==t;case 1:return r==t;case 2:return r==t;default:return!1}}function vt(t){var i={};return t?(n.config.athenaKeyType==2?wt(t,i):(yt(t,i),pt(t,i)),i):i}function yt(t,f){var y=t.Suggestions?t.Suggestions.split("\t"):[],p=t.ProbSugClickGivenPrefs?t.ProbSugClickGivenPrefs.split("\t"):[],w=t.ClicksOnSugGivenPrefs?t.ClicksOnSugGivenPrefs.split("\t"):[],b=t.ProbSugClickGivenBackground?t.ProbSugClickGivenBackground.split("\t"):[],k=t.Loglikelihoods?t.Loglikelihoods.split("\t"):[],a=t.SuggestionGroups?t.SuggestionGroups.split("\t"):[],d=t.ProbSugClickGivenPrefWeeks?t.ProbSugClickGivenPrefWeeks.split("\t"):[],v=t.ProbSugClickGivenPrefWeekends?t.ProbSugClickGivenPrefWeekends.split("\t"):[],g=t.ProbSugClickGivenBackgroundWeeks?t.ProbSugClickGivenBackgroundWeeks.split("\t"):[],it=t.ProbSugClickGivenBackgroundWeekends?t.ProbSugClickGivenBackgroundWeekends.split("\t"):[],nt=t.LoglikelihoodWeeks?t.LoglikelihoodWeeks.split("\t"):[],tt=t.LoglikelihoodWeekends?t.LoglikelihoodWeekends.split("\t"):[],c=n.config.athenaKeyType==0||!t.SuggestionHandOffTypes?[]:t.SuggestionHandOffTypes.split("\t"),s=y.length,l=e(),o;if(u(s,a.length,c.length))for(o=0;o<s;o++){var rt=a&&a.length>o?a[o]:"",ut=c&&c.length>o?c[o]:"",ft=r(rt,ut,""),h=i(y[o],ft);f[h]={SuggestionGroup:+a[o]};b.length==s&&(f[h].ProbSugClickGivenBackground=Number(b[o]));p.length==s&&(f[h].ProbSugClickGivenPref=Number(p[o]));w.length==s&&(f[h].ClicksOnSugGivenPref=Number(w[o]));k.length==s&&(f[h].Loglikelihood=Number(k[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].SuggestionHandOffType=Number(c[o]));d.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenPrefTime=Number(v[o])):f[h].ProbSugClickGivenPrefTime=Number(d[o]);g.length!=s||l?v.length==s&&l&&(f[h].ProbSugClickGivenBackgroundTime=Number(it[o])):f[h].ProbSugClickGivenBackgroundTime=Number(g[o]);nt.length!=s||l?tt.length==s&&l&&(f[h].LoglikelihoodTime=Number(tt[o])):f[h].LoglikelihoodTime=Number(nt[o])}else SharedLogHelper.LogError("parseLLSignals",null,new Error("Length doesn't match"))}function pt(t,f){var a=t.CCRSuggestions?t.CCRSuggestions.split("\t"):[],l=t.CCRSuggestionGroups?t.CCRSuggestionGroups.split("\t"):[],v=t.CCRs?t.CCRs.split("\t"):[],y=t.EventCounts?t.EventCounts.split("\t"):[],c=n.config.athenaKeyType==0||!t.CCRSuggestionHandOffTypes?[]:t.CCRSuggestionHandOffTypes.split("\t"),p=t.CCRsWeek?t.CCRsWeek.split("\t"):[],w=t.CCRsWeekend?t.CCRsWeekend.split("\t"):[],s=a.length,b=e(),o;if(u(s,l.length,c.length))for(o=0;o<s;o++){var k=l&&l.length>o?l[o]:"",d=c&&c.length>o?c[o]:"",g=r(k,d,""),h=i(a[o],g);f[h]||(f[h]={SuggestionGroup:Number(l[o])});v.length==s&&(f[h].CCR=Number(v[o]));y.length==s&&(f[h].EventCount=Number(y[o]));n.config.athenaKeyType!=0&&c.length==s&&(f[h].CCRSuggestionHandOffType=Number(c[o]));p.length!=s||b?w.length==s&&b&&(f[h].CCRTime=Number(w[o])):f[h].CCRTime=Number(p[o])}else SharedLogHelper.LogError("parseCCRSignals",null,new Error("Length doesn't match"))}function wt(n,t){var o=n.SugTypes?n.SugTypes.split("\t"):[],s=n.HandOffTypes?n.HandOffTypes.split("\t"):[],h=n.PSGPCRs?n.PSGPCRs.split("\t"):[],c=n.PSGCCRs?n.PSGCCRs.split("\t"):[],l=n.PSGSTRs?n.PSGSTRs.split("\t"):[],a=n.PSGSATCCRs?n.PSGSATCCRs.split("\t"):[],v=n.PSGSATPCRs?n.PSGSATPCRs.split("\t"):[],f=o.length,i;if(u(f,0,s.length))for(i=0;i<f;i++){var y=o[i],p=s[i],e=r("",p,y);t[e]={};h.length==f&&(t[e].PSGPCR=Number(h[i]));c.length==f&&(t[e].PSGCCR=Number(c[i]));l.length==f&&(t[e].PSGSTR=Number(l[i]));a.length==f&&(t[e].PSGSATCCR=Number(a[i]));v.length==f&&(t[e].PSGSATPCR=Number(v[i]))}else SharedLogHelper.LogError("parseGroupEngagementSignals",null,new Error("Length doesn't match"))}function bt(n,t){var r={},f,s,o,i;if(t){var h=0,v=0,u={};for(f=0,s=t;f<s.length;f++){var y=s[f],e=y.key,p=y.value;u[e]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};v+=c(u,e,n);o=a(p);u[e].groupClickCounts=o.groupLaunches;for(i in u[e].groupClickCounts)r[i]||(r[i]={probability:0,weight:0}),r[i].probability+=o.groupHits[i],h+=o.groupHits[i]}l(r,u,v,h)}return r}function kt(n,t){var r={},f,o,i;if(t){var h=0,a=0,u={};for(f=0,o=t;f<o.length;f++){var v=o[f],s=v.key,e=v.value;u[s]={lexicalSimilarity:0,groupClickCounts:{},groupWeight:{}};a+=c(u,s,n);for(i in e)e[i]&&e[i].prefixLaunchCount&&(r[i]||(r[i]={probability:0,weight:0}),u[s].groupClickCounts[i]=e[i].prefixLaunchCount,r[i].probability++,h++)}l(r,u,a,h)}return r}function c(n,t,i){var r=t.length-i.length,u=r/t.length;return n[t].lexicalSimilarity=1-u,n[t].lexicalSimilarity}function l(n,t,i,r){var o=0,s,e,f,u;for(e in t){f=t[e];f.lexicalSimilarity/=i;for(u in f.groupClickCounts)s=f.groupClickCounts[u],f.groupWeight[u]=s*f.lexicalSimilarity,o+=f.groupWeight[u]}for(u in n)n[u].probability/=r;for(e in t){f=t[e];for(u in f.groupClickCounts)n[u]||(n[u]={probability:0,weight:0}),f.groupWeight[u]/=o,n[u].weight+=f.groupWeight[u]}}function a(n){var u=function(n,t,i){return n[t]=n[t]?n[t]+i:i},r={groupLaunches:{},groupHits:{},otherGroupLaunches:0},f,t,i;for(f in n)(t=n[f],t&&t.prefixLaunchCount)&&(i=t.groupType,i||i===0?(u(r.groupLaunches,i,t.prefixLaunchCount),u(r.groupHits,i,1)):r.otherGroupLaunches+=t.prefixLaunchCount);return r}function dt(n,t,i,r){if(r){var f=i(t),u=r[f];u&&(n[266]=u.probability,n[267]=u.weight)}}function e(t){var i=t?t.getDay():n.getCurrentDate().getDay(),r=i==6||i==0;return n.config.invertIsWeekend?!r:r}function gt(n){for(var t in n)n[t]?n[t]=v(Number(n[t])):delete n[t]}function v(n){return Number(n.toFixed(5))}function ni(n,t){n.featureStore||(n.featureStore={});n.featureStore[t]=1}n.getTextForLexicalFeatures=y;n.stringHashCode=f;n.getEditDistance=t;n.getEditDistanceIgnoreCase=p;n.computeEditDistanceRatio=o;n.computeJaroSimilarity=s;n.computeJaroWinklerSimilarity=w;n.computeJaroWinklerPrefixOverLapCount=h;n.isWordBoundary=b;n.countMaxContiguousRepeatedChars=k;n.getNumberOfWords=d;n.containsOnlyDigitsLettersOrSpaces=g;n.endsWithSpace=nt;n.prefixIsLikeUrl=tt;n.computeUrlFeatures=it;n.computeDomainFeatures=rt;n.computeTitleFeatures=ut;var ft=["www.bing.","cn.bing.","www.google.","www.yandex.","www.baidu.","www.yahoo.",],et=["http://","https://",];n.getSumMruLaunches=st;n.setMRUSignal=ht;n.setMRUBackPropSignal=ct;n.setEngagementSignals=lt;n.setSuggestionGroupEngagementSignals=at;n.getEngagementSignalKey=i;n.getAthenaGroupKey=r;n.checkAthenaGroupLength=u;n.parseWebEngagementSignals=vt;n.computeGroupBackpropagatedClicks=bt;n.computeSuggestionBackpropagatedClicks=kt;n.evaluateGroupLaunches=a;n.setMRUGroupBackpropClicks=dt;n.isWeekend=e;n.removeUndefinedAndZeroAndTrimValues=gt;n.trimFeatureStoreValue=v;n.setFlagInFeatureStore=ni}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function r(n){return n.isSearchHomeZI}i.suggestionRankingModels={};var u=function(){function u(){}return u.prototype.rank=function(n,i,u,f,e,o,s,h,c,l){var a,v,y,p;return r(n)?{topResults:[],mruSuppressions:null}:n.scope==t.Scope.PathCompletion?this.rankPathCompletion(i):(a=t.isL2(n)?null:{mruGroupRatios:null,maxGroupCCR:null,maxGroupProbSugClickGivenPref:null,mruGroupBackpropWeights:null,mruGroupBackpropRatios:null},v=i.slice(),t.config.disableWebRankingSignals&&(o=null,u=null,h=null),this.orderSuggestions(n,i,u,f,o,s,h,c,a,e),this.setMRUHintEnabled(n,i),this.setGroupSuppressionSignals(a,i),y=this.getTopHitCandidates(n,i,l.searchTheWeb,v),p=this.createMulticlassClassifierTopHitSuggestionList(y),{topResults:p,mruSuppressions:a})},u.prototype.setMRUHintEnabled=function(n,i){var f,r,u;if(t.config.enableMRUHint)for(f=n.queryToFetch.toLocaleLowerCase(),r=0;r<i.length;r++)u=i[r].featureStore,u[281]&&u[282]&&(t.config.enableMRUHint!=1&&i[r].text.toLocaleLowerCase().startsWith(f)||(i[r].mruHintEnabled=!0))},u.prototype.rankPathCompletion=function(n){var t=n.find(function(n){return n.type=="CG"})||n[0];return{topResults:t?[t]:[],mruSuppressions:null}},u.prototype.orderSuggestions=function(r,u,f,e,o,s,h,c,l,a){var g=this,b=n.safeExecute(function(){return g.createFeatureStore(r,u,f,e,o,s,h,l,a)},"createFeatureStore"),p,y,k,w,d,v;if(b=b||u.map(function(){return{}}),y=c?t.config.counterFactualRankerId:t.config.mainRankerId,y?(p=n.safeExecute(function(){return i.suggestionRankingModels[y]},"getRanker"),p||SharedLogHelper.LogError("getRanker",y,new Error("Model not found"))):SharedLogHelper.LogError("getRanker",y,new Error(c?"CounterFactualRankerId not defined ":"MainRankerId not defined")),p)for(k=function(t){var i=b[t],r=n.safeExecute(function(){return p(i)},"calculateRankingScore");u[t].rankingScore=n.trimFeatureStoreValue(r);u[t].featureStore=i},v=0;v<u.length;v++)k(v);if(w=u.filter(function(n){return n.type=="MB"}),u.sort(function(n,t){return t.rankingScore-n.rankingScore}),w.length>1)for(d=u.map(function(n,t){return n.type=="MB"?t:undefined}).filter(function(n){return typeof n=="number"}),v=0;v<w.length;++v)u[d[v]]=w[v]},u.prototype.getSuggestionScoreFromSuggestionLogMeta=function(n){var t=";2152:";return n.indexOf(t)>=0?parseInt(n.substring(n.indexOf(t)+6).split(";")[0].slice(1,-1)):NaN},u.prototype.getTopWebSuggestion=function(n){var u,f,t,e,i,r;if(n.length==0)return null;if(u=n[0],f=64e3,n.length>1)for(t=0,e=n;t<e.length;t++)i=e[t],i.suggestionLogMeta&&(r=this.getSuggestionScoreFromSuggestionLogMeta(i.suggestionLogMeta),!isNaN(r)&&r<f&&(f=r,u=i));return u},u.prototype.bypassFallbackForMBS=function(i,r,u){return(t.config.bypassFallbackOnMSBTopHit==2||t.config.bypassFallbackOnMSBTopHit==3)&&r.every(function(t){return n.isWebSuggestion(t)||t.handoffType==17||t.isAnswer})?!0:(t.config.bypassFallbackOnMSBTopHit==1||t.config.bypassFallbackOnMSBTopHit==4)&&!r.some(function(n){return t.isApp(n.type)||t.isSetting(n.type)})&&u.length>0&&(u[0].type=="PPL"||u[0].type=="BKS")?!0:t.config.bypassFallbackOnMSBTopHit==4&&!r.some(function(n){return t.isApp(n.type)||t.isSetting(n.type)})&&u.length>1&&(u[0].isAnswer||n.isWebSuggestion(u[0]))&&(u[1].type=="PPL"||u[1].type=="BKS"||u.length>2&&u[0].isAnswer&&u[1].isAnswer&&(u[2].type=="PPL"||u[2].type=="BKS"))?!0:!1},u.prototype.getTopHitCandidates=function(i,r,u,f){var l=this,e=r.filter(function(n){return l.allowInTopHit(i,n,f)}),h,o,c,s;return this.bypassFallbackForMBS(i,r,e,f)?(h=[],o=f.filter(function(n){return n.type=="PPL"}),o.length==0&&(o=f.filter(function(n){return n.type=="BKS"})),o.length>0&&o[0].autoOpenPreviewPaneWhenOnTopHit&&(t.config.bypassFallbackOnMSBTopHit!=3||n.getTextForLexicalFeatures(o[0]).toLowerCase().startsWith(i.queryToFetch.toLowerCase()))&&h.push(o[0]),t.config.bypassFallbackOnMSBTopHit==4&&(e[0].isAnswer||n.isWebSuggestion(e[0]))&&(e[0].isAnswer||this.getFallbackClassifierScore(e[0])>t.config.webFbcScoreThreshold)&&h.push(e[0]),h):this.enableFallbackClassifier(i,e,u)?t.config.disableTopHitSyntheticWeb&&i.queryToFetch.length>=t.config.minPrefixDisableTopHitSW&&e.every(function(t){return n.isWebSuggestion(t)})&&(c=e.filter(function(n){return n.type!="SW"}),c.length>0&&(s=this.getTopWebSuggestion(c),s.type!="SC"&&s.type!="RI"&&s.type!="OS"))?[s]:this.getFallbackClassifierSuggestions(e):e},u.prototype.getFallbackClassifierScore=function(r){var u=n.safeExecute(function(){return i.suggestionRankingModels[t.config.fallbackClassifierId]},"getFallbackClassifier"),f=u?n.safeExecute(function(){return u(r.featureStore)},"calculateFallbackClassifierScore"):0;return n.trimFeatureStoreValue(f)},u.prototype.getFallbackClassifierSuggestions=function(r){if(r=r.filter(function(n){return n.type!="SW"}),r.length>0){var f=0,u=r[0];return u.fbcScore=this.getFallbackClassifierScore(u),f=t.config.enableAppsSettingsFbcScoreThreshold?t.isApp(u.type)||t.isSetting(u.type)?t.config.appsSettingsFbcScoreThreshold:n.isWebSuggestion(u)?t.config.webFbcScoreThreshold:t.config.nonWebFbcScoreThreshold:n.isWebSuggestion(u)?t.config.webFbcScoreThreshold:t.config.nonWebFbcScoreThreshold,u.fbcScore>=f?r.slice(0,i.topHitIsMultiEntity(r)?2:1):[]}return[]},u.prototype.enableFallbackClassifier=function(i,r,u){if((t.config.enableFBMinQryLength==0||i.queryToFetch.length>=t.config.enableFBMinQryLength)&&u&&t.config.fallbackClassifierId&&r.length>0){var f=r[0];return t.getGroupType(f)==t.GroupType.Cortana?!1:f.isAnswer?f.autoOpenPreviewPaneWhenOnTopHit&&t.config.applyFallbackClassifierToAutoOpenAnswers||f.type=="MB"&&t.config.applyFallbackClassifierToEntities:t.config.enableLimitedFallback&&i.queryToFetch.length>=t.config.minPrefixLengthLimitedFallback&&!n.isWebSuggestion(f)?!1:!0}return!1},u.prototype.allowInTopHit=function(i,r,u){var h=!u||u.length==1,o,e,s,f;if(t.RuntimeConfig.QfMode==8||!t.config.topHitAllowedForGridLayoutL2&&(i.scope==t.Scope.Photos||i.scope==t.Scope.Videos)||i.topHitRestriction==1&&r.query.toLocaleLowerCase()!=i.queryToFetch.toLocaleLowerCase()&&(n.contains(r.features,"ForcePrefixOnTop")||r.features.push("ForcePrefixOnTop"),t.config.forceTypedQueryOnTop))return!1;if(t.isRecourse(r))return t.config.recourseOnlyInGroups?!1:h;if(t.isMobileCache)switch(r.handoffType){case 2:case 3:return!1;case 1:if(!i.queryToFetch.includes("."))return!1}o=t.getGroupType(r);switch(o){case t.GroupType.Store:return r.hc;case t.GroupType.PowerBi:return r.hc;case t.GroupType.Command:return r.hc||h;case t.GroupType.LocalPlaces:return t.config.topHitAllowedForLocal}if(t.getScope(o)==t.Scope.Emails&&!r.hc)return!1;if(t.enforceOriginalOrder(r)&&u)for(e=0,s=u;e<s.length;e++){if(f=s[e],f==r)break;if(f.type==r.type&&f.handoffType==r.handoffType&&f.sourceForGroup==r.sourceForGroup)return!1}return t.RuntimeConfig.AlwaysWide&&!r.previewPaneType?!1:!0},u.prototype.createMulticlassClassifierTopHitSuggestionList=function(n){for(var r=0,u=0;u<Math.min(n.length,t.config.maxNumberOfTopResults);u++)n[u].rankingScore!==undefined&&n[u].rankingScore>.5&&(r=u);return r==0&&i.topHitIsMultiEntity(n)&&(r=1),t.config.bypassFallbackOnMSBTopHit==4&&n.length>0&&(n[0].type=="PPL"||n[0].type=="BKS")&&(r=1),n.slice(0,r+1)},u.prototype.createFeatureStore=function(i,r,u,f,e,o,s,h,c){var ht=[],tt=0,ct=0,it=0,lt=i.queryToFetch.toLocaleLowerCase(),kt=function(n){return t.getGroupType(n)},at=n.getSumMruLaunches(f),vt=0,yt={},rt,ut,pt,d,ft,y,p,a,w,g,et,ot,b,nt,st,v,l,k,wt,bt;for(f&&(rt=n.evaluateGroupLaunches(f),vt=rt.otherGroupLaunches,yt=rt.groupLaunches),ut=n.computeGroupBackpropagatedClicks(i.queryToFetch,c),pt=n.computeSuggestionBackpropagatedClicks(i.queryToFetch,c),d=0,ft=r;d<ft.length;d++)y=ft[d],y.handoffType==2&&(p=t.getAppItem(y),p&&(ct+=p.totalLaunches,p.totalLaunches>tt&&(tt=p.totalLaunches)),y.deviceItem&&y.deviceItem.rankScore>it&&(it=y.deviceItem.rankScore));for(a={},n.isWeekend()&&(a[440]=1),a[441]=this.getLocalHourBucket(new Date),w=lt.split(" "),g=0,et=w;g<et.length;g++){if(ot=et[g],ot=="install"){a[451]=1;break}if(ot=="uninstall"){a[450]=1;break}}for(w&&w.length>0&&(b=w[0],a[452]=b.indexOf("c:")>-1||b.indexOf("d:")>-1||b.indexOf("e:")>-1||b.indexOf("f:")>-1?1:0),nt=0,st=r;nt<st.length;nt++)v=st[nt],l=this.getSuggestionFeatureStore(lt,v,e,u,ct,s),l[13]=tt,l[7]=it,l[60]=t.isMobileCache?1:0,u&&u.WebSignalsAvailable&&(l[93]=1),n.setMRUSignal(t.getSuggestionKey(v),l,f,at),this.setMRUGroupLaunchRatios(l,v,at,yt,vt,h),n.setMRUBackPropSignal(t.getSuggestionKey(v),l,pt),ut&&n.setMRUGroupBackpropClicks(l,v,kt,ut),k=n.getTextForLexicalFeatures(v),k&&(v.handoffType==1&&(n.computeUrlFeatures(k,i.queryToFetch,l,o),wt=n.getDomain(k),n.computeDomainFeatures(v,i.queryToFetch,l,o,wt,e)),t.isFileOrFolder(v.type)&&(bt=o.cvid+o.privacyNumber+k,l[131]=n.stringHashCode(bt))),a&&(l[440]=a[440],l[441]=a[441],l[451]=a[451],l[450]=a[450],l[452]=a[452]),n.removeUndefinedAndZeroAndTrimValues(l),ht.push(l);return ht},u.prototype.setGroupSuppressionSignals=function(n,i){var f,e,u;if(n)for(n.maxGroupCCR={},n.maxGroupProbSugClickGivenPref={},n.mruGroupBackpropRatios={},n.mruGroupBackpropWeights={},f=0,e=i;f<e.length;f++)if(u=e[f],u.featureStore){var r=t.getGroupType(u),o=u.featureStore[94]||0,s=u.featureStore[0]||0;n.maxGroupCCR[r]=n.maxGroupCCR[r]?Math.max(n.maxGroupCCR[r],o):o;n.maxGroupProbSugClickGivenPref[r]=n.maxGroupProbSugClickGivenPref[r]?Math.max(n.maxGroupProbSugClickGivenPref[r],s):s;n.mruGroupBackpropRatios[r]=u.featureStore[266];n.mruGroupBackpropWeights[r]=u.featureStore[267];(n.mruGroupBackpropWeights[r]||n.mruGroupBackpropRatios[r])&&(n.backPropDataExists=!0)}},u.prototype.setMRUGroupLaunchRatios=function(n,i,r,u,f,e){var s,o;if(r){e&&(e.mruGroupRatios={});n[186]=f/r;for(s in u){o=u[s]/r;t.getGroupType(i)==Number(s)&&(n[271]=o);e&&(e.mruGroupRatios[s]=o);switch(Number(s)){case t.GroupType.Apps:n[169]=o;break;case t.GroupType.Settings:n[170]=o;break;case t.GroupType.Cortana:n[171]=o;break;case t.GroupType.Command:n[172]=o;break;case t.GroupType.Photos:n[173]=o;break;case t.GroupType.Videos:n[174]=o;break;case t.GroupType.Music:n[175]=o;break;case t.GroupType.Documents:n[176]=o;break;case t.GroupType.Folders:n[177]=o;break;case t.GroupType.Emails:n[178]=o;break;case t.GroupType.Store:n[179]=o;break;case t.GroupType.SearchSuggestions:n[262]=o;n[180]=u[t.GroupType.Websites]?(u[t.GroupType.Websites]+u[s])/r:o;break;case t.GroupType.Websites:n[263]=o;n[180]=u[t.GroupType.SearchSuggestions]?(u[t.GroupType.SearchSuggestions]+u[s])/r:o;break;case t.GroupType.PathCompletion:n[181]=o;break;case t.GroupType.PowerBi:n[182]=o;break;case t.GroupType.People:n[184]=o;break;case t.GroupType.EdgeHistory:n[185]=o;break;case t.GroupType.Bookmarks:n[260]=o;break;case t.GroupType.LocalPlaces:n[261]=o}}}},u.prototype.getRank=function(n){if(n.type=="EBH")return undefined;if(n.deviceItem&&typeof n.deviceItem.rankScore!="undefined")return n.deviceItem.rankScore;var i=t.isJumpListSuggestion(n)?n.jumpListItem.usagePoints:undefined;return typeof i!="undefined"?i:undefined},u.prototype.getSuggestionFeatureStore=function(i,r,u,f,e,o){var s={},l,v,d,a,y,p,w,c,h,g,it,b,nt,rt,k,tt;if(this.setTypeSignal(r,s),l=t.getAppItem(r),l?(s[2]=l.totalLaunches,s[92]=l.launchArguments?1:0,e>0&&(s[103]=l.totalLaunches/e),this.addLastAccessDate(l.lastAccessed,s)):this.addLastAccessDate(t.isJumpListSuggestion(r)?r.jumpListItem.lastAccessed:null,s),v=t.getBrowsingHistoryItem(r),v&&(v.visitCount&&(s[138]=v.visitCount),this.addLastAccessDate(v.dateVisited,s)),s[96]=r.catalogScore,s[97]=r.avgRating,s[98]=r.ratingCount,s[99]=r.confidence,s[150]=r.source,s[283]=r.pinnedToTaskbar?1:undefined,r.hc&&(s[189]=1),s[17]=r.highConfidenceMetaSuggestionScore,d=this.getRank(r),typeof d!="undefined"?s[16]=d:s[4]=1,a=r,a.matchedOnlyOnContent&&(s[259]=1),a.matchedOnlyOnAuthor&&(s[273]=1),a.lastModifiedDate&&(s[268]=n.getTimeDiffInDays(a.lastModifiedDate)),a.extensionLC==".lnk"&&(s[272]=1),s[23]=r.prefetchConfidenceScore,s[264]=f&&f.ProbNextKS!==undefined?f.ProbNextKS:1,s[296]=f&&f.ProbNextKSV2!==undefined?f.ProbNextKSV2:1,this.setThresholdRatios(s,f),this.setRatios(s,f),y=t.getGroupType(r),p=r.query,r.type=="SW"&&(p="SearchTheWeb"),w=n.getAthenaGroupKey(String(y),String(r.handoffType),r.type),n.setEngagementSignals(s,u,w,p,!1,!1),n.setEngagementSignals(s,o,w,p,!1,!0),o&&!u&&n.setEngagementSignals(s,o,w,p,!1,!1),s[10]=i.length,(r.isAnswer||y==t.GroupType.Cortana)&&(s[11]=1),c=n.getTextForLexicalFeatures(r),h=c?c.toLocaleLowerCase():null,c||(s[132]=1),h==i&&(s[133]=1),r.handoffType==2&&(r.type!="PBI"&&(s[8]=1),t.isSetting(r.type)&&(s[64]=1),t.isApp(r.type)&&(s[83]=1)),y==t.GroupType.SearchSuggestions&&(r.type!="SW"&&(s[82]=1),s[25]=1),g=s[132]==1,g?s[137]=i.length:(s[137]=c.length,s[134]=n.getEditDistance(i,h),s[135]=Math.min(100,n.computeEditDistanceRatio(s[134],i.length,c.length)),s[136]=n.isWordBoundary(i,c),s[284]=Math.abs(c.length-i.length)),!g&&h){for(h.indexOf(i)>-1&&(s[143]=1),h.substring(0,i.length)===i&&(s[188]=1),it=h.split(" "),b=0,nt=it;b<nt.length;b++)if(rt=nt[b],rt==i){s[145]=1;break}s[420]=n.computeJaroSimilarity(i,h);s[421]=n.computeJaroWinklerSimilarity(i,h)}return s[1]==1&&r.deviceItem&&(k=t.getAppItem(r),k.extension&&(s[400]=k.extension===".exe"?1:0,s[401]=k.extension===".appref-ms"?1:0),h&&(s[402]=h.indexOf("install")>-1?1:0)),s[1]||r.type!="FL"&&r.type!="FD"&&r.type!="ST"||(s[403]=1),(r.type=="QP"||r.type=="QS"||r.type=="SC"||r.type=="OS")&&(s[404]=1),s[8]==1&&(s[27]=s[133]),(r.isAnswer||y==t.GroupType.Cortana)&&(s[55]=s[133]),(r.type=="HS"||r.fromHistory)&&(s[121]=1),s[41]=s[83]==1?s[40]:s[64]==1?s[39]:s[11]==1?s[32]:s[89]==1?s[54]:s[85]==1?s[30]:s[86]==1?s[53]:s[87]==1?s[52]:s[61]==1?s[31]:s[88]==1?s[51]:s[63]==1?s[35]:s[82]==1?s[29]:s[90]==1?s[50]:s[59]==1?s[34]:s[37],(t.isSetting(r.type)||t.isApp(r.type))&&(tt=r.ciMetaData,this.computeConstraintIndexFeatures(r.deviceItem,s,tt),r.ciMatchedQuery=this.getConstraintIndexMatchedQuery(tt),s[269]&&s[270]&&(s[405]=Math.sqrt(s[269]*s[270]))),r.signals&&(s[230]=r.signals.DistanceToEntity,s[231]=r.signals.DistanceToEntityPrecision,s[232]=r.signals.RankingScore),s},u.prototype.addLastAccessDate=function(t,i){var r=n.getTimeDiffInDays(t);r!=null?i[9]=r:i[19]=1},u.prototype.setTypeSignal=function(n,t){switch(n.type){case"LDOC":case"FL":t[61]=1;break;case"LI":t[85]=1;break;case"LV":t[86]=1;break;case"MU":t[87]=1;break;case"FD":t[88]=1;break;case"CG":t[89]=1;break;case"PT":t[90]=1;break;case"PP":case"IBA":t[1]=1;break;case"ML":case"MD":t[21]=1;break;case"CS":t[63]=1;break;case"SW":t[59]=1}},u.prototype.setRatios=function(n,t){t&&t.AppsRatio!==undefined&&(n[26]=t.AppsRatio,t.SettingsRatio&&(n[5]=t.SettingsRatio),t.StoreRatio&&(n[57]=t.StoreRatio),t.PrefixProbability&&(n[12]=t.PrefixProbability),t.FilesRatio&&(n[24]=t.FilesRatio),t.WebRatio&&(n[18]=t.WebRatio),t.PhotosVideosMusicRatio&&(n[28]=t.PhotosVideosMusicRatio),t.ContactsRatio&&(n[56]=t.ContactsRatio),t.LocalProtocolRatio&&(n[91]=t.LocalProtocolRatio))},u.prototype.setThresholdRatios=function(n,t){t&&t.ThApps!==undefined?(n[40]=t.ThApps,t.ThStore&&(n[35]=t.ThStore),t.ThSetting&&(n[39]=t.ThSetting),t.ThCortAns&&(n[32]=t.ThCortAns),t.ThPrefixCount&&(n[38]=t.ThPrefixCount),t.ThWeb&&(n[29]=t.ThWeb),t.ThSearchTheWeb&&(n[34]=t.ThSearchTheWeb),t.ThOther&&(n[37]=t.ThOther),t.ThFile&&(n[31]=t.ThFile),t.ThFolder&&(n[51]=t.ThFolder),t.ThPath&&(n[50]=t.ThPath),t.ThEmail&&(n[33]=t.ThEmail),t.ThCommAns&&(n[54]=t.ThCommAns),t.ThPhotoAns&&(n[30]=t.ThPhotoAns),t.ThVideoAns&&(n[53]=t.ThVideoAns),t.ThMusicAns&&(n[52]=t.ThMusicAns),t.ThDNav&&(n[147]=t.ThDNav)):n[42]=1},u.prototype.computeConstraintIndexFeatures=function(n,t,i){var u,o,f,e,s,r;if(n&&n.rawIndexResponse){if(!i)return;if(t[157]=i.GrammarScore,t[158]=i.MatchScore,i.Parses&&i.Parses.length>0&&i.Parses[0].Entities&&i.Parses[0].Entities.length>0)for(u=0,o=i.Parses[0].Entities;u<o.length;u++)if(f=o[u],t[159]=f.EntityScore,f.Attributes)for(e=0,s=f.Attributes;e<s.length;e++)r=s[e],r.Name=="gscore"?t[269]=Number(r.Value):r.Name=="lscore"&&(t[270]=Number(r.Value))}},u.prototype.getConstraintIndexMatchedQuery=function(n){return!n||n.MatchScore==0?null:n.Query},u.prototype.getLocalHourBucket=function(n){var t=n.getHours(),i=1;return t>=0&&t<6?i=1:t>=6&&t<12?i=2:t>=12&&t<18?i=3:t>=18&&t<=23&&(i=4),i},u}();i.FastRankRanker=u})(i=t.Ranking||(t.Ranking={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=function(){function i(n,t){var i=this;this._instrumentationProvider=t;this._MCkeystrokeAggregatedMeasure={DataSourceResponseTimes:{},TopResultsRendered:null};n.bindDismissed(function(){return i.flushAggregatedMeasure(!0)})}return i.prototype.onNewKeystroke=function(n,t,i){this.flushAggregatedMeasure();this._aggregatedMeasureFlushed=!1;this._currentLeftPaneSuggestions=null;this._currentRawImpressionGuid=t;this._currentRawClientImpressionGuid=SearchAppWrapper.CortanaApp.impressionId;this._keystrokeAggregatedMeasure={CVID:n};this._currentKeystrokeAggregatedMeasureIsForSearchHome=i},i.prototype.flushAggregatedMeasure=function(n){(t.config.logPerf&&this._MCkeystrokeAggregatedMeasure&&Object.keys(this._MCkeystrokeAggregatedMeasure.DataSourceResponseTimes).length>1&&(this._instrumentationProvider.logProfilerMarker(1,0,"MCKeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._MCkeystrokeAggregatedMeasure),this._MCkeystrokeAggregatedMeasure={DataSourceResponseTimes:{},TopResultsRendered:null}),n||this._currentKeystrokeAggregatedMeasureIsForSearchHome)&&!this._aggregatedMeasureFlushed&&this._keystrokeAggregatedMeasure&&Object.keys(this._keystrokeAggregatedMeasure).length>1&&(this.logProfilerMarker(1,0,"KeystrokeAggregatedMeasure",this._currentRawImpressionGuid,this._currentRawClientImpressionGuid,this._keystrokeAggregatedMeasure),this._aggregatedMeasureFlushed=!0)},i.prototype.logSingleMeasure=function(n,t,i){this.logProfilerMarker(1,0,n,t,SearchAppWrapper.CortanaApp.impressionId||t,i)},i.prototype.logProfilerMarker=function(n,t,i,r,u,f){u!=r&&(f.ServerIG=r);this._instrumentationProvider.logProfilerMarker(n,t,i,u,f)},i.prototype.logAggregate=function(n,t){this._keystrokeAggregatedMeasure[n]=t},i.prototype.getItemLayoutFromSuggestionsList=function(n){var u,e,i,f,r,t;if(this._currentLeftPaneSuggestions){for(u=this._currentLeftPaneSuggestions.topResults,e=this._currentLeftPaneSuggestions.groups,t=0;t<u.length;++t)if(u[t].instItem==n)return{IsInTopResult:!0,GroupType:undefined,PositionInGroup:t};for(i=0,f=e;i<f.length;i++)for(r=f[i],t=0;t<r.suggestions.length;++t)if(r.suggestions[t].instItem==n)return{IsInTopResult:undefined,GroupType:r.typeWithSource.type,PositionInGroup:t}}return undefined},i.prototype.updateSuggestionsList=function(n,t){this._currentLeftPaneSuggestions={topResults:n,groups:t}},i.prototype.logDataSourcePerformancesMeasure=function(n){var r=n.RequestBegin,i=Object.keys(n.ResponseReceived).map(function(t){return{Name:t,ResponseReceivedTime:n.ResponseReceived[t]-r,RenderedTime:n.RenderFinished[t]-r,Status:n.DataSourcesState&&n.DataSourcesState[t]}}),f=n.TopResultRendered.map(function(n){return{Type:n.T,Time:n.V-r}}),e={DataSources:i,TopResultRendered:f},u;if(this.logAggregate("DataSourcePerformancesMeasure",e),t.config.logPerf)for(u in i)this._MCkeystrokeAggregatedMeasure.DataSourceResponseTimes[i[u].Name]=i[u].ResponseReceivedTime},i.prototype.logNewKeystrokeMeasure=function(t,i,r){this.onNewKeystroke(t,i,r.isSearchHomeZI);var u={ScopeInQuery:r.scopePrefix,Scope:r.scope,IsSearchHome:r.isSearchHomeZI};u.CIVersion=n.WSB.ConstraintIndex.currentCIVersion;this.logAggregate("NewKeystrokeMeasure",u)},i.prototype.logTopResultsRenderedMeasure=function(i,r,u){this._instrumentationProvider.logProfilerMarker(1,0,"topResultRendered",i,{CI:n.WSB.ConstraintIndex.currentCIVersion});var f={SuggestionTypes:r};this.logAggregate("TopResultsRenderedMeasure",f);t.config.logPerf&&(this._MCkeystrokeAggregatedMeasure.TopResultsRendered=u)},i.prototype.logGroupsRenderedMeasure=function(n){var t={GroupTypes:n};this.logAggregate("GroupsRenderedMeasure",t)},i.prototype.logPreviewPaneOpenedMeasure=function(n,t,i){var r={ParentType:n.getQsCode(),PreviewPaneType:t,ParentLayoutInfo:this.getItemLayoutFromSuggestionsList(n),AutoOpened:i||undefined};this.logAggregate("LastPreviewPaneOpened",r)},i.prototype.logConversationStartMeasure=function(n,t){var i={CVID:n,StartTime:t};this.logSingleMeasure("ConversationStartMeasure",n,i)},i.prototype.logItemClickedMeasure=function(n,t,i,r){var u={CVID:n,ItemType:i.getQsCode(),InputType:r,LayoutInfo:this.getItemLayoutFromSuggestionsList(i)};this.flushAggregatedMeasure(!0);this.logSingleMeasure("ItemClickedMeasure",t,u)},i}();t.WindowsTelemetry=i})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=/[+.\\*?\[\]()]/g,r={".":"\\.","+":"\\+","*":"\\*","\\":"\\\\","?":"\\?","[":"\\[","]":"\\]","(":"\\(",")":"\\)"},u=/^(?:https?:\/\/)?(.*)/,f=/^(?:(?:https?:\/\/(?:www\.)?)|(?:www\.))(.*)/,e=/^\s+/,o=function(){function o(t){var i=this;this._host=t;t.bindKeyDown(function(t){n.isUpOrDownKey(t)&&i.reset()});t.bindQueryChangedOrInitialized(function(n){i._currentQuery=n;!i._fullAutoCompletedQuery||i._fullAutoCompletedQuery.startsWith(n.originalQuery)||n.originalQuery.startsWith(i._fullAutoCompletedQuery)||i.reset()})}return o.prototype.apply=function(n){var r,o,i;if(n.query!=this._autoCompletedQuery){if(r=this._currentQuery.originalQuery,this._host.setAutoCompleteQueryText(""),(!t.config.disableGhosting&&n.type!="EBH"||t.config.disableGhosting&&n.type=="PT")&&this._currentQuery.originalCursorPosition===r.length){var s=this._currentQuery.scopePrefix?this._currentQuery.scopePrefix.length+1:0,u=r.substr(s).replace(e,"").toLowerCase(),f=n.query.toLowerCase();if(u!==f&&(o=1,i=this.fullAutoCompleteOffset(f,u),i<0&&(t.config.allowInfixGhosting||n.url)&&(i=this.infixAutoCompleteOffset(f,u),o=2),i<0&&(i=this.directNavAutoCompleteOffset(f,u)),i>=0)){this.setAutoCompletedQuery(r,n.query,i);n.autoCompleteType=o;return}}this._autoCompletedQuery&&(this.reset(),this._host.setAutoCompleteQueryText(r))}},o.prototype.reset=function(){this._autoCompletedQuery=null;this._fullAutoCompletedQuery=null},o.prototype.fullAutoCompleteOffset=function(n,t){var i=n.startsWith(t);return i?t.length:-1},o.prototype.infixAutoCompleteOffset=function(n,t){var f=n.search("[ .:,\\\\/+_&-]"+t.replace(i,function(n){return r[n]})),e,o;return f>0&&(e=n.substring(0,f+1).match(u)[1],o=e?e.match(/[ .:,\\/+_&-]+/g).length+1:1,o<3)?f+1+t.length:-1},o.prototype.directNavAutoCompleteOffset=function(n,t){var i=t.match(f),r;return i&&(r=i[1],r.length>0&&n.startsWith(i[1]))?r.length:-1},o.prototype.setAutoCompletedQuery=function(n,t,i){var r=n+t.slice(i);this._host.setAutoCompleteQueryText(r);this._autoCompletedQuery=t;this._fullAutoCompletedQuery=r},o}();t.WSBAutoComplete=o})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function o(n,i){var r,u;return i?(r=t.getKnownFolderPathLC(t.FOLDERID_SkyDrive),r?r+="\\":r="\\onedrive\\",u=n.indexOf(r),u>=0&&(n=n.substr(u+r.length))):n.startsWith("onedrive:\\")&&(n=n.substr(10)),n}function s(n,i,r){var u,f,o,e;return i?(u=t.getKnownFolderPathLC(t.FOLDERID_Profile)+"\\onedrive - ",f=n.indexOf(u),f>=0&&(o=n.indexOf("\\",f+u.length),n=n.substr(o+1))):t.windowsIdentity&&n.startsWith("onedrive for business:\\")&&r&&(e=t.windowsIdentity.indexOf("@"),e!=-1&&r.toLocaleLowerCase().indexOf("personal/"+t.windowsIdentity.substr(0,e))>0&&(n=n.substr(23))),n}function a(n){return{fullySuppressedGroups:n.fullySuppressedGroups?n.fullySuppressedGroups.slice(0):[],partiallySuppressedGroups:n.partiallySuppressedGroups?n.partiallySuppressedGroups.slice(0):[],suppressedSuggestions:n.suppressedSuggestions?n.suppressedSuggestions.slice(0):[]}}function h(n,i,r){var f="",e,o,u,s;return r?(e=t.getKnownFolderPathLC(t.FOLDERID_Profile)+"\\"+t.SubstrateTenantName.toLocaleLowerCase()+"\\",o=i.indexOf(e),o>=0&&(u=o+e.length,s=i.indexOf(" - ",u),f=i.substr(u,s-u).toLocaleLowerCase(),i=i.substr(s+3))):i.startsWith("sharepoint:\\")&&(i=i.substr(12),f=n.siteTitle.toLocaleLowerCase()),[i,f]}function v(n){return n.type=="SW"||n.type=="PWL"}function u(n,t){return!n.suppressed&&n.handoffType==0&&!n.htmlContent&&n.query.toLocaleLowerCase()==t.queryToFetch.toLocaleLowerCase()}function c(n){return n.length>=2&&n[0].type=="MB"&&n[1].type=="MB"}var f={"Microsoft.Windows.ControlPanel":"ControlPanel","Microsoft.AutoGenerated.{923DD477-5846-686B-A659-0FCCD73851A8}":"Classic_{E9C71548-B580-43B2-ACDB-1BA924002754}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\dfrgui.exe":"Classic_{7D13A5DB-6081-48BD-8EA3-A9D7FE67A335}","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows Defender\\MSASCui.exe":"NameSpace_Classic_{D8559EB9-20C0-410E-BEDA-7ED416AECC2A}","{1AC14E77-02E7-4E5D-B744-2EB1AE5198B7}\\cleanmgr.exe":"Classic_{AACA901F-E74F-4894-B074-F55059532853}","Microsoft.AutoGenerated.{BB044BFD-25B7-2FAA-22A8-6371A93E0456}":"Classic_{45FDB5DF-1457-4A41-A824-7AD9C75767BC}","Microsoft.Windows.PCSettings.DefaultApps":"AAA_SettingsPageAppsDefaults"},e={"NameSpace_Classic_{F942C606-0914-47AB-BE56-1321B8035096}":"Classic_{232A1851-808C-4B44-A92A-38E862989CE5",AAA_Proxy_Automatic_Config_Group:"AAA_SettingsPageNetworkProxy",AAA_Settings_DeveloperModeGroup:"AAA_SettingsPageRestoreDeveloperOptions",AAA_SystemSettings_Users_PicturePassword:"AAA_SettingsGroupPicturePassword"},r,l;(function(n){n[n.NotDuplicate=0]="NotDuplicate";n[n.NoMetadata=1]="NoMetadata";n[n.MergeMetadata=2]="MergeMetadata"})(r||(r={}));i.isWebSuggestionForPrefix=u;i.topHitIsMultiEntity=c;l=function(){function i(n,t,i,r,u,f,e,o){this._host=n;this._instrumentationHelper=t;this._navigationHelper=i;this._previousKeystrokeCache=r;this._ranker=u;this._renderedTopResults=f;this._previewPane=e;this._imageSearchViewModel=o}return i.prototype.launchWebSearch=function(n,t,i,r){var u=n.queryToFetch;this._host.launchSearch(u,this._navigationHelper.getSearchUrl(n.fullPartialQuery,u,i,null,r),t)},i.prototype.getProtocol=function(i,r){var o=this,f="PWL",u=this._instrumentationHelper.getInstrumentedSyntheticSuggestion(r,f),e;return u?u:(u=t.createSuggestion(i,null,this._host.getEdgeIcon,null,f,null,n.InstrumentedItem.getNonSuggestionInstrumentedItem(f,t.SyntheticQSCodesMaps.KValues),1,r,!1,"tp",function(){return o._host.launchUri(u.url)}),u.notAResult=!0,e=function(i){var r=n.prettyPrintUrl(i.fixedUrl,i.queryToFetch,!0);u.url=i.fixedUrl;u.tooltip=i.fixedUrl;u.query=r;u.text=HitHighlightingParser.addMarkers(r);u.narratorText=t.getNarratorText(u,o._host.getLocString("DirectNavSuggestion"))},e(i),u.updateFromQuery=function(n){return n.isProtocol?(e(n),!0):!1},this._instrumentationHelper.instrumentSyntheticSuggestion(r,u),u)},i.prototype.getWebSearch=function(i,r,u,f,e,o){var s=this,h=n.contains([13,14],e);return t.getSyntheticSuggestion(this._instrumentationHelper,i,r,u,f,e,o,h,function(n,t){return s.launchWebSearch(t,n.useRaf,u,e)})},i.prototype.getExplorerSearch=function(n,i){var u=this,r=t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"SDFE",{content:"&#xEC50",type:1},2,this._host.getLocString("SearchInFileExplorer"),!0,function(n,t){return u._host.launchSearchInFileExplorer(t.queryToFetch)});return t.shouldSetThisPcGroupSource(t.GroupType.Documents,n)&&(r.sourceForGroup=1),r},i.prototype.getOutlookWebAccessSearch=function(n,i){var u=this,r=t.getAccountTypeForCloudContent()==1;return t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"OWA",{content:"&#xE715",type:2},r?8:12,this._host.getLocString("SearchInOutlookWeb"),!0,function(){return u._host.launchUri(r?"https://outlook.office.com/owa":"https://outlook.live.com/owa")})},i.prototype.getStoreSearch=function(n,i){var r=this;return t.getSyntheticSuggestion(this._instrumentationHelper,n,i,"STS",{content:"&#xEA96",type:2},3,this._host.getLocString("SearchForAppsInTheStore"),!0,function(n,t){return r._host.launchStoreSearch(t.queryToFetch)})},i.prototype.getRecourse=function(i,r){if(!i.queryToFetch||i.taskFrame)return null;switch(t.getEffectiveScope(i)){case t.Scope.Apps:return n.isBingEnabled()?this.getStoreSearch(i,r):null;case t.Scope.Documents:return this.getExplorerSearch(i,r);case t.Scope.Emails:return t.ScopeConfig[t.Scope.Emails].showUpsellOnSuggestionsList()?null:this.getOutlookWebAccessSearch(i,r);case t.Scope.Photos:return n.isBingEnabled()?this.getWebSearch(i,r,"SBI",{content:"&#xEB9F",type:2},13,this._host.getLocString("SearchForWebImages")):null;case t.Scope.Videos:return n.isBingEnabled()?this.getWebSearch(i,r,"SBV",{content:"&#xE714",type:1},14,this._host.getLocString("SearchForWebVideos")):null;default:return null}},i.prototype.getSyntheticSuggestions=function(i,r){var o=i.queryToFetch&&n.isSuggestionTypeEnabled(n.WebDataSource,"SW",0,i)?this.getWebSearch(i,r,"SW",t.getSearchSuggestionIcon(),0,t.getWebSuggestionAnnotation(this._host)):null,s=i.isProtocol&&t.RuntimeConfig.AllowProtocolSyntheticSuggestions?this.getProtocol(i,r):null,f=this.getRecourse(i,r),u,e;return f&&(f.rankingScore=-Number.MAX_VALUE),u=[],this._imageSearchViewModel&&n.isDataSourceEnabled("QSCH",i)&&u.push(this._imageSearchViewModel.getSnipSearchSyntheticSuggestion(i,r)),t.TweakSearch&&(e=t.TweakSearch.getTweakSearchSuggestion(i,r),e&&u.push(e)),{protocol:s,searchTheWeb:o,recourse:f,others:u}},i.prototype.canHaveDuplicates=function(i,r){switch(i){case n.WebDataSource:case n.MRUDataSource:case"OSTMA":case"BAW":case"MSBS":case"MSBC":case"QS":case"PP":case"IBA":case"LRA":case"ST":case"FL":case"LM":case"IFF":case"LDIC":case"CG":case"PT":case"MPP":case"MST":case"MFF":case"ODC":case"MODC":case"MDOC":case"MFOL":case"MPHO":case"MVID":case"MMUS":case"EBH":case"SSUE":case"SSUC":return!0;case"PBI":case"SM":case"FEH":case"AFC":case"TOPP":case"QSCH":case"LSQS":return!1;case"SSEE":return r.scope==t.Scope.Documents||r.scope==t.Scope.Emails||t.RuntimeConfig.QfMode==5;case"SSEC":return r.scope==t.Scope.Emails}throw new Error("New data source "+i+" needs to be explicity classified as needed deduping with other data sources or not");},i.prototype.canHaveDuplicatesWithinDataSource=function(i,r){switch(i){case"MPP":case"MST":case n.MRUDataSource:return!0;case"SSEE":case"SSEC":return r.scope==t.Scope.Emails}return t.supportsShortcuts(i,r)},i.prototype.isDuplicate=function(i,u,c){var v,y,l,a,nt,tt,it,rt,g,p,w,ut,ft,k,d;if(this.isMsbDuplicate(u,c)||n.contains([5,4],u.handoffType)&&n.contains([5,4],c.handoffType)&&u.actionUri==c.actionUri&&u.query.toLocaleLowerCase()==c.query.toLocaleLowerCase()||u.handoffType==10&&c.handoffType==10&&u.type==c.type&&!u.htmlContent&&!c.htmlContent&&u.query.toLocaleLowerCase()==c.query.toLocaleLowerCase()||u.type!="PWL"&&u.handoffType==1&&c.handoffType==1&&n.isDuplicateUrl(i,u.url,c.url)||(v=t.getAppItem(u),y=t.getAppItem(c),l=v?v.filePath:u.path,l&&(l=l.toLocaleLowerCase()),a=y?y.filePath:c.path,a&&(a=a.toLocaleLowerCase()),nt=t.getAppPfn(u),tt=t.getAppPfn(c),nt&&tt&&nt.toLocaleLowerCase()==tt.toLocaleLowerCase()))return r.NoMetadata;if(it=t.getCommandLineItem(u),rt=t.getCommandLineItem(c),it&&y||rt&&v){var et=l||a,b=it||rt,ot=b.encodedPath;return et&&ot&&et==ot.toLocaleLowerCase()?(g=v||y,!b.launchArguments||(g.launchArguments||"").toLocaleLowerCase()==b.launchArguments.toLocaleLowerCase()||!g.launchArguments&&b.launchArguments&&g.displayName.toLocaleLowerCase().startsWith(b.displayName.toLocaleLowerCase())?r.NoMetadata:r.NotDuplicate):r.NotDuplicate}if(u.deviceItem&&c.deviceItem){if(p=u.deviceItem.id||"",w=c.deviceItem.id||"",p.toLocaleLowerCase()==w.toLocaleLowerCase())return l&&!v&&a&&!y?r.MergeMetadata:r.NoMetadata;if(v){if(t.isSetting(c.type)&&f[p]==w)return r.NoMetadata}else if(t.isSetting(u.type)&&(y&&f[w]==p||t.isSetting(c.type)&&(e[p]==w||e[w]==p)))return r.NoMetadata}if(this.isIcoShortcutDuplicate(u,c)||this.isIcoShortcutDuplicate(c,u))return r.NoMetadata;if(l&&a){if(l==a)return r.MergeMetadata;if(!v&&!y)if(u.handoffType==c.handoffType){if(u.handoffType==8&&u.url==c.url)return r.MergeMetadata}else{if((l=o(l,u.handoffType!=7),a=o(a,c.handoffType!=7),l==a)||(ut=u.handoffType!=8,ft=c.handoffType!=8,l=s(l,ut,u.url),a=s(a,ft,c.url),l==a))return r.MergeMetadata;if(t.SubstrateTenantName){var st=h(u,l,ut),ht=st[0],at=st[1],ct=h(c,a,ft),lt=ct[0],vt=ct[1];if(at==vt&&(lt.endsWith(ht)||ht.endsWith(lt)))return r.MergeMetadata}}if(k=u.targetPathLC,d=c.targetPathLC,v&&c.type=="IBA"&&(l=t.resolveKnownFolderGUIDsInPath(l)),y&&u.type=="IBA"&&(a=t.resolveKnownFolderGUIDsInPath(a)),(k&&d&&k==d||k&&k==a||d&&l==d||l==a)&&(!v||!y||(v.launchArguments||"").toLocaleLowerCase()==(y.launchArguments||"").toLocaleLowerCase()))return r.NoMetadata}return this.isCortanaSettingDuplicate(u,c)||this.isCortanaSettingDuplicate(c,u)?r.NoMetadata:u.type==="PPL"&&c.type==="PPL"&&u.uniqueName&&c.uniqueName&&u.uniqueName.toLocaleLowerCase()===c.uniqueName.toLocaleLowerCase()?r.NoMetadata:u.type==="OLE"&&c.type==="OLE"&&u.internetMessageId===c.internetMessageId?r.NoMetadata:u.type==="BKS"&&c.type==="BKS"&&u.url&&c.url&&u.url===c.url?r.NoMetadata:r.NotDuplicate},i.prototype.mergeDuplicates=function(i,u,f){var e=this.isDuplicate(i,u,f);return e?(e==r.MergeMetadata&&t.enrichMetadataFromDuplicate(i,u,f,this._host),u.duplicates=u.duplicates||[],n.contains(u.duplicates,f)||(u.duplicates.push(f),u.needsRefreshAfterDeduping=!0),!0):!1},i.prototype.isIcoShortcutDuplicate=function(n,i){return n.targetPathLC&&t.isApp(n.type)&&t.isApp(i.type)&&n.targetPathLC.includes("\\installer\\")&&n.targetPathLC.endsWith(".ico")&&n.text==i.text},i.prototype.isCortanaSettingDuplicate=function(n,t){return n.handoffType==5&&n.actionUri=="ms-cortana://navigate/Settings"&&t.deviceItem&&t.deviceItem.id=="CortanaSettings"},i.prototype.isMsbDuplicate=function(n,t){return n.msbDomain!=null&&n.msbDomain===t.msbDomain&&n.msbId!=null&&n.msbId===t.msbId},i.prototype.rankStartMenu=function(n){n=n.slice();n.sort(function(n,t){return n.text.localeCompare(t.text)});var i=[{type:t.GroupType.StartMenu,source:1}];return{topResults:[],suggestionsToAdd:n,suggestionsToRemove:[],groupOrder:i}},i.prototype.rank=function(i,r,f,e,o,s,h,c){var ti=this,yt,p,tt,ot,bt,rt,ct,d,lt,ut,v,g,dt,ft,at,gt,vt,k,ni;if(t.shouldFetchStartMenu(e))return this.rankStartMenu(r);t.isL2(e)&&(h=!1);p=null;n.isDataSourceEnabled("WRS",e)&&(p=f.WRS);p||(p=f[n.WebDataSource]);var et=p?p.rankingSignals:null,ii=p?p.webTopResultRoutingType:1,nt=f[n.MRUDataSource],pt=null,l=null,wt=null;et&&(et.WebSignalsAvailable=!0,pt=p.engagementSignals,l=p.suppressedGroups,(t.config.groupsToNeverFullySuppress||[]).length>0&&l&&(l.fullySuppressedGroups||[]).length>0&&(tt=[],ot=[],l.fullySuppressedGroups.forEach(function(i){n.contains(t.config.groupsToNeverFullySuppress,i)?tt.push(i):ot.push(i)}),tt.length>0&&(l=a(l),l.fullySuppressedGroups=ot,(yt=l.partiallySuppressedGroups).push.apply(yt,tt))));this._previousKeystrokeCache&&(wt=this._previousKeystrokeCache.getPreviousEventWebSignalsData(e.queryToFetch));var ri=nt?nt.SuggestionEngagementData:null,ui=nt?nt.LookupCompletions:null,fi={cvid:this._host.getConversationId(),privacyNumber:this._host.getPrivacyNumber()},y=this.getSyntheticSuggestions(e,s);r=r.slice();l&&(l.fullySuppressedGroups&&l.fullySuppressedGroups.length>0&&(r=r.filter(function(t){return!n.contains(l.fullySuppressedGroups,String(ti.getGroupTypeForSuppressions(t)))})),t.config.honorSuppressedSuggestions&&l.suppressedSuggestions&&l.suppressedSuggestions.length>0&&(r=r.filter(function(i){return!n.contains(l.suppressedSuggestions,t.getSuggestionKey(i))})));t.config.suppressFileFolders&&e.queryToFetch.length<t.config.maxPrefixLengthForSupp&&e.scope==t.Scope.All&&(bt=[t.GroupType.Documents,t.GroupType.Folders],r=r.filter(function(i){return!n.contains(bt,t.getGroupType(i))}));i.length==0&&(y.others.length>0&&r.unshift.apply(r,y.others),y.protocol&&r.unshift(y.protocol));var st=o.length==1&&o[0].childSuggestions&&o[0].childSuggestions.some(function(n){return n.displayed}),kt=this.getSuggestionsToRank(st,i,r,y,s),it=this._ranker.rank(e,kt,et,ri,ui,pt,fi,wt,c,y);this._previousKeystrokeCache&&!h&&this._previousKeystrokeCache.updateSpellerTriggerData(e.queryToFetch,kt);i.length==0&&y.recourse&&r.push(y.recourse);var w=this.determineTopResults(o,r,it,y,e,s,st),ht=i.filter(function(t){return!n.contains(o,t)}),b=this.determineSuggestionsToAddToGroups(ht,r,o,w,y,e,st,h);if(!t.RuntimeConfig.FlatListWithoutGroups&&it.mruSuppressions&&it.mruSuppressions.backPropDataExists)this.applyMRUSuppressions(it,o,w,b,e);else if(l&&l.partiallySuppressedGroups&&this.canPartiallySuppressGroups(w,b))for(rt=0,ct=b;rt<ct.length;rt++)d=ct[rt],u(d,e)||(lt=this.getGroupTypeForSuppressions(d),this.canBePartiallySuppressed(d,lt)&&n.contains(l.partiallySuppressedGroups,String(lt))&&(n.contains(o,d)||(d.suppressed=!0)));if(ut=[],this.removeProtocolIfDuplicate(e,y,w,ht,b,ut),this.setUseRafFlag(w,b,e,ii),v=this.getGroupOrder(e,b,ht),e.staticGroupOrder){for(g=[],dt=function(n){var t=v.findIndex(function(t){return t.type==n});t>=0&&(g.push(v[t]),v.splice(t,1))},ft=0,at=e.staticGroupOrder;ft<at.length;ft++)gt=at[ft],dt(gt);g.length>0&&(g.push.apply(g,v),v=g)}else e.forceGroupOnTop&&(vt=e.forceGroupOnTop,k=v.findIndex(function(n){return t.sameGroup(n,vt)}),k>=0&&(v.splice(k,1),v.unshift(vt)),k=v.findIndex(function(n){return t.isTopHitChildGroup(n)}),k>=0&&(ni=v[k],v.splice(k,1),v.unshift(ni)));if(t.RuntimeConfig.FlatListWithoutGroups&&(w=w.concat(b.filter(function(n){return!n.suppressed})),b=[],n.trimList(w,t.RuntimeConfig.MaxSuggestionsWhenFlatList,function(t){return!n.contains(i,t)&&!t.notAResult}),ut.length!=0))throw new Error("Can't remove suggestions from groups when there are no groups");return{topResults:w,suggestionsToAdd:b,suggestionsToRemove:ut,groupOrder:v}},i.prototype.applyMRUSuppressions=function(i,r,f,e,o){var c,l,a,h,s;if(this.canPartiallySuppressGroups(f,e))for(c={},l=0,a=e;l<a.length;l++)if(h=a[l],!u(h,o)&&(s=t.getGroupType(h),this.canBePartiallySuppressed(h,s))){if(!c[s]){var v=i.mruSuppressions.maxGroupCCR?i.mruSuppressions.maxGroupCCR[s]||0:0,y=i.mruSuppressions.maxGroupProbSugClickGivenPref?i.mruSuppressions.maxGroupProbSugClickGivenPref[s]||0:0,p=i.mruSuppressions.mruGroupRatios?i.mruSuppressions.mruGroupRatios[s]||0:0,w=i.mruSuppressions.mruGroupBackpropRatios?i.mruSuppressions.mruGroupBackpropRatios[s]||0:0,b=i.mruSuppressions.mruGroupBackpropWeights?i.mruSuppressions.mruGroupBackpropWeights[s]||0:0,k=t.config.wtMaxGroupCCR*v+t.config.wtMaxGroupProbSugClickGivenPref*y+t.config.wtMruGroupRatio*p+t.config.wtMruGroupBackpropRatio*w+t.config.wtMruGroupBackpropWeight*b+t.config.wtLRBias,d=1/(1+Math.exp(-k));c[s]=n.trimFeatureStoreValue(d)}h.mruSuppressionScore=c[s];h.mruSuppressionScore<t.config.lRModelCutOff&&(n.contains(r,h)||(h.suppressed=!0))}},i.prototype.allowedInGroups=function(n){return n.isAnswer?n.allowedInGroups:!0},i.prototype.getGroupTypeForSuppressions=function(n){var i=t.getGroupType(n);return i==t.GroupType.LocalPlaces?t.GroupType.SearchSuggestions:i},i.prototype.canBePartiallySuppressed=function(n,i){return t.getScope(i)!=t.Scope.All},i.prototype.canPartiallySuppressGroups=function(n,i){return t.RuntimeConfig.ScopesAvailable?n.every(function(n){return t.getGroupType(n)==t.GroupType.SearchSuggestions})&&i.every(function(n){return t.getGroupType(n)==t.GroupType.SearchSuggestions})?!1:!0:!1},i.prototype.isProtocolDuplicate=function(t,i,r){return t==r?!1:t.type=="MD"?!0:t.handoffType==1&&n.isDuplicateUrl(i,t.url,r.url)},i.prototype.removeProtocolIfDuplicate=function(t,i,r,u,f,e){var h=this,o,s;i.protocol&&(o=function(n){return!n.suppressed&&h.isProtocolDuplicate(n,t,i.protocol)},(r.some(o)||u.some(o)||f.some(o))&&(n.tryRemove(r,i.protocol)?r.length||(s=n.removeFirstWhere(u,o)||n.removeFirstWhere(f,o),r.push(s)):n.tryRemove(f,i.protocol)||n.contains(u,i.protocol)&&e.push(i.protocol),i.protocol=null))},i.prototype.getSuggestionsToRank=function(i,r,u,f){i&&(r=r.filter(function(n){return!t.isChildSuggestion(n)}));f.recourse&&(r=r.filter(function(n){return n!=f.recourse}));var e=r.concat(u);return f.searchTheWeb&&!n.contains(r,f.searchTheWeb)&&e.push(f.searchTheWeb),e},i.prototype.determineTopResults=function(i,r,f,e,o,s,h){var et=this,l,d,p,w,b,it,g,nt,y,k,ut,tt,a,ft;if(h||!o.queryToFetch||t.config.stickyTopResultsV2&&i.length>1&&!t.isL2(o))return i;if(l=t.config.forceVoiceFlowOnTopHit?[]:f.topResults,d=this._previewPane?this._previewPane.getPreviewedSuggestionToForceTopHit():null,d&&this._ranker.allowInTopHit(o,d)&&(p=function(n){return t.isEquivalentForPreviewPanePurposes(o,d,n)},w=l.findIndex(p),w!=0&&(b=void 0,w>0?(b=l[w],l.splice(w,1)):b=i.find(p)||r.find(p)||(e.searchTheWeb?[e.searchTheWeb]:[]).find(p),b&&l.unshift(b))),e.protocol&&e.searchTheWeb&&this._ranker.allowInTopHit(o,e.protocol)&&n.tryRemove(l,e.searchTheWeb),e.searchTheWeb&&(it=l.indexOf(e.searchTheWeb),it>=0&&l.some(function(n){return n!=e.searchTheWeb&&u(n,o)})&&l.splice(it,1)),l.length==0&&(t.config.stickyTopResultsV2&&i.length>0?l.push.apply(l,i):e.protocol&&this._ranker.allowInTopHit(o,e.protocol)?l.push(e.protocol):e.searchTheWeb&&this._ranker.allowInTopHit(o,e.searchTheWeb)?l.push(e.searchTheWeb):e.recourse&&this._ranker.allowInTopHit(o,e.recourse)&&l.push(e.recourse)),g=t.getEffectiveScope(o)==t.Scope.Emails?t.config.maxNumberOfEmailsInTopResult:Math.max(t.config.maxNumberOfTopResults,c(l)?2:0,i.length),t.config.bypassFallbackOnMSBTopHit==4&&l.length>0&&(l[0].type=="PPL"||l[0].type=="BKS")&&(g=2),l.length>g&&(l=l.slice(0,g)),t.config.synthWebNoBestMatch&&l.length==1){var rt=[t.GroupType.SearchSuggestions,t.GroupType.Websites],ot=r.filter(function(i){return!n.contains(rt,t.getGroupType(i))}),st=l.filter(function(i){return!n.contains(rt,t.getGroupType(i))});ot.length==0&&st.length==0&&(l=[])}for(nt=i.length-1;nt>=0;--nt)y=i[nt],n.contains(l,y)||(y.useRaf&&(y.useRaf=!1),y!=e.searchTheWeb&&r.unshift(y));return l.length==1&&n.safeExecute(function(){return et.applyAppOverride(l,r)},"applyDeviceInfoOverride"),l.forEach(function(n){return n.suppressed=!1}),k=t.isL2(o),t.config.stickyTopResultsV2&&l.length==1&&i.length==1&&!k&&(ut=l[0],tt=i[0],ut==tt||v(tt)||l.unshift(tt)),t.config.stickyConversation&&l.length==1&&this._previousKeystrokeCache&&(a=this._previousKeystrokeCache.getPreviousTopHit(),ft=a?a.ciMatchedQuery||a.query.toLocaleLowerCase():"",a&&!k&&o.queryToFetch.length>t.config.stickyConversationMinPrefixLength&&(a.type=="PP"||a.type=="ST")&&ft.startsWith(o.queryToFetch.toLocaleLowerCase())&&!(a.query.toLocaleLowerCase()==l[0].query.toLocaleLowerCase()&&a.type==l[0].type)&&this._previousKeystrokeCache.getPreviousQuery().length<o.queryToFetch.length&&(a.sequenceNumber=s,a.instItem=n.InstrumentedItem.createInstrumentedItem(s,a.type),l[0]=a),this._previousKeystrokeCache.setPreviousTopHit(k?null:l[0]),this._previousKeystrokeCache.setPreviousQuery(o.queryToFetch.toLocaleLowerCase())),t.config.enableCISpeller&&l.length==1&&this._previousKeystrokeCache&&(l[0].type=="PP"||l[0].type=="ST")&&this._previousKeystrokeCache.setPreviousTopHit(k?null:l[0]),l},i.prototype.applyAppOverride=function(n,t){var r=["Microsoft.Office.WINWORD.EXE","{6D809377-6AF0-444B-8957-A3773F02200E}\\Windows NT\\Accessories\\wordpad.exe"],u=n[0].deviceItem?n[0].deviceItem.id:null,i;u&&u.startsWith(r[1])&&(i=t.findIndex(function(n){return n.deviceItem&&n.deviceItem.id&&n.deviceItem.id.startsWith(r[0])}),i>=0&&n.splice(0,1,t[i]))},i.prototype.setUseRafFlag=function(n,i,r,u){var e,s,o,h,f;if(t.isCortanaEnabledCache)if(u==2||t.config.forceVoiceFlowOnTopHit)for(e=0,s=n;e<s.length;e++)f=s[e],f.handoffType!=0||f.isAnswer||(f.useRaf=!0);else for(o=0,h=n;o<h.length;o++)f=h[o],f.handoffType==0&&!f.isAnswer&&this._host.matchesVcd(f.query)&&(f.useRaf=!0)},i.prototype.determineSuggestionsToAddToGroups=function(i,r,f,e,o,s,h,c){var k=this,l=r.filter(function(t){return!n.contains(e,t)}),w=[],a,v,y,p,b;for(t.RuntimeConfig.FlatListWithoutGroups||l.forEach(function(n,i){k.allowedInGroups(n)||(t.getScope(t.getGroupType(n))==t.Scope.All?w.push(i):n.suppressed=!0)}),a=w.length-1;a>=0;--a)l.splice(a,1);return o.searchTheWeb&&(v=e.indexOf(o.searchTheWeb),v!=-1&&(y=n.removeFirstWhere(l,function(n){return u(n,s)}),y&&(e[v]=y))),p=l.filter(function(i){return n.contains([t.GroupType.SearchSuggestions,t.GroupType.Websites,t.GroupType.LocalPlaces],t.getGroupType(i))}),b=l.filter(t.enforceOriginalOrder),!h&&this.canRenderChildSuggestions(e,c,s)&&this.addChildSuggestions(e[0],l),s.queryToFetch&&l.sort(function(n,t){return t.rankingScore-n.rankingScore}),this.insertDefaultSearchTheWeb(s,o,e,i,l,p),l=this.insertSuggestionsToRightPlace(l,b),this.insertSuggestionsToRightPlace(l,p)},i.prototype.insertDefaultSearchTheWeb=function(n,i,r,f,e,o){var s,h;i.searchTheWeb&&(n.scope==t.Scope.Web||n.scope==t.Scope.All)&&(s=o.findIndex(function(t){return u(t,n)}),f.some(function(t){return u(t,n)})||r.some(function(t){return u(t,n)})?s!=-1&&(h=o[s],o.splice(s,1),e.splice(e.indexOf(h),1)):s==-1&&(o.unshift(i.searchTheWeb),e.unshift(i.searchTheWeb)))},i.prototype.getGroupOrder=function(n,i,r){var f,o,a,u,w,b,h,v,k,d,c,y,s;switch(n.scope){case t.Scope.Web:if(!n.queryToFetch)return[{type:t.GroupType.EdgeHistory},{type:t.GroupType.Websites},{type:t.GroupType.SearchSuggestions}];break;case t.Scope.Apps:return[{type:t.GroupType.Apps},{type:t.GroupType.Store}];case t.Scope.Photos:return[{type:t.GroupType.Photos},{type:t.GroupType.SearchSuggestions}];case t.Scope.Videos:return[{type:t.GroupType.Videos},{type:t.GroupType.SearchSuggestions}];case t.Scope.PeopleEmail:return[{type:t.GroupType.People},{type:t.GroupType.Emails}]}f=r.concat(i);f.sort(function(n,t){return t.rankingScore-n.rankingScore});var p=[],l=[],e=[],g=function(n){if(n.suppressed)l.push(n);else if(p.push(n),t.config.enableStaticGroupRanking){var r=t.getGroupType(n),i={type:r,source:n.sourceForGroup};e.some(function(n){return t.sameGroup(n,i)})||e.push(i)}};for(o=0,a=f;o<a.length;o++)s=a[o],g(s);if(l.length!=0&&(f=p.concat(l)),u=[],t.config.enableStaticGroupRanking&&f.length>0&&t.getGroupType(f[0])!=t.GroupType.SearchSuggestions){for(w=[{type:t.GroupType.Apps},{type:t.GroupType.Settings},{type:t.GroupType.Documents,source:1}],b=function(n){e.some(function(i){return t.sameGroup(i,n)})&&u.push(n)},h=0,v=w;h<v.length;h++)k=v[h],b(k);t.RuntimeConfig.QfMode!=8&&e.some(function(n){return t.sameGroup(n,{type:t.GroupType.SearchSuggestions})})&&u.push({type:t.GroupType.SearchSuggestions})}for(d=function(n){var r=t.getGroupType(n),i={type:r,source:n.sourceForGroup};u.some(function(n){return t.sameGroup(n,i)})||(t.RuntimeConfig.QfMode==8&&i.type==t.GroupType.SearchSuggestions?u.unshift(i):t.config.enableStaticGroupRanking&&t.isTopHitChildGroup(i)?u.unshift(i):u.push(i))},c=0,y=f;c<y.length;c++)s=y[c],d(s);return u},i.prototype.addChildSuggestions=function(i,r){i.calculateChildSuggestions&&i.calculateChildSuggestions();i.childSuggestions&&i.childSuggestions.length>0&&Object.keys(t.config.topHitChildGroups).forEach(function(u,f){var e=parseInt(u),o=n.contains(t.config.suppressedTopHitChildGroups,e)?0:t.config.topHitChildGroups[u],s;o>0&&(s=i.childSuggestions.filter(function(n){return n.groupType==e}).slice(0,o),s.forEach(function(n,t){n.rankingScore=1e4-100*f-t;r.push(n)}))})},i.prototype.canRenderChildSuggestions=function(n,i){var r,u;return t.RuntimeConfig.FlatListWithoutGroups?!1:n.length!=1?!1:(r=n[0],t.RuntimeConfig.AlwaysWide&&r.previewPaneType!=1)?!1:i?this._renderedTopResults.topResults.length==1?(u=this._renderedTopResults.topResults[0],u.hasChildSuggestionsDisplayed&&u.query==r.query&&t.getGroupType(u)==t.getGroupType(r)):!1:!0},i.prototype.insertSuggestionsToRightPlace=function(t,i){var r,e,u,f;if(i.length==0)return t;for(r=[],e=i[0],u=0;u<t.length;u++)f=t[u],f==e?r=r.concat(i):n.contains(i,f)||r.push(f);return r},i}();i.Aggregator=l})(i=t.Ranking||(t.Ranking={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),
function(n){var t=function(){function t(n,t,i,r){var u=this;this._instrumentationHelper=t;this._sequenceNumberReader=i;this._page=r;this._itemLaunchEventHandlers=[];this.groups=[];this.topResults=[];this._lastUpdatedSequenceNumber=-1;this._topResultsRenderingDisabled=!1;this._groupRenderingDisabled=!1;n.bindShown(function(){u._selectedItem=null})}return t.prototype.onDismiss=function(){this.topResults=[];this.renderTopResults();this.groups=[];this.renderGroups();this._partialQuery=null;this._lastUpdatedSequenceNumber=-1},t.prototype.bindItemLaunch=function(n){this._itemLaunchEventHandlers.push(n)},t.prototype.onSuggestionLaunch=function(n,t,i){this._itemLaunchEventHandlers.forEach(function(r){return r(n,t,i)})},t.prototype.onQueryChanged=function(n){this._partialQuery=n},t.prototype.getCurrentTopResults=function(){return this.topResults.slice(0)},t.prototype.getTopResultsWhichFitInCanvas=function(n){return n},t.prototype.resetAriaSelected=function(n){n&&this._page.render(function(){var t=_ge(n.id);t&&(t.setAttribute("aria-selected","false"),t.setAttribute("aria-selected","true"))})},t.prototype.updateTopResults=function(t,i,r,u,f,e){var s=this,a,o,h,y;t!=(u!=this._lastUpdatedSequenceNumber)&&SharedLogHelper.LogError("updateTopResult",t+" != (sequenceNumber "+u+" != lastUpdateSequenceNumber "+this._lastUpdatedSequenceNumber+")",new Error("Precondition failed"));this._lastUpdatedSequenceNumber=u;t&&(this.groups=[],this.onGroupsCleared());a=this._selectedItem;o=this.topResults;i=this.getTopResultsWhichFitInCanvas(i);h=!n.sequenceEqual(i,o)||o.some(function(n){return n.needsRefreshAfterDeduping});h&&(this.topResults=i.slice(0));var c=!1,l=h?i.length:0,v=function(){c&&l==0&&(n.config.enableLocalInstrumentation&&s._instrumentationHelper.instrumentRenderedLocalSuggestion(u,i),s._instrumentationHelper.instrumentTopResultRendered(u,i.map(function(n){return n.type})),c=!1)};return h?(this.renderTopResultsAfter(function(){for(var i,t=0,h=s.topResults;t<h.length;t++)i=h[t],i.needsRefreshAfterDeduping=!1,n.contains(o,i)?l-=1:s.setupIcon(u,i,!0,function(){l-=1;v()});s.onBeforeRenderTopResults(o,f,r,e)}),c=!0):(y=this.onBeforeRenderTopResults(o,f,r,e),y==0&&(this.renderTopResults(),c=!0)),this._selectedItem&&(a!=this._selectedItem||t)&&n.contains(this.topResults,this._selectedItem)&&this.resetAriaSelected(this._selectedItem),[h,v]},t.prototype.setupIcon=function(n,t,i,r){r()},t.prototype.renderGroups=function(){this._groupRenderingDisabled||(this._page.updateGroupsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups}),this._instrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderGroupsAfter=function(n){var t=this._groupRenderingDisabled;this._groupRenderingDisabled=!0;try{n()}finally{this._groupRenderingDisabled=t;this.renderGroups()}},t.prototype.renderTopResults=function(){this._topResultsRenderingDisabled||(this._page.updateTopResultsView({query:this._contentQuery,topResults:this.topResults,groups:this.groups}),this._instrumentationHelper.updateSuggestionsList(this.topResults,this.groups))},t.prototype.renderTopResultsAfter=function(n){var u=this._topResultsRenderingDisabled,t,i,r;this._topResultsRenderingDisabled=!0;try{n()}finally{for(this._topResultsRenderingDisabled=u,this.renderTopResults(),t=0,i=this.topResults;t<i.length;t++)r=i[t],r.executeScript&&r.executeScript()}},t}();n.BaseRootViewModel=t}(AutoSuggest||(AutoSuggest={})),function(n){function r(t,i){t(n.getCurrentTime(),n.getInputType(i),i)}var t="aria-selected",i;n.invokeClickHandler=r;i=function(){function i(i){var r=this,u;this._host=i;this._renderingInProgress=!1;this._narratorLaunchHandlers=[];this._viewData={};this._targetElemCache={};u=new MutationObserver(function(n){var i,o,u,f,s,e;if(!r._renderingInProgress){for(i=[],u=0,f=n;u<f.length;u++)s=f[u],e=s.target,o=e.id,i.push(e.getAttribute(t)=="true"?1:0);(i.length==1&&i[0]==0||i.length==2&&i[0]^i[1])&&r._narratorLaunchHandlers.forEach(function(n){return n(o)})}});u.observe(document,{subtree:!0,attributes:!0,attributeFilter:[t]});n.View.getLocString=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i.getLocString.apply(i,[n].concat(r))};this.addViewData("TestHooksEnabled",n.config.th)}return i.prototype.adjustHeightAsync=function(){var t=this;n.safeSetTimeout(function(){return t._host.adjustHeight()},0,"adjustHeightAsync")},i.prototype.bindOnNarratorLaunch=function(n){this._narratorLaunchHandlers.push(n)},i.prototype.render=function(t){var i=this;this._renderingTimer&&sb_ct(this._renderingTimer);this._renderingInProgress=!0;try{n.View.ViewData=this.getViewData();t()}finally{this._renderingTimer=n.safeSetTimeout(function(){i._renderingTimer=null;i._renderingInProgress=!1},0,"BasePage render")}},i.prototype.renderReactView=function(n,t,i){var f=this,r=this._targetElemCache[n],u;r||(this._targetElemCache[n]=r=_ge(n));u=i;u.adjustHeight||(u.adjustHeight=function(){return f.adjustHeightAsync()});this.render(function(){return _w.ReactDOM.render(React.createElement(t,i),r)},n)},i.prototype.addViewData=function(n,t){this._viewData[n]=t},i.prototype.getViewData=function(){return this._viewData},i}();n.BasePage=i}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){function r(n,t){var i=parseInt(n.substr(1),16),r=i>>16&255,u=i>>8&255,f=i&255;return"rgba("+r+","+u+","+f+","+t+")"}function s(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)-t),u=Math.max(0,(i>>8&255)-t),f=Math.max(0,(i&255)-t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}function u(n,t){var i=parseInt(n.substr(1),16),r=Math.max(0,(i>>16)*t),u=Math.max(0,(i>>8&255)*t),f=Math.max(0,(i&255)*t);return"#"+String("000000"+(f|u<<8|r<<16).toString(16)).slice(-6)}var e="slideInMessage",o="indexingMessage",i,f;t.SinglePaneWidth=344;t.PreviewPaneWidth=440;t.DebugWindowWidth=800;f=function(f){function h(r){var u=f.call(this,r)||this,e;return u.host=r,u._root=_ge("root"),u._windowsTemporaryMessageShown=!1,u._windowsIndexingMessageShown=!1,u._progressBarVisible=!1,u._previewPaneVisible=!1,u._debugWindowVisible=!1,u._suggestionsContainerHeight=0,u._immersiveSearchHeightExpandedInThisConversation=!1,i=SearchAppWrapper.CortanaApp,u._windowsTemporaryMessageWrapper=_ge("temporaryMessageWrapper"),u._windowsIndexingMessageWrapper=_ge("temporaryMessageWrapper"),u._qfContainer=_ge("qfContainer"),u._previewContainer=_ge("previewContainer"),r.bindAppVisible(function(){var e=i.width,f=i.height;e&&f?u.setDimensions(e,f):ThresholdUtilities.getCortanaHeaders(function(n){if(n){var t=n["X-BM-DeviceDimensionsLogical"].split("x"),i=t[0],r=t[1];u.setDimensions(parseInt(i),r)}});t.RuntimeConfig.PreviewPaneAvailable&&(u.initPreviewPane(),t.setVisibility(u._previewPane,t.RuntimeConfig.AlwaysWide),!t.RuntimeConfig.AlwaysWide&&r.hasFallbackHappened()&&i.resetToDefaultSize());u.initDebugWindow();u.setConditionalCss("panelCanResize",t.RuntimeConfig.PanelCanResize);u.setConditionalCss("flatListWithoutGroups",t.RuntimeConfig.FlatListWithoutGroups);u.setConditionalCss("searchBoxOnTop",t.RuntimeConfig.SearchBoxOnTop);u.setConditionalCss("wideByDefault",t.RuntimeConfig.AlwaysWide||t.RuntimeConfig.QfMode==2);u.setConditionalCss("centerScreen",t.RuntimeConfig.QfMode==2);u.setConditionalCss("noPPOpenedArrow",t.config.noPPOpenedArrow);u.setConditionalCss("whitePreview",t.config.whitePreview);u.setConditionalCss("searchHomeQuickAnswer",t.config.quickAnswer&&t.RuntimeConfig.PreviewPaneAvailable);u.setConditionalCss("searchHomeQuickAnswerSmallHeight",t.config.quickAnswer&&t.RuntimeConfig.PreviewPaneAvailable&&f<640);u.setConditionalCss("webDisabled",!n.isMiniSerpEnabled());u.setConditionalCss("enableSnipSearchSmallButton",t.config.EnableSnipSearchSmallButton);u.setQueryBasedCss(null)}),r.bindShown(function(){if(t.config.isThemeAware&&i.theme){var n=i.theme.startsWith("000000");u.setThemeBasedCss(n)}u.setConditionalCss("snipSearch",i.entryPoint=="WNSSBS"&&t.config.enableSnipSearchV2);t.setVisibility(u._root,!0)}),r.bindAppHidden(function(){u._openPreviewPaneButtonCache=undefined;u.markWebViewExpandedState(!1);t.setVisibility(u._previewPane,!1)}),e=function(){t.RuntimeConfig.AlwaysWide||(u._previewPaneVisible=!1,t.setVisibility(u._previewPane,!1));u.setDebugWindowVisibility(!1)},r.bindQueryChangedOrInitialized(function(n){n.fullPartialQuery&&u.ensureWebViewHeightExpanded();t.RuntimeConfig.QfMode==5&&u.updateFENarratorSuggestionCount(null)}),r.bindSearchBoxClick(function(){return u.ensureWebViewHeightExpanded()}),r.bindKeyDown(function(n){n==40&&u.ensureWebViewHeightExpanded()}),r.bindDismissed(function(){u.resetSuggestionsContainerHeight();e()}),r.bindAccentColorAndThemeRefreshed(function(n,t){u.applyAccentColor();u.setThemeBasedCss(t)}),t.config.alwaysWideBeforeRS5&&i.addEventListener("openanimationcompleted",function(){u.ensureWebViewWidthExpanded()}),i.addEventListener("resettingtodefaultsize",function(){e()}),sj_be(sj_b,"contextmenu",function(n){for(var t=n.target;t;){if(t.classList.contains("allowcontextmenu"))break;t=t.parentElement}t||sj_pd(n)}),u}return __extends(h,f),h.prototype.setConditionalCss=function(n,t){t?this._root.classList.add(n):this._root.classList.remove(n)},h.prototype.setQueryBasedCss=function(n){var i=t.shouldFetchStartMenu(n);this.setConditionalCss("fileExplorer",t.RuntimeConfig.QfMode==5);this.setConditionalCss("startMenu",i);this.setConditionalCss("noScopes",!t.RuntimeConfig.ScopesAvailable||i);this.setConditionalCss("settingsApp",t.RuntimeConfig.QfMode==7);this.setConditionalCss("santorini",t.RuntimeConfig.QfMode==8);this.setConditionalCss("lockscreen",t.RuntimeConfig.QfMode==6);this.setConditionalCss("darkBackground",i);t.RuntimeConfig.QfMode!=8&&this.setConditionalCss("zeroInput19H1",n?n.isSearchHomeZI:t.RuntimeConfig.SearchHomeAvailable==1)},h.prototype.setThemeBasedCss=function(n){t.config.isThemeAware?(t.RuntimeConfig.QfMode==7&&(n=n&&i.appsUseLightTheme===!1),t.RuntimeConfig.QfMode==5&&i.fileExplorerSuggestionPage&&(n=i.fileExplorerSuggestionPage.useDarkTheme),this.setConditionalCss("darkTheme19H1",n),this.setConditionalCss("lightTheme19H1",!n)):t.config.searchHomeSupported&&(this.setConditionalCss("lightTheme19H1",!0),this.setConditionalCss("lightThemeRS5",!0))},h.prototype.initPreviewPane=function(){var n=i.textScaleFactor||1,f=t.PreviewPaneWidth/n,r,u;this._previewPane||(this._previewPane=_ge("qfPreviewPane"),this._previewPane.classList.remove("transitionOn"));t.RuntimeConfig.QfMode==2?(r=470,u=r/n,this._previewPane.style.minWidth=u+"px"):this._previewPane.style.minWidth=f+"px"},h.prototype.initDebugWindow=function(){this._debugWindow||(this._debugWindow=_ge("qfDebugPane"),this._debugWindow&&(this._debugWindow.style.flexBasis=t.DebugWindowWidth+"px"))},h.prototype.setDimensions=function(n,i){if(t.isMobileCache&&i&&(this._root.style.height=i+"px"),!this._previewPaneVisible&&!this._debugWindowVisible){this.onPaneWidthSet(n);this._originalPaneWidth=n}},h.prototype.ensureWebViewWidthExpanded=function(){var n=t.SinglePaneWidth+t.PreviewPaneWidth;t.RuntimeConfig.QfMode==1&&i.width<n&&(i.setPaneWidth(n),this.setDimensions(n,null))},h.prototype.ensureWebViewHeightExpanded=function(){if(t.RuntimeConfig.QfMode==2&&!this._immersiveSearchHeightExpandedInThisConversation){var n=i.height;i.setCenterScreenAcrylicBackgroundHeight(n+12);i.setWebViewHeight(n);this.markWebViewExpandedState(!0)}},h.prototype.markWebViewExpandedState=function(n){this._immersiveSearchHeightExpandedInThisConversation=n;this.setConditionalCss("webViewExpanded",n)},h.prototype.getScrollTop=function(){return this._qfContainer.scrollTop},h.prototype.scrollToTop=function(){this._qfContainer.scrollTop=0;_d.body.scrollTop=0},h.prototype.scrollTo=function(n){var r=_ge(n.id),i;this.scrollToElement(r,this._qfContainer,this._qfContainer.offsetHeight);i=window.innerHeight;t.isMobileCache&&_d.body.scrollHeight>i&&this.scrollToElement(r,_d.body,i)},h.prototype.scrollToElement=function(n,t,i){var u=t.scrollTop,r=n.offsetTop-t.offsetTop,f=r+n.offsetHeight;f>u+i?t.scrollTop=f-i:r<u&&(t.scrollTop=r)},h.prototype.getSuggestionsContainerHeight=function(){return t.RuntimeConfig.QfMode==2&&!this._immersiveSearchHeightExpandedInThisConversation?i.height:(this._suggestionsContainerHeight||this.calculateSuggestionsContainerHeight(),this._suggestionsContainerHeight)},h.prototype.getSuggestionsContainerWidth=function(){return i.width},h.prototype.resetSuggestionsContainerHeight=function(){this._suggestionsContainerHeight=0},h.prototype.calculateSuggestionsContainerHeight=function(){var n=_ge("root").clientHeight,t;n<440&&(n=440);t=_ge("temporaryMessage");n-=t.offsetHeight;this._suggestionsContainerHeight=n},h.prototype.getPanelWidthFor=function(n){var i=this._originalPaneWidth;return i+=n&1?t.PreviewPaneWidth:0,i+(n&2?t.DebugWindowWidth:0)},h.prototype.getPanelState=function(){switch(i.width-this._originalPaneWidth){case 0:return 0;case t.PreviewPaneWidth:return 1;case t.DebugWindowWidth:return 2;case t.PreviewPaneWidth+t.DebugWindowWidth:return 3;default:return 0}},h.prototype.openSidePanel=function(n){var t=this.getPanelState(),u,r;if(t==0&&this.setDimensions(i.width,null),!(t&n)){u=t|n;r=this.getPanelWidthFor(u);i.setPaneWidth(r);this.onPaneWidthSet(r)}},h.prototype.closeSidePanel=function(n){var u=this.getPanelState(),f,r;if(u&n){f=u&~n;r=this.getPanelWidthFor(f);r!=this._originalPaneWidth||t.config.alwaysWideBeforeRS5?i.setPaneWidth(r):i.resetToDefaultSize();this.onPaneWidthSet(r)}},h.prototype.onPaneWidthSet=function(t){n.safeFireEvent("CortanaPaneWidthSet",t)},h.prototype.getOpenPreviewPaneButton=function(){if(!t.RuntimeConfig.PreviewPaneAvailable)return null;if(!this._openPreviewPaneButtonCache){var n=t.isRtl(),i=n?"&#xE96F":"&#xE970";t.config.chevronMed&&(i=n?"&#xE973":"&#xE974");this._openPreviewPaneButtonCache={defaultIcon:{content:i,type:2},openedIcon:{content:n?"&#xE72B":"&#xE72A",type:2},clickHandler:this._openPreviewPaneClickHandler}}return this._openPreviewPaneButtonCache},h.prototype.setContextMenuHandler=function(n){this._contextMenuHandler=n},h.prototype.setSuggestionClickHandler=function(n){this._suggestionClickHandler=n},h.prototype.setOpenPreviewPaneClickHandler=function(n){this._openPreviewPaneClickHandler=n},h.prototype.setExpanderClickInstrumentation=function(n){this._expanderClickInstrumentation=n},h.prototype.updateGroupsView=function(i){if(t.config.th&&ClientTestHooks.isTesthookParamSet("forceRenderingCrashOnSecondConversation")&&this._host.getPaneCloseCount())throw new Error("Simulated exception");this.setQueryBasedCss(i.query);this.setConditionalCss("noSuggestions",i.topResults.length==0&&i.groups.length==0);var r=i.query&&i.query.isSearchHomeZI,u=r?null:" - "+t.getWebSuggestionAnnotation(this._host),f=t.shouldFetchStartMenu(i.query)&&i.groups.some(function(n){return n.typeWithSource.type==t.GroupType.StartMenu})?n.View.StartMenuGroups:n.View.WindowsGroups;this.renderReactView("groups",f,{groups:i.groups,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton(),webSuggestionAnnotation:u})},h.prototype.updateFENarratorSuggestionCount=function(i){var r="";t.RuntimeConfig.QfMode==5&&i&&(r=this.host.getLocString("SuggestionCountNarrator",""+i));this.renderReactView("narratorMessageContainer",n.View.FileExplorerNarratorAnnouncement,{message:r})},h.prototype.updateTopResultsView=function(i){if(this.setQueryBasedCss(i.query),this.setConditionalCss("noSuggestions",i.topResults.length==0&&i.groups.length==0),t.RuntimeConfig.QfMode==5){var r=i.topResults.length;this.updateFENarratorSuggestionCount(r>0?r:null)}this.renderReactView("topResults",n.View.WindowsTopResults,{suggestions:i.topResults,contextMenuHandler:this._contextMenuHandler,clickHandler:this._suggestionClickHandler,openPreviewPaneButton:this.getOpenPreviewPaneButton()})},h.prototype.showTemporaryMessage=function(i){var r=this,u;this._windowsTemporaryMessageShown?(this.hideTemporaryMessage(),n.safeSetTimeout(function(){return r.showTemporaryMessage(i)},100,"showTemporaryMessage")):(u={messageText:i,clickHandler:function(){r.hideTemporaryMessage();r._host.setFocusInSearchBox(null,"temporaryMessage")}},this.updateTemporaryMessageView(u),this._windowsTemporaryMessageShown=!0,t.setVisibility(this._windowsTemporaryMessageWrapper,!0))},h.prototype.hideTemporaryMessage=function(){this._windowsTemporaryMessageShown&&(this.updateTemporaryMessageView(null),this._windowsTemporaryMessageShown=!1,t.setVisibility(this._windowsTemporaryMessageWrapper,!1))},h.prototype.updateTemporaryMessageView=function(t){this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:t,icon:{content:"&#xE946",type:2},messageClassName:e})},h.prototype.updateIndexingMessageView=function(i){var r=!!i;this._windowsIndexingMessageShown!=r&&(this.renderReactView("temporaryMessage",n.View.WindowsMessage,{dataModel:i,icon:i&&i.messageText==this._host.getLocString("WindowsIndexingInProgressMessage")?{content:"&#xE895",type:2}:null,messageClassName:o}),this._windowsIndexingMessageShown=r,t.setVisibility(this._windowsIndexingMessageWrapper,r),this.resetSuggestionsContainerHeight())},h.prototype.updateDialogBox=function(t){t.isVisible?this._host.setFocusInWebView("updateDialogBox"):this._host.setFocusInSearchBox(null,"updateDialogBox: hidden");this.renderReactView("dialogBox",n.View.WindowsDialogBox,{dataModel:t})},h.prototype.updateTopHitHeaderView=function(t){this.renderReactView("topHitHeader",n.View.TopHitHeader,{dataModel:t})},h.prototype.updateScopesHeaderView=function(t){this.renderReactView("scopesHeader",n.View.ScopesHeader,{dataModel:t})},h.prototype.updatePreviewErrorMessageView=function(t){this.renderReactView("previewErrorMessageContainer",n.View.PreviewErrorMessageContainer,{dataModel:t})},h.prototype.updatePreviewContainerView=function(t){t?this._previewContainer.classList.add("localPreviewContainer"):this._previewContainer.classList.remove("localPreviewContainer");this.renderReactView("previewContainer",n.View.WindowsPreviewContainer,{dataModel:t,expanderClickInstrumentation:this._expanderClickInstrumentation,chevronDownIcon:{content:"&#xE70D",type:2},cortanaInfoIcon:{content:"&#xE946",type:2}})},h.prototype.updateMsbPreviewContainerView=function(n){var i=this,t;this._previewContainer.innerHTML="";t=sj_ce("div","b_bfb");this._previewContainer.appendChild(t);t.addEventListener("click",function(n){var t=i.findBfbAnchor(n.target);t&&t.href&&(n.preventDefault(),i._host.launchUri(t.href))});n.suggestion?this._previewContainer.classList.add("localPreviewContainer","msbPreviewContainer"):this._previewContainer.classList.remove("localPreviewContainer","msbPreviewContainer")},h.prototype.findBfbAnchor=function(n){return n?n.tagName==="a"||n.tagName==="A"?n:this.findBfbAnchor(n.parentElement):undefined},h.prototype.updateMenuView=function(t){this.renderReactView("menuContainer",n.View.WindowsMenu,{dataModel:t})},h.prototype.updateSnipSearchMessageView=function(t){this.renderReactView("messageContainer",n.View.SnipSearchMessage,{dataModel:t})},h.prototype.setProgressIndicatorVisibility=function(n){this._progressBarVisible!=n&&(this._progressBar||(this._progressBar=_ge("b_progress")),t.setVisibility(this._progressBar,n),this._progressBarVisible=n)},h.prototype.setPreviewPaneVisibility=function(n){this._previewPaneVisible!=n&&(n||this.closeSidePanel(1),t.setVisibility(this._previewPane,n),n&&this.openSidePanel(1),this._previewPaneVisible=n)},h.prototype.toggleDebugWindowVisibility=function(){return this.setDebugWindowVisibility(!this._debugWindowVisible),this._debugWindowVisible},h.prototype.setDebugWindowVisibility=function(n){t.setVisibility(this._debugWindow,n);t.RuntimeConfig.AlwaysWide?this.setConditionalCss("debugWindowOpen",n):n?this.openSidePanel(2):this.closeSidePanel(2);this._debugWindowVisible=n},h.prototype.applyAccentColor=function(){var i=this._host.getAccentColor(),o,e,f,t;this._lastAccentColor!=i&&(e="accent-style",f=_ge(e),f||(f=_d.createElement("style"),f.setAttribute("id",e),f.type="text/css",o=!0),t=".icon svg { fill: {0} }",t+=".gridLayout .suggestion.sa_hv, .gridLayout .suggestion.sa_hv:hover { border-color: {1}; }",t+=".toggleSwitch input:checked + label::before { background-color: {0}; border-color: {0}; }",n.isHighContrastEnabled()||(t+=".accentColor, .accentColor:visited { color: {0}; }",t+=".sa_hv, .sa_hv.selectable:active, .sa_hv.selectable:hover, .sa_hv .openPreviewPaneBtn:active, #root.zeroInput19H1 .selectable.sa_hv, #root.zeroInput19H1 .selectable.sa_hv:hover { background-color: {1}; }",t+=".sa_hv.suggestion:hover { background-color: {3}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .openPreviewPaneBtn:hover { background-color: {2}; }",t+=".sa_hv.withOpenPreviewPaneBtn:not(.previewPaneOpened) .suggDetailsContainer:hover { background-color: {2}; }",t+="#footer { background-color: {8}; }",t+="#footer:hover { background-color: {9}; }",t+="#footer:active { background-color: {10}; }",t+=":not(.groupContainer).topHitConnectedToGroup:not(.sa_hv):not(.previewPaneOpened) { background: {2}; }",t+="#root:not(.wideByDefault) .selectedScope { background-color: {3}; }",t+="#root:not(.wideByDefault) .selectedScope:hover { background-color: {4}; }",t+="#root:not(.wideByDefault) .selectedScope:active { background-color: {5}; }",t+="#root.wideByDefault .selectedScope { border-color: {0}; }",t+="#startMenu .icon { background-color: {5}; }",t+=".accentButtonBackground { background-color: {6}; }",t+=".accentButtonBackground:focus { background-color: {1}; }",t+=".scopeOptions input[type='button'], .topOptions input[type='button'] { background-color: {12}; border-color: {12} }",t+=".scopeOptions input[type='button']:hover, .topOptions input[type='button']:hover { border-color: {3} }",t+=".expanderContainer.selectedExpander .expanderInnerCircle, .expanderContainer:hover .expanderInnerCircle { background-color: {1}; border-color: {11} }",t+="#previewContainer .expanderContainer.selectedExpander .divider, #previewContainer .expanderContainer:hover .divider { border-color: {1} }",t+=".zeroInput19H1 .secondaryText.selectable { color: {12} }",t+=".zeroInput19H1.darkTheme19H1 .secondaryText.selectable { color: {13} }",t+=".zeroInput19H1 .santorini .sa_hv.selectable, .santorini .sa_hv.selectable  { background-color: {14}; }",t+=".radial { stroke: {0} }"),f.innerHTML=n.formatString(t,[i,r(i,.3),r(i,.1),r(i,.4),r(i,.6),r(i,.7),r(i,.15),s(i,35),u(i,.65),u(i,.8),u(i,.9),r(i,0),this._host.getAccentColor(1),this._host.getAccentColor(-2),r(i,.2),]),o&&_d.head.appendChild(f),this._lastAccentColor=i)},h}(n.BasePage);t.Page=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t=54e5,i=function(){function i(i,r){var u=this;this._host=i;this._appCacheInstrumentationHelper=r;this._isReloadSuppressed=!1;this._pendingReload=!1;r.registerSuperFresh();i.hasFallbackHappened()&&(this._isReloadSuppressed=!0,this._lastReloadAfterFallback=n.getCurrentTime());i.bindAppHidden(function(){(u._isReloadSuppressed=u._lastReloadAfterFallback&&n.getCurrentTime()-u._lastReloadAfterFallback<t,u._isReloadSuppressed)||(!u._pendingReload&&n.config.reloadAfterConversations&&i.getPaneCloseCount()>=n.config.reloadAfterConversations&&(u._pendingReload=!0),u._pendingReload&&(u.logReloadAttempt(),u.reload()))});sj_be(applicationCache,"updateready",function(){return u.onUpdateReady()});i.bindConversationStart(function(){u._isReloadSuppressed=!0;u.shouldCheckForUpdate()&&n.contains([1,4,5],applicationCache.status)&&n.safeExecute(function(){return applicationCache.update()},"probe for manifest update")})}return i.prototype.shouldCheckForUpdate=function(){if(!n.isBingEnabled())return!1;return n.config.th&&ClientTestHooks.isTesthookParamSet("disableAppCache")?!1:!0},i.prototype.onUpdateReady=function(){this.logReloadAttempt();this._isReloadSuppressed?this._pendingReload=!0:this.reload()},i.prototype.reload=function(){this._host.reloadWebView()},i.prototype.logReloadAttempt=function(){this._appCacheInstrumentationHelper.instrumentSuperFreshUpdate(this._isReloadSuppressed)},i}();n.SuperFreshAppCache=i}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i,r;(function(t){function u(t,i,r,u,f,e,o,s){var c,l=function(n){c&&f.unregister(c);o&&o==n.number||SharedLogHelper.LogError(t,e,s||n);u&&u(n)},h,a;try{h=i();h?(f&&h.cancel&&(c=f.register(function(){return h.cancel()},!1,t+" cancellation")),a=function(i){c&&f.unregister(c);r&&n.safeExecute(function(){return r(i)},t+" completion")},h.done?h.done(a,l):h.then(a,l)):l(new Error("No promise returned"))}catch(v){l(v)}}function r(t,i,r,u){i.completed=!0;i.result=r;i.pendingCallbacks.forEach(function(t){return n.safeExecute(function(){return t(r)},u)});i.pendingCallbacks=null}function f(){i={}}function e(){var n=[];for(var t in i)i[t].completed||n.push(t);n.forEach(function(n){return delete i[n]})}function o(u,f,e,o,s,h,c,l){return function(a,v){var p=e(a),y=i[p],w;y||(y={started:!1,completed:!1,result:null,pendingCallbacks:[]},i[p]=y);y.completed?v(y.result):(y.pendingCallbacks.push(v),y.started||(y.started=!0,w=function(){t.safeChain(u,function(){return f(a)},function(n){h&&!h(n)&&delete i[p];r(p,y,o?o(n):n,u)},function(t){n.isCancellation(t)?r(p,y,null,u):l?(l-=1,w()):r(p,y,s,u)},null,c)},w()))}}t.safeChain=u;var i={};t.clearGlobalCache=f;t.clearPendingItemsFromCache=e;t.safeChainWithGlobalCaching=o})(i=t.Promise||(t.Promise={})),function(n){function t(n,t,i){for(var u,f,e={},r=0,o=n;r<o.length;r++)u=o[r],f=t[u],f&&(e[u]=i(f));return e}function i(n){for(var t in n)if(n[t])return!1;return!0}n.map=t;n.isEmpty=i}(r=t.Map||(t.Map={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var r="show",i=10,u=function(){function u(i,r,u,f,e){var o=this;this._host=i;this._page=r;this._instHelper=u;this._showIcons=f;this.adjustHeight=e;this._root=_ge("root");this._menuStack=[];this._menuContainer=_ge("menuContainer");this._itemClickHandler=function(t,i){i.button==0&&t.click&&t.click(n.getCurrentTime(),n.getInputType(i))};this._itemEnterHandler=function(t){t.isSelectable&&!t.isExpanded&&(t.subItems&&(o._hoverTimer&&sb_ct(o._hoverTimer),o._hoverTimer=n.safeSetTimeout(function(){o._hoverTimer=0;var n=_ge(t.id);t&&!t.isExpanded&&n&&n.matches(":hover")&&o.showSubMenu(t)},500,"menu item mouse enter")),o.stickParent(t))};this._itemLeaveHandler=function(t){t.isExpanded&&!t.isSticky&&n.safeSetTimeout(function(){var n=_ge(t.id);t&&!t.isSticky&&n&&!n.matches(":hover")&&(t.subItems.some(function(n){return n==o._selectedItem})&&o.select(null,!1),o.dismissSubMenu(t))},450,"menu item mouse leave")};sj_be(_d.body,"mouseup",function(n){o._menuContainer.contains(n.target)||o.dismiss()});t.config.th||sj_be(_w,"blur",function(){return o.dismiss()});sj_evt.bind("ajax.threshold.pageStart",function(){return o.dismiss()});i.bindKeyEscape(function(n){o.isMenuVisible()&&(n.handled=!0,o._menuStack.length>0?o.reselectParentItem():o.dismiss(!0))})}return u.prototype.showSubMenu=function(n){if(!n.isExpanded){this._selectedItem&&this.select(null,!1);var i=_ge(n.id),r=i.querySelector(".contextMenu");n.isExpanded=!0;t.setVisibility(r,!0);this.adjustSubMenuPosition(i,r);this._menuStack.push(n);this._page.updateMenuView(this.getDataModel())}},u.prototype.dismissSubMenu=function(n){var u,f,i,e,r;if(this._selectedItem&&this.select(null,!1),n){if(i=this._menuStack.indexOf(n),i<0)return;for(e=this._menuStack.slice(i),r=0;r<e.length;++r)this.dismissSubMenu()}else n=this._menuStack.pop(),u=_ge(n.id),f=u.querySelector(".contextMenu"),n.isExpanded=!1,n.isSticky=!1,t.setVisibility(f,!1);this._page.updateMenuView(this.getDataModel())},u.prototype.showMenu=function(i,u){var f=this,o,c,e,s,l,h;if(this._menuItems.length){for(t.setVisibility(this._menuContainer,!0),o=this.getDataModel(),this._page.updateMenuView(o),c=function(n){n.getIcon&&n.getIcon(1,function(t){n.icon=t;f._page.updateMenuView(f.getDataModel())})},e=0,s=this._menuItems;e<s.length;e++)l=s[e],c(l);h="renderContextMenu";n.safeSetTimeout(function(){f.adjustPosition(i,u,o.menuType!=0);f._menuContainer.classList.add(r);var n=_qs("#menuContainer > .contextMenu");n.focus();n.scrollTop=0;f._host.setFocusInWebView(h)},0,h)}},u.prototype.innerShowContextMenu=function(n,t,i,r,u){this.dismiss();var f=this.getContextMenuItems(n,r);f&&f.length>0&&(this._menuItems=f,this._onDismiss=u,this._menuType=0,t-=this._root.offsetLeft,i-=this._root.offsetTop,this.showMenu(t,i))},u.prototype.showDropdownMenu=function(n,i,r,u){if(this.dismiss(),this._parentElement=i,n&&n.length>0){this._menuItems=n;this._onDismiss=u;this._menuType=r;var f=i.offsetLeft,e=i.offsetTop+i.offsetHeight+1;t.isRtl()&&(f+=i.offsetWidth);this.showMenu(f,e)}},u.prototype.showContextMenuOnElement=function(n,t,i,r){var u=t.getBoundingClientRect(),f=u.left+t.offsetWidth/2,e=u.top+this._page.getScrollTop()+t.offsetHeight/2;this.showContextMenuOnXY(n,f,e,i,r)},u.prototype.showContextMenuOnXY=function(i,r,u,f,e){var o=this,s,h;this._parentElement=null;e&&(s=i.childSuggestions.filter(function(n){return n.text===e.text}),s&&s.length&&(i=s[0]));h=t.getVerbsAsync("showContextMenu",i,t.config.rawVerbs,!1,function(e){return n.safeSetTimeout(function(){return o.innerShowContextMenu(t.extendVerbs(e,i,o._page,o._host),r,u,function(n,t,r,u){o._instHelper.instrumentItemClickForContextMenu(t,i.instItem,i.sequenceNumber,i.instrumentPingBack,r,u,n)},f)},0,"showContextMenu handler")},function(){return!0});e||h||(this._page.hideTemporaryMessage(),this._host.setFocusInSearchBox(null,"noContextMenu"))},u.prototype.getSelectableItems=function(){var n,t;return this._menuItems?(n=[],this._menuStack.length>0?(t=this._menuStack[this._menuStack.length-1],n=t.subItems):n=this._menuItems,n.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(n){return n.isSelectable})):[]},u.prototype.getSelectableItemsByGroup=function(){return[]},u.prototype.getSelectedItem=function(){return this._selectedItem},u.prototype.getDataModel=function(){return{items:this._menuItems,showIcons:this._showIcons,clickHandler:this._itemClickHandler,menuType:this._menuType,enterHandler:this._itemEnterHandler,leaveHandler:this._itemLeaveHandler,expandIcon:this.getExpandIcon()}},u.prototype.getExpandIcon=function(){return{content:t.isRtl()?"&#xE76B":"&#xE76C",type:2}},u.prototype.select=function(n){var t;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.blur(),this._selectedItem.selected=!1);this._selectedItem=n;this._selectedItem&&(t=_ge(this._selectedItem.id),t&&t.focus(),this._selectedItem.selected=!0);n&&this.stickParent(n);this._page.updateMenuView(this.getDataModel())},u.prototype.stickParent=function(n){var u=this.getParent(n),f,t,r,i;for(u&&(u.isSticky=!0),f=this.getSiblings(n),t=0,r=f;t<r.length;t++)i=r[t],i.isSticky&&(i.isSticky=!1,this._itemLeaveHandler(i,null))},u.prototype.isItemInMenuOrMenuGroup=function(n,t){return t.some(function(t){return t==n||t.groupItems&&t.groupItems.indexOf(n)>=0})},u.prototype.getParent=function(n){for(var r,t=0,i=this._menuStack;t<i.length;t++)if(r=i[t],this.isItemInMenuOrMenuGroup(n,r.subItems))return r;if(this.isItemInMenuOrMenuGroup(n,this._menuItems))return null;throw new Error("Item: '"+n.id+"' was not found");},u.prototype.getSiblings=function(n,t){t===void 0&&(t=!1);var i=this.getParent(n),r=i?i.subItems:this._menuItems;return r.map(function(n){return n.groupItems?n.groupItems:[n]}).reduce(function(n,t){return n.push.apply(n,t),n},[]).filter(function(i){return i.isSelectable&&(t||i!=n)})},u.prototype.selectSubItem=function(n,t){this.showSubMenu(n);this.select(t,!1)},u.prototype.reselectParentItem=function(){var n=this._menuStack[this._menuStack.length-1];this.dismissSubMenu();this.select(n,!1)},u.prototype.onAfterKeyDown=function(i,r,u,f){var e,s,o;if((u||f)&&!n.isUpOrDownKey(i))return!1;if(i=t.getRtlAdjustedKey(i),i==39||i==13){if(e=this._selectedItem,e&&e.subItems&&e.subItems[0]&&(s=e.subItems.filter(function(n){return n.isSelectable})[0],s))return this.selectSubItem(e,s),!0}else if(i==37){if(this._menuStack.length>0)return this.reselectParentItem(),!0}else if(n.isUpOrDownKey(i)&&this._selectedItem)return o=this._menuStack.length==0?_qs(".contextMenu"):_ge(this._menuStack[this._menuStack.length-1].id).querySelector(".contextMenu"),o&&this._page.scrollToElement(_ge(this._selectedItem.id),o,o.offsetHeight),!0;return i==13},u.prototype.isMenuVisible=function(){return!!this._menuItems},u.prototype.dismiss=function(n){if(this._menuItems&&(this._menuItems=null,this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null),this._page.updateMenuView(this.getDataModel()),this._menuContainer.classList.remove(r),this._menuContainer.style.width=null,t.setVisibility(this._menuContainer,!1),t.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight="",this.adjustHeight()),this._menuStack=[]),n&&this._parentElement&&this._parentElement.focus(),this._parentElement=null,this._onDismiss){var i=this._onDismiss;this._onDismiss=null;i()}},u.prototype.adjustSubMenuPosition=function(n,r){var h,y,d,o;if(this._menuItems){var f=this._menuContainer,p=f.offsetWidth,w=r.offsetHeight,s=r.offsetWidth,b=0,e=window.getComputedStyle(r).paddingTop;e.endsWith("px")&&(e=e.substr(0,e.length-2),b=+e+1);var l=0,k=_qs("#menuContainer .contextMenu").scrollTop,a=t.isRtl(),v=6;for(h=0,y=this._menuStack;h<y.length;h++)d=y[h],o=_ge(d.id).querySelector(".contextMenu"),v=+o.style.zIndex,l+=o.offsetLeft,k+=o.scrollTop,a=o.offsetLeft<0;++v;var u=f.offsetLeft+l+n.offsetLeft,c=f.offsetTop+n.offsetTop-k-b,g=this._root.offsetWidth-(u+p),nt=u,tt=s<g,it=s<nt;(a||!tt)&&it?u-=s:a&&it||!tt?u=nt>g?i:this._root.offsetWidth-s-i:u+=p-2;c+w>this._root.offsetHeight&&(c=Math.max(this._root.offsetHeight-w,this._root.offsetTop));u-=f.offsetLeft+l;c-=f.offsetTop;r.style.left=u+"px";r.style.top=c+"px";r.style.zIndex=v.toString()}},u.prototype.adjustPosition=function(n,r,u){var e,s;if(this._menuItems){var o=this._menuContainer,f=o.offsetWidth,h=o.offsetHeight;f>this._root.offsetWidth&&(f=this._root.offsetWidth,o.style.width=f+"px");e=n;s=r;t.isRtl()?(e-=f,e<0&&(e=u?i:n)):e+f>this._root.offsetWidth&&(e=u?this._root.offsetWidth-f-i:Math.max(n-f,this._root.offsetLeft));!u&&s+h>this._root.offsetHeight&&(s=Math.max(this._root.offsetHeight-h,this._root.offsetTop));o.style.left=e+"px";o.style.top=s+"px";t.RuntimeConfig.PanelCanResize&&(this._root.style.minHeight=s+h+"px",this.adjustHeight())}},u.prototype.getContextMenuItems=function(i,r){var u=this;return i.map(function(i){var f={id:encodeURIComponent(i.verb),text:i.displayName,isSeparator:!i.verb,selected:!1,isDefault:i.isDefault,icon:i.icon,getIcon:i.getIcon,click:undefined,title:undefined,cssClass:undefined,isSelectable:!!i.verb};return f.isSeparator||(f.click=function(f,e){r(i.verb,f,e,null);i.executeSync?(n.safeExecute(function(){return i.executeSync()},"verb.executeSync",null,i.verb),u.dismiss()):t.Promise.safeChain("verb.executeAsync",function(){return i.executeAsync()},function(){return u.dismiss()},null,null,i.verb)}),f})},u}();t.MenuFactory=u})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t="ConnectedAccounts",i=function(){function i(t){this._storage=t;this._accountsCache={};n.config.th&&ClientTestHooks.isTesthookParamSet("clearSSOCache")&&this.clear();this.init()}return i.prototype.setToken=function(n,t){this.setTokenInfo(t,n);this.writeToLocalStorage()},i.prototype.findAccount=function(n,t){var i=this._accountsCache[n];return i&&!this.isExpired(i.LastUpdated,t,i.ExpireDateTime)?i:null},i.prototype.clear=function(){this._accountsCache={};this.writeToLocalStorage()},i.prototype.init=function(){this._accountsCache={};var i=this._storage.getItem(t);i&&(this._accountsCache=n.safeExecute(function(){return JSON.parse(i)},"parseConnectedAccountString",{}))},i.prototype.writeToLocalStorage=function(){this._storage.setItem(t,JSON.stringify(this._accountsCache))},i.prototype.isExpired=function(t,i,r){var f,u,e,o;return i===undefined?!1:n.config.th&&(f=ClientTestHooks.isTesthookParamSet("forceTokenRefresh"),f)?!0:(u=n.getCurrentTime(),r&&u>r)?!0:(e=6e4,o=Math.floor((u-t)/e),o>=i)},i.prototype.setTokenInfo=function(t,i){var r=this._accountsCache[t],u=n.getCurrentTime();r={Token:i.Token,LastUpdated:u,ExpireDateTime:i.ExpireDateTime,TenantName:i.TenantName,RoutingHint:i.RoutingHint,UserName:i.UserName};this._accountsCache[t]=r},i}();n.TokenStore=i}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i=SearchAppWrapper.CortanaApp,r="SelectedAuthAccountId",u=60,f=function(){function f(n,t){var r=this;this._storage=n;this._tokenStore=t;this._pendingCallbacks={};this._availableMsaAccounts=[];this._availableAadAccounts=[];this._accessTokenAvailableHandlers=[];this._accountTypeChangedHandlers=[];this._selectedAccountChangedHandlers=[];i.addEventListener("experiencelaunched",function(){i.experienceId=="NotebookOffline"&&r._tokenStore.clear()})}return f.prototype.authTypeMatchesWindowsAccountType=function(n){return t.windowsAccountType==4||(n==0?t.windowsAccountType==2:t.windowsAccountType==1)},f.prototype.setWindowsAccountType=function(n,i){var r=t.windowsAccountType;t.windowsAccountType=n;i&&t.windowsAccountType!=r&&this.fireAccountTypeChanged()},f.prototype.clearCachedAccountInfo=function(){this._cachedAAD=null;this._cachedMSA=null},f.prototype.getAllSyncingAccounts=function(n,t,r,u,f,e){var a=i.fileExplorerSuggestionPage.registeredSyncRootInfo,h=[],v,s,c,l,o;for(v in a)o=a[v],typeof o=="string"&&o.includes("@")&&h.push(o);for(h.length==0&&f([]),s={responses:0,accounts:[]},c=0,l=h;c<l.length;c++)o=l[c],this.getAccountByUserName(n,t,o,r,u,function(n){++s.responses;n&&n.Token&&s.accounts.push(n);s.responses==h.length&&f(s.accounts)},e)},f.prototype.getAllAvailableAccounts=function(n){return n==0?this._availableMsaAccounts.slice(0):this._availableAadAccounts.slice(0)},f.prototype.getCachedAccountInfo=function(n){if(!this.authTypeMatchesWindowsAccountType(n))return null;switch(n){case 1:return this._cachedAAD;case 0:return this._cachedMSA;default:return null}},f.prototype.getSelectedAccountInfo=function(){if(t.windowsAccountType==2&&this._cachedMSA)return this._cachedMSA;if(t.windowsAccountType==1&&this._cachedAAD)return this._cachedAAD;var u=this._storage.getItem(r),n,i=this._availableAadAccounts.concat(this._availableMsaAccounts);return i.length>0&&(u&&(n=i.filter(function(n){return n.accountId==u})[0]),n||(n=i.filter(function(n){return n.isDefaultAccount})[0]),n||(n=i[0]),n&&this.setSelectedAccount(n)),n},f.prototype.setSelectedAccount=function(n){if(this.cacheAccount(n),t.windowsAccountType!=4){var i=n.accountProviderAuthority=="consumers"?2:1;this.setWindowsAccountType(i,!0)}this._storage.setItem(r,n.accountId);this.fireSelectedAccountChangedHandlers(n)},f.prototype.isMsaAvailable=function(){return this._availableMsaAccounts.length>0},f.prototype.isAadAvailable=function(){return this._availableAadAccounts.length>0},f.prototype.cacheAccount=function(n){n.accountProviderAuthority=="consumers"?this._cachedMSA=n:this._cachedAAD=n},f.prototype.cacheAllAccounts=function(n){var t,r,i;for(this._availableMsaAccounts=[],this._availableAadAccounts=[],t=0,r=n;t<r.length;t++)i=r[t],i.accountProviderAuthority=="consumers"?this._availableMsaAccounts.push(i):this._availableAadAccounts.push(i)},f.prototype.getAccountByUserName=function(n,i,r,u,f,e,o){var s,h=i==0?this._availableMsaAccounts:this._availableAadAccounts,c;h.length>0&&(s=h.find(function(n){return n.accountUserName.toLocaleLowerCase()==r.toLocaleLowerCase()}));s?(c=n?t.getSubstrateResourceOrScope(i):t.getBingResourceOrScope(i),this.getAccount(i,c,u,f,e,o,s)):e(null)},f.prototype.getAccount=function(n,t,i,r,u,f,e){var s=this,h,o;if(!t)throw new Error("Resource or Scope has to be set");if(h=function(n){var t=s._pendingCallbacks[o];s._pendingCallbacks[o]=null;t.forEach(function(t){return t(n)})},!this.authTypeMatchesWindowsAccountType(n)){u(null);return}if(e||(e=this.getCachedAccountInfo(n)),o=t+i+r+f+(e?e.accountId:""),this._pendingCallbacks[o]){this._pendingCallbacks[o].push(u);return}this._pendingCallbacks[o]=[u];this.authenticate(n,t,i,r,f,h,e)},f.prototype.authenticate=function(r,f,e,o,s,h,c){var y=this,k=e?0:u,v=f+s+(c?c.accountId:""),p=this._tokenStore.findAccount(v,k),d=t.config.th&&ClientTestHooks.isTesthookParamSet("noAuthCache"),l,a,w,b;o&&p&&!d?h(p):(l=function(){return h(null)},n.isBrowserOnline()?(a=i.authenticationManager.createAuthenticateRequest(),a.accountType=s,a.silentMode=o,r==1?a.resource=f:a.scope=f,w=c&&i.authenticationManager.authenticateSearchWebAccountAsync,b=w?function(){return i.authenticationManager.authenticateSearchWebAccountAsync(a,c)}:function(){return i.authenticationManager.authenticateAsync(a)},t.Promise.safeChain("authenticateAsyncWAM",b,function(i){var u,e,s;if(t.config.th&&(f=="https://substrate.office.com"||f=="https://substrate.office.com/SubstrateSearch-Internal.ReadWrite"))if(o){if(ClientTestHooks.isTesthookParamSet("ssoAuthFail")){l();return}}else if(ClientTestHooks.isTesthookParamSet("uxAuthFail")){l();return}if(!i){n.log("WAM returned null");l();return}if(i.token){if(u=i.properties,e=u.UPN||i.userName,!e){n.log("WAM didn't return UPN");l();return}s={Token:i.token,ExpireDateTime:u.exp?parseInt(u.exp)*1e3-3e5:null,TenantName:u.tenant_display_name||"",RoutingHint:e,UserName:e};r==0&&(s.ExpireDateTime=n.getCurrentTime()+36e5);y._tokenStore.setToken(s,v);h(y._tokenStore.findAccount(v))}else i.errorCode||i.errorMessage?n.log("WAM error "+i.errorCode+": "+i.errorMessage):n.log("WAM returned an empty token"),l()},l)):l())},f.prototype.bindAccessTokenAvailable=function(n){this._accessTokenAvailableHandlers.push(n)},f.prototype.bindAccountTypesChanged=function(n){this._accountTypeChangedHandlers.push(n)},f.prototype.bindSelectedAccountChanged=function(n){this._selectedAccountChangedHandlers.push(n)},f.prototype.fireAccountTypeChanged=function(){this._accountTypeChangedHandlers.forEach(function(n){return n()})},f.prototype.fireSelectedAccountChangedHandlers=function(n){this._selectedAccountChangedHandlers.forEach(function(t){return t(n)})},f.prototype.tryConnect=function(i,r,u){var f=this,e=i==1?t.isSubstrateO365AccountConnected:t.isSubstrateOutlookAccountConnected;e||this.getAccount(i,t.getSubstrateResourceOrScope(i),!1,!0,function(r){var e=!!r,o;i==1?t.isSubstrateO365AccountConnected=e:t.isSubstrateOutlookAccountConnected=e;e&&u()&&(o=i.toString(),f._accessTokenAvailableHandlers.forEach(function(t){return n.safeExecute(function(){return t(i)},"accessTokenAvailable",null,o)}))},t.getAuthAccountForCloudContent(),r)},f.prototype.updateWindowsAccountType=function(n){for(var o,i,s,r=!1,u=!1,f=0,e=n;f<e.length;f++)o=e[f],o.accountProviderAuthority=="consumers"?r=t.isCloudSearchEnabledMsaCache:u=t.isCloudSearchEnabledAadCache;i=3;t.config.userProfileButtonEnabled?(s=this.getSelectedAccountInfo(),i=s.accountProviderAuthority=="consumers"?2:1):r&&u?i=4:u?i=1:r&&(i=2);this.setWindowsAccountType(i,!0)},f.prototype.setCortanaAccountType=function(){(t.windowsAccountType==4||t.windowsAccountType==2)&&(t.cortanaAccountType=2)},f.prototype.connectAccounts=function(n,i){var u,f,r;for(t.isSubstrateO365AccountConnected=!1,t.isSubstrateOutlookAccountConnected=!1,u=0,f=n;u<f.length;u++)r=f[u],r.accountProviderAuthority=="consumers"&&t.isCloudSearchEnabledMsaCache?this.tryConnect(0,r,i):r.accountProviderAuthority=="organizations"&&t.isCloudSearchEnabledAadCache&&this.tryConnect(1,r,i)},f.prototype.enumerateAccountAuthority=function(n,r){var u=this;t.config.wamSupported&&t.Promise.safeChain("enumerateAccountAuthorityAsync",function(){return i.authenticationManager.enumerateAccountAuthorityAsync()},function(i){var e,o,f;if(t.windowsAccountType==0){e=3;switch(i.Windows){case"consumers":e=2;break;case"organizations":e=1}u.setWindowsAccountType(e,!0);t.windowsAccountType!=3&&(f=t.accountTypeToAuthType(t.windowsAccountType),u.getAccount(f,t.getBingResourceOrScope(f),!1,!0,function(n){return t.windowsIdentity=n&&n.UserName?n.UserName:""},"Windows"))}n()&&(t.cortanaAccountType=i.Cortana=="organizations"?1:i.Cortana=="consumers"?2:3);t.isCloudSearchEnabledCache&&t.substrateProvidersEnabled()&&(o=t.getAccountTypeForCloudContent(),o==1?u.tryConnect(1,null,n):o==2&&u.tryConnect(0,null,n));t.windowsAccountType==t.cortanaAccountType&&t.windowsAccountType!=3&&(f=t.accountTypeToAuthType(t.cortanaAccountType),u.getAccount(f,t.getBingResourceOrScope(f),!1,!0,function(n){return t.cortanaIdentity=n&&n.UserName?n.UserName:""},"Cortana"));r()})},f.prototype.enumerateMultiAccountAuthority=function(n,r){var u=this;if(t.config.wamSupported){if(!i.authenticationManager.getAllSearchWebAccountsAsync){this.enumerateAccountAuthority(n,r);return}this.clearCachedAccountInfo();this.setWindowsAccountType(3,!1);t.Promise.safeChain("getAllSearchWebAccountsAsync",function(){return i.authenticationManager.getAllSearchWebAccountsAsync()},function(i){var f,o,s,c,v,l,h,a,e;if(u.cacheAllAccounts(i),f=[],u._availableMsaAccounts.length>0&&(o=Math.max(u._availableMsaAccounts.findIndex(function(n){return n.isDefaultAccount}),0),f.push(u._availableMsaAccounts[o])),u._availableAadAccounts.length>0&&(o=Math.max(u._availableAadAccounts.findIndex(function(n){return n.isDefaultAccount}),0),f.push(u._availableAadAccounts[o])),!t.config.userProfileButtonEnabled)for(s=0,c=f;s<c.length;s++)e=c[s],u.cacheAccount(e);if(v=t.windowsAccountType,u.updateWindowsAccountType(f),t.windowsAccountType!=v)for(l=function(n,i){u.getAccount(n,t.getBingResourceOrScope(n),!1,!0,function(n){return t.windowsIdentity=n&&n.UserName?n.UserName:""},"Windows",i)},h=0,a=f;h<a.length;h++)e=a[h],e.accountProviderAuthority=="consumers"&&t.isCloudSearchEnabledMsaCache?l(0,e):e.accountProviderAuthority=="organizations"&&t.isCloudSearchEnabledAadCache&&l(1,e);n()&&u.setCortanaAccountType();t.isCloudSearchEnabledCache&&t.substrateProvidersEnabled()&&u.connectAccounts(f,n);r()})}},f.prototype.promptAutheticateDialog=function(i,r,u,f){var e=this,o=function(r){var o=!!r;i==1?t.isSubstrateO365AccountConnected=o:t.isSubstrateOutlookAccountConnected=o;o?(u(),e._accessTokenAvailableHandlers.forEach(function(t){return n.safeExecute(function(){return t(i)},"promptAccessTokenAvailable",null,i.toString())})):f()};this.getAccount(i,r,!1,!1,o,t.getAuthAccountForCloudContent())},f}();t.AccessTokenManager=f})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={})),function(n){var t;(function(t){var i;(function(i){function y(t){t.bindAppHidden(function(){SearchAppWrapper.CortanaApp.isBingEnabled&&n.isBrowserOnline()&&n.safeExecute(function(){return ft("asgw",["fp.msedge.net/conf/v1/asgw/fpconfig.min.json"],2e3)},"AFDFootprint.start",null,null)})}function ft(n,t,i){var o;if(n&&n.trim().length!==0&&Number(i)===i&&i%1==0&&!(i<0)){var r=c,h=ut,y=v(),p=e(),s="MonitorID="+n+"&rid="+p+"&w3c="+y+"&prot="+window.location.protocol+"&v="+h+"&DATA=";if(u)a(r,s,i);else{for(o in t)t[o]=r+t[o];f(t,0,l,r,s,i)}}}function a(n,t,i){var o=et(u,n),s,f,r,e,h;if(o.length!==0){for(s=ot(o,n,b),f=[],r=0,e=u.r;r<e.length;r++)h=e[r],f.push(n+h+"?"+t);ct(s,d,i,f)}}function f(n,i,r,e,o,s){var l=r!==rt?0:1,h=n[i],v=SearchAppWrapper.CortanaApp.createStringMap(),c=SearchAppWrapper.CortanaApp.createStringMap();c["Content-Type"]="application/json";t.Promise.safeChain("fetchAFDUrl",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(l,h,v,"",c)},function(c){c.statusCode===200&&e!=null&&o!=null&&s!=null&&t.Promise.safeChain("readAFDResponse",function(){return c.readAsStringAsync()},function(n){u=JSON.parse(n);a(e,o,s)},function(){++i<n.length&&f(n,i,r,e,o,s)},null,h)},function(){++i<n.length&&f(n,i,r,e,o,s)},null,h,null,"makeHttpRequestAsync failed")}function et(n,t){var e=[],l,a,i,v,y,u,s,b;if(!n||!n.e)return e;var k=t.toLowerCase()===w?h:o,d=n.e,f=[],c=0;for(l=0,a=d;l<a.length;l++)i=a[l],i.w>0&&(o<=i.m&&i.m<=p&&i.m&k||i.m===r)&&(c+=i.w,f.push({endpoint:i.e,cumWeight:c,weight:i.w,measurementType:i.m}));for(v=Math.min(n.n,f.length);e.length<v;){y=Math.floor(Math.random()*c);u=null;for(s in f)u==null?y<f[s].cumWeight&&(u=f[s],delete f[s]):f[s].cumWeight-=u.weight;c-=u.weight;b=u.measurementType&r?nt:g;e.push({id:u.endpoint,testImage:b,measurementType:u.measurementType})}return e.sort(function(n,t){return n.measurementType-t.measurementType}),e}function ot(n,t,i){for(var f,p,d,a=[],v=0,w=n;v<w.length;v++){var y=w[v],l=y.measurementType,b=y.testImage,u=y.id,s=t+u;u.indexOf(".")===-1?s+=".clo.footprintdns.com":u.charAt(0)==="*"&&(f=u.substring(2),p=e(),s=t+p+"."+f,u=f==="clo.footprintdns.com"||f==="nrb.footprintdns.com"||f==="azr.footprintdns.com"?p:f);s+=k;var g=s+i+"?"+e(),nt=l===r?t===c?o:h:l,tt=l!==r;a.push({url:g,requestID:u,object:i,conn:"cold",measurementType:nt,report:tt});d=s+b+"?"+e();a.push({url:d,requestID:u,object:b,conn:"warm",measurementType:l,report:!0})}return a}function st(n,t){for(var r=[],i=0;i<t.length;i++)if(t[i].report){var f=n[i],u=t[i].measurementType,e=ht(f,u);r.push({RequestID:t[i].requestID,Object:t[i].object,Conn:t[i].conn,Result:e,T:u})}return JSON.stringify(r)}function ht(n,t){if(n===s)return n;if(t===r&&n>0){var i=tt/(n/it);return Math.round(i)}return Math.round(n)}function e(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+n()+n()+n()+n()+n()+n()}function v(){return window.performance&&window.performance.getEntriesByName?!0:!1}function ct(n,t,i,r){function c(i){var k,p,g,w,nt,d,b,tt;if(u!=null&&clearTimeout(u),o[i]=h!=null?(new Date).getTime()-h:s,i=(a+y)%n.length,e=new Image,a++<n.length)h=(new Date).getTime(),e.onload=function(){c(i)},k=function(){e.onload=null;e.onerror=null;h=null;c(i)},u=setTimeout(function(){k()},t),e.onerror=function(){u!=null&&clearTimeout(u);u=null;k()},e.src=n[i].url;else if(r!=null&&r.length!==0){if(v())for(p=0;p<n.length;p++)g=n[p].url,w=window.performance.getEntriesByName(g),o[p]!==s&&w&&w[0]&&(o[p]=w[0].duration);for(nt=st(o,n),d=[],b=0;b<r.length;b++)tt=r[b]+nt,d.push(tt);f(d,0,l,null,null,null)}}var h=null,u=null,o=[],a=0,e,y=0;setTimeout(function(){c(0)},i)}i.init=y;var u,o=1,h=2,p=3,r=8,w="http://",c="https://",b="trans.gif",k="/apc/",d=5e3,g="trans.gif",nt="100k.gif",tt=822.128,it=1e3,l="GET",rt="POST",s=-1,ut="20180228"})(i=t.AFDFootprint||(t.AFDFootprint={}))})(t=n.WSB||(n.WSB={}))}(AutoSuggest||(AutoSuggest={}));1
putty
putty
1;1;1;var AutoSuggest;(function(n){var t;(function(n){var t=/[0-9a-zA-Z]/,i=/\s+/g,r=function(){function r(n,t){var i=this;this._accessTokenManager=t;n.bindAccessTokenAvailable(function(n){i.getProfilePictureToken(n,function(){})})}return r.prototype.getProfilePictureToken=function(t,i){this._accessTokenManager.getAccount(t,t==1?"https://outlook.office.com/":"https://outlook.office.com/User.ReadWrite",!1,!0,function(n){return i(n?n.Token:null)},n.getAuthAccountForCloudContent())},r.prototype.getProfilePictureIconInternal=function(t,i,r,u){return n.Promise.safeChainWithGlobalCaching("getProfilePictureIcon",function(){return ThresholdUtilities.createPromise(function(u){return t(function(t){var f,e,o;if(!t){u(null);return}f=SearchAppWrapper.CortanaApp.createStringMap();e=SearchAppWrapper.CortanaApp.createStringMap();f.Authorization="Bearer "+t;i==0&&(f["X-AnchorMailbox"]=r);o=i==1?"https://substrate.office.com/api/v2.0/Users('"+r+"')/photo/$value":"https://substrate.office.com/profile/v0/users/"+r+"/image/$value";n.Promise.safeChain("getProfilePictureIcon",function(){return SearchAppWrapper.CortanaApp.makeHttpRequestAsync(0,o,f,"",e)},function(t){if(t.statusCode!==200){u(null);return}n.Promise.safeChain("getProfilePictureIcon",function(){return t.readAsStreamAsync()},u,function(){return u(null)})},function(){return u(null)})})})},function(){return r+"_icon"},function(t){var i=n.toIcon(t,"getProfilePictureIcon",u);return i&&(i.className="peopleIcon"),i},u)},r.prototype.getProfilePictureIconForToken=function(n,t,i,r){return this.getProfilePictureIconInternal(function(n){return n(t)},n,i,r)},r.prototype.getProfilePictureIcon=function(n,t,i){var r=this;return this.getProfilePictureIconInternal(function(t){return r.getProfilePictureToken(n,t)},n,t,i)},r.prototype.getPersonDefaultIcon=function(n){var r,u=n.trim().replace(i," ").split(" ",2),f,e;return u.length>0&&(f=u[0][0],t.test(f)&&(r=f),u.length==2&&(e=u[1][0],r&&t.test(e)?r+=e:r="")),{type:r?5:2,content:r?r.toUpperCase():"&#xE77B",className:"peopleIcon"}},r}();n.SubstrateProfilePictureProvider=r})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));var AutoSuggest;(function(n){var t;(function(t){var i="pp_",r=100,u=200,f=function(){function f(t,i,r){var u=this;this._page=t;this._host=i;this._sections=[];this._selectedItemIndex=-1;this._scrollArea=_ge("qfPreviewScrollArea");this._itemClickEventHandler=function(t,i){var r=document.getSelection();r.toString()&&r.focusNode==i.target||t.click(n.getCurrentTime(),n.getInputType(i))};this._contextMenuHandler=function(t,i,f){i&&(i.pageX||i.pageY)?n.safeExecute(function(){return r.showContextMenuOnXY(t,i.pageX,i.pageY,function(){return u.focus(!1)},f)},"contextMenuHandler"):n.safeExecute(function(){return r.showContextMenuOnElement(t,f?_ge(f.id):_ge(t.id),function(){return u.focus(!1)},f)},"contextMenuHandler")};i.bindSearchBoxGotFocus(function(){u.blur()});i.bindKeyDown(function(n){u.hasFocus()&&(n==36||n==35)&&u.selectFirstOrLastItem(n==36)})}return f.prototype.init=function(t){var i=this;this._previewPaneViewModelParent=t;this._suggestionClickEventHandler=function(t,r){var u=n.getCurrentTime(),f=n.getInputType(r);i._previewPaneViewModelParent.onBeforeItemLaunch(u,f,4,null);t.click(u,f);i._previewPaneViewModelParent.onAfterItemLaunch(4)}},f.prototype.finalizeKeystroke=function(){this.instrumentOnPreviewPaneRendered(!1,!0)},f.prototype.instrumentOnPreviewPaneRendered=function(n,t){if(this._timestampFirstRender&&this._onPreviewPaneRendered){var i={firstRenderTS:this._timestampFirstRender,layout:this.getLayoutDataForPPRenderedInstrumentation()};this._onPreviewPaneRendered(t,!n,i)}},f.prototype.update=function(t,i,r,u,f,e){var o=this,h,s;f&&!e&&(this.instrumentOnPreviewPaneRendered(!1,!0),this._onPreviewPaneRendered=f,this._timestampFirstRender=null,this._settingsOnlineModules=[],this._settingsOnlineModulesRetrieved=!1);this._previewPaneId=u;this._previewedSuggestion=t;this._sections=[];this._hasPreviewIconBeenSet=!1;this._haveActionsBeenFetched=!1;this._sectionRetrieved_jumplist=!1;this._sectionRetrieved_settingsFaq=!1;this._sectionRetrieved_settingsRelatedSettings=!1;this._allSectionsRetrieved=function(){return o._sectionRetrieved_jumplist&&o._sectionRetrieved_settingsFaq&&o._sectionRetrieved_settingsRelatedSettings};h=e&&this.hasFocus();s=function(t){o._previewPaneViewModelParent.onResponseReceived(n.getCurrentTime());t?o.delayedRender():o.render();(o._previewPaneViewModelParent.focusPending||h)&&(o._previewPaneViewModelParent.focusPending=!1,o.focus(!1))};t&&this.updateSelection(t,i,function(){return u==o._previewPaneId&&t==o._previewedSuggestion},function(){return s(!1)},function(){return s(!0)})},f.prototype.setPreviewIcon=function(i,r,f,e,o){var s=this,h=typeof ClientTestHooks!="undefined"&&ClientTestHooks&&ClientTestHooks.isTesthookParamSet("isTest"),c=h&&ClientTestHooks.isTesthookParamSet("DisablePreviewGetIcon"),l;c||(l=t.config.largePhotoIcon&&i.type=="LI"?5:4,i.getIcon(l,function(n){s._hasPreviewIconBeenSet=!0;i.previewIcon=n;t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)})}));(c||!h)&&n.safeSetTimeout(function(){s._hasPreviewIconBeenSet||(s._hasPreviewIconBeenSet=!0,i.previewIcon=t.ScopeConfig[t.getScope(t.getGroupType(i))].icon,t.populateImageRatio(i.previewIcon,i.type,function(){return s.getActions(r,e,o,f)}))},u,"setPreviewIcon")},f.prototype.updateSelection=function(n,t,i,r,u){n.getIcon?this.setPreviewIcon(n,t,i,r,u):(n.icon&&(n.previewIcon={content:n.icon.content,type:n.icon.type,bgColor:n.icon.bgColor,needsAccentColor:!0,ratio:n.icon.ratio,className:n.icon.className}),this.getActions(t,r,u,i))},f.prototype.hasFocus=function(){return!!this._selectedItem},f.prototype.focus=function(n){var t=this.getSelectableItems(),i,r;t.length>0?(i=n?0:this._selectedItemIndex!=-1?this._selectedItemIndex:0,r=t[i],this.select(r,!1),this._host.searchBoxHasFocus()&&this._host.setFocusInWebView("localPP focus")):this._previewPaneViewModelParent.focusPending=!0},f.prototype.readyToBlur=function(){return!0},f.prototype.blur=function(){this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=null,this.render())},f.prototype.clear=function(){this._selectedItem=null;this._selectedItemIndex=-1;this._previewedSuggestion=null;this._onPreviewPaneRendered=null;this._sections=[];this._settingsOnlineModules=[];this._settingsOnlineModulesRetrieved=!1;sb_ct(this._renderTimer);this._hasPreviewIconBeenSet=!1;this._renderTimer=null;this.render()},f.prototype.getSelectableItems=function(){return[].concat.apply([],this.getSelectableItemsByGroup())},f.prototype.getSelectableItemsByGroup=function(){for(var n,t,f,s,r,e,h,i=[],u=0,o=this._sections;u<o.length;u++)n=o[u],t=[],t=t.concat(n.items),f=n.collapsedItems.length>0,f&&(s=_ge(n.collapsedItems[0].id).classList,s.contains("collapsedItem")||(t=t.concat(n.collapsedItems))),i.push(t),f&&i.push([n.expander]);for(r=0,e=this._settingsOnlineModules;r<e.length;r++)h=e[r],i.push(h.settingLinks);return i},f.prototype.getSelectedItem=function(){return this._selectedItem},f.prototype.select=function(n,t){var r,i;if(t){SharedLogHelper.LogError("selectPreviewPaneItem",null,new Error("Can't update search box value when selecting preview pane item"));return}this._selectedItem==n&&this._selectedItem.selected||(this._selectedItem&&(this._selectedItem.selected=!1),n&&(r=this.getSelectableItems().findIndex(function(t){return t==n}),r<0?SharedLogHelper.LogError("LocalPreviewPane.Select",null,new Error("select called on unknown item")):(n.selected=!0,this._selectedItem=n,this._selectedItemIndex=r,this.render(),i=_ge(n.id),i&&(i.focus(),this._page.scrollToElement(i,this._scrollArea,this._scrollArea.offsetHeight)))))},f.prototype.onAfterKeyDown=function(t,i){return n.isContextMenuKey(t,i.shiftKey)?(this._contextMenuHandler(this._previewedSuggestion,null,this._selectedItem),!0):!1},f.prototype.selectFirstOrLastItem=function(n){var t=this.getSelectableItems(),i;t.length!=0&&(i=n?0:t.length-1,this.select(t[i],!1))},f.prototype.getDataModel=function(){if(this._previewedSuggestion){var n=this._previewedSuggestion.uninstallationInProgress?{messageText:this._host.getLocString("UninstallationInProgress",HitHighlightingParser.removeMarkers(this._previewedSuggestion.text))}:null;return{suggestion:this._previewedSuggestion,sections:this._sections,suggestionClickHandler:this._suggestionClickEventHandler,itemClickHandler:this._itemClickEventHandler,contextMenuClickHandler:this._contextMenuHandler,settingsOnlineModules:this._settingsOnlineModules,messageDataModel:n}}return null},f.prototype.render=function(){this._page.updatePreviewContainerView(this.getDataModel());this._previewedSuggestion&&(this._timestampFirstRender||(this._timestampFirstRender=n.getCurrentTime()),this.instrumentIfAllSectionsRetrieved())},f.prototype.instrumentIfAllSectionsRetrieved=function(){this._previewedSuggestion&&this._allSectionsRetrieved()&&this.instrumentOnPreviewPaneRendered(!0,!1)},f.prototype.delayedRender=function(){var t=this;this._renderTimer||(this._renderTimer=n.safeSetTimeout(function(){t.render();t._renderTimer=null},r,"delayedRender"))},f.prototype.getActions=function(i,r,u,f){var o=this,e;if(f()){if(this._haveActionsBeenFetched){r();return}this._haveActionsBeenFetched=!0;e=this._previewedSuggestion;this.addToSection(this.createSyntheticAction(e),null,this._host.getLocString("ActionsSection"));t.config.settingsOnlineModuleEnabled&&t.isSetting(e.type)&&e.deviceItem&&!this._settingsOnlineModulesRetrieved?n.fetchUrlJson(this.getRelatedSearchUrl(e.deviceItem.id,t.uiLanguageCache),null,null,function(n){return o.createSettingOnlineModules(n,f)}):(this._sectionRetrieved_settingsFaq=!0,this._sectionRetrieved_settingsRelatedSettings=!0);t.getVerbsAsync("PreviewPaneExtraActions",e,t.config.rawVerbs,!0,function(n){return o.processVerbs(n,i,r,u,f)},f)}},f.prototype.processVerbs=function(n,i,r,u,f){var k=this,w,l,h,v,b,y,c,p,e;if(f()){w=this._host.getLocString("ActionsSection");l=this._previewedSuggestion;n=t.extendVerbs(n,l,this._page,this._host,function(){return k.render()});var s=-1,o=-1,a=0;for(h=0,v=n;h<v.length;h++)e=v[h],e.verb==="copy"&&(s=a),e.verb==="S_CopyFullPath"&&(o=a),a++;for(s!=-1&&o!=-1&&(e=n[o],s<o?(n.splice(o,1),n.splice(s+1,0,e)):(n.splice(s+1,0,e),n.splice(o,1))),b=function(n){if(n.verb){var t=y.createAction(n);n.getIcon&&n.getIcon(1,function(n){t.icon=n;u()});y.addToSection(t,null,w)}},y=this,c=0,p=n;c<p.length;c++)e=p[c],b(e);this.processChildSuggestions(l,i,function(){f()&&u()});this._sectionRetrieved_jumplist=!0;r()}},f.prototype.createSyntheticAction=function(i){var r=i.type=="CS",e=r?t.JumplistActionItemType.S_Install:t.JumplistActionItemType.S_Open,u="",f;return u=r?i.primaryMetadata:i.type=="PPL"&&t.windowsAccountType!=2?this._host.getLocString("OpenContact"):i.previewPaneType==1?this._host.getLocString("OpenInBrowser"):this._host.getLocString("Open"),f={verb:t.JumplistActionItemType[e],displayName:u,icon:{type:2,content:r?"&#xEA96":"&#xE8A7"},executeSync:function(){return i.click(n.getCurrentTime(),0)}},this.createAction(f,t.GroupType.JumpListSynthetic)},f.prototype.createAction=function(r,u){var f=this,e=t.JumplistActionItemType[r.verb],o={ppId:this._previewPaneId,st:u||t.GroupType.JumpListActions,vbt:e||undefined,vbr:e?undefined:r.verb};return{id:i+r.verb,text:r.displayName,click:function(i,u){var e=5;f._previewPaneViewModelParent.onBeforeItemLaunch(i,u,e,o);if(r.executeSync){n.safeExecute(function(){return r.executeSync()},"verb.executeSync",null,r.verb);f._previewPaneViewModelParent.onAfterItemLaunch(e)}else t.Promise.safeChain("verb.executeAsync",function(){return r.executeAsync()},function(){return f._previewPaneViewModelParent.onAfterItemLaunch(e)},null,null,r.verb)},icon:r.icon,selected:!1,narratorText:r.displayName,instData:o}},f.prototype.createAnnotation=function(t,i){var r=t?unescape(t.replace("file:///","")):"",u=r.indexOf("?"),f,e,o;return u!=-1&&(r=r.substr(0,u)),n.isHttpProtocol(r)||(f=r.toLocaleLowerCase(),e="https:",f.includes(e)?(u=f.indexOf(e),r=r.substr(u,r.length)):(o=/\//gi,r=r.replace(o,"\\")),r=r.replace("\\"+i,"")),r},f.prototype.processChildSuggestions=function(n,r,u){var o=this,e;if(n.previewPaneType!=1||t.RuntimeConfig.MiniSERPMode!=0){if(n.calculateChildSuggestions&&n.calculateChildSuggestions(),n.childSuggestions){var s=1,h=function(e){var h=n.childSuggestions[e],l=h.groupType==t.GroupType.JumpListTasks,a={ppId:f._previewPaneId,st:h.groupType},c={id:i+n.id+"_"+e,text:HitHighlightingParser.removeMarkers(h.text),click:function(n,t){var i=l?5:6;o._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,a);h.click(n,t);o._previewPaneViewModelParent.onAfterItemLaunch(i)},icon:h.icon,selected:!1,narratorText:h.narratorText,annotationClass:"annotation",isJumpListTaskItem:!!l,instData:a},v=void 0,y=void 0;if(!l){var w=h,b=w.jumpListItem,p=t.getGroupTitleAndNarratorText(r,f._host,h.groupType,h,null);c.tooltip=h.tooltip;v=p.title;y=p.narratorText;t.config.doubleLinePreviewJumpList?(c.annotation=f.createAnnotation(b.path,c.text),c.annotationClass+=" lastAccessedText"):c.annotation=h.additionalInfoText}h.getIcon&&h.getIcon(1,function(n){c.icon=n;t.populateImageRatio(c.icon,h.type,function(){return u()})});f.addToSection(c,v,y,l?s++:null)},f=this;for(e=0;e<n.childSuggestions.length;e++)h(e)}t.config.itemsBeforeExpander&&this.processItemsForExpander()}},f.prototype.addToSection=function(n,t,i,r){var u=this._sections.find(function(n){return(n.title||"")==(t||"")});u?typeof r=="number"?u.items.splice(r,0,n):u.items.push(n):(u={title:t,narratorText:i,items:[n],collapsedItems:[],expander:null},this._sections.push(u))},f.prototype.processItemsForExpander=function(){var n;if(this._sections.length!=0){var r=function(n,t,i){n.pi=t;i&&(n.c=1)},i=this._sections.length,u=1,f=function(n){var f=e._sections[n],o=f.items,c,l,h,a,s,v;if(n==0){for(c=!1,l=!1,h=0;h<o.length;++h)if(a=o[h],a.instData.st==t.GroupType.JumpListTasks){l=!0;break}else a.instData.st==t.GroupType.JumpListActions&&(c=!0);f.sectionType=l?t.GroupType.JumpListTasks:c?t.GroupType.JumpListActions:t.GroupType.JumpListSynthetic}else f.sectionType=f.items[0].instData.st;if(n==0)for(s=0;s<o.length;s++)s!=0&&!o[s].isJumpListTaskItem&&(i!=1||o[1].isJumpListTaskItem)&&(f.collapsedItems=o.splice(s),f.expander={id:"expander"+u++,selected:!1,text:null});else i!==n+1&&o.length>t.config.itemsBeforeExpander+1&&(f.collapsedItems=o.splice(t.config.itemsBeforeExpander),f.expander={id:"expander"+u++,selected:!1,text:null});v=0;f.items.forEach(function(n){return r(n.instData,v++,!1)});f.collapsedItems.forEach(function(n){return r(n.instData,v++,!0)})},e=this;for(n=0;n<i;n++)f(n)}},f.prototype.getLayoutDataForPPRenderedInstrumentation=function(){var t={sectionTypes:[],sectionLengths:[]},i,u,r,f,n;if(this._sections)for(i=0,u=this._sections;i<u.length;i++)n=u[i],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.items.length+n.collapsedItems.length);if(this._settingsOnlineModules)for(r=0,f=this._settingsOnlineModules;r<f.length;r++)n=f[r],t.sectionTypes.push(n.sectionType),t.sectionLengths.push(n.settingLinks.length);return t.sectionTypes.length>0?t:undefined},f.prototype.onAnyOptionClick=function(n){this.select(n,!1);this.hasFocus||this.focus(!1)},f.prototype.getRelatedSearchUrl=function(t,i){return"/PPRelatedSearch?query="+n.encodeQueryParameter(t)+"&lang="+n.encodeQueryParameter(i)},f.prototype.createSettingOnlineModules=function(n,t){t()&&(this._settingsOnlineModulesRetrieved=!0,this.createSettingFaqModule(n),this.createSettingRelatedSettingsModuleAsync(n,t))},f.prototype.createSettingFaqModule=function(n){var u=this,o=this._host.getLocString("SettingsFAQModuleHeader"),i=n&&n.SettingPageQnAs,r,e;if(i&&i.length>0){var f=[],s=function(n){var r=i[n],e,o;r.Query&&r.BingIALink&&(e={ppId:h._previewPaneId,st:t.GroupType.JumpListSettingsFaq,pi:n},o={id:"faq"+n,narratorText:r.Query,selected:!1,text:r.Query,click:function(n,t){var i=9;u._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,e,0);u._host.launchUri(r.BingIALink);u._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:e},f.push(o))},h=this;for(r=0;r<i.length;++r)s(r);f.length>0&&(e={header:o,settingLinks:f,sectionType:t.GroupType.JumpListSettingsFaq},this._settingsOnlineModules.push(e),this.render())}this._sectionRetrieved_settingsFaq=!0;this.instrumentIfAllSectionsRetrieved()},f.prototype.createSettingRelatedSettingsModuleAsync=function(n,i){var r=this,f=this._host.getLocString("RelatedSettingsModuleHeader"),u=n&&n.SettingPageRelatedSettingsIds;u&&u.length>0?t.LocalDataProvider.getSettings(u,function(n){var e,s,o,h;if(i()){for(e=[],s=function(i){var s=u[i],f=n[s],o,h;f&&(o={ppId:r._previewPaneId,st:t.GroupType.JumpListSettingsRelatedSettings,pi:i},h={id:s,narratorText:f.deviceItem.displayName,selected:!1,text:f.deviceItem.displayName,click:function(n,t){var i=9;r._previewPaneViewModelParent.onBeforeItemLaunch(n,t,i,o);r._host.launchDeviceItem(f.deviceItem,"THST");r._previewPaneViewModelParent.onAfterItemLaunch(i)},instData:o},e.push(h))},o=0;o<u.length;++o)s(o);e.length>0&&(h={header:f,settingLinks:e,sectionType:t.GroupType.JumpListSettingsRelatedSettings},r._settingsOnlineModules.push(h),r.render());r._sectionRetrieved_settingsRelatedSettings=!0;r.instrumentIfAllSectionsRetrieved()}}):(this._sectionRetrieved_settingsRelatedSettings=!0,this.instrumentIfAllSectionsRetrieved())},f}();t.WSBLocalPreviewPaneViewModel=f})(t=n.WSB||(n.WSB={}))})(AutoSuggest||(AutoSuggest={}));1;1;1;1;1;
{6D809377-6AF0-444B-8957-A3773F02200E}\PuTTY\puttygen.exe
{6D809377-6AF0-444B-8957-A3773F02200E}\PuTTY\pageant.exe
{7C5A40EF-A0FB-4BFC-874A-C0F2E0B9FA8E}\MTPuTTY\mtputty.exe
PuTTY\psftp.
InputTyp
InputTypeH
InputTyp
getInputType=R 
InputTy
InputTyp
PuTTY\puttyge
ExtraPuTTY\B0
|putty.exe	8
am.PuTTY
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
    var inputType;
    (function (inputType) {
        inputType[inputType["readonly"] = 1] = "readonly";
        inputType[inputType["hidden"] = 2] = "hidden";
        inputType[inputType["text"] = 4] = "text";
        inputType[inputType["password"] = 8] = "password";
    })(inputType = Dom.inputType || (Dom.inputType = {}));
                    if (elementPresent(stream, (e) => ((e.tagId == Dom.tagType.input) && ((e.flags & Dom.inputType.password) != 0)))) {
AAA_SystemSettings_Accessibility_Braille_Table_OutputType
AAA_SystemSettings_Accessibility_Braille_Table_InputType
PuTTY
outputType
Googlegoogle.comhttps://www.google.com/favicon.ico{google:baseURL}search?q={searchTerms}&{google:RLZ}{google:originalQueryForSuggestion}{google:assistedQueryStats}{google:searchFieldtrialParameter}{google:iOSSearchLanguage}{google:prefetchSource}{google:searchClient}{google:sourceId}{google:contextualSearchVersion}ie={inputEncoding}UTF-8{google:baseSuggestURL}search?{google:searchFieldtrialParameter}client={google:suggestClient}&gs_ri={google:suggestRid}&xssi=t&q={searchTerms}&{google:inputType}{google:omniboxFocusType}{google:cursorPosition}{google:currentPageUrl}{google:pageClassification}{google:searchVersion}{google:sessionToken}{google:prefetchQuery}sugkey={google:suggestAPIKeyParameter}485bf7d3-0215-45af-87dc-538868000001["{google:baseURL}#q={searchTerms}","{google:baseURL}search#q={searchTerms}","{google:baseURL}webhp#q={searchTerms}","{google:baseURL}s#q={searchTerms}","{google:baseURL}s?q={searchTerms}"]{google:baseSearchByImageURL}uploadencoded_image={google:imageThumbnail},image_url={google:imageURL},sbisrc={google:imageSearchSource},original_width={google:imageOriginalWidth},original_height={google:imageOriginalHeight}
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
 PuTTY SSH key generation utility
3https://www.chiark.greenend.org.uk/~sgtatham/putty/0
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
simontatham.puttypackageid
simontatham.puttywindows_win32
simontatham.puttywindows_win32W
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
simontatham.puttypackageid
simontatham.puttywindows_win32
simontatham.puttywindows_win32W
 PuTTY SSH key generation utility
3https://www.chiark.greenend.org.uk/~sgtatham/putty/0
inputtypes
.metrics.OmniboxInputType
OmniboxInputType
OmniboxInputTypeProtosH
C:\Program Files\PuTTY\putty.exe
{"account_id_migration_state":2,"account_tracker_service_last_update":"13262973585920235","alternate_error_pages":{"backup":true},"autocomplete":{"retention_policy_last_version":89},"autofill":{"orphan_rows_removed":true},"browser":{"available_dark_theme_options":"All","has_seen_welcome_page":false,"should_reset_check_default_browser":false,"window_placement":{"bottom":935,"left":20,"maximized":true,"right":965,"top":20,"work_area_bottom":935,"work_area_left":0,"work_area_right":1920,"work_area_top":0}},"browser_content_container_height":864,"browser_content_container_width":1920,"browser_content_container_x":0,"browser_content_container_y":79,"caretbrowsing":{"enabled":false},"countryid_at_install":18002,"custom_links":{"list":[]},"data_reduction":{"daily_original_length":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","104475"],"daily_received_length":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","104475"],"last_update_date":"13262911200000000","last_week_services_downstream_background_kb":{},"last_week_services_downstream_foreground_kb":{"109536380":66,"110893284":990,"112189210":14,"113604596":0,"113711087":2,"119644790":0,"47815025":3,"62960123":0,"67541500":5},"last_week_user_traffic_contenttype_downstream_kb":{},"this_week_number":2676,"this_week_services_downstream_background_kb":{},"this_week_services_downstream_foreground_kb":{"109536380":66,"112189210":6,"113711087":2,"119644790":0,"12038966":0,"130931413":15,"47815025":1,"62960123":0,"67541500":7,"95682324":4},"this_week_user_traffic_contenttype_downstream_kb":{}},"default_apps_install_state":3,"domain_diversity":{"last_reporting_timestamp":"13262973585919285"},"download":{"directory_upgrade":true},"dual_engine":{"profile_id":"Z8SSJ4WM","shared_cookie_data":{},"sitelist_data_1":{},"sitelist_location":"","sitelist_version":""},"edge":{"profile_sso_info":{"aad_sso_algo_state":1,"is_first_profile":true},"profile_sso_option":1,"services":{"signin_scoped_device_id":"a68a5306-3b67-4f7e-b942-7de41e3735b2"}},"extensions":{"alerts":{"initialized":true},"chrome_url_overrides":{},"last_chrome_version":"89.0.774.68"},"family_safety":{"activity_reporting_enabled":false,"web_filtering_enabled":false},"federated_learning":{"floc_id":{"compute_time":"13262973585919463","finch_config_version":"1","history_begin_time":"0","history_end_time":"0","sorting_lsh_version":"0"}},"http_original_content_length":"104475","http_received_content_length":"104475","language_model_counters":{"en":1,"fr":6},"media":{"device_id_salt":"620C307BF56C496102DC84AF41EF7420","engagement":{"schema_version":4}},"media_router":{"receiver_id_hash_token":"pllMBbs587SM/U40QwV1SRLIa/L0Hs0Q2CN1hn73FSRJhtwdhWefLHBq1NTkGiJNASXeMYN5So82flHGC0oY1Q=="},"ntp":{"num_personal_suggestions":1},"open_save_as_awareness_ui":{"num_times_shelf_opened_since_shown":1},"plugins":{"plugins_list":[]},"previews":{"litepage":{"user-needs-notification":false}},"profile":{"avatar_bubble_tutorial_shown":2,"avatar_index":20,"content_settings":{"enable_quiet_permission_ui_enabling_method":{"notifications":2},"exceptions":{"accessibility_events":{},"app_banner":{},"ar":{},"auto_select_certificate":{},"automatic_downloads":{},"autoplay":{},"background_sync":{},"bluetooth_chooser_data":{},"bluetooth_guard":{},"bluetooth_scanning":{},"camera_pan_tilt_zoom":{},"clear_browsing_data_cookies_exceptions":{},"client_hints":{},"clipboard":{},"cookies":{},"durable_storage":{},"file_system_last_picked_directory":{},"file_system_read_guard":{},"file_system_write_guard":{},"font_access":{},"geolocation":{},"hid_chooser_data":{},"hid_guard":{},"idle_detection":{},"images":{},"important_site_info":{},"insecure_private_network":{},"installed_web_app_metadata":{},"intent_picker_auto_display":{},"javascript":{},"legacy_cookie_access":{},"media_engagement":{"https://ntp.msn.com:443,*":{"expiration":"0","last_modified":"13262973591051456","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":3}},"https://putty.fr.uptodown.com:443,*":{"expiration":"0","last_modified":"13262449684245981","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":1}},"https://www.bing.com:443,*":{"expiration":"0","last_modified":"13262973767394071","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":2}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13262973767389374","model":0,"setting":{"hasHighScore":false,"lastMediaPlaybackTime":0.0,"mediaPlaybacks":0,"visits":1}}},"media_stream_camera":{},"media_stream_mic":{},"midi_sysex":{},"mixed_script":{},"nfc":{},"notifications":{},"password_protection":{},"payment_handler":{},"permission_autoblocking_data":{},"permission_autorevocation_data":{},"popups":{},"ppapi_broker":{},"protocol_handler":{},"safe_browsing_url_check_data":{},"sensors":{},"serial_chooser_data":{},"serial_guard":{},"site_engagement":{"https://microsoftedgewelcome.microsoft.com:443,*":{"expiration":"0","last_modified":"13262973587470592","model":0,"setting":{"decayModifiedScore":3.0,"lastEngagementTime":1.326294460916036e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":3.0,"rawScore":3.0}},"https://ntp.msn.com:443,*":{"expiration":"0","last_modified":"13262973587470739","model":0,"setting":{"decayModifiedScore":5.857152,"lastEngagementTime":1.3262973587470678e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":6.0,"rawScore":5.8837605}},"https://putty.fr.uptodown.com:443,*":{"expiration":"0","last_modified":"13262973587470647","model":0,"setting":{"decayModifiedScore":2.1,"lastEngagementTime":1.3262944787470424e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":2.1,"rawScore":2.1}},"https://www.bing.com:443,*":{"expiration":"0","last_modified":"13262973632540380","model":0,"setting":{"decayModifiedScore":5.585721599999999,"lastEngagementTime":1.3262973632540352e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":5.699999999999999,"rawScore":5.6070084}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13262973757301827","model":0,"setting":{"decayModifiedScore":2.1,"lastEngagementTime":1.3262973757301808e+16,"lastShortcutLaunchTime":0.0,"pointsAddedToday":2.1,"rawScore":2.1}}},"sleeping_tabs":{},"sound":{},"ssl_cert_decisions":{},"storage_access":{},"subresource_filter":{},"subresource_filter_data":{},"token_binding":{},"trackers":{},"trackers_data":{"https://3c76e4b09eb4f2ccf71f02005be10757.safeframe.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449554832283","model":0,"setting":{"count":1}},"https://977857a3e2add6156fd97c33b1c50be1.safeframe.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449550699817","model":0,"setting":{"count":1}},"https://ad.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262973649637765","model":0,"setting":{"count":1}},"https://adservice.google.com:443,*":{"expiration":"0","last_modified":"13262449619875469","model":0,"setting":{"count":3}},"https://adservice.google.fr:443,*":{"expiration":"0","last_modified":"13262449619874814","model":0,"setting":{"count":3}},"https://bidder.criteo.com:443,*":{"expiration":"0","last_modified":"13262449618645204","model":0,"setting":{"count":1}},"https://csm.fr.eu.criteo.net:443,*":{"expiration":"0","last_modified":"13262449684202530","model":0,"setting":{"count":1}},"https://googleads.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449619322092","model":0,"setting":{"count":1}},"https://gum.criteo.com:443,*":{"expiration":"0","last_modified":"13262449618622863","model":0,"setting":{"count":1}},"https://pagead2.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449618918574","model":0,"setting":{"count":1}},"https://partner.googleadservices.com:443,*":{"expiration":"0","last_modified":"13262449619819719","model":0,"setting":{"count":1}},"https://s0.2mdn.net:443,*":{"expiration":"0","last_modified":"13262449622800818","model":0,"setting":{"count":1}},"https://securepubads.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449553174931","model":0,"setting":{"count":2}},"https://static.criteo.net:443,*":{"expiration":"0","last_modified":"13262449618917453","model":0,"setting":{"count":2}},"https://stats.g.doubleclick.net:443,*":{"expiration":"0","last_modified":"13262449554329495","model":0,"setting":{"count":2}},"https://tpc.googlesyndication.com:443,*":{"expiration":"0","last_modified":"13262449616964156","model":0,"setting":{"count":3}},"https://www.google.com:443,*":{"expiration":"0","last_modified":"13262449621874858","model":0,"setting":{"count":3}},"https://www.google.fr:443,*":{"expiration":"0","last_modified":"13262449554548798","model":0,"setting":{"count":2}},"https://www.googletagservices.com:443,*":{"expiration":"0","last_modified":"13262449621828499","model":0,"setting":{"count":2}}},"tracking_org_exceptions":{},"tracking_org_relationships":{"https://microsoft.test:443,*":{"expiration":"0","last_modified":"13262973591108186","model":0,"setting":{"https://ntp|msn|com/":true,"https://www|bing|com/":true}}},"usb_chooser_data":{},"usb_guard":{},"vr":{},"window_placement":{}},"pref_version":1},"created_by_version":"84.0.522.52","creation_time":"13262447162453532","exit_type":"Normal","exited_cleanly":true,"has_seen_signin_fre":true,"icon_version":15,"last_engagement_time":"13262973757301809","last_time_obsolete_http_credentials_removed":1617973625.461102,"managed_user_id":"","name":"Profil 1","observed_session_time":{"feedback_rating_in_product_help_observed_session_time_key_84.0.522.52":170.0,"feedback_rating_in_product_help_observed_session_time_key_89.0.774.68":71.0}},"reset_prepopulated_engines":false,"safebrowsing":{"metrics_last_log_time":"13262973586"},"settings":{"a11y":{"caretbrowsing":{"enabled":false}}},"signin":{"DiceMigrationComplete":true,"allowed":true},"spellcheck":{"dictionaries":["fr"],"dictionary":""},"sync":{"autofill":true,"bookmarks":true,"collections":true,"collections_edge_re_evaluated":true,"collections_edge_supported":true,"edge_account_type":0,"extensions":true,"extensions_edge_supported":true,"history_edge_supported":true,"keep_everything_synced":false,"passwords":true,"preferences":true,"requested":false,"tabs_edge_supported":true},"translate_accepted_count":{"en":0},"translate_denied_count_for_language":{"en":2},"translate_last_denied_time_for_language":{"en":[1.618500055396577e+12]},"translate_site_blacklist_with_time":{},"unified_consent":{"migration_state":10},"web_apps":{"did_migrate_default_chrome_apps":[],"last_preinstall_synchronize_version":"89","system_web_app_failure_count":0,"system_web_app_last_attempted_language":"fr","system_web_app_last_attempted_update":"89.0.774.68","system_web_app_last_installed_language":"fr","system_web_app_last_update":"89.0.774.68"}}
simontatham.puttypackageid
simontatham.puttywindows_win32
simontatham.puttywindows_win32W
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
simontatham.puttypackageid
simontatham.puttywindows_win32
simontatham.puttywindows_win32W
simontatham.puttywindows_win32W
simontatham.puttywindows_win32
simontatham.puttypackageid
simontatham.puttywindows_win32W
simontatham.puttywindows_win32
simontatham.puttypackageid
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com
https://putty.fr.uptodown.com/windows
https://putty.fr.uptodown.com/windows/telecharger
\\?\C:\Users\Administrateur\Downloads\putty-0-74-64-bit.msi->putty.cab->Pageant_File
\\?\C:\Users\Administrateur\Downloads\putty-0-74-64-bit.msi->putty.cab->PSCP_File
\\?\C:\Users\Administrateur\Downloads\putty-0-74-64-bit.msi->putty.cab->PuTTY_File
\\?\C:\Users\Administrateur\Downloads\putty-0-74-64-bit.msi->putty.cab->PuTTYgen_File
\\?\C:\Users\Administrateur\Downloads\putty-0-74-64-bit.msi->putty.cab->Plink_File
\\?\C:\Users\Administrateur\Downloads\putty-0-74-64-bit.msi->putty.cab->PSFTP_File
PuTTY64
PuTTY64
PuTTY
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY
PuTTY64
PuTTY64
PuTTY64
PuTTY64
PuTTY64
\Device\HarddiskVolume2\Program Files\PuTTY\pageant.exe
\Device\HarddiskVolume2\Program Files\PuTTY\puttygen.exe
\Device\HarddiskVolume2\Program Files\PuTTY\psftp.exe
PuTTY
PuTTY
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
simontatham.puttywindows_win32W
simontatham.puttywindows_win32
simontatham.puttypackageid
[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
O[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
y{"displayText":"PuTTY","activationUri":"ms-shellactivity:","appDisplayName":"PuTTY","backgroundColor":"black"}
https://putty.fr.uptodown.com/windows/telecharger
https://putty.fr.uptodown.com/windows
https://www.bing.com/search?q=putty&cvid=0788ce431611475e94399fd47640b773&pglt=547&FORM=ANSPA1&PC=U531
PuTTY
simontatham.puttywindows_win32W
simontatham.puttywindows_win32
simontatham.puttypackageid
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
simontatham.puttypackageid
simontatham.puttywindows_win32
simontatham.puttywindows_win32W
[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
O[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
y{"displayText":"PuTTY","activationUri":"ms-shellactivity:","appDisplayName":"PuTTY","backgroundColor":"black"}
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
O[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
y{"displayText":"PuTTY","activationUri":"ms-shellactivity:","appDisplayName":"PuTTY","backgroundColor":"black"}
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
O[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
y{"displayText":"PuTTY","activationUri":"ms-shellactivity:","appDisplayName":"PuTTY","backgroundColor":"black"}
Owindows_win32simontatham.putty`
simontatham.puttywindows_win32W
O[{"application":"SimonTatham.PuTTY","platform":"windows_win32"},{"application":"SimonTatham.PuTTY","platform":"packageId"},{"application":"","platform":"alternateId"}]27lJNUcGmqDZFUAdiMEhfzQD+Z9DmXDVu6jFoIvTCvU=ECB32AF3-1440-4086-94E3-5311F97F89C4
y{"displayText":"PuTTY","activationUri":"ms-shellactivity:","appDisplayName":"PuTTY","backgroundColor":"black"}
packageidsimontatham.putty`
windows_win32simontatham.putty`
Owindows_win32simontatham.putty`
simontatham.puttypackageid
simontatham.puttywindows_win32
simontatham.puttywindows_win32W
  "inline_editor/FontEditor.js | sToggleInputType": {
").join(" ").toUpperCase()},u=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t[n]=o(e[n]);return t},S=function(s,o,u){s=h(s);var a=u.calendar,f=r(a,o),l=(new RegExp(f.regExp)).exec(s);if(l===null)return null;var p=f.groups,d=null,v=null,m=null,g=null,y=null,b=0,w,E=0,S=0,x=0,T=null,N=!1;for(var C=0,k=p.length;C<k;C++){var L=l[C+1];if(L){var A=p[C],O=A.length,M=parseInt(L,10);switch(A){case"dd":case"d":g=M;if(i(g,1,31))return null;break;case"MMM":case"MMMM":m=n(a,L,O===3);if(i(m,0,11))return null;break;case"M":case"MM":m=M-1;if(i(m,0,11))return null;break;case"y":case"yy":case"yyyy":v=O<4?e(a,M):M;if(i(v,0,9999))return null;break;case"h":case"hh":b=M,b===12&&(b=0);if(i(b,0,11))return null;break;case"H":case"HH":b=M;if(i(b,0,23))return null;break;case"m":case"mm":E=M;if(i(E,0,59))return null;break;case"s":case"ss":S=M;if(i(S,0,59))return null;break;case"tt":case"t":N=a.PM&&(L===a.PM[0]||L===a.PM[1]||L===a.PM[2]);if(!N&&(!a.AM||L!==a.AM[0]&&L!==a.AM[1]&&L!==a.AM[2]))return null;break;case"f":case"ff":case"fff":x=M*Math.pow(10,3-O);if(i(x,0,999))return null;break;case"ddd":case"dddd":y=t(a,L,O===3);if(i(y,0,6))return null;break;case"zzz":var _=L.split(/:/);if(_.length!==2)return null;w=parseInt(_[0],10);if(i(w,-12,13))return null;var D=parseInt(_[1],10);if(i(D,0,59))return null;T=w*60+(c(L,"-")?-D:D);break;case"z":case"zz":w=M;if(i(w,-12,13))return null;T=w*60;break;case"g":case"gg":var P=L;if(!P||!a.eras)return null;P=h(P.toLowerCase());for(var H=0,B=a.eras.length;H<B;H++)if(P===a.eras[H].name.toLowerCase()){d=H;break}if(d===null)return null}}}var j=new Date,F,I=a.convert;F=I?I.fromGregorian(j)[0]:j.getFullYear(),v===null?v=F:a.eras&&(v+=a.eras[d||0].offset),m===null&&(m=0),g===null&&(g=1);if(I){j=I.toGregorian(v,m,g);if(j===null)return null}else{j.setFullYear(v,m,g);if(j.getDate()!==g)return null;if(y!==null&&j.getDay()!==y)return null}N&&b<12&&(b+=12),j.setHours(b,E,S,x);if(T!==null){var q=j.getMinutes()-(T+j.getTimezoneOffset());j.setHours(j.getHours()+parseInt(q/60,10),q%60)}return j}}(),x=function(e,t,n){var r=t["-"],i=t["+"],s;switch(n){case"n -":r=" "+r,i=" "+i;case"n-":o(e,r)?s=["-",e.substr(0,e.length-r.length)]:o(e,i)&&(s=["+",e.substr(0,e.length-i.length)]);break;case"- n":r+=" ",i+=" ";case"-n":c(e,r)?s=["-",e.substr(r.length)]:c(e,i)&&(s=["+",e.substr(i.length)]);break;case"(n)":c(e,"(")&&o(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]},e.prototype.findClosestCulture=function(t){return e.findClosestCulture.call(this,t)},e.prototype.format=function(t,n,r){return e.format.call(this,t,n,r)},e.prototype.localize=function(t,n){return e.localize.call(this,t,n)},e.prototype.parseInt=function(t,n,r){return e.parseInt.call(this,t,n,r)},e.prototype.parseFloat=function(t,n,r){return e.parseFloat.call(this,t,n,r)},e.prototype.culture=function(t){return e.culture.call(this,t)},e.addCultureInfo=function(e,t,n){var r={},i=!1;typeof e!="string"?(n=e,e=this.culture().name,r=this.cultures[e]):typeof t!="string"?(n=t,i=this.cultures[e]==null,r=this.cultures[e]||this.cultures["default"]):(i=!0,r=this.cultures[t]),this.cultures[e]=u(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},e.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];typeof e=="string"&&(e=e.split(","));if(a(e)){var n,r=this.cultures,i=e,s,o=i.length,u=[];for(s=0;s<o;s++){e=h(i[s]);var f,l=e.split(";");n=h(l[0]),l.length===1?f=1:(e=h(l[1]),e.indexOf("q=")===0?(e=e.substr(2),f=parseFloat(e),f=isNaN(f)?0:f):f=1),u.push({lang:n,pri:f})}u.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0});for(s=0;s<o;s++){n=u[s].lang,t=r[n];if(t)return t}for(s=0;s<o;s++){n=u[s].lang;do{var c=n.lastIndexOf("-");if(c===-1)break;n=n.substr(0,c),t=r[n];if(t)return t}while(1)}for(s=0;s<o;s++){n=u[s].lang;for(var p in r){var d=r[p];if(d.language===n)return d}}}else if(typeof e=="object")return e;return t||null},e.format=function(e,t,n){var r=this.findClosestCulture(n);return e instanceof Date?e=g(e,t,r):typeof e=="number"&&(e=y(e,t,r)),e},e.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},e.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,s;if(t){typeof t=="string"&&(t=[t]);if(t.length)for(var o=0,u=t.length;o<u;o++){var a=t[o];if(a){r=S(e,a,n);if(r)break}}}else{s=n.calendar.patterns;for(i in s){r=S(e,s[i],n);if(r)break}}return r||null},e.parseInt=function(t,n,r){return p(e.parseFloat(t,n,r))},e.parseFloat=function(e,i,s){typeof i!="number"&&(s=i,i=10);var o=this.findClosestCulture(s),u=NaN,a=o.numberFormat;e.indexOf(o.numberFormat.currency.symbol)>-1&&(e=e.replace(o.numberFormat.currency.symbol,""),e=e.replace(o.numberFormat.currency["."],o.numberFormat["."])),e.indexOf(o.numberFormat.percent.symbol)>-1&&(e=e.replace(o.numberFormat.percent.symbol,"")),e=e.replace(/ /g,"");if(n.test(e))u=parseFloat(e);else if(!i&&t.test(e))u=parseInt(e,16);else{var f=x(e,a,a.pattern[0]),l=f[0],c=f[1];l===""&&a.pattern[0]!=="(n)"&&(f=x(e,a,"(n)"),l=f[0],c=f[1]),l===""&&a.pattern[0]!=="-n"&&(f=x(e,a,"-n"),l=f[0],c=f[1]),l=l||"+";var h,p,d=c.indexOf("e");d<0&&(d=c.indexOf("E")),d<0?(p=c,h=null):(p=c.substr(0,d),h=c.substr(d+1));var v,m,g=a["."],y=p.indexOf(g);y<0?(v=p,m=null):(v=p.substr(0,y),m=p.substr(y+g.length));var b=a[","];v=v.split(b).join("");var w=b.replace(/\u00A0/g," ");b!==w&&(v=v.split(w).join(""));var E=l+v;m!==null&&(E+="."+m);if(h!==null){var S=x(h,a,"-n");E+="e"+(S[0]||"+")+S[1]}r.test(E)&&(u=parseFloat(E))}return u},e.culture=function(e){return typeof e!="undefined"&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures["default"]},window.Globalize=e}),function(e,t){typeof define=="function"&&define.amd?define("handlebars.runtime",[],t):typeof exports=="object"?module.exports=t():e.Handlebars=e.Handlebars||t()}(this,function(){var e=function(){"use strict";function t(e){this.string=e}var e;return t.prototype.toString=function(){return""+this.string},e=t,e}(),t=function(e){"use strict";function o(e){return r[e]}function u(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function c(e){return e instanceof n?e.toString():e==null?"":e?(e=""+e,s.test(e)?e.replace(i,o):e):e+""}function h(e){return!e&&e!==0?!0:l(e)&&e.length===0?!0:!1}function p(e,t){return(e?e+".":"")+t}var t={},n=e,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,s=/[&<>"'`]/;t.extend=u;var a=Object.prototype.toString;t.toString=a;var f=function(e){return typeof e=="function"};f(/x/)&&(f=function(e){return typeof e=="function"&&a.call(e)==="[object Function]"});var f;t.isFunction=f;var l=Array.isArray||function(e){return e&&typeof e=="object"?a.call(e)==="[object Array]":!1};return t.isArray=l,t.escapeExpression=c,t.isEmpty=h,t.appendContextPath=p,t}(e),n=function(){"use strict";function n(e,n){var r;n&&n.firstLine&&(r=n.firstLine,e+=" - "+r+":"+n.firstColumn);var i=Error.prototype.constructor.call(this,e);for(var s=0;s<t.length;s++)this[t[s]]=i[t[s]];r&&(this.lineNumber=r,this.column=n.firstColumn)}var e,t=["description","fileName","lineNumber","message","name","number","stack"];return n.prototype=new Error,e=n,e}(),r=function(e,t){"use strict";function h(e,t){this.helpers=e||{},this.partials=t||{},p(this)}function p(e){e.registerHelper("helperMissing",function(){if(arguments.length===1)return undefined;throw new i("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,s=n.fn;if(t===!0)return s(this);if(t===!1||t==null)return i(this);if(a(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var o=m(n.data);o.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:o}}return s(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new i("Must pass iterator to #each");var n=t.fn,s=t.inverse,o=0,u="",l,c;t.data&&t.ids&&(c=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),f(e)&&(e=e.call(this)),t.data&&(l=m(t.data));if(e&&typeof e=="object")if(a(e))for(var h=e.length;o<h;o++)l&&(l.index=o,l.first=o===0,l.last=o===e.length-1,c&&(l.contextPath=c+o)),u+=n(e[o],{data:l});else for(var p in e)e.hasOwnProperty(p)&&(l&&(l.key=p,l.index=o,l.first=o===0,c&&(l.contextPath=c+p)),u+=n(e[p],{data:l}),o++);return o===0&&(u=s(this)),u}),e.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){f(e)&&(e=e.call(this));var n=t.fn;if(!r.isEmpty(e)){if(t.data&&t.ids){var i=m(t.data);i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}return t.inverse(this)}),e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var n={},r=e,i=t,s="2.0.0";n.VERSION=s;var o=6;n.COMPILER_REVISION=o;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=u;var a=r.isArray,f=r.isFunction,l=r.toString,c="[object Object]";n.HandlebarsEnvironment=h,h.prototype={constructor:h,logger:d,log:v,registerHelper:function(e,t){if(l.call(e)===c){if(t)throw new i("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){l.call(e)===c?r.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];typeof console!="undefined"&&console[n]&&console[n].call(console,t)}}};n.logger=d;var v=d.log;n.log=v;var m=function(e){var t=r.extend({},e);return t._parent=e,t};return n.createFrame=m,n}(t,n),i=function(e,t,n){"use strict";function f(e){var t=e&&e[0]||1,n=o;if(t!==n){if(t<n){var r=u[n],i=u[t];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function l(e,t){if(!t)throw new s("No environment passed to template");if(!e||!e.main)throw new s("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,r,o,u,a,f,l,c,h){a&&(u=i.extend({},u,a));var p=t.VM.invokePartial.call(this,n,o,u,f,l,c,h);if(p==null&&t.compile){var d={helpers:f,partials:l,data:c,depths:h};l[o]=t.compile(n,{data:c!==undefined,compat:e.compat},t),p=l[o](u,d)}if(p!=null){if(r){var v=p.split("\n");for(var m=0,g=v.length;m<g;m++){if(!v[m]&&m+1===g)break;v[m]=r+v[m]}p=v.join("\n")}return p}throw new s("The partial "+o+" could not be compiled when running in runtime-only mode")},r={lookup:function(e,t){var n=e.length;for(var r=0;r<n;r++)if(e[r]&&e[r][t]!=null)return e[r][t]},lambda:function(e,t){return typeof e=="function"?e.call(t):e},escapeExpression:i.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var r=this.programs[e],i=this.fn(e);return t||n?r=c(this,e,i,t,n):r||(r=this.programs[e]=c(this,e,i)),r},data:function(e,t){while(e&&t--)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=i.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},o=function(t,n){n=n||{};var i=n.data;o._setup(n),!n.partial&&e.useData&&(i=d(t,i));var s;return e.useDepths&&(s=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,i,s)};return o.isTop=!0,o._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},o._child=function(t,n,i){if(e.useDepths&&!i)throw new s("must pass parent depths");return c(r,t,e[t],n,i)},o}function c(e,t,n,r,i){var s=function(t,s){return s=s||{},n.call(e,t,e.helpers,e.partials,s.data||r,i&&[t].concat(i))};return s.program=t,s.depth=i?i.length:0,s}function h(e,t,n,r,i,o,u){var a={partial:!0,helpers:r,partials:i,data:o,depths:u};if(e===undefined)throw new s("The partial "+t+" could not be found");if(e instanceof Function)return e(n,a)}function p(){return""}function d(e,t){if(!t||!("root"in t))t=t?a(t):{},t.root=e;return t}var r={},i=e,s=t,o=n.COMPILER_REVISION,u=n.REVISION_CHANGES,a=n.createFrame;return r.checkRevision=f,r.template=l,r.program=c,r.invokePartial=h,r.noop=p,r}(t,n,r),s=function(e,t,n,r,i){"use strict";var s,o=e,u=t,a=n,f=r,l=i,c=function(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u,e.Exception=a,e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e},h=c();return h.create=c,h["default"]=h,s=h,s}(r,e,n,t,i);return s}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=[].slice,i=function(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0},s=function(e){return e.jquery||e.length&&e[0]&&e[0].nodeType&&e[0].style&&!e.nodeType},o=i.prototype=n.to({},.1,{}),u=[];i.version="1.9.8",o.constructor=i,o.kill()._gc=!1,i.killTweensOf=i.killDelayedCallsTo=n.killTweensOf,i.getTweensOf=n.getTweensOf,i.ticker=n.ticker,o.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},o.updateTo=function(e,t){var r=this.ratio,i;t&&this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(i in e)this.vars[i]=e[i];if(this._initted)if(t)this._initted=!1;else{this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this);if(this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._time>0){this._initted=!1,this._init();var o=1/(1-r),u=this._firstPT,a;while(u)a=u.s+u.c,u.c*=o,u.s=a-u.c,u=u._next}}return this},o.render=function(e,t,n){var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,s=this._totalTime,o=this._cycle,a,f,l,c,h,p,d;if(e>=r)this._totalTime=r,this._cycle=this._repeat,this._yoyo&&(this._cycle&1)!==0?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(a=!0,f="onComplete"),this._duration===0&&((e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(n=!0,this._rawPrevTime>0&&(f="onReverseComplete",t&&(e=-1))),this._rawPrevTime=e);else if(e<1e-7){this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(s!==0||this._duration===0&&this._rawPrevTime>0)f="onReverseComplete",a=this._reversed;e<0?(this._active=!1,this._duration===0&&(this._rawPrevTime>=0&&(n=!0),this._rawPrevTime=e)):this._initted||(n=!0)}else{this._totalTime=this._time=e,this._repeat!==0&&(c=this._duration+this._repeatDelay,this._cycle=this._totalTime/c>>0,this._cycle!==0&&this._cycle===this._totalTime/c&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&(this._cycle&1)!==0&&(this._time=this._duration-this._time),this._time>this._duration?this._time=this._duration:this._time<0&&(this._time=0));if(this._easeType){h=this._time/this._duration,p=this._easeType,d=this._easePower;if(p===1||p===3&&h>=.5)h=1-h;p===3&&(h*=2),d===1?h*=h:d===2?h*=h*h:d===3?h*=h*h*h:d===4&&(h*=h*h*h*h),p===1?this.ratio=1-h:p===2?this.ratio=h:this._time/this._duration<.5?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(this._time/this._duration)}if(i===this._time&&!n){s!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u));return}if(!this._initted){this._init();if(!this._initted)return;this._time&&!a?this.ratio=this._ease.getRatio(this._time/this._duration):a&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}this._active||this._paused||(this._active=!0),s===0&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):f||(f="_dummyGS")),this.vars.onStart&&(this._totalTime!==0||this._duration===0)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u))),l=this._firstPT;while(l)l.f?l.t[l.p](l.c*this.ratio+l.s):l.t[l.p]=l.c*this.ratio+l.s,l=l._next;this._onUpdate&&(e<0&&this._startAt&&this._startAt.render(e,t,n),t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)),this._cycle!==o&&(t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||u)),f&&(this._gc||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,n),a&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[f]&&this.vars[f].apply(this.vars[f+"Scope"]||this,this.vars[f+"Params"]||u)))},i.to=function(e,t,n){return new i(e,t,n)},i.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=n.immediateRender!=0,new i(e,t,n)},i.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0,new i(e,t,r)},i.staggerTo=i.allTo=function(e,t,o,a,f,l,c){a=a||0;var h=o.delay||0,p=[],d=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,o.onCompleteParams||u),f.apply(c||this,l||u)},v,m,g,y;e instanceof Array||(typeof e=="string"&&(e=n.selector(e)||e),s(e)&&(e=r.call(e,0))),v=e.length;for(g=0;g<v;g++){m={};for(y in o)m[y]=o[y];m.delay=h,g===v-1&&f&&(m.onComplete=d),p[g]=new i(e[g],t,m),h+=a}return p},i.staggerFrom=i.allFrom=function(e,t,n,r,s,o,u){return n.runBackwards=!0,n.immediateRender=n.immediateRender!=0,i.staggerTo(e,t,n,r,s,o,u)},i.staggerFromTo=i.allFromTo=function(e,t,n,r,s,o,u,a){return r.startAt=n,r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0,i.staggerTo(e,t,r,s,o,u,a)},i.delayedCall=function(e,t,n,r,s){return new i(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:s,overwrite:0})},i.set=function(e,t){return new i(e,0,t)},i.isTweening=function(e){var t=n.getTweensOf(e),r=t.length,i;while(--r>-1){i=t[r];if(i._active||i._startTime===i._timeline._time&&i._timeline._active)return!0}return!1};var a=function(e,t){var r=[],i=0,s=e._first;while(s)s instanceof n?r[i++]=s:(t&&(r[i++]=s),r=r.concat(a(s,t)),i=r.length),s=s._next;return r},f=i.getAllTweens=function(t){return a(e._rootTimeline,t).concat(a(e._rootFramesTimeline,t))};i.killAll=function(e,n,r,i){n==null&&(n=!0),r==null&&(r=!0);var s=f(i!=0),o=s.length,u=n&&r&&i,a,l,c;for(c=0;c<o;c++){l=s[c];if(u||l instanceof t||(a=l.target===l.vars.onComplete)&&r||n&&!a)e?l.totalTime(l.totalDuration()):l._enabled(!1,!1)}},i.killChildTweensOf=function(e,t){if(e==null)return;var o=n._tweenLookup,u,a,f,l,c;typeof e=="string"&&(e=n.selector(e)||e),s(e)&&(e=r(e,0));if(e instanceof Array){l=e.length;while(--l>-1)i.killChildTweensOf(e[l],t);return}u=[];for(f in o){a=o[f].target.parentNode;while(a)a===e&&(u=u.concat(o[f].tweens)),a=a.parentNode}c=u.length;for(l=0;l<c;l++)t&&u[l].totalTime(u[l].totalDuration()),u[l]._enabled(!1,!1)};var l=function(e,n,r,i){n===undefined&&(n=!0),r===undefined&&(r=!0);var s=f(i),o=n&&r&&i,u=s.length,a,l;while(--u>-1)l=s[u],(o||l instanceof t||(a=l.target===l.vars.onComplete)&&r||n&&!a)&&l.paused(e)};return i.pauseAll=function(e,t,n){l(!0,e,t,n)},i.resumeAll=function(e,t,n){l(!1,e,t,n)},o.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&(this._cycle&1)!==0?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},o.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},o.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&(this._cycle&1)!==0?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):this._repeat!==0&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},o.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},o.totalDuration=function(e){return arguments.length?this._repeat===-1?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},o.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},o.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},o.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},i},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n=this.vars,r=i.length,s,o;while(--r>-1){o=n[i[r]];if(o){s=o.length;while(--s>-1)o[s]==="{self}"&&(o=n[i[r]]=o.concat(),o[s]=this)}}n.tweens instanceof Array&&this.add(n.tweens,0,n.align,n.stagger)},i=["onStartParams","onUpdateParams","onCompleteParams","onReverseCompleteParams","onRepeatParams"],s=[],o=function(e){var t={},n;for(n in e)t[n]=e[n];return t},u=s.slice,a=r.prototype=new t;return r.version="1.9.8",a.constructor=r,a.kill()._gc=!1,a.to=function(e,t,r,i){return t?this.add(new n(e,t,r),i):this.set(e,r,i)},a.from=function(e,t,r,i){return this.add(n.from(e,t,r),i)},a.fromTo=function(e,t,r,i,s){return t?this.add(n.fromTo(e,t,r,i),s):this.set(e,i,s)},a.staggerTo=function(e,t,i,s,a,f,l,c){var h=new r({onComplete:f,onCompleteParams:l,onCompleteScope:c}),p;typeof e=="string"&&(e=n.selector(e)||e),!(e instanceof Array)&&e.length&&e[0]&&e[0].nodeType&&e[0].style&&(e=u.call(e,0)),s=s||0;for(p=0;p<e.length;p++)i.startAt&&(i.startAt=o(i.startAt)),h.to(e[p],t,o(i),p*s);return this.add(h,a)},a.staggerFrom=function(e,t,n,r,i,s,o,u){return n.immediateRender=n.immediateRender!=0,n.runBackwards=!0,this.staggerTo(e,t,n,r,i,s,o,u)},a.staggerFromTo=function(e,t,n,r,i,s,o,u,a){return r.startAt=n,r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0,this.staggerTo(e,t,r,i,s,o,u,a)},a.call=function(e,t,r,i){return this.add(n.delayedCall(0,e,t,r),i)},a.set=function(e,t,r){return r=this._parseTimeOrLabel(r,0,!0),t.immediateRender==null&&(t.immediateRender=r===this._time&&!this._paused),this.add(new n(e,0,t),r)},r.exportRoot=function(e,t){e=e||{},e.smoothChildTiming==null&&(e.smoothChildTiming=!0);var i=new r(e),s=i._timeline,o,u;t==null&&(t=!0),s._remove(i,!0),i._startTime=0,i._rawPrevTime=i._time=i._totalTime=s._time,o=s._first;while(o)u=o._next,(!t||!(o instanceof n&&o.target===o.vars.onComplete))&&i.add(o,o._startTime-o._delay),o=u;return s.add(i,0),i},a.add=function(i,s,o,u){var a,f,l,c,h;typeof s!="number"&&(s=this._parseTimeOrLabel(s,0,!0,i));if(!(i instanceof e)){if(i instanceof Array){o=o||"normal",u=u||0,a=s,f=i.length;for(l=0;l<f;l++)(c=i[l])instanceof Array&&(c=new r({tweens:c})),this.add(c,a),typeof c!="string"&&typeof c!="function"&&(o==="sequence"?a=c._startTime+c.totalDuration()/c._timeScale:o==="start"&&(c._startTime-=c.delay())),a+=u;return this._uncache(!0)}if(typeof i=="string")return this.addLabel(i,s);if(typeof i!="function")throw"Cannot add "+i+" into the timeline; it is neither a tween, timeline, function, nor a string.";i=n.delayedCall(0,i)}t.prototype.add.call(this,i,s);if(this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration()){h=this;while(h._gc&&h._timeline)h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._enabled(!0,!1),h=h._timeline}return this},a.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array){var n=t.length;while(--n>-1)this.remove(t[n]);return this}return typeof t=="string"?this.removeLabel(t):this.kill(null,t)},a._remove=function(e,n){return t.prototype._remove.call(this,e,n),this._last?this._time>this._last._startTime&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},a.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},a.insert=a.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},a.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},a.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},a.removeLabel=function(e){return delete this._labels[e],this},a.getLabelTime=function(e){return this._labels[e]!=null?this._labels[e]:-1},a._parseTimeOrLabel=function(t,n,r,i){var s;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i instanceof Array){s=i.length;while(--s>-1)i[s]instanceof e&&i[s].timeline===this&&this.remove(i[s])}if(typeof n=="string")return this._parseTimeOrLabel(n,r&&typeof t=="number"&&this._labels[n]==null?t-this.duration():0,r);n=n||0;if(typeof t!="string"||!isNaN(t)&&this._labels[t]==null)t==null&&(t=this.duration());else{s=t.indexOf("=");if(s===-1)return this._labels[t]==null?r?this._labels[t]=this.duration()+n:n:this._labels[t]+n;n=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,r):this.duration()}return Number(t)+n},a.seek=function(e,t){return this.totalTime(typeof e=="number"?e:this._parseTimeOrLabel(e),t!==!1)},a.stop=function(){return this.paused(!0)},a.gotoAndPlay=function(e,t){return this.play(e,t)},a.gotoAndStop=function(e,t){return this.pause(e,t)},a.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,o=this._startTime,u=this._timeScale,a=this._paused,f,l,c,h,p;if(e>=r)this._totalTime=this._time=r,this._reversed||this._hasPausedChild()||(l=!0,h="onComplete",this._duration===0&&(e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&this._first&&(p=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=e,e=r+1e-6;else if(e<1e-7){this._totalTime=this._time=0;if(i!==0||this._duration===0&&this._rawPrevTime>0)h="onReverseComplete",l=this._reversed;e<0?(this._active=!1,this._duration===0&&this._rawPrevTime>=0&&this._first&&(p=!0)):this._initted||(p=!0),this._rawPrevTime=e,e=0}else this._totalTime=this._time=this._rawPrevTime=e;if((this._time===i||!this._first)&&!n&&!p)return;this._initted||(this._initted=!0),i===0&&this.vars.onStart&&this._time!==0&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s));if(this._time>=i){f=this._first;while(f){c=f._next;if(this._paused&&!a)break;if(f._active||f._startTime<=this._time&&!f._paused&&!f._gc)f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(e-f._startTime)*f._timeScale,t,n):f.render((e-f._startTime)*f._timeScale,t,n);f=c}}else{f=this._last;while(f){c=f._prev;if(this._paused&&!a)break;if(f._active||f._startTime<=i&&!f._paused&&!f._gc)f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(e-f._startTime)*f._timeScale,t,n):f.render((e-f._startTime)*f._timeScale,t,n);f=c}}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),h&&!this._gc&&(o===this._startTime||u!==this._timeScale)&&(this._time===0||r>=this.totalDuration())&&(l&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||s))},a._hasPausedChild=function(){var e=this._first;while(e){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},a.getChildren=function(e,t,r,i){i=i||-9999999999;var s=[],o=this._first,u=0;while(o)o._startTime<i||(o instanceof n?t!==!1&&(s[u++]=o):(r!==!1&&(s[u++]=o),e!==!1&&(s=s.concat(o.getChildren(!0,t,r)),u=s.length))),o=o._next;return s},a.getTweensOf=function(e,t){var r=n.getTweensOf(e),i=r.length,s=[],o=0;while(--i>-1)if(r[i].timeline===this||t&&this._contains(r[i]))s[o++]=r[i];return s},a._contains=function(e){var t=e.timeline;while(t){if(t===this)return!0;t=t.timeline}return!1},a.shiftChildren=function(e,t,n){n=n||0;var r=this._first,i=this._labels,s;while(r)r._startTime>=n&&(r._startTime+=e),r=r._next;if(t)for(s in i)i[s]>=n&&(i[s]+=e);return this._uncache(!0)},a._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,i=!1;while(--r>-1)n[r]._kill(e,t)&&(i=!0);return i},a.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;this._time=this._totalTime=0;while(--n>-1)t[n]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},a.invalidate=function(){var e=this._first;while(e)e.invalidate(),e=e._next;return this},a._enabled=function(e,n){if(e===this._gc){var r=this._first;while(r)r._enabled(e,!0),r=r._next}return t.prototype._enabled.call(this,e,n)},a.progress=function(e){return arguments.length?this.totalTime(this.duration()*e,!1):this._time/this.duration()},a.duration=function(e){return arguments.length?(this.duration()!==0&&e!==0&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},a.totalDuration=function(e){if(!arguments.length){if(this._dirty){var t=0,n=this._last,r=999999999999,i,s;while(n)i=n._prev,n._dirty&&n.totalDuration(),n._startTime>r&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):r=n._startTime,n._startTime<0&&!n._paused&&(t-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),r=0),s=n._startTime+n._totalDuration/n._timeScale,s>t&&(t=s),n=i;this._duration=this._totalDuration=t,this._dirty=!1}return this._totalDuration}return this.totalDuration()!==0&&e!==0&&this.timeScale(this._totalDuration/e),this},a.usesFrames=function(){var t=this._timeline;while(t._timeline)t=t._timeline;return t===e._rootFramesTimeline},a.rawTime=function(){return this._paused||this._totalTime!==0&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},i=[],s=new n(null,null,1,0),o=function(e){while(e){if(e._paused)return!0;e=e._timeline}return!1},u=r.prototype=new e;return u.constructor=r,u.kill()._gc=!1,r.version="1.9.8",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},u.addCallback=function(e,n,r,i){return this.add(t.delayedCall(0,e,r,i),n)},u.removeCallback=function(e,t){if(e)if(t==null)this._kill(null,e);else{var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t);while(--r>-1)n[r]._startTime===i&&n[r]._enabled(!1,!1)}return this},u.tweenTo=function(e,n){n=n||{};var r={ease:s,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1},o,u;for(o in n)r[o]=n[o];return r.time=this._parseTimeOrLabel(e),u=new t(this,Math.abs(Number(r.time)-this._time)/this._timeScale||.001,r),r.onStart=function(){u.target.paused(!0),u.vars.time!==u.target.time()&&u.duration(Math.abs(u.vars.time-u.target.time())/u.target._timeScale),n.onStart&&n.onStart.apply(n.onStartScope||u,n.onStartParams||i)},u},u.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],onCompleteScope:this},n.immediateRender=n.immediateRender!==!1;var r=this.tweenTo(t,n);return r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},u.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,s=this._duration,o=this._time,u=this._totalTime,a=this._startTime,f=this._timeScale,l=this._rawPrevTime,c=this._paused,h=this._cycle,p,d,v,m,g,y;if(e>=r)this._locked||(this._totalTime=r,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(d=!0,m="onComplete",s===0&&(e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&this._first&&(g=!0,this._rawPrevTime>0&&(m="onReverseComplete"))),this._rawPrevTime=e,this._yoyo&&(this._cycle&1)!==0?this._time=e=0:(this._time=s,e=s+1e-6);else if(e<1e-7){this._locked||(this._totalTime=this._cycle=0),this._time=0;if(o!==0||s===0&&this._rawPrevTime>0&&!this._locked)m="onReverseComplete",d=this._reversed;e<0?(this._active=!1,s===0&&this._rawPrevTime>=0&&this._first&&(g=!0)):this._initted||(g=!0),this._rawPrevTime=e,e=0}else this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,this._repeat!==0&&(y=s+this._repeatDelay,this._cycle=this._totalTime/y>>0,this._cycle!==0&&this._cycle===this._totalTime/y&&this._cycle--,this._time=this._totalTime-this._cycle*y,this._yoyo&&(this._cycle&1)!==0&&(this._time=s-this._time),this._time>s?(this._time=s,e=s+1e-6):this._time<0?this._time=e=0:e=this._time));if(this._cycle!==h&&!this._locked){var b=this._yoyo&&(h&1)!==0,w=b===(this._yoyo&&(this._cycle&1)!==0),E=this._totalTime,S=this._cycle,x=this._rawPrevTime,T=this._time;this._totalTime=h*s,this._cycle<h?b=!b:this._totalTime+=s,this._time=o,this._rawPrevTime=s===0?l-1e-5:l,this._cycle=h,this._locked=!0,o=b?0:s,this.render(o,t,s===0),t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||i),w&&(o=b?s+1e-6:-0.000001,this.render(o,!0,!1)),this._locked=!1;if(this._paused&&!c)return;this._time=T,this._totalTime=E,this._cycle=S,this._rawPrevTime=x}if((this._time===o||!this._first)&&!n&&!g){u!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i));return}this._initted||(this._initted=!0),u===0&&this.vars.onStart&&this._totalTime!==0&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||i));if(this._time>=o){p=this._first;while(p){v=p._next;if(this._paused&&!c)break;if(p._active||p._startTime<=this._time&&!p._paused&&!p._gc)p._reversed?p.render((p._dirty?p.totalDuration():p._totalDuration)-(e-p._startTime)*p._timeScale,t,n):p.render((e-p._startTime)*p._timeScale,t,n);p=v}}else{p=this._last;while(p){v=p._prev;if(this._paused&&!c)break;if(p._active||p._startTime<=o&&!p._paused&&!p._gc)p._reversed?p.render((p._dirty?p.totalDuration():p._totalDuration)-(e-p._startTime)*p._timeScale,t,n):p.render((e-p._startTime)*p._timeScale,t,n);p=v}}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i)),m&&(this._locked||!this._gc&&(a===this._startTime||f!==this._timeScale)&&(this._time===0||r>=this.totalDuration())&&(d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[m]&&this.vars[m].apply(this.vars[m+"Scope"]||this,this.vars[m+"Params"]||i)))},u.getActive=function(e,t,n){e==null&&(e=!0),t==null&&(t=!0),n==null&&(n=!1);var r=[],i=this.getChildren(e,t,n),s=0,u=i.length,a,f;for(a=0;a<u;a++)f=i[a],f._paused||f._timeline._time>=f._startTime&&f._timeline._time<f._startTime+f._totalDuration/f._timeScale&&(o(f._timeline)||(r[s++]=f));return r},u.getLabelAfter=function(e){e||e!==0&&(e=this._time);var t=this.getLabelsArray(),n=t.length,r;for(r=0;r<n;r++)if(t[r].time>e)return t[r].name;return null},u.getLabelBefore=function(e){e==null&&(e=this._time);var t=this.getLabelsArray(),n=t.length;while(--n>-1)if(t[n].time<e)return t[n].name;return null},u.getLabelsArray=function(){var e=[],t=0,n;for(n in this._labels)e[t++]={time:this._labels[n],name:n};return e.sort(function(e,t){return e.time-t.time}),e},u.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&(this._cycle&1)!==0?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},u.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},u.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&(this._cycle&1)!==0?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):this._repeat!==0&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},u.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},u.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},u.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},u.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var e=180/Math.PI,t=Math.PI/180,n=[],r=[],i=[],s={},o=function(e,t,n,r){this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",a=function(e,t,n,r){var i={a:e},s={},o={},u={c:r},a=(e+t)/2,f=(t+n)/2,l=(n+r)/2,c=(a+f)/2,h=(f+l)/2,p=(h-c)/8;return i.b=a+(e-a)/4,s.b=c+p,i.c=s.a=(i.b+s.b)/2,s.c=o.a=(c+h)/2,o.b=h-p,u.b=l+(r-l)/4,o.c=u.a=(o.b+u.b)/2,[i,s,o,u]},f=function(e,t,s,o,u){var f=e.length-1,l=0,c=e[0].a,h,p,d,v,m,g,y,b,w,E,S,x,T;for(h=0;h<f;h++)m=e[l],p=m.a,d=m.d,v=e[l+1].d,u?(S=n[h],x=r[h],T=(x+S)*t*.25/(o?.5:i[h]||.5),g=d-(d-p)*(o?t*.5:S!==0?T/S:0),y=d+(v-d)*(o?t*.5:x!==0?T/x:0),b=d-(g+((y-g)*(S*3/(S+x)+.5)/4||0))):(g=d-(d-p)*t*.5,y=d+(v-d)*t*.5,b=d-(g+y)/2),g+=b,y+=b,m.c=w=g,h!==0?m.b=c:m.b=c=m.a+(m.c-m.a)*.6,m.da=d-p,m.ca=w-p,m.ba=c-p,s?(E=a(p,c,w,d),e.splice(l,1,E[0],E[1],E[2],E[3]),l+=4):l++,c=y;m=e[l],m.b=c,m.c=c+(m.d-c)*.4,m.da=m.d-m.a,m.ca=m.c-m.a,m.ba=c-m.a,s&&(E=a(m.a,c,m.c,m.d),e.splice(l,1,E[0],E[1],E[2],E[3]))},l=function(e,t,i,s){var u=[],a,f,l,c,h,p;if(s){e=[s].concat(e),f=e.length;while(--f>-1)typeof (p=e[f][t])=="string"&&p.charAt(1)==="="&&(e[f][t]=s[t]+Number(p.charAt(0)+p.substr(2)))}a=e.length-2;if(a<0)return u[0]=new o(e[0][t],0,0,e[a<-1?0:1][t]),u;for(f=0;f<a;f++)l=e[f][t],c=e[f+1][t],u[f]=new o(l,0,0,c),i&&(h=e[f+2][t],n[f]=(n[f]||0)+(c-l)*(c-l),r[f]=(r[f]||0)+(h-c)*(h-c));return u[f]=new o(e[f][t],0,0,e[f+1][t]),u},c=function(e,t,o,a,c,h){var p={},d=[],v=h||e[0],m,g,y,b,w,E,S,x;c=typeof c=="string"?","+c+",":u,t==null&&(t=1);for(g in e[0])d.push(g);if(e.length>1){x=e[e.length-1],S=!0,m=d.length;while(--m>-1){g=d[m];if(Math.abs(v[g]-x[g])>.05){S=!1;break}}S&&(e=e.concat(),h&&e.unshift(h),e.push(e[1]),h=e[e.length-3])}n.length=r.length=i.length=0,m=d.length;while(--m>-1)g=d[m],s[g]=c.indexOf(","+g+",")!==-1,p[g]=l(e,g,s[g],h);m=n.length;while(--m>-1)n[m]=Math.sqrt(n[m]),r[m]=Math.sqrt(r[m]);if(!a){m=d.length;while(--m>-1)if(s[g]){y=p[d[m]],E=y.length-1;for(b=0;b<E;b++)w=y[b+1].da/r[b]+y[b].da/n[b],i[b]=(i[b]||0)+w*w}m=i.length;while(--m>-1)i[m]=Math.sqrt(i[m])}m=d.length,b=o?4:1;while(--m>-1)g=d[m],y=p[g],f(y,t,o,a,s[g]),S&&(y.splice(0,b),y.splice(y.length-b,b));return p},h=function(e,t,n){t=t||"soft";var r={},i=t==="cubic"?3:2,s=t==="soft",u=[],a,f,l,c,h,p,d,v,m,g,y;s&&n&&(e=[n].concat(e));if(e==null||e.length<i+1)throw"invalid Bezier data";for(m in e[0])u.push(m);p=u.length;while(--p>-1){m=u[p],r[m]=h=[],g=0,v=e.length;for(d=0;d<v;d++)a=n==null?e[d][m]:typeof (y=e[d][m])=="string"&&y.charAt(1)==="="?n[m]+Number(y.charAt(0)+y.substr(2)):Number(y),s&&d>1&&d<v-1&&(h[g++]=(a+h[g-2])/2),h[g++]=a;v=g-i+1,g=0;for(d=0;d<v;d+=i)a=h[d],f=h[d+1],l=h[d+2],c=i===2?0:h[d+3],h[g++]=y=i===3?new o(a,f,l,c):new o(a,(2*f+a)/3,(2*f+l)/3,l);h.length=g}return r},p=function(e,t,n){var r=1/n,i=e.length,s,o,u,a,f,l,c,h,p,d,v;while(--i>-1){d=e[i],u=d.a,a=d.d-u,f=d.c-u,l=d.b-u,s=o=0;for(h=1;h<=n;h++)c=r*h,p=1-c,s=o-(o=(c*c*a+3*p*(c*f+p*l))*c),v=i*n+h-1,t[v]=(t[v]||0)+s*s}},d=function(e,t){t=t>>0||6;var n=[],r=[],i=0,s=0,o=t-1,u=[],a=[],f,l,c,h;for(f in e)p(e[f],n,t);c=n.length;for(l=0;l<c;l++)i+=Math.sqrt(n[l]),h=l%t,a[h]=i,h===o&&(s+=i,h=l/t>>0,u[h]=a,r[h]=s,i=0,a=[]);return{length:s,lengths:r,segments:u}},v=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=t.timeResolution==null?6:parseInt(t.timeResolution,10);var r=t.values||[],i={},s=r[0],o=t.autoRotate||n.vars.orientToBezier,u,a,f,l,p;this._autoRotate=o?o instanceof Array?o:[["x","y","rotation",o===!0?0:Number(o)||0]]:null;for(u in s)this._props.push(u);f=this._props.length;while(--f>-1)u=this._props[f],this._overwriteProps.push(u),a=this._func[u]=typeof e[u]=="function",i[u]=a?e[u.indexOf("set")||typeof e["get"+u.substr(3)]!="function"?u:"get"+u.substr(3)]():parseFloat(e[u]),p||i[u]!==r[0][u]&&(p=i);this._beziers=t.type!=="cubic"&&t.type!=="quadratic"&&t.type!=="soft"?c(r,isNaN(t.curviness)?1:t.curviness,!1,t.type==="thruBasic",t.correlate,p):h(r,t.type,i),this._segCount=this._beziers[u].length;if(this._timeRes){var v=d(this._beziers,this._timeRes);this._length=v.length,this._lengths=v.lengths,this._segments=v.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(o=this._autoRotate){o[0]instanceof Array||(this._autoRotate=o=[o]),f=o.length;while(--f>-1)for(l=0;l<3;l++)u=o[f][l],this._func[u]=typeof e[u]=="function"?e[u.indexOf("set")||typeof e["get"+u.substr(3)]!="function"?u:"get"+u.substr(3)]:!1}return!0},set:function(t){var n=this._segCount,r=this._func,i=this._target,s,o,u,a,f,l,c,h,p,d;if(!this._timeRes)s=t<0?0:t>=1?n-1:n*t>>0,l=(t-s*(1/n))*n;else{p=this._lengths,d=this._curSeg,t*=this._length,u=this._li;if(t>this._l2&&u<n-1){h=n-1;while(u<h&&(this._l2=p[++u])<=t);this._l1=p[u-1],this._li=u,this._curSeg=d=this._segments[u],this._s2=d[this._s1=this._si=0]}else if(t<this._l1&&u>0){while(u>0&&(this._l1=p[--u])>=t);u===0&&t<this._l1?this._l1=0:u++,this._l2=p[u],this._li=u,this._curSeg=d=this._segments[u],this._s1=d[(this._si=d.length-1)-1]||0,this._s2=d[this._si]}s=u,t-=this._l1,u=this._si;if(t>this._s2&&u<d.length-1){h=d.length-1;while(u<h&&(this._s2=d[++u])<=t);this._s1=d[u-1],this._si=u}else if(t<this._s1&&u>0){while(u>0&&(this._s1=d[--u])>=t);u===0&&t<this._s1?this._s1=0:u++,this._s2=d[u],this._si=u}l=(u+(t-this._s1)/(this._s2-this._s1))*this._prec}o=1-l,u=this._props.length;while(--u>-1)a=this._props[u],f=this._beziers[a][s],c=(l*l*f.da+3*o*(l*f.ca+o*f.ba))*l+f.a,this._round[a]&&(c=c+(c>0?.5:-0.5)>>0),r[a]?i[a](c):i[a]=c;if(this._autoRotate){var v=this._autoRotate,m,g,y,b,w,E,S;u=v.length;while(--u>-1)a=v[u][2],E=v[u][3]||0,S=v[u][4]===!0?1:e,f=this._beziers[v[u][0]],m=this._beziers[v[u][1]],f&&m&&(f=f[s],m=m[s],g=f.a+(f.b-f.a)*l,b=f.b+(f.c-f.b)*l,g+=(b-g)*l,b+=(f.c+(f.d-f.c)*l-b)*l,y=m.a+(m.b-m.a)*l,w=m.b+(m.c-m.b)*l,y+=(w-y)*l,w+=(m.c+(m.d-m.c)*l-w)*l,c=Math.atan2(w-y,b-g)*S+E,r[a]?i[a](c):i[a]=c)}}}),m=v.prototype;v.bezierThrough=c,v.cubicToQuadratic=a,v._autoCSS=!0,v.quadraticToCubic=function(e,t,n){return new o(e,(2*t+e)/3,(2*t+n)/3,n)},v._cssRegister=function(){var e=window._gsDefine.globals.CSSPlugin;if(!e)return;var n=e._internals,r=n._parseToProxy,i=n._setPluginRatio,s=n.CSSPropTween;n._registerComplexSpecialProp("bezier",{parser:function(e,n,o,u,a,f){n instanceof Array&&(n={values:n}),f=new v;var l=n.values,c=l.length-1,h=[],p={},d,m,g;if(c<0)return a;for(d=0;d<=c;d++)g=r(e,l[d],u,a,f,c!==d),h[d]=g.end;for(m in n)p[m]=n[m];return p.values=h,a=new s(e,"bezier",0,0,g.pt,2),a.data=g,a.plugin=f,a.setRatio=i,p.autoRotate===0&&(p.autoRotate=!0),p.autoRotate&&!(p.autoRotate instanceof Array)&&(d=p.autoRotate===!0?0:Number(p.autoRotate)*t,p.autoRotate=g.end.left!=null?[["left","top","rotation",d,!0]]:g.end.x!=null?[["x","y","rotation",d,!0]]:!1),p.autoRotate&&(u._transform||u._enableTransforms(!1),g.autoRotate=u._target._gsTransform),f._onInitTween(g.proxy,p,u._tween),a}})},m._roundProps=function(e,t){var n=this._overwriteProps,r=n.length;while(--r>-1)if(e[n[r]]||e.bezier||e.bezierThrough)this._round[n[r]]=t},m._kill=function(e){var t=this._props,n,r;for(n in this._beziers)if(n in e){delete this._beziers[n],delete this._func[n],r=t.length;while(--r>-1)t[r]===n&&t.splice(r,1)}return this._super._kill.call(this,e)}}(),window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n=function(){e.call(this,"css"),this._overwriteProps.length=0},r,i,s,o,u={},a=n.prototype=new e("css");a.constructor=n,n.version="1.9.8",n.API=2,n.defaultTransformPerspective=0,a="px",n.suffixMap={top:a,right:a,bottom:a,left:a,width:a,height:a,fontSize:a,padding:a,margin:a,perspective:a};var f=/(?:\d|\-\d|\.\d|\-\.\d)+/g,l=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,c=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,h=/[^\d\-\.]/g,p=/(?:\d|\-|\+|=|#|\.)*/g,d=/opacity *= *([^)]*)/,v=/opacity:([^;]*)/,m=/alpha\(opacity *=.+?\)/i,g=/^(rgb|hsl)/,y=/([A-Z])/g,b=/-([a-z])/gi,w=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,E=function(e,t){return t.toUpperCase()},S=/(?:Left|Right|Width)/i,x=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,T=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,N=/,(?=[^\)]*(?:\(|$))/gi,C=Math.PI/180,k=180/Math.PI,L={},A=document,O=A.createElement("div"),M=A.createElement("img"),_=n._internals={_specialProps:u},D=navigator.userAgent,P,H,B,j,F,I,q=function(){var e=D.indexOf("Android"),t=A.createElement("div"),n;return B=D.indexOf("Safari")!==-1&&D.indexOf("Chrome")===-1&&(e===-1||Number(D.substr(e+8,1))>3),F=B&&Number(D.substr(D.indexOf("Version/")+8,1))<6,j=D.indexOf("Firefox")!==-1,/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(D),I=parseFloat(RegExp.$1),t.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",n=t.getElementsByTagName("a")[0],n?/^0.55/.test(n.style.opacity):!1}(),R=function(e){return d.test(typeof e=="string"?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},U=function(e){window.console&&console.log(e)},z="",W="",X=function(e,t){t=t||O;var n=t.style,r,i;if(n[e]!==undefined)return e;e=e.charAt(0).toUpperCase()+e.substr(1),r=["O","Moz","ms","Ms","Webkit"],i=5;while(--i>-1&&n[r[i]+e]===undefined);return i>=0?(W=i===3?"ms":r[i],z="-"+W.toLowerCase()+"-",W+e):null},V=A.defaultView?A.defaultView.getComputedStyle:function(){},$=n.getStyle=function(e,t,n,r,i){var s;return!q&&t==="opacity"?R(e):(!r&&e.style[t]?s=e.style[t]:(n=n||V(e,null))?(e=n.getPropertyValue(t.replace(y,"-$1").toLowerCase()),s=e||n.length?e:n[t]):e.currentStyle&&(n=e.currentStyle,s=n[t]),i==null||!!s&&s!=="none"&&s!=="auto"&&s!=="auto auto"?s:i)},J=function(e,t,n,r,i){if(r==="px"||!r)return n;if(r==="auto"||!n)return 0;var s=S.test(t),o=e,u=O.style,a=n<0,f;return a&&(n=-n),r==="%"&&t.indexOf("border")!==-1?f=n/100*(s?e.clientWidth:e.clientHeight):(u.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;",r==="%"||!o.appendChild?(o=e.parentNode||A.body,u[s?"width":"height"]=n+r):u[s?"borderLeftWidth":"borderTopWidth"]=n+r,o.appendChild(O),f=parseFloat(O[s?"offsetWidth":"offsetHeight"]),o.removeChild(O),f===0&&!i&&(f=J(e,t,n,r,!0))),a?-f:f},K=function(e,t,n){if($(e,"position",n)!=="absolute")return 0;var r=t==="left"?"Left":"Top",i=$(e,"margin"+r,n);return e["offset"+r]-(J(e,t,parseFloat(i),i.replace(p,""))||0)},Q=function(e,t){var n={},r,i;if(t=t||V(e,null))if(r=t.length)while(--r>-1)n[t[r].replace(b,E)]=t.getPropertyValue(t[r]);else for(r in t)n[r]=t[r];else if(t=e.currentStyle||e.style)for(r in t)n[r.replace(b,E)]=t[r];return q||(n.opacity=R(e)),i=Nt(e,t,!1),n.rotation=i.rotation*k,n.skewX=i.skewX*k,n.scaleX=i.scaleX,n.scaleY=i.scaleY,n.x=i.x,n.y=i.y,Tt&&(n.z=i.z,n.rotationX=i.rotationX*k,n.rotationY=i.rotationY*k,n.scaleZ=i.scaleZ),n.filters&&delete n.filters,n},G=function(e,t,n,r,i){var s={},o=e.style,u,a,f;for(a in n)a!=="cssText"&&a!=="length"&&isNaN(a)&&(t[a]!==(u=n[a])||i&&i[a])&&a.indexOf("Origin")===-1&&(typeof u=="number"||typeof u=="string")&&(s[a]=u!=="auto"||a!=="left"&&a!=="top"?u!==""&&u!=="auto"&&u!=="none"||typeof t[a]!="string"||t[a].replace(h,"")===""?u:0:K(e,a),o[a]!==undefined&&(f=new ht(o,a,o[a],f)));if(r)for(a in r)a!=="className"&&(s[a]=r[a]);return{difs:s,firstMPT:f}},Y={width:["Left","Right"],height:["Top","Bottom"]},Z=["marginLeft","marginRight","marginTop","marginBottom"],et=function(e,t,n){var r=parseFloat(t==="width"?e.offsetWidth:e.offsetHeight),i=Y[t],s=i.length;n=n||V(e,null);while(--s>-1)r-=parseFloat($(e,"padding"+i[s],n,!0))||0,r-=parseFloat($(e,"border"+i[s]+"Width",n,!0))||0;return r},tt=function(e,t){if(e==null||e===""||e==="auto"||e==="auto auto")e="0 0";var n=e.split(" "),r=e.indexOf("left")!==-1?"0%":e.indexOf("right")!==-1?"100%":n[0],i=e.indexOf("top")!==-1?"0%":e.indexOf("bottom")!==-1?"100%":n[1];i==null?i="0":i==="center"&&(i="50%");if(r==="center"||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)r="50%";return t&&(t.oxp=r.indexOf("%")!==-1,t.oyp=i.indexOf("%")!==-1,t.oxr=r.charAt(1)==="=",t.oyr=i.charAt(1)==="=",t.ox=parseFloat(r.replace(h,"")),t.oy=parseFloat(i.replace(h,""))),r+" "+i+(n.length>2?" "+n[2]:"")},nt=function(e,t){return typeof e=="string"&&e.charAt(1)==="="?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},rt=function(e,t){return e==null?t:typeof e=="string"&&e.charAt(1)==="="?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)},it=function(e,t,n,r){var i=1e-6,s,o,u,a;return e==null?a=t:typeof e=="number"?a=e*C:(s=Math.PI*2,o=e.split("_"),u=Number(o[0].replace(h,""))*(e.indexOf("rad")===-1?C:1)-(e.charAt(1)==="="?0:t),o.length&&(r&&(r[n]=t+u),e.indexOf("short")!==-1&&(u%=s,u!==u%(s/2)&&(u=u<0?u+s:u-s)),e.indexOf("_cw")!==-1&&u<0?u=(u+s*9999999999)%s-(u/s|0)*s:e.indexOf("ccw")!==-1&&u>0&&(u=(u-s*9999999999)%s-(u/s|0)*s)),a=t+u),a<i&&a>-i&&(a=0),a},st={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ot=function(e,t,n){return e=e<0?e+1:e>1?e-1:e,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*255+.5|0},ut=function(e){var t,n,r,i,s,o;return!e||e===""?st.black:typeof e=="number"?[e>>16,e>>8&255,e&255]:(e.charAt(e.length-1)===","&&(e=e.substr(0,e.length-1)),st[e]?st[e]:e.charAt(0)==="#"?(e.length===4&&(t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),e="#"+t+t+n+n+r+r),e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):e.substr(0,3)==="hsl"?(e=e.match(f),i=Number(e[0])%360/360,s=Number(e[1])/100,o=Number(e[2])/100,n=o<=.5?o*(s+1):o+s-o*s,t=o*2-n,e.length>3&&(e[3]=Number(e[3])),e[0]=ot(i+1/3,t,n),e[1]=ot(i,t,n),e[2]=ot(i-1/3,t,n),e):(e=e.match(f)||st.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e))},at="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(a in st)at+="|"+a+"\\b";at=new RegExp(at+")","gi");var ft=function(e,t,n,r){if(e==null)return function(e){return e};var i=t?(e.match(at)||[""])[0]:"",s=e.split(i).join("").match(c)||[],o=e.substr(0,e.indexOf(s[0])),u=e.charAt(e.length-1)===")"?")":"",a=e.indexOf(" ")!==-1?" ":",",l=s.length,h=l>0?s[0].replace(f,""):"",p;return l?t?(p=function(e){var t,f,d,v;if(typeof e=="number")e+=h;else if(r&&N.test(e)){v=e.replace(N,"|").split("|");for(d=0;d<v.length;d++)v[d]=p(v[d]);return v.join(",")}t=(e.match(at)||[i])[0],f=e.split(t).join("").match(c)||[],d=f.length;if(l>d--)while(++d<l)f[d]=n?f[(d-1)/2|0]:s[d];return o+f.join(a)+a+t+u+(e.indexOf("inset")!==-1?" inset":"")},p):(p=function(e){var t,i,f;if(typeof e=="number")e+=h;else if(r&&N.test(e)){i=e.replace(N,"|").split("|");for(f=0;f<i.length;f++)i[f]=p(i[f]);return i.join(",")}t=e.match(c)||[],f=t.length;if(l>f--)while(++f<l)t[f]=n?t[(f-1)/2|0]:s[f];return o+t.join(a)+u},p):function(e){return e}},lt=function(e){return e=e.split(","),function(t,n,r,i,s,o,u){var a=(n+"").split(" "),f;u={};for(f=0;f<4;f++)u[e[f]]=a[f]=a[f]||a[(f-1)/2>>0];return i.parse(t,u,s,o)}},ct=_._setPluginRatio=function(e){this.plugin.setRatio(e);var t=this.data,n=t.proxy,r=t.firstMPT,i=1e-6,s,o,u,a;while(r)s=n[r.v],r.r?s=s>0?s+.5|0:s-.5|0:s<i&&s>-i&&(s=0),r.t[r.p]=s,r=r._next;t.autoRotate&&(t.autoRotate.rotation=n.rotation);if(e===1){r=t.firstMPT;while(r){o=r.t;if(!o.type)o.e=o.s+o.xs0;else if(o.type===1){a=o.xs0+o.s+o.xs1;for(u=1;u<o.l;u++)a+=o["xn"+u]+o["xs"+(u+1)];o.e=a}r=r._next}}},ht=function(e,t,n,r,i){this.t=e,this.p=t,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)},pt=_._parseToProxy=function(e,t,n,r,i,s){var o=r,u={},a={},f=n._transform,l=L,c,h,p,d,v;n._transform=null,L=t,r=v=n.parse(e,t,r,i),L=l,s&&(n._transform=f,o&&(o._prev=null,o._prev&&(o._prev._next=null)));while(r&&r!==o){if(r.type<=1){h=r.p,a[h]=r.s+r.c,u[h]=r.s,s||(d=new ht(r,"s",h,d,r.r),r.c=0);if(r.type===1){c=r.l;while(--c>0)p="xn"+c,h=r.p+"_"+p,a[h]=r.data[p],u[h]=r[p],s||(d=new ht(r,p,h,d,r.rxp[p]))}}r=r._next}return{proxy:u,end:a,firstMPT:d,pt:v}},dt=_.CSSPropTween=function(e,t,n,i,s,u,a,f,l,c,h){this.t=e,this.p=t,this.s=n,this.c=i,this.n=a||t,e instanceof dt||o.push(this.n),this.r=f,this.type=u||0,l&&(this.pr=l,r=!0),this.b=c===undefined?n:c,this.e=h===undefined?n+i:h,s&&(this._next=s,s._prev=this)},vt=n.parseComplex=function(e,t,n,r,i,s,o,u,a,c){n=n||s||"",o=new dt(e,t,0,0,o,c?2:1,null,!1,u,n,r),r+="";var h=n.split(", ").join(",").split(" "),p=r.split(", ").join(",").split(" "),d=h.length,v=P!==!1,m,y,b,w,E,S,x,T,C,k,L,A;if(r.indexOf(",")!==-1||n.indexOf(",")!==-1)h=h.join(" ").replace(N,", ").split(" "),p=p.join(" ").replace(N,", ").split(" "),d=h.length;d!==p.length&&(h=(s||"").split(" "),d=h.length),o.plugin=a,o.setRatio=c;for(m=0;m<d;m++){w=h[m],E=p[m],T=parseFloat(w);if(T||T===0)o.appendXtra("",T,nt(E,T),E.replace(l,""),v&&E.indexOf("px")!==-1,!0);else if(i&&(w.charAt(0)==="#"||st[w]||g.test(w)))A=E.charAt(E.length-1)===","?"),":")",w=ut(w),E=ut(E),C=w.length+E.length>6,C&&!q&&E[3]===0?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(p[m]).join("transparent")):(q||(C=!1),o.appendXtra(C?"rgba(":"rgb(",w[0],E[0]-w[0],",",!0,!0).appendXtra("",w[1],E[1]-w[1],",",!0).appendXtra("",w[2],E[2]-w[2],C?",":A,!0),C&&(w=w.length<4?1:w[3],o.appendXtra("",w,(E.length<4?1:E[3])-w,A,!1)));else{S=w.match(f);if(!S)o["xs"+o.l]+=o.l?" "+w:w;else{x=E.match(l);if(!x||x.length!==S.length)return o;b=0;for(y=0;y<S.length;y++)L=S[y],k=w.indexOf(L,b),o.appendXtra(w.substr(b,k-b),Number(L),nt(x[y],L),"",v&&w.substr(k+L.length,2)==="px",y===0),b=k+L.length;o["xs"+o.l]+=w.substr(b)}}}if(r.indexOf("=")!==-1&&o.data){A=o.xs0+o.data.s;for(m=1;m<o.l;m++)A+=o["xs"+m]+o.data["xn"+m];o.e=A+o["xs"+m]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},mt=9;a=dt.prototype,a.l=a.pr=0;while(--mt>0)a["xn"+mt]=0,a["xs"+mt]="";a.xs0="",a._next=a._prev=a.xfirst=a.data=a.plugin=a.setRatio=a.rxp=null,a.appendXtra=function(e,t,n,r,i,s){var o=this,u=o.l;return o["xs"+u]+=s&&u?" "+e:e||"",!n&&u!==0&&!o.plugin?(o["xs"+u]+=t+(r||""),o):(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=r||"",u>0?(o.data["xn"+u]=t+n,o.rxp["xn"+u]=i,o["xn"+u]=t,o.plugin||(o.xfirst=new dt(o,"xn"+u,t,n,o.xfirst||o,0,o.n,i,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+n},o.rxp={},o.s=t,o.c=n,o.r=i,o))};var gt=function(e,t){t=t||{},this.p=t.prefix?X(e)||e:e,u[e]=u[this.p]=this,this.format=t.formatter||ft(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},yt=_._registerComplexSpecialProp=function(e,t,n){typeof t!="object"&&(t={parser:n});var r=e.split(","),i=t.defaultValue,s,o;n=n||[i];for(s=0;s<r.length;s++)t.prefix=s===0&&t.prefix,t.defaultValue=n[s]||i,o=new gt(r[s],t)},bt=function(e){if(!u[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";yt(e,{parser:function(e,n,r,i,s,o,a){var f=(window.GreenSockGlobals||window).com.greensock.plugins[t];return f?(f._cssRegister(),u[r].parse(e,n,r,i,s,o,a)):(U("Error: "+t+" js file not loaded."),s)}})}};a=gt.prototype,a.parseComplex=function(e,t,n,r,i,s){var o=this.keyword,u,a,f,l,c,h;this.multi&&(N.test(n)||N.test(t)?(a=t.replace(N,"|").split("|"),f=n.replace(N,"|").split("|")):o&&(a=[t],f=[n]));if(f){l=f.length>a.length?f.length:a.length;for(u=0;u<l;u++)t=a[u]=a[u]||this.dflt,n=f[u]=f[u]||this.dflt,o&&(c=t.indexOf(o),h=n.indexOf(o),c!==h&&(n=h===-1?f:a,n[u]+=" "+o));t=a.join(", "),n=f.join(", ")}return vt(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,s)},a.parse=function(e,t,n,r,i,o,u){return this.parseComplex(e.style,this.format($(e,this.p,s,!1,this.dflt)),this.format(t),i,o)},n.registerSpecialProp=function(e,t,n){yt(e,{parser:function(e,r,i,s,o,u,a){var f=new dt(e,i,0,0,o,2,i,!1,n);return f.plugin=u,f.setRatio=t(e,r,s._tween,i),f},priority:n})};var wt="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),Et=X("transform"),St=z+"transform",xt=X("transformOrigin"),Tt=X("perspective")!==null,Nt=function(e,t,r,i){if(e._gsTransform&&r&&!i)return e._gsTransform;var s=r?e._gsTransform||{skewY:0}:{skewY:0},o=s.scaleX<0,u=2e-5,a=1e5,f=-Math.PI+1e-4,l=Math.PI-1e-4,c=Tt?parseFloat($(e,xt,t,!1,"0 0 0").split(" ")[2])||s.zOrigin||0:0,h,p,d,v,m,g,y,b,w,E,S,T,N;Et?h=$(e,St,t,!0):e.currentStyle&&(h=e.currentStyle.filter.match(x),h=h&&h.length===4?[h[0].substr(4),Number(h[2].substr(4)),Number(h[1].substr(4)),h[3].substr(4),s.x||0,s.y||0].join(","):""),p=(h||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],d=p.length;while(--d>-1)v=Number(p[d]),p[d]=(m=v-(v|=0))?(m*a+(m<0?-0.5:.5)|0)/a+v:v;if(p.length===16){var C=p[8],k=p[9],L=p[10],A=p[12],O=p[13],M=p[14];s.zOrigin&&(M=-s.zOrigin,A=C*M-p[12],O=k*M-p[13],M=L*M+s.zOrigin-p[14]);if(!r||i||s.rotationX==null){var _=p[0],D=p[1],P=p[2],H=p[3],B=p[4],j=p[5],F=p[6],I=p[7],q=p[11],R=s.rotationX=Math.atan2(F,L),U=R<f||R>l,z,W,X,V,J,K,Q;R&&(V=Math.cos(-R),J=Math.sin(-R),z=B*V+C*J,W=j*V+k*J,X=F*V+L*J,C=B*-J+C*V,k=j*-J+k*V,L=F*-J+L*V,q=I*-J+q*V,B=z,j=W,F=X),R=s.rotationY=Math.atan2(C,_),R&&(K=R<f||R>l,V=Math.cos(-R),J=Math.sin(-R),z=_*V-C*J,W=D*V-k*J,X=P*V-L*J,k=D*J+k*V,L=P*J+L*V,q=H*J+q*V,_=z,D=W,P=X),R=s.rotation=Math.atan2(D,j),R&&(Q=R<f||R>l,V=Math.cos(-R),J=Math.sin(-R),_=_*V+B*J,W=D*V+j*J,j=D*-J+j*V,F=P*-J+F*V,D=W),Q&&U?s.rotation=s.rotationX=0:Q&&K?s.rotation=s.rotationY=0:K&&U&&(s.rotationY=s.rotationX=0),s.scaleX=(Math.sqrt(_*_+D*D)*a+.5|0)/a,s.scaleY=(Math.sqrt(j*j+k*k)*a+.5|0)/a,s.scaleZ=(Math.sqrt(F*F+L*L)*a+.5|0)/a,s.skewX=0,s.perspective=q?1/(q<0?-q:q):0,s.x=A,s.y=O,s.z=M}}else if((!Tt||i||!p.length||s.x!==p[4]||s.y!==p[5]||!s.rotationX&&!s.rotationY)&&(s.x===undefined||$(e,"display",t)!=="none")){var G=p.length>=6,Y=G?p[0]:1,Z=p[1]||0,et=p[2]||0,tt=G?p[3]:1;s.x=p[4]||0,s.y=p[5]||0,g=Math.sqrt(Y*Y+Z*Z),y=Math.sqrt(tt*tt+et*et),b=Y||Z?Math.atan2(Z,Y):s.rotation||0,w=et||tt?Math.atan2(et,tt)+b:s.skewX||0,E=g-Math.abs(s.scaleX||0),S=y-Math.abs(s.scaleY||0),Math.abs(w)>Math.PI/2&&Math.abs(w)<Math.PI*1.5&&(o?(g*=-1,w+=b<=0?Math.PI:-Math.PI,b+=b<=0?Math.PI:-Math.PI):(y*=-1,w+=w<=0?Math.PI:-Math.PI)),T=(b-s.rotation)%Math.PI,N=(w-s.skewX)%Math.PI;if(s.skewX===undefined||E>u||E<-u||S>u||S<-u||T>f&&T<l&&T*a|!1||N>f&&N<l&&N*a|!1)s.scaleX=g,s.scaleY=y,s.rotation=b,s.skewX=w;Tt&&(s.rotationX=s.rotationY=s.z=0,s.perspective=parseFloat(n.defaultTransformPerspective)||0,s.scaleZ=1)}s.zOrigin=c;for(d in s)s[d]<u&&s[d]>-u&&(s[d]=0);return r&&(e._gsTransform=s),s},Ct=function(e){var t=this.data,n=-t.rotation,r=n+t.skewX,i=1e5,s=(Math.cos(n)*t.scaleX*i|0)/i,o=(Math.sin(n)*t.scaleX*i|0)/i,u=(Math.sin(r)*-t.scaleY*i|0)/i,a=(Math.cos(r)*t.scaleY*i|0)/i,f=this.t.style,l=this.t.currentStyle,c,h;if(!l)return;h=o,o=-u,u=-h,c=l.filter,f.filter="";var v=this.t.offsetWidth,m=this.t.offsetHeight,g=l.position!=="absolute",y="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+o+", M21="+u+", M22="+a,b=t.x,w=t.y,E,S;t.ox!=null&&(E=(t.oxp?v*t.ox*.01:t.ox)-v/2,S=(t.oyp?m*t.oy*.01:t.oy)-m/2,b+=E-(E*s+S*o),w+=S-(E*u+S*a));if(!g){var x=I<8?1:-1,N,C,k;E=t.ieOffsetX||0,S=t.ieOffsetY||0,t.ieOffsetX=Math.round((v-((s<0?-s:s)*v+(o<0?-o:o)*m))/2+b),t.ieOffsetY=Math.round((m-((a<0?-a:a)*m+(u<0?-u:u)*v))/2+w);for(mt=0;mt<4;mt++)C=Z[mt],N=l[C],h=N.indexOf("px")!==-1?parseFloat(N):J(this.t,C,parseFloat(N),N.replace(p,""))||0,h!==t[C]?k=mt<2?-t.ieOffsetX:-t.ieOffsetY:k=mt<2?E-t.ieOffsetX:S-t.ieOffsetY,f[C]=(t[C]=Math.round(h-k*(mt===0||mt===2?1:x)))+"px";y+=", sizingMethod='auto expand')"}else E=v/2,S=m/2,y+=", Dx="+(E-(E*s+S*o)+b)+", Dy="+(S-(E*u+S*a)+w)+")";c.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?f.filter=c.replace(T,y):f.filter=y+" "+c,(e===0||e===1)&&s===1&&o===0&&u===0&&a===1&&(!g||y.indexOf("Dx=0, Dy=0")!==-1)&&(!d.test(c)||parseFloat(RegExp.$1)===100)&&c.indexOf("gradient(")===-1&&f.removeAttribute("filter")},kt=function(e){var t=this.data,n=this.t.style,r=t.perspective,i=t.scaleX,s=0,o=0,u=0,a=0,f=t.scaleY,l=0,c=0,h=0,p=0,d=t.scaleZ,v=0,m=0,g=0,y=r?-1/r:0,b=t.rotation,w=t.zOrigin,E=1e5,S,x,T,N,C,k,L,A,O;j&&(L=n.top?"top":n.bottom?"bottom":parseFloat($(this.t,"top",null,!1))?"bottom":"top",T=$(this.t,L,null,!1),A=parseFloat(T)||0,O=T.substr((A+"").length)||"px",t._ffFix=!t._ffFix,n[L]=(t._ffFix?A+.05:A-.05)+O);if(b||t.skewX)T=i*Math.cos(b),N=f*Math.sin(b),b-=t.skewX,s=i*-Math.sin(b),f*=Math.cos(b),i=T,a=N;else if(!t.rotationY&&!t.rotationX&&d===1){n[Et]="translate3d("+t.x+"px,"+t.y+"px,"+t.z+"px)"+(i!==1||f!==1?" scale("+i+","+f+")":"");return}b=t.rotationY,b&&(S=Math.cos(b),x=Math.sin(b),T=i*S,N=a*S,C=d*-x,k=y*-x,o=i*x,l=a*x,d*=S,y*=S,i=T,a=N,h=C,m=k),b=t.rotationX,b&&(S=Math.cos(b),x=Math.sin(b),T=s*S+o*x,N=f*S+l*x,C=p*S+d*x,k=g*S+y*x,o=s*-x+o*S,l=f*-x+l*S,d=p*-x+d*S,y=g*-x+y*S,s=T,f=N,p=C,g=k),w&&(v-=w,u=o*v,c=l*v,v=d*v+w),u=(T=(u+=t.x)-(u|=0))?(T*E+(T<0?-0.5:.5)|0)/E+u:u,c=(T=(c+=t.y)-(c|=0))?(T*E+(T<0?-0.5:.5)|0)/E+c:c,v=(T=(v+=t.z)-(v|=0))?(T*E+(T<0?-0.5:.5)|0)/E+v:v,n[Et]="matrix3d("+[(i*E|0)/E,(a*E|0)/E,(h*E|0)/E,(m*E|0)/E,(s*E|0)/E,(f*E|0)/E,(p*E|0)/E,(g*E|0)/E,(o*E|0)/E,(l*E|0)/E,(d*E|0)/E,(y*E|0)/E,u,c,v,r?1+ -v/r:1].join(",")+")"},Lt=function(e){var t=this.data,n=this.t,r=n.style,i,s,o,u,a,f,l,c,h;j&&(i=r.top?"top":r.bottom?"bottom":parseFloat($(n,"top",null,!1))?"bottom":"top",s=$(n,i,null,!1),o=parseFloat(s)||0,u=s.substr((o+"").length)||"px",t._ffFix=!t._ffFix,r[i]=(t._ffFix?o+.05:o-.05)+u),!t.rotation&&!t.skewX?r[Et]="matrix("+t.scaleX+",0,0,"+t.scaleY+","+t.x+","+t.y+")":(a=t.rotation,f=a-t.skewX,l=1e5,c=t.scaleX*l,h=t.scaleY*l,r[Et]="matrix("+(Math.cos(a)*c|0)/l+","+(Math.sin(a)*c|0)/l+","+(Math.sin(f)*-h|0)/l+","+(Math.cos(f)*h|0)/l+","+t.x+","+t.y+")")};yt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform",{parser:function(e,t,n,r,i,o,u){if(r._transform)return i;var a=r._transform=Nt(e,s,!0,u.parseTransform),f=e.style,l=1e-6,c=wt.length,h=u,p={},d,v,m,g,y,b,w;if(typeof h.transform=="string"&&Et)m=f.cssText,f[Et]=h.transform,f.display="block",d=Nt(e,null,!1),f.cssText=m;else if(typeof h=="object"){d={scaleX:rt(h.scaleX!=null?h.scaleX:h.scale,a.scaleX),scaleY:rt(h.scaleY!=null?h.scaleY:h.scale,a.scaleY),scaleZ:rt(h.scaleZ!=null?h.scaleZ:h.scale,a.scaleZ),x:rt(h.x,a.x),y:rt(h.y,a.y),z:rt(h.z,a.z),perspective:rt(h.transformPerspective,a.perspective)},w=h.directionalRotation;if(w!=null)if(typeof w=="object")for(m in w)h[m]=w[m];else h.rotation=w;d.rotation=it("rotation"in h?h.rotation:"shortRotation"in h?h.shortRotation+"_short":"rotationZ"in h?h.rotationZ:a.rotation*k,a.rotation,"rotation",p),Tt&&(d.rotationX=it("rotationX"in h?h.rotationX:"shortRotationX"in h?h.shortRotationX+"_short":a.rotationX*k||0,a.rotationX,"rotationX",p),d.rotationY=it("rotationY"in h?h.rotationY:"shortRotationY"in h?h.shortRotationY+"_short":a.rotationY*k||0,a.rotationY,"rotationY",p)),d.skewX=h.skewX==null?a.skewX:it(h.skewX,a.skewX),d.skewY=h.skewY==null?a.skewY:it(h.skewY,a.skewY);if(v=d.skewY-a.skewY)d.skewX+=v,d.rotation+=v}y=a.z||a.rotationX||a.rotationY||d.z||d.rotationX||d.rotationY||d.perspective,!y&&h.scale!=null&&(d.scaleZ=1);while(--c>-1){n=wt[c],g=d[n]-a[n];if(g>l||g<-l||L[n]!=null)b=!0,i=new dt(a,n,a[n],g,i),n in p&&(i.e=p[n]),i.xs0=0,i.plugin=o,r._overwriteProps.push(i.n)}g=h.transformOrigin;if(g||Tt&&y&&a.zOrigin)Et?(b=!0,g=(g||$(e,n,s,!1,"50% 50%"))+"",n=xt,i=new dt(f,n,0,0,i,-1,"transformOrigin"),i.b=f[n],i.plugin=o,Tt?(m=a.zOrigin,g=g.split(" "),a.zOrigin=(g.length>2?parseFloat(g[2]):m)||0,i.xs0=i.e=f[n]=g[0]+" "+(g[1]||"50%")+" 0px",i=new dt(a,"zOrigin",0,0,i,-1,i.n),i.b=m,i.xs0=i.e=a.zOrigin):i.xs0=i.e=f[n]=g):tt(g+"",a);return b&&(r._transformType=y||this._transformType===3?3:2),i},prefix:!0}),yt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),yt("borderRadius",{defaultValue:"0px",parser:function(e,t,n,r,o,u){t=this.format(t);var a=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],f=e.style,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;y=parseFloat(e.offsetWidth),b=parseFloat(e.offsetHeight),l=t.split(" ");for(c=0;c<a.length;c++)this.p.indexOf("border")&&(a[c]=X(a[c])),d=p=$(e,a[c],s,!1,"0px"),d.indexOf(" ")!==-1&&(p=d.split(" "),d=p[0],p=p[1]),v=h=l[c],m=parseFloat(d),E=d.substr((m+"").length),S=v.charAt(1)==="=",S?(g=parseInt(v.charAt(0)+"1",10),v=v.substr(2),g*=parseFloat(v),w=v.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(v),w=v.substr((g+"").length)),w===""&&(w=i[n]||E),w!==E&&(x=J(e,"borderLeft",m,E),T=J(e,"borderTop",m,E),w==="%"?(d=x/y*100+"%",p=T/b*100+"%"):w==="em"?(N=J(e,"borderLeft",1,"em"),d=x/N+"em",p=T/N+"em"):(d=x+"px",p=T+"px"),S&&(v=parseFloat(d)+g+w,h=parseFloat(p)+g+w)),o=vt(f,a[c],d+" "+p,v+" "+h,!1,"0px",o);return o},prefix:!0,formatter:ft("0px 0px 0px 0px",!1,!0)}),yt("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,i,o){var u="background-position",a=s||V(e,null),f=this.format((a?I?a.getPropertyValue(u+"-x")+" "+a.getPropertyValue(u+"-y"):a.getPropertyValue(u):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),l=this.format(t),c,h,p,d,v,m;if(f.indexOf("%")!==-1!=(l.indexOf("%")!==-1)){m=$(e,"backgroundImage").replace(w,"");if(m&&m!=="none"){c=f.split(" "),h=l.split(" "),M.setAttribute("src",m),p=2;while(--p>-1)f=c[p],d=f.indexOf("%")!==-1,d!==(h[p].indexOf("%")!==-1)&&(v=p===0?e.offsetWidth-M.width:e.offsetHeight-M.height,c[p]=d?parseFloat(f)/100*v+"px":parseFloat(f)/v*100+"%");f=c.join(" ")}}return this.parseComplex(e.style,f,l,i,o)},formatter:tt}),yt("backgroundSize",{defaultValue:"0 0",formatter:tt}),yt("perspective",{defaultValue:"0px",prefix:!0}),yt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),yt("transformStyle",{prefix:!0}),yt("backfaceVisibility",{prefix:!0}),yt("margin",{parser:lt("marginTop,marginRight,marginBottom,marginLeft")}),yt("padding",{parser:lt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),yt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,i,o){var u,a,f;return I<9?(a=e.currentStyle,f=I<8?" ":",",u="rect("+a.clipTop+f+a.clipRight+f+a.clipBottom+f+a.clipLeft+")",t=this.format(t).split(",").join(f)):(u=this.format($(e,this.p,s,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,u,t,i,o)}}),yt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),yt("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}}),yt("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,i,o){return this.parseComplex(e.style,this.format($(e,"borderTopWidth",s,!1,"0px")+" "+$(e,"borderTopStyle",s,!1,"solid")+" "+$(e,"borderTopColor",s,!1,"#000")),this.format(t),i,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(at)||["#000"])[0]}}),yt("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i,s){var o=e.style,u="cssFloat"in o?"cssFloat":"styleFloat";return new dt(o,u,0,0,i,-1,n,!1,0,o[u],t)}});var At=function(e){var t=this.t,n=t.filter,r=this.s+this.c*e|0,i;r===100&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1?(t.removeAttribute("filter"),i=!$(this.data,"filter")):(t.filter=n.replace(m,""),i=!0)),i||(this.xn1&&(t.filter=n=n||"alpha(opacity=100)"),n.indexOf("opacity")===-1?t.filter+=" alpha(opacity="+r+")":t.filter=n.replace(d,"opacity="+r))};yt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,i,o){var u=parseFloat($(e,"opacity",s,!1,"1")),a=e.style,f;return t=parseFloat(t),n==="autoAlpha"&&(f=$(e,"visibility",s),u===1&&f==="hidden"&&t!==0&&(u=0),i=new dt(a,"visibility",0,0,i,-1,null,!1,0,u!==0?"visible":"hidden",t===0?"hidden":"visible"),i.xs0="visible",r._overwriteProps.push(i.n)),q?i=new dt(a,"opacity",u,t-u,i):(i=new dt(a,"opacity",u*100,(t-u)*100,i),i.xn1=n==="autoAlpha"?1:0,a.zoom=1,i.type=2,i.b="alpha(opacity="+i.s+")",i.e="alpha(opacity="+(i.s+i.c)+")",i.data=e,i.plugin=o,i.setRatio=At),i}});var Ot=function(e,t){t&&(e.removeProperty?e.removeProperty(t.replace(y,"-$1").toLowerCase()):e.removeAttribute(t))},Mt=function(e){this.t._gsClassPT=this;if(e===1||e===0){this.t.className=e===0?this.b:this.e;var t=this.data,n=this.t.style;while(t)t.v?n[t.p]=t.v:Ot(n,t.p),t=t._next;e===1&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};yt("className",{parser:function(e,t,n,i,o,u,a){var f=e.className,l=e.style.cssText,c,h,p,d,v;o=i._classNamePT=new dt(e,n,0,0,o,2),o.setRatio=Mt,o.pr=-11,r=!0,o.b=f,h=Q(e,s),p=e._gsClassPT;if(p){d={},v=p.data;while(v)d[v.p]=1,v=v._next;p.setRatio(1)}return e._gsClassPT=o,o.e=t.charAt(1)!=="="?t:f.replace(new RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+(t.charAt(0)==="+"?" "+t.substr(2):""),i._tween._duration&&(e.className=o.e,c=G(e,h,Q(e),a,d),e.className=f,o.data=c.firstMPT,e.style.cssText=l,o=o.xfirst=i.parse(e,c.difs,o,u)),o}});var _t=function(e){if(e===1||e===0)if(this.data._totalTime===this.data._totalDuration){var t=this.e==="all",n=this.t.style,r=t?n.cssText.split(";"):this.e.split(","),i=r.length,s=u.transform.parse,o;while(--i>-1)o=r[i],t&&(o=o.substr(0,o.indexOf(":")).split(" ").join("")),u[o]&&(o=u[o].parse===s?Et:u[o].p),Ot(n,o)}};yt("clearProps",{parser:function(e,t,n,i,s){return s=new dt(e,n,0,0,s,2),s.setRatio=_t,s.e=t,s.pr=-10,s.data=i._tween,r=!0,s}}),a="bezier,throwProps,physicsProps,physics2D".split(","),mt=a.length;while(mt--)bt(a[mt]);a=n.prototype,a._firstPT=null,a._onInitTween=function(e,t,u){if(!e.nodeType)return!1;this._target=e,this._tween=u,this._vars=t,P=t.autoRound,r=!1,i=t.suffixMap||n.suffixMap,s=V(e,""),o=this._overwriteProps;var a=e.style,f,l,c,h,p,d,m,g,y;if(H&&a.zIndex===""){f=$(e,"zIndex",s);if(f==="auto"||f==="")a.zIndex=0}typeof t=="string"&&(h=a.cssText,f=Q(e,s),a.cssText=h+";"+t,f=G(e,f,Q(e)).difs,!q&&v.test(t)&&(f.opacity=parseFloat(RegExp.$1)),t=f,a.cssText=h),this._firstPT=l=this.parse(e,t,null);if(this._transformType){y=this._transformType===3;if(!Et)a.zoom=1;else if(B){H=!0;if(a.zIndex===""){m=$(e,"zIndex",s);if(m==="auto"||m==="")a.zIndex=0}F&&(a.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(y?"visible":"hidden"))}c=l;while(c&&c._next)c=c._next;g=new dt(e,"transform",0,0,null,2),this._linkCSSP(g,null,c),g.setRatio=y&&Tt?kt:Et?Lt:Ct,g.data=this._transform||Nt(e,s,!0),o.pop()}if(r){while(l){d=l._next,c=h;while(c&&c.pr>l.pr)c=c._next;(l._prev=c?c._prev:p)?l._prev._next=l:h=l,(l._next=c)?c._prev=l:p=l,l=d}this._firstPT=h}return!0},a.parse=function(e,t,n,r){var o=e.style,a,f,l,c,h,d,v,m,y,b;for(a in t){d=t[a],f=u[a];if(f)n=f.parse(e,d,a,this,n,r,t);else{h=$(e,a,s)+"",y=typeof d=="string";if(a==="color"||a==="fill"||a==="stroke"||a.indexOf("Color")!==-1||y&&g.test(d))y||(d=ut(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),n=vt(o,a,h,d,!0,"transparent",n,0,r);else if(!y||d.indexOf(" ")===-1&&d.indexOf(",")===-1){l=parseFloat(h),v=l||l===0?h.substr((l+"").length):"";if(h===""||h==="auto")a==="width"||a==="height"?(l=et(e,a,s),v="px"):a==="left"||a==="top"?(l=K(e,a,s),v="px"):(l=a!=="opacity"?0:1,v="");b=y&&d.charAt(1)==="=",b?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),m=d.replace(p,"")):(c=parseFloat(d),m=y?d.substr((c+"").length)||"":""),m===""&&(m=i[a]||v),d=c||c===0?(b?c+l:c)+m:t[a],v!==m&&m!==""&&(c||c===0)&&(l||l===0)&&(l=J(e,a,l,v),m==="%"?(l/=J(e,a,100,"%")/100,l>100&&(l=100),t.strictUnits!==!0&&(h=l+"%")):m==="em"?l/=J(e,a,1,"em"):(c=J(e,a,c,m),m="px"),b&&(c||c===0)&&(d=c+l+m)),b&&(c+=l),!l&&l!==0||!c&&c!==0?o[a]===undefined||!d&&(d+""=="NaN"||d==null)?U("invalid "+a+" tween value: "+t[a]):(n=new dt(o,a,c||l||0,0,n,-1,a,!1,0,h,d),n.xs0=d!=="none"||a!=="display"&&a.indexOf("Style")===-1?d:h):(n=new dt(o,a,l,c-l,n,0,a,P!==!1&&(m==="px"||a==="zIndex"),0,h,d),n.xs0=m)}else n=vt(o,a,h,d,!0,null,n,0,r)}r&&n&&!n.plugin&&(n.plugin=r)}return n},a.setRatio=function(e){var t=this._firstPT,n=1e-6,r,i,s;if(e!==1||this._tween._time!==this._tween._duration&&this._tween._time!==0)if(e||this._tween._time!==this._tween._duration&&this._tween._time!==0||this._tween._rawPrevTime===-0.000001)while(t){r=t.c*e+t.s,t.r?r=r>0?r+.5|0:r-.5|0:r<n&&r>-n&&(r=0);if(!t.type)t.t[t.p]=r+t.xs0;else if(t.type===1){s=t.l;if(s===2)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2;else if(s===3)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3;else if(s===4)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4;else if(s===5)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4+t.xn4+t.xs5;else{i=t.xs0+r+t.xs1;for(s=1;s<t.l;s++)i+=t["xn"+s]+t["xs"+(s+1)];t.t[t.p]=i}}else t.type===-1?t.t[t.p]=t.xs0:t.setRatio&&t.setRatio(e);t=t._next}else while(t)t.type!==2?t.t[t.p]=t.b:t.setRatio(e),t=t._next;else while(t)t.type!==2?t.t[t.p]=t.e:t.setRatio(e),t=t._next},a._enableTransforms=function(e){this._transformType=e||this._transformType===3?3:2,this._transform=this._transform||Nt(this._target,s,!0)},a._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),n?n._next=e:!r&&this._firstPT===null&&(this._firstPT=e),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next),e._next=t,e._prev=n),e},a._kill=function(t){var n=t,r,i,s;if(t.autoAlpha||t.alpha){n={};for(i in t)n[i]=t[i];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return t.className&&(r=this._classNamePT)&&(s=r.xfirst,s&&s._prev?this._linkCSSP(s._prev,r._next,s._prev._prev):s===this._firstPT&&(this._firstPT=r._next),r._next&&this._linkCSSP(r._next,r._next._next,s._prev),this._classNamePT=null),e.prototype._kill.call(this,n)};var Dt=function(e,t,n){var r,i,s,o;if(e.slice){i=e.length;while(--i>-1)Dt(e[i],t,n);return}r=e.childNodes,i=r.length;while(--i>-1)s=r[i],o=s.type,s.style&&(t.push(Q(s)),n&&n.push(s)),(o===1||o===9||o===11)&&s.childNodes.length&&Dt(s,t,n)};return n.cascadeTo=function(e,n,r){var i=t.to(e,n,r),s=[i],o=[],u=[],a=[],f=t._internals.reservedProps,l,c,h;e=i._targets||i.target,Dt(e,o,a),i.render(n,!0),Dt(e,u),i.render(0,!0),i._enabled(!0),l=a.length;while(--l>-1){c=G(a[l],o[l],u[l]);if(c.firstMPT){c=c.difs;for(h in r)f[h]&&(c[h]=r[h]);s.push(t.to(a[l],n,c))}}return s},e.activate([n]),n},!0),function(){var e=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),t=e.prototype;t._onInitAllProps=function(){var e=this._tween,t=e.vars.roundProps instanceof Array?e.vars.roundProps:e.vars.roundProps.split(","),n=t.length,r={},i=e._propLookup.roundProps,s,o,u;while(--n>-1)r[t[n]]=1;n=t.length;while(--n>-1){s=t[n],o=e._firstPT;while(o)u=o._next,o.pg?o.t._roundProps(r,!0):o.n===s&&(this._add(o.t,s,o.s,o.c),u&&(u._prev=o._prev),o._prev?o._prev._next=u:e._firstPT===o&&(e._firstPT=u),o._next=o._prev=null,e._propLookup[s]=i),o=u}return!1},t._add=function(e,t,n,r){this._addTween(e,t,n,n+r,t,!0),this._overwriteProps.push(t)}}(),window._gsDefine.plugin({propName:"attr",API:2,init:function(e,t,n){var r;if(typeof e.setAttribute!="function")return!1;this._target=e,this._proxy={};for(r in t)this._addTween(this._proxy,r,parseFloat(e.getAttribute(r)),t[r],r),this._overwriteProps.push(r);return!0},set:function(e){this._super.setRatio.call(this,e);var t=this._overwriteProps,n=t.length,r;while(--n>-1)r=t[n],this._target.setAttribute(r,this._proxy[r]+"")}}),window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(e,t,n){typeof t!="object"&&(t={rotation:t}),this.finals={};var r=t.useRadians===!0?Math.PI*2:360,i=1e-6,s,o,u,a,f,l;for(s in t)if(s!=="useRadians"){l=(t[s]+"").split("_"),o=l[0],u=parseFloat(typeof e[s]!="function"?e[s]:e[s.indexOf("set")||typeof e["get"+s.substr(3)]!="function"?s:"get"+s.substr(3)]()),a=this.finals[s]=typeof o=="string"&&o.charAt(1)==="="?u+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,f=a-u,l.length&&(o=l.join("_"),o.indexOf("short")!==-1&&(f%=r,f!==f%(r/2)&&(f=f<0?f+r:f-r)),o.indexOf("_cw")!==-1&&f<0?f=(f+r*9999999999)%r-(f/r|0)*r:o.indexOf("ccw")!==-1&&f>0&&(f=(f-r*9999999999)%r-(f/r|0)*r));if(f>i||f<-i)this._addTween(e,s,u,u+f,s),this._overwriteProps.push(s)}return!0},set:function(e){var t;if(e!==1)this._super.setRatio.call(this,e);else{t=this._firstPT;while(t)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(e){var t=window.GreenSockGlobals||window,n=t.com.greensock,r=Math.PI*2,i=Math.PI/2,s=n._class,o=function(t,n){var r=s("easing."+t,function(){},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,r},u=e.register||function(){},a=function(e,t,n,r,i){var o=s("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return u(o,e),o},f=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},l=function(t,n){var r=s("easing."+t,function(e){this._p1=e||e===0?e:1.70158,this._p2=this._p1*1.525},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,i.config=function(e){return new r(e)},r},c=a("Back",l("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),l("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),l("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),h=s("easing.SlowMo",function(e,t,n){t=t||t===0?t:.7,e==null?e=.7:e>1&&(e=1),this._p=e!==1?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),p=h.prototype=new e,d,v,m;return p.constructor=h,p.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},h.ease=new h(.7,.7),p.config=h.config=function(e,t,n){return new h(e,t,n)},d=s("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),p=d.prototype=new e,p.constructor=d,p.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},p.config=d.config=function(e){return new d(e)},v=s("easing.RoughEase",function(t){t=t||{};var n=t.taper||"none",r=[],i=0,s=(t.points||20)|0,o=s,u=t.randomize!==!1,a=t.clamp===!0,l=t.template instanceof e?t.template:null,c=typeof t.strength=="number"?t.strength*.4:.4,h,p,d,v,m,g;while(--o>-1)h=u?Math.random():1/s*o,p=l?l.getRatio(h):h,n==="none"?d=c:n==="out"?(v=1-h,d=v*v*c):n==="in"?d=h*h*c:h<.5?(v=h*2,d=v*v*.5*c):(v=(1-h)*2,d=v*v*.5*c),u?p+=Math.random()*d-d*.5:o%2?p+=d*.5:p-=d*.5,a&&(p>1?p=1:p<0&&(p=0)),r[i++]={x:h,y:p};r.sort(function(e,t){return e.x-t.x}),g=new f(1,1,null),o=s;while(--o>-1)m=r[o],g=new f(m.x,m.y,g);this._prev=new f(0,0,g.t!==0?g:g.next)},!0),p=v.prototype=new e,p.constructor=v,p.getRatio=function(e){var t=this._prev;if(e>t.t){while(t.next&&e>=t.t)t=t.next;t=t.prev}else while(t.prev&&e<=t.t)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},p.config=function(e){return new v(e)},v.ease=new v,a("Bounce",o("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),o("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),o("BounceInOut",function(e){var t=e<.5;return t?e=1-e*2:e=e*2-1,e<1/2.75?e=7.5625*e*e:e<2/2.75?e=7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?e=7.5625*(e-=2.25/2.75)*e+.9375:e=7.5625*(e-=2.625/2.75)*e+.984375,t?(1-e)*.5:e*.5+.5})),a("Circ",o("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),o("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),o("CircInOut",function(e){return(e*=2)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),m=function(t,n,i){var o=s("easing."+t,function(e,t){this._p1=e||1,this._p2=t||i,this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),u=o.prototype=new e;return u.constructor=o,u.getRatio=n,u.config=function(e,t){return new o(e,t)},o},a("Elastic",m("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*r/this._p2)+1},.3),m("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2))},.3),m("ElasticInOut",function(e){return(e*=2)<1?-0.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*r/this._p2)*.5+1},.45)),a("Expo",o("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),o("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),o("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),a("Sine",o("SineOut",function(e){return Math.sin(e*i)}),o("SineIn",function(e){return-Math.cos(e*i)+1}),o("SineInOut",function(e){return-0.5*(Math.cos(Math.PI*e)-1)})),s("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),u(t.SlowMo,"SlowMo","ease,"),u(v,"RoughEase","ease,"),u(d,"SteppedEase","ease,"),c},!0)}),function(e){"use strict";var t=e.GreenSockGlobals||e,n=function(e){var n=e.split("."),r=t,i;for(i=0;i<n.length;i++)r[n[i]]=r=r[n[i]]||{};return r},r=n("com.greensock"),i=[].slice,s=function(){},o,u,a,f,l,c={},h=function(r,i,s,o){this.sc=c[r]?c[r].sc:[],c[r]=this,this.gsClass=null,this.func=s;var u=[];this.check=function(a){var f=i.length,l=f,p,d,v,m;while(--f>-1)(p=c[i[f]]||new h(i[f],[])).gsClass?(u[f]=p.gsClass,l--):a&&p.sc.push(this);if(l===0&&s){d=("com.greensock."+r).split("."),v=d.pop(),m=n(d.join("."))[v]=this.gsClass=s.apply(s,u),o&&(t[v]=m,typeof define=="function"&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+r.split(".").join("/"),[],function(){return m}):typeof module!="undefined"&&module.exports&&(module.exports=m));for(f=0;f<this.sc.length;f++)this.sc[f].check()}},this.check(!0)},p=e._gsDefine=function(e,t,n,r){return new h(e,t,n,r)},d=r._class=function(e,t,n){return t=t||function(){},p(e,[],function(){return t},n),t};p.globals=t;var v=[0,0,1,1],m=[],g=d("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?v.concat(t):v},!0),y=g.map={},b=g.register=function(e,t,n,i){var s=t.split(","),o=s.length,u=(n||"easeIn,easeOut,easeInOut").split(","),a,f,l,c;while(--o>-1){f=s[o],a=i?d("easing."+f,null,!0):r.easing[f]||{},l=u.length;while(--l>-1)c=u[l],y[f+"."+c]=y[c+f]=a[c]=e.getRatio?e:e[c]||new e}};a=g.prototype,a._calcEnd=!1,a.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=t===1?1-e:t===2?e:e<.5?e*2:(1-e)*2;return n===1?r*=r:n===2?r*=r*r:n===3?r*=r*r*r:n===4&&(r*=r*r*r*r),t===1?1-r:t===2?r:e<.5?r/2:1-r/2},o=["Linear","Quad","Cubic","Quart","Quint,Strong"],u=o.length;while(--u>-1)a=o[u]+",Power"+u,b(new g(null,null,1,u),a,"easeOut",!0),b(new g(null,null,2,u),a,"easeIn"+(u===0?",easeNone":"")),b(new g(null,null,3,u),a,"easeInOut");y.linear=r.easing.Linear.easeIn,y.swing=r.easing.Quad.easeInOut;var w=d("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});a=w.prototype,a.addEventListener=function(e,t,n,r,i){i=i||0;var s=this._listeners[e],o=0,u,a;s==null&&(this._listeners[e]=s=[]),a=s.length;while(--a>-1)u=s[a],u.c===t&&u.s===n?s.splice(a,1):o===0&&u.pr<i&&(o=a+1);s.splice(o,0,{c:t,s:n,up:r,pr:i}),this===f&&!l&&f.wake()},a.removeEventListener=function(e,t){var n=this._listeners[e],r;if(n){r=n.length;while(--r>-1)if(n[r].c===t){n.splice(r,1);return}}},a.dispatchEvent=function(e){var t=this._listeners[e],n,r,i;if(t){n=t.length,r=this._eventTarget;while(--n>-1)i=t[n],i.up?i.c.call(i.s||r,{type:e,target:r}):i.c.call(i.s||r)}};var E=e.requestAnimationFrame,S=e.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()};o=["ms","moz","webkit","o"],u=o.length;while(--u>-1&&!E)E=e[o[u]+"RequestAnimationFrame"],S=e[o[u]+"CancelAnimationFrame"]||e[o[u]+"CancelRequestAnimationFrame"];d("Ticker",function(e,t){var n=this,r=x(),i=t!==!1&&E,o,u,a,c,h,p=function(e){n.time=(x()-r)/1e3;var t=a,i=n.time-h;if(!o||i>0||e===!0)n.frame++,h+=i+(i>=c?.004:c-i),n.dispatchEvent("tick");e!==!0&&t===a&&(a=u(p))};w.call(n),this.time=this.frame=0,this.tick=function(){p(!0)},this.sleep=function(){if(a==null)return;!i||!S?clearTimeout(a):S(a),u=s,a=null,n===f&&(l=!1)},this.wake=function(){a!==null&&n.sleep(),u=o===0?s:!i||!E?function(e){return setTimeout(e,(h-n.time)*1e3+1|0)}:E,n===f&&(l=!0),p(2)},this.fps=function(e){if(!arguments.length)return o;o=e,c=1/(o||60),h=this.time+c,n.wake()},this.useRAF=function(e){if(!arguments.length)return i;n.sleep(),i=e,n.fps(o)},n.fps(e),setTimeout(function(){i&&(!a||n.frame<5)&&n.useRAF(!1)},1500)}),a=r.Ticker.prototype=new r.events.EventDispatcher,a.constructor=r.Ticker;var T=d("core.Animation",function(e,t){this.vars=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(this.vars.delay)||0,this._timeScale=1,this._active=this.vars.immediateRender===!0,this.data=this.vars.data,this._reversed=this.vars.reversed===!0;if(!B)return;l||f.wake();var n=this.vars.useFrames?H:B;n.add(this,n._time),this.vars.paused&&this.paused(!0)});f=T.ticker=new r.Ticker,a=T.prototype,a._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1,a.play=function(e,t){return arguments.length&&this.seek(e,t),this.reversed(!1).paused(!1)},a.pause=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!0)},a.resume=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!1)},a.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},a.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},a.reverse=function(e,t){return arguments.length&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},a.render=function(){},a.invalidate=function(){return this},a._enabled=function(e,t){return l||f.wake(),this._gc=!e,this._active=e&&!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration,t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(e,t){return this._enabled(!1,!1)},a.kill=function(e,t){return this._kill(e,t),this},a._uncache=function(e){var t=e?this:this.timeline;while(t)t._dirty=!0,t=t.timeline;return this},a.eventCallback=function(e,t,n,r){if(e==null)return null;if(e.substr(0,2)==="on"){var i=this.vars,s;if(arguments.length===1)return i[e];if(t==null)delete i[e];else{i[e]=t,i[e+"Params"]=n,i[e+"Scope"]=r;if(n){s=n.length;while(--s>-1)n[s]==="{self}"&&(n=i[e+"Params"]=n.concat(),n[s]=this)}}e==="onUpdate"&&(this._onUpdate=t)}return this},a.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},a.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&e!==0&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},a.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},a.totalTime=function(e,t,n){l||f.wake();if(!arguments.length)return this._totalTime;if(this._timeline){e<0&&!n&&(e+=this.totalDuration());if(this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1);if(!i._active)while(i._timeline)i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime!==e&&this.render(e,t,!1)}return this},a.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},a.timeScale=function(e){if(!arguments.length)return this._timeScale;e=e||1e-6;if(this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||t===0?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},a.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._totalTime,!0)),this):this._reversed},a.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){!l&&!e&&f.wake();var t=this._timeline.rawTime(),n=t-this._pauseTime;!e&&this._timeline.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=!e&&this._totalTime>0&&this._totalTime<this._totalDuration,!e&&n!==0&&this._duration!==0&&this.render(this._totalTime,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var N=d("core.SimpleTimeline",function(e){T.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});a=N.prototype=new T,a.constructor=N,a.kill()._gc=!1,a._first=a._last=null,a._sortChildren=!1,a.add=a.insert=function(e,t,n,r){var i,s;e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last;if(this._sortChildren){s=e._startTime;while(i&&i._startTime>s)i=i._prev}return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._timeline&&this._uncache(!0),this},a._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},a.render=function(e,t,n){var r=this._first,i;this._totalTime=this._time=this._rawPrevTime=e;while(r){i=r._next;if(r._active||e>=r._startTime&&!r._paused)r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n);r=i}},a.rawTime=function(){return l||f.wake(),this._totalTime};var C=d("TweenLite",function(e,t,n){T.call(this,t,n);if(e==null)throw"Cannot tween a null target.";this.target=e=typeof e!="string"?e:C.selector(e)||e;var r=e.jquery||e.length&&e[0]&&e[0].nodeType&&e[0].style&&!e.nodeType,s=this.vars.overwrite,o,u,a;this._overwrite=s=s==null?P[C.defaultOverwrite]:typeof s=="number"?s>>0:P[s];if((r||e instanceof Array)&&typeof e[0]!="number"){this._targets=a=i.call(e,0),this._propLookup=[],this._siblings=[];for(o=0;o<a.length;o++){u=a[o];if(!u){a.splice(o--,1);continue}if(typeof u=="string"){u=a[o--]=C.selector(u),typeof u=="string"&&a.splice(o+1,1);continue}if(u.length&&u[0]&&u[0].nodeType&&u[0].style&&!u.nodeType){a.splice(o--,1),this._targets=a=a.concat(i.call(u,0));continue}this._siblings[o]=j(u,this,!1),s===1&&this._siblings[o].length>1&&F(u,this,null,1,this._siblings[o])}}else this._propLookup={},this._siblings=j(e,this,!1),s===1&&this._siblings.length>1&&F(e,this,null,1,this._siblings);(this.vars.immediateRender||t===0&&this._delay===0&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),k=function(e){return e.length&&e[0]&&e[0].nodeType&&e[0].style&&!e.nodeType},L=function(e,t){var n={},r;for(r in e)!D[r]&&(!(r in t)||r==="x"||r==="y"||r==="width"||r==="height"||r==="className")&&(!O[r]||O[r]&&O[r]._autoCSS)&&(n[r]=e[r],delete e[r]);e.css=n};a=C.prototype=new T,a.constructor=C,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=!1,C.version="1.9.8",C.defaultEase=a._ease=new g(null,null,1,1),C.defaultOverwrite="auto",C.ticker=f,C.autoSleep=!0,C.selector=e.$||e.jQuery||function(t){return e.$?(C.selector=e.$,e.$(t)):e.document?e.document.getElementById(t.charAt(0)==="#"?t.substr(1):t):t};var A=C._internals={},O=C._plugins={},M=C._tweenLookup={},_=0,D=A.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},P={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},H=T._rootFramesTimeline=new N,B=T._rootTimeline=new N;B._startTime=f.time,H._startTime=f.frame,B._active=H._active=!0,T._updateRoot=function(){B.render((f.time-B._startTime)*B._timeScale,!1,!1),H.render((f.frame-H._startTime)*H._timeScale,!1,!1);if(!(f.frame%120)){var e,t,n;for(n in M){t=M[n].tweens,e=t.length;while(--e>-1)t[e]._gc&&t.splice(e,1);t.length===0&&delete M[n]}n=B._first;if(!n||n._paused)if(C.autoSleep&&!H._first&&f._listeners.tick.length===1){while(n&&n._paused)n=n._next;n||f.sleep()}}},f.addEventListener("tick",T._updateRoot);var j=function(e,t,n){var r=e._gsTweenID,i,s;M[r||(e._gsTweenID=r="t"+_++)]||(M[r]={target:e,tweens:[]});if(t){i=M[r].tweens,i[s=i.length]=t;if(n)while(--s>-1)i[s]===t&&i.splice(s,1)}return M[r].tweens},F=function(e,t,n,r,i){var s,o,u,a;if(r===1||r>=4){a=i.length;for(s=0;s<a;s++)if((u=i[s])!==t)u._gc||u._enabled(!1,!1)&&(o=!0);else if(r===5)break;return o}var f=t._startTime+1e-10,l=[],c=0,h=t._duration===0,p;s=i.length;while(--s>-1)(u=i[s])!==t&&!u._gc&&!u._paused&&(u._timeline!==t._timeline?(p=p||I(t,0,h),I(u,p,h)===0&&(l[c++]=u)):u._startTime<=f&&u._startTime+u.totalDuration()/u._timeScale+1e-10>f&&((h||!u._initted)&&f-u._startTime<=2e-10||(l[c++]=u)));s=c;while(--s>-1)u=l[s],r===2&&u._kill(n,e)&&(o=!0),(r!==2||!u._firstPT&&u._initted)&&u._enabled(!1,!1)&&(o=!0);return o},I=function(e,t,n){var r=e._timeline,i=r._timeScale,s=e._startTime,o=1e-10;while(r._timeline){s+=r._startTime,i*=r._timeScale;if(r._paused)return-100;r=r._timeline}return s/=i,s>t?s-t:n&&s===t||!e._initted&&s-t<2*o?o:(s+=e.totalDuration()/e._timeScale/i)>t+o?0:s-t-o};a._init=function(){var e=this.vars,t=this._overwrittenProps,n=this._duration,r=e.ease,i,s,o,u;if(e.startAt){e.startAt.overwrite=0,e.startAt.immediateRender=!0,this._startAt=C.to(this.target,0,e.startAt);if(e.immediateRender){this._startAt=null;if(this._time===0&&n!==0)return}}else if(e.runBackwards&&e.immediateRender&&n!==0)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else if(this._time===0){o={};for(u in e)if(!D[u]||u==="autoCSS")o[u]=e[u];o.overwrite=0,this._startAt=C.to(this.target,0,o);return}r?r instanceof g?this._ease=e.easeParams instanceof Array?r.config.apply(r,e.easeParams):r:this._ease=typeof r=="function"?new g(r,e.easeParams):y[r]||C.defaultEase:this._ease=C.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null;if(this._targets){i=this._targets.length;while(--i>-1)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],t?t[i]:null)&&(s=!0)}else s=this._initProps(this.target,this._propLookup,this._siblings,t);s&&C._onPluginEvent("_onInitAllProps",this),t&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1));if(e.runBackwards){o=this._firstPT;while(o)o.s+=o.c,o.c=-o.c,o=o._next}this._onUpdate=e.onUpdate,this._initted=!0},a._initProps=function(e,t,n,r){var i,s,o,u,a,f,l;if(e==null)return!1;this.vars.css||e.style&&e.nodeType&&O.css&&this.vars.autoCSS!==!1&&L(this.vars,e);for(i in this.vars){if(D[i]){if(i==="onStartParams"||i==="onUpdateParams"||i==="onCompleteParams"||i==="onReverseCompleteParams"||i==="onRepeatParams")if(a=this.vars[i]){s=a.length;while(--s>-1)a[s]==="{self}"&&(a=this.vars[i]=a.concat(),a[s]=this)}}else if(O[i]&&(u=new O[i])._onInitTween(e,this.vars[i],this)){this._firstPT=f={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:!0,n:i,pg:!0,pr:u._priority},s=u._overwriteProps.length;while(--s>-1)t[u._overwriteProps[s]]=this._firstPT;if(u._priority||u._onInitAllProps)o=!0;if(u._onDisable||u._onEnable)this._notifyPluginsOfEnabled=!0}else this._firstPT=t[i]=f={_next:this._firstPT,t:e,p:i,f:typeof e[i]=="function",n:i,pg:!1,pr:0},f.s=f.f?e[i.indexOf("set")||typeof e["get"+i.substr(3)]!="function"?i:"get"+i.substr(3)]():parseFloat(e[i]),l=this.vars[i],f.c=typeof l=="string"&&l.charAt(1)==="="?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-f.s||0;f&&f._next&&(f._next._prev=f)}return r&&this._kill(r,e)?this._initProps(e,t,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&F(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,r)):o},a.render=function(e,t,n){var r=this._time,i,s,o;if(e>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,s="onComplete"),this._duration===0&&((e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(n=!0,this._rawPrevTime>0&&(s="onReverseComplete",t&&(e=-1))),this._rawPrevTime=e);else if(e<1e-7){this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(r!==0||this._duration===0&&this._rawPrevTime>0)s="onReverseComplete",i=this._reversed;e<0?(this._active=!1,this._duration===0&&(this._rawPrevTime>=0&&(n=!0),this._rawPrevTime=e)):this._initted||(n=!0)}else{this._totalTime=this._time=e;if(this._easeType){var u=e/this._duration,a=this._easeType,f=this._easePower;if(a===1||a===3&&u>=.5)u=1-u;a===3&&(u*=2),f===1?u*=u:f===2?u*=u*u:f===3?u*=u*u*u:f===4&&(u*=u*u*u*u),a===1?this.ratio=1-u:a===2?this.ratio=u:e/this._duration<.5?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(e/this._duration)}if(this._time===r&&!n)return;if(!this._initted){this._init();if(!this._initted)return;this._time&&!i?this.ratio=this._ease.getRatio(this._time/this._duration):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}this._active||this._paused||(this._active=!0),r===0&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):s||(s="_dummyGS")),this.vars.onStart&&(this._time!==0||this._duration===0)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||m))),o=this._firstPT;while(o)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&this._startAt.render(e,t,n),t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||m)),s&&(this._gc||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||m)))},a._kill=function(e,t){e==="all"&&(e=null);if(e==null)if(t==null||t===this.target)return this._enabled(!1,!1);t=typeof t!="string"?t||this._targets||this.target:C.selector(t)||t;var n,r,i,s,o,u,a,f;if((t instanceof Array||k(t))&&typeof t[0]!="number"){n=t.length;while(--n>-1)this._kill(e,t[n])&&(u=!0)}else{if(this._targets){n=this._targets.length;while(--n>-1)if(t===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){a=e||o,f=e!==r&&r!=="all"&&e!==o&&(e==null||e._tempKill!==!0);for(i in a){if(s=o[i]){s.pg&&s.t._kill(a)&&(u=!0);if(!s.pg||s.t._overwriteProps.length===0)s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null;delete o[i]}f&&(r[i]=1)}!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},a.invalidate=function(){return this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},a._enabled=function(e,t){l||f.wake();if(e&&this._gc){var n=this._targets,r;if(n){r=n.length;while(--r>-1)this._siblings[r]=j(n[r],this,!0)}else this._siblings=j(this.target,this,!0)}return T.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?C._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},C.to=function(e,t,n){return new C(e,t,n)},C.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=n.immediateRender!=0,new C(e,t,n)},C.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0,new C(e,t,r)},C.delayedCall=function(e,t,n,r,i){return new C(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:i,overwrite:0})},C.set=function(e,t){return new C(e,0,t)},C.killTweensOf=C.killDelayedCallsTo=function(e,t){var n=C.getTweensOf(e),r=n.length;while(--r>-1)n[r]._kill(t,e)},C.getTweensOf=function(e){if(e==null)return[];e=typeof e!="string"?e:C.selector(e)||e;var t,n,r,i;if((e instanceof Array||k(e))&&typeof e[0]!="number"){t=e.length,n=[];while(--t>-1)n=n.concat(C.getTweensOf(e[t]));t=n.length;while(--t>-1){i=n[t],r=t;while(--r>-1)i===n[r]&&n.splice(t,1)}}else{n=j(e).concat(),t=n.length;while(--t>-1)n[t]._gc&&n.splice(t,1)}return n};var q=d("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=q.prototype},!0);a=q.prototype,q.version="1.9.1",q.API=2,a._firstPT=null,a._addTween=function(e,t,n,r,i,s){var o,u;r!=null&&(o=typeof r=="number"||r.charAt(1)!=="="?Number(r)-n:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))&&(this._firstPT=u={_next:this._firstPT,t:e,p:t,s:n,c:o,f:typeof e[t]=="function",n:i||t,r:s},u._next&&(u._next._prev=u))},a.setRatio=function(e){var t=this._firstPT,n=1e-6,r;while(t)r=t.c*e+t.s,t.r?r=r+(r>0?.5:-0.5)>>0:r<n&&r>-n&&(r=0),t.f?t.t[t.p](r):t.t[t.p]=r,t=t._next},a._kill=function(e){var t=this._overwriteProps,n=this._firstPT,r;if(e[this._propName]!=null)this._overwriteProps=[];else{r=t.length;while(--r>-1)e[t[r]]!=null&&t.splice(r,1)}while(n)e[n.n]!=null&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},a._roundProps=function(e,t){var n=this._firstPT;while(n){if(e[this._propName]||n.n!=null&&e[n.n.split(this._propName+"_").join("")])n.r=t;n=n._next}},C._onPluginEvent=function(e,t){var n=t._firstPT,r,i,s,o,u;if(e==="_onInitAllProps"){while(n){u=n._next,i=s;while(i&&i.pr>n.pr)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=u}n=t._firstPT=s}while(n)n.pg&&typeof n.t[e]=="function"&&n.t[e]()&&(r=!0),n=n._next;return r},q.activate=function(e){var t=e.length;while(--t>-1)e[t].API===q.API&&(O[(new e[t])._propName]=e[t]);return!0},p.plugin=function(e){if(!e||!e.propName||!e.init||!e.API)throw"illegal plugin definition.";var t=e.propName,n=e.priority||0,r=e.overwriteProps,i={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=d("plugins."+t.charAt(0).toUpperCase()+t.substr(1)+"Plugin",function(){q.call(this,t,n),this._overwriteProps=r||[]},e.global===!0),o=s.prototype=new q(t),u;o.constructor=s,s.API=e.API;for(u in i)typeof e[u]=="function"&&(o[i[u]]=e[u]);return s.version=e.version,q.activate([s]),s},o=e._gsQueue;if(o){for(u=0;u<o.length;u++)o[u]();for(a in c)c[a].func||e.console.log("GSAP encountered missing dependency: com.greensock."+a)}l=!1}(window),define("TweenMax",function(e){return function(){var t,n;return t||e.TweenMax}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e=document.documentElement,t=window,n=function(n,r){var i=r==="x"?"Width":"Height",s="scroll"+i,o="client"+i,u=document.body;return n===t||n===e||n===u?Math.max(e[s],u[s])-Math.max(e[o],u[o]):n[s]-n["offset"+i]},r=window._gsDefine.plugin({propName:"scrollTo",API:2,init:function(e,r,i){return this._wdw=e===t,this._target=e,this._tween=i,typeof r!="object"&&(r={y:r}),this._autoKill=r.autoKill!==!1,this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),r.x!=null?this._addTween(this,"x",this.x,r.x==="max"?n(e,"x"):r.x,"scrollTo_x",!0):this.skipX=!0,r.y!=null?this._addTween(this,"y",this.y,r.y==="max"?n(e,"y"):r.y,"scrollTo_y",!0):this.skipY=!0,!0},set:function(e){this._super.setRatio.call(this,e);var n=this._wdw||!this.skipX?this.getX():this.xPrev,r=this._wdw||!this.skipY?this.getY():this.yPrev,i=r-this.yPrev,s=n-this.xPrev;this._autoKill&&(!this.skipX&&(s>7||s<-7)&&(this.skipX=!0),!this.skipY&&(i>7||i<-7)&&(this.skipY=!0),this.skipX&&this.skipY&&this._tween.kill()),this._wdw?t.scrollTo(this.skipX?n:this.x,this.skipY?r:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),i=r.prototype;r.max=n,i.getX=function(){return this._wdw?t.pageXOffset!=null?t.pageXOffset:e.scrollLeft!=null?e.scrollLeft:document.body.scrollLeft:this._target.scrollLeft},i.getY=function(){return this._wdw?t.pageYOffset!=null?t.pageYOffset:e.scrollTop!=null?e.scrollTop:document.body.scrollTop:this._target.scrollTop},i._kill=function(e){return e.scrollTo_x&&(this.skipX=!0),e.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,e)}}),window._gsDefine&&window._gsQueue.pop()(),define("ScrollTo",function(){}),function(e){e.breakpoint={els:e(),init:!1},e.fn.breakpoint=function(){return e.breakpoint.els=e.breakpoint.els.add(this),e.breakpoint.init||e(window).on("resize.breakpoint",function(){e.breakpoint.els.trigger("swapres.breakpoint")}),this.each(function(){var t=e(this);maxWidths=[],minWidths=[],src=t.attr("src"),split=src.lastIndexOf("/"),dir=src.substr(0,split),parts=src.substr(split).split("."),ext=parts.pop(),mediaQuery=parts.pop(),name=parts.join("."),name||(name=mediaQuery);var n=t.attr("class").split(" ");t.data("name",dir+name),t.data("ext",ext);var r=!1;"maxwidth720px"in t.data()&&(n=t.data(),r=!0),e.each(n,function(e,n){var i=r?e:n;if(i&&(i.toLowerCase().indexOf("maxwidth")===0||i.toLowerCase().indexOf("minwidth")===0)){r||(i=i.replace(/\s/g,""));var s=i.substring(3).match(/\d+/g);if(s.length===1){var o={key:i,type:i.toLowerCase().indexOf("max")===0?"max":"min",width:s[0]};o.type==="max"?maxWidths.push(o):minWidths.push(o),i===mediaQuery&&t.data(o.key,src)}}}),minWidths.sort(function(e,t){return e.width-t.width}),maxWidths.sort(function(e,t){return t.width-e.width}),t.on("swapres.breakpoint",function(){if(maxWidths.length>0||minWidths.length>0){var n=e(window).width(),r=null;e.each(maxWidths,function(e,t){n<=t.width&&(r=t)}),e.each(minWidths,function(e,t){n>=t.width&&(r=t)});if(r!==null)if(t.data(r.key))t.attr("src",t.data(r.key));else{var i=t.data("name")+"."+r.key+"."+t.data("ext");i.indexOf("undefined")<0&&(e.support.cors?e.get(i,function(){t.attr("src",i),t.data(r.key,i)}):(t.attr("src",i),t.data(r.key,i)))}else t.attr("src",t.data("src"))}else t.attr("src",t.data("src"))}).trigger("swapres.breakpoint")})}}(jQuery),define("breakpoint",["jquery"],function(){}),function(e,t){typeof define=="function"&&define.amd?define("typeahead",["jquery"],function(e){return t(e)}):typeof exports=="object"?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return typeof e=="string"},isNumber:function(e){return typeof e=="number"},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return typeof e=="undefined"},isElement:function(e){return!!e&&e.nodeType===1},isJQuery:function(t){return t instanceof e},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:e.proxy,each:function(t,n){function r(e,t){return n(t,e)}e.each(t,r)},map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){if(!(r=n.call(null,i,e,t)))return!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){if(r=n.call(null,i,e,t))return!1}),!!r):r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(n){function r(){return String(n)}return e.isFunction(n)?n:r},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var s=this,o=arguments,u,a;return u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r,clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},throttle:function(e,t){var n,r,i,s,o,u;return o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)},function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n=function(){"use strict";function n(n){var o,u;return u=t.mixin({},e,n),o={css:s(),classes:u,html:r(u),selectors:i(u)},{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(e){t.mixin(e,o)}}}function r(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function i(e){var n={};return t.each(e,function(e,t){n[t]="."+e}),n}function s(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var e={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return n}(),r=function(){"use strict";function i(t){(!t||!t.el)&&e.error("EventBus initialized without el"),this.$el=e(t.el)}var n,r;return n="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(i.prototype,{_trigger:function(t,r){var i;return i=e.Event(n+t),(r=r||[]).unshift(i),this.$el.trigger.apply(this.$el,r),i},before:function(e){var t,n;return t=[].slice.call(arguments,1),n=this._trigger("before"+e,t),n.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=r[e])&&this._trigger(t,[].slice.call(arguments,1))}}),i}(),i=function(){"use strict";function n(t,n,r,i){var s;if(!r)return this;n=n.split(e),r=i?f(r,i):r,this._callbacks=this._callbacks||{};while(s=n.shift())this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(r);return this}function r(e,t,r){return n.call(this,"async",e,t,r)}function i(e,t,r){return n.call(this,"sync",e,t,r)}function s(t){var n;if(!this._callbacks)return this;t=t.split(e);while(n=t.shift())delete this._callbacks[n];return this}function o(n){var r,i,s,o,a;if(!this._callbacks)return this;n=n.split(e),s=[].slice.call(arguments,1);while((r=n.shift())&&(i=this._callbacks[r]))o=u(i.sync,this,[r].concat(s)),a=u(i.async,this,[r].concat(s)),o()&&t(a);return this}function u(e,t,n){function r(){var r;for(var i=0,s=e.length;!r&&i<s;i+=1)r=e[i].apply(t,n)===!1;return!r}return r}function a(){var e;return window.setImmediate?e=function(t){setImmediate(function(){t()})}:e=function(t){setTimeout(function(){t()},0)},e}function f(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var e=/\s+/,t=a();return{onSync:i,onAsync:r,off:s,trigger:o}}(),s=function(e){"use strict";function r(e,n,r){var i=[],s;for(var o=0,u=e.length;o<u;o++)i.push(t.escapeRegExChars(e[o]));return s=r?"\\b("+i.join("|")+")\\b":"("+i.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function u(t){var n,r,i;if(n=o.exec(t.data))i=e.createElement(s.tagName),s.className&&(i.className=s.className),r=t.splitText(n.index),r.splitText(n[0].length),i.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(i,r);return!!n}function a(e,t){var n,r=3;for(var i=0;i<e.childNodes.length;i++)n=e.childNodes[i],n.nodeType===r?i+=t(n)?1:0:a(n,t)}var o;s=t.mixin({},n,s);if(!s.node||!s.pattern)return;s.pattern=t.isArray(s.pattern)?s.pattern:[s.pattern],o=r(s.pattern,s.caseSensitive,s.wordsOnly),a(s.node,u)}}(window.document),o=function(){"use strict";function r(n,r){n=n||{},n.input||e.error("input is missing"),r.mixin(this),this.$hint=e(n.hint),this.$input=e(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=s(this.$input),this._checkLanguageDirection(),this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function s(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(e,t){return r.normalizeQuery(e)===r.normalizeQuery(t)}function u(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var n;return n={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},r.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(r.prototype,i,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var r=n[t.which||t.keyCode];this._managePreventDefault(r,t),r&&this._shouldTrigger(r,t)&&this.trigger(r+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,n){var r;switch(t){case"up":case"down":r=!u(n);break;default:r=!1}r&&n.preventDefault()},_shouldTrigger:function(t,n){var r;switch(t){case"tab":r=!u(n);break;default:r=!0}return r},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,n){var r,i;r=o(t,this.query),i=r?this.query.length!==t.length:!1,this.query=t,!n&&!r?this.trigger("queryChanged",this.query):!n&&i&&this.trigger("whitespaceChanged",this.query)},bind:function(){var e=this,r,i,s,o;return r=t.bind(this._onBlur,this),i=t.bind(this._onFocus,this),s=t.bind(this._onKeydown,this),o=t.bind(this._onInput,this),this.$input.on("blur.tt",r).on("focus.tt",i).on("keydown.tt",s),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(r){if(n[r.which||r.keyCode])return;t.defer(t.bind(e._onInput,e,r))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,n){this.setInputValue(t),this._setQuery(t,n)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,n,r,i;t=this.getInputValue(),n=this.getHint(),r=t!==n&&n.indexOf(t)===0,i=t!==""&&r&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var e,n,r;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:document.selection?(r=document.selection.createRange(),r.moveStart("character",-e),e===r.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),r}(),u=function(){"use strict";function o(n,i){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||e.error("missing source"),n.node||e.error("missing node"),n.name&&!f(n.name)&&e.error("invalid dataset name: "+n.name),i.mixin(this),this.highlight=!!n.highlight,this.name=n.name||r(),this.limit=n.limit||5,this.displayFn=u(n.display||n.displayKey),this.templates=a(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=t.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=e(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function u(e){function n(t){return t[e]}return e=e||t.stringify,t.isFunction(e)?e:n}function a(n,r){function i(t){return e("<div>").text(r(t))}return{notFound:n.notFound&&t.templatify(n.notFound),pending:n.pending&&t.templatify(n.pending),header:n.header&&t.templatify(n.header),footer:n.footer&&t.templatify(n.footer),suggestion:n.suggestion||i}}function f(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var n,r;return n={val:"tt-selectable-display",obj:"tt-selectable-object"},r=t.getIdGenerator(),o.extractData=function(r){var i=e(r);return i.data(n.obj)?{val:i.data(n.val)||"",obj:i.data(n.obj)||null}:null},t.mixin(o.prototype,i,{_overwrite:function(t,n){n=n||[],n.length?this._renderSuggestions(t,n):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,n,!1)},_append:function(t,n){n=n||[],n.length&&this.$lastSuggestion.length?this._appendSuggestions(t,n):n.length?this._renderSuggestions(t,n):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,n,!0)},_renderSuggestions:function(t,n){var r;r=this._getSuggestionsFragment(t,n),this.$lastSuggestion=r.children().last(),this.$el.html(r).prepend(this._getHeader(t,n)).append(this._getFooter(t,n))},_appendSuggestions:function(t,n){var r,i;r=this._getSuggestionsFragment(t,n),i=r.children().last(),this.$lastSuggestion.after(r),this.$lastSuggestion=i},_renderPending:function(t){var n=this.templates.pending;this._resetLastSuggestion(),n&&this.$el.html(n({query:t,dataset:this.name}))},_renderNotFound:function(t){var n=this.templates.notFound;this._resetLastSuggestion(),n&&this.$el.html(n({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,o){var u=this,a;return a=document.createDocumentFragment(),t.each(o,function(r){var s,o;o=u._injectQuery(i,r),s=e(u.templates.suggestion(o)).data(n.obj,r).data(n.val,u.displayFn(r)).addClass(u.classes.suggestion+" "+u.classes.selectable),a.appendChild(s[0])}),this.highlight&&s({className:this.classes.highlight,node:a,pattern:i}),e(a)},_getFooter:function(t,n){return this.templates.footer?this.templates.footer({query:t,suggestions:n,dataset:this.name}):null},_getHeader:function(t,n){return this.templates.header?this.templates.header({query:t,suggestions:n,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(n,r){return t.isObject(r)?t.mixin({_query:n},r):r},update:function(n){function u(e){if(s)return;s=!0,e=(e||[]).slice(0,r.limit),o=e.length,r._overwrite(n,e),o<r.limit&&r.async&&r.trigger("asyncRequested",n)}function a(t){t=t||[],!i&&o<r.limit&&(r.cancel=e.noop,o+=t.length,r._append(n,t.slice(0,r.limit-o)),r.async&&r.trigger("asyncReceived",n))}var r=this,i=!1,s=!1,o=0;this.cancel(),this.cancel=function(){i=!0,r.cancel=e.noop,r.async&&r.trigger("asyncCanceled",n)},this.source(n,u,a),!s&&u([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),o}(),a=function(){"use strict";function n(n,r){function s(t){var n=i.$node.find(t.node).first();return t.node=n.length?n:e("<div>").appendTo(i.$node),new u(t,r)}var i=this;n=n||{},n.node||e.error("node is required"),r.mixin(this),this.$node=e(n.node),this.query=null,this.datasets=t.map(n.datasets,s)}return t.mixin(n.prototype,i,{_onSelectableClick:function(n){this.trigger("selectableClicked",e(n.currentTarget))},_onRendered:function(t,n,r,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",n,r,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function n(e){return e.isEmpty()}return t.every(this.datasets,n)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var n,r,i,s;n=t.position().top,r=n+t.outerHeight(!0),i=this.$node.scrollTop(),s=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),n<0?this.$node.scrollTop(i+n):s<r&&this.$node.scrollTop(i+(r-s))},bind:function(){var e=this,n;return n=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,n),t.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var n,r,i,s;return r=this.getActiveSelectable(),n=this._getSelectables(),i=r?n.index(r):-1,s=i+t,s=(s+1)%(n.length+1)-1,s=s<-1?n.length-1:s,s===-1?null:n.eq(s)},setCursor:function(t){this._removeCursor();if(t=t&&t.first())t.addClass(this.classes.cursor),this._ensureVisible(t)},getSelectableData:function(t){return t&&t.length?u.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(n){function i(e){e.update(n)}var r=n!==this.query;return r&&(this.query=n,t.each(this.datasets,i)),r},empty:function(){function n(e){e.clear()}t.each(this.datasets,n),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function r(e){e.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,r)}}),n}(),f=function(){"use strict";function n(){a.apply(this,[].slice.call(arguments,0))}var e=a.prototype;return t.mixin(n.prototype,a.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(n){return this.$node.css(n==="ltr"?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),n}(),l=function(){"use strict";function n(n,i){var s,o,u,a,f,l,h,p,d,v,m;n=n||{},n.input||e.error("missing input"),n.menu||e.error("missing menu"),n.eventBus||e.error("missing event bus"),i.mixin(this),this.eventBus=n.eventBus,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=r(this,"activate","open","_onFocused"),o=r(this,"deactivate","_onBlurred"),u=r(this,"isActive","isOpen","_onEnterKeyed"),a=r(this,"isActive","isOpen","_onTabKeyed"),f=r(this,"isActive","_onEscKeyed"),l=r(this,"isActive","open","_onUpKeyed"),h=r(this,"isActive","open","_onDownKeyed"),p=r(this,"isActive","isOpen","_onLeftKeyed"),d=r(this,"isActive","isOpen","_onRightKeyed"),v=r(this,"_openIfActive","_onQueryChanged"),m=r(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",o,this).onSync("enterKeyed",u,this).onSync("tabKeyed",a,this).onSync("escKeyed",f,this).onSync("upKeyed",l,this).onSync("downKeyed",h,this).onSync("leftKeyed",p,this).onSync("rightKeyed",d,this).onSync("queryChanged",v,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function r(e){var n=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(n,function(t){return e[t].apply(e,r)})}}return t.mixin(n.prototype,{_hacks:function(){var r,i;r=this.input.$input||e("<div>"),i=this.menu.$node||e("<div>"),r.on("blur.tt",function(e){var n,s,o;n=document.activeElement,s=i.is(n),o=i.has(n).length>0,t.isMsie()&&(s||o)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){r.focus()}))}),i.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(t,n){this.select(n)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,n,r,i){this._updateHint(),this.eventBus.trigger("render",r,i,n)},_onAsyncRequested:function(t,n,r){this.eventBus.trigger("asyncrequest",r,n)},_onAsyncCanceled:function(t,n,r){this.eventBus.trigger("asynccancel",r,n)},_onAsyncReceived:function(t,n,r){this.eventBus.trigger("asyncreceive",r,n)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,n){var r;(r=this.menu.getActiveSelectable())&&this.select(r)&&n.preventDefault()},_onTabKeyed:function(t,n){var r;(r=this.menu.getActiveSelectable())?this.select(r)&&n.preventDefault():(r=this.menu.getTopSelectable())&&this.autocomplete(r)&&n.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){this.dir==="rtl"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){this.dir==="ltr"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,n){this._minLengthMet(n)?this.menu.update(n):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,n){this.dir!==n&&(this.dir=n,this.menu.setLanguageDirection(n))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(n){return n=t.isString(n)?n:this.input.getQuery()||"",n.length>=this.minLength},_updateHint:function(){var n,r,i,s,u,a,f;n=this.menu.getTopSelectable(),r=this.menu.getSelectableData(n),i=this.input.getInputValue(),r&&!t.isBlankString(i)&&!this.input.hasOverflow()?(s=o.normalizeQuery(i),u=t.escapeRegExChars(s),a=new RegExp("^(?:"+u+")(.+$)","i"),f=a.exec(r.val),f&&this.input.setHint(i+f[1])):this.input.clearHint()},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return!this.isOpen()&&!this.eventBus.before("open")&&(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(n){this.input.setQuery(t.toStr(n))},getVal:function(){return this.input.getQuery()},select:function(t){var n=this.menu.getSelectableData(t);return n&&!this.eventBus.before("select",n.obj)?(this.input.setQuery(n.val,!0),this.eventBus.trigger("select",n.obj),this.close(),!0):!1},autocomplete:function(t){var n,r,i;return n=this.input.getQuery(),r=this.menu.getSelectableData(t),i=r&&n!==r.val,i&&!this.eventBus.before("autocomplete",r.obj)?(this.input.setQuery(r.val),this.eventBus.trigger("autocomplete",r.obj),!0):!1},moveCursor:function(t){var n,r,i,s,o;return n=this.input.getQuery(),r=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(r),s=i?i.obj:null,o=this._minLengthMet()&&this.menu.update(n),!o&&!this.eventBus.before("cursorchange",s)?(this.menu.setCursor(r),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",s),!0):!1},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();(function(){"use strict";function c(t,n){t.each(function(){var t=e(this),r;(r=t.data(s.typeahead))&&n(r,t)})}function h(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(d(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function p(e,t){e.data(s.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(n){}return e}function d(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function v(e){var n,r;n=e.data(s.www),r=e.parent().filter(n.selectors.wrapper),t.each(e.data(s.attrs),function(n,r){t.isUndefined(n)?e.removeAttr(r):e.attr(r,n)}),e.removeData(s.typeahead).removeData(s.www).removeData(s.attr).removeClass(n.classes.input),r.length&&(e.detach().insertAfter(r),r.remove())}function m(n){var r,i;return r=t.isJQuery(n)||t.isElement(n),i=r?e(n).first():[],i.length?i:null}var i,s,u;i=e.fn.typeahead,s={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},u={initialize:function(u,c){function v(){var n,i,v,g,y,b,w,E,S,x,T;t.each(c,function(e){e.highlight=!!u.highlight}),n=e(this),i=e(d.html.wrapper),v=m(u.hint),g=m(u.menu),y=u.hint!==!1&&!v,b=u.menu!==!1&&!g,y&&(v=h(n,d)),b&&(g=e(d.html.menu).css(d.css.menu)),v&&v.val(""),n=p(n,d);if(y||b)i.css(d.css.wrapper),n.css(y?d.css.input:d.css.inputWithNoHint),n.wrap(i).parent().prepend(y?v:null).append(b?g:null);T=b?f:a,w=new r({el:n}),E=new o({hint:v,input:n},d),S=new T({node:g,datasets:c},d),x=new l({input:E,menu:S,eventBus:w,minLength:u.minLength},d),n.data(s.www,d),n.data(s.typeahead,x)}var d;return c=t.isArray(c)?c:[].slice.call(arguments,1),u=u||{},d=n(u.classNames),this.each(v)},isEnabled:function(){var t;return c(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return c(this,function(e){e.enable()}),this},disable:function(){return c(this,function(e){e.disable()}),this},isActive:function(){var t;return c(this.first(),function(e){t=e.isActive()}),t},activate:function(){return c(this,function(e){e.activate()}),this},deactivate:function(){return c(this,function(e){e.deactivate()}),this},isOpen:function(){var t;return c(this.first(),function(e){t=e.isOpen()}),t},open:function(){return c(this,function(e){e.open()}),this},close:function(){return c(this,function(e){e.close()}),this},select:function(n){var r=!1,i=e(n);return c(this.first(),function(e){r=e.select(i)}),r},autocomplete:function(n){var r=!1,i=e(n);return c(this.first(),function(e){r=e.autocomplete(i)}),r},moveCursor:function(t){var n=!1;return c(this.first(),function(e){n=e.moveCursor(t)}),n},val:function(t){var n;return arguments.length?(c(this,function(e){e.setVal(t)}),this):(c(this.first(),function(e){n=e.getVal()}),n)},destroy:function(){return c(this,function(e,t){v(t),e.destroy()}),this}},e.fn.typeahead=function(e){return u[e]?u[e].apply(this,[].slice.call(arguments,1)):u.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this}})()}),function(e){e.fn.noUiSlider=function(t,n){function i(e,t,n){typeof e=="function"&&e.call(t,n)}function o(e,t,n){var r=t.data("setup"),i=r.handles,o=r.settings,u=r.pos;e=e<0?0:e>100?100:e;if(o.handles==2)if(n.is(":first-child")){var a=parseFloat(i[1][0].style[u])-o.margin;e=e>a?a:e}else{var a=parseFloat(i[0][0].style[u])+o.margin;e=e<a?a:e}if(o.step){var f=s.from(o.range,o.step);e=Math.round(e/f)*f}return e}function u(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}}function a(e,t){return parseFloat(e[0].style[t])}var r=window.navigator.msPointerEnabled?2:"ontouchend"in document?3:1;window.debug&&console&&console.log(r);var s={to:function(e,t){return t=e[0]<0?t+Math.abs(e[0]):t-e[0],t*100/this._length(e)},from:function(e,t){return t*100/this._length(e)},is:function(e,t){return t*this._length(e)/100+e[0]},_length:function(e){return e[0]>e[1]?e[0]-e[1]:e[1]-e[0]}},f={handles:2,serialization:{to:["",""],resolution:.01}};methods={create:function(){return this.each(function(){function n(e,t,n){e.css(v,t+"%").data("input").val(s.is(l.range,t).toFixed(w))}var l=e.extend(f,t),c=null,h="<a><div></div></a>",p=e(this).data("_isnS_",!0),d=[],v,m,g="",y=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},b=(l.serialization.resolution=l.serialization.resolution||.01).toString().split("."),w=b[0]==1?0:b[1].length;l.start=y(l.start)?[l.start,0]:l.start,e.each(l,function(e,t){y(t)?l[e]=parseFloat(t):typeof t=="object"&&y(t[0])&&(t[0]=parseFloat(t[0]),y(t[1])&&(t[1]=parseFloat(t[1])));var n=!1;t=typeof t=="undefined"?"x":t;switch(e){case"range":case"start":n=t.length!=2||!y(t[0])||!y(t[1]);break;case"handles":n=t<1||t>2||!y(t);break;case"connect":n=t!="lower"&&t!="upper"&&typeof t!="boolean";break;case"orientation":n=t!="vertical"&&t!="horizontal";break;case"margin":case"step":n=typeof t!="undefined"&&!y(t);break;case"serialization":n=typeof t!="object"||!y(t.resolution)||typeof t.to=="object"&&t.to.length<l.handles;break;case"slide":n=typeof t!="function"}n&&console&&console.error("Bad input for "+e+" on slider:",p)}),l.margin=l.margin?s.from(l.range,l.margin):0;if(l.serialization.to instanceof jQuery||typeof l.serialization.to=="string"||l.serialization.to===!1)l.serialization.to=[l.serialization.to];l.orientation=="vertical"?(g+="vertical",v="top",m=1):(g+="horizontal",v="left",m=0),g+=l.connect?l.connect=="lower"?" connect lower":" connect":"",p.addClass(g);for(var E=0;E<l.handles;E++){d[E]=p.append(h).children(":last");var S=s.to(l.range,l.start[E]);d[E].css(v,S+"%"),S==100&&d[E].is(":first-child")&&d[E].css("z-index",2);if(document["documentMode"]==11)var x={down:"pointerdown",move:"pointermove",up:"pointerup"};else var x={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"};var T=".noUiSlider",N=(r===1?"mousedown":r===2?x.down:"touchstart")+T+"X",C=(r===1?"mousemove":r===2?x.move:"touchmove")+T,k=(r===1?"mouseup":r===2?x.up:"touchend")+T;d[E].find("div").on(N,function(t){e("body").bind("selectstart"+T,function(){return!1});if(!p.hasClass("disabled")){e("body").addClass("TOUCH");var n;d.length==2&&c&&d[0].offset().left==d[1].offset().left?n=c:n=e(this).addClass("active").parent();var r=n.add(e(document)).add("body"),a=parseFloat(n[0].style[v]),f=u(t),h=f,g=!1;c=n,e(document).on(C,function(e){e.preventDefault();var t=u(e);if(t[0]=="x")return;t[0]-=f[0],t[1]-=f[1];var r=[h[0]!=t[0],h[1]!=t[1]],c=a+t[m]*100/(m?p.height():p.width());c=o(c,p,n),r[m]&&c!=g&&(n.css(v,c+"%").data("input").val(s.is(l.range,c).toFixed(w)),i(l.slide,p.data("_n",!0)),g=c,n.css("z-index",d.length==2&&c==100&&n.is(":first-child")?2:1)),h=t}).on(k,function(){r.off(T),e("body").removeClass("TOUCH"),p.find(".active").removeClass("active").end().data("_n")&&p.data("_n",!1).change()})}}).on("click",function(e){e.stopPropagation()})}r==1&&p.on("click",function(e){if(!p.hasClass("disabled")){var t=u(e),r=(t[m]-p.offset()[v])*100/(m?p.height():p.width()),s=d.length>1?t[m]<(d[0].offset()[v]+d[1].offset()[v])/2?d[0]:d[1]:d[0];n(s,o(r,p,s),p),i(l.slide,p),p.change()}});for(var E=0;E<d.length;E++){var L=s.is(l.range,a(d[E],v)).toFixed(w);typeof l.serialization.to[E]=="string"?d[E].data("input",p.append('<input type="hidden" name="'+l.serialization.to[E]+'">').find("input:last").val(L).change(function(e){e.stopPropagation()})):l.serialization.to[E]==0?d[E].data("input",{val:function(e){if(typeof e=="undefined")return this.handle.data("noUiVal");this.handle.data("noUiVal",e)},handle:d[E]}):d[E].data("input",l.serialization.to[E].data("handleNR",E).val(L).change(function(){var t=[null,null];t[e(this).data("handleNR")]=e(this).val(),p.val(t)}))}e(this).data("setup",{settings:l,handles:d,pos:v,res:w})})},val:function(){var t=e(this).data("setup");if(typeof arguments[0]!="undefined"){var n=typeof arguments[0]=="number"?[arguments[0]]:arguments[0];return this.each(function(){for(var r=0;r<t.handles.length;r++)if(n[r]!=null){var i=o(s.to(t.settings.range,n[r]),e(this),t.handles[r]);t.handles[r].css(t.pos,i+"%").data("input").val(s.is(t.settings.range,i).toFixed(t.res))}}),i(t.settings.set,this),this}var r=t.handles,u=[];for(var a=0;a<r.length;a++)u.push(parseFloat(r[a].data("input").val()));return u.length==1?u[0]:u},disabled:function(){return n?e(this).addClass("disabled"):e(this).removeClass("disabled")}};var l=jQuery.fn.val;return jQuery.fn.val=function(){return this.data("_isnS_")?methods.val.apply(this,arguments):l.apply(this,arguments)},t=="disabled"?methods.disabled.apply(this):methods.create.apply(this)}}(window.jQuery),define("nouislider",["jquery"],function(){}),function(e){var t=e({});e.subscribe=function(){t.on.apply(t,arguments)},e.unsubscribe=function(){t.off.apply(t,arguments)},e.publish=function(){t.trigger.apply(t,arguments)}}(jQuery),define("tiny-pubsub",["jquery"],function(){}),define("events/LayoutEvent",["require"],function(e){var t={CHANGE:"layoutChange",RESIZE:"layoutResize",BREAKPOINT:"swapres.breakpoint",ORIENTATION:"orientationChange"};return t}),define("detection/mobileDevice",[],function(){var e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk|(?=.*Windows NT)(?=.*Touch)/i,n=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;return t.test(e)||n.test(e.substr(0,4))?!0:!1}),define("views/BaseView",["require","jquery","underscore","backbone"],function(e){var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=r.View.extend({bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui)return;n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings},capitalizeWord:function(e){return e.length?e[0].toUpperCase()+e.slice(1):""}});return i}),define("widgets/Popup",["require","jquery"],function(e){var t=e("jquery"),n=function(e,t){this.$popup=e,this.initPositionTop=e.css("top");if(t)for(var n in t)this[n]=t[n];this._init()};return n.prototype=t.extend(n.prototype,{$popupTriggers:null,$popupCloseBtn:null,$screen:null,$window:t(window),$document:t(document),popupHeight:null,popupWidth:null,useScreen:!1,closePopupOnScreenClick:!0,closePopupOnEsc:!0,popupEasingOpen:"swing",popupEasingClose:"swing",popupAnimationSpeed:300,shouldResizePopup:!0,shouldCenterVertically:!0,_id:null,openPopup:function(){this._addEventHandlers(),this.centerPopup(!0),this._beforePopupOpen(),this._animatePopupOpen(),this._showScreen()},closePopup:function(){this._beforePopupClose(),this._hideScreen(),this._animatePopupClose(),this._removeEventHandlers()},centerPopup:function(e){var n=window.innerWidth?window.innerWidth:this.$window.width(),r=window.innerHeight?window.innerHeight:this.$window.height(),i=this.$popup.outerWidth(),s=this.$popup.outerHeight(),o,u,a,f,l=/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/,c=t("body").css("transform").match(l),h=this.$popup.css("transform").match(l);a=this.$popup.css("top"),o=(n-i)*.5,u=(r-s)*.5,f=r-s>0,c&&(c[1]&&c[1]!="0"&&c[1]!="0.0"&&(o/=c[1]),c[2]&&c[2]!="0"&&c[2]!="0.0"&&(u/=c[2])),h&&(h[1]&&(o*=c[1]),h[2]&&(u*=c[2])),this.shouldCenterVertically&&f?a=u:!f&&e&&(a=t(window).scrollTop()+parseInt(this.initPositionTop,10)),this.$popup.css({left:o,top:a,position:f?"fixed":"absolute"})},resizePopup:function(e,t){var n,r;n=e||this.popupWidth||"auto",r=t||this.popupHeight||"auto",this.$popup.css({height:r,width:n})},_init:function(){this.popupWidth||(this.popupWidth=parseInt(this.$popup.css("width"),10)),this.popupHeight||(this.popupHeight=parseInt(this.$popup.css("height"),10)),this._id=Date.now(),this.$popupTriggers&&this.$popupTriggers.on("click",t.proxy(this._onTriggerClick,this)),this.shouldResizePopup&&this.resizePopup(),this.centerPopup()},_addEventHandlers:function(){this.$window.on("resize."+this._id,t.proxy(this._onWindowResize,this)),this.$window.on("scroll."+this._id,t.proxy(this._onWindowScroll,this)),this.$window.on("keydown."+this._id,t.proxy(this._onWindowKeydown,this)),this.$popupCloseBtn&&this.$popupCloseBtn.on("click."+this._id,t.proxy(this._onCloseBtnClick,this)),this.$screen&&this.useScreen&&this.closePopupOnScreenClick&&this.$screen.on("click."+this._id,t.proxy(this._onScreenClick,this))},_removeEventHandlers:function(){this.$window.off("."+this._id),this.$popupCloseBtn&&this.$popupCloseBtn.off("."+this._id),this.$screen&&this.closePopupOnScreenClick&&this.$screen.off("."+this._id)},_beforePopupOpen:function(){},_afterPopupOpen:function(){},_beforePopupClose:function(){},_afterPopupClose:function(){},_animatePopupOpen:function(){var e;this.$popup.css({display:"block"}),e=this.$popup.position(),this.$popup.css({top:e.top+100}).animate({top:e.top,opacity:1},this.popupAnimationSpeed,this.popupEasingOpen,t.proxy(this._afterPopupOpen,this))},_animatePopupClose:function(){var e=this,t=this.$popup.position();this.$popup.animate({top:t.top+100,opacity:0},this.popupAnimationSpeed,this.popupEasingClose,function(){e.$popup.css({display:"none",top:t.top}),e._afterPopupClose()})},_showScreen:function(){if(!this.useScreen||!this.$screen)return;this.$screen.fadeIn(this.popupAnimationSpeed)},_hideScreen:function(){if(!this.useScreen||!this.$screen)return;this.$screen.fadeOut(this.popupAnimationSpeed)},_resizeScreen:function(){var e,t;if(!this.useScreen||!this.$screen)return;e=this.$document.height(),t=window.innerWidth?window.innerWidth:this.$window.width(),this.$screen.css({height:e,width:t})},_onWindowResize:function(e){this.centerPopup(),this._resizeScreen()},_onWindowScroll:function(e){this.centerPopup()},_onWindowKeydown:function(e){e.keyCode===27&&this.closePopupOnEsc&&this.closePopup()},_onTriggerClick:function(e){e.preventDefault(),this.openPopup()},_onCloseBtnClick:function(e){e.preventDefault(),this.closePopup()},_onScreenClick:function(e){e.preventDefault(),this.closePopupOnScreenClick&&this.closePopup()}}),n}),define("views/ModalBaseView",["require","jquery","underscore","views/BaseView","widgets/Popup","detection/mobileDevice","TweenMax"],function(e){var t=e("jquery"),n=e("underscore"),r=e("views/BaseView"),i=e("widgets/Popup"),s=e("detection/mobileDevice"),o=e("TweenMax"),u=r.extend({el:"#modal",$popupTriggers:null,$screen:t("#popupScreen"),ui:{$closeBtn:".closeBtn"},popup:null,popupAnimationSpeed:.3,shouldCenterVertically:!1,_afterPopupClose:null,_afterPopupOpen:null,initialize:function(e){if(this.$el.length===0)return;n.bindAll(this,"_resetContinue"),this.bindUIElements(),e&&(this.shouldCenterVertically=e.shouldCenterVertically||!1,this._afterPopupClose=e._afterPopupClose||this._resetContinue,this._afterPopupOpen=e._afterPopupOpen),this._initPopup(),this._addEventHandlers()},open:function(){this.popup.openPopup()},close:function(){this.popup.closePopup()},_initPopup:function(){this.popup=new i(this.$el,{$screen:this.$screen,$popupCloseBtn:this.ui.$closeBtn,shouldResizePopup:!1,shouldCenterVertically:this.shouldCenterVertically,useScreen:!0,popupAnimationSpeed:this.popupAnimationSpeed,_animatePopupOpen:this._animatePopupOpen,_animatePopupClose:this._animatePopupClose,_showScreen:this._showScreen,_hideScreen:this._hideScreen,_afterPopupClose:this._afterPopupClose,_afterPopupOpen:this._afterPopupOpen}),this.$continue=this.$el.find(".continueBtn")},_addEventHandlers:function(){this.options.$popupTriggers&&this.options.$popupTriggers.length>0&&this.options.$popupTriggers.on("click",t.proxy(this._onTriggerClick,this))},_animatePopupOpen:function(){var e;this.$popup.css({display:"block"}),this.shouldCenterVertically||this.$popup.css({top:s?"20px":"120px"}),e=this.$popup.position(),this.$popup.css({top:e.top+100}),o.to(this.$popup,this.popupAnimationSpeed,{top:e.top,opacity:1,ease:Back.easeOut,onStart:this._afterPopupOpen})},_animatePopupClose:function(){var e=this,t=this.$popup.position();o.to(this.$popup,this.popupAnimationSpeed,{top:t.top+100,opacity:0,ease:Back.easeOut,onComplete:function(){e.$popup.css({display:"none",top:t.top}),e._afterPopupClose()}})},_resetContinue:function(){this.$continue&&(this.$continue.removeAttr("href"),this.$continue.removeAttr("target"))},_showScreen:function(){if(!this.useScreen||!this.$screen)return;this.$screen.css({opacity:0,display:"block"}),o.to(this.$screen,this.popupAnimationSpeed,{opacity:1})},_hideScreen:function(){var e=this;if(!this.useScreen||!this.$screen)return;o.to(this.$screen,this.popupAnimationSpeed,{opacity:0,onComplete:function(){e.$screen.css({opacity:1,display:"none"})}})},_onTriggerClick:function(e){e.preventDefault();var n=this,r=t(e.currentTarget);if(r.hasClass("exit-link")||r.hasClass("pokemon-center-link")){var i=r.attr("rel")||r.attr("href"),s=r.attr("target");this.$continue.attr("href",i),s&&this.$continue.attr("target",s),this.$continue.on("click",function(){n.close()})}else r.hasClass("rating-logo")&&(this.$continue.attr("href",r.data("href")),this.$continue.attr("target","_blank"),this.$continue.on("click",function(){n.close()}));this.open()}});return u}),define("controllers/ContentRatingController",["require","jquery","underscore","events/LayoutEvent","detection/mobileDevice","views/ModalBaseView"],function(e){var t=e("jquery"),n=e("underscore"),r=e("events/LayoutEvent"),i=e("detection/mobileDevice"),s=e("views/ModalBaseView"),o={MIN_SQUARE_PIXELS:175e3,CONTENT_RATING_HEAD_MAX_WIDTH:"65%",CONTAINER_CLASS:".content-rating",IMAGE_TO_RATE:".rating-image",LOGO_CLASS:".rating-logo",CONTENT_RATING_PARA_MIN_HEIGHT:"50px",initialize:function(e){e=e||{},n.bindAll(this),this.$containers=t(this.CONTAINER_CLASS),t.window.on(r.BREAKPOINT,this._addEventHandlers);var i=t(this.CONTAINER_CLASS).find(this.LOGO_CLASS),o=new s({$popupTriggers:i});i.on("click",function(e){e.preventDefault(),e.stopPropagation()}),this.$containers.each(this._updateLogoDisplay)},_addEventHandlers:function(){var e=i?100:0;t.window.off(r.BREAKPOINT,this._onFirstBreakpoint),t.subscribe(r.RESIZE,this._onResize),n.defer(function(){t.window.trigger(r.RESIZE)},e)},_calculateSquarePixels:function(e){var t=e.innerWidth(),n=e.innerHeight();return t*n},_updateLogoDisplay:function(e,n){var r=t(n),i=r.find(this.LOGO_CLASS),s=r.find(this.IMAGE_TO_RATE),o=i.parent(),u=o.find("h1"),a=o.find("h2"),f=o.find("h3"),l=o.find("p"),c=this._calculateSquarePixels(s);this.CONTENT_RATING_HEAD_MAX_WIDTH=parseInt(o.outerWidth()-i.outerWidth(),10)-32+"px",c<this.MIN_SQUARE_PIXELS?(i.hide(),u&&u.css({"max-width":"100%"}),a&&a.css({"max-width":"100%"}),f&&f.css({"max-width":"100%"}),l&&l.css({"max-width":"100%"})):(i.show(),u&&u.css({"max-width":this.CONTENT_RATING_HEAD_MAX_WIDTH}),a&&a.css({"max-width":this.CONTENT_RATING_HEAD_MAX_WIDTH}),l&&l.css({"max-width":this.CONTENT_RATING_HEAD_MAX_WIDTH,"min-height":this.CONTENT_RATING_PARA_MIN_HEIGHT}))},_onResize:function(e){this.$containers.each(this._updateLogoDisplay)}};return o}),function(e){"use strict";e.fn.customSelectMenu=function(t){function s(t,i,s){var o=s.parent(),u=o.find("label"),a=i.parent().attr("data-select-name"),f=i.attr("data-option-value"),l=i.text(),c=i.html(),h=o.find('input[name="'+a+'"]');i.parent().find("."+n.selectedClass).removeClass(n.selectedClass),i.addClass(n.selectedClass),h.val(f),t.val(f),t.trigger("change"),c.indexOf("pop-flag pop-flag-")>=0?u.html(c):u.text(l),e(i).hasClass(r.pointsGame)&&u.hasClass(r.pointsChamp)?u.removeClass(r.pointsChamp).addClass(r.pointsGame):e(i).hasClass(r.pointsChamp)&&u.hasClass(r.pointsGame)&&u.removeClass(r.pointsGame).addClass(r.pointsChamp),h.val()!==""?u.addClass(n.selectionMadeClass):u.removeClass(n.selectionMadeClass),s.hide(),s.css("display")!=="none"?u.toggleClass(n.openedClass):u.removeClass(n.openedClass)}var n=e.extend({menuClass:"custom-select-menu",openedClass:"opened",selectedClass:"selected",selectionMadeClass:"selection-made",selectionHiddenClass:"hidden",maxHeight:144},t),r={pointsGame:"icon_points_game",pointsChamp:"icon_points_champ"},i=e(this);return this.each(function(){var t=e(this),r=t.attr("name"),i=t.attr("id"),o=e('<input type="hidden" name="'+r+'" value="" />'),u=e('<div class="'+n.menuClass+'">').attr("tabindex",0),a=e('<ul data-select-name="'+r+'">'),f="",l,c,h,p,d,v,m;t.hide();var g=window.location.hash,y=window.pokemonUI.global_dictionary.search.searchUrl||"/search/";g!=""&&g.length>0&&window.location.href.indexOf(y)<0&&(g=g.substring(1),t.find("option[value=' + hash + ']").length>0&&t.val(g)),t.find(":selected")?(d=t.find(":selected"),v=d.attr("value"),m=d.attr("class"),h=d.text(),p=d.html(),v?(m!==undefined&&m.indexOf("pop-flag pop-flag-")>=0?c=e('<label class="'+n.selectionMadeClass+'">'+'<i class="'+m+'" rel="tooltip" title="'+p+'"></i>'+p+"</label>"):c=e('<label class="'+n.selectionMadeClass+'">'+h+"</label>"),o&&o.val(v)):c=e("<label>"+h+"</label>")):(h=t.find(":first").text(),c=e("<label>"+h+"</label>")),t.find("option").each(function(){var t=e(this).text(),r=e(this).attr("value"),i=e(this).attr("class")||"",s=t===h?n.selectedClass:"",o=i!==""?" "+i:"",u='class="'+s+o+'"';r?i.indexOf("pop-flag pop-flag-")>=0?l='<li data-option-value="'+r+'" class="'+s+'">'+'<i class="'+i+'" rel="tooltip" title="'+t+'"></i>'+t+"</li>":l='<li data-option-value="'+r+'"'+u+">"+t+"</li>":l="<li "+u+">"+t+"</li>",f+=l}),a.html(f),t.after(u.append(c,a,o)),n.maxHeight!==0&&(a.addClass("overview").wrap('<div class="custom-scrollbar custom-select-scrollbar"><div class="viewport">'),a=u.find(".custom-select-scrollbar").css({height:n.maxHeight+"px"})),a.hide(),u.on("mousedown",function(r){var i=e(r.target);i.is("label")&&(c.toggleClass(n.openedClass),a.toggle(),a.css("overflow-y")==="scroll"),i.is("li")&&!i.hasClass("disabled")&&s(t,i,a),r.preventDefault()}),u.on("keyup",function(r){var i=e(this),o=i.find("li"),u=i.find("."+n.selectedClass),f="",l="";if(r.keyCode===38||r.keyCode===40)c.addClass(n.openedClass),a.show();r.keyCode===40&&(u.removeClass(n.selectedClass),f=u.next(),f.length>0?f.addClass(n.selectedClass):o.first().addClass(n.selectedClass)),r.keyCode===38&&(u.removeClass(n.selectedClass),l=u.prev(),l.length>0?l.addClass(n.selectedClass):o.last().addClass(n.selectedClass)),r.keyCode===13&&s(t,i.find("."+n.selectedClass),a)});var b=function(){c.removeClass(n.openedClass),a.hide()};u.on("blur",function(t){var r=e(t.target);a.is(":visible")&&!(r.hasClass(n.menuClass)||r.parents("."+n.menuClass).length>0)&&b()}),e("html").on("keyup",function(e){e.keyCode===27&&a.is(":visible")&&b()}),e("html").on("mousedown",function(t){var r=e(t.target);a.is(":visible")&&(a.parent().has(t.target).length==0||!r.parents().addBack().is("."+n.menuClass+" ul, ."+n.menuClass+" label, .custom-select-scrollbar"))&&b()}),t.on("reset",function(){s(t,u.find("li").not("."+n.selectionHiddenClass).first(),a)})})}}(jQuery),define("custom-select-menu",["jquery"],function(){}),function(e){function t(t,n){function g(){return r.update(),b(),r}function y(){var e=h.toLowerCase();f.obj.css(c,p/u.ratio),o.obj.css(c,-p),v.start=f.obj.offset()[c],u.obj.css(e,a[n.axis]),a.obj.css(e,a[n.axis]),f.obj.css(e,f[n.axis])}function b(){m?s.obj[0].ontouchstart=function(e){1===e.touches.length&&(w(e.touches[0]),e.stopPropagation())}:(f.obj.bind("mousedown",w),a.obj.bind("mouseup",S)),n.scroll&&window.addEventListener?(i[0].addEventListener("DOMMouseScroll",E,!1),i[0].addEventListener("mousewheel",E,!1),i[0].addEventListener("MozMousePixelScroll",function(e){e.preventDefault()},!1)):n.scroll&&(i[0].onmousewheel=E)}function w(t){e("body").addClass("noSelect");var n=parseInt(f.obj.css(c),10);v.start=l?t.pageX:t.pageY,d.start=n=="auto"?0:n,m?(document.ontouchmove=function(e){e.preventDefault(),S(e.touches[0])},document.ontouchend=x):(e(document).bind("mousemove",S),e(document).bind("mouseup",x),f.obj.bind("mouseup",x))}function E(t){if(o.ratio<1){var r=t||window.event,i=r.wheelDelta?r.wheelDelta/120:-r.detail/3;p-=i*n.wheel,p=Math.min(o[n.axis]-s[n.axis],Math.max(0,p)),f.obj.css(c,p/u.ratio),o.obj.css(c,-p);if(n.lockscroll||p!==o[n.axis]-s[n.axis]&&p!==0)r=e.event.fix(r),r.preventDefault()}}function S(e){o.ratio<1&&(n.invertscroll&&m?d.now=Math.min(a[n.axis]-f[n.axis],Math.max(0,d.start+(v.start-(l?e.pageX:e.pageY)))):d.now=Math.min(a[n.axis]-f[n.axis],Math.max(0,d.start+((l?e.pageX:e.pageY)-v.start))),p=d.now*u.ratio,o.obj.css(c,-p),f.obj.css(c,d.now))}function x(){e("body").removeClass("noSelect"),e(document).unbind("mousemove",S),e(document).unbind("mouseup",x),f.obj.unbind("mouseup",x),document.ontouchmove=document.ontouchend=null}var r=this,i=t,s={obj:e(".viewport",t)},o={obj:e(".overview",t)},u={obj:e(".scrollbar",t)},a={obj:e(".track",u.obj)},f={obj:e(".thumb",u.obj)},l=n.axis==="x",c=l?"left":"top",h=l?"Width":"Height",p=0,d={start:0,now:0},v={},m="ontouchstart"in document.documentElement;return this.update=function(e){s[n.axis]=s.obj[0]["offset"+h],o[n.axis]=o.obj[0]["scroll"+h],o.ratio=s[n.axis]/o[n.axis],u.obj.toggleClass("disable",o.ratio>=1),a[n.axis]=n.size==="auto"?s[n.axis]:n.size,f[n.axis]=Math.min(a[n.axis],Math.max(0,n.sizethumb==="auto"?a[n.axis]*o.ratio:n.sizethumb)),u.ratio=n.sizethumb==="auto"?o[n.axis]/a[n.axis]:(o[n.axis]-s[n.axis])/(a[n.axis]-f[n.axis]),p=e==="relative"&&o.ratio<=1?Math.min(o[n.axis]-s[n.axis],Math.max(0,p)):0,p=e==="bottom"&&o.ratio<=1?o[n.axis]-s[n.axis]:isNaN(parseInt(e,10))?p:parseInt(e,10),y()},g()}e.tiny=e.tiny||{},e.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!0,size:"auto",sizethumb:"auto",invertscroll:!1}},e.fn.tinyscrollbar=function(n){var r=e.extend({},e.tiny.scrollbar.options,n);return this.each(function(){e(this).data("tsb",new t(e(this),r))}),this},e.fn.tinyscrollbar_update=function(t){return e(this).data("tsb").update(t)}}(jQuery),define("tiny-scrollbar",["jquery"],function(){}),define("templates/ui/tinyScrollbar",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<button class="scroll-control--decr" />\n<div class="scrollbar">\n	<div class="track">\n		<div class="thumb">\n			<div class="end"></div>\n		</div>\n	</div>\n</div>\n<button class="scroll-control--incr" />'},useData:!0})}),define("detection/ie",["require"],function(e){var t=!1;if(navigator.appName==="Microsoft Internet Explorer"){var n=navigator.userAgent,r=/MSIE ([0-9]{1,}[.0-9]{0,})/;return r.exec(n)!==null&&(t=parseFloat(RegExp.$1)),t}return t}),define("controllers/CustomScrollbar",["require","jquery","tiny-scrollbar","templates/ui/tinyScrollbar","detection/ie"],function(e){var t=e("jquery"),n=e("tiny-scrollbar"),r=e("templates/ui/tinyScrollbar"),i=e("detection/ie"),s={initialize:function(e){e=e||{},this.$container=e.$container||t.body;if(!Modernizr.touch)if(!Modernizr.cssscrollbar||i){var n=this.$container.find(".custom-scrollbar");n.each(function(){var e=t(this),n=e.find(".overview"),i=e.find(".viewport"),s=!1,o=r(),u=40,a;e.append(o).removeClass("custom-scrollbar").addClass("js-scrollbar"),e.is(":visible")||(e.show(),s=!0),a=n.height()-i.height(),e.tinyscrollbar({size:e.height()-60}),s&&e.hide();var f=function(t){var r=Math.abs(n.position().top)+t;r<0?r=0:r>a&&(r=a),e.tinyscrollbar_update(r)};e.find(".scroll-control--decr").on("click",function(e){e.preventDefault(),f(-u)}),e.find(".scroll-control--incr").on("click",function(e){e.preventDefault(),f(u)})})}}};return s}),define("controllers/CustomSelectList",["require","jquery","custom-select-menu","controllers/CustomScrollbar"],function(e){var t=e("jquery"),n=e("custom-select-menu"),r=e("controllers/CustomScrollbar"),i={initialize:function(e){var n=this;e=e||{},this.$el=e.$el||t.body;var r=this.$el.find("select").not("[multiple]").not(".leaderboard-select").not(".op"),i=r.length,s="class";if(i)for(var o=0;o<i;o++){var u=t(r[o]),a=u.parent("div"),f=a.attr(s);if(u.parents(".disable-custom-select-menu").length&&!u.parents(".picker").length)continue;a.attr(s,"custom-select-wrapper"),u.customSelectMenu({maxHeight:u.data("height")||0});if(u.parents(".disable-custom-select-menu").length||Modernizr.touch){a.css("visibility","visible");continue}var l=a.find("label");l.attr(s,f),a.css("visibility","visible")}}};return i}),function(e){typeof define=="function"&&define.amd?define("picker",["jquery"],e):typeof exports=="object"?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){function s(t,f,l,h){function w(){return s._.node("div",s._.node("div",s._.node("div",s._.node("div",b.component.nodes(d.open),m.box),m.wrap),m.frame),m.holder,'tabindex="-1"')}function E(){g.data(f,b).addClass(m.input).val(g.data("value")?b.get("select",v.format):t.value),v.editable||g.on("focus."+d.id+" click."+d.id,function(e){e.preventDefault(),b.open()}).on("keydown."+d.id,k),a(t,{haspopup:!0,expanded:!1,readonly:!1,owns:t.id+"_root"})}function S(){a(b.$root[0],"hidden",!0)}function x(){b.$holder.on({keydown:k,"focus.toOpen":C,blur:function(){g.removeClass(m.target)},focusin:function(e){b.$root.removeClass(m.focused),e.stopPropagation()},"mousedown click":function(t){var n=t.target;n!=b.$holder[0]&&(t.stopPropagation(),t.type=="mousedown"&&!e(n).is("input, select, textarea, button, option")&&(t.preventDefault(),b.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),n=t.data(),r=t.hasClass(m.navDisabled)||t.hasClass(m.disabled),i=c();i=i&&(i.type||i.href),(r||i&&!e.contains(b.$root[0],i))&&b.$holder[0].focus(),!r&&n.nav?b.set("highlight",b.component.item.highlight,{nav:n.nav}):!r&&"pick"in n?(b.set("select",n.pick),v.closeOnSelect&&b.close(!0)):n.clear?(b.clear(),v.closeOnClear&&b.close(!0)):n.close&&b.close(!0)})}function T(){var n;v.hiddenName===!0?(n=t.name,t.name=""):(n=[typeof v.hiddenPrefix=="string"?v.hiddenPrefix:"",typeof v.hiddenSuffix=="string"?v.hiddenSuffix:"_submit"],n=n[0]+t.name+n[1]),b._hidden=e('<input type=hidden name="'+n+'"'+(g.data("value")||t.value?' value="'+b.get("select",v.formatSubmit)+'"':"")+">")[0],g.on("change."+d.id,function(){b._hidden.value=t.value?b.get("select",v.formatSubmit):""})}function N(){p&&i?b.$holder.find("."+m.frame).one("transitionend",function(){b.$holder[0].focus()}):b.$holder[0].focus()}function C(e){e.stopPropagation(),g.addClass(m.target),b.$root.addClass(m.focused),b.open()}function k(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(t==27)return b.close(!0),!1;if(t==32||n||!d.open&&b.component.key[t])e.preventDefault(),e.stopPropagation(),n?b.clear().close():b.open()}if(!t)return s;var p=!1,d={id:t.id||"P"+Math.abs(~~(Math.random()*new Date))},v=l?e.extend(!0,{},l.defaults,h):h||{},m=e.extend({},s.klasses(),v.klass),g=e(t),y=function(){return this.start()},b=y.prototype={constructor:y,$node:g,start:function(){return d&&d.start?b:(d.methods={},d.start=!0,d.open=!1,d.type=t.type,t.autofocus=t==c(),t.readOnly=!v.editable,t.id=t.id||d.id,t.type!="text"&&(t.type="text"),b.component=new l(b,v),b.$root=e('<div class="'+m.picker+'" id="'+t.id+'_root" />'),S(),b.$holder=e(w()).appendTo(b.$root),x(),v.formatSubmit&&T(),E(),v.containerHidden?e(v.containerHidden).append(b._hidden):g.after(b._hidden),v.container?e(v.container).append(b.$root):g.after(b.$root),b.on({start:b.component.onStart,render:b.component.onRender,stop:b.component.onStop,open:b.component.onOpen,close:b.component.onClose,set:b.component.onSet}).on({start:v.onStart,render:v.onRender,stop:v.onStop,open:v.onOpen,close:v.onClose,set:v.onSet}),p=o(b.$holder[0]),t.autofocus&&b.open(),b.trigger("start").trigger("render"))},render:function(t){return t?(b.$holder=e(w()),x(),b.$root.html(b.$holder)):b.$root.find("."+m.box).html(b.component.nodes(d.open)),b.trigger("render")},stop:function(){return d.start?(b.close(),b._hidden&&b._hidden.parentNode.removeChild(b._hidden),b.$root.remove(),g.removeClass(m.input).removeData(f),setTimeout(function(){g.off("."+d.id)},0),t.type=d.type,t.readOnly=!1,b.trigger("stop"),d.methods={},d.start=!1,b):b},open:function(i){return d.open?b:(g.addClass(m.active),a(t,"expanded",!0),setTimeout(function(){b.$root.addClass(m.opened),a(b.$root[0],"hidden",!1)},0),i!==!1&&(d.open=!0,p&&r.css("overflow","hidden").css("padding-right","+="+u()),N(),n.on("click."+d.id+" focusin."+d.id,function(e){var n=e.target;n!=t&&n!=document&&e.which!=3&&b.close(n===b.$holder[0])}).on("keydown."+d.id,function(t){var n=t.keyCode,r=b.component.key[n],i=t.target;n==27?b.close(!0):i!=b.$holder[0]||!r&&n!=13?e.contains(b.$root[0],i)&&n==13&&(t.preventDefault(),i.click()):(t.preventDefault(),r?s._.trigger(b.component.key.go,b,[s._.trigger(r)]):b.$root.find("."+m.highlighted).hasClass(m.disabled)||(b.set("select",b.component.item.highlight),v.closeOnSelect&&b.close(!0)))})),b.trigger("open"))},close:function(e){return e&&(v.editable?t.focus():(b.$holder.off("focus.toOpen").focus(),setTimeout(function(){b.$holder.on("focus.toOpen",C)},0))),g.removeClass(m.active),a(t,"expanded",!1),setTimeout(function(){b.$root.removeClass(m.opened+" "+m.focused),a(b.$root[0],"hidden",!0)},0),d.open?(d.open=!1,p&&r.css("overflow","").css("padding-right","-="+u()),n.off("."+d.id),b.trigger("close")):b},clear:function(e){return b.set("clear",null,e)},set:function(t,n,r){var i,s,o=e.isPlainObject(t),u=o?t:{};r=o&&e.isPlainObject(n)?n:r||{};if(t){o||(u[t]=n);for(i in u)s=u[i],i in b.component.item&&(s===undefined&&(s=null),b.component.set(i,s,r)),(i=="select"||i=="clear")&&g.val(i=="clear"?"":b.get(i,v.format)).trigger("change");b.render()}return r.muted?b:b.trigger("set",u)},get:function(e,n){e=e||"value";if(d[e]!=null)return d[e];if(e=="valueSubmit"){if(b._hidden)return b._hidden.value;e="value"}if(e=="value")return t.value;if(e in b.component.item){if(typeof n=="string"){var r=b.component.get(e);return r?s._.trigger(b.component.formats.toString,b.component,[n,r]):""}return b.component.get(e)}},on:function(t,n,r){var i,s,o=e.isPlainObject(t),u=o?t:{};if(t){o||(u[t]=n);for(i in u)s=u[i],r&&(i="_"+i),d.methods[i]=d.methods[i]||[],d.methods[i].push(s)}return b},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)t=n[e],t in d.methods&&delete d.methods[t];return b},trigger:function(e,t){var n=function(e){var n=d.methods[e];n&&n.map(function(e){s._.trigger(e,b,[t])})};return n("_"+e),n(e),b}};return new y}function o(e){var t,n="position";return e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]),t=="fixed"}function u(){if(r.height()<=t.height())return 0;var n=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=n[0].offsetWidth;n.css("overflow","scroll");var s=e('<div style="width:100%" />').appendTo(n),o=s[0].offsetWidth;return n.remove(),i-o}function a(t,n,r){if(e.isPlainObject(n))for(var i in n)f(t,i,n[i]);else f(t,n,r)}function f(e,t,n){e.setAttribute((t=="role"?"":"aria-")+t,n)}function l(t,n){e.isPlainObject(t)||(t={attribute:n}),n="";for(var r in t){var i=(r=="role"?"":"aria-")+r,s=t[r];n+=s==null?"":i+'="'+t[r]+'"'}return n}function c(){try{return document.activeElement}catch(e){}}var t=e(window),n=e(document),r=e(document.documentElement),i=document.documentElement.style.transition!=null;return s.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},s._={group:function(e){var t,n="",r=s._.trigger(e.min,e);for(;r<=s._.trigger(e.max,e,[r]);r+=e.i)t=s._.trigger(e.item,e,[r]),n+=s._.node(e.node,t[0],t[1],t[2]);return n},node:function(t,n,r,i){return n?(n=e.isArray(n)?n.join(""):n,r=r?' class="'+r+'"':"",i=i?" "+i:"","<"+t+r+i+">"+n+"</"+t+">"):""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return typeof e=="function"?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1===0},ariaAttr:l},s.extend=function(t,n){e.fn[t]=function(r,i){var o=this.data(t);return r=="picker"?o:o&&typeof r=="string"?s._.trigger(o[r],o,[i]):this.each(function(){var i=e(this);i.data(t)||new s(this,t,n,r)})},e.fn[t].defaults=n.defaults},s}),define("vendor/plugins/picker",function(){}),function(e){typeof define=="function"&&define.amd?define("pickadate",["./picker","jquery"],e):typeof exports=="object"?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function s(e,t){var n=this,r=e.$node[0],i=r.value,s=e.$node.data("value"),o=s||i,u=s?t.formatSubmit:t.format,a=function(){return r.currentStyle?r.currentStyle.direction=="rtl":getComputedStyle(e.$root[0]).direction=="rtl"};n.settings=t,n.$node=e.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(t.disable||[]).slice(0),n.item.enable=-function(e){return e[0]===!0?e.shift():-1}(n.item.disable),n.set("min",t.min).set("max",t.max).set("now"),o?n.set("select",o,{format:u,defaultValue:!0}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return a()?-1:1},37:function(){return a()?1:-1},go:function(e){var t=n.item.highlight,r=new Date(t.year,t.month,t.date+e);n.set("highlight",r,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var n=this.value;n&&(e.set("highlight",[e.get("view").year,n,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var n=this.value;n&&(e.set("highlight",[n,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var r="";n.disabled(n.get("now"))&&(r=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+r+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}var n=7,r=6,i=e._;s.prototype.set=function(e,t,n){var r=this,i=r.item;return t===null?(e=="clear"&&(e="select"),i[e]=t,r):(i[e=="enable"?"disable":e=="flip"?"enable":e]=r.queue[e].split(" ").map(function(i){return t=r[i](e,t,n),t}).pop(),e=="select"?r.set("highlight",i.select,n):e=="highlight"?r.set("view",i.highlight,n):e.match(/^(flip|min|max|disable|enable)$/)&&(i.select&&r.disabled(i.select)&&r.set("select",i.select,n),i.highlight&&r.disabled(i.highlight)&&r.set("highlight",i.highlight,n)),r)},s.prototype.get=function(e){return this.item[e]},s.prototype.create=function(e,n,r){var s,o=this;return n=n===undefined?e:n,n==-Infinity||n==Infinity?s=n:t.isPlainObject(n)&&i.isInteger(n.pick)?n=n.obj:t.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=i.isDate(n)?n:o.create().obj):i.isInteger(n)||i.isDate(n)?n=o.normalize(new Date(n),r):n=o.now(e,n,r),{year:s||n.getFullYear(),month:s||n.getMonth(),date:s||n.getDate(),day:s||n.getDay(),obj:s||n,pick:s||n.getTime()}},s.prototype.createRange=function(e,n){var r=this,s=function(e){return e===!0||t.isArray(e)||i.isDate(e)?r.create(e):e};return i.isInteger(e)||(e=s(e)),i.isInteger(n)||(n=s(n)),i.isInteger(e)&&t.isPlainObject(n)?e=[n.year,n.month,n.date+e]:i.isInteger(n)&&t.isPlainObject(e)&&(n=[e.year,e.month,e.date+n]),{from:s(e),to:s(n)}},s.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},s.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},s.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},s.prototype.navigate=function(e,n,r){var i,s,o,u,a=t.isArray(n),f=t.isPlainObject(n),l=this.item.view;if(a||f){f?(s=n.year,o=n.month,u=n.date):(s=+n[0],o=+n[1],u=+n[2]),r&&r.nav&&l&&l.month!==o&&(s=l.year,o=l.month),i=new Date(s,o+(r&&r.nav?r.nav:0),1),s=i.getFullYear(),o=i.getMonth();while((new Date(s,o,u)).getMonth()!==o)u-=1;n=[s,o,u]}return n},s.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},s.prototype.measure=function(e,t){var n=this;return t?typeof t=="string"?t=n.parse(e,t):i.isInteger(t)&&(t=n.now(e,t,{rel:t})):t=e=="min"?-Infinity:Infinity,t},s.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},s.prototype.validate=function(e,n,r){var s=this,o=n,u=r&&r.interval?r.interval:1,a=s.item.enable===-1,f,l,c=s.item.min,h=s.item.max,p,d,v=a&&s.item.disable.filter(function(e){if(t.isArray(e)){var r=s.create(e).pick;r<n.pick?f=!0:r>n.pick&&(l=!0)}return i.isInteger(e)}).length;if(!r||!r.nav&&!r.defaultValue)if(!a&&s.disabled(n)||a&&s.disabled(n)&&(v||f||l)||!a&&(n.pick<=c.pick||n.pick>=h.pick)){a&&!v&&(!l&&u>0||!f&&u<0)&&(u*=-1);while(s.disabled(n)){Math.abs(u)>1&&(n.month<o.month||n.month>o.month)&&(n=o,u=u>0?1:-1),n.pick<=c.pick?(p=!0,u=1,n=s.create([c.year,c.month,c.date+(n.pick===c.pick?0:-1)])):n.pick>=h.pick&&(d=!0,u=-1,n=s.create([h.year,h.month,h.date+(n.pick===h.pick?0:1)]));if(p&&d)break;n=s.create([n.year,n.month,n.date+u])}}return n},s.prototype.disabled=function(e){var n=this,r=n.item.disable.filter(function(r){if(i.isInteger(r))return e.day===(n.settings.firstDay?r:r-1)%7;if(t.isArray(r)||i.isDate(r))return e.pick===n.create(r).pick;if(t.isPlainObject(r))return n.withinRange(r,e)});return r=r.length&&!r.filter(function(e){return t.isArray(e)&&e[3]=="inverted"||t.isPlainObject(e)&&e.inverted}).length,n.item.enable===-1?!r:r||e.pick<n.item.min.pick||e.pick>n.item.max.pick},s.prototype.parse=function(e,t,n){var r=this,s={};if(!t||typeof t!="string")return t;if(!n||!n.format)n=n||{},n.format=r.settings.format;return r.formats.toArray(n.format).map(function(e){var n=r.formats[e],o=n?i.trigger(n,r,[t,s]):e.replace(/^!/,"").length;n&&(s[e]=t.substr(0,o)),t=t.substr(o)}),[s.yyyy||s.yy,+(s.mm||s.m)-1,s.dd||s.d]},s.prototype.formats=function(){function e(e,t,n){var r=e.match(/[^\x00-\x7F]+|\w+/)[0];return!n.mm&&!n.m&&(n.m=t.indexOf(r)+1),r.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?i.digits(e):t.date},dd:function(e,t){return e?2:i.lead(t.date)},ddd:function(e,n){return e?t(e):this.settings.weekdaysShort[n.day]},dddd:function(e,n){return e?t(e):this.settings.weekdaysFull[n.day]},m:function(e,t){return e?i.digits(e):t.month+1},mm:function(e,t){return e?2:i.lead(t.month+1)},mmm:function(t,n){var r=this.settings.monthsShort;return t?e(t,r,n):r[n.month]},mmmm:function(t,n){var r=this.settings.monthsFull;return t?e(t,r,n):r[n.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return i.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}}}(),s.prototype.isDateExact=function(e,n){var r=this;return i.isInteger(e)&&i.isInteger(n)||typeof e=="boolean"&&typeof n=="boolean"?e===n:(i.isDate(e)||t.isArray(e))&&(i.isDate(n)||t.isArray(n))?r.create(e).pick===r.create(n).pick:t.isPlainObject(e)&&t.isPlainObject(n)?r.isDateExact(e.from,n.from)&&r.isDateExact(e.to,n.to):!1},s.prototype.isDateOverlap=function(e,n){var r=this,s=r.settings.firstDay?1:0;return i.isInteger(e)&&(i.isDate(n)||t.isArray(n))?(e=e%7+s,e===r.create(n).day+1):i.isInteger(n)&&(i.isDate(e)||t.isArray(e))?(n=n%7+s,n===r.create(e).day+1):t.isPlainObject(e)&&t.isPlainObject(n)?r.overlapRanges(e,n):!1},s.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(t.enable==-1?1:-1)},s.prototype.deactivate=function(e,n){var r=this,s=r.item.disable.slice(0);return n=="flip"?r.flipEnable():n===!1?(r.flipEnable(1),s=[]):n===!0?(r.flipEnable(-1),s=[]):n.map(function(e){var n;for(var o=0;o<s.length;o+=1)if(r.isDateExact(e,s[o])){n=!0;break}n||(i.isInteger(e)||i.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&s.push(e)}),s},s.prototype.activate=function(e,n){var r=this,s=r.item.disable,o=s.length;return n=="flip"?r.flipEnable():n===!0?(r.flipEnable(1),s=[]):n===!1?(r.flipEnable(-1),s=[]):n.map(function(e){var n,u,a,f;for(a=0;a<o;a+=1){u=s[a];if(r.isDateExact(u,e)){n=s[a]=null,f=!0;break}if(r.isDateOverlap(u,e)){t.isPlainObject(e)?(e.inverted=!0,n=e):t.isArray(e)?(n=e,n[3]||n.push("inverted")):i.isDate(e)&&(n=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(n)for(a=0;a<o;a+=1)if(r.isDateExact(s[a],e)){s[a]=null;break}if(f)for(a=0;a<o;a+=1)if(r.isDateOverlap(s[a],e)){s[a]=null;break}n&&s.push(n)}),s.filter(function(e){return e!=null})},s.prototype.nodes=function(e){var t=this,s=t.settings,o=t.item,u=o.now,a=o.select,f=o.highlight,l=o.view,c=o.disable,h=o.min,p=o.max,d=function(e,t){return s.firstDay&&(e.push(e.shift()),t.push(t.shift())),i.node("thead",i.node("tr",i.group({min:0,max:n-1,i:1,node:"th",item:function(n){return[e[n],s.klass.weekdays,'scope=col title="'+t[n]+'"']}})))}((s.showWeekdaysFull?s.weekdaysFull:s.weekdaysShort).slice(0),s.weekdaysFull.slice(0)),v=function(e){return i.node("div"," ",s.klass["nav"+(e?"Next":"Prev")]+(e&&l.year>=p.year&&l.month>=p.month||!e&&l.year<=h.year&&l.month<=h.month?" "+s.klass.navDisabled:""),"data-nav="+(e||-1)+" "+i.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+" "+'title="'+(e?s.labelMonthNext:s.labelMonthPrev)+'"')},m=function(){var n=s.showMonthsShort?s.monthsShort:s.monthsFull;return s.selectMonths?i.node("select",i.group({min:0,max:11,i:1,node:"option",item:function(e){return[n[e],0,"value="+e+(l.month==e?" selected":"")+(l.year==h.year&&e<h.month||l.year==p.year&&e>p.month?" disabled":"")]}}),s.klass.selectMonth,(e?"":"disabled")+" "+i.ariaAttr({controls:t.$node[0].id+"_table"})+" "+'title="'+s.labelMonthSelect+'"'):i.node("div",n[l.month],s.klass.month)},g=function(){var n=l.year,r=s.selectYears===!0?5:~~(s.selectYears/2);if(r){var o=h.year,u=p.year,a=n-r,f=n+r;o>a&&(f+=o-a,a=o);if(u<f){var c=a-o,d=f-u;a-=c>d?d:c,f=u}return i.node("select",i.group({min:a,max:f,i:1,node:"option",item:function(e){return[e,0,"value="+e+(n==e?" selected":"")]}}),s.klass.selectYear,(e?"":"disabled")+" "+i.ariaAttr({controls:t.$node[0].id+"_table"})+" "+'title="'+s.labelYearSelect+'"')}return i.node("div",n,s.klass.year)};return i.node("div",(s.selectYears?g()+m():m()+g())+v()+v(1),s.klass.header)+i.node("table",d+i.node("tbody",i.group({min:0,max:r-1,i:1,node:"tr",item:function(e){var r=s.firstDay&&t.create([l.year,l.month,1]).day===0?-7:0;return[i.group({min:n*e-l.day+r+1,max:function(){return this.min+n-1},i:1,node:"td",item:function(e){e=t.create([l.year,l.month,e+(s.firstDay?1:0)]);var n=a&&a.pick==e.pick,r=f&&f.pick==e.pick,o=c&&t.disabled(e)||e.pick<h.pick||e.pick>p.pick,d=i.trigger(t.formats.toString,t,[s.format,e]);return[i.node("div",e.date,function(t){return t.push(l.month==e.month?s.klass.infocus:s.klass.outfocus),u.pick==e.pick&&t.push(s.klass.now),n&&t.push(s.klass.selected),r&&t.push(s.klass.highlighted),o&&t.push(s.klass.disabled),t.join(" ")}([s.klass.day]),"data-pick="+e.pick+" "+i.ariaAttr({role:"gridcell",label:d,selected:n&&t.$node.val()===d?!0:null,activedescendant:r?!0:null,disabled:o?!0:null})),"",i.ariaAttr({role:"presentation"})]}})]}})),s.klass.table,'id="'+t.$node[0].id+"_table"+'" '+i.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0}))+i.node("div",i.node("button",s.today,s.klass.buttonToday,"type=button data-pick="+u.pick+(e&&!t.disabled(u)?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id}))+i.node("button",s.clear,s.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id}))+i.node("button",s.close,s.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id})),s.klass.footer)},s.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",s)}),define("utils/Time",["require"],function(e){var t={};return t.DAYS_PER_YEAR=365.242,t.HOURS_PER_DAY=24,t.HOURS_PER_YEAR=t.DAYS_PER_YEAR*t.HOURS_PER_DAY,t.MINUTES_PER_HOUR=60,t.MINUTES_PER_DAY=t.MINUTES_PER_HOUR*t.HOURS_PER_DAY,t.MINUTE_PER_YEAR=t.MINUTES_PER_DAY*t.HOURS_PER_YEAR,t.SECONDS_PER_MINUTE=60,t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.SECONDS_PER_DAY=t.SECONDS_PER_HOUR*t.HOURS_PER_DAY,t.SECONDS_PER_YEAR=t.SECONDS_PER_DAY*t.DAYS_PER_YEAR,t.MILLISECONDS_PER_SECOND=1e3,t.MILLISECONDS_PER_MINUTE=t.MILLISECONDS_PER_SECOND*t.SECONDS_PER_MINUTE,t.MILLISECONDS_PER_HOUR=t.MILLISECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.MILLISECONDS_PER_DAY=t.MILLISECONDS_PER_HOUR*t.HOURS_PER_DAY,t.MILLISECONDS_PER_YEAR=t.MILLISECONDS_PER_DAY*t.DAYS_PER_YEAR,t}),define("templates/ui/selectWrapper",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="styled-select button-black"></div>'},useData:!0})}),define("controllers/DateInputController",["require","underscore","jquery","pickadate","controllers/CustomSelectList","utils/Time","templates/ui/selectWrapper","controllers/CustomScrollbar"],function(e){var t=e("underscore"),n=e("jquery"),r=e("pickadate"),i=e("controllers/CustomSelectList"),s=e("utils/Time"),o=e("templates/ui/selectWrapper"),u=e("controllers/CustomScrollbar"),a={CLASS_NAME:"datepicker",MIN_DATE_YEARS:115,initialize:function(){t.bindAll(this,"initPickadate"),this.initialTimestamp=Date.now(),this.initialDate=new Date(this.initialTimestamp),this.maxDate=new Date(this.initialDate.getFullYear(),11,31);var e=this.initialDate.getFullYear()-this.MIN_DATE_YEARS;this.minDate=new Date(e,11,31),this.$inputs=n("."+this.CLASS_NAME),window.pokemonUI=window.pokemonUI||{},this.$inputs.length&&(!Modernizr.touch||!Modernizr.inputtypes.date||window.pokemonUI.force_date_picker)&&this.initPickadate(),this.$inputs.filter(":input[readonly]").each(function(){n(this).on("focus",function(){n(this).blur()})})},initPickadate:function(){var e=window.pokemonUI.datepicker||{},r={today:"",clear:"",close:"Confirm",closeOnSelect:!1,min:this.minDate,max:this.maxDate,selectYears:this.MIN_DATE_YEARS,selectMonths:!0,onOpen:this._onOpen,onRender:this._onRender,klass:{selectMonth:"month",selectYear:"year"},formatSubmit:"yyyy-mm-dd",hiddenName:!0};e=t.extend(r,e);var i=this;this.$inputs.not(":input[readonly]").each(function(t,r){var s=n(r),o=s.val()||null;s=i.replaceInput(s,e.placeholder,o),s.pickadate(e)})},replaceInput:function(e,t,n){var r=e.clone();return r=r.attr("type","text").val("").css({cursor:"text"}),t&&r.attr("placeholder",t),n&&r.data("value",n),e.replaceWith(r),r},_onOpen:function(e){if(!this.get("select")){var t=new Date;this.set("select",t)}this.$node.blur()},_onRender:function(e){var t=o(),r=this.$root,s=r.find("select"),a=r.find("select.year"),f=r.find("select.month"),l;s.wrap(t),s.data("height",200),s.each(function(){n(this).data("customname",n(this).attr("class"))}),a.attr("name","picker__year"),f.attr("name","picker__month"),i.initialize({$el:r}),l=a.siblings("div").find("ul"),l.append(l.find("li").get().reverse()),u.initialize({$container:r}),r.on("click",".custom-select-menu",function(){n(this).focus()});var c=this;a.on("change",function(e){var t=c.get("select");if(t!==null){var n=c.$root.find("select.year").val();n=parseInt(n,10);if(!isNaN(n)&&t.year!==n){var r=new Date(n,t.month,t.date);c.set("select",r)}}}),f.on("change",function(e){var t=c.get("select");if(t!==null){var n=c.$root.find("select.month").val();n=parseInt(n,10);if(!isNaN(n)&&t.month!==n){var r=new Date(t.year,n,t.date);c.set("select",r)}}})}};return a}),define("controllers/ExternalLinkController",["require","jquery","views/ModalBaseView"],function(e){var t=e("jquery"),n=e("views/ModalBaseView"),r={initialize:function(e){e=e||{},_.bindAll(this);var n=e.container?e.container.find(".exit-link"):t(".exit-link"),r=e.container?e.container.find(".pokemon-center-link"):t(".pokemon-center-link");this._hideExitLinks(n),this._addViews(n),this._addViews(r,{el:"#pokemon-center-modal"})},_addViews:function(e,t){this.modal=new n(_.extend({$popupTriggers:e},t||{}))},_hideExitLinks:function(e){e.each(function(e,n){var r=t(n),i=r.attr("href");r.removeAttr("href"),r.attr("rel",i)})}};return r}),define("animation/bounce",["require","jquery","TweenMax"],function(e){var t=e("jquery"),n=e("TweenMax"),r={distance:4,duration:.1},i=function(e,i){return i=t.extend(r,i),n.fromTo(e,i.duration,{y:0},{y:"-"+i.distance,repeat:1,yoyo:!0,ease:Sine.easeInOut})};return i}),define("controllers/HoverController",["require","jquery","animation/bounce"],function(e){var t=e("jquery"),n=e("animation/bounce"),r={BOUNCE_CLASS:"bounce",HOVER_CLASS:"hover",initialize:function(e){e=e||{};var n=this;Modernizr.touch&&(t.body.on("touchstart","a, li",function(e){t(this).addClass(n.HOVER_CLASS)}),t.body.on("touchend","a, li",function(e){t(this).removeClass(n.HOVER_CLASS)}))}};return r}),define("controllers/MatchHeightController",["require","jquery","events/LayoutEvent"],function(e){var t=e("jquery"),n=e("events/LayoutEvent"),r={MATCH_CLASS:".match",CONTAINER_CLASS:".match-height",MOBILE_CLASS:".match-height-mobile",TABLET_CLASS:".match-height-tablet",initialize:function(e){e=e||{},_.bindAll(this),this._addElements(e),this._addEventHandlers()},refresh:function(e){this._addElements(e),this.$containers.each(this._zeroHeights),this.$containers.each(this._matchHeights)},_addElements:function(e){this.$containers=e.$containers||t(this.CONTAINER_CLASS),this.$mobileContainers=e.$mobileContainers||t(this.CONTAINER_CLASS+", "+this.MOBILE_CLASS),this.$tabletContainers=e.$tabletContainers||t(this.CONTAINER_CLASS+", "+this.TABLET_CLASS)},_addEventHandlers:function(){t.subscribe(n.CHANGE,this._handleLayoutChange),t.subscribe(n.RESIZE,this._handleResize)},_matchHeights:function(e,n){var r=0,i=t(n).find(this.MATCH_CLASS);i.css({minHeight:""}),i.each(function(e,n){r=Math.max(r,t(n).height())}),i.css({minHeight:r})},_zeroHeights:function(e,n){var r=t(n).find(this.MATCH_CLASS);r.css({minHeight:""})},_handleLayoutChange:function(e,t){t?(this.$containers=this.$mobileContainers,this.$tabletContainers.each(this._zeroHeights)):(this.$containers=this.$tabletContainers,this.$mobileContainers.each(this._zeroHeights)),this.$containers.each(this._matchHeights)},_handleResize:function(e){this.$containers.each(this._matchHeights)}};return r}),"undefined"==typeof LimelightPlayerUtil&&("undefined"==typeof JSON&&(this.JSON={},function(){function z(e){return 10>e?"0"+e:e}function F(e){return B.lastIndex=0,B.test(e)?'"'+e.replace(B,function(e){var t=G[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function C(e,t){var r,i,s,o,a=n,f,l=t[e];l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof u&&(l=u.call(t,e,l));switch(typeof l){case"string":return F(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";n+=w,f=[];if("[object Array]"===Object.prototype.toString.apply(l)){o=l.length;for(r=0;r<o;r+=1)f[r]=C(r,l)||"null";return s=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+a+"]":"["+f.join(",")+"]",n=a,s}if(u&&"object"==typeof u)for(o=u.length,r=0;r<o;r+=1)i=u[r],"string"==typeof i&&(s=C(i,l))&&f.push(F(i)+(n?": ":":")+s);else for(i in l)Object.hasOwnProperty.call(l,i)&&(s=C(i,l))&&f.push(F(i)+(n?": ":":")+s);return s=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+a+"}":"{"+f.join(",")+"}",n=a,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+z(this.getUTCMonth()+1)+"-"+z(this.getUTCDate())+"T"+z(this.getUTCHours())+":"+z(this.getUTCMinutes())+":"+z(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var E=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,B=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,w,G={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var i;w=n="";if("number"==typeof r)for(i=0;i<r;i+=1)w+=" ";else"string"==typeof r&&(w=r);if(!(u=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return C("",{"":e});throw Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(c,n){function p(e,t){var r,i,s=e[t];if(s&&"object"==typeof s)for(r in s)Object.hasOwnProperty.call(s,r)&&(i=p(s,r),void 0!==i?s[r]=i:delete s[r]);return n.call(e,t,s)}var l;c=String(c),E.lastIndex=0,E.test(c)&&(c=c.replace(E,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return l=eval("("+c+")"),"function"==typeof n?p({"":l},""):l;throw new SyntaxError("JSON.parse")})}()),LimelightPlayerUtil=function(){function e(e,t,n,r,i){g(e,function(s){var o={service:{}};return e.playlistService&&(o.service.playlistService=e.playlistService),e.metricsCollectionService&&(o.service.metricsCollectionService=e.metricsCollectionService),e.cuePointService&&(o.service.cuePointService=e.cuePointService),e.beaconingService&&(o.service.beaconingService=e.beaconingService),LimelightPlayer=DelvePlayer=s=s.createPlayer(t,n,r,i,o)})}function t(e,t,n,r){n.postStartSessionEvent(),o(e,t,d,n,function(e,t){var i=t.mediaList[0],s=document.createElement("TABLE");s.style="border-style:none";var o=s.appendChild(document.createElement("TR")).appendChild(document.createElement("TD")).appendChild(document.createElement("A"));o.href="#",o.appendChild(document.createElement("IMG")).src=encodeURI(i.thumbnailImageUrl);var u=s.appendChild(document.createElement("TR")).appendChild(document.createElement("TD"));u.style="text-align:center",u=u.appendChild(document.createElement("A")),u.href="#",u.appendChild(document.createTextNode("Click to play"));var a=function(){return n.postPlayStateEvent(b.PLAY,0,function(){window.location=i.mobileUrls[0].mobileUrl}),!1};o.onclick=a,u.onclick=a,r(s)})}function n(e,t,n,r,i,s){o(e,r,m.htmlCodec,i,function(e,r){i.postStartSessionEvent();var o=r.mediaList[0],u=document.createElement("VIDEO");u.src=encodeURI(o.mobileUrls[0].mobileUrl),u.width=t,u.height=n,u.poster=encodeURI(o.previewImageUrl),u.controls=!0,u.addEventListener("click",u.play),u.addEventListener("play",function(){i.postPlayStateEvent(b.PLAY,Math.round(1e3*u.currentTime)),i.startHeartbeat({quality:e,getPosition:function(){return Math.round(1e3*u.currentTime)},isPlaying:function(){return!u.paused}})}),u.addEventListener("pause",function(){u.ended||i.postPlayStateEvent(b.PAUSE,Math.round(1e3*u.currentTime)),i.stopHeartbeat()}),u.addEventListener("ended",function(){i.postEvent(b.MEDIA_COMPLETE),i.stopHeartbeat()});var a=0;u.addEventListener("timeupdate",function(){var e=u.currentTime;if(u.seeking&&e!==a){var t=Math.round(1e3*a),n=Math.round(1e3*e);t!==n&&i.postEvent(b.SEEK,{offsetBefore:t,offsetAfter:n,heatmapDisplayed:!1,spectrumType:"",spectrumColor:0,relatedConcepts:""})}a=e}),s(u)})}function r(e){return e=e||{},e.wmode=e.wmode||"window",e.id=e.id||"limelight_player_"+Math.floor(1e9*Math.random()),e.resources=e.resources||{},e.resources.beaconingService=e.resources.beaconingService||c,e.resources.cuePointService=e.resources.cuePointService||l,e.resources.metricsCollectionService=e.resources.metricsCollectionService||f,e.resources.playlistService=e.resources.playlistService||a,e.resources.htmlPlayerLocation=e.resources.htmlPlayerLocation||m.loadingProtocol+h,e.resources.playerIframeLocation=e.resources.playerIframeLocation||m.loadingProtocol+p,e}function i(r,i,o,u,a,f,l,c,h){var p=b.create(i.metricsCollectionService,u,h);switch(h){case"iframe":return y(i,l,a,f,u,p,r);case"html":return e(i,l,a,f,null!==o?o:u);case"video":n(i,a,f,u,p,r);break;case"link":t(i,u,p,r);break;case"install-flash":m.Flash.canUpgrade?(i=!0===m.Flash.isActiveX?"ActiveX":"PlugIn",document.title=document.title.slice(0,47)+" - Flash Player Installation",s(r,"http://assets.delvenetworks.com/player/playerProductInstall.swf","MMredirectURL="+window.location+"&MMplayerType="+i+"&MMdoctitle="+document.title,a,f,l,c)):r('<table width="'+a+'" height="'+f+'" bgcolor="black" style="background-color:black; margin-left:auto; margin-right:auto"><tr><td align="center" style="text-align:center; vertical-align:middle"><a href="http://www.adobe.com/go/getflash/" style="text-decoration:underline; color:white"><span style="font-size:12px; color:white">You need to have the latest version of Adobe Flash Player to view this content.<br/>Please click here to continue.</span></a></td></tr></table>')}return null}function s(e,t,n,r,i,s,o){var u="",a;if("string"==typeof n)u=n;else if("object"==typeof n)for(a in n)u+=encodeURIComponent(a)+"="+encodeURIComponent(n[a])+"&";return e('<object type="application/x-shockwave-flash" id="'+s+'" name="'+s+'" width="'+r+'" height="'+i+'" data="'+t+'"><param name="movie" value="'+t+'"/><param name="wmode" value="'+o+'"/><param name="allowScriptAccess" value="always"/><param name="allowFullScreen" value="true"/><param name="flashVars" value="'+u+'"/></object>'),document.getElementById(s)}function o(e,t,n,r,i){var s;t.mediaId?s=e.playlistService+"/media/"+t.mediaId+"/getMobilePlaylistByMediaId?platform="+n:t.channelId?s=e.playlistService+"/channel/"+t.channelId+"/getFirstAvailableMobilePlaylistByChannelId?platform="+n:t.channelListId&&(s=e.playlistService+"/channel_list/"+t.channelListId+"/getFirstAvailableMobilePlaylistByChannelListId?platform="+n),w(s,function(e){e&&e.mediaList&&e.mediaList[0]?(e.id&&r.setChannelId(e.id),e.mediaList[0].mediaId&&r.setMediaId(e.mediaList[0].mediaId),0<e.mediaList[0].mobileUrls.length?i(n,e):showError("Video Not Available For This Device")):showError("Video Not Available")})}function u(e){function t(e){return("object"==typeof e||"function"==typeof e)&&e.nodeType}if("undefined"==typeof e)return function(e){t(e)?document.body.appendChild(e):document.write(e)};"string"==typeof e&&(e=document.getElementById(e));if(t(e)){if("OBJECT"===e.nodeName){var n=e.parentNode,r=e.nextSibling,i=!1;return function(s){var o=document.createElement("DIV");t(s)?o.appendChild(s):o.innerHTML=s,i||(n.replaceChild(o.firstChild,e),i=!0);for(;o.firstChild;)n.insertBefore(o.firstChild,r)}}return function(n){t(n)?e.appendChild(n):e.innerHTML+=n}}return null}var a="//production-ps.lvp.llnw.net/r/PlaylistService",f="//production-mcs.lvp.llnw.net/r/MetricsCollectionService",l="//cps.lvp.llnw.net/r/CuePointService",c="//production-eqbc.lvp.llnw.net",h="//videoplatform.limelight.com/player/html-player.js",p="//assets.delvenetworks.com/player/resources/iframe.html",d="Mobile3gp",v=navigator,m=function(){var e=v.userAgent.toLowerCase(),t=v.platform.toLowerCase(),n=/android \d+\x2E\d+/.test(e),r=/android [2-9]+\x2E\d+/.test(e),i=/blackberry/.test(e);/playbook/.test(e);var s=/msie/.test(e),o=/msie\s\d\d/.test(e),u=/iemobile/.test(e),a=/ipad/.test(e),f=/iphone|ipad|ipod/.test(e),l=/silk/.test(e),c=/linux/.test(t?t:e),t=/opera mobi|opera tablet/.test(e),h=/fennec/.test(e),p=/symbian|series60/.test(e),d=/nintendo wiiu/.test(e),m=/mobile/.test(e)||n,i=n||f||l||i||p||t||h||d||u||m,u=[0,0,0];if(f&&(e=e.match(/os (.*) like mac os x/))&&1<e.length){var u=[],e=e[1].split("_"),g;for(g in e)u.push(parseInt(e[g]));for(;3>u.length;)u.push(0)}return g=function(){var e=document.createElement("VIDEO");return e.canPlayType?e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'):""}(),h=(r||l||f)&&!h,r=function(){var e=document.createElement("VIDEO");return e.canPlayType?e.canPlayType("application/vnd.apple.mpegurl"):""}(),l="probably"===r||f?"HttpLiveStreaming":"MobileH264",e=function(){var e=function(){var e=null;if("undefined"!=typeof v.plugins&&"object"==typeof v.plugins["Shockwave Flash"]){if((e=v.plugins["Shockwave Flash"].description)&&("undefined"==typeof v.mimeTypes||!v.mimeTypes["application/x-shockwave-flash"]||v.mimeTypes["application/x-shockwave-flash"].enabledPlugin))return e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),[parseInt(e.replace(/^(.*)\..*$/,"$1"),10),parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0]}else if("undefined"!=typeof window.ActiveXObject)try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(t&&(e=t.GetVariable("$version")))return e=e.split(" ")[1].split(","),[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}catch(n){}return[0,0,0]}();return function(t,n,r){return e[0]>t||e[0]==t&&(e[1]>n||e[1]==n&&e[2]>=r)}}(),s={canUpgrade:!c&&e(6,0,65),H264:e(9,0,115),hasAdaptiveStreaming:e(10,0,0),isActiveX:s},n=s.H264&&!n?"flash":i?"probably"===g||h?t||f&&!a&&5>u[0]?"video":"html":"link":"install-flash","install-flash"===n&&o&&"assets.delvenetworks.com"!==window.location.host&&(n="iframe"),{Metrics:{H264:g,HLS:r},embedMode:n,htmlCodec:l,Flash:s,loadingProtocol:"https:"===document.location.protocol?"https:":"http:"}}(),g=function(){var e=[];return function(t,n){if(void 0!==LimelightPlayerUtil.Player)n(LimelightPlayerUtil.Player);else if(e.push(n),void 0===LimelightPlayerUtil.playerLoadedCallback){var r=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("SCRIPT");i.type="text/javascript",i.src=t.htmlPlayerLocation,i.charset="utf-8",LimelightPlayerUtil.playerLoadedCallback=function(t){LimelightPlayerUtil.Player=t,delete LimelightPlayerUtil.playerLoadedCallback,r&&r.removeChild(i),e.forEach(function(e){e(t)}),e=[]},i.onerror=function(){e.forEach(function(e){e(null)}),e=[]},r.insertBefore(i,r.firstChild)}}}(),y=function(){var e=[];return function(t,n,r,i,s,o,u){function a(e){var t={},n;for(n in e)t[n]="object"==typeof e[n]&&e[n]?a(e[n]):e[n];return t}var f=document.createElement("IFRAME");f.id=n,f.width=r,f.height=i,f.src=t.playerIframeLocation,f.style.border="none",u(f);var l=document.getElementById(n).contentWindow,c={},h={},p={},d=0,v={},m=0,g=1,y=null,b=null,w=void 0;window.addEventListener("message",function(n){var r,i=n.data.state;i&&(i.channelList&&(c=i.channelList),i.channel&&(h=i.channel),i.media&&(p=i.media),i.index&&(d=i.index),i.playState&&(v=i.playState),i.position&&(m=i.position),i.volume&&(g=i.volume),i.quality&&(y=i.quality),i.actualQuality&&(b=i.actualQuality),i.customEvents&&(w=i.customEvents));switch(n.data.type){case"event":"function"==typeof limelightPlayerCallback?limelightPlayerCallback(n.data.id,n.data.eventName,n.data.data):"function"==typeof delvePlayerCallback&&delvePlayerCallback(n.data.id,n.data.eventName,n.data.data);break;case"init":l.postMessage({type:"init",embed:"../embed.js",flashVars:s,resourceLocations:t},"*");break;case"api":r={};for(var o in n.data.funcs){var i=n.data.funcs[o],u=function(e){return function(){l.postMessage({type:"func",name:e,args:Array.prototype.slice.call(arguments)},"*")}}(i);r[i]=u}r.registerPlayer=function(){},r.getPlayers=function(){return e},r.doGetActualQuality=function(){return b?b.name:null},r.doGetQuality=function(){return y?y.name:null},r.doGetQualityDetails=function(){return a({actual:b,selected:y})},r.doGetCurrentIndex=function(){return d},r.doGetCurrentMedia=function(){return a(p)},r.doGetCurrentChannel=function(){return a(h)},r.doGetCurrentChannelList=function(){return a(c)},r.doGetCurrentPlayState=function(){return a(v)},r.doGetCustomEvents=function(){return a(w)},r.doGetPlayheadPositionInMilliseconds=function(){return m},r.doSetVolume=function(){var e=r.doSetVolume;return function(t){t||(t=0);if("number"==typeof t)return 0>t&&(t=0),1<t&&(t=1),g=t,e(t)}}(),r.doGetVolume=function(){return g},delete r.doGetChannels,delete r.doGetChannelMedia,r.getPlayer=function(){return r},r.getPlayerNodeByIdOrName=function(e){var t=document.getElementById(e);return t&&t.doPlay?t:(e=document.getElementsByName(e))&&null!=e.length?e[0]:null},LimelightPlayer=DelvePlayer=r;for(var E in r)f[E]=r[E];e.push(r)}})}}(),b=function(){function e(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;return!t&&e!=document.cookie.substring(0,e.length)||-1==t?null:(e=document.cookie.indexOf(";",n),-1==e&&(e=document.cookie.length),unescape(document.cookie.substring(n,e)))}function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:t&3|8).toString(16)}).toUpperCase()}function n(e,t){if(void 0!==e){var n=!1;return function(){n||(n=!0,e.apply(t||this,arguments))}}}var r=t(),i={H264:m.Metrics.H264,HLS:m.Metrics.HLS},s=v.userAgent,o=v.platform,u=function(){var n=e("Limelight_Embed_Code_UserId");return function(){if(!n){var e=n=t(),r=365,i=new Date;i.setTime(i.getTime()),r&&(r*=864e5),i=new Date(i.getTime()+r),document.cookie="Limelight_Embed_Code_UserId="+escape(e)+(r?";expires="+i.toGMTString():"")+""}return n}}(),a=function(){var e=+(new Date);return function(){return new Date-e}}(),f=function(){var e=0;return function(t,n,r){var i="_limelight_embed_ajax_"+e++,s=document.createElement("IFRAME");s.id=i,s.name=i,s.style.cssText="display:none;width:0px;height:0px;",(document.getElementsByTagName("body")[0]||document.documentElement).appendChild(s);var o=document.createElement("FORM");o.setAttribute("target",i),o.setAttribute("method","POST"),o.setAttribute("action",t);for(field in n)t=document.createElement("INPUT"),t.setAttribute("type","hidden"),t.setAttribute("name",field),t.setAttribute("value",JSON.stringify(n[field])),o.appendChild(t);s.appendChild(o),s.onload=function(){void 0!==r&&r(),setTimeout(function(){s.parentNode.removeChild(s)},0)},o.submit()}}();return{HEARTBEAT:"Heartbeat",MEDIA_COMPLETE:"MediaComplete",PLAY:"Play",PAUSE:"Pause",SEEK:"Seek",START_SESSION:"StartSession",create:function(e,t,l){var c={},h=null;i.embedMode=l;var p={postEvent:function(n,i,s){var o={channelListId:c.channelListId||t.channelListId,channelId:c.channelId||t.channelId,mediaId:c.mediaId||t.mediaId,millisecondsElapsed:a()},u;for(u in o)void 0===o[u]&&(o[u]="");for(u in i)o[u]=void 0===i[u]?"":i[u];f(e+"/recordMetricsEvent",{sourceInstanceId:r,source:"Limelight Embed Code",sourceVersion:1,eventType:n,data:o},s)},postStartSessionEvent:function(){this.postEvent(b.START_SESSION,{adConfigurationChannelId:t.adConfigurationChannelId,htmlCapabilities:JSON.stringify(i),pageURL:window.location.href,platform:o,playerProviderId:"Delve Networks",userAgent:s,userId:u(),version:"1.6"})},postPlayStateEvent:function(e,t,r){var i=n(r);this.postEvent(e,{positionInMilliseconds:t},i),void 0!==r&&setTimeout(i,1e3)},setChannelListId:function(e){c.channelListId=e},setChannelId:function(e){c.channelId=e},setMediaId:function(e){c.mediaId=e},startHeartbeat:function(e){null!==h&&clearInterval(h),h=setInterval(function(){e.isPlaying()&&p.postEvent(b.HEARTBEAT,{droppedFrames:0,droppedFramesRatio:"",selectedMediaQuality:e.quality,positionInMilliseconds:e.getPosition(),maxBytesPerSecond:"",currentBitrate:""})},3e4)},stopHeartbeat:function(){null!==h&&clearInterval(h),h=null}};return p}}}(),w=function(){var e=0;return function(t,n){var r="_"+e++;t+="&jsonp=LimelightPlayerUtil.jsonpCallback."+r;var i=document.getElementsByTagName("head")[0]||document.documentElement,s=document.createElement("SCRIPT");s.type="text/javascript",s.src=t,s.charset="utf-8",LimelightPlayerUtil.jsonpCallback[r]=function(e){delete LimelightPlayerUtil.jsonpCallback[r],n(e),i&&i.removeChild(s)},s.onerror=function(){n(null)},i.insertBefore(s,i.firstChild)}}();return{jsonpCallback:[],initEmbed:function(e,t){t=t||{};var n=document.getElementById(e);if(null===n)return console&&console.error&&"function"==typeof console.error&&console.error("No such element: "+e),null;var s=n.width,o=n.height,a=n.firstChild;t.id=e;for(var f="",l={};null!==a;){if("PARAM"===a.nodeName)switch(a.name){case"flashVars":for(var f=a.value,l={},c=f.split("&"),h=0;h<c.length;h++){var p=c[h],d=p.indexOf("=");-1===d?l[decodeURIComponent(p)]="true":l[decodeURIComponent(p.substring(0,d))]=decodeURIComponent(p.substring(d+1))}break;case"wmode":t.wmode=a.value}a=a.nextSibling}return t=r(t),a=t.embedMode||m.embedMode,"flash"!==a?(n=u(n),i(n,t.resources,f,l,s,o,t.id,t.wmode,a)):n},embedPlayer:function(e,t,n,o,a){a=u(a),o=r(o);var f=o.embedMode||m.embedMode;return"flash"===f?s(a,m.loadingProtocol+(m.Flash.hasAdaptiveStreaming?"//assets.delvenetworks.com/player/fp10loader.swf":"//assets.delvenetworks.com/player/fp9loader.swf"),e,t,n,o.id,o.wmode):i(a,o.resources,null,e,t,n,o.id,o.wmode,f)}}}()),define("delvePlayer",function(e){return function(){var t,n;return t||e.LimelightPlayerUtil}}(this)),define("templates/video/youtube_embed",["handlebars"],function(e){return e.template({1:function(e,t,n,r){return"&autoplay=1"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<img src="'+a((s=(s=t["ui-path"]||(e!=null?e["ui-path"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"ui-path",hash:{},data:r}):s))+'img/chrome/video-embed-bg.png" class="poster" alt="" />\n<div class="video">\n	<iframe id="'+a((s=(s=t["player-id"]||(e!=null?e["player-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"player-id",hash:{},data:r}):s))+'" width="'+a((s=(s=t.width||(e!=null?e.width:e))!=null?s:u,typeof s===o?s.call(e,{name:"width",hash:{},data:r}):s))+'" height="'+a((s=(s=t.height||(e!=null?e.height:e))!=null?s:u,typeof s===o?s.call(e,{name:"height",hash:{},data:r}):s))+'" src="//www.youtube.com/embed/'+a((s=(s=t["video-id"]||(e!=null?e["video-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"video-id",hash:{},data:r}):s))+"?rel=0&enablejsapi=1";return i=t["if"].call(e,e!=null?e.autoplay:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+'" frameborder="0" allowfullscreen></iframe>\n</div>\n'},useData:!0})}),define("templates/video/delve_embed",["handlebars"],function(e){return e.template({1:function(e,t,n,r){return"&amp;autoplay=true"},3:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return"&amp;startQuality="+u((i=(i=t.startQuality||(e!=null?e.startQuality:e))!=null?i:o,typeof i===s?i.call(e,{name:"startQuality",hash:{},data:r}):i))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<img src="'+a((s=(s=t["ui-path"]||(e!=null?e["ui-path"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"ui-path",hash:{},data:r}):s))+'img/chrome/video-embed-bg.png" class="poster" alt="" />\n<div class="video">\n	<span class="LimelightEmbeddedPlayer">\n\n		<object type="application/x-shockwave-flash" id="'+a((s=(s=t["player-id"]||(e!=null?e["player-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"player-id",hash:{},data:r}):s))+'" name="'+a((s=(s=t["player-id"]||(e!=null?e["player-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"player-id",hash:{},data:r}):s))+'" class="LimelightEmbeddedPlayerFlash" width="'+a((s=(s=t.width||(e!=null?e.width:e))!=null?s:u,typeof s===o?s.call(e,{name:"width",hash:{},data:r}):s))+'" height="'+a((s=(s=t.height||(e!=null?e.height:e))!=null?s:u,typeof s===o?s.call(e,{name:"height",hash:{},data:r}):s))+'" data="//assets.delvenetworks.com/player/loader.swf">\n			<param name="movie" value="//assets.delvenetworks.com/player/loader.swf"/>\n			<param name="wmode" value="opaque"/>\n			<param name="allowScriptAccess" value="always"/>\n			<param name="allowFullScreen" value="true"/>\n			<param name="flashVars" value="playerForm='+a((s=(s=t.playerForm||(e!=null?e.playerForm:e))!=null?s:u,typeof s===o?s.call(e,{name:"playerForm",hash:{},data:r}):s))+"&amp;mediaId="+a((s=(s=t["video-id"]||(e!=null?e["video-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"video-id",hash:{},data:r}):s));return i=t["if"].call(e,e!=null?e.autoplay:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),i=t["if"].call(e,e!=null?e.startQuality:e,{name:"if",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+"\"/>\n		</object>\n\n		<script>LimelightPlayerUtil.initEmbed('"+a((s=(s=t["player-id"]||(e!=null?e["player-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"player-id",hash:{},data:r}):s))+"');</script>\n\n	</span>\n</div>"},useData:!0})}),define("templates/video/html5_embed",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<img src="'+u((i=(i=t["ui-path"]||(e!=null?e["ui-path"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"ui-path",hash:{},data:r}):i))+'img/chrome/video-embed-bg.png" class="poster" alt="" />\n<div id="'+u((i=(i=t["player-id"]||(e!=null?e["player-id"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"player-id",hash:{},data:r}):i))+'"></div>\n<script>LimelightPlayerUtil.embed({\n    "width":"'+u((i=(i=t.width||(e!=null?e.width:e))!=null?i:o,typeof i===s?i.call(e,{name:"width",hash:{},data:r}):i))+'",\n    "height":"'+u((i=(i=t.height||(e!=null?e.height:e))!=null?i:o,typeof i===s?i.call(e,{name:"height",hash:{},data:r}):i))+'",\n    "playerForm":"'+u((i=(i=t.playerForm||(e!=null?e.playerForm:e))!=null?i:o,typeof i===s?i.call(e,{name:"playerForm",hash:{},data:r}):i))+'",\n    "mediaId":"'+u((i=(i=t["video-id"]||(e!=null?e["video-id"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"video-id",hash:{},data:r}):i))+'",\n    "playerId":"'+u((i=(i=t["player-id"]||(e!=null?e["player-id"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"player-id",hash:{},data:r}):i))+'",\n    "autoplay": "'+u((i=(i=t.autoplay||(e!=null?e.autoplay:e))!=null?i:o,typeof i===s?i.call(e,{name:"autoplay",hash:{},data:r}):i))+'"\n	});\n</script>'},useData:!0})}),define("templates/video/twitch_embed",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<img src="'+u((i=(i=t["ui-path"]||(e!=null?e["ui-path"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"ui-path",hash:{},data:r}):i))+'img/chrome/video-embed-bg.png" class="poster" alt="" />\n<div class="video">\n    <div id="'+u((i=(i=t["player-id"]||(e!=null?e["player-id"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"player-id",hash:{},data:r}):i))+'"></div>\n</div>\n'},useData:!0})}),define("utils/VideoEmbedder",["require","jquery","limelightPlayer","delvePlayer","templates/video/youtube_embed","templates/video/delve_embed","templates/video/html5_embed","templates/video/twitch_embed","detection/mobileDevice"],function(e){var t=e("jquery"),n=e("limelightPlayer"),r=e("delvePlayer"),i=e("templates/video/youtube_embed"),s=e("templates/video/delve_embed"),o=e("templates/video/html5_embed"),u=e("templates/video/twitch_embed"),a=e("detection/mobileDevice"),f=function(e,t,n,r){this.videoID=e,this.$container=t,this.posterSrc=n;if(r)for(var i in r)this[i]=r[i];this._init()};return f.prototype=t.extend(f.prototype,{videoID:null,$containerEl:null,width:"100%",height:"100%",playerType:"html5",shouldAutoPlay:!1,template:null,playerForm:"816a8524a3b94f03aae0ef40b3a351e2",startingBitrate:0,playerID:null,twitchPlayer:null,load:function(e){this.videoID=e,this.playerType==="html5"?window.LimelightPlayer.doLoadMedia(this.videoID,this.shouldAutoPlay):this.embed()},embed:function(){var n=t.Deferred(),r={"ui-path":window.pokemonUI["ui-path"]||"/","player-id":this.playerID,"video-id":this.videoID,width:this.width,height:this.height,image:this.posterSrc,autoplay:this.shouldAutoPlay,playerForm:this.playerForm};this.startingBitrate>0&&(r.startQuality=this.startingBitrate);var i=this.template(r);this.$container.html(i);if(this.playerType==="twitch"){var s=this;e(["twitch"],function(){s._loadTwitchPlayer(),n.resolve(s._twitchPlayer)})}else n.resolve(null);return n},remove:function(){this.$container.empty()},_init:function(){if(this.template===null){this.playerType=this.playerType==="delve"?"html5":this.playerType;switch(this.playerType){case"delve":this.template=s;break;case"html5":this.template=o;break;case"twitch":this.template=u;break;default:this.template=i}}this.playerID="player-id-"+Date.now()},_loadTwitchPlayer:function(){this._twitchPlayer=new window.Twitch.Player(this.playerID,{width:"100%",height:"100%",video:"v"+this.videoID}),this._twitchPlayer.setVolume(.25),this._twitchPlayer.play()}}),f}),define("utils/VideoPager",["require","jquery","detection/mobileDevice"],function(e){var t=e("jquery"),n=e("detection/mobileDevice"),r=function(e,t,n){this.videoID=e,this.$container=t;if(n)for(var r in n)this[r]=n[r]};return r.prototype=t.extend(r.prototype,{videoID:null,$containerEl:null,next:null,previous:null,init:function(){this.current=t("li#"+this.videoID),this._setPagers()},nextVideo:function(){var e=this.current.next();e.length&&(this.current=e,this.videoID=this.current.attr("id")),this._loadVideo(),this._setPagers()},previousVideo:function(){var e=this.current.prev();e.length&&(this.current=e,this.videoID=this.current.attr("id")),this._loadVideo(),this._setPagers()},getVideoInformation:function(){var e=this.current.children("a"),t={playerType:e.data("video-player"),posterSrc:e.data("video-poster"),views:e.data("video-views"),title:e.data("video-title"),season:e.data("video-season").toString(),episode:e.data("video-episode").toString(),summary:e.data("video-summary"),videoSlug:e.data("video-slug")};return t},_loadVideo:function(){this.video.load(this.videoID)},_setPagers:function(){if(this.current.prev().length>0){this.previous.children("img").first().attr("src",this.current.prev().children("a").first().data("video-poster"));var e=this.current.prev().children("a").first();this._setPagerLabel(this.previous,e),this.previous.show()}else this.previous.hide();if(this.current.next().length>0){this.next.children("img").first().attr("src",this.current.next().children("a").first().data("video-poster"));var t=this.current.next().children("a").first();this._setPagerLabel(this.next,t),this.next.show()}else this.next.hide()},_setPagerLabel:function(e,t){var n=t.data("video-season")||"",r=t.data("video-episode")||"",i="";e.children("img").first().attr("src",t.data("video-poster"));if(n.length>0&&r.length>0){var s=window.pokemonUI.modals.season,o=window.pokemonUI.modals.episode;i=s+" "+n+" | "+o+" "+r}e.children("div.video-title").first().html(i)}}),r}),define("views/VideoModalView",["require","jquery","underscore","views/ModalBaseView","utils/VideoEmbedder","utils/VideoPager"],function(e){var t=e("jquery"),n=e("underscore"),r=e("views/ModalBaseView"),i=e("utils/VideoEmbedder"),s=e("utils/VideoPager"),o=r.extend({el:"#video-modal",ui:function(){return t.extend(n.result(r.prototype,"ui"),{$videoContainer:".video-container",$episodeInfo:"#episodeInfo",$episodeTitle:"#episodeTitle",$videoSummary:".video-summary",$videoViews:"#videoViews",$legal:".legal",$next:"a.video-next-episode",$previous:"a.video-prev-episode"})},video:null,videoSlug:null,_playerType:null,openVideoInModal:function(e,t,n,r,o,u,a,f,l,c,h){if(r==="delve"){this._redirectToWatchEnv(e);return}this._setVideoInformation(r,u,a,f,l,c),this.video=new i(e,this.ui.$videoContainer,n,{playerType:r,shouldAutoPlay:!0}),this.videoSlug=t;var p=this.video.embed(),d=this;h?this.ui.$next.length&&this.ui.$previous.length&&(this.ui.$next.hide(),this.ui.$previous.hide()):this.ui.$next.length&&this.ui.$previous.length&&(this.pager=new s(e,this.ui.$videoContainer,{next:this.ui.$next,previous:this.ui.$previous,video:this.video}),this.pager.init(),this._addVideoPagerEventHandlers()),this.popup.openPopup(),u?parseInt(u)!==0&&this._showVideoViews():this._getVideoViews(e)},closeModal:function(){this.popup.closePopup()},_upscaleLocale:function(e){var t={us:"en-us",uk:"en-gb",fr:"fr-fr",it:"it-it",br:"pt-br",de:"de-de",es:"es-es",el:"es-xl",dk:"da-dk",fi:"fi-fi",jp:"ja-jp",nl:"nl-nl",no:"nb-no",se:"sv-se",ru:"ru-ru"},n=t[e];return n!==null?n:"en-us"},_redirectToWatchEnv:function(e){var t=/^\/(\w{2})\//,n=window.location.pathname,r=this._upscaleLocale(n.match(t)[1]),i=window.pokemonUI.dictionary.ptvRedirect,s=i+"/"+r+"/player.html?id="+e;window.open(s,"_blank")},_setVideoInformation:function(e,t,n,r,i,s){t=t||0,n=n||"",r=r||"",i=i||"",s=s||"",this._playerType=e,this.ui.$videoViews.text(t),this.ui.$episodeTitle.text(n);if(r.length&&i.length){var o=window.pokemonUI.modals.season||"Season",u=window.pokemonUI.modals.episode||"Episode",a=o+" "+r+" | "+u+" "+i;this.ui.$episodeInfo.text(a)}else this.ui.$episodeInfo.text("");this.ui.$videoSummary.html(s),e==="delve"?this.ui.$legal.text(""):window.pokemonUI.modals.legal.length&&(e==="youtube"?this.ui.$legal.text(window.pokemonUI.modals.legal):this.ui.$legal.text(window.pokemonUI.modals.twitchlegal)),this.analytics&&this.analytics.updateMediaInfo(n,i,this.videoSlug)},_initPopup:function(){this._super(),this.popup._afterPopupClose=t.proxy(this._afterPopupClose,this)},_afterPopupClose:function(){this.analytics&&(this.analytics.close(),this.analytics=null),this.video.remove(),this.video=null,this._hideVideoViews(),setTimeout(t.proxy(function(){this.ui.$videoContainer.is(":empty")&&window.LimelightPlayer.doGetVjsPlayer().pause()},this),2e3)},_addVideoPagerEventHandlers:function(){var e=this;this.ui.$next.off("click").on("click",function(){e.pager.nextVideo();var t=e.pager.getVideoInformation();e.videoSlug=t.videoSlug,e._setVideoInformation(t.playerType,t.views,t.title,t.season,t.episode,t.summary),e._localizeVideoViews()}),this.ui.$previous.off("click").on("click",function(){e.pager.previousVideo();var t=e.pager.getVideoInformation();e.videoSlug=t.videoSlug,e._setVideoInformation(t.playerType,t.views,t.title,t.season,t.episode,t.summary),e._localizeVideoViews()})},_getVideoViews:function(e){t.get("/api/pokemon-episodes/episode-view-count/"+e,t.proxy(function(t){e in t&&(this.ui.$videoViews.text(t[e]),this._showVideoViews())},this)).fail()},_showVideoViews:function(){this._localizeVideoViews(),this.ui.$videoViews.parent().parent().removeClass("hidden-text")},_hideVideoViews:function(){this.ui.$videoViews.parent().parent().addClass("hidden-text")},_localizeVideoViews:function(){var e=parseInt(this.ui.$videoViews.text()),n=t("meta[name=language]").attr("content"),r=e.toLocaleString(n);this.ui.$videoViews.text(r)}});return o}),define("controllers/ModalVideoController",["require","jquery","views/VideoModalView"],function(e){var t=e("jquery"),n=e("views/VideoModalView"),r={VIDEO_TRIGGER_CLASS:".modal-video-trigger",initialize:function(e){e=e||{},_.bindAll(this),this.videoModal=new n,this._addElements(e),this._addEventHandlers()},_addElements:function(e){this.$containers=e.$containers||t(this.VIDEO_TRIGGER_CLASS)},_addEventHandlers:function(){this.$containers.on("click",t.proxy(this._onPosterClick,this))},_showVideo:function(e){var t={id:e.data("video-id"),slug:e.data("video-slug"),playerType:e.data("video-player"),posterSrc:e.data("video-poster"),views:e.data("video-views"),title:e.data("video-title"),season:e.data("video-season"),episode:e.data("video-episode"),summary:e.data("video-summary")};this.videoModal.openVideoInModal(t.id,t.slug,t.posterSrc,t.playerType,!0,t.views,t.title,t.season,t.episode,t.summary)},_onPosterClick:function(e){e.preventDefault();var n=t(e.currentTarget);this._showVideo(n)}};return r}),define("utils/setCookie",["require","jquery"],function(e){var t=e("jquery"),n=function(e,t,n){var r="";if(n){var i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3),r="; expires="+i.toGMTString()}document.cookie=e+"="+t+r+"; path=/"};return n}),function(e,t){typeof define=="function"&&define.amd?define("smart-app-banner",["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";function r(e,t){return e.match(/iPhone|iPod/i)!==null||e.match(/iPad/)&&t?"apple":e.match(/Android/i)!==null?"google":""}var t=navigator.userAgent,n=function(n){this.origHtmlMargin=parseFloat(e("html").css("margin-top")),this.options=e.extend({},e.smartbanner.defaults,n);var i=navigator.standalone;this.options.force?this.type=this.options.force:this.type=r(t,this.options.iOSUniversalApp);if(!this.type||this.type!==this.options.displayForStore||i||this.getCookie("smarter-banner-closed"))return;this.scale=this.options.scale=="auto"?e(window).width()/window.screen.width:this.options.scale,this.scale<1&&(this.scale=1),this.title=this.options.title?this.options.title:meta.data("title")||e("title").text().replace(/\s*[|\-
3https://www.chiark.greenend.org.uk/~sgtatham/putty/0
simontatham.puttywindows_win32W
simontatham.puttywindows_win32
simontatham.puttypackageid
  "inline_editor/FontEditor.js | sToggleInputType": {
PpapiHostMsg_PPBInstance_SetTextInputType
{google:baseSuggestURL}search?{google:searchFieldtrialParameter}client={google:suggestClient}&gs_ri={google:suggestRid}&xssi=t&q={searchTerms}&{google:inputType}{google:omniboxFocusType}{google:cursorPosition}{google:currentPageUrl}{google:pageClassification}{google:searchVersion}{google:sessionToken}{google:prefetchQuery}sugkey={google:suggestAPIKeyParameter}
ScrollInputType
TextInputType
inputType
{"functions":[{"parameters":[{"optional":true,"type":"integer","name":"tabId"},{"name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"type":"function","optional":true}],"name":"getTree","type":"function"},{"parameters":[{"type":"function","name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}]}],"name":"getDesktop","type":"function"},{"parameters":[{"type":"function","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}]}],"name":"getFocus","type":"function"},{"parameters":[{"type":"function","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}]}],"name":"getAccessibilityFocus","type":"function"},{"parameters":[{"name":"filter","$ref":"automation.TreeChangeObserverFilter"},{"type":"function","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}]}],"name":"addTreeChangeObserver","type":"function"},{"parameters":[{"type":"function","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}]}],"name":"removeTreeChangeObserver","type":"function"},{"parameters":[{"name":"params","$ref":"automation.SetDocumentSelectionParams"}],"name":"setDocumentSelection","type":"function"}],"documentation_options":{},"deprecated":null,"namespace":"automation","events":[],"platforms":null,"internal":false,"properties":{},"types":[{"enum":[{"name":"accessKeyChanged"},{"name":"activeDescendantChanged"},{"name":"alert"},{"name":"ariaAttributeChanged"},{"name":"ariaCurrentChanged"},{"name":"atomicChanged"},{"name":"autoCompleteChanged"},{"name":"autocorrectionOccured"},{"name":"blur"},{"name":"busyChanged"},{"name":"checkedStateChanged"},{"name":"childrenChanged"},{"name":"classNameChanged"},{"name":"clicked"},{"name":"collapsed"},{"name":"controlsChanged"},{"name":"describedByChanged"},{"name":"descriptionChanged"},{"name":"documentSelectionChanged"},{"name":"documentTitleChanged"},{"name":"dropeffectChanged"},{"name":"editableTextChanged"},{"name":"enabledChanged"},{"name":"endOfTest"},{"name":"expanded"},{"name":"expandedChanged"},{"name":"flowFromChanged"},{"name":"flowToChanged"},{"name":"focus"},{"name":"focusAfterMenuClose"},{"name":"focusChanged"},{"name":"focusContext"},{"name":"grabbedChanged"},{"name":"haspopupChanged"},{"name":"hide"},{"name":"hierarchicalLevelChanged"},{"name":"hitTestResult"},{"name":"hover"},{"name":"ignoredChanged"},{"name":"imageAnnotationChanged"},{"name":"imageFrameUpdated"},{"name":"invalidStatusChanged"},{"name":"keyShortcutsChanged"},{"name":"labeledByChanged"},{"name":"languageChanged"},{"name":"layoutComplete"},{"name":"layoutInvalidated"},{"name":"liveRegionChanged"},{"name":"liveRegionCreated"},{"name":"liveRegionNodeChanged"},{"name":"liveRelevantChanged"},{"name":"liveStatusChanged"},{"name":"loadComplete"},{"name":"loadStart"},{"name":"locationChanged"},{"name":"mediaStartedPlaying"},{"name":"mediaStoppedPlaying"},{"name":"menuEnd"},{"name":"menuItemSelected"},{"name":"menuListItemSelected"},{"name":"menuListValueChanged"},{"name":"menuPopupEnd"},{"name":"menuPopupStart"},{"name":"menuStart"},{"name":"mouseCanceled"},{"name":"mouseDragged"},{"name":"mouseMoved"},{"name":"mousePressed"},{"name":"mouseReleased"},{"name":"multilineStateChanged"},{"name":"multiselectableStateChanged"},{"name":"nameChanged"},{"name":"objectAttributeChanged"},{"name":"otherAttributeChanged"},{"name":"parentChanged"},{"name":"placeholderChanged"},{"name":"portalActivated"},{"name":"positionInSetChanged"},{"name":"rangeValueChanged"},{"name":"rangeValueMaxChanged"},{"name":"rangeValueMinChanged"},{"name":"rangeValueStepChanged"},{"name":"readonlyChanged"},{"name":"relatedNodeChanged"},{"name":"requiredStateChanged"},{"name":"roleChanged"},{"name":"rowCollapsed"},{"name":"rowCountChanged"},{"name":"rowExpanded"},{"name":"scrollHorizontalPositionChanged"},{"name":"scrollPositionChanged"},{"name":"scrollVerticalPositionChanged"},{"name":"scrolledToAnchor"},{"name":"selectedChanged"},{"name":"selectedChildrenChanged"},{"name":"selectedValueChanged"},{"name":"selection"},{"name":"selectionAdd"},{"name":"selectionInTextFieldChanged"},{"name":"selectionRemove"},{"name":"setSizeChanged"},{"name":"show"},{"name":"sortChanged"},{"name":"stateChanged"},{"name":"subtreeCreated"},{"name":"textAttributeChanged"},{"name":"textSelectionChanged"},{"name":"textChanged"},{"name":"tooltipClosed"},{"name":"tooltipOpened"},{"name":"treeChanged"},{"name":"valueInTextFieldChanged"},{"name":"valueChanged"},{"name":"windowActivated"},{"name":"windowDeactivated"},{"name":"windowVisibilityChanged"}],"type":"string","id":"automation.EventType"},{"enum":[{"name":"abbr"},{"name":"alert"},{"name":"alertDialog"},{"name":"anchor"},{"name":"application"},{"name":"article"},{"name":"audio"},{"name":"banner"},{"name":"blockquote"},{"name":"button"},{"name":"canvas"},{"name":"caption"},{"name":"caret"},{"name":"cell"},{"name":"checkBox"},{"name":"client"},{"name":"code"},{"name":"colorWell"},{"name":"column"},{"name":"columnHeader"},{"name":"comboBoxGrouping"},{"name":"comboBoxMenuButton"},{"name":"comment"},{"name":"complementary"},{"name":"contentDeletion"},{"name":"contentInsertion"},{"name":"contentInfo"},{"name":"date"},{"name":"dateTime"},{"name":"definition"},{"name":"descriptionList"},{"name":"descriptionListDetail"},{"name":"descriptionListTerm"},{"name":"desktop"},{"name":"details"},{"name":"dialog"},{"name":"directory"},{"name":"disclosureTriangle"},{"name":"docAbstract"},{"name":"docAcknowledgments"},{"name":"docAfterword"},{"name":"docAppendix"},{"name":"docBackLink"},{"name":"docBiblioEntry"},{"name":"docBibliography"},{"name":"docBiblioRef"},{"name":"docChapter"},{"name":"docColophon"},{"name":"docConclusion"},{"name":"docCover"},{"name":"docCredit"},{"name":"docCredits"},{"name":"docDedication"},{"name":"docEndnote"},{"name":"docEndnotes"},{"name":"docEpigraph"},{"name":"docEpilogue"},{"name":"docErrata"},{"name":"docExample"},{"name":"docFootnote"},{"name":"docForeword"},{"name":"docGlossary"},{"name":"docGlossRef"},{"name":"docIndex"},{"name":"docIntroduction"},{"name":"docNoteRef"},{"name":"docNotice"},{"name":"docPageBreak"},{"name":"docPageFooter"},{"name":"docPageHeader"},{"name":"docPageList"},{"name":"docPart"},{"name":"docPreface"},{"name":"docPrologue"},{"name":"docPullquote"},{"name":"docQna"},{"name":"docSubtitle"},{"name":"docTip"},{"name":"docToc"},{"name":"document"},{"name":"embeddedObject"},{"name":"emphasis"},{"name":"feed"},{"name":"figcaption"},{"name":"figure"},{"name":"footer"},{"name":"footerAsNonLandmark"},{"name":"form"},{"name":"genericContainer"},{"name":"graphicsDocument"},{"name":"graphicsObject"},{"name":"graphicsSymbol"},{"name":"grid"},{"name":"group"},{"name":"header"},{"name":"headerAsNonLandmark"},{"name":"heading"},{"name":"iframe"},{"name":"iframePresentational"},{"name":"ignored"},{"name":"image"},{"name":"imageMap"},{"name":"imeCandidate"},{"name":"inlineTextBox"},{"name":"inputTime"},{"name":"keyboard"},{"name":"labelText"},{"name":"layoutTable"},{"name":"layoutTableCell"},{"name":"layoutTableRow"},{"name":"legend"},{"name":"lineBreak"},{"name":"link"},{"name":"list"},{"name":"listBox"},{"name":"listBoxOption"},{"name":"listGrid"},{"name":"listItem"},{"name":"listMarker"},{"name":"log"},{"name":"main"},{"name":"mark"},{"name":"marquee"},{"name":"math"},{"name":"menu"},{"name":"menuBar"},{"name":"menuItem"},{"name":"menuItemCheckBox"},{"name":"menuItemRadio"},{"name":"menuListOption"},{"name":"menuListPopup"},{"name":"meter"},{"name":"navigation"},{"name":"note"},{"name":"pane"},{"name":"paragraph"},{"name":"pdfActionableHighlight"},{"name":"pdfRoot"},{"name":"pluginObject"},{"name":"popUpButton"},{"name":"portal"},{"name":"pre"},{"name":"presentational"},{"name":"progressIndicator"},{"name":"radioButton"},{"name":"radioGroup"},{"name":"region"},{"name":"rootWebArea"},{"name":"row"},{"name":"rowGroup"},{"name":"rowHeader"},{"name":"ruby"},{"name":"rubyAnnotation"},{"name":"scrollBar"},{"name":"scrollView"},{"name":"search"},{"name":"searchBox"},{"name":"section"},{"name":"slider"},{"name":"spinButton"},{"name":"splitter"},{"name":"staticText"},{"name":"status"},{"name":"strong"},{"name":"suggestion"},{"name":"svgRoot"},{"name":"switch"},{"name":"tab"},{"name":"tabList"},{"name":"tabPanel"},{"name":"table"},{"name":"tableHeaderContainer"},{"name":"term"},{"name":"textField"},{"name":"textFieldWithComboBox"},{"name":"time"},{"name":"timer"},{"name":"titleBar"},{"name":"toggleButton"},{"name":"toolbar"},{"name":"tooltip"},{"name":"tree"},{"name":"treeGrid"},{"name":"treeItem"},{"name":"unknown"},{"name":"video"},{"name":"webView"},{"name":"window"}],"type":"string","id":"automation.RoleType"},{"enum":[{"name":"autofillAvailable"},{"name":"collapsed"},{"name":"default"},{"name":"editable"},{"name":"expanded"},{"name":"focusable"},{"name":"focused"},{"name":"horizontal"},{"name":"hovered"},{"name":"ignored"},{"name":"invisible"},{"name":"linked"},{"name":"multiline"},{"name":"multiselectable"},{"name":"offscreen"},{"name":"protected"},{"name":"required"},{"name":"richlyEditable"},{"name":"vertical"},{"name":"visited"}],"type":"string","id":"automation.StateType"},{"enum":[{"name":"annotatePageImages"},{"name":"blur"},{"name":"clearAccessibilityFocus"},{"name":"collapse"},{"name":"customAction"},{"name":"decrement"},{"name":"doDefault"},{"name":"expand"},{"name":"focus"},{"name":"getImageData"},{"name":"getTextLocation"},{"name":"hideTooltip"},{"name":"hitTest"},{"name":"increment"},{"name":"internalInvalidateTree"},{"name":"loadInlineTextBoxes"},{"name":"replaceSelectedText"},{"name":"scrollBackward"},{"name":"scrollDown"},{"name":"scrollForward"},{"name":"scrollLeft"},{"name":"scrollRight"},{"name":"scrollUp"},{"name":"scrollToMakeVisible"},{"name":"scrollToPoint"},{"name":"setAccessibilityFocus"},{"name":"setScrollOffset"},{"name":"setSelection"},{"name":"setSequentialFocusNavigationStartingPoint"},{"name":"setValue"},{"name":"showContextMenu"},{"name":"signalEndOfTest"},{"name":"showTooltip"}],"type":"string","id":"automation.ActionType"},{"enum":[{"name":"nodeCreated"},{"name":"subtreeCreated"},{"name":"nodeChanged"},{"name":"textChanged"},{"name":"nodeRemoved"},{"name":"subtreeUpdateEnd"}],"type":"string","id":"automation.TreeChangeType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"attributeExplicitlyEmpty"},{"name":"caption"},{"name":"contents"},{"name":"placeholder"},{"name":"relatedElement"},{"name":"title"},{"name":"value"}],"type":"string","id":"automation.NameFromType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"contents"},{"name":"relatedElement"},{"name":"title"}],"type":"string","id":"automation.DescriptionFromType"},{"enum":[{"name":"disabled"},{"name":"readOnly"}],"type":"string","id":"automation.Restriction"},{"enum":[{"name":"true"},{"name":"menu"},{"name":"listbox"},{"name":"tree"},{"name":"grid"},{"name":"dialog"}],"type":"string","id":"automation.HasPopup"},{"enum":[{"name":"activate"},{"name":"check"},{"name":"click"},{"name":"clickAncestor"},{"name":"jump"},{"name":"open"},{"name":"press"},{"name":"select"},{"name":"uncheck"}],"type":"string","id":"automation.DefaultActionVerb"},{"enum":[{"name":"spelling"},{"name":"grammar"},{"name":"textMatch"},{"name":"activeSuggestion"},{"name":"suggestion"}],"type":"string","id":"automation.MarkerType"},{"enum":[{"name":"clearSelection"},{"name":"delete"},{"name":"dictate"},{"name":"extendSelection"},{"name":"format"},{"name":"history"},{"name":"insert"},{"name":"marker"},{"name":"moveSelection"},{"name":"setSelection"}],"type":"string","id":"automation.IntentCommandType"},{"enum":[{"name":"insertText"},{"name":"insertLineBreak"},{"name":"insertParagraph"},{"name":"insertOrderedList"},{"name":"insertUnorderedList"},{"name":"insertHorizontalRule"},{"name":"insertFromPaste"},{"name":"insertFromDrop"},{"name":"insertFromYank"},{"name":"insertTranspose"},{"name":"insertReplacementText"},{"name":"insertCompositionText"},{"name":"deleteWordBackward"},{"name":"deleteWordForward"},{"name":"deleteSoftLineBackward"},{"name":"deleteSoftLineForward"},{"name":"deleteHardLineBackward"},{"name":"deleteHardLineForward"},{"name":"deleteContentBackward"},{"name":"deleteContentForward"},{"name":"deleteByCut"},{"name":"deleteByDrag"},{"name":"historyUndo"},{"name":"historyRedo"},{"name":"formatBold"},{"name":"formatItalic"},{"name":"formatUnderline"},{"name":"formatStrikeThrough"},{"name":"formatSuperscript"},{"name":"formatSubscript"},{"name":"formatJustifyCenter"},{"name":"formatJustifyFull"},{"name":"formatJustifyRight"},{"name":"formatJustifyLeft"},{"name":"formatIndent"},{"name":"formatOutdent"},{"name":"formatRemove"},{"name":"formatSetBlockTextDirection"}],"type":"string","id":"automation.IntentInputEventType"},{"enum":[{"name":"character"},{"name":"format"},{"name":"lineEnd"},{"name":"lineStart"},{"name":"lineStartOrEnd"},{"name":"object"},{"name":"pageEnd"},{"name":"pageStart"},{"name":"pageStartOrEnd"},{"name":"paragraphEnd"},{"name":"paragraphStart"},{"name":"paragraphStartOrEnd"},{"name":"sentenceEnd"},{"name":"sentenceStart"},{"name":"sentenceStartOrEnd"},{"name":"webPage"},{"name":"wordEnd"},{"name":"wordStart"},{"name":"wordStartOrEnd"}],"type":"string","id":"automation.IntentTextBoundaryType"},{"enum":[{"name":"backward"},{"name":"forward"}],"type":"string","id":"automation.IntentMoveDirectionType"},{"enum":[{"name":"unsorted"},{"name":"ascending"},{"name":"descending"},{"name":"other"}],"type":"string","id":"automation.SortDirectionType"},{"type":"object","id":"automation.Rect","properties":{"left":{"name":"left","type":"integer"},"top":{"name":"top","type":"integer"},"width":{"name":"width","type":"integer"},"height":{"name":"height","type":"integer"}}},{"type":"object","id":"automation.FindParams","properties":{"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"attributes":{"optional":true,"name":"attributes","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.SetDocumentSelectionParams","properties":{"anchorObject":{"name":"anchorObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"anchorOffset":{"name":"anchorOffset","type":"integer"},"focusObject":{"name":"focusObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"focusOffset":{"name":"focusOffset","type":"integer"}}},{"type":"object","id":"automation.AutomationIntent","properties":{"command":{"name":"command","$ref":"automation.IntentCommandType"},"textBoundary":{"name":"textBoundary","$ref":"automation.IntentTextBoundaryType"},"moveDirection":{"name":"moveDirection","$ref":"automation.IntentMoveDirectionType"}}},{"type":"object","id":"automation.AutomationEvent","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.EventType"},"eventFrom":{"name":"eventFrom","type":"string"},"mouseX":{"name":"mouseX","type":"integer"},"mouseY":{"name":"mouseY","type":"integer"},"intents":{"name":"intents","type":"array","items":{"$ref":"automation.AutomationIntent"}},"stopPropagation":{"parameters":[],"name":"stopPropagation","type":"function"}}},{"type":"object","id":"automation.TreeChange","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.TreeChangeType"}}},{"enum":[{"name":"noTreeChanges"},{"name":"liveRegionTreeChanges"},{"name":"textMarkerChanges"},{"name":"allTreeChanges"}],"type":"string","id":"automation.TreeChangeObserverFilter"},{"type":"object","id":"automation.CustomAction","properties":{"id":{"name":"id","type":"integer"},"description":{"name":"description","type":"string"}}},{"type":"object","id":"automation.LanguageSpan","properties":{"startIndex":{"name":"startIndex","type":"integer"},"endIndex":{"name":"endIndex","type":"integer"},"language":{"name":"language","type":"string"},"probability":{"name":"probability","type":"number"}}},{"type":"object","id":"automation.Marker","properties":{"startOffset":{"name":"startOffset","type":"integer"},"endOffset":{"name":"endOffset","type":"integer"},"flags":{"name":"flags","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.AutomationPosition","properties":{"node":{"optional":true,"name":"node","$ref":"automation.AutomationNode"},"childIndex":{"name":"childIndex","type":"integer"},"textOffset":{"name":"textOffset","type":"integer"},"affinity":{"name":"affinity","type":"string"},"isNullPosition":{"parameters":[],"returns":{"type":"boolean","name":"isNullPosition"},"name":"isNullPosition","type":"function"},"isTreePosition":{"parameters":[],"returns":{"type":"boolean","name":"isTreePosition"},"name":"isTreePosition","type":"function"},"isTextPosition":{"parameters":[],"returns":{"type":"boolean","name":"isTextPosition"},"name":"isTextPosition","type":"function"},"isLeafTextPosition":{"parameters":[],"returns":{"type":"boolean","name":"isLeafTextPosition"},"name":"isLeafTextPosition","type":"function"},"atStartOfAnchor":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfAnchor"},"name":"atStartOfAnchor","type":"function"},"atEndOfAnchor":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfAnchor"},"name":"atEndOfAnchor","type":"function"},"atStartOfWord":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfWord"},"name":"atStartOfWord","type":"function"},"atEndOfWord":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfWord"},"name":"atEndOfWord","type":"function"},"atStartOfLine":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfLine"},"name":"atStartOfLine","type":"function"},"atEndOfLine":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfLine"},"name":"atEndOfLine","type":"function"},"atStartOfParagraph":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfParagraph"},"name":"atStartOfParagraph","type":"function"},"atEndOfParagraph":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfParagraph"},"name":"atEndOfParagraph","type":"function"},"atStartOfPage":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfPage"},"name":"atStartOfPage","type":"function"},"atEndOfPage":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfPage"},"name":"atEndOfPage","type":"function"},"atStartOfFormat":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfFormat"},"name":"atStartOfFormat","type":"function"},"atEndOfFormat":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfFormat"},"name":"atEndOfFormat","type":"function"},"atStartOfDocument":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfDocument"},"name":"atStartOfDocument","type":"function"},"atEndOfDocument":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfDocument"},"name":"atEndOfDocument","type":"function"},"asTreePosition":{"parameters":[],"name":"asTreePosition","type":"function"},"asTextPosition":{"parameters":[],"name":"asTextPosition","type":"function"},"asLeafTextPosition":{"parameters":[],"name":"asLeafTextPosition","type":"function"},"moveToPositionAtStartOfAnchor":{"parameters":[],"name":"moveToPositionAtStartOfAnchor","type":"function"},"moveToPositionAtEndOfAnchor":{"parameters":[],"name":"moveToPositionAtEndOfAnchor","type":"function"},"moveToPositionAtStartOfDocument":{"parameters":[],"name":"moveToPositionAtStartOfDocument","type":"function"},"moveToPositionAtEndOfDocument":{"parameters":[],"name":"moveToPositionAtEndOfDocument","type":"function"},"moveToParentPosition":{"parameters":[],"name":"moveToParentPosition","type":"function"},"moveToNextLeafTreePosition":{"parameters":[],"name":"moveToNextLeafTreePosition","type":"function"},"moveToPreviousLeafTreePosition":{"parameters":[],"name":"moveToPreviousLeafTreePosition","type":"function"},"moveToNextLeafTextPosition":{"parameters":[],"name":"moveToNextLeafTextPosition","type":"function"},"moveToPreviousLeafTextPosition":{"parameters":[],"name":"moveToPreviousLeafTextPosition","type":"function"},"moveToNextCharacterPosition":{"parameters":[],"name":"moveToNextCharacterPosition","type":"function"},"moveToPreviousCharacterPosition":{"parameters":[],"name":"moveToPreviousCharacterPosition","type":"function"},"moveToNextWordStartPosition":{"parameters":[],"name":"moveToNextWordStartPosition","type":"function"},"moveToPreviousWordStartPosition":{"parameters":[],"name":"moveToPreviousWordStartPosition","type":"function"},"moveToNextWordEndPosition":{"parameters":[],"name":"moveToNextWordEndPosition","type":"function"},"moveToPreviousWordEndPosition":{"parameters":[],"name":"moveToPreviousWordEndPosition","type":"function"},"moveToNextLineStartPosition":{"parameters":[],"name":"moveToNextLineStartPosition","type":"function"},"moveToPreviousLineStartPosition":{"parameters":[],"name":"moveToPreviousLineStartPosition","type":"function"},"moveToNextLineEndPosition":{"parameters":[],"name":"moveToNextLineEndPosition","type":"function"},"moveToPreviousLineEndPosition":{"parameters":[],"name":"moveToPreviousLineEndPosition","type":"function"},"moveToPreviousFormatStartPosition":{"parameters":[],"name":"moveToPreviousFormatStartPosition","type":"function"},"moveToNextFormatEndPosition":{"parameters":[],"name":"moveToNextFormatEndPosition","type":"function"},"moveToNextParagraphStartPosition":{"parameters":[],"name":"moveToNextParagraphStartPosition","type":"function"},"moveToPreviousParagraphStartPosition":{"parameters":[],"name":"moveToPreviousParagraphStartPosition","type":"function"},"moveToNextParagraphEndPosition":{"parameters":[],"name":"moveToNextParagraphEndPosition","type":"function"},"moveToPreviousParagraphEndPosition":{"parameters":[],"name":"moveToPreviousParagraphEndPosition","type":"function"},"moveToNextPageStartPosition":{"parameters":[],"name":"moveToNextPageStartPosition","type":"function"},"moveToPreviousPageStartPosition":{"parameters":[],"name":"moveToPreviousPageStartPosition","type":"function"},"moveToNextPageEndPosition":{"parameters":[],"name":"moveToNextPageEndPosition","type":"function"},"moveToPreviousPageEndPosition":{"parameters":[],"name":"moveToPreviousPageEndPosition","type":"function"},"moveToNextAnchorPosition":{"parameters":[],"name":"moveToNextAnchorPosition","type":"function"},"moveToPreviousAnchorPosition":{"parameters":[],"name":"moveToPreviousAnchorPosition","type":"function"},"maxTextOffset":{"parameters":[],"returns":{"type":"integer","name":"maxTextOffset"},"name":"maxTextOffset","type":"function"},"isInLineBreak":{"parameters":[],"returns":{"type":"boolean","name":"isInLineBreak"},"name":"isInLineBreak","type":"function"},"isInTextObject":{"parameters":[],"returns":{"type":"boolean","name":"isInTextObject"},"name":"isInTextObject","type":"function"},"isInWhiteSpace":{"parameters":[],"returns":{"type":"boolean","name":"isInWhiteSpace"},"name":"isInWhiteSpace","type":"function"},"isValid":{"parameters":[],"returns":{"type":"boolean","name":"isValid"},"name":"isValid","type":"function"},"getText":{"parameters":[],"returns":{"type":"string","name":"getText"},"name":"getText","type":"function"}}},{"type":"object","id":"automation.AutomationNode","properties":{"root":{"optional":true,"name":"root","$ref":"automation.AutomationNode"},"isRootNode":{"name":"isRootNode","type":"boolean"},"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"location":{"optional":true,"name":"location","$ref":"automation.Rect"},"boundsForRange":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"},{"type":"function","name":"callback","parameters":[{"name":"bounds","$ref":"automation.Rect"}]}],"name":"boundsForRange","type":"function"},"unclippedBoundsForRange":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"},{"type":"function","name":"callback","parameters":[{"name":"bounds","$ref":"automation.Rect"}]}],"name":"unclippedBoundsForRange","type":"function"},"unclippedLocation":{"optional":true,"name":"unclippedLocation","$ref":"automation.Rect"},"description":{"optional":true,"name":"description","type":"string"},"checkedStateDescription":{"optional":true,"name":"checkedStateDescription","type":"string"},"placeholder":{"optional":true,"name":"placeholder","type":"string"},"roleDescription":{"optional":true,"name":"roleDescription","type":"string"},"name":{"optional":true,"name":"name","type":"string"},"tooltip":{"optional":true,"name":"tooltip","type":"string"},"nameFrom":{"optional":true,"name":"nameFrom","$ref":"automation.NameFromType"},"imageAnnotation":{"optional":true,"name":"imageAnnotation","type":"string"},"value":{"optional":true,"name":"value","type":"string"},"htmlTag":{"optional":true,"name":"htmlTag","type":"string"},"hierarchicalLevel":{"optional":true,"name":"hierarchicalLevel","type":"integer"},"wordStarts":{"optional":true,"name":"wordStarts","type":"array","items":{"type":"integer"}},"wordEnds":{"optional":true,"name":"wordEnds","type":"array","items":{"type":"integer"}},"sentenceStarts":{"optional":true,"name":"sentenceStarts","type":"array","items":{"type":"integer"}},"sentenceEnds":{"optional":true,"name":"sentenceEnds","type":"array","items":{"type":"integer"}},"nonInlineTextWordStarts":{"optional":true,"name":"nonInlineTextWordStarts","type":"array","items":{"type":"integer"}},"nonInlineTextWordEnds":{"optional":true,"name":"nonInlineTextWordEnds","type":"array","items":{"type":"integer"}},"controls":{"optional":true,"name":"controls","type":"array","items":{"$ref":"automation.AutomationNode"}},"describedBy":{"optional":true,"name":"describedBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowTo":{"optional":true,"name":"flowTo","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelledBy":{"optional":true,"name":"labelledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"activeDescendant":{"optional":true,"name":"activeDescendant","$ref":"automation.AutomationNode"},"activeDescendantFor":{"optional":true,"name":"activeDescendantFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"inPageLinkTarget":{"optional":true,"name":"inPageLinkTarget","$ref":"automation.AutomationNode"},"details":{"optional":true,"name":"details","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessage":{"optional":true,"name":"errorMessage","$ref":"automation.AutomationNode"},"detailsFor":{"optional":true,"name":"detailsFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessageFor":{"optional":true,"name":"errorMessageFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"controlledBy":{"optional":true,"name":"controlledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"descriptionFor":{"optional":true,"name":"descriptionFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowFrom":{"optional":true,"name":"flowFrom","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelFor":{"optional":true,"name":"labelFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellColumnHeaders":{"optional":true,"name":"tableCellColumnHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellRowHeaders":{"optional":true,"name":"tableCellRowHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"standardActions":{"optional":true,"name":"standardActions","type":"array","items":{"$ref":"automation.ActionType"}},"customActions":{"optional":true,"name":"customActions","type":"array","items":{"$ref":"automation.CustomAction"}},"defaultActionVerb":{"optional":true,"name":"defaultActionVerb","$ref":"automation.DefaultActionVerb"},"url":{"optional":true,"name":"url","type":"string"},"docUrl":{"optional":true,"name":"docUrl","type":"string"},"docTitle":{"optional":true,"name":"docTitle","type":"string"},"docLoaded":{"optional":true,"name":"docLoaded","type":"boolean"},"docLoadingProgress":{"optional":true,"name":"docLoadingProgress","type":"number"},"scrollX":{"optional":true,"name":"scrollX","type":"integer"},"scrollXMin":{"optional":true,"name":"scrollXMin","type":"integer"},"scrollXMax":{"optional":true,"name":"scrollXMax","type":"integer"},"scrollY":{"optional":true,"name":"scrollY","type":"integer"},"scrollYMin":{"optional":true,"name":"scrollYMin","type":"integer"},"scrollYMax":{"optional":true,"name":"scrollYMax","type":"integer"},"scrollable":{"optional":true,"name":"scrollable","type":"boolean"},"textSelStart":{"optional":true,"name":"textSelStart","type":"integer"},"textSelEnd":{"optional":true,"name":"textSelEnd","type":"integer"},"textInputType":{"optional":true,"name":"textInputType","type":"string"},"markers":{"optional":true,"name":"markers","type":"array","items":{"$ref":"automation.Marker"}},"isSelectionBackward":{"optional":true,"name":"isSelectionBackward","type":"boolean"},"anchorObject":{"optional":true,"name":"anchorObject","$ref":"automation.AutomationNode"},"anchorOffset":{"optional":true,"name":"anchorOffset","type":"integer"},"anchorAffinity":{"optional":true,"name":"anchorAffinity","type":"string"},"focusObject":{"optional":true,"name":"focusObject","$ref":"automation.AutomationNode"},"focusOffset":{"optional":true,"name":"focusOffset","type":"integer"},"focusAffinity":{"optional":true,"name":"focusAffinity","type":"string"},"selectionStartObject":{"optional":true,"name":"selectionStartObject","$ref":"automation.AutomationNode"},"selectionStartOffset":{"optional":true,"name":"selectionStartOffset","type":"integer"},"selectionStartAffinity":{"optional":true,"name":"selectionStartAffinity","type":"string"},"selectionEndObject":{"optional":true,"name":"selectionEndObject","$ref":"automation.AutomationNode"},"selectionEndOffset":{"optional":true,"name":"selectionEndOffset","type":"integer"},"selectionEndAffinity":{"optional":true,"name":"selectionEndAffinity","type":"string"},"notUserSelectableStyle":{"optional":true,"name":"notUserSelectableStyle","type":"boolean"},"valueForRange":{"optional":true,"name":"valueForRange","type":"number"},"minValueForRange":{"optional":true,"name":"minValueForRange","type":"number"},"maxValueForRange":{"optional":true,"name":"maxValueForRange","type":"number"},"posInSet":{"optional":true,"name":"posInSet","type":"integer"},"setSize":{"optional":true,"name":"setSize","type":"integer"},"tableRowCount":{"optional":true,"name":"tableRowCount","type":"integer"},"ariaRowCount":{"optional":true,"name":"ariaRowCount","type":"integer"},"tableColumnCount":{"optional":true,"name":"tableColumnCount","type":"integer"},"ariaColumnCount":{"optional":true,"name":"ariaColumnCount","type":"integer"},"tableCellColumnIndex":{"optional":true,"name":"tableCellColumnIndex","type":"integer"},"tableCellAriaColumnIndex":{"optional":true,"name":"tableCellAriaColumnIndex","type":"integer"},"tableCellColumnSpan":{"optional":true,"name":"tableCellColumnSpan","type":"integer"},"tableCellRowIndex":{"optional":true,"name":"tableCellRowIndex","type":"integer"},"tableCellAriaRowIndex":{"optional":true,"name":"tableCellAriaRowIndex","type":"integer"},"tableCellRowSpan":{"optional":true,"name":"tableCellRowSpan","type":"integer"},"tableColumnHeader":{"optional":true,"name":"tableColumnHeader","$ref":"automation.AutomationNode"},"tableRowHeader":{"optional":true,"name":"tableRowHeader","$ref":"automation.AutomationNode"},"tableColumnIndex":{"optional":true,"name":"tableColumnIndex","type":"integer"},"tableRowIndex":{"optional":true,"name":"tableRowIndex","type":"integer"},"liveStatus":{"optional":true,"name":"liveStatus","type":"string"},"liveRelevant":{"optional":true,"name":"liveRelevant","type":"string"},"liveAtomic":{"optional":true,"name":"liveAtomic","type":"boolean"},"busy":{"optional":true,"name":"busy","type":"boolean"},"containerLiveStatus":{"optional":true,"name":"containerLiveStatus","type":"string"},"containerLiveRelevant":{"optional":true,"name":"containerLiveRelevant","type":"string"},"containerLiveAtomic":{"optional":true,"name":"containerLiveAtomic","type":"boolean"},"containerLiveBusy":{"optional":true,"name":"containerLiveBusy","type":"boolean"},"autoComplete":{"optional":true,"name":"autoComplete","type":"string"},"className":{"optional":true,"name":"className","type":"string"},"modal":{"optional":true,"name":"modal","type":"boolean"},"htmlAttributes":{"optional":true,"name":"htmlAttributes","type":"object","additionalProperties":{"type":"any"}},"inputType":{"optional":true,"name":"inputType","type":"string"},"accessKey":{"optional":true,"name":"accessKey","type":"string"},"ariaInvalidValue":{"optional":true,"name":"ariaInvalidValue","type":"string"},"display":{"optional":true,"name":"display","type":"string"},"imageDataUrl":{"optional":true,"name":"imageDataUrl","type":"string"},"language":{"optional":true,"name":"language","type":"string"},"detectedLanguage":{"optional":true,"name":"detectedLanguage","type":"string"},"hasPopup":{"optional":true,"name":"hasPopup","type":"string"},"restriction":{"optional":true,"name":"restriction","type":"string"},"checked":{"optional":true,"name":"checked","type":"string"},"innerHtml":{"optional":true,"name":"innerHtml","type":"string"},"color":{"optional":true,"name":"color","type":"integer"},"backgroundColor":{"optional":true,"name":"backgroundColor","type":"integer"},"colorValue":{"optional":true,"name":"colorValue","type":"integer"},"subscript":{"name":"subscript","type":"boolean"},"superscript":{"name":"superscript","type":"boolean"},"bold":{"name":"bold","type":"boolean"},"italic":{"name":"italic","type":"boolean"},"underline":{"name":"underline","type":"boolean"},"lineThrough":{"name":"lineThrough","type":"boolean"},"selected":{"optional":true,"name":"selected","type":"boolean"},"fontSize":{"optional":true,"name":"fontSize","type":"integer"},"fontFamily":{"name":"fontFamily","type":"string"},"editableRoot":{"name":"editableRoot","type":"boolean"},"children":{"name":"children","type":"array","items":{"$ref":"automation.AutomationNode"}},"parent":{"optional":true,"name":"parent","$ref":"automation.AutomationNode"},"firstChild":{"optional":true,"name":"firstChild","$ref":"automation.AutomationNode"},"lastChild":{"optional":true,"name":"lastChild","$ref":"automation.AutomationNode"},"previousSibling":{"optional":true,"name":"previousSibling","$ref":"automation.AutomationNode"},"nextSibling":{"optional":true,"name":"nextSibling","$ref":"automation.AutomationNode"},"previousOnLine":{"optional":true,"name":"previousOnLine","$ref":"automation.AutomationNode"},"nextOnLine":{"optional":true,"name":"nextOnLine","$ref":"automation.AutomationNode"},"previousFocus":{"optional":true,"name":"previousFocus","$ref":"automation.AutomationNode"},"nextFocus":{"optional":true,"name":"nextFocus","$ref":"automation.AutomationNode"},"indexInParent":{"optional":true,"name":"indexInParent","type":"integer"},"sortDirection":{"name":"sortDirection","$ref":"automation.SortDirectionType"},"doDefault":{"parameters":[],"name":"doDefault","type":"function"},"focus":{"parameters":[],"name":"focus","type":"function"},"getImageData":{"parameters":[{"type":"integer","name":"maxWidth"},{"type":"integer","name":"maxHeight"}],"name":"getImageData","type":"function"},"hitTest":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"name":"eventToFire","$ref":"automation.EventType"}],"name":"hitTest","type":"function"},"hitTestWithReply":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"type":"function","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}]}],"name":"hitTestWithReply","type":"function"},"makeVisible":{"parameters":[],"name":"makeVisible","type":"function"},"performCustomAction":{"parameters":[{"type":"integer","name":"customActionId"}],"name":"performCustomAction","type":"function"},"performStandardAction":{"parameters":[{"name":"actionType","$ref":"automation.ActionType"}],"name":"performStandardAction","type":"function"},"replaceSelectedText":{"parameters":[{"type":"string","name":"value"}],"name":"replaceSelectedText","type":"function"},"setAccessibilityFocus":{"parameters":[],"name":"setAccessibilityFocus","type":"function"},"setSelection":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"}],"name":"setSelection","type":"function"},"setSequentialFocusNavigationStartingPoint":{"parameters":[],"name":"setSequentialFocusNavigationStartingPoint","type":"function"},"setValue":{"parameters":[{"type":"string","name":"value"}],"name":"setValue","type":"function"},"showContextMenu":{"parameters":[],"name":"showContextMenu","type":"function"},"resumeMedia":{"parameters":[],"name":"resumeMedia","type":"function"},"startDuckingMedia":{"parameters":[],"name":"startDuckingMedia","type":"function"},"stopDuckingMedia":{"parameters":[],"name":"stopDuckingMedia","type":"function"},"suspendMedia":{"parameters":[],"name":"suspendMedia","type":"function"},"scrollBackward":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollBackward","type":"function"},"scrollForward":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollForward","type":"function"},"scrollUp":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollUp","type":"function"},"scrollDown":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollDown","type":"function"},"scrollLeft":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollLeft","type":"function"},"scrollRight":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollRight","type":"function"},"scrollToPoint":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"}],"name":"scrollToPoint","type":"function"},"setScrollOffset":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"}],"name":"setScrollOffset","type":"function"},"addEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"type":"function","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}]},{"type":"boolean","name":"capture"}],"name":"addEventListener","type":"function"},"removeEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"type":"function","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}]},{"type":"boolean","name":"capture"}],"name":"removeEventListener","type":"function"},"domQuerySelector":{"parameters":[{"type":"string","name":"selector"},{"type":"function","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}]}],"name":"domQuerySelector","type":"function"},"find":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"optional":true,"name":"find","$ref":"automation.AutomationNode"},"name":"find","type":"function"},"findAll":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"items":{"$ref":"automation.AutomationNode"},"type":"array","name":"findAll"},"name":"findAll","type":"function"},"matches":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"type":"boolean","name":"matches"},"name":"matches","type":"function"},"getNextTextMatch":{"parameters":[{"type":"string","name":"searchStr"},{"type":"boolean","name":"backward"}],"returns":{"optional":true,"name":"getNextTextMatch","$ref":"automation.AutomationNode"},"name":"getNextTextMatch","type":"function"},"languageAnnotationForStringAttribute":{"parameters":[{"type":"string","name":"attribute"}],"returns":{"items":{"$ref":"automation.LanguageSpan"},"type":"array","name":"languageAnnotationForStringAttribute"},"name":"languageAnnotationForStringAttribute","type":"function"},"createPosition":{"parameters":[{"type":"integer","name":"offset"},{"optional":true,"type":"boolean","name":"isUpstream"}],"returns":{"optional":true,"name":"createPosition","$ref":"automation.AutomationPosition"},"name":"createPosition","type":"function"}}}]}
google:suggestClgle:pathWildcardgoogle:pathWildcgle:searchClientgoogle:searchCligle:sessionTokengoogle:sessionToualSearchVersiongoogle:contextuaomniboxFocusTypegoogle:omniboxFogoogle:inputTypechSource
ui::TextInputType
TextInputType
ui::TextInputType
google:suggestClgle:pathWildcardgoogle:pathWildcgle:searchClientgoogle:searchCligle:sessionTokengoogle:sessionToualSearchVersiongoogle:contextuaomniboxFocusTypegoogle:omniboxFogoogle:inputTypeeThumbnailBase64google:imageThumcapedSearchTermsgoogle:unescapedchSource
google:inputType
{google:inputType}
.metrics.OmniboxInputType
OmniboxInputType
OmniboxInputTypeProtosH
nputTypeH
PpapiHostMsg_PPBInstance_SetTextInputType
{google:baseSuggestURL}search?{google:searchFieldtrialParameter}client={google:suggestClient}&gs_ri={google:suggestRid}&xssi=t&q={searchTerms}&{google:inputType}{google:omniboxFocusType}{google:cursorPosition}{google:pageClassification}{google:searchVersion}{google:sessionToken}{google:prefetchQuery}sugkey={google:suggestAPIKeyParameter}
{bing:baseURL}qbox?query={searchTerms}&language={language}&{bing:partner}{bing:cvid}{bing:ig}{google:inputType}{google:cursorPosition}{google:pageClassification}{bing:features}{bing:flights}
Microsoft.Pdf.OOUI.InputType
ScrollInputType
TextInputType
inputType
{"functions":[{"parameters":[{"optional":true,"type":"integer","name":"tabId"},{"explicitType":"RootCallback","name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"type":"function","optional":true}],"name":"getTree","type":"function"},{"parameters":[{"explicitType":"RootCallback","name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getDesktop","type":"function"},{"parameters":[{"explicitType":"FocusCallback","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getFocus","type":"function"},{"parameters":[{"explicitType":"AccessibilityFocusCallback","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"getAccessibilityFocus","type":"function"},{"parameters":[{"name":"filter","$ref":"automation.TreeChangeObserverFilter"},{"explicitType":"TreeChangeObserver","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"type":"function"}],"name":"addTreeChangeObserver","type":"function"},{"parameters":[{"explicitType":"TreeChangeObserver","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"type":"function"}],"name":"removeTreeChangeObserver","type":"function"},{"parameters":[{"name":"params","$ref":"automation.SetDocumentSelectionParams"}],"name":"setDocumentSelection","type":"function"}],"documentation_options":{},"callbacks":{"QueryCallback":{"parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"name":"QueryCallback","type":"function"},"AutomationListener":{"parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"name":"AutomationListener","type":"function"},"TreeChangeObserver":{"parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}],"name":"TreeChangeObserver","type":"function"},"PerformActionCallback":{"parameters":[{"type":"boolean","name":"result"}],"name":"PerformActionCallback","type":"function"},"PerformActionCallbackWithNode":{"parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"name":"PerformActionCallbackWithNode","type":"function"},"BoundsForRangeCallback":{"parameters":[{"name":"bounds","$ref":"automation.Rect"}],"name":"BoundsForRangeCallback","type":"function"},"RootCallback":{"parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"name":"RootCallback","type":"function"},"FocusCallback":{"parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"name":"FocusCallback","type":"function"},"AccessibilityFocusCallback":{"parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}],"name":"AccessibilityFocusCallback","type":"function"}},"deprecated":null,"namespace":"automation","events":[],"platforms":null,"internal":false,"properties":{},"types":[{"enum":[{"name":"accessKeyChanged"},{"name":"activeDescendantChanged"},{"name":"alert"},{"name":"ariaAttributeChanged"},{"name":"ariaCurrentChanged"},{"name":"atomicChanged"},{"name":"autoCompleteChanged"},{"name":"autocorrectionOccured"},{"name":"blur"},{"name":"busyChanged"},{"name":"checkedStateChanged"},{"name":"childrenChanged"},{"name":"classNameChanged"},{"name":"clicked"},{"name":"collapsed"},{"name":"controlsChanged"},{"name":"describedByChanged"},{"name":"descriptionChanged"},{"name":"documentSelectionChanged"},{"name":"documentTitleChanged"},{"name":"dropeffectChanged"},{"name":"editableTextChanged"},{"name":"enabledChanged"},{"name":"endOfTest"},{"name":"expanded"},{"name":"expandedChanged"},{"name":"flowFromChanged"},{"name":"flowToChanged"},{"name":"focus"},{"name":"focusAfterMenuClose"},{"name":"focusChanged"},{"name":"focusContext"},{"name":"grabbedChanged"},{"name":"haspopupChanged"},{"name":"hide"},{"name":"hierarchicalLevelChanged"},{"name":"hitTestResult"},{"name":"hover"},{"name":"ignoredChanged"},{"name":"imageAnnotationChanged"},{"name":"imageFrameUpdated"},{"name":"invalidStatusChanged"},{"name":"keyShortcutsChanged"},{"name":"labeledByChanged"},{"name":"languageChanged"},{"name":"layoutComplete"},{"name":"layoutInvalidated"},{"name":"liveRegionChanged"},{"name":"liveRegionCreated"},{"name":"liveRegionNodeChanged"},{"name":"liveRelevantChanged"},{"name":"liveStatusChanged"},{"name":"loadComplete"},{"name":"loadStart"},{"name":"locationChanged"},{"name":"mediaStartedPlaying"},{"name":"mediaStoppedPlaying"},{"name":"menuEnd"},{"name":"menuItemSelected"},{"name":"menuListItemSelected"},{"name":"menuListValueChanged"},{"name":"menuPopupEnd"},{"name":"menuPopupStart"},{"name":"menuStart"},{"name":"mouseCanceled"},{"name":"mouseDragged"},{"name":"mouseMoved"},{"name":"mousePressed"},{"name":"mouseReleased"},{"name":"multilineStateChanged"},{"name":"multiselectableStateChanged"},{"name":"nameChanged"},{"name":"notification"},{"name":"objectAttributeChanged"},{"name":"otherAttributeChanged"},{"name":"parentChanged"},{"name":"placeholderChanged"},{"name":"portalActivated"},{"name":"positionInSet"},{"name":"positionInSetChanged"},{"name":"rangeValueChanged"},{"name":"rangeValueMaxChanged"},{"name":"rangeValueMinChanged"},{"name":"rangeValueStepChanged"},{"name":"readonlyChanged"},{"name":"relatedNodeChanged"},{"name":"requiredStateChanged"},{"name":"roleChanged"},{"name":"rowCollapsed"},{"name":"rowCountChanged"},{"name":"rowExpanded"},{"name":"scrollHorizontalPositionChanged"},{"name":"scrollPositionChanged"},{"name":"scrollVerticalPositionChanged"},{"name":"scrolledToAnchor"},{"name":"selectedChanged"},{"name":"selectedChildrenChanged"},{"name":"selectedValueChanged"},{"name":"selection"},{"name":"selectionAdd"},{"name":"selectionInTextFieldChanged"},{"name":"selectionRemove"},{"name":"setSizeChanged"},{"name":"show"},{"name":"sortChanged"},{"name":"stateChanged"},{"name":"subtreeCreated"},{"name":"textAttributeChanged"},{"name":"textSelectionChanged"},{"name":"textChanged"},{"name":"tooltipClosed"},{"name":"tooltipOpened"},{"name":"treeChanged"},{"name":"valueInTextFieldChanged"},{"name":"valueChanged"},{"name":"windowActivated"},{"name":"windowDeactivated"},{"name":"windowVisibilityChanged"}],"type":"string","id":"automation.EventType"},{"enum":[{"name":"abbr"},{"name":"alert"},{"name":"alertDialog"},{"name":"anchor"},{"name":"application"},{"name":"article"},{"name":"audio"},{"name":"banner"},{"name":"blockquote"},{"name":"button"},{"name":"canvas"},{"name":"caption"},{"name":"caret"},{"name":"cell"},{"name":"checkBox"},{"name":"client"},{"name":"code"},{"name":"colorWell"},{"name":"column"},{"name":"columnHeader"},{"name":"comboBoxGrouping"},{"name":"comboBoxMenuButton"},{"name":"comment"},{"name":"complementary"},{"name":"contentDeletion"},{"name":"contentInsertion"},{"name":"contentInfo"},{"name":"date"},{"name":"dateTime"},{"name":"definition"},{"name":"descriptionList"},{"name":"descriptionListDetail"},{"name":"descriptionListTerm"},{"name":"desktop"},{"name":"details"},{"name":"dialog"},{"name":"directory"},{"name":"disclosureTriangle"},{"name":"docAbstract"},{"name":"docAcknowledgments"},{"name":"docAfterword"},{"name":"docAppendix"},{"name":"docBackLink"},{"name":"docBiblioEntry"},{"name":"docBibliography"},{"name":"docBiblioRef"},{"name":"docChapter"},{"name":"docColophon"},{"name":"docConclusion"},{"name":"docCover"},{"name":"docCredit"},{"name":"docCredits"},{"name":"docDedication"},{"name":"docEndnote"},{"name":"docEndnotes"},{"name":"docEpigraph"},{"name":"docEpilogue"},{"name":"docErrata"},{"name":"docExample"},{"name":"docFootnote"},{"name":"docForeword"},{"name":"docGlossary"},{"name":"docGlossRef"},{"name":"docIndex"},{"name":"docIntroduction"},{"name":"docNoteRef"},{"name":"docNotice"},{"name":"docPageBreak"},{"name":"docPageFooter"},{"name":"docPageHeader"},{"name":"docPageList"},{"name":"docPart"},{"name":"docPreface"},{"name":"docPrologue"},{"name":"docPullquote"},{"name":"docQna"},{"name":"docSubtitle"},{"name":"docTip"},{"name":"docToc"},{"name":"document"},{"name":"embeddedObject"},{"name":"emphasis"},{"name":"feed"},{"name":"figcaption"},{"name":"figure"},{"name":"footer"},{"name":"footerAsNonLandmark"},{"name":"form"},{"name":"genericContainer"},{"name":"graphicsDocument"},{"name":"graphicsObject"},{"name":"graphicsSymbol"},{"name":"grid"},{"name":"group"},{"name":"header"},{"name":"headerAsNonLandmark"},{"name":"heading"},{"name":"iframe"},{"name":"iframePresentational"},{"name":"ignored"},{"name":"image"},{"name":"imageMap"},{"name":"imeCandidate"},{"name":"inlineTextBox"},{"name":"inputTime"},{"name":"keyboard"},{"name":"labelText"},{"name":"layoutTable"},{"name":"layoutTableCell"},{"name":"layoutTableRow"},{"name":"legend"},{"name":"lineBreak"},{"name":"link"},{"name":"list"},{"name":"listBox"},{"name":"listBoxOption"},{"name":"listGrid"},{"name":"listItem"},{"name":"listMarker"},{"name":"log"},{"name":"main"},{"name":"mark"},{"name":"marquee"},{"name":"math"},{"name":"menu"},{"name":"menuBar"},{"name":"menuItem"},{"name":"menuItemCheckBox"},{"name":"menuItemRadio"},{"name":"menuListOption"},{"name":"menuListPopup"},{"name":"meter"},{"name":"navigation"},{"name":"note"},{"name":"pane"},{"name":"paragraph"},{"name":"pdfActionableHighlight"},{"name":"pdfRoot"},{"name":"pluginObject"},{"name":"popUpButton"},{"name":"portal"},{"name":"pre"},{"name":"presentational"},{"name":"progressIndicator"},{"name":"radioButton"},{"name":"radioGroup"},{"name":"region"},{"name":"rootWebArea"},{"name":"row"},{"name":"rowGroup"},{"name":"rowHeader"},{"name":"ruby"},{"name":"rubyAnnotation"},{"name":"scrollBar"},{"name":"scrollView"},{"name":"search"},{"name":"searchBox"},{"name":"section"},{"name":"slider"},{"name":"spinButton"},{"name":"splitter"},{"name":"staticText"},{"name":"status"},{"name":"strong"},{"name":"suggestion"},{"name":"svgRoot"},{"name":"switch"},{"name":"tab"},{"name":"tabList"},{"name":"tabPanel"},{"name":"table"},{"name":"tableHeaderContainer"},{"name":"term"},{"name":"textField"},{"name":"textFieldWithComboBox"},{"name":"time"},{"name":"timer"},{"name":"titleBar"},{"name":"toggleButton"},{"name":"toolbar"},{"name":"tooltip"},{"name":"tree"},{"name":"treeGrid"},{"name":"treeItem"},{"name":"unknown"},{"name":"video"},{"name":"webView"},{"name":"window"}],"type":"string","id":"automation.RoleType"},{"enum":[{"name":"autofillAvailable"},{"name":"collapsed"},{"name":"default"},{"name":"editable"},{"name":"expanded"},{"name":"focusable"},{"name":"focused"},{"name":"horizontal"},{"name":"hovered"},{"name":"ignored"},{"name":"invisible"},{"name":"linked"},{"name":"multiline"},{"name":"multiselectable"},{"name":"offscreen"},{"name":"protected"},{"name":"required"},{"name":"richlyEditable"},{"name":"vertical"},{"name":"visited"}],"type":"string","id":"automation.StateType"},{"enum":[{"name":"annotatePageImages"},{"name":"blur"},{"name":"clearAccessibilityFocus"},{"name":"collapse"},{"name":"customAction"},{"name":"decrement"},{"name":"doDefault"},{"name":"expand"},{"name":"focus"},{"name":"getImageData"},{"name":"getTextLocation"},{"name":"hideTooltip"},{"name":"hitTest"},{"name":"increment"},{"name":"internalInvalidateTree"},{"name":"loadInlineTextBoxes"},{"name":"replaceSelectedText"},{"name":"scrollBackward"},{"name":"scrollDown"},{"name":"scrollForward"},{"name":"scrollLeft"},{"name":"scrollRight"},{"name":"scrollUp"},{"name":"scrollToMakeVisible"},{"name":"scrollToPoint"},{"name":"setAccessibilityFocus"},{"name":"setScrollOffset"},{"name":"setSelection"},{"name":"setSequentialFocusNavigationStartingPoint"},{"name":"setValue"},{"name":"showContextMenu"},{"name":"signalEndOfTest"},{"name":"showTooltip"}],"type":"string","id":"automation.ActionType"},{"enum":[{"name":"nodeCreated"},{"name":"subtreeCreated"},{"name":"nodeChanged"},{"name":"textChanged"},{"name":"nodeRemoved"},{"name":"subtreeUpdateEnd"}],"type":"string","id":"automation.TreeChangeType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"attributeExplicitlyEmpty"},{"name":"caption"},{"name":"contents"},{"name":"placeholder"},{"name":"relatedElement"},{"name":"title"},{"name":"value"}],"type":"string","id":"automation.NameFromType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"contents"},{"name":"relatedElement"},{"name":"title"}],"type":"string","id":"automation.DescriptionFromType"},{"enum":[{"name":"disabled"},{"name":"readOnly"}],"type":"string","id":"automation.Restriction"},{"enum":[{"name":"true"},{"name":"menu"},{"name":"listbox"},{"name":"tree"},{"name":"grid"},{"name":"dialog"}],"type":"string","id":"automation.HasPopup"},{"enum":[{"name":"activate"},{"name":"check"},{"name":"click"},{"name":"clickAncestor"},{"name":"jump"},{"name":"open"},{"name":"press"},{"name":"select"},{"name":"uncheck"}],"type":"string","id":"automation.DefaultActionVerb"},{"enum":[{"name":"spelling"},{"name":"grammar"},{"name":"textMatch"},{"name":"activeSuggestion"},{"name":"suggestion"}],"type":"string","id":"automation.MarkerType"},{"enum":[{"name":"clearSelection"},{"name":"delete"},{"name":"dictate"},{"name":"extendSelection"},{"name":"format"},{"name":"history"},{"name":"insert"},{"name":"marker"},{"name":"moveSelection"},{"name":"setSelection"}],"type":"string","id":"automation.IntentCommandType"},{"enum":[{"name":"insertText"},{"name":"insertLineBreak"},{"name":"insertParagraph"},{"name":"insertOrderedList"},{"name":"insertUnorderedList"},{"name":"insertHorizontalRule"},{"name":"insertFromPaste"},{"name":"insertFromDrop"},{"name":"insertFromYank"},{"name":"insertTranspose"},{"name":"insertReplacementText"},{"name":"insertCompositionText"},{"name":"deleteWordBackward"},{"name":"deleteWordForward"},{"name":"deleteSoftLineBackward"},{"name":"deleteSoftLineForward"},{"name":"deleteHardLineBackward"},{"name":"deleteHardLineForward"},{"name":"deleteContentBackward"},{"name":"deleteContentForward"},{"name":"deleteByCut"},{"name":"deleteByDrag"},{"name":"historyUndo"},{"name":"historyRedo"},{"name":"formatBold"},{"name":"formatItalic"},{"name":"formatUnderline"},{"name":"formatStrikeThrough"},{"name":"formatSuperscript"},{"name":"formatSubscript"},{"name":"formatJustifyCenter"},{"name":"formatJustifyFull"},{"name":"formatJustifyRight"},{"name":"formatJustifyLeft"},{"name":"formatIndent"},{"name":"formatOutdent"},{"name":"formatRemove"},{"name":"formatSetBlockTextDirection"}],"type":"string","id":"automation.IntentInputEventType"},{"enum":[{"name":"character"},{"name":"format"},{"name":"lineEnd"},{"name":"lineStart"},{"name":"lineStartOrEnd"},{"name":"object"},{"name":"pageEnd"},{"name":"pageStart"},{"name":"pageStartOrEnd"},{"name":"paragraphEnd"},{"name":"paragraphStart"},{"name":"paragraphStartOrEnd"},{"name":"sentenceEnd"},{"name":"sentenceStart"},{"name":"sentenceStartOrEnd"},{"name":"webPage"},{"name":"wordEnd"},{"name":"wordStart"},{"name":"wordStartOrEnd"}],"type":"string","id":"automation.IntentTextBoundaryType"},{"enum":[{"name":"backward"},{"name":"forward"}],"type":"string","id":"automation.IntentMoveDirectionType"},{"enum":[{"name":"unsorted"},{"name":"ascending"},{"name":"descending"},{"name":"other"}],"type":"string","id":"automation.SortDirectionType"},{"type":"object","id":"automation.Rect","properties":{"left":{"name":"left","type":"integer"},"top":{"name":"top","type":"integer"},"width":{"name":"width","type":"integer"},"height":{"name":"height","type":"integer"}}},{"type":"object","id":"automation.FindParams","properties":{"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"attributes":{"optional":true,"name":"attributes","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.SetDocumentSelectionParams","properties":{"anchorObject":{"name":"anchorObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"anchorOffset":{"name":"anchorOffset","type":"integer"},"focusObject":{"name":"focusObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"focusOffset":{"name":"focusOffset","type":"integer"}}},{"type":"object","id":"automation.AutomationIntent","properties":{"command":{"name":"command","$ref":"automation.IntentCommandType"},"textBoundary":{"name":"textBoundary","$ref":"automation.IntentTextBoundaryType"},"moveDirection":{"name":"moveDirection","$ref":"automation.IntentMoveDirectionType"}}},{"type":"object","id":"automation.AutomationEvent","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.EventType"},"eventFrom":{"name":"eventFrom","type":"string"},"mouseX":{"name":"mouseX","type":"integer"},"mouseY":{"name":"mouseY","type":"integer"},"intents":{"name":"intents","type":"array","items":{"$ref":"automation.AutomationIntent"}},"stopPropagation":{"parameters":[],"name":"stopPropagation","type":"function"}}},{"type":"object","id":"automation.TreeChange","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.TreeChangeType"}}},{"enum":[{"name":"noTreeChanges"},{"name":"liveRegionTreeChanges"},{"name":"textMarkerChanges"},{"name":"allTreeChanges"}],"type":"string","id":"automation.TreeChangeObserverFilter"},{"type":"object","id":"automation.CustomAction","properties":{"id":{"name":"id","type":"integer"},"description":{"name":"description","type":"string"}}},{"type":"object","id":"automation.LanguageSpan","properties":{"startIndex":{"name":"startIndex","type":"integer"},"endIndex":{"name":"endIndex","type":"integer"},"language":{"name":"language","type":"string"},"probability":{"name":"probability","type":"number"}}},{"type":"object","id":"automation.Marker","properties":{"startOffset":{"name":"startOffset","type":"integer"},"endOffset":{"name":"endOffset","type":"integer"},"flags":{"name":"flags","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.AutomationPosition","properties":{"node":{"optional":true,"name":"node","$ref":"automation.AutomationNode"},"childIndex":{"name":"childIndex","type":"integer"},"textOffset":{"name":"textOffset","type":"integer"},"affinity":{"name":"affinity","type":"string"},"isNullPosition":{"parameters":[],"returns":{"type":"boolean","name":"isNullPosition"},"name":"isNullPosition","type":"function"},"isTreePosition":{"parameters":[],"returns":{"type":"boolean","name":"isTreePosition"},"name":"isTreePosition","type":"function"},"isTextPosition":{"parameters":[],"returns":{"type":"boolean","name":"isTextPosition"},"name":"isTextPosition","type":"function"},"isLeafTextPosition":{"parameters":[],"returns":{"type":"boolean","name":"isLeafTextPosition"},"name":"isLeafTextPosition","type":"function"},"atStartOfAnchor":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfAnchor"},"name":"atStartOfAnchor","type":"function"},"atEndOfAnchor":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfAnchor"},"name":"atEndOfAnchor","type":"function"},"atStartOfWord":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfWord"},"name":"atStartOfWord","type":"function"},"atEndOfWord":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfWord"},"name":"atEndOfWord","type":"function"},"atStartOfLine":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfLine"},"name":"atStartOfLine","type":"function"},"atEndOfLine":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfLine"},"name":"atEndOfLine","type":"function"},"atStartOfParagraph":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfParagraph"},"name":"atStartOfParagraph","type":"function"},"atEndOfParagraph":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfParagraph"},"name":"atEndOfParagraph","type":"function"},"atStartOfPage":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfPage"},"name":"atStartOfPage","type":"function"},"atEndOfPage":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfPage"},"name":"atEndOfPage","type":"function"},"atStartOfFormat":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfFormat"},"name":"atStartOfFormat","type":"function"},"atEndOfFormat":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfFormat"},"name":"atEndOfFormat","type":"function"},"atStartOfDocument":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfDocument"},"name":"atStartOfDocument","type":"function"},"atEndOfDocument":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfDocument"},"name":"atEndOfDocument","type":"function"},"asTreePosition":{"parameters":[],"name":"asTreePosition","type":"function"},"asTextPosition":{"parameters":[],"name":"asTextPosition","type":"function"},"asLeafTextPosition":{"parameters":[],"name":"asLeafTextPosition","type":"function"},"moveToPositionAtStartOfAnchor":{"parameters":[],"name":"moveToPositionAtStartOfAnchor","type":"function"},"moveToPositionAtEndOfAnchor":{"parameters":[],"name":"moveToPositionAtEndOfAnchor","type":"function"},"moveToPositionAtStartOfDocument":{"parameters":[],"name":"moveToPositionAtStartOfDocument","type":"function"},"moveToPositionAtEndOfDocument":{"parameters":[],"name":"moveToPositionAtEndOfDocument","type":"function"},"moveToParentPosition":{"parameters":[],"name":"moveToParentPosition","type":"function"},"moveToNextLeafTreePosition":{"parameters":[],"name":"moveToNextLeafTreePosition","type":"function"},"moveToPreviousLeafTreePosition":{"parameters":[],"name":"moveToPreviousLeafTreePosition","type":"function"},"moveToNextLeafTextPosition":{"parameters":[],"name":"moveToNextLeafTextPosition","type":"function"},"moveToPreviousLeafTextPosition":{"parameters":[],"name":"moveToPreviousLeafTextPosition","type":"function"},"moveToNextCharacterPosition":{"parameters":[],"name":"moveToNextCharacterPosition","type":"function"},"moveToPreviousCharacterPosition":{"parameters":[],"name":"moveToPreviousCharacterPosition","type":"function"},"moveToNextWordStartPosition":{"parameters":[],"name":"moveToNextWordStartPosition","type":"function"},"moveToPreviousWordStartPosition":{"parameters":[],"name":"moveToPreviousWordStartPosition","type":"function"},"moveToNextWordEndPosition":{"parameters":[],"name":"moveToNextWordEndPosition","type":"function"},"moveToPreviousWordEndPosition":{"parameters":[],"name":"moveToPreviousWordEndPosition","type":"function"},"moveToNextLineStartPosition":{"parameters":[],"name":"moveToNextLineStartPosition","type":"function"},"moveToPreviousLineStartPosition":{"parameters":[],"name":"moveToPreviousLineStartPosition","type":"function"},"moveToNextLineEndPosition":{"parameters":[],"name":"moveToNextLineEndPosition","type":"function"},"moveToPreviousLineEndPosition":{"parameters":[],"name":"moveToPreviousLineEndPosition","type":"function"},"moveToPreviousFormatStartPosition":{"parameters":[],"name":"moveToPreviousFormatStartPosition","type":"function"},"moveToNextFormatEndPosition":{"parameters":[],"name":"moveToNextFormatEndPosition","type":"function"},"moveToNextParagraphStartPosition":{"parameters":[],"name":"moveToNextParagraphStartPosition","type":"function"},"moveToPreviousParagraphStartPosition":{"parameters":[],"name":"moveToPreviousParagraphStartPosition","type":"function"},"moveToNextParagraphEndPosition":{"parameters":[],"name":"moveToNextParagraphEndPosition","type":"function"},"moveToPreviousParagraphEndPosition":{"parameters":[],"name":"moveToPreviousParagraphEndPosition","type":"function"},"moveToNextPageStartPosition":{"parameters":[],"name":"moveToNextPageStartPosition","type":"function"},"moveToPreviousPageStartPosition":{"parameters":[],"name":"moveToPreviousPageStartPosition","type":"function"},"moveToNextPageEndPosition":{"parameters":[],"name":"moveToNextPageEndPosition","type":"function"},"moveToPreviousPageEndPosition":{"parameters":[],"name":"moveToPreviousPageEndPosition","type":"function"},"moveToNextAnchorPosition":{"parameters":[],"name":"moveToNextAnchorPosition","type":"function"},"moveToPreviousAnchorPosition":{"parameters":[],"name":"moveToPreviousAnchorPosition","type":"function"},"maxTextOffset":{"parameters":[],"returns":{"type":"integer","name":"maxTextOffset"},"name":"maxTextOffset","type":"function"},"isInLineBreak":{"parameters":[],"returns":{"type":"boolean","name":"isInLineBreak"},"name":"isInLineBreak","type":"function"},"isInTextObject":{"parameters":[],"returns":{"type":"boolean","name":"isInTextObject"},"name":"isInTextObject","type":"function"},"isInWhiteSpace":{"parameters":[],"returns":{"type":"boolean","name":"isInWhiteSpace"},"name":"isInWhiteSpace","type":"function"},"isValid":{"parameters":[],"returns":{"type":"boolean","name":"isValid"},"name":"isValid","type":"function"},"getText":{"parameters":[],"returns":{"type":"string","name":"getText"},"name":"getText","type":"function"}}},{"type":"object","id":"automation.AutomationNode","properties":{"root":{"optional":true,"name":"root","$ref":"automation.AutomationNode"},"isRootNode":{"name":"isRootNode","type":"boolean"},"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"location":{"optional":true,"name":"location","$ref":"automation.Rect"},"boundsForRange":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"},{"explicitType":"BoundsForRangeCallback","type":"function","name":"callback","parameters":[{"name":"bounds","$ref":"automation.Rect"}]}],"name":"boundsForRange","type":"function"},"unclippedBoundsForRange":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"},{"explicitType":"BoundsForRangeCallback","type":"function","name":"callback","parameters":[{"name":"bounds","$ref":"automation.Rect"}]}],"name":"unclippedBoundsForRange","type":"function"},"unclippedLocation":{"optional":true,"name":"unclippedLocation","$ref":"automation.Rect"},"description":{"optional":true,"name":"description","type":"string"},"checkedStateDescription":{"optional":true,"name":"checkedStateDescription","type":"string"},"placeholder":{"optional":true,"name":"placeholder","type":"string"},"roleDescription":{"optional":true,"name":"roleDescription","type":"string"},"name":{"optional":true,"name":"name","type":"string"},"tooltip":{"optional":true,"name":"tooltip","type":"string"},"nameFrom":{"optional":true,"name":"nameFrom","$ref":"automation.NameFromType"},"imageAnnotation":{"optional":true,"name":"imageAnnotation","type":"string"},"value":{"optional":true,"name":"value","type":"string"},"htmlTag":{"optional":true,"name":"htmlTag","type":"string"},"hierarchicalLevel":{"optional":true,"name":"hierarchicalLevel","type":"integer"},"wordStarts":{"optional":true,"name":"wordStarts","type":"array","items":{"type":"integer"}},"wordEnds":{"optional":true,"name":"wordEnds","type":"array","items":{"type":"integer"}},"sentenceStarts":{"optional":true,"name":"sentenceStarts","type":"array","items":{"type":"integer"}},"sentenceEnds":{"optional":true,"name":"sentenceEnds","type":"array","items":{"type":"integer"}},"nonInlineTextWordStarts":{"optional":true,"name":"nonInlineTextWordStarts","type":"array","items":{"type":"integer"}},"nonInlineTextWordEnds":{"optional":true,"name":"nonInlineTextWordEnds","type":"array","items":{"type":"integer"}},"controls":{"optional":true,"name":"controls","type":"array","items":{"$ref":"automation.AutomationNode"}},"describedBy":{"optional":true,"name":"describedBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowTo":{"optional":true,"name":"flowTo","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelledBy":{"optional":true,"name":"labelledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"activeDescendant":{"optional":true,"name":"activeDescendant","$ref":"automation.AutomationNode"},"activeDescendantFor":{"optional":true,"name":"activeDescendantFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"inPageLinkTarget":{"optional":true,"name":"inPageLinkTarget","$ref":"automation.AutomationNode"},"details":{"optional":true,"name":"details","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessage":{"optional":true,"name":"errorMessage","$ref":"automation.AutomationNode"},"detailsFor":{"optional":true,"name":"detailsFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessageFor":{"optional":true,"name":"errorMessageFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"controlledBy":{"optional":true,"name":"controlledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"descriptionFor":{"optional":true,"name":"descriptionFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowFrom":{"optional":true,"name":"flowFrom","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelFor":{"optional":true,"name":"labelFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellColumnHeaders":{"optional":true,"name":"tableCellColumnHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellRowHeaders":{"optional":true,"name":"tableCellRowHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"standardActions":{"optional":true,"name":"standardActions","type":"array","items":{"$ref":"automation.ActionType"}},"customActions":{"optional":true,"name":"customActions","type":"array","items":{"$ref":"automation.CustomAction"}},"defaultActionVerb":{"optional":true,"name":"defaultActionVerb","$ref":"automation.DefaultActionVerb"},"url":{"optional":true,"name":"url","type":"string"},"docUrl":{"optional":true,"name":"docUrl","type":"string"},"docTitle":{"optional":true,"name":"docTitle","type":"string"},"docLoaded":{"optional":true,"name":"docLoaded","type":"boolean"},"docLoadingProgress":{"optional":true,"name":"docLoadingProgress","type":"number"},"scrollX":{"optional":true,"name":"scrollX","type":"integer"},"scrollXMin":{"optional":true,"name":"scrollXMin","type":"integer"},"scrollXMax":{"optional":true,"name":"scrollXMax","type":"integer"},"scrollY":{"optional":true,"name":"scrollY","type":"integer"},"scrollYMin":{"optional":true,"name":"scrollYMin","type":"integer"},"scrollYMax":{"optional":true,"name":"scrollYMax","type":"integer"},"scrollable":{"optional":true,"name":"scrollable","type":"boolean"},"textSelStart":{"optional":true,"name":"textSelStart","type":"integer"},"textSelEnd":{"optional":true,"name":"textSelEnd","type":"integer"},"textInputType":{"optional":true,"name":"textInputType","type":"string"},"markers":{"optional":true,"name":"markers","type":"array","items":{"$ref":"automation.Marker"}},"isSelectionBackward":{"optional":true,"name":"isSelectionBackward","type":"boolean"},"anchorObject":{"optional":true,"name":"anchorObject","$ref":"automation.AutomationNode"},"anchorOffset":{"optional":true,"name":"anchorOffset","type":"integer"},"anchorAffinity":{"optional":true,"name":"anchorAffinity","type":"string"},"focusObject":{"optional":true,"name":"focusObject","$ref":"automation.AutomationNode"},"focusOffset":{"optional":true,"name":"focusOffset","type":"integer"},"focusAffinity":{"optional":true,"name":"focusAffinity","type":"string"},"selectionStartObject":{"optional":true,"name":"selectionStartObject","$ref":"automation.AutomationNode"},"selectionStartOffset":{"optional":true,"name":"selectionStartOffset","type":"integer"},"selectionStartAffinity":{"optional":true,"name":"selectionStartAffinity","type":"string"},"selectionEndObject":{"optional":true,"name":"selectionEndObject","$ref":"automation.AutomationNode"},"selectionEndOffset":{"optional":true,"name":"selectionEndOffset","type":"integer"},"selectionEndAffinity":{"optional":true,"name":"selectionEndAffinity","type":"string"},"notUserSelectableStyle":{"optional":true,"name":"notUserSelectableStyle","type":"boolean"},"valueForRange":{"optional":true,"name":"valueForRange","type":"number"},"minValueForRange":{"optional":true,"name":"minValueForRange","type":"number"},"maxValueForRange":{"optional":true,"name":"maxValueForRange","type":"number"},"posInSet":{"optional":true,"name":"posInSet","type":"integer"},"setSize":{"optional":true,"name":"setSize","type":"integer"},"tableRowCount":{"optional":true,"name":"tableRowCount","type":"integer"},"ariaRowCount":{"optional":true,"name":"ariaRowCount","type":"integer"},"tableColumnCount":{"optional":true,"name":"tableColumnCount","type":"integer"},"ariaColumnCount":{"optional":true,"name":"ariaColumnCount","type":"integer"},"tableCellColumnIndex":{"optional":true,"name":"tableCellColumnIndex","type":"integer"},"tableCellAriaColumnIndex":{"optional":true,"name":"tableCellAriaColumnIndex","type":"integer"},"tableCellColumnSpan":{"optional":true,"name":"tableCellColumnSpan","type":"integer"},"tableCellRowIndex":{"optional":true,"name":"tableCellRowIndex","type":"integer"},"tableCellAriaRowIndex":{"optional":true,"name":"tableCellAriaRowIndex","type":"integer"},"tableCellRowSpan":{"optional":true,"name":"tableCellRowSpan","type":"integer"},"tableColumnHeader":{"optional":true,"name":"tableColumnHeader","$ref":"automation.AutomationNode"},"tableRowHeader":{"optional":true,"name":"tableRowHeader","$ref":"automation.AutomationNode"},"tableColumnIndex":{"optional":true,"name":"tableColumnIndex","type":"integer"},"tableRowIndex":{"optional":true,"name":"tableRowIndex","type":"integer"},"liveStatus":{"optional":true,"name":"liveStatus","type":"string"},"liveRelevant":{"optional":true,"name":"liveRelevant","type":"string"},"liveAtomic":{"optional":true,"name":"liveAtomic","type":"boolean"},"busy":{"optional":true,"name":"busy","type":"boolean"},"containerLiveStatus":{"optional":true,"name":"containerLiveStatus","type":"string"},"containerLiveRelevant":{"optional":true,"name":"containerLiveRelevant","type":"string"},"containerLiveAtomic":{"optional":true,"name":"containerLiveAtomic","type":"boolean"},"containerLiveBusy":{"optional":true,"name":"containerLiveBusy","type":"boolean"},"autoComplete":{"optional":true,"name":"autoComplete","type":"string"},"className":{"optional":true,"name":"className","type":"string"},"modal":{"optional":true,"name":"modal","type":"boolean"},"htmlAttributes":{"optional":true,"name":"htmlAttributes","type":"object","additionalProperties":{"type":"any"}},"inputType":{"optional":true,"name":"inputType","type":"string"},"accessKey":{"optional":true,"name":"accessKey","type":"string"},"ariaInvalidValue":{"optional":true,"name":"ariaInvalidValue","type":"string"},"display":{"optional":true,"name":"display","type":"string"},"imageDataUrl":{"optional":true,"name":"imageDataUrl","type":"string"},"language":{"optional":true,"name":"language","type":"string"},"detectedLanguage":{"optional":true,"name":"detectedLanguage","type":"string"},"hasPopup":{"optional":true,"name":"hasPopup","type":"string"},"restriction":{"optional":true,"name":"restriction","type":"string"},"checked":{"optional":true,"name":"checked","type":"string"},"innerHtml":{"optional":true,"name":"innerHtml","type":"string"},"color":{"optional":true,"name":"color","type":"integer"},"backgroundColor":{"optional":true,"name":"backgroundColor","type":"integer"},"colorValue":{"optional":true,"name":"colorValue","type":"integer"},"subscript":{"name":"subscript","type":"boolean"},"superscript":{"name":"superscript","type":"boolean"},"bold":{"name":"bold","type":"boolean"},"italic":{"name":"italic","type":"boolean"},"underline":{"name":"underline","type":"boolean"},"lineThrough":{"name":"lineThrough","type":"boolean"},"selected":{"optional":true,"name":"selected","type":"boolean"},"fontSize":{"optional":true,"name":"fontSize","type":"integer"},"fontFamily":{"name":"fontFamily","type":"string"},"editableRoot":{"name":"editableRoot","type":"boolean"},"children":{"name":"children","type":"array","items":{"$ref":"automation.AutomationNode"}},"parent":{"optional":true,"name":"parent","$ref":"automation.AutomationNode"},"firstChild":{"optional":true,"name":"firstChild","$ref":"automation.AutomationNode"},"lastChild":{"optional":true,"name":"lastChild","$ref":"automation.AutomationNode"},"previousSibling":{"optional":true,"name":"previousSibling","$ref":"automation.AutomationNode"},"nextSibling":{"optional":true,"name":"nextSibling","$ref":"automation.AutomationNode"},"previousOnLine":{"optional":true,"name":"previousOnLine","$ref":"automation.AutomationNode"},"nextOnLine":{"optional":true,"name":"nextOnLine","$ref":"automation.AutomationNode"},"previousFocus":{"optional":true,"name":"previousFocus","$ref":"automation.AutomationNode"},"nextFocus":{"optional":true,"name":"nextFocus","$ref":"automation.AutomationNode"},"indexInParent":{"optional":true,"name":"indexInParent","type":"integer"},"sortDirection":{"name":"sortDirection","$ref":"automation.SortDirectionType"},"doDefault":{"parameters":[],"name":"doDefault","type":"function"},"focus":{"parameters":[],"name":"focus","type":"function"},"getImageData":{"parameters":[{"type":"integer","name":"maxWidth"},{"type":"integer","name":"maxHeight"}],"name":"getImageData","type":"function"},"hitTest":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"name":"eventToFire","$ref":"automation.EventType"}],"name":"hitTest","type":"function"},"hitTestWithReply":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"explicitType":"PerformActionCallbackWithNode","type":"function","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}]}],"name":"hitTestWithReply","type":"function"},"makeVisible":{"parameters":[],"name":"makeVisible","type":"function"},"performCustomAction":{"parameters":[{"type":"integer","name":"customActionId"}],"name":"performCustomAction","type":"function"},"performStandardAction":{"parameters":[{"name":"actionType","$ref":"automation.ActionType"}],"name":"performStandardAction","type":"function"},"replaceSelectedText":{"parameters":[{"type":"string","name":"value"}],"name":"replaceSelectedText","type":"function"},"setAccessibilityFocus":{"parameters":[],"name":"setAccessibilityFocus","type":"function"},"setSelection":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"}],"name":"setSelection","type":"function"},"setSequentialFocusNavigationStartingPoint":{"parameters":[],"name":"setSequentialFocusNavigationStartingPoint","type":"function"},"setValue":{"parameters":[{"type":"string","name":"value"}],"name":"setValue","type":"function"},"showContextMenu":{"parameters":[],"name":"showContextMenu","type":"function"},"resumeMedia":{"parameters":[],"name":"resumeMedia","type":"function"},"startDuckingMedia":{"parameters":[],"name":"startDuckingMedia","type":"function"},"stopDuckingMedia":{"parameters":[],"name":"stopDuckingMedia","type":"function"},"suspendMedia":{"parameters":[],"name":"suspendMedia","type":"function"},"scrollBackward":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollBackward","type":"function"},"scrollForward":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollForward","type":"function"},"scrollUp":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollUp","type":"function"},"scrollDown":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollDown","type":"function"},"scrollLeft":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollLeft","type":"function"},"scrollRight":{"parameters":[{"explicitType":"PerformActionCallback","name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollRight","type":"function"},"scrollToPoint":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"}],"name":"scrollToPoint","type":"function"},"setScrollOffset":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"}],"name":"setScrollOffset","type":"function"},"addEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"explicitType":"AutomationListener","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"type":"function"},{"type":"boolean","name":"capture"}],"name":"addEventListener","type":"function"},"removeEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"explicitType":"AutomationListener","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}],"type":"function"},{"type":"boolean","name":"capture"}],"name":"removeEventListener","type":"function"},"domQuerySelector":{"parameters":[{"type":"string","name":"selector"},{"explicitType":"QueryCallback","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}],"type":"function"}],"name":"domQuerySelector","type":"function"},"find":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"optional":true,"name":"find","$ref":"automation.AutomationNode"},"name":"find","type":"function"},"findAll":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"items":{"$ref":"automation.AutomationNode"},"type":"array","name":"findAll"},"name":"findAll","type":"function"},"matches":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"type":"boolean","name":"matches"},"name":"matches","type":"function"},"getNextTextMatch":{"parameters":[{"type":"string","name":"searchStr"},{"type":"boolean","name":"backward"}],"returns":{"optional":true,"name":"getNextTextMatch","$ref":"automation.AutomationNode"},"name":"getNextTextMatch","type":"function"},"languageAnnotationForStringAttribute":{"parameters":[{"type":"string","name":"attribute"}],"returns":{"items":{"$ref":"automation.LanguageSpan"},"type":"array","name":"languageAnnotationForStringAttribute"},"name":"languageAnnotationForStringAttribute","type":"function"},"createPosition":{"parameters":[{"type":"integer","name":"offset"},{"optional":true,"type":"boolean","name":"isUpstream"}],"returns":{"optional":true,"name":"createPosition","$ref":"automation.AutomationPosition"},"name":"createPosition","type":"function"}}}]}
ui::TextInputType
google:suggestClgle:pathWildcardgoogle:pathWildcgle:searchClientgoogle:searchCligle:sessionTokengoogle:sessionToualSearchVersiongoogle:contextuaomniboxFocusTypegoogle:omniboxFogoogle:inputTypeeThumbnailBase64google:imageThumcapedSearchTermsgoogle:unescapedchSource
google:inputType
{google:inputType}
PpapiHostMsg_PPBInstance_SetTextInputType
{google:baseSuggestURL}search?{google:searchFieldtrialParameter}client={google:suggestClient}&gs_ri={google:suggestRid}&xssi=t&q={searchTerms}&{google:inputType}{google:omniboxFocusType}{google:cursorPosition}{google:currentPageUrl}{google:pageClassification}{google:searchVersion}{google:sessionToken}{google:prefetchQuery}sugkey={google:suggestAPIKeyParameter}
ScrollInputType
TextInputType
inputType
{"functions":[{"parameters":[{"optional":true,"type":"integer","name":"tabId"},{"name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}],"type":"function","optional":true}],"name":"getTree","type":"function"},{"parameters":[{"type":"function","name":"callback","parameters":[{"name":"rootNode","$ref":"automation.AutomationNode"}]}],"name":"getDesktop","type":"function"},{"parameters":[{"type":"function","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}]}],"name":"getFocus","type":"function"},{"parameters":[{"type":"function","name":"callback","parameters":[{"name":"focusedNode","$ref":"automation.AutomationNode"}]}],"name":"getAccessibilityFocus","type":"function"},{"parameters":[{"name":"filter","$ref":"automation.TreeChangeObserverFilter"},{"type":"function","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}]}],"name":"addTreeChangeObserver","type":"function"},{"parameters":[{"type":"function","name":"observer","parameters":[{"name":"treeChange","$ref":"automation.TreeChange"}]}],"name":"removeTreeChangeObserver","type":"function"},{"parameters":[{"name":"params","$ref":"automation.SetDocumentSelectionParams"}],"name":"setDocumentSelection","type":"function"}],"documentation_options":{},"deprecated":null,"namespace":"automation","events":[],"platforms":null,"internal":false,"properties":{},"types":[{"enum":[{"name":"accessKeyChanged"},{"name":"activeDescendantChanged"},{"name":"alert"},{"name":"ariaAttributeChanged"},{"name":"ariaCurrentChanged"},{"name":"atomicChanged"},{"name":"autoCompleteChanged"},{"name":"autocorrectionOccured"},{"name":"blur"},{"name":"busyChanged"},{"name":"checkedStateChanged"},{"name":"childrenChanged"},{"name":"classNameChanged"},{"name":"clicked"},{"name":"collapsed"},{"name":"controlsChanged"},{"name":"describedByChanged"},{"name":"descriptionChanged"},{"name":"documentSelectionChanged"},{"name":"documentTitleChanged"},{"name":"dropeffectChanged"},{"name":"editableTextChanged"},{"name":"enabledChanged"},{"name":"endOfTest"},{"name":"expanded"},{"name":"expandedChanged"},{"name":"flowFromChanged"},{"name":"flowToChanged"},{"name":"focus"},{"name":"focusAfterMenuClose"},{"name":"focusChanged"},{"name":"focusContext"},{"name":"grabbedChanged"},{"name":"haspopupChanged"},{"name":"hide"},{"name":"hierarchicalLevelChanged"},{"name":"hitTestResult"},{"name":"hover"},{"name":"ignoredChanged"},{"name":"imageAnnotationChanged"},{"name":"imageFrameUpdated"},{"name":"invalidStatusChanged"},{"name":"keyShortcutsChanged"},{"name":"labeledByChanged"},{"name":"languageChanged"},{"name":"layoutComplete"},{"name":"layoutInvalidated"},{"name":"liveRegionChanged"},{"name":"liveRegionCreated"},{"name":"liveRegionNodeChanged"},{"name":"liveRelevantChanged"},{"name":"liveStatusChanged"},{"name":"loadComplete"},{"name":"loadStart"},{"name":"locationChanged"},{"name":"mediaStartedPlaying"},{"name":"mediaStoppedPlaying"},{"name":"menuEnd"},{"name":"menuItemSelected"},{"name":"menuListItemSelected"},{"name":"menuListValueChanged"},{"name":"menuPopupEnd"},{"name":"menuPopupStart"},{"name":"menuStart"},{"name":"mouseCanceled"},{"name":"mouseDragged"},{"name":"mouseMoved"},{"name":"mousePressed"},{"name":"mouseReleased"},{"name":"multilineStateChanged"},{"name":"multiselectableStateChanged"},{"name":"nameChanged"},{"name":"objectAttributeChanged"},{"name":"otherAttributeChanged"},{"name":"parentChanged"},{"name":"placeholderChanged"},{"name":"portalActivated"},{"name":"positionInSetChanged"},{"name":"rangeValueChanged"},{"name":"rangeValueMaxChanged"},{"name":"rangeValueMinChanged"},{"name":"rangeValueStepChanged"},{"name":"readonlyChanged"},{"name":"relatedNodeChanged"},{"name":"requiredStateChanged"},{"name":"roleChanged"},{"name":"rowCollapsed"},{"name":"rowCountChanged"},{"name":"rowExpanded"},{"name":"scrollHorizontalPositionChanged"},{"name":"scrollPositionChanged"},{"name":"scrollVerticalPositionChanged"},{"name":"scrolledToAnchor"},{"name":"selectedChanged"},{"name":"selectedChildrenChanged"},{"name":"selectedValueChanged"},{"name":"selection"},{"name":"selectionAdd"},{"name":"selectionInTextFieldChanged"},{"name":"selectionRemove"},{"name":"setSizeChanged"},{"name":"show"},{"name":"sortChanged"},{"name":"stateChanged"},{"name":"subtreeCreated"},{"name":"textAttributeChanged"},{"name":"textSelectionChanged"},{"name":"textChanged"},{"name":"tooltipClosed"},{"name":"tooltipOpened"},{"name":"treeChanged"},{"name":"valueInTextFieldChanged"},{"name":"valueChanged"},{"name":"windowActivated"},{"name":"windowDeactivated"},{"name":"windowVisibilityChanged"}],"type":"string","id":"automation.EventType"},{"enum":[{"name":"abbr"},{"name":"alert"},{"name":"alertDialog"},{"name":"anchor"},{"name":"application"},{"name":"article"},{"name":"audio"},{"name":"banner"},{"name":"blockquote"},{"name":"button"},{"name":"canvas"},{"name":"caption"},{"name":"caret"},{"name":"cell"},{"name":"checkBox"},{"name":"client"},{"name":"code"},{"name":"colorWell"},{"name":"column"},{"name":"columnHeader"},{"name":"comboBoxGrouping"},{"name":"comboBoxMenuButton"},{"name":"comment"},{"name":"complementary"},{"name":"contentDeletion"},{"name":"contentInsertion"},{"name":"contentInfo"},{"name":"date"},{"name":"dateTime"},{"name":"definition"},{"name":"descriptionList"},{"name":"descriptionListDetail"},{"name":"descriptionListTerm"},{"name":"desktop"},{"name":"details"},{"name":"dialog"},{"name":"directory"},{"name":"disclosureTriangle"},{"name":"docAbstract"},{"name":"docAcknowledgments"},{"name":"docAfterword"},{"name":"docAppendix"},{"name":"docBackLink"},{"name":"docBiblioEntry"},{"name":"docBibliography"},{"name":"docBiblioRef"},{"name":"docChapter"},{"name":"docColophon"},{"name":"docConclusion"},{"name":"docCover"},{"name":"docCredit"},{"name":"docCredits"},{"name":"docDedication"},{"name":"docEndnote"},{"name":"docEndnotes"},{"name":"docEpigraph"},{"name":"docEpilogue"},{"name":"docErrata"},{"name":"docExample"},{"name":"docFootnote"},{"name":"docForeword"},{"name":"docGlossary"},{"name":"docGlossRef"},{"name":"docIndex"},{"name":"docIntroduction"},{"name":"docNoteRef"},{"name":"docNotice"},{"name":"docPageBreak"},{"name":"docPageFooter"},{"name":"docPageHeader"},{"name":"docPageList"},{"name":"docPart"},{"name":"docPreface"},{"name":"docPrologue"},{"name":"docPullquote"},{"name":"docQna"},{"name":"docSubtitle"},{"name":"docTip"},{"name":"docToc"},{"name":"document"},{"name":"embeddedObject"},{"name":"emphasis"},{"name":"feed"},{"name":"figcaption"},{"name":"figure"},{"name":"footer"},{"name":"footerAsNonLandmark"},{"name":"form"},{"name":"genericContainer"},{"name":"graphicsDocument"},{"name":"graphicsObject"},{"name":"graphicsSymbol"},{"name":"grid"},{"name":"group"},{"name":"header"},{"name":"headerAsNonLandmark"},{"name":"heading"},{"name":"iframe"},{"name":"iframePresentational"},{"name":"ignored"},{"name":"image"},{"name":"imageMap"},{"name":"imeCandidate"},{"name":"inlineTextBox"},{"name":"inputTime"},{"name":"keyboard"},{"name":"labelText"},{"name":"layoutTable"},{"name":"layoutTableCell"},{"name":"layoutTableRow"},{"name":"legend"},{"name":"lineBreak"},{"name":"link"},{"name":"list"},{"name":"listBox"},{"name":"listBoxOption"},{"name":"listGrid"},{"name":"listItem"},{"name":"listMarker"},{"name":"log"},{"name":"main"},{"name":"mark"},{"name":"marquee"},{"name":"math"},{"name":"menu"},{"name":"menuBar"},{"name":"menuItem"},{"name":"menuItemCheckBox"},{"name":"menuItemRadio"},{"name":"menuListOption"},{"name":"menuListPopup"},{"name":"meter"},{"name":"navigation"},{"name":"note"},{"name":"pane"},{"name":"paragraph"},{"name":"pdfActionableHighlight"},{"name":"pdfRoot"},{"name":"pluginObject"},{"name":"popUpButton"},{"name":"portal"},{"name":"pre"},{"name":"presentational"},{"name":"progressIndicator"},{"name":"radioButton"},{"name":"radioGroup"},{"name":"region"},{"name":"rootWebArea"},{"name":"row"},{"name":"rowGroup"},{"name":"rowHeader"},{"name":"ruby"},{"name":"rubyAnnotation"},{"name":"scrollBar"},{"name":"scrollView"},{"name":"search"},{"name":"searchBox"},{"name":"section"},{"name":"slider"},{"name":"spinButton"},{"name":"splitter"},{"name":"staticText"},{"name":"status"},{"name":"strong"},{"name":"suggestion"},{"name":"svgRoot"},{"name":"switch"},{"name":"tab"},{"name":"tabList"},{"name":"tabPanel"},{"name":"table"},{"name":"tableHeaderContainer"},{"name":"term"},{"name":"textField"},{"name":"textFieldWithComboBox"},{"name":"time"},{"name":"timer"},{"name":"titleBar"},{"name":"toggleButton"},{"name":"toolbar"},{"name":"tooltip"},{"name":"tree"},{"name":"treeGrid"},{"name":"treeItem"},{"name":"unknown"},{"name":"video"},{"name":"webView"},{"name":"window"}],"type":"string","id":"automation.RoleType"},{"enum":[{"name":"autofillAvailable"},{"name":"collapsed"},{"name":"default"},{"name":"editable"},{"name":"expanded"},{"name":"focusable"},{"name":"focused"},{"name":"horizontal"},{"name":"hovered"},{"name":"ignored"},{"name":"invisible"},{"name":"linked"},{"name":"multiline"},{"name":"multiselectable"},{"name":"offscreen"},{"name":"protected"},{"name":"required"},{"name":"richlyEditable"},{"name":"vertical"},{"name":"visited"}],"type":"string","id":"automation.StateType"},{"enum":[{"name":"annotatePageImages"},{"name":"blur"},{"name":"clearAccessibilityFocus"},{"name":"collapse"},{"name":"customAction"},{"name":"decrement"},{"name":"doDefault"},{"name":"expand"},{"name":"focus"},{"name":"getImageData"},{"name":"getTextLocation"},{"name":"hideTooltip"},{"name":"hitTest"},{"name":"increment"},{"name":"internalInvalidateTree"},{"name":"loadInlineTextBoxes"},{"name":"replaceSelectedText"},{"name":"scrollBackward"},{"name":"scrollDown"},{"name":"scrollForward"},{"name":"scrollLeft"},{"name":"scrollRight"},{"name":"scrollUp"},{"name":"scrollToMakeVisible"},{"name":"scrollToPoint"},{"name":"setAccessibilityFocus"},{"name":"setScrollOffset"},{"name":"setSelection"},{"name":"setSequentialFocusNavigationStartingPoint"},{"name":"setValue"},{"name":"showContextMenu"},{"name":"signalEndOfTest"},{"name":"showTooltip"}],"type":"string","id":"automation.ActionType"},{"enum":[{"name":"nodeCreated"},{"name":"subtreeCreated"},{"name":"nodeChanged"},{"name":"textChanged"},{"name":"nodeRemoved"},{"name":"subtreeUpdateEnd"}],"type":"string","id":"automation.TreeChangeType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"attributeExplicitlyEmpty"},{"name":"caption"},{"name":"contents"},{"name":"placeholder"},{"name":"relatedElement"},{"name":"title"},{"name":"value"}],"type":"string","id":"automation.NameFromType"},{"enum":[{"name":"uninitialized"},{"name":"attribute"},{"name":"contents"},{"name":"relatedElement"},{"name":"title"}],"type":"string","id":"automation.DescriptionFromType"},{"enum":[{"name":"disabled"},{"name":"readOnly"}],"type":"string","id":"automation.Restriction"},{"enum":[{"name":"true"},{"name":"menu"},{"name":"listbox"},{"name":"tree"},{"name":"grid"},{"name":"dialog"}],"type":"string","id":"automation.HasPopup"},{"enum":[{"name":"activate"},{"name":"check"},{"name":"click"},{"name":"clickAncestor"},{"name":"jump"},{"name":"open"},{"name":"press"},{"name":"select"},{"name":"uncheck"}],"type":"string","id":"automation.DefaultActionVerb"},{"enum":[{"name":"spelling"},{"name":"grammar"},{"name":"textMatch"},{"name":"activeSuggestion"},{"name":"suggestion"}],"type":"string","id":"automation.MarkerType"},{"enum":[{"name":"clearSelection"},{"name":"delete"},{"name":"dictate"},{"name":"extendSelection"},{"name":"format"},{"name":"history"},{"name":"insert"},{"name":"marker"},{"name":"moveSelection"},{"name":"setSelection"}],"type":"string","id":"automation.IntentCommandType"},{"enum":[{"name":"insertText"},{"name":"insertLineBreak"},{"name":"insertParagraph"},{"name":"insertOrderedList"},{"name":"insertUnorderedList"},{"name":"insertHorizontalRule"},{"name":"insertFromPaste"},{"name":"insertFromDrop"},{"name":"insertFromYank"},{"name":"insertTranspose"},{"name":"insertReplacementText"},{"name":"insertCompositionText"},{"name":"deleteWordBackward"},{"name":"deleteWordForward"},{"name":"deleteSoftLineBackward"},{"name":"deleteSoftLineForward"},{"name":"deleteHardLineBackward"},{"name":"deleteHardLineForward"},{"name":"deleteContentBackward"},{"name":"deleteContentForward"},{"name":"deleteByCut"},{"name":"deleteByDrag"},{"name":"historyUndo"},{"name":"historyRedo"},{"name":"formatBold"},{"name":"formatItalic"},{"name":"formatUnderline"},{"name":"formatStrikeThrough"},{"name":"formatSuperscript"},{"name":"formatSubscript"},{"name":"formatJustifyCenter"},{"name":"formatJustifyFull"},{"name":"formatJustifyRight"},{"name":"formatJustifyLeft"},{"name":"formatIndent"},{"name":"formatOutdent"},{"name":"formatRemove"},{"name":"formatSetBlockTextDirection"}],"type":"string","id":"automation.IntentInputEventType"},{"enum":[{"name":"character"},{"name":"format"},{"name":"lineEnd"},{"name":"lineStart"},{"name":"lineStartOrEnd"},{"name":"object"},{"name":"pageEnd"},{"name":"pageStart"},{"name":"pageStartOrEnd"},{"name":"paragraphEnd"},{"name":"paragraphStart"},{"name":"paragraphStartOrEnd"},{"name":"sentenceEnd"},{"name":"sentenceStart"},{"name":"sentenceStartOrEnd"},{"name":"webPage"},{"name":"wordEnd"},{"name":"wordStart"},{"name":"wordStartOrEnd"}],"type":"string","id":"automation.IntentTextBoundaryType"},{"enum":[{"name":"backward"},{"name":"forward"}],"type":"string","id":"automation.IntentMoveDirectionType"},{"enum":[{"name":"unsorted"},{"name":"ascending"},{"name":"descending"},{"name":"other"}],"type":"string","id":"automation.SortDirectionType"},{"type":"object","id":"automation.Rect","properties":{"left":{"name":"left","type":"integer"},"top":{"name":"top","type":"integer"},"width":{"name":"width","type":"integer"},"height":{"name":"height","type":"integer"}}},{"type":"object","id":"automation.FindParams","properties":{"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"attributes":{"optional":true,"name":"attributes","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.SetDocumentSelectionParams","properties":{"anchorObject":{"name":"anchorObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"anchorOffset":{"name":"anchorOffset","type":"integer"},"focusObject":{"name":"focusObject","type":"object","additionalProperties":{"type":"any"},"isInstanceOf":"AutomationNode"},"focusOffset":{"name":"focusOffset","type":"integer"}}},{"type":"object","id":"automation.AutomationIntent","properties":{"command":{"name":"command","$ref":"automation.IntentCommandType"},"textBoundary":{"name":"textBoundary","$ref":"automation.IntentTextBoundaryType"},"moveDirection":{"name":"moveDirection","$ref":"automation.IntentMoveDirectionType"}}},{"type":"object","id":"automation.AutomationEvent","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.EventType"},"eventFrom":{"name":"eventFrom","type":"string"},"mouseX":{"name":"mouseX","type":"integer"},"mouseY":{"name":"mouseY","type":"integer"},"intents":{"name":"intents","type":"array","items":{"$ref":"automation.AutomationIntent"}},"stopPropagation":{"parameters":[],"name":"stopPropagation","type":"function"}}},{"type":"object","id":"automation.TreeChange","properties":{"target":{"name":"target","$ref":"automation.AutomationNode"},"type":{"name":"type","$ref":"automation.TreeChangeType"}}},{"enum":[{"name":"noTreeChanges"},{"name":"liveRegionTreeChanges"},{"name":"textMarkerChanges"},{"name":"allTreeChanges"}],"type":"string","id":"automation.TreeChangeObserverFilter"},{"type":"object","id":"automation.CustomAction","properties":{"id":{"name":"id","type":"integer"},"description":{"name":"description","type":"string"}}},{"type":"object","id":"automation.LanguageSpan","properties":{"startIndex":{"name":"startIndex","type":"integer"},"endIndex":{"name":"endIndex","type":"integer"},"language":{"name":"language","type":"string"},"probability":{"name":"probability","type":"number"}}},{"type":"object","id":"automation.Marker","properties":{"startOffset":{"name":"startOffset","type":"integer"},"endOffset":{"name":"endOffset","type":"integer"},"flags":{"name":"flags","type":"object","additionalProperties":{"type":"any"}}}},{"type":"object","id":"automation.AutomationPosition","properties":{"node":{"optional":true,"name":"node","$ref":"automation.AutomationNode"},"childIndex":{"name":"childIndex","type":"integer"},"textOffset":{"name":"textOffset","type":"integer"},"affinity":{"name":"affinity","type":"string"},"isNullPosition":{"parameters":[],"returns":{"type":"boolean","name":"isNullPosition"},"name":"isNullPosition","type":"function"},"isTreePosition":{"parameters":[],"returns":{"type":"boolean","name":"isTreePosition"},"name":"isTreePosition","type":"function"},"isTextPosition":{"parameters":[],"returns":{"type":"boolean","name":"isTextPosition"},"name":"isTextPosition","type":"function"},"isLeafTextPosition":{"parameters":[],"returns":{"type":"boolean","name":"isLeafTextPosition"},"name":"isLeafTextPosition","type":"function"},"atStartOfAnchor":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfAnchor"},"name":"atStartOfAnchor","type":"function"},"atEndOfAnchor":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfAnchor"},"name":"atEndOfAnchor","type":"function"},"atStartOfWord":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfWord"},"name":"atStartOfWord","type":"function"},"atEndOfWord":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfWord"},"name":"atEndOfWord","type":"function"},"atStartOfLine":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfLine"},"name":"atStartOfLine","type":"function"},"atEndOfLine":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfLine"},"name":"atEndOfLine","type":"function"},"atStartOfParagraph":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfParagraph"},"name":"atStartOfParagraph","type":"function"},"atEndOfParagraph":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfParagraph"},"name":"atEndOfParagraph","type":"function"},"atStartOfPage":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfPage"},"name":"atStartOfPage","type":"function"},"atEndOfPage":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfPage"},"name":"atEndOfPage","type":"function"},"atStartOfFormat":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfFormat"},"name":"atStartOfFormat","type":"function"},"atEndOfFormat":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfFormat"},"name":"atEndOfFormat","type":"function"},"atStartOfDocument":{"parameters":[],"returns":{"type":"boolean","name":"atStartOfDocument"},"name":"atStartOfDocument","type":"function"},"atEndOfDocument":{"parameters":[],"returns":{"type":"boolean","name":"atEndOfDocument"},"name":"atEndOfDocument","type":"function"},"asTreePosition":{"parameters":[],"name":"asTreePosition","type":"function"},"asTextPosition":{"parameters":[],"name":"asTextPosition","type":"function"},"asLeafTextPosition":{"parameters":[],"name":"asLeafTextPosition","type":"function"},"moveToPositionAtStartOfAnchor":{"parameters":[],"name":"moveToPositionAtStartOfAnchor","type":"function"},"moveToPositionAtEndOfAnchor":{"parameters":[],"name":"moveToPositionAtEndOfAnchor","type":"function"},"moveToPositionAtStartOfDocument":{"parameters":[],"name":"moveToPositionAtStartOfDocument","type":"function"},"moveToPositionAtEndOfDocument":{"parameters":[],"name":"moveToPositionAtEndOfDocument","type":"function"},"moveToParentPosition":{"parameters":[],"name":"moveToParentPosition","type":"function"},"moveToNextLeafTreePosition":{"parameters":[],"name":"moveToNextLeafTreePosition","type":"function"},"moveToPreviousLeafTreePosition":{"parameters":[],"name":"moveToPreviousLeafTreePosition","type":"function"},"moveToNextLeafTextPosition":{"parameters":[],"name":"moveToNextLeafTextPosition","type":"function"},"moveToPreviousLeafTextPosition":{"parameters":[],"name":"moveToPreviousLeafTextPosition","type":"function"},"moveToNextCharacterPosition":{"parameters":[],"name":"moveToNextCharacterPosition","type":"function"},"moveToPreviousCharacterPosition":{"parameters":[],"name":"moveToPreviousCharacterPosition","type":"function"},"moveToNextWordStartPosition":{"parameters":[],"name":"moveToNextWordStartPosition","type":"function"},"moveToPreviousWordStartPosition":{"parameters":[],"name":"moveToPreviousWordStartPosition","type":"function"},"moveToNextWordEndPosition":{"parameters":[],"name":"moveToNextWordEndPosition","type":"function"},"moveToPreviousWordEndPosition":{"parameters":[],"name":"moveToPreviousWordEndPosition","type":"function"},"moveToNextLineStartPosition":{"parameters":[],"name":"moveToNextLineStartPosition","type":"function"},"moveToPreviousLineStartPosition":{"parameters":[],"name":"moveToPreviousLineStartPosition","type":"function"},"moveToNextLineEndPosition":{"parameters":[],"name":"moveToNextLineEndPosition","type":"function"},"moveToPreviousLineEndPosition":{"parameters":[],"name":"moveToPreviousLineEndPosition","type":"function"},"moveToPreviousFormatStartPosition":{"parameters":[],"name":"moveToPreviousFormatStartPosition","type":"function"},"moveToNextFormatEndPosition":{"parameters":[],"name":"moveToNextFormatEndPosition","type":"function"},"moveToNextParagraphStartPosition":{"parameters":[],"name":"moveToNextParagraphStartPosition","type":"function"},"moveToPreviousParagraphStartPosition":{"parameters":[],"name":"moveToPreviousParagraphStartPosition","type":"function"},"moveToNextParagraphEndPosition":{"parameters":[],"name":"moveToNextParagraphEndPosition","type":"function"},"moveToPreviousParagraphEndPosition":{"parameters":[],"name":"moveToPreviousParagraphEndPosition","type":"function"},"moveToNextPageStartPosition":{"parameters":[],"name":"moveToNextPageStartPosition","type":"function"},"moveToPreviousPageStartPosition":{"parameters":[],"name":"moveToPreviousPageStartPosition","type":"function"},"moveToNextPageEndPosition":{"parameters":[],"name":"moveToNextPageEndPosition","type":"function"},"moveToPreviousPageEndPosition":{"parameters":[],"name":"moveToPreviousPageEndPosition","type":"function"},"moveToNextAnchorPosition":{"parameters":[],"name":"moveToNextAnchorPosition","type":"function"},"moveToPreviousAnchorPosition":{"parameters":[],"name":"moveToPreviousAnchorPosition","type":"function"},"maxTextOffset":{"parameters":[],"returns":{"type":"integer","name":"maxTextOffset"},"name":"maxTextOffset","type":"function"},"isInLineBreak":{"parameters":[],"returns":{"type":"boolean","name":"isInLineBreak"},"name":"isInLineBreak","type":"function"},"isInTextObject":{"parameters":[],"returns":{"type":"boolean","name":"isInTextObject"},"name":"isInTextObject","type":"function"},"isInWhiteSpace":{"parameters":[],"returns":{"type":"boolean","name":"isInWhiteSpace"},"name":"isInWhiteSpace","type":"function"},"isValid":{"parameters":[],"returns":{"type":"boolean","name":"isValid"},"name":"isValid","type":"function"},"getText":{"parameters":[],"returns":{"type":"string","name":"getText"},"name":"getText","type":"function"}}},{"type":"object","id":"automation.AutomationNode","properties":{"root":{"optional":true,"name":"root","$ref":"automation.AutomationNode"},"isRootNode":{"name":"isRootNode","type":"boolean"},"role":{"optional":true,"name":"role","$ref":"automation.RoleType"},"state":{"optional":true,"name":"state","type":"object","additionalProperties":{"type":"any"}},"location":{"optional":true,"name":"location","$ref":"automation.Rect"},"boundsForRange":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"},{"type":"function","name":"callback","parameters":[{"name":"bounds","$ref":"automation.Rect"}]}],"name":"boundsForRange","type":"function"},"unclippedBoundsForRange":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"},{"type":"function","name":"callback","parameters":[{"name":"bounds","$ref":"automation.Rect"}]}],"name":"unclippedBoundsForRange","type":"function"},"unclippedLocation":{"optional":true,"name":"unclippedLocation","$ref":"automation.Rect"},"description":{"optional":true,"name":"description","type":"string"},"checkedStateDescription":{"optional":true,"name":"checkedStateDescription","type":"string"},"placeholder":{"optional":true,"name":"placeholder","type":"string"},"roleDescription":{"optional":true,"name":"roleDescription","type":"string"},"name":{"optional":true,"name":"name","type":"string"},"tooltip":{"optional":true,"name":"tooltip","type":"string"},"nameFrom":{"optional":true,"name":"nameFrom","$ref":"automation.NameFromType"},"imageAnnotation":{"optional":true,"name":"imageAnnotation","type":"string"},"value":{"optional":true,"name":"value","type":"string"},"htmlTag":{"optional":true,"name":"htmlTag","type":"string"},"hierarchicalLevel":{"optional":true,"name":"hierarchicalLevel","type":"integer"},"wordStarts":{"optional":true,"name":"wordStarts","type":"array","items":{"type":"integer"}},"wordEnds":{"optional":true,"name":"wordEnds","type":"array","items":{"type":"integer"}},"sentenceStarts":{"optional":true,"name":"sentenceStarts","type":"array","items":{"type":"integer"}},"sentenceEnds":{"optional":true,"name":"sentenceEnds","type":"array","items":{"type":"integer"}},"nonInlineTextWordStarts":{"optional":true,"name":"nonInlineTextWordStarts","type":"array","items":{"type":"integer"}},"nonInlineTextWordEnds":{"optional":true,"name":"nonInlineTextWordEnds","type":"array","items":{"type":"integer"}},"controls":{"optional":true,"name":"controls","type":"array","items":{"$ref":"automation.AutomationNode"}},"describedBy":{"optional":true,"name":"describedBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowTo":{"optional":true,"name":"flowTo","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelledBy":{"optional":true,"name":"labelledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"activeDescendant":{"optional":true,"name":"activeDescendant","$ref":"automation.AutomationNode"},"activeDescendantFor":{"optional":true,"name":"activeDescendantFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"inPageLinkTarget":{"optional":true,"name":"inPageLinkTarget","$ref":"automation.AutomationNode"},"details":{"optional":true,"name":"details","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessage":{"optional":true,"name":"errorMessage","$ref":"automation.AutomationNode"},"detailsFor":{"optional":true,"name":"detailsFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"errorMessageFor":{"optional":true,"name":"errorMessageFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"controlledBy":{"optional":true,"name":"controlledBy","type":"array","items":{"$ref":"automation.AutomationNode"}},"descriptionFor":{"optional":true,"name":"descriptionFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"flowFrom":{"optional":true,"name":"flowFrom","type":"array","items":{"$ref":"automation.AutomationNode"}},"labelFor":{"optional":true,"name":"labelFor","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellColumnHeaders":{"optional":true,"name":"tableCellColumnHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"tableCellRowHeaders":{"optional":true,"name":"tableCellRowHeaders","type":"array","items":{"$ref":"automation.AutomationNode"}},"standardActions":{"optional":true,"name":"standardActions","type":"array","items":{"$ref":"automation.ActionType"}},"customActions":{"optional":true,"name":"customActions","type":"array","items":{"$ref":"automation.CustomAction"}},"defaultActionVerb":{"optional":true,"name":"defaultActionVerb","$ref":"automation.DefaultActionVerb"},"url":{"optional":true,"name":"url","type":"string"},"docUrl":{"optional":true,"name":"docUrl","type":"string"},"docTitle":{"optional":true,"name":"docTitle","type":"string"},"docLoaded":{"optional":true,"name":"docLoaded","type":"boolean"},"docLoadingProgress":{"optional":true,"name":"docLoadingProgress","type":"number"},"scrollX":{"optional":true,"name":"scrollX","type":"integer"},"scrollXMin":{"optional":true,"name":"scrollXMin","type":"integer"},"scrollXMax":{"optional":true,"name":"scrollXMax","type":"integer"},"scrollY":{"optional":true,"name":"scrollY","type":"integer"},"scrollYMin":{"optional":true,"name":"scrollYMin","type":"integer"},"scrollYMax":{"optional":true,"name":"scrollYMax","type":"integer"},"scrollable":{"optional":true,"name":"scrollable","type":"boolean"},"textSelStart":{"optional":true,"name":"textSelStart","type":"integer"},"textSelEnd":{"optional":true,"name":"textSelEnd","type":"integer"},"textInputType":{"optional":true,"name":"textInputType","type":"string"},"markers":{"optional":true,"name":"markers","type":"array","items":{"$ref":"automation.Marker"}},"isSelectionBackward":{"optional":true,"name":"isSelectionBackward","type":"boolean"},"anchorObject":{"optional":true,"name":"anchorObject","$ref":"automation.AutomationNode"},"anchorOffset":{"optional":true,"name":"anchorOffset","type":"integer"},"anchorAffinity":{"optional":true,"name":"anchorAffinity","type":"string"},"focusObject":{"optional":true,"name":"focusObject","$ref":"automation.AutomationNode"},"focusOffset":{"optional":true,"name":"focusOffset","type":"integer"},"focusAffinity":{"optional":true,"name":"focusAffinity","type":"string"},"selectionStartObject":{"optional":true,"name":"selectionStartObject","$ref":"automation.AutomationNode"},"selectionStartOffset":{"optional":true,"name":"selectionStartOffset","type":"integer"},"selectionStartAffinity":{"optional":true,"name":"selectionStartAffinity","type":"string"},"selectionEndObject":{"optional":true,"name":"selectionEndObject","$ref":"automation.AutomationNode"},"selectionEndOffset":{"optional":true,"name":"selectionEndOffset","type":"integer"},"selectionEndAffinity":{"optional":true,"name":"selectionEndAffinity","type":"string"},"notUserSelectableStyle":{"optional":true,"name":"notUserSelectableStyle","type":"boolean"},"valueForRange":{"optional":true,"name":"valueForRange","type":"number"},"minValueForRange":{"optional":true,"name":"minValueForRange","type":"number"},"maxValueForRange":{"optional":true,"name":"maxValueForRange","type":"number"},"posInSet":{"optional":true,"name":"posInSet","type":"integer"},"setSize":{"optional":true,"name":"setSize","type":"integer"},"tableRowCount":{"optional":true,"name":"tableRowCount","type":"integer"},"ariaRowCount":{"optional":true,"name":"ariaRowCount","type":"integer"},"tableColumnCount":{"optional":true,"name":"tableColumnCount","type":"integer"},"ariaColumnCount":{"optional":true,"name":"ariaColumnCount","type":"integer"},"tableCellColumnIndex":{"optional":true,"name":"tableCellColumnIndex","type":"integer"},"tableCellAriaColumnIndex":{"optional":true,"name":"tableCellAriaColumnIndex","type":"integer"},"tableCellColumnSpan":{"optional":true,"name":"tableCellColumnSpan","type":"integer"},"tableCellRowIndex":{"optional":true,"name":"tableCellRowIndex","type":"integer"},"tableCellAriaRowIndex":{"optional":true,"name":"tableCellAriaRowIndex","type":"integer"},"tableCellRowSpan":{"optional":true,"name":"tableCellRowSpan","type":"integer"},"tableColumnHeader":{"optional":true,"name":"tableColumnHeader","$ref":"automation.AutomationNode"},"tableRowHeader":{"optional":true,"name":"tableRowHeader","$ref":"automation.AutomationNode"},"tableColumnIndex":{"optional":true,"name":"tableColumnIndex","type":"integer"},"tableRowIndex":{"optional":true,"name":"tableRowIndex","type":"integer"},"liveStatus":{"optional":true,"name":"liveStatus","type":"string"},"liveRelevant":{"optional":true,"name":"liveRelevant","type":"string"},"liveAtomic":{"optional":true,"name":"liveAtomic","type":"boolean"},"busy":{"optional":true,"name":"busy","type":"boolean"},"containerLiveStatus":{"optional":true,"name":"containerLiveStatus","type":"string"},"containerLiveRelevant":{"optional":true,"name":"containerLiveRelevant","type":"string"},"containerLiveAtomic":{"optional":true,"name":"containerLiveAtomic","type":"boolean"},"containerLiveBusy":{"optional":true,"name":"containerLiveBusy","type":"boolean"},"autoComplete":{"optional":true,"name":"autoComplete","type":"string"},"className":{"optional":true,"name":"className","type":"string"},"modal":{"optional":true,"name":"modal","type":"boolean"},"htmlAttributes":{"optional":true,"name":"htmlAttributes","type":"object","additionalProperties":{"type":"any"}},"inputType":{"optional":true,"name":"inputType","type":"string"},"accessKey":{"optional":true,"name":"accessKey","type":"string"},"ariaInvalidValue":{"optional":true,"name":"ariaInvalidValue","type":"string"},"display":{"optional":true,"name":"display","type":"string"},"imageDataUrl":{"optional":true,"name":"imageDataUrl","type":"string"},"language":{"optional":true,"name":"language","type":"string"},"detectedLanguage":{"optional":true,"name":"detectedLanguage","type":"string"},"hasPopup":{"optional":true,"name":"hasPopup","type":"string"},"restriction":{"optional":true,"name":"restriction","type":"string"},"checked":{"optional":true,"name":"checked","type":"string"},"innerHtml":{"optional":true,"name":"innerHtml","type":"string"},"color":{"optional":true,"name":"color","type":"integer"},"backgroundColor":{"optional":true,"name":"backgroundColor","type":"integer"},"colorValue":{"optional":true,"name":"colorValue","type":"integer"},"subscript":{"name":"subscript","type":"boolean"},"superscript":{"name":"superscript","type":"boolean"},"bold":{"name":"bold","type":"boolean"},"italic":{"name":"italic","type":"boolean"},"underline":{"name":"underline","type":"boolean"},"lineThrough":{"name":"lineThrough","type":"boolean"},"selected":{"optional":true,"name":"selected","type":"boolean"},"fontSize":{"optional":true,"name":"fontSize","type":"integer"},"fontFamily":{"name":"fontFamily","type":"string"},"editableRoot":{"name":"editableRoot","type":"boolean"},"children":{"name":"children","type":"array","items":{"$ref":"automation.AutomationNode"}},"parent":{"optional":true,"name":"parent","$ref":"automation.AutomationNode"},"firstChild":{"optional":true,"name":"firstChild","$ref":"automation.AutomationNode"},"lastChild":{"optional":true,"name":"lastChild","$ref":"automation.AutomationNode"},"previousSibling":{"optional":true,"name":"previousSibling","$ref":"automation.AutomationNode"},"nextSibling":{"optional":true,"name":"nextSibling","$ref":"automation.AutomationNode"},"previousOnLine":{"optional":true,"name":"previousOnLine","$ref":"automation.AutomationNode"},"nextOnLine":{"optional":true,"name":"nextOnLine","$ref":"automation.AutomationNode"},"previousFocus":{"optional":true,"name":"previousFocus","$ref":"automation.AutomationNode"},"nextFocus":{"optional":true,"name":"nextFocus","$ref":"automation.AutomationNode"},"indexInParent":{"optional":true,"name":"indexInParent","type":"integer"},"sortDirection":{"name":"sortDirection","$ref":"automation.SortDirectionType"},"doDefault":{"parameters":[],"name":"doDefault","type":"function"},"focus":{"parameters":[],"name":"focus","type":"function"},"getImageData":{"parameters":[{"type":"integer","name":"maxWidth"},{"type":"integer","name":"maxHeight"}],"name":"getImageData","type":"function"},"hitTest":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"name":"eventToFire","$ref":"automation.EventType"}],"name":"hitTest","type":"function"},"hitTestWithReply":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"},{"type":"function","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}]}],"name":"hitTestWithReply","type":"function"},"makeVisible":{"parameters":[],"name":"makeVisible","type":"function"},"performCustomAction":{"parameters":[{"type":"integer","name":"customActionId"}],"name":"performCustomAction","type":"function"},"performStandardAction":{"parameters":[{"name":"actionType","$ref":"automation.ActionType"}],"name":"performStandardAction","type":"function"},"replaceSelectedText":{"parameters":[{"type":"string","name":"value"}],"name":"replaceSelectedText","type":"function"},"setAccessibilityFocus":{"parameters":[],"name":"setAccessibilityFocus","type":"function"},"setSelection":{"parameters":[{"type":"integer","name":"startIndex"},{"type":"integer","name":"endIndex"}],"name":"setSelection","type":"function"},"setSequentialFocusNavigationStartingPoint":{"parameters":[],"name":"setSequentialFocusNavigationStartingPoint","type":"function"},"setValue":{"parameters":[{"type":"string","name":"value"}],"name":"setValue","type":"function"},"showContextMenu":{"parameters":[],"name":"showContextMenu","type":"function"},"resumeMedia":{"parameters":[],"name":"resumeMedia","type":"function"},"startDuckingMedia":{"parameters":[],"name":"startDuckingMedia","type":"function"},"stopDuckingMedia":{"parameters":[],"name":"stopDuckingMedia","type":"function"},"suspendMedia":{"parameters":[],"name":"suspendMedia","type":"function"},"scrollBackward":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollBackward","type":"function"},"scrollForward":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollForward","type":"function"},"scrollUp":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollUp","type":"function"},"scrollDown":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollDown","type":"function"},"scrollLeft":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollLeft","type":"function"},"scrollRight":{"parameters":[{"name":"callback","parameters":[{"type":"boolean","name":"result"}],"type":"function","optional":true}],"name":"scrollRight","type":"function"},"scrollToPoint":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"}],"name":"scrollToPoint","type":"function"},"setScrollOffset":{"parameters":[{"type":"integer","name":"x"},{"type":"integer","name":"y"}],"name":"setScrollOffset","type":"function"},"addEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"type":"function","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}]},{"type":"boolean","name":"capture"}],"name":"addEventListener","type":"function"},"removeEventListener":{"parameters":[{"name":"eventType","$ref":"automation.EventType"},{"type":"function","name":"listener","parameters":[{"name":"event","$ref":"automation.AutomationEvent"}]},{"type":"boolean","name":"capture"}],"name":"removeEventListener","type":"function"},"domQuerySelector":{"parameters":[{"type":"string","name":"selector"},{"type":"function","name":"callback","parameters":[{"name":"node","$ref":"automation.AutomationNode"}]}],"name":"domQuerySelector","type":"function"},"find":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"optional":true,"name":"find","$ref":"automation.AutomationNode"},"name":"find","type":"function"},"findAll":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"items":{"$ref":"automation.AutomationNode"},"type":"array","name":"findAll"},"name":"findAll","type":"function"},"matches":{"parameters":[{"name":"params","$ref":"automation.FindParams"}],"returns":{"type":"boolean","name":"matches"},"name":"matches","type":"function"},"getNextTextMatch":{"parameters":[{"type":"string","name":"searchStr"},{"type":"boolean","name":"backward"}],"returns":{"optional":true,"name":"getNextTextMatch","$ref":"automation.AutomationNode"},"name":"getNextTextMatch","type":"function"},"languageAnnotationForStringAttribute":{"parameters":[{"type":"string","name":"attribute"}],"returns":{"items":{"$ref":"automation.LanguageSpan"},"type":"array","name":"languageAnnotationForStringAttribute"},"name":"languageAnnotationForStringAttribute","type":"function"},"createPosition":{"parameters":[{"type":"integer","name":"offset"},{"optional":true,"type":"boolean","name":"isUpstream"}],"returns":{"optional":true,"name":"createPosition","$ref":"automation.AutomationPosition"},"name":"createPosition","type":"function"}}}]}
google:suggestClgle:pathWildcardgoogle:pathWildcgle:searchClientgoogle:searchCligle:sessionTokengoogle:sessionToualSearchVersiongoogle:contextuaomniboxFocusTypegoogle:omniboxFogoogle:inputTypechSource
ui::TextInputType
TextInputType
